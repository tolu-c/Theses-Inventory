(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[1509],{75155:(D,h,t)=>{"use strict";t.d(h,{B:()=>I});var v=t(4682),i=t(98678);function f(c,g){}const d=["*"];let I=(()=>{class c extends v.F{getComponentName(){return"FullItemPageComponent"}importThemedComponent(P){return t(6296)(`./${P}/app/item-page/full/full-item-page.component`)}importUnthemedComponent(){return Promise.all([t.e(2837),t.e(9255)]).then(t.bind(t,29255))}}return c.\u0275fac=function(){let g;return function(e){return(g||(g=i.\u0275\u0275getInheritedFactory(c)))(e||c)}}(),c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["ds-themed-full-item-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(P,e){1&P&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275template(0,f,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementStart(2,"div",null,1),i.\u0275\u0275projection(4),i.\u0275\u0275elementEnd())},encapsulation:2}),c})()},22182:(D,h,t)=>{"use strict";t.r(h),t.d(h,{WorkspaceItemsDeletePageComponent:()=>x});var v=t(44423),i=t(65384),f=t(74997),d=t(10572),I=t(48358),c=t(77176),g=t(21160),P=t(46342),e=t(98678),r=t(67522),y=t(96342),_=t(35103),k=t(65706),T=t(29211);function W(p,E){if(1&p&&(e.\u0275\u0275element(0,"ds-modify-item-overview",6),e.\u0275\u0275pipe(1,"async")),2&p){const o=e.\u0275\u0275nextContext();e.\u0275\u0275property("item",e.\u0275\u0275pipeBind1(1,1,o.dso$))}}function M(p,E){if(1&p){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"h4",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",9),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(o).dismiss;return e.\u0275\u0275resetView(u("cancel"))}),e.\u0275\u0275elementStart(5,"span",10),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",11)(8,"p"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",12)(12,"button",13),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(o).close;return e.\u0275\u0275resetView(u("cancel"))}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",14),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(o).close;return e.\u0275\u0275resetView(u("ok"))}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()()}2&p&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"workspace-item.delete.header")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,6,"submission.general.discard.confirm.info")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,8,"submission.general.discard.confirm.cancel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,10,"submission.general.discard.confirm.submit")))}let x=(()=>{class p{constructor(o,a,l,u,n,m,s,C){this.activatedRoute=o,this.router=a,this.routeService=l,this.workspaceItemService=u,this.notificationsService=n,this.translationService=m,this.location=s,this.modalService=C}ngOnInit(){this.wsi$=this.activatedRoute.data.pipe((0,I.U)(o=>o.wsi),(0,d.xe)()),this.dso$=this.activatedRoute.data.pipe((0,I.U)(o=>o.dso),(0,d.xe)()),this.previousQueryParameters=this.location.getState().previousQueryParams}previousPage(){this.routeService.getPreviousUrl().pipe((0,c.q)(1)).subscribe(o=>{let a={};if(o||(o="/mydspace",a=this.previousQueryParameters),o.split("?").length>1)for(const l of o.split("?")[1].split("&"))a[l.split("=")[0]]=decodeURIComponent(l.split("=")[1]);this.router.navigate([o.split("?")[0]],{queryParams:a})})}confirmDelete(o){var a=this;return(0,v.Z)(function*(){yield a.modalService.open(o).result.then(l=>{"ok"===l&&a.sendDeleteRequest()})})()}sendDeleteRequest(){this.wsi$.pipe((0,g.w)(o=>this.workspaceItemService.delete(o.id).pipe((0,d.hC)()))).subscribe(o=>{if(o.hasSucceeded){const a=this.translationService.get("workspace-item.delete.notification.success.title"),l=this.translationService.get("workspace-item.delete.title");this.notificationsService.success(a,l),this.previousPage()}else{const a=this.translationService.get("workspace-item.delete.notification.error.title"),l=this.translationService.get("workspace-item.delete.notification.error.content");this.notificationsService.error(a,l)}})}}return p.\u0275fac=function(o){return new(o||p)(e.\u0275\u0275directiveInject(r.gz),e.\u0275\u0275directiveInject(r.F0),e.\u0275\u0275directiveInject(f.MZ),e.\u0275\u0275directiveInject(P.p),e.\u0275\u0275directiveInject(i.T),e.\u0275\u0275directiveInject(y.sK),e.\u0275\u0275directiveInject(_.Ye),e.\u0275\u0275directiveInject(k.FF))},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["ds-workspaceitems-delete-page"]],decls:14,vars:12,consts:[[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],["id","delete-modal"],["content",""],[3,"item"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","id","delete_close","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(o,a){if(1&o){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,W,2,3,"ds-modify-item-overview",1),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"button",2),e.\u0275\u0275listener("click",function(){return a.previousPage()}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",3),e.\u0275\u0275listener("click",function(n){e.\u0275\u0275restoreView(l);const m=e.\u0275\u0275reference(13);return n.preventDefault(),e.\u0275\u0275resetView(a.confirmDelete(m))}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,M,18,12,"ng-template",4,5,e.\u0275\u0275templateRefExtractor)}2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"workspace-item.delete.header")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,6,a.dso$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,8,"workspace-item.delete.button.cancel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,10,"workspace-item.delete.button.confirm")))},dependencies:[_.O5,T.E,_.Ov,y.X$],styles:["[_nghost-%COMP%]     ds-modify-item-overview table{display:inline-table!important}"]}),p})()},41509:(D,h,t)=>{"use strict";t.r(h),t.d(h,{WorkspaceitemsEditPageModule:()=>u});var v=t(35103),i=t(57999),f=t(67522),d=t(99805),I=t(97359),c=t(76457),g=t(75155),P=t(94688),e=t(46342),r=t(98678),y=t(89702);let _=(()=>{class n extends P.m{constructor(s,C){super(s,C),this.workspaceItemService=s,this.store=C}}return n.\u0275fac=function(s){return new(s||n)(r.\u0275\u0275inject(e.p),r.\u0275\u0275inject(y.yh))},n.\u0275prov=r.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var k=t(46533),T=t(10572);let W=(()=>{class n{constructor(s){this.workspaceItemService=s}resolve(s,C){return this.workspaceItemService.findById(s.params.id,!0,!1,(0,k.l)("item")).pipe((0,T.hC)())}}return n.\u0275fac=function(s){return new(s||n)(r.\u0275\u0275inject(e.p))},n.\u0275prov=r.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var M=t(22182),x=t(4682);function p(n,m){}const E=["*"];let o=(()=>{class n extends x.F{getComponentName(){return"WorkspaceItemsDeletePageComponent"}importThemedComponent(s){return t(17321)(`./${s}/app/workflowitems-edit-page/workflow-item-delete/workflow-item-delete.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,22182))}}return n.\u0275fac=function(){let m;return function(C){return(m||(m=r.\u0275\u0275getInheritedFactory(n)))(C||n)}}(),n.\u0275cmp=r.\u0275\u0275defineComponent({type:n,selectors:[["ds-themed-workspace-items-delete"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:E,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(s,C){1&s&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,p,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),n})(),a=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=r.\u0275\u0275defineInjector({providers:[W,_],imports:[f.Bz.forChild([{path:"",redirectTo:"/home",pathMatch:"full"},{path:":id",resolve:{wsi:W},children:[{canActivate:[d.J],path:"edit",component:I.I,resolve:{breadcrumb:c.t},data:{title:"submission.edit.title",breadcrumbKey:"submission.edit"}},{canActivate:[d.J],path:"view",component:g.B,resolve:{dso:_,breadcrumb:c.t},data:{title:"workspace-item.view.title",breadcrumbKey:"workspace-item.view"}},{canActivate:[d.J],path:"delete",component:M.WorkspaceItemsDeletePageComponent,resolve:{dso:_,breadcrumb:c.t},data:{title:"workspace-item.delete",breadcrumbKey:"workspace-item.delete"}},{canActivate:[d.J],path:"delete",component:o,resolve:{dso:_,breadcrumb:c.t},data:{title:"workspace-item.delete",breadcrumbKey:"workspace-item.delete"}}]}])]}),n})();var l=t(72577);let u=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=r.\u0275\u0275defineInjector({imports:[a,v.ez,i.m,l.o]}),n})()},6296:(D,h,t)=>{var v={"./custom/app/item-page/full/full-item-page.component":[61635,2837,9255,1635]};function i(f){if(!t.o(v,f))return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c});var d=v[f],I=d[0];return Promise.all(d.slice(1).map(t.e)).then(()=>t(I))}i.keys=()=>Object.keys(v),i.id=6296,D.exports=i}}]);