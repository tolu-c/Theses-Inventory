"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[22],{60022:(B,p,n)=>{n.r(p),n.d(p,{ComcolPageBrowseByComponent:()=>E});var m=n(48358),d=n(25584),_=n(42620),u=n(10572),g=n(1081),e=n(98678),l=n(67522),c=n(35103),r=n(5476),C=n(96342);function O(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("routerLink",t.routerLink)("queryParams",t.params),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,3,t.label))}}function h(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",9),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngValue",t.id),e.\u0275\u0275attribute("selected",e.\u0275\u0275pipeBind1(1,3,o.currentOptionId$)===t.id?"selected":null),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,t.label))}}let E=(()=>{class i{constructor(t,o,s){this.route=t,this.router=o,this.browseService=s}ngOnInit(){this.browseService.getBrowseDefinitions().pipe((0,u.hC)()).subscribe(t=>{t.hasSucceeded&&(this.allOptions=t.payload.page.map(o=>({id:o.id,label:`browse.comcol.by.${o.id}`,routerLink:`/browse/${o.id}`,params:{scope:this.id}})),"collection"===this.contentType?this.allOptions=[{id:this.id,label:"collection.page.browse.recent.head",routerLink:(0,_.MI)(this.id)},...this.allOptions]:"community"===this.contentType&&(this.allOptions=[{id:this.id,label:"community.all-lists.head",routerLink:(0,d.Ke)(this.id)},...this.allOptions]))}),this.currentOptionId$=this.route.params.pipe((0,m.U)(t=>t.id))}onSelectChange(t){const o=this.allOptions.find(s=>s.id===t);this.router.navigate([o.routerLink],{queryParams:o.params})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(l.gz),e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(g.I))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},decls:11,vars:8,consts:[[1,"comcol-browse-label","h5"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],[1,"list-group","list-group-horizontal"],["class","list-group-item","routerLinkActive","active",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item",3,"routerLink","queryParams"],[3,"ngValue"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nav",1)(4,"div",2)(5,"div",3),e.\u0275\u0275template(6,O,3,5,"a",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"select",6),e.\u0275\u0275listener("ngModelChange",function(y){return o.onSelectChange(y)}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,h,4,7,"option",7),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,"browse.comcol.head")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",o.allOptions),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",e.\u0275\u0275pipeBind1(9,6,o.currentOptionId$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.allOptions))},dependencies:[c.sg,r.YN,r.Kr,r.EJ,r.JJ,r.On,l.rH,l.Od,c.Ov,C.X$]}),i})()}}]);