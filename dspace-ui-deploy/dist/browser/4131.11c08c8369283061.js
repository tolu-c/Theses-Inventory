"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[4131],{80647:(K,T,r)=>{r.d(T,{Gr:()=>C,Js:()=>u,M0:()=>e,N:()=>M,Pu:()=>O,X$:()=>y,dI:()=>f,kJ:()=>g});const e="withdraw",O="reinstate",y="private",f="public",g="delete",C="move",M="authorizations",u="register-doi"},60740:(K,T,r)=>{r.d(T,{v:()=>S});var e=r(35841),O=r(48358),y=r(77176),f=r(35071),g=r(65384),C=r(8842),M=r(80647),u=r(10572),d=r(98678),E=r(67522),i=r(96342),_=r(40077);let S=(()=>{class R{constructor(l,m,s,t,D,U){this.dsoNameService=l,this.notificationsService=m,this.resourcePolicyService=s,this.route=t,this.router=D,this.translate=U,this.processing$=new e.X(!1)}ngOnInit(){this.route.data.pipe((0,O.U)(l=>l),(0,y.q)(1)).subscribe(l=>{this.targetResourceUUID=l.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(l.resourcePolicyTarget.payload)})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${M.N}`],{relativeTo:this.route})}createResourcePolicy(l){let m;this.processing$.next(!0),m="eperson"===l.target.type?this.resourcePolicyService.create(l.object,this.targetResourceUUID,l.target.uuid):this.resourcePolicyService.create(l.object,this.targetResourceUUID,null,l.target.uuid),m.pipe((0,u.hC)()).subscribe(s=>{this.processing$.next(!1),s.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))})}}return R.\u0275fac=function(l){return new(l||R)(d.\u0275\u0275directiveInject(C._),d.\u0275\u0275directiveInject(g.T),d.\u0275\u0275directiveInject(f.I),d.\u0275\u0275directiveInject(E.gz),d.\u0275\u0275directiveInject(E.F0),d.\u0275\u0275directiveInject(i.sK))},R.\u0275cmp=d.\u0275\u0275defineComponent({type:R,selectors:[["ds-resource-policy-create"]],decls:5,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:function(l,m){1&l&&(d.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"ds-resource-policy-form",2),d.\u0275\u0275listener("reset",function(){return m.redirectToAuthorizationsPage()})("submit",function(t){return m.createResourcePolicy(t)}),d.\u0275\u0275elementEnd()()),2&l&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate2("",d.\u0275\u0275pipeBind1(3,3,"resource-policies.create.page.heading")," ",m.targetResourceName,""),d.\u0275\u0275advance(2),d.\u0275\u0275property("isProcessing",m.isProcessing()))},dependencies:[_.Z,i.X$],encapsulation:2}),R})()},50269:(K,T,r)=>{r.d(T,{x:()=>B});var e=r(35841),O=r(9237),y=r(53426),f=r(48358),g=r(77176),C=r(35071),M=r(65384),u=r(87622),d=r(80647),E=r(10572),i=r(98678),_=r(67522),S=r(96342),R=r(40077);let B=(()=>{class l{constructor(s,t,D,U,A){this.notificationsService=s,this.resourcePolicyService=t,this.route=D,this.router=U,this.translate=A,this.processing$=new e.X(!1)}ngOnInit(){this.route.data.pipe((0,f.U)(s=>s),(0,g.q)(1)).subscribe(s=>{this.resourcePolicy=s.resourcePolicy.payload})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${d.N}`],{relativeTo:this.route})}updateResourcePolicy(s){this.processing$.next(!0);const t=Object.assign({},s.object,{id:this.resourcePolicy.id,type:u.A.value,_links:this.resourcePolicy._links}),D=s.updateTarget?this.resourcePolicyService.updateTarget(this.resourcePolicy.id,this.resourcePolicy._links.self.href,s.target.uuid,s.target.type).pipe((0,E.hC)(),(0,f.U)(A=>A&&A.hasSucceeded)):(0,O.of)(!0),U=this.resourcePolicyService.update(t).pipe((0,E.hC)(),(0,f.U)(A=>A&&A.hasSucceeded));(0,y.a)([D,U]).subscribe(([A,F])=>{this.processing$.next(!1),A&&F?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get(F?"resource-policies.edit.page.target-failure.content":A?"resource-policies.edit.page.other-failure.content":"resource-policies.edit.page.failure.content"))})}}return l.\u0275fac=function(s){return new(s||l)(i.\u0275\u0275directiveInject(M.T),i.\u0275\u0275directiveInject(C.I),i.\u0275\u0275directiveInject(_.gz),i.\u0275\u0275directiveInject(_.F0),i.\u0275\u0275directiveInject(S.sK))},l.\u0275cmp=i.\u0275\u0275defineComponent({type:l,selectors:[["ds-resource-policy-edit"]],decls:5,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:function(s,t){1&s&&(i.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"ds-resource-policy-form",2),i.\u0275\u0275listener("reset",function(){return t.redirectToAuthorizationsPage()})("submit",function(U){return t.updateResourcePolicy(U)}),i.\u0275\u0275elementEnd()()),2&s&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate2("",i.\u0275\u0275pipeBind1(3,4,"resource-policies.edit.page.heading")," ",t.resourcePolicy.id,""),i.\u0275\u0275advance(2),i.\u0275\u0275property("resourcePolicy",t.resourcePolicy)("isProcessing",t.isProcessing()))},dependencies:[R.Z,S.X$],encapsulation:2}),l})()},11986:(K,T,r)=>{r.d(T,{Y:()=>B});var e=r(98678),O=r(45608),y=r(710),f=r(48358),g=r(10572),C=r(8842),M=r(66421),u=r(30303),d=r(67522),E=r(35103),i=r(5476),_=r(96342);const S=["ds-resource-policy-entry",""];function R(l,m){if(1&l){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const D=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(D.redirectToGroupEditPage())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",9),e.\u0275\u0275elementEnd()}2&l&&e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,1,"resource-policies.table.headers.edit.group"))}let B=(()=>{class l{constructor(s,t,D,U){this.dsoNameService=s,this.groupService=t,this.route=D,this.router=U,this.toggleCheckbox=new e.EventEmitter}ngOnInit(){this.epersonName$=this.getName$(this.entry.policy.eperson),this.groupName$=this.getName$(this.entry.policy.group)}getName$(s){return s.pipe((0,g.g1)(),(0,f.U)(t=>{if((0,O.Uh)(t?.payload))return this.dsoNameService.getName(t.payload)}))}formatDate(s){return(0,O.UE)(s)?(0,y.UW)((0,y.bj)(s)):""}redirectToResourcePolicyEditPage(){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:this.entry.policy.id}})}redirectToGroupEditPage(){this.groupService.findByHref(this.entry.policy._links.group.href,!1).pipe((0,g.Gp)(),(0,f.U)(s=>s.id)).subscribe(s=>{this.router.navigate([(0,M.EV)(s)])})}}return l.\u0275fac=function(s){return new(s||l)(e.\u0275\u0275directiveInject(C._),e.\u0275\u0275directiveInject(u.O),e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(d.F0))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["tr","ds-resource-policy-entry",""]],inputs:{entry:"entry"},outputs:{toggleCheckbox:"toggleCheckbox"},attrs:S,decls:29,vars:21,consts:[[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label",3,"for"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:function(s,t){1&s&&(e.\u0275\u0275elementStart(0,"td",0)(1,"div",1)(2,"input",2),e.\u0275\u0275listener("ngModelChange",function(U){return t.toggleCheckbox.emit(U)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"label",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"th",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"td",0)(23,"div",5)(24,"button",6),e.\u0275\u0275listener("click",function(){return t.redirectToResourcePolicyEditPage()}),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275element(26,"i",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,R,3,3,"button",8),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("id",t.entry.id)("ngModel",t.entry.checked),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.entry.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.entry.id,"\n"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.entry.policy.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.entry.policy.policyType),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.entry.policy.action),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,13,t.epersonName$),"\n"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,15,t.groupName$),"\n"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.entry.policy.startDate)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.formatDate(t.entry.policy.endDate)),e.\u0275\u0275advance(3),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(25,17,"resource-policies.table.headers.edit.policy")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",void 0!==e.\u0275\u0275pipeBind1(28,19,t.groupName$)))},dependencies:[E.O5,i.Wl,i.JJ,i.On,E.Ov,_.X$],encapsulation:2}),l})()},40077:(K,T,r)=>{r.d(T,{Z:()=>re});var e=r(98678),O=r(9237),y=r(35841),f=r(53426),g=r(48358),C=r(77007),M=r(77176),u=r(5737),d=r(34969),E=r(66144),i=(()=>{return(c=i||(i={})).TYPE_SUBMISSION="TYPE_SUBMISSION",c.TYPE_WORKFLOW="TYPE_WORKFLOW",c.TYPE_INHERITED="TYPE_INHERITED",c.TYPE_CUSTOM="TYPE_CUSTOM",i;var c})(),_=(()=>{return(c=_||(_={})).READ="READ",c.WRITE="WRITE",c.DELETE="DELETE",c.ADD="ADD",c.REMOVE="REMOVE",c[c.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",c[c.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",c[c.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",c[c.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",c.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",c.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",c.ADMIN="ADMIN",c.WITHDRAWN_READ="WITHDRAWN_READ",_;var c})();const S=[{label:i.TYPE_SUBMISSION,value:i.TYPE_SUBMISSION},{label:i.TYPE_WORKFLOW,value:i.TYPE_WORKFLOW},{label:i.TYPE_INHERITED,value:i.TYPE_INHERITED},{label:i.TYPE_CUSTOM,value:i.TYPE_CUSTOM}],R=[{label:_.READ.toString(),value:_.READ},{label:_.WRITE.toString(),value:_.WRITE},{label:_.REMOVE.toString(),value:_.REMOVE},{label:_.ADMIN.toString(),value:_.ADMIN},{label:_.DELETE.toString(),value:_.DELETE},{label:_.WITHDRAWN_READ.toString(),value:_.WITHDRAWN_READ},{label:_.DEFAULT_BITSTREAM_READ.toString(),value:_.DEFAULT_BITSTREAM_READ},{label:_.DEFAULT_ITEM_READ.toString(),value:_.DEFAULT_ITEM_READ}],B={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},l={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},m={id:"policyType",label:"resource-policies.form.policy-type.label",options:S,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},s={id:"action",label:"resource-policies.form.action-type.label",options:R,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},t={id:"date",group:[]},D={element:{control:"form-row"}},U={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},A={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},F={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},V={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var Y=r(13235),H=r(8842),L=r(45608),G=r(4786),z=r(87622),j=r(710),v=r(75195),x=r(30303),a=r(10572),p=r(6952),P=r(65706),b=r(35103),N=r(82485),$=r(94520),X=r(96342);const J=["content"];function Z(c,W){if(1&c&&e.\u0275\u0275element(0,"ds-form",16,17),2&c){const o=e.\u0275\u0275nextContext();e.\u0275\u0275property("formId",o.formId)("formModel",o.formModel)("displaySubmit",!1)("displayCancel",!1)}}function Q(c,W){if(1&c){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-eperson-group-list",18),e.\u0275\u0275listener("select",function(I){e.\u0275\u0275restoreView(o);const h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.updateObjectSelected(I,!0))}),e.\u0275\u0275elementEnd()}}function w(c,W){if(1&c){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-eperson-group-list",19),e.\u0275\u0275listener("select",function(I){e.\u0275\u0275restoreView(o);const h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.updateObjectSelected(I,!1))}),e.\u0275\u0275elementEnd()}2&c&&e.\u0275\u0275property("isListOfEPerson",!1)}function q(c,W){1&c&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing")," "))}function ee(c,W){1&c&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"form.submit")," "))}function te(c,W){if(1&c){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21)(1,"h4",22),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",23),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(o).$implicit;return e.\u0275\u0275resetView(h.close())}),e.\u0275\u0275elementStart(5,"span",24),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",25)(8,"div",26)(9,"div",27),e.\u0275\u0275element(10,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div"),e.\u0275\u0275element(12,"p",29),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275element(14,"p",30),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",31)(17,"button",32),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(o).$implicit;return e.\u0275\u0275resetView(h.close())}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd()()}if(2&c){const o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"resource-policies.form.eperson-group-list.modal.header")),e.\u0275\u0275advance(10),e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(13,6,"eperson"===o.navActiveId?"resource-policies.form.eperson-group-list.modal.text1.toGroup":"resource-policies.form.eperson-group-list.modal.text1.toEPerson"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(15,8,"resource-policies.form.eperson-group-list.modal.text2"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,10,"resource-policies.form.eperson-group-list.modal.close"))}}let re=(()=>{class c{constructor(o,n,I,h,k,oe){this.dsoNameService=o,this.ePersonService=n,this.formService=I,this.groupService=h,this.requestService=k,this.modalService=oe,this.isProcessing=(0,O.of)(!1),this.reset=new e.EventEmitter,this.submit=new e.EventEmitter,this.resourcePolicyTargetName$=new y.X(""),this.subs=[],this.resourcePolicyTargetUpdated=!1}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),this.isBeingEdited()){const o=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe((0,a.xw)()),n=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe((0,a.xw)()),I=(0,f.a)([o,n]).pipe((0,g.U)(h=>h.find(k=>(0,L.UE)(k.payload))),(0,L.tz)());this.subs.push(I.pipe((0,C.h)(()=>this.isActive)).subscribe(h=>{this.resourcePolicyGrant=h.payload,this.navActiveId=String(h.payload.type),this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}))}}isFormValid(){return this.formService.isValid(this.formId).pipe((0,g.U)(o=>o&&(0,L.UE)(this.resourcePolicyGrant)))}buildResourcePolicyForm(){const o=[];o.push(new E.u(B),new Y.D(l),new u.nMt(m),new u.nMt(s));const n=new u.oqv(U,A),I=new u.oqv(F,V),h=Object.assign({},t,{group:[]});return h.group.push(n,I),o.push(new u.S_O(h,D)),this.initModelsValue(o),o}initModelsValue(o){return this.resourcePolicy&&o.forEach(n=>{"date"===n.id?((0,L.Uh)(this.resourcePolicy.startDate)&&(n.get(0).value=(0,j.bj)(this.resourcePolicy.startDate)),(0,L.Uh)(this.resourcePolicy.endDate)&&(n.get(1).value=(0,j.bj)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(n.id)&&this.resourcePolicy[n.id]&&(n.value=this.resourcePolicy[n.id])}),o}isBeingEdited(){return!(0,L.xb)(this.resourcePolicy)}getResourcePolicyTargetName(){return(0,L.UE)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(o,n){this.resourcePolicyTargetUpdated=!0,this.resourcePolicyGrant=o,this.resourcePolicyGrantType=n?"eperson":"group",this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe((0,M.q)(1)).subscribe(o=>{const n=Object.create({});n.object=this.createResourcePolicyByFormData(o),n.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},n.updateTarget=this.resourcePolicyTargetUpdated,this.submit.emit(n)})}createResourcePolicyByFormData(o){const n=new d.A;return n.name=o.name?o.name[0].value:null,n.description=o.description?o.description[0].value:null,n.policyType=o.policyType?o.policyType[0].value:null,n.action=o.action?o.action[0].value:null,n.startDate=o.date&&o.date.start?(0,j.iV)(o.date.start[0].value):null,n.endDate=o.date&&o.date.end?(0,j.iV)(o.date.end[0].value):null,n.type=z.A,n}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter(o=>(0,L.Uh)(o)).forEach(o=>o.unsubscribe())}onNavChange(o){this.isBeingEdited()&&(o.preventDefault(),this.modalService.open(this.content))}}return c.\u0275fac=function(o){return new(o||c)(e.\u0275\u0275directiveInject(H._),e.\u0275\u0275directiveInject(v.k),e.\u0275\u0275directiveInject(G.o),e.\u0275\u0275directiveInject(x.O),e.\u0275\u0275directiveInject(p.s),e.\u0275\u0275directiveInject(P.FF))},c.\u0275cmp=e.\u0275\u0275defineComponent({type:c,selectors:[["ds-resource-policy-form"]],viewQuery:function(o,n){if(1&o&&e.\u0275\u0275viewQuery(J,5),2&o){let I;e.\u0275\u0275queryRefresh(I=e.\u0275\u0275loadQuery())&&(n.content=I.first)}},inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:38,vars:34,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text",1,"form-control","mb-3",3,"value"],["ngbNav","",1,"nav-pills",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["content",""],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-row"],[1,"mr-3"],[1,"fas","fa-info-circle","fa-2x","text-info"],[1,"font-weight-bold",3,"innerHTML"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Z,2,4,"ds-form",0),e.\u0275\u0275elementStart(2,"div",1)(3,"label",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"input",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementStart(8,"ul",4,5),e.\u0275\u0275listener("activeIdChange",function(h){return n.navActiveId=h})("navChange",function(h){return n.onNavChange(h)}),e.\u0275\u0275elementStart(10,"li",6)(11,"a",7),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,Q,1,0,"ng-template",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"li",6)(16,"a",7),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,w,1,1,"ng-template",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(20,"div",9),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275element(22,"hr"),e.\u0275\u0275elementStart(23,"div",10)(24,"div",11)(25,"button",12),e.\u0275\u0275listener("click",function(){return n.onReset()}),e.\u0275\u0275pipe(26,"async"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"button",13),e.\u0275\u0275listener("click",function(){return n.onSubmit()}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275template(32,q,4,3,"span",14),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275template(34,ee,3,3,"span",14),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(36,te,20,12,"ng-template",null,15,e.\u0275\u0275templateRefExtractor)),2&o){const I=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.formModel),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,14,"resource-policies.form.eperson-group-list.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(7,16,n.resourcePolicyTargetName$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("activeId",n.navActiveId),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbNavItem","eperson"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,18,"resource-policies.form.eperson-group-list.tab.eperson")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngbNavItem","group"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,20,"resource-policies.form.eperson-group-list.tab.group")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngbNavOutlet",I),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(26,22,n.isProcessing)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,24,"form.cancel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!e.\u0275\u0275pipeBind1(30,26,n.isFormValid())||e.\u0275\u0275pipeBind1(31,28,n.isProcessing)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(33,30,n.isProcessing)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(35,32,n.isProcessing))}},dependencies:[P.uN,P.Pz,P.nv,P.Vx,P.tO,b.O5,N.U,$.W,b.Ov,X.X$],encapsulation:2}),c})()},84535:(K,T,r)=>{r.d(T,{a:()=>M});var e=r(98678),O=r(26523),y=r(45608),f=r(10572),g=r(1411),C=r(67522);let M=(()=>{class u{constructor(E,i){this.parentInjector=E,this.router=i}resolve(E,i){const _=E.queryParamMap.get("targetType"),S=E.queryParamMap.get("policyTargetId");((0,y.xb)(_)||(0,y.xb)(S))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const R=(0,g.p)(new O._(_));return this.dataService=e.Injector.create({providers:[],parent:this.parentInjector}).get(R),this.dataService.findById(S).pipe((0,f.hC)())}}return u.\u0275fac=function(E){return new(E||u)(e.\u0275\u0275inject(e.Injector),e.\u0275\u0275inject(C.F0))},u.\u0275prov=e.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})()},37161:(K,T,r)=>{r.d(T,{b:()=>M});var e=r(45608),O=r(35071),y=r(46533),f=r(10572),g=r(98678),C=r(67522);let M=(()=>{class u{constructor(E,i){this.resourcePolicyService=E,this.router=i}resolve(E,i){const _=E.queryParamMap.get("policyId");return(0,e.xb)(_)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(_,!0,!1,(0,y.l)("eperson"),(0,y.l)("group")).pipe((0,f.hC)())}}return u.\u0275fac=function(E){return new(E||u)(g.\u0275\u0275inject(O.I),g.\u0275\u0275inject(C.F0))},u.\u0275prov=g.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})()},53482:(K,T,r)=>{r.d(T,{F:()=>j});var e=r(35841),O=r(14111),y=r(77007),f=r(32543),g=r(48358),C=r(49887),M=r(27193),u=r(46897),d=r(77176),E=r(10572),i=r(35071),_=r(8842),S=r(30303),R=r(45608),B=r(75195),l=r(6952),m=r(65384),s=r(46533),t=r(98678),D=r(67522),U=r(96342),A=r(35103),F=r(11986);function V(v,x){if(1&v&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&v){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" (",a.resourceUUID,") ")}}function Y(v,x){1&v&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",11),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&v&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing")," "))}function H(v,x){1&v&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",12),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&v&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"resource-policies.delete.btn")," "))}function L(v,x){if(1&v){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",13)(1,"th")(2,"div",14)(3,"input",15),t.\u0275\u0275listener("change",function(P){t.\u0275\u0275restoreView(a);const b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.selectAllCheckbox(P))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"label",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"th"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"th"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"th"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"th"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"th"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"th"),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"th"),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"th"),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"th"),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd()()}if(2&v){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("id","selectAll_"+a.resourceUUID),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","selectAll_"+a.resourceUUID),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,11,"resource-policies.table.headers.id")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,13,"resource-policies.table.headers.name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,15,"resource-policies.table.headers.policyType")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,17,"resource-policies.table.headers.action")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(19,19,"resource-policies.table.headers.eperson")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,21,"resource-policies.table.headers.group")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(25,23,"resource-policies.table.headers.date.start")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,25,"resource-policies.table.headers.date.end")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,27,"resource-policies.table.headers.edit"))}}function G(v,x){if(1&v){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",18),t.\u0275\u0275listener("toggleCheckbox",function(P){const N=t.\u0275\u0275restoreView(a).$implicit,$=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView($.selectCheckbox(N,P))}),t.\u0275\u0275elementEnd()}2&v&&t.\u0275\u0275property("entry",x.$implicit)}function z(v,x){if(1&v&&(t.\u0275\u0275elementStart(0,"tbody"),t.\u0275\u0275template(1,G,1,1,"tr",17),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&v){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,1,a.getResourcePolicies()))}}let j=(()=>{class v{constructor(a,p,P,b,N,$,X,J,Z,Q){this.cdr=a,this.dsoNameService=p,this.ePersonService=P,this.groupService=b,this.notificationsService=N,this.requestService=$,this.resourcePolicyService=X,this.route=J,this.router=Z,this.translate=Q,this.processingDelete$=new e.X(!1),this.resourcePoliciesEntries$=new e.X([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyList()}canDelete(){return(0,O.D)(this.resourcePoliciesEntries$.value).pipe((0,y.h)(a=>a.checked),(0,f.u)((a,p)=>[...a,p],[]),(0,g.U)(a=>(0,R.UE)(a)),(0,C.x)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const a=this.resourcePoliciesEntries$.value.filter(p=>p.checked);this.subs.push((0,O.D)(a).pipe((0,M.b)(p=>this.resourcePolicyService.delete(p.policy.id)),(0,u.R)((p,P)=>[...p,P],[]),(0,y.h)(p=>p.length===a.length),(0,d.q)(1)).subscribe(p=>{const P=p.filter(b=>!b);(0,R.xb)(P)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.processingDelete$.next(!1)}))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}initResourcePolicyList(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,(0,s.l)("eperson"),(0,s.l)("group")).pipe((0,y.h)(()=>this.isActive),(0,E.g1)()).subscribe(a=>{const p=a.payload.page.map(P=>({id:P.id,policy:P,checked:!1}));this.resourcePoliciesEntries$.next(p),this.cdr.detectChanges()}))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}selectAllCheckbox(a){const p=a.target.checked;this.resourcePoliciesEntries$.value.forEach(P=>P.checked=p)}selectCheckbox(a,p){a.checked=p}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter(a=>(0,R.Uh)(a)).forEach(a=>a.unsubscribe())}}return v.\u0275fac=function(a){return new(a||v)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(_._),t.\u0275\u0275directiveInject(B.k),t.\u0275\u0275directiveInject(S.O),t.\u0275\u0275directiveInject(m.T),t.\u0275\u0275directiveInject(l.s),t.\u0275\u0275directiveInject(i.I),t.\u0275\u0275directiveInject(D.gz),t.\u0275\u0275directiveInject(D.F0),t.\u0275\u0275directiveInject(U.sK))},v.\u0275cmp=t.\u0275\u0275defineComponent({type:v,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType",resourceName:"resourceName"},decls:31,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"text-info"],[4,"ngIf"],[1,"space-children-mr","flex-shrink-0"],[1,"btn","btn-danger","p-1",3,"disabled","title","click"],[1,"btn","btn-success","p-1",3,"disabled","title","click"],[1,"fas","fa-plus"],["class","text-center",4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox",4,"ngFor","ngForOf"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox"]],template:function(a,p){if(1&a&&(t.\u0275\u0275elementStart(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"span"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementStart(9,"span",4),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,V,2,1,"ng-container",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",6)(13,"button",7),t.\u0275\u0275listener("click",function(){return p.deleteSelectedResourcePolicies()}),t.\u0275\u0275pipe(14,"async"),t.\u0275\u0275pipe(15,"async"),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275template(17,Y,4,3,"span",5),t.\u0275\u0275pipe(18,"async"),t.\u0275\u0275template(19,H,4,3,"span",5),t.\u0275\u0275pipe(20,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"button",8),t.\u0275\u0275listener("click",function(){return p.redirectToResourcePolicyCreatePage()}),t.\u0275\u0275pipe(22,"async"),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275element(24,"i",9),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(27,L,32,29,"tr",10),t.\u0275\u0275pipe(28,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,z,3,3,"tbody",5),t.\u0275\u0275pipe(30,"async"),t.\u0275\u0275elementEnd()()),2&a){let P,b;t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,12,"resource-policies.table.headers.title.for."+p.resourceType)," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",p.resourceName," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","item"!=p.resourceType),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!t.\u0275\u0275pipeBind1(14,14,p.canDelete())||t.\u0275\u0275pipeBind1(15,16,p.isProcessingDelete()))("title",t.\u0275\u0275pipeBind1(16,18,"resource-policies.delete.btn.title")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(18,20,p.isProcessingDelete())),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(20,22,p.isProcessingDelete())),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",t.\u0275\u0275pipeBind1(22,24,p.isProcessingDelete()))("title",t.\u0275\u0275pipeBind1(23,26,"resource-policies.add.for."+p.resourceType)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(26,28,"resource-policies.add.button")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==(P=t.\u0275\u0275pipeBind1(28,30,p.getResourcePolicies()))?null:P.length)>0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==(b=t.\u0275\u0275pipeBind1(30,32,p.getResourcePolicies()))?null:b.length)>0)}},dependencies:[A.sg,A.O5,F.Y,A.Ov,U.X$],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}"]}),v})()},54131:(K,T,r)=>{r.d(T,{q:()=>l});var e=r(35103),O=r(96342),M=(r(53482),r(40077),r(50269),r(60740),r(50867)),u=r(37161),d=r(84535),E=r(65706),i=r(57999),S=(r(11986),r(98678));const B=[u.b,d.a];let l=(()=>{class m{}return m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=S.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=S.\u0275\u0275defineInjector({providers:[...B],imports:[E.IJ,e.ez,M.e,O.aw,i.m]}),m})()}}]);