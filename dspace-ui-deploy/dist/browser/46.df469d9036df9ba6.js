"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[46,8517],{8517:(I,c,a)=>{a.r(c),a.d(c,{SearchResultsComponent:()=>T});var e=a(98678),u=a(58106),i=a(45608),h=a(35103),d=a(67522),_=a(64719),p=a(87657),g=a(12955),m=a(13812),C=a(96342);function f(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"h2"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.configuration?t.configuration+".search.results.head":"search.results.head"))}}function v(s,o){if(1&s&&e.\u0275\u0275element(0,"ds-search-export-csv",4),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("searchConfig",t.searchConfig)}}function E(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"ds-viewable-collection",5),e.\u0275\u0275listener("contentChange",function(r){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.contentChange.emit(r))})("deselectObject",function(r){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.deselectObject.emit(r))})("selectObject",function(r){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selectObject.emit(r))}),e.\u0275\u0275elementEnd()()}if(2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("@fadeIn",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("config",t.searchConfig.pagination)("sortConfig",t.searchConfig.sort)("objects",t.searchResults)("hideGear",!0)("selectable",t.selectable)("selectionConfig",t.selectionConfig)("linkType",t.linkType)("context",t.context)("hidePaginationDetail",t.hidePaginationDetail)("showThumbnails",t.showThumbnails)}}function R(s,o){1&s&&(e.\u0275\u0275element(0,"ds-themed-loading",6),e.\u0275\u0275pipe(1,"translate")),2&s&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.search-results"))}function x(s,o){if(1&s&&(e.\u0275\u0275element(0,"ds-error",6),e.\u0275\u0275pipe(1,"translate")),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,t.errorMessageLabel()))}}const O=function(){return["/search"]},y=function(s){return{query:s}};function b(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"a",7),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,4,"search.results.no-results")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(8,O))("queryParams",e.\u0275\u0275pureFunction1(9,y,t.surroundStringWithQuotes(null==t.searchConfig?null:t.searchConfig.query))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"search.results.no-results-link")," ")}}let T=(()=>{class s{constructor(){this.hasNoValue=i.xI,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new e.EventEmitter,this.deselectObject=new e.EventEmitter,this.selectObject=new e.EventEmitter}isLoading(){return!this.showError()&&((0,i.xI)(this.searchResults)||(0,i.xI)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(t){let n=t;return(0,i.UE)(n)&&!(n.startsWith('"')&&n.endsWith('"'))&&(n=`"${n}"`),n}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},decls:7,vars:6,consts:[[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"message",4,"ngIf"],[3,"searchConfig"],[3,"config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails","contentChange","deselectObject","selectObject"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,f,3,3,"h2",1),e.\u0275\u0275template(2,v,1,1,"ds-search-export-csv",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,E,2,11,"div",1),e.\u0275\u0275template(4,R,2,3,"ds-themed-loading",3),e.\u0275\u0275template(5,x,2,3,"ds-error",3),e.\u0275\u0275template(6,b,6,11,"div",1)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.disableHeader),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showCsvExport),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.searchResults&&(null==n.searchResults?null:n.searchResults.hasSucceeded)&&!(null!=n.searchResults&&n.searchResults.isLoading)&&(null==n.searchResults||null==n.searchResults.payload?null:n.searchResults.payload.page.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoading()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showError()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==(null==n.searchResults||null==n.searchResults.payload?null:n.searchResults.payload.page.length)||400==(null==n.searchResults?null:n.searchResults.statusCode)))},dependencies:[h.O5,d.rH,_.q,p.Z,g.c,m.T,C.X$],encapsulation:2,data:{animation:[u.Ji,u.Ic]}}),s})()}}]);