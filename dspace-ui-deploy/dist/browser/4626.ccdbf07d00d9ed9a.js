(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[4626],{73195:(H,x,o)=>{"use strict";o.d(x,{J:()=>D});var r=o(98678),O=o(65706),b=o(19829),S=o(96342);let D=(()=>{class e{constructor(m){this.activeModal=m}selectObject(m){this.activeModal.close(m.collection)}close(){this.activeModal.close()}}return e.\u0275fac=function(m){return new(m||e)(r.\u0275\u0275directiveInject(O.Kz))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["ds-collection-selector"]],decls:9,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"selectionChange"]],template:function(m,p){1&m&&(r.\u0275\u0275elementStart(0,"div")(1,"div",0),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"button",1),r.\u0275\u0275listener("click",function(){return p.close()}),r.\u0275\u0275elementStart(5,"span",2),r.\u0275\u0275text(6,"\xd7"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(7,"div",3)(8,"ds-themed-collection-dropdown",4),r.\u0275\u0275listener("selectionChange",function(L){return p.selectObject(L)}),r.\u0275\u0275elementEnd()()()),2&m&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,1,"dso-selector.create.submission.head")," "))},dependencies:[b.t,S.X$]}),e})()},82844:(H,x,o)=>{"use strict";o.d(x,{g:()=>h});var r=o(9237),O=o(69637),b=o(48358),S=o(77176),D=o(86435),e=o(45608),s=o(98678),m=o(67522),p=o(35103),M=o(65706),L=o(61062),B=o(7027),A=o(96342);function F(d,_){if(1&d){const c=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",2)(1,"button",3),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(c);const v=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(v.openPage(v.singleEntity))}),s.\u0275\u0275pipe(2,"async"),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275element(4,"i",4),s.\u0275\u0275elementEnd()()}if(2&d){const c=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("title",s.\u0275\u0275pipeBind1(3,4,"mydspace.new-submission-external")),s.\u0275\u0275property("disabled",!s.\u0275\u0275pipeBind1(2,2,c.initialized$))}}function j(d,_){if(1&d){const c=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",5)(1,"button",6),s.\u0275\u0275pipe(2,"async"),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275pipe(4,"dsBrowserOnly"),s.\u0275\u0275pipe(5,"translate"),s.\u0275\u0275element(6,"i",4)(7,"span",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",8)(9,"ds-entity-dropdown",9),s.\u0275\u0275listener("selectionChange",function(v){s.\u0275\u0275restoreView(c);const E=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(E.openPage(v))}),s.\u0275\u0275elementEnd()()()}if(2&d){const c=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("title",s.\u0275\u0275pipeBind1(5,11,"mydspace.new-submission-external")),s.\u0275\u0275property("disabled",!s.\u0275\u0275pipeBind1(2,5,c.initialized$)),s.\u0275\u0275attribute("aria-label",s.\u0275\u0275pipeBind1(3,7,"mydspace.new-submission-external"))("data-test",s.\u0275\u0275pipeBind1(4,9,"import-dropdown")),s.\u0275\u0275advance(8),s.\u0275\u0275property("isSubmission",!1)}}let h=(()=>{class d{constructor(c,f){this.entityTypeService=c,this.router=f,this.subs=[]}ngOnInit(){this.initialized$=(0,r.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,O.z)(c=>c?(this.initialized$=(0,r.of)(!0),(0,r.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,b.U)(v=>(this.initialized$=(0,r.of)(!0),v.payload.page[0])),(0,S.q)(1))),(0,S.q)(1)),this.subs.push(this.singleEntity$.subscribe(c=>this.singleEntity=c))}openPage(c){const f=Object.create({});c&&(f.entity=c.label),this.router.navigate(["/import-external"],{queryParams:f})}ngOnDestroy(){this.subs.filter(c=>(0,e.Uh)(c)).forEach(c=>c.unsubscribe())}}return d.\u0275fac=function(c){return new(c||d)(s.\u0275\u0275directiveInject(D.k),s.\u0275\u0275directiveInject(m.F0))},d.\u0275cmp=s.\u0275\u0275defineComponent({type:d,selectors:[["ds-my-dspace-new-external-dropdown"]],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"disabled","title","click"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"disabled","title"],[1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu"],[3,"isSubmission","selectionChange"]],template:function(c,f){1&c&&(s.\u0275\u0275template(0,F,5,6,"div",0),s.\u0275\u0275pipe(1,"async"),s.\u0275\u0275template(2,j,10,13,"div",1),s.\u0275\u0275pipe(3,"async")),2&c&&(s.\u0275\u0275property("ngIf",!s.\u0275\u0275pipeBind1(1,2,f.moreThanOne$)),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",s.\u0275\u0275pipeBind1(3,4,f.moreThanOne$)))},dependencies:[p.O5,M.jt,M.iD,M.Vi,L.c,p.Ov,B.g,A.X$],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]}),d})()},13070:(H,x,o)=>{"use strict";o.d(x,{J:()=>h});var r=o(9237),O=o(69637),b=o(48358),S=o(77176),D=o(86435),e=o(45608),s=o(2055),m=o(98678),p=o(65706),M=o(35103),L=o(61062),B=o(7027),A=o(96342);function F(d,_){if(1&d){const c=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",2)(1,"button",3),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(c);const v=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(v.openDialog(v.singleEntity))}),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275element(3,"i",4),m.\u0275\u0275elementEnd()()}if(2&d){const c=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("disabled",!m.\u0275\u0275pipeBind1(2,1,c.initialized$))}}function j(d,_){if(1&d){const c=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",5)(1,"button",6),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275pipe(4,"dsBrowserOnly"),m.\u0275\u0275pipe(5,"translate"),m.\u0275\u0275element(6,"i",4)(7,"span",7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"div",8)(9,"ds-entity-dropdown",9),m.\u0275\u0275listener("selectionChange",function(v){m.\u0275\u0275restoreView(c);const E=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(E.openDialog(v))}),m.\u0275\u0275elementEnd()()()}if(2&d){const c=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("title",m.\u0275\u0275pipeBind1(5,11,"mydspace.new-submission")),m.\u0275\u0275property("disabled",!m.\u0275\u0275pipeBind1(2,5,c.initialized$)),m.\u0275\u0275attribute("aria-label",m.\u0275\u0275pipeBind1(3,7,"mydspace.new-submission"))("data-test",m.\u0275\u0275pipeBind1(4,9,"submission-dropdown")),m.\u0275\u0275advance(8),m.\u0275\u0275property("isSubmission",!0)}}let h=(()=>{class d{constructor(c,f){this.entityTypeService=c,this.modalService=f,this.subs=[]}ngOnInit(){this.initialized$=(0,r.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,O.z)(c=>c?(this.initialized$=(0,r.of)(!0),(0,r.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,b.U)(v=>(this.initialized$=(0,r.of)(!0),v.payload.page[0])),(0,S.q)(1))),(0,S.q)(1)),this.subs.push(this.singleEntity$.subscribe(c=>this.singleEntity=c))}openDialog(c){this.modalService.open(s.CreateItemParentSelectorComponent).componentInstance.entityType=c.label}ngOnDestroy(){this.subs.filter(c=>(0,e.Uh)(c)).forEach(c=>c.unsubscribe())}}return d.\u0275fac=function(c){return new(c||d)(m.\u0275\u0275directiveInject(D.k),m.\u0275\u0275directiveInject(p.FF))},d.\u0275cmp=m.\u0275\u0275defineComponent({type:d,selectors:[["ds-my-dspace-new-submission-dropdown"]],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"disabled","title"],[1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu"],[3,"isSubmission","selectionChange"]],template:function(c,f){1&c&&(m.\u0275\u0275template(0,F,4,3,"div",0),m.\u0275\u0275pipe(1,"async"),m.\u0275\u0275template(2,j,10,13,"div",1),m.\u0275\u0275pipe(3,"async")),2&c&&(m.\u0275\u0275property("ngIf",!m.\u0275\u0275pipeBind1(1,2,f.moreThanOne$)),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(3,4,f.moreThanOne$)))},dependencies:[M.O5,p.jt,p.iD,p.Vi,L.c,M.Ov,B.g,A.X$],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]}),d})()},90754:(H,x,o)=>{"use strict";o.d(x,{Z:()=>d});var r=o(98678),O=o(76215),b=o(38123),S=o(65384),D=o(22170),e=o(18005),s=o(45608),m=o(73195),p=o(17026),M=o(96342),L=o(65706),B=o(67522),A=o(35103),F=o(13070),j=o(82844);function h(_,c){if(1&_){const f=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ds-uploader",4),r.\u0275\u0275listener("onCompleteItem",function(E){r.\u0275\u0275restoreView(f);const y=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(y.onCompleteItem(E))})("onUploadError",function(E){r.\u0275\u0275restoreView(f);const y=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(y.onUploadError(E))})("onFileSelected",function(E){r.\u0275\u0275restoreView(f);const y=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(y.afterFileLoaded(E))}),r.\u0275\u0275elementEnd()}if(2&_){const f=r.\u0275\u0275nextContext();r.\u0275\u0275property("uploadFilesOptions",f.uploadFilesOptions)}}let d=(()=>{class _{constructor(f,v,E,y,V,K,ee){this.authService=f,this.changeDetectorRef=v,this.halService=E,this.notificationsService=y,this.translate=V,this.modalService=K,this.router=ee,this.uploadEnd=new r.EventEmitter,this.uploadFilesOptions=new D.n}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,O.P)()).subscribe(f=>{this.uploadFilesOptions.url=f,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(f){if(f&&f._embedded&&f._embedded.workspaceitems&&f._embedded.workspaceitems.length>0){const v=f._embedded.workspaceitems;this.uploadEnd.emit(v),1===v.length?this.router.navigateByUrl("/workspaceitems/"+v[0].id+"/edit"):v.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:v.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(f){let v="mydspace.upload.upload-failed";(0,s.Uh)(f.status)&&422===f.status&&(v="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(v))}afterFileLoaded(f){const v=this.uploaderComponent.uploader;(0,s.Uh)(f)&&f.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),v.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(m.J).result.then(y=>{v.onBuildItemForm=(V,K)=>{K.append("owningCollection",y.uuid)},v.uploadAll()})}ngOnDestroy(){(0,s.Uh)(this.sub)&&this.sub.unsubscribe()}}return _.\u0275fac=function(f){return new(f||_)(r.\u0275\u0275directiveInject(b.e8),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(e.q),r.\u0275\u0275directiveInject(S.T),r.\u0275\u0275directiveInject(M.sK),r.\u0275\u0275directiveInject(L.FF),r.\u0275\u0275directiveInject(B.F0))},_.\u0275cmp=r.\u0275\u0275defineComponent({type:_,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(f,v){if(1&f&&r.\u0275\u0275viewQuery(p.B,5),2&f){let E;r.\u0275\u0275queryRefresh(E=r.\u0275\u0275loadQuery())&&(v.uploaderComponent=E.first)}},outputs:{uploadEnd:"uploadEnd"},decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected"]],template:function(f,v){1&f&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1),r.\u0275\u0275template(2,h,1,1,"ds-uploader",2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",3),r.\u0275\u0275element(4,"ds-my-dspace-new-submission-dropdown"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",3),r.\u0275\u0275element(6,"ds-my-dspace-new-external-dropdown"),r.\u0275\u0275elementEnd()()),2&f&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",""!==v.uploadFilesOptions.url))},dependencies:[A.O5,p.B,F.J,j.g],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]}),_})()},34626:(H,x,o)=>{"use strict";o.r(x),o.d(x,{MyDSpacePageModule:()=>ri});var r=o(35103),O=o(57999),b=o(67522),S=o(70116),D=o(4682),e=o(98678);function s(n,i){}const m=["*"];let p=(()=>{class n extends D.F{getComponentName(){return"MyDSpacePageComponent"}importThemedComponent(t){return o(37841)(`./${t}/app/my-dspace-page/my-dspace-page.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,55963))}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(n)))(a||n)}}(),n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-themed-my-dspace-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(t,a){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,s,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",null,1),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd())},encapsulation:2}),n})();var M=o(76457);let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[b.Bz.forChild([{path:"",component:p,resolve:{breadcrumb:M.t},data:{title:"mydspace.title",breadcrumbKey:"mydspace"},canActivate:[S.o]}])]}),n})();var B=o(55963),A=o(90754),F=o(73262),h=(o(73195),o(70655)),d=o(30658),_=o(41529),c=o(23539),f=o(72327),v=o(56765),E=o(54599),y=o(8842),V=o(16441),K=o(122),ee=o(48358),R=o(10572),w=o(64455),g=o(46533),C=o(97462),z=o(87657),qe=o(35534),yt=o(35794),wt=o(38123),It=o(80978),X=o(35841),je=o(21160),Et=o(31638),be=o(94428),W=o(65384),$=o(6952),U=o(57066),Tt=o(71213),xt=o(65521);var N=o(65706),T=o(96342);const et=function(n){return[n]};function Ot(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"a",6),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",7),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("id","edit_"+t.object.id),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,5,"submission.workflow.generic.edit-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(11,et,"/workspaceitems/"+t.object.id+"/edit")),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(2,7,"submission.workflow.generic.edit-help")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,"submission.workflow.generic.edit")," ")}}function Dt(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Mt(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.generic.delete"),""))}function kt(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275listener("click",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(),I=e.\u0275\u0275reference(12);return l.preventDefault(),e.\u0275\u0275resetView(u.confirmDiscard(I))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275template(3,Dt,4,3,"span",9),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Mt,4,3,"span",9),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("id","delete_"+t.object.id),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,5,"submission.workflow.generic.delete-help")),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(2,7,"submission.workflow.generic.delete-help")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,9,t.processingDelete$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,11,t.processingDelete$))}}function Pt(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"h4",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",14),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).dismiss;return e.\u0275\u0275resetView(u("cancel"))}),e.\u0275\u0275elementStart(5,"span",15),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",16)(8,"p"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",17)(12,"button",18),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).close;return e.\u0275\u0275resetView(u("cancel"))}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",19),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).close;return e.\u0275\u0275resetView(u("ok"))}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"submission.general.discard.confirm.title")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,6,"submission.general.discard.confirm.info")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,8,"submission.general.discard.confirm.cancel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,10,"submission.general.discard.confirm.submit")))}let Oe=(()=>{class n extends be.i{constructor(t,a,l,u,I,k,J,li,ci){super(Et.K.type,t,a,u,I,k,J),this.injector=t,this.router=a,this.modalService=l,this.notificationsService=u,this.translate=I,this.searchService=k,this.requestService=J,this.authService=li,this.authorizationService=ci,this.processingDelete$=new X.X(!1)}confirmDiscard(t){this.modalService.open(t).result.then(a=>{"ok"===a&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,R.hC)()).subscribe(l=>{this.processingDelete$.next(!1),this.handleActionResponse(l.hasSucceeded)}))})}ngOnInit(){const t=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=t.pipe((0,je.w)(a=>this.object?.item.pipe((0,R.hC)(),(0,R.xe)(),(0,je.w)(l=>this.authorizationService.isAuthorized(It.i.CanEditItem,l?._links?.self.href,a.uuid)))))}initObjects(t){this.object=t}getWorkspaceItemViewRoute(t){return function St(n){return new xt.R((0,Tt.Yn)(),n,"view").toString()}(t?.id)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(N.FF),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s),e.\u0275\u0275directiveInject(wt.e8),e.\u0275\u0275directiveInject(yt._))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:18,consts:[[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["content",""],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"id","ngbTooltip","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","id","delete_close","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275element(4,"i",2),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Ot,6,13,"a",3),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,kt,7,13,"button",4),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Pt,18,12,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(2,6,"submission.workspace.generic.view-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(16,et,a.getWorkspaceItemViewRoute(a.object))),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,8,"submission.workspace.generic.view-help")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,10,"submission.workspace.generic.view")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,12,a.canEditItem$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,14,a.canEditItem$)))},dependencies:[r.O5,N._L,b.rH,r.Ov,T.X$]}),n})();var te;function Lt(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-listable-object-component-loader",2),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("viewMode",t.ViewModes.ListElement)("object",e.\u0275\u0275pipeBind1(2,6,t.derivedSearchResult$))("linkType",t.LinkTypes.None)("context",t.badgeContext),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso)}}function Rt(n,i){1&n&&e.\u0275\u0275element(0,"ds-themed-loading",6),2&n&&e.\u0275\u0275property("showMessage",!1)}let De=((te=class extends E.c{constructor(i,t,a,l){super(i,a,l),this.truncatableService=i,this.linkService=t,this.dsoNameService=a,this.appConfig=l,this.LinkTypes=w.m,this.ViewModes=_.w,this.badgeContext=C._.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,g.l)("item")),this.derivedSearchResult$=this.object.indexableObject.item.pipe((0,R.Gp)(),(0,ee.U)(i=>{const t=new K.T;return t.indexableObject=i,t.hitHighlights=this.object.hitHighlights,t}))}}).\u0275fac=function(i){return new(i||te)(e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(V.q))},te.\u0275cmp=e.\u0275\u0275defineComponent({type:te,selectors:[["ds-workspace-item-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"object","processCompleted"],[3,"showMessage"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,Lt,6,8,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Rt,1,1,"ds-themed-loading",1),e.\u0275\u0275pipe(3,"async")),2&i&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,t.derivedSearchResult$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(3,4,t.derivedSearchResult$)))},dependencies:[r.mk,r.O5,z.Z,qe.p,Oe,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]}),te);De=(0,h.__decorate)([(0,c.d$)(f.d,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[v.F,d.M,y._,Object])],De);var tt=o(7258),ye=o(65946),nt=o(73803);let we=class extends ye.l{};we=(0,h.__decorate)([(0,nt.D)(tt.q)],we);var Ie=o(27164),G=o(55624),Ee=o(69637),Te=o(27303),P=o(45608),Bt=o(54384),At=o(62460),Me=o(24943),Ft=o(13005),ve=o(41966),Ce=o(95101),it=o(55911);function Wt(n,i){}let ot=(()=>{class n{constructor(t){this.componentFactoryResolver=t,this.processCompleted=new e.EventEmitter,this.inAndOutputNames=["object","option","processCompleted"]}ngOnInit(){this.instantiateComponent()}ngOnChanges(t){(0,P.xI)(this.compRef)?this.instantiateComponent(t):this.inAndOutputNames.some(a=>(0,P.Uh)(t[a]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(t))}instantiateComponent(t){const a=this.getComponentByWorkflowTaskOption(this.option);if((0,P.Uh)(a)){const l=this.componentFactoryResolver.resolveComponentFactory(a),u=this.claimedTaskActionsDirective.viewContainerRef;u.clear(),this.compRef=u.createComponent(l),(0,P.Uh)(t)?this.ngOnChanges(t):this.connectInputsAndOutputs()}}getComponentByWorkflowTaskOption(t){return(0,Ce.fi)(t)}connectInputsAndOutputs(){(0,P.UE)(this.inAndOutputNames)&&(0,P.Uh)(this.compRef)&&(0,P.Uh)(this.compRef.instance)&&this.inAndOutputNames.filter(t=>void 0!==this[t]).forEach(t=>{this.compRef.instance[t]=this[t]})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.ComponentFactoryResolver))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-claimed-task-actions-loader"]],viewQuery:function(t,a){if(1&t&&e.\u0275\u0275viewQuery(it.c,7),2&t){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(a.claimedTaskActionsDirective=l.first)}},inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:0,consts:[["dsClaimedTaskActions",""]],template:function(t,a){1&t&&e.\u0275\u0275template(0,Wt,0,0,"ng-template",0)},dependencies:[it.c],encapsulation:2}),n})();function $t(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-claimed-task-actions-loader",5),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.processCompleted.emit(l))}),e.\u0275\u0275elementEnd()}if(2&n){const t=i.$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("item",a.item)("option",t)("object",a.object)("workflowitem",a.workflowitem)}}const Ut=function(n){return[n]};function Vt(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275template(2,$t,1,4,"ds-claimed-task-actions-loader",2),e.\u0275\u0275elementStart(3,"button",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275element(5,"i",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngVar,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",null==t?null:t.options),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(4,4,"submission.workflow.generic.view-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,Ut,a.getWorkflowItemViewRoute(a.workflowitem))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"submission.workflow.generic.view")," ")}}let ke=(()=>{class n extends be.i{constructor(t,a,l,u,I,k,J){super(tt.q.type,t,a,l,u,I,k),this.injector=t,this.router=a,this.notificationsService=l,this.translate=u,this.searchService=I,this.requestService=k,this.workflowActionService=J}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(t){this.object=t}initAction(t){this.actionRD$=t.action}getWorkflowItemViewRoute(t){return(0,Me.A6)(t?.id)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s),e.\u0275\u0275directiveInject(At.Q))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"item","option","object","workflowitem","processCompleted"]],template:function(t,a){if(1&t&&(e.\u0275\u0275template(0,Vt,8,10,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t){let l;e.\u0275\u0275property("ngVar",null==(l=e.\u0275\u0275pipeBind1(1,1,a.actionRD$))?null:l.payload)}},dependencies:[r.sg,N._L,b.rH,ve.g,ot,r.Ov,T.X$],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]}),n})();function Kt(n,i){}const Nt=["*"];let Z=(()=>{class n extends D.F{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(t){return o(49335)(`./${t}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,33172))}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(n)))(a||n)}}(),n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-themed-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Nt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(t,a){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,Kt,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",null,1),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd())},encapsulation:2}),n})();var ne;function Ht(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-themed-item-list-preview",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"ds-claimed-task-actions",4),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.object)("showSubmitter",t.showSubmitter)("badgeContext",t.badgeContext)("workflowItem",t.workflowitem$.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",t.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.dso)("workflowitem",t.workflowitem$.value)}}let Pe=((ne=class extends E.c{constructor(i,t,a,l,u){super(t,a,u),this.linkService=i,this.truncatableService=t,this.dsoNameService=a,this.objectCache=l,this.appConfig=u,this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceValidation,this.item$=new X.X(null),this.workflowitem$=new X.X(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{},(0,g.l)("item",{},(0,g.l)("bundles")),(0,g.l)("submitter")),(0,g.l)("action")),this.dso.workflowitem.pipe((0,R.hC)(),(0,Ee.z)(i=>i.hasSucceeded?(this.workflowitem$.next(i.payload),i.payload.item.pipe((0,R.hC)())):Ie.E),(0,Te.b)(i=>{(0,P.UE)(i)&&i.hasSucceeded&&this.item$.next(i.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}ngOnDestroy(){(0,P.Uh)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}}).\u0275fac=function(i){return new(i||ne)(e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(G.a),e.\u0275\u0275directiveInject(V.q))},ne.\u0275cmp=e.\u0275\u0275defineComponent({type:ne,selectors:[["ds-claimed-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[1,"row"],[3,"ngClass"],[3,"item","object","workflowitem","processCompleted"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,Ht,5,9,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.workflowitem$)&&e.\u0275\u0275pipeBind1(2,3,t.item$))},dependencies:[r.mk,r.O5,ke,Z,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),ne);Pe=(0,h.__decorate)([(0,c.d$)(we,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[d.M,v.F,y._,G.a,Object])],Pe);var st=o(7306);let xe=class extends ye.l{};xe=(0,h.__decorate)([(0,nt.D)(st.d)],xe);var Le=o(77176),zt=o(98226),Xt=o(11471);function Qt(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Jt(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",5),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.pool.claim"),""))}const Gt=function(n){return[n]};let Re=(()=>{class n extends Xt.z{constructor(t,a,l,u,I,k,J){super(st.d.type,t,a,l,I,k,J),this.injector=t,this.router=a,this.notificationsService=l,this.claimedTaskService=u,this.translate=I,this.searchService=k,this.requestService=J,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,Le.q)(1)).subscribe())}initObjects(t){this.object=t}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,je.w)(t=>this.claimedTaskService.claimTask(this.object.id,t)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,Le.q)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}getWorkflowItemViewRoute(t){return(0,Me.A6)(t?.id)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(zt.p),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"ngbTooltip","disabled","click"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ml-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return a.claim()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Qt,4,3,"span",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Jt,4,3,"span",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",2),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275element(9,"i",3),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,7,"submission.workflow.tasks.pool.claim_help")),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(2,9,a.processing$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,11,a.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,13,a.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(8,15,"submission.workflow.generic.view-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(19,Gt,a.getWorkflowItemViewRoute(a.workflowitem))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[r.O5,N._L,b.rH,r.Ov,T.X$]}),n})();var ie;function Zt(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-themed-item-list-preview",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"ds-pool-task-actions",4),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.object)("showSubmitter",t.showSubmitter)("badgeContext",t.badgeContext)("workflowItem",t.workflowitem$.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",t.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.dso)("workflowitem",t.workflowitem$.value)}}let Be=((ie=class extends E.c{constructor(i,t,a,l,u){super(t,a,u),this.linkService=i,this.truncatableService=t,this.dsoNameService=a,this.objectCache=l,this.appConfig=u,this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceWaitingController,this.item$=new X.X(null),this.workflowitem$=new X.X(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{},(0,g.l)("item",{},(0,g.l)("bundles")),(0,g.l)("submitter")),(0,g.l)("action")),this.dso.workflowitem.pipe((0,R.hC)(),(0,Ee.z)(i=>i.hasSucceeded?(this.workflowitem$.next(i.payload),i.payload.item.pipe((0,R.hC)())):Ie.E),(0,Te.b)(i=>{(0,P.UE)(i)&&i.hasSucceeded&&this.item$.next(i.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}ngOnDestroy(){(0,P.Uh)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}}).\u0275fac=function(i){return new(i||ie)(e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(G.a),e.\u0275\u0275directiveInject(V.q))},ie.\u0275cmp=e.\u0275\u0275defineComponent({type:ie,selectors:[["ds-pool-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[1,"row"],[3,"ngClass"],["id","actions",3,"item","object","workflowitem","processCompleted"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,Zt,5,9,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.workflowitem$)&&e.\u0275\u0275pipeBind1(2,3,t.item$))},dependencies:[r.mk,r.O5,Re,Z,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),ie);Be=(0,h.__decorate)([(0,c.d$)(xe,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[d.M,v.F,y._,G.a,Object])],Be);var ge=o(26615),Yt=o(15463);const qt=function(n){return[n]};let Ae=(()=>{class n extends be.i{constructor(t,a,l,u,I,k){super(Ft.c.type,t,a,l,u,I,k),this.injector=t,this.router=a,this.notificationsService=l,this.translate=u,this.searchService=I,this.requestService=k}ngOnInit(){this.initPageRoute()}initObjects(t){this.object=t,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,Yt.Tt)(this.object)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-item-actions"]],inputs:{object:"object"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"submission.workflow.generic.view-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(7,qt,a.itemPageRoute)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[N._L,b.rH,T.X$]}),n})();var en=o(76215),tn=o(39034),nn=o(58106),on=o(1507),sn=o(18005),an=o(18639),rn=o(88948),at=o(52153),ln=o(33994),rt=o(55178),cn=o(71432);function pn(n,i){if(1&n&&e.\u0275\u0275element(0,"span",4),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("innerHTML",t.separator,e.\u0275\u0275sanitizeHtml)}}function mn(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275template(2,pn,1,1,"span",3),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit,a=i.last;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a)}}function dn(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,mn,3,2,"span",2),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.allMetadataValues(t.metadata))}}function un(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span",5),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,t.placeholder))}}let lt=(()=>{class n{allMetadataValues(t){return cn.S.allValues([this.object.hitHighlights,this.item.metadata],t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"ds-metadata-field-wrapper",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275template(2,dn,2,1,"ng-container",1),e.\u0275\u0275template(3,un,4,3,"ng-container",1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(1,3,a.label)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.item.hasMetadata(a.metadata)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.item.hasMetadata(a.metadata)))},dependencies:[r.sg,r.O5,at.n,T.X$],encapsulation:2}),n})();var _n=o(69721);function hn(n,i){if(1&n&&e.\u0275\u0275element(0,"span",19),2&n){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275propertyInterpolate("innerHTML",t.separator,e.\u0275\u0275sanitizeHtml)}}function fn(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).$implicit,I=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(I.downloadBitstreamFile(null==u?null:u.uuid))}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"dsFileSize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,hn,1,1,"span",18),e.\u0275\u0275elementEnd()}if(2&n){const t=i.$implicit,a=i.last,l=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(l.dsoNameService.getName(t)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("(",e.\u0275\u0275pipeBind1(5,3,null==t?null:t.sizeBytes),")"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a)}}function vn(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275template(1,fn,7,5,"button",16),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t)}}function Cn(n,i){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"mydspace.results.no-files")))}function gn(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ds-metadata-field-wrapper",13),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275template(3,vn,2,1,"div",14),e.\u0275\u0275template(4,Cn,4,3,"ng-container",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,3,"item.page.files")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t?null:t.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t?null:t.length))}}const bn=function(){return["dc.contributor","dc.creator","dc.contributor.*"]};function yn(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"ds-themed-item-page-title-field",5),e.\u0275\u0275elementStart(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.\u0275\u0275element(5,"ds-themed-thumbnail",9),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,gn,5,5,"ng-container",10),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275element(9,"ds-item-detail-preview-field",11),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275element(12,"ds-item-detail-preview-field",11),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",12),e.\u0275\u0275element(16,"ds-item-detail-preview-field",11),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275element(19,"ds-item-detail-preview-field",11),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementStart(22,"div"),e.\u0275\u0275projection(23),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item),e.\u0275\u0275advance(3),e.\u0275\u0275property("hideIfNoTextContent",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("thumbnail",e.\u0275\u0275pipeBind1(6,28,null==t.item?null:t.item.thumbnail)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(8,30,t.getFiles())),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",t.item)("object",t.object)("label",e.\u0275\u0275pipeBind1(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",t.separator)("placeholder",e.\u0275\u0275pipeBind1(11,34,"mydspace.results.no-date")),e.\u0275\u0275advance(3),e.\u0275\u0275property("item",t.item)("object",t.object)("label",e.\u0275\u0275pipeBind1(13,36,"item.page.author"))("metadata",e.\u0275\u0275pureFunction0(48,bn))("separator",t.separator)("placeholder",e.\u0275\u0275pipeBind1(14,38,"mydspace.results.no-authors")),e.\u0275\u0275advance(4),e.\u0275\u0275property("item",t.item)("object",t.object)("label",e.\u0275\u0275pipeBind1(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",t.separator)("placeholder",e.\u0275\u0275pipeBind1(18,42,"mydspace.results.no-abstract")),e.\u0275\u0275advance(3),e.\u0275\u0275property("item",t.item)("object",t.object)("label",e.\u0275\u0275pipeBind1(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",t.separator)("placeholder",e.\u0275\u0275pipeBind1(21,46,"mydspace.results.no-uri"))}}function wn(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275element(1,"ds-themed-badges",3),e.\u0275\u0275template(2,yn,24,49,"div",4),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("@fadeInOut",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.item)("context",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.item)}}function In(n,i){if(1&n&&e.\u0275\u0275element(0,"ds-item-submitter",21),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("object",t.object.indexableObject)}}const En=["*"];let oe=(()=>{class n{constructor(t,a,l,u){this.fileService=t,this.halService=a,this.bitstreamDataService=l,this.dsoNameService=u,this.showSubmitter=!1,this.separator=", "}downloadBitstreamFile(t){this.halService.getEndpoint("bitstreams").pipe((0,en.P)()).subscribe(a=>{this.fileService.retrieveFileDownloadLink(`${a}/${t}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,R.LQ)())}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(on.I),e.\u0275\u0275directiveInject(sn.q),e.\u0275\u0275directiveInject(tn.J),e.\u0275\u0275directiveInject(y._))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},ngContentSelectors:En,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[4,"ngVar"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(t,a){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,wn,3,4,"div",0),e.\u0275\u0275template(1,In,1,1,"ds-item-submitter",1)),2&t&&(e.\u0275\u0275property("ngIf",a.item),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.showSubmitter))},dependencies:[r.sg,r.O5,an.z,rn.k,at.n,ln.i,ve.g,rt.n,lt,r.Ov,_n.p,T.X$],data:{animation:[nn.Ic]}}),n})();var Y;let Fe=((Y=class extends ge.H{constructor(){super(...arguments),this.badgeContext=C._.MyDSpaceArchived}}).\u0275fac=function(){let n;return function(t){return(n||(n=e.\u0275\u0275getInheritedFactory(Y)))(t||Y)}}(),Y.\u0275cmp=e.\u0275\u0275defineComponent({type:Y,selectors:[["ds-item-search-result-detail-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(i,t){1&i&&e.\u0275\u0275element(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&i&&(e.\u0275\u0275property("item",t.dso)("object",t.object)("badgeContext",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso))},dependencies:[Ae,oe],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),Y);Fe=(0,h.__decorate)([(0,c.d$)(K.T,_.w.DetailedListElement,C._.Workspace),(0,c.d$)(K.T,_.w.DetailedListElement,C._.Workflow)],Fe);var se,ct=o(66154);let We=((se=class extends ge.H{constructor(i,t){super(i),this.dsoNameService=i,this.linkService=t,this.badgeContext=C._.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,g.l)("item")),this.initItem(this.dso.item)}initItem(i){i.pipe((0,ct.s)(t=>t.hasSucceeded&&(0,P.pT)(t.payload))).subscribe(t=>{this.item=t.payload})}}).\u0275fac=function(i){return new(i||se)(e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(d.M))},se.\u0275cmp=e.\u0275\u0275defineComponent({type:se,selectors:[["ds-workspace-item-search-result-detail-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(i,t){1&i&&e.\u0275\u0275element(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&i&&(e.\u0275\u0275property("item",t.item)("object",t.object)("badgeContext",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso))},dependencies:[Oe,oe],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),se);We=(0,h.__decorate)([(0,c.d$)(f.d,_.w.DetailedListElement),(0,h.__metadata)("design:paramtypes",[y._,d.M])],We);var pt=o(91033);const Tn=function(n){return[n]};let $e=(()=>{class n extends be.i{constructor(t,a,l,u,I,k){super(Bt.p.type,t,a,l,u,I,k),this.injector=t,this.router=a,this.notificationsService=l,this.translate=u,this.searchService=I,this.requestService=k}getWorkflowItemViewRoute(t){return(0,Me.A6)(t?.id)}initObjects(t){this.object=t}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"submission.workspace.generic.view-help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(7,Tn,a.getWorkflowItemViewRoute(a.object))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[N._L,b.rH,T.X$]}),n})();var ae;let Ue=((ae=class extends ge.H{constructor(i,t){super(i),this.dsoNameService=i,this.linkService=t,this.badgeContext=C._.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,g.l)("item")),this.initItem(this.dso.item)}initItem(i){i.pipe((0,ct.s)(t=>t.hasSucceeded&&(0,P.pT)(t.payload))).subscribe(t=>{this.item=t.payload})}}).\u0275fac=function(i){return new(i||ae)(e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(d.M))},ae.\u0275cmp=e.\u0275\u0275defineComponent({type:ae,selectors:[["ds-workflow-item-search-result-detail-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(i,t){1&i&&e.\u0275\u0275element(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&i&&(e.\u0275\u0275property("item",t.item)("object",t.object)("badgeContext",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso))},dependencies:[$e,oe],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),ae);var re;function xn(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-item-detail-preview",1),e.\u0275\u0275elementStart(2,"ds-claimed-task-actions",2),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",null==t.item$?null:t.item$.value)("object",t.object)("showSubmitter",t.showSubmitter)("badgeContext",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.dso)("workflowitem",t.workflowitem$.value)}}Ue=(0,h.__decorate)([(0,c.d$)(pt.s,_.w.DetailedListElement),(0,h.__metadata)("design:paramtypes",[y._,d.M])],Ue);let Ve=((re=class extends ge.H{constructor(i,t,a){super(i),this.dsoNameService=i,this.linkService=t,this.objectCache=a,this.item$=new X.X(null),this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceValidation,this.workflowitem$=new X.X(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{},(0,g.l)("item",{},(0,g.l)("bundles")),(0,g.l)("submitter")),(0,g.l)("action")),this.dso.workflowitem.pipe((0,R.hC)(),(0,Ee.z)(i=>i.hasSucceeded?(this.workflowitem$.next(i.payload),i.payload.item.pipe((0,R.hC)())):Ie.E),(0,Te.b)(i=>{(0,P.UE)(i)&&i.hasSucceeded&&this.item$.next(i.payload)})).subscribe()}ngOnDestroy(){(0,P.Uh)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}}).\u0275fac=function(i){return new(i||re)(e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(G.a))},re.\u0275cmp=e.\u0275\u0275defineComponent({type:re,selectors:[["ds-claimed-task-search-result-detail-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"item","object","workflowitem","processCompleted"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,xn,3,7,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.workflowitem$)&&e.\u0275\u0275pipeBind1(2,3,t.item$))},dependencies:[r.O5,ke,oe,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),re);var q;Ve=(0,h.__decorate)([(0,c.d$)(we,_.w.DetailedListElement),(0,h.__metadata)("design:paramtypes",[y._,d.M,G.a])],Ve);let Ke=((q=class extends E.c{constructor(){super(...arguments),this.badgeContext=C._.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}}).\u0275fac=function(){let n;return function(t){return(n||(n=e.\u0275\u0275getInheritedFactory(q)))(t||q)}}(),q.\u0275cmp=e.\u0275\u0275defineComponent({type:q,selectors:[["ds-item-search-result-list-element-submission"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"object","processCompleted"]],template:function(i,t){1&i&&(e.\u0275\u0275element(0,"ds-themed-item-list-preview",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.\u0275\u0275listener("processCompleted",function(l){return t.reloadedObject.emit(l.reloadedObject)}),e.\u0275\u0275elementEnd()()()),2&i&&(e.\u0275\u0275property("item",t.dso)("object",t.object)("badgeContext",t.badgeContext),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",t.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso))},dependencies:[r.mk,Ae,Z],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),q);var le;function Sn(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-listable-object-component-loader",2),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("viewMode",t.ViewModes.ListElement)("object",e.\u0275\u0275pipeBind1(2,6,t.derivedSearchResult$))("linkType",t.LinkTypes.None)("context",t.badgeContext),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",t.dso)}}function jn(n,i){1&n&&e.\u0275\u0275element(0,"ds-themed-loading",6),2&n&&e.\u0275\u0275property("showMessage",!1)}Ke=(0,h.__decorate)([(0,c.d$)(K.T,_.w.ListElement,C._.Workspace),(0,c.d$)(K.T,_.w.ListElement,C._.Workflow)],Ke);let Ne=((le=class extends E.c{constructor(i,t,a,l){super(i,a,l),this.truncatableService=i,this.linkService=t,this.dsoNameService=a,this.appConfig=l,this.LinkTypes=w.m,this.ViewModes=_.w,this.badgeContext=C._.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,g.l)("item")),this.derivedSearchResult$=this.object.indexableObject.item.pipe((0,R.Gp)(),(0,ee.U)(i=>{const t=new K.T;return t.indexableObject=i,t.hitHighlights=this.object.hitHighlights,t}))}}).\u0275fac=function(i){return new(i||le)(e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(V.q))},le.\u0275cmp=e.\u0275\u0275defineComponent({type:le,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"object","processCompleted"],[3,"showMessage"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,Sn,6,8,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,jn,1,1,"ds-themed-loading",1),e.\u0275\u0275pipe(3,"async")),2&i&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,t.derivedSearchResult$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(3,4,t.derivedSearchResult$)))},dependencies:[r.mk,r.O5,z.Z,qe.p,$e,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),le);var ce;function On(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-item-detail-preview",1),e.\u0275\u0275elementStart(2,"ds-pool-task-actions",2),e.\u0275\u0275listener("processCompleted",function(l){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.reloadedObject.emit(l.reloadedObject))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",null==t.item$?null:t.item$.value)("object",t.object)("showSubmitter",t.showSubmitter)("badgeContext",t.badgeContext),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",t.item$.value)("object",t.dso)("workflowitem",t.workflowitem$.value)}}Ne=(0,h.__decorate)([(0,c.d$)(pt.s,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[v.F,d.M,y._,Object])],Ne);let He=((ce=class extends ge.H{constructor(i,t,a){super(i),this.dsoNameService=i,this.linkService=t,this.objectCache=a,this.item$=new X.X(null),this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceWaitingController,this.workflowitem$=new X.X(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{},(0,g.l)("item",{},(0,g.l)("bundles")),(0,g.l)("submitter")),(0,g.l)("action")),this.dso.workflowitem.pipe((0,R.hC)(),(0,Ee.z)(i=>i.hasSucceeded?(this.workflowitem$.next(i.payload),i.payload.item.pipe((0,R.hC)())):Ie.E),(0,Te.b)(i=>{(0,P.UE)(i)&&i.hasSucceeded&&this.item$.next(i.payload)})).subscribe()}ngOnDestroy(){(0,P.Uh)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}}).\u0275fac=function(i){return new(i||ce)(e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(G.a))},ce.\u0275cmp=e.\u0275\u0275defineComponent({type:ce,selectors:[["ds-pool-search-result-detail-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"item","object","workflowitem","processCompleted"]],template:function(i,t){1&i&&(e.\u0275\u0275template(0,On,3,7,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.workflowitem$)&&e.\u0275\u0275pipeBind1(2,3,t.item$))},dependencies:[r.O5,Re,oe,r.Ov],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),ce);He=(0,h.__decorate)([(0,c.d$)(xe,_.w.DetailedListElement),(0,h.__metadata)("design:paramtypes",[y._,d.M,G.a])],He);class mt extends ye.l{}var pe;function Dn(n,i){if(1&n&&(e.\u0275\u0275element(0,"ds-themed-item-list-preview",4),e.\u0275\u0275pipe(1,"async")),2&n){const t=e.\u0275\u0275nextContext().ngVar,a=e.\u0275\u0275nextContext();let l;e.\u0275\u0275property("item",null==(l=e.\u0275\u0275pipeBind1(1,4,null==t?null:t.item))?null:l.payload)("object",a.object)("badgeContext",a.badgeContext)("showSubmitter",a.showSubmitter)}}function Mn(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Dn,2,6,"ds-themed-item-list-preview",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngVar;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"claimed-approved-search-result-list-element.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t)}}let ze=((pe=class extends E.c{constructor(i,t,a,l){super(t,a,l),this.linkService=i,this.truncatableService=t,this.dsoNameService=a,this.appConfig=l,this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{useCachedVersionIfAvailable:!1},(0,g.l)("item"),(0,g.l)("submitter")),(0,g.l)("action")),this.workflowitemRD$=this.dso.workflowitem}}).\u0275fac=function(i){return new(i||pe)(e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(V.q))},pe.\u0275cmp=e.\u0275\u0275defineComponent({type:pe,selectors:[["ds-claimed-approved-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(i,t){if(1&i&&(e.\u0275\u0275template(0,Mn,6,4,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){let a;e.\u0275\u0275property("ngVar",null==(a=e.\u0275\u0275pipeBind1(1,1,t.workflowitemRD$))?null:a.payload)}},dependencies:[r.O5,ve.g,Z,r.Ov,T.X$],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),pe);ze=(0,h.__decorate)([(0,c.d$)(mt,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[d.M,v.F,y._,Object])],ze);class dt extends ye.l{}var me;function kn(n,i){if(1&n&&(e.\u0275\u0275element(0,"ds-themed-item-list-preview",4),e.\u0275\u0275pipe(1,"async")),2&n){const t=e.\u0275\u0275nextContext().ngVar,a=e.\u0275\u0275nextContext();let l;e.\u0275\u0275property("item",null==(l=e.\u0275\u0275pipeBind1(1,4,null==t?null:t.item))?null:l.payload)("object",a.object)("badgeContext",a.badgeContext)("showSubmitter",a.showSubmitter)}}function Pn(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,kn,2,6,"ds-themed-item-list-preview",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngVar;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"claimed-declined-search-result-list-element.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t)}}let Xe=((me=class extends E.c{constructor(i,t,a,l){super(t,a,l),this.linkService=i,this.truncatableService=t,this.dsoNameService=a,this.appConfig=l,this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{useCachedVersionIfAvailable:!1},(0,g.l)("item"),(0,g.l)("submitter")),(0,g.l)("action")),this.workflowitemRD$=this.dso.workflowitem}}).\u0275fac=function(i){return new(i||me)(e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(V.q))},me.\u0275cmp=e.\u0275\u0275defineComponent({type:me,selectors:[["ds-claimed-declined-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(i,t){if(1&i&&(e.\u0275\u0275template(0,Pn,6,4,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){let a;e.\u0275\u0275property("ngVar",null==(a=e.\u0275\u0275pipeBind1(1,1,t.workflowitemRD$))?null:a.payload)}},dependencies:[r.O5,ve.g,Z,r.Ov,T.X$],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),me);Xe=(0,h.__decorate)([(0,c.d$)(dt,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[d.M,v.F,y._,Object])],Xe);var de,Ln=o(76844),An=(o(19961),o(33172),o(40472)),Se=o(28117),ut=o(9237);function Fn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",2),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Wn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.claimed.approve"),""))}const _t="submit_approve";let Qe=((de=class extends Se.P{constructor(i,t,a,l,u,I){super(i,t,a,l,u,I),this.injector=i,this.router=t,this.notificationsService=a,this.translate=l,this.searchService=u,this.requestService=I,this.option=_t}reloadObjectExecution(){return(0,ut.of)(this.object)}convertReloadedObject(i){return Object.assign(new mt,i,{indexableObject:i})}}).\u0275fac=function(i){return new(i||de)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s))},de.\u0275cmp=e.\u0275\u0275defineComponent({type:de,selectors:[["ds-claimed-task-actions-approve"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:13,consts:[["type","button",3,"className","ngbTooltip","disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(i,t){1&i&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return t.submitTask()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Fn,4,3,"span",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Wn,4,3,"span",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,5,"submission.workflow.tasks.claimed.approve_help")),e.\u0275\u0275property("className","btn btn-success")("disabled",e.\u0275\u0275pipeBind1(2,7,t.processing$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,9,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,11,t.processing$)))},dependencies:[r.O5,N._L,r.Ov,T.X$]}),de);Qe=(0,h.__decorate)([(0,Ce.Tc)(_t),(0,h.__metadata)("design:paramtypes",[e.Injector,b.F0,W.T,T.sK,U.o,$.s])],Qe);var ue,Q=o(5476);function $n(n,i){1&n&&(e.\u0275\u0275element(0,"p",4),e.\u0275\u0275pipe(1,"translate")),2&n&&e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,1,"submission.workflow.tasks.claimed.reject_help"),e.\u0275\u0275sanitizeHtml)}function Un(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",5),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Vn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",6),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function Kn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",5),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Nn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function Hn(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"h4",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",9),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).dismiss;return e.\u0275\u0275resetView(u("Cross click"))}),e.\u0275\u0275elementStart(5,"span",10),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",11)(8,"div",12),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"form",13),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.submitTask())}),e.\u0275\u0275element(12,"textarea",14),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementStart(14,"button",15),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,Kn,4,3,"span",2),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Nn,3,3,"span",2),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.rejectForm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(13,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.rejectForm.valid||e.\u0275\u0275pipeBind1(15,13,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,15,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(19,17,t.processing$))}}const ht="submit_reject";let Je=((ue=class extends Se.P{constructor(i,t,a,l,u,I,k,J){super(i,t,a,l,u,I),this.injector=i,this.router=t,this.notificationsService=a,this.translate=l,this.searchService=u,this.requestService=I,this.formBuilder=k,this.modalService=J,this.option=ht}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",Q.kI.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const i=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:i})}openRejectModal(i){this.rejectForm.reset(),this.modalRef=this.modalService.open(i)}reloadObjectExecution(){return(0,ut.of)(this.object)}convertReloadedObject(i){return Object.assign(new dt,i,{indexableObject:i})}}).\u0275fac=function(i){return new(i||ue)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s),e.\u0275\u0275directiveInject(Q.QS),e.\u0275\u0275directiveInject(N.FF))},ue.\u0275cmp=e.\u0275\u0275defineComponent({type:ue,selectors:[["ds-claimed-task-actions-reject"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:11,consts:[["rejectTipContent",""],[3,"className","ngbTooltip","disabled","click"],[4,"ngIf"],["rejectModal",""],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"formGroup","ngSubmit"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","mt-3",3,"disabled"]],template:function(i,t){if(1&i){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,$n,2,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"button",1),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const u=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(t.openRejectModal(u))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Un,4,3,"span",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,Vn,4,3,"span",2),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Hn,20,19,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)}if(2&i){const a=e.\u0275\u0275reference(1);e.\u0275\u0275advance(2),e.\u0275\u0275property("className","btn btn-danger")("ngbTooltip",a)("disabled",e.\u0275\u0275pipeBind1(3,5,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(7,9,t.processing$))}},dependencies:[r.O5,Q._Y,Q.Fj,Q.JJ,Q.JL,N._L,Q.sg,Q.u,r.Ov,T.X$]}),ue);Je=(0,h.__decorate)([(0,Ce.Tc)(ht),(0,h.__metadata)("design:paramtypes",[e.Injector,b.F0,W.T,T.sK,U.o,$.s,Q.QS,N.FF])],Je);var _e,ft=o(3026);function zn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",2),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing"),""))}function Xn(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.claimed.return"),""))}const vt="return_to_pool";let Ge=((_e=class extends Se.P{constructor(i,t,a,l,u,I,k){super(i,t,a,l,u,I),this.injector=i,this.router=t,this.notificationsService=a,this.translate=l,this.searchService=u,this.requestService=I,this.poolTaskService=k,this.option=vt}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,Le.q)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}}).\u0275fac=function(i){return new(i||_e)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s),e.\u0275\u0275directiveInject(ft.N))},_e.\u0275cmp=e.\u0275\u0275defineComponent({type:_e,selectors:[["ds-claimed-task-actions-return-to-pool"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:13,consts:[["type","button",3,"className","ngbTooltip","disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(i,t){1&i&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return t.submitTask()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,zn,4,3,"span",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Xn,4,3,"span",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,5,"submission.workflow.tasks.claimed.return_help")),e.\u0275\u0275property("className","btn btn-secondary")("disabled",e.\u0275\u0275pipeBind1(2,7,t.processing$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,9,t.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,11,t.processing$)))},dependencies:[r.O5,N._L,r.Ov,T.X$]}),_e);var he;Ge=(0,h.__decorate)([(0,Ce.Tc)(vt),(0,h.__metadata)("design:paramtypes",[e.Injector,b.F0,W.T,T.sK,U.o,$.s,ft.N])],Ge);const Qn=function(n){return[n]};function Jn(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"a",1),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();let a;e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"submission.workflow.tasks.claimed.edit_help")),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(9,Qn,"/workflowitems/"+(null==(a=e.\u0275\u0275pipeBind1(2,5,t.object.workflowitem))||null==a.payload?null:a.payload.id)+"/edit")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}const Ct="submit_edit_metadata";let Ze=((he=class extends Se.P{constructor(i,t,a,l,u,I){super(i,t,a,l,u,I),this.injector=i,this.router=t,this.notificationsService=a,this.translate=l,this.searchService=u,this.requestService=I,this.option=Ct}}).\u0275fac=function(i){return new(i||he)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(W.T),e.\u0275\u0275directiveInject(T.sK),e.\u0275\u0275directiveInject(U.o),e.\u0275\u0275directiveInject($.s))},he.\u0275cmp=e.\u0275\u0275defineComponent({type:he,selectors:[["ds-claimed-task-actions-edit-metadata"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(i,t){1&i&&e.\u0275\u0275template(0,Jn,6,11,"a",0),2&i&&e.\u0275\u0275property("ngIf",t.object)},dependencies:[r.O5,N._L,b.rH,r.Ov,T.X$]}),he);Ze=(0,h.__decorate)([(0,Ce.Tc)(Ct),(0,h.__metadata)("design:paramtypes",[e.Injector,b.F0,W.T,T.sK,U.o,$.s])],Ze);const gt=[Qe,Je,Ge,Ze];let Gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[...gt],imports:[r.ez,O.m]}),n})();var fe,Zn=o(72782);function Yn(n,i){if(1&n&&(e.\u0275\u0275element(0,"ds-themed-item-list-preview",4),e.\u0275\u0275pipe(1,"async")),2&n){const t=e.\u0275\u0275nextContext().ngVar,a=e.\u0275\u0275nextContext();let l;e.\u0275\u0275property("item",null==(l=e.\u0275\u0275pipeBind1(1,4,null==t?null:t.item))?null:l.payload)("object",a.object)("badgeContext",a.badgeContext)("showSubmitter",a.showSubmitter)}}function qn(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Yn,2,6,"ds-themed-item-list-preview",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngVar;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"claimed-declined-task-search-result-list-element.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t)}}let Ye=((fe=class extends E.c{constructor(i,t,a,l){super(t,a,l),this.linkService=i,this.truncatableService=t,this.dsoNameService=a,this.appConfig=l,this.showSubmitter=!0,this.badgeContext=C._.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,g.l)("workflowitem",{useCachedVersionIfAvailable:!1},(0,g.l)("item"),(0,g.l)("submitter")),(0,g.l)("action")),this.workflowitemRD$=this.dso.workflowitem}}).\u0275fac=function(i){return new(i||fe)(e.\u0275\u0275directiveInject(d.M),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(y._),e.\u0275\u0275directiveInject(V.q))},fe.\u0275cmp=e.\u0275\u0275defineComponent({type:fe,selectors:[["ds-claimed-declined-task-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(i,t){if(1&i&&(e.\u0275\u0275template(0,qn,6,4,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){let a;e.\u0275\u0275property("ngVar",null==(a=e.\u0275\u0275pipeBind1(1,1,t.workflowitemRD$))?null:a.payload)}},dependencies:[r.O5,ve.g,Z,r.Ov,T.X$],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),fe);Ye=(0,h.__decorate)([(0,c.d$)(Zn.J,_.w.ListElement),(0,h.__metadata)("design:paramtypes",[d.M,v.F,y._,Object])],Ye);const bt=[De,Ne,Pe,ze,Xe,Ye,Be,Fe,We,Ue,Ve,He,Ke];let ei=(()=>{class n{static withEntryComponents(){return{ngModule:n,providers:bt.map(t=>({provide:t}))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[r.ez,O.m,L,Gn,Ln.a.withEntryComponents(),An.x.withEntryComponents()]}),n})();o(13070),o(82844);var ii=o(29419),oi=o(89716),si=o(8317),ai=o(52651);let ri=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[S.o,F.v],imports:[r.ez,O.m,ii.t,L,ei.withEntryComponents(),oi.c]}),n})();e.\u0275\u0275setComponentScope(B.MyDSpacePageComponent,[r.O5,si.g,ai.l,A.Z],[r.Ov])},19961:(H,x,o)=>{"use strict";o.d(x,{p:()=>j});var r=o(27164),O=o(69637),b=o(48358),S=o(45608),D=o(10572),e=o(30658),s=o(46533),m=o(8842),p=o(98678),M=o(35103),L=o(67522),B=o(96342);const A=function(h){return["/collections",h]};function F(h,d){if(1&h&&(p.\u0275\u0275elementStart(0,"div",1)(1,"span",2),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementStart(4,"a",3),p.\u0275\u0275pipe(5,"async"),p.\u0275\u0275text(6),p.\u0275\u0275pipe(7,"async"),p.\u0275\u0275elementEnd()()()),2&h){const _=p.\u0275\u0275nextContext();let c;p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind1(3,3,"collection.listelement.badge"),": "),p.\u0275\u0275advance(2),p.\u0275\u0275property("routerLink",p.\u0275\u0275pureFunction1(9,A,null==(c=p.\u0275\u0275pipeBind1(5,5,_.collection$))?null:c.id)),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",_.dsoNameService.getName(p.\u0275\u0275pipeBind1(7,7,_.collection$))," ")}}let j=(()=>{class h{constructor(_,c){this.linkService=_,this.dsoNameService=c}ngOnInit(){this.linkService.resolveLinks(this.object,(0,s.l)("workflowitem",{isOptional:!0},(0,s.l)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,D.hC)(),(0,O.z)(_=>_.hasSucceeded&&(0,S.UE)(_.payload)?_.payload.collection.pipe((0,D.hC)(),(0,b.U)(c=>c.hasSucceeded&&(0,S.UE)(c.payload)?c.payload:null)):r.E))}}return h.\u0275fac=function(_){return new(_||h)(p.\u0275\u0275directiveInject(e.M),p.\u0275\u0275directiveInject(m._))},h.\u0275cmp=p.\u0275\u0275defineComponent({type:h,selectors:[["ds-item-collection"]],inputs:{object:"object"},decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"text-muted"],[3,"routerLink"]],template:function(_,c){1&_&&(p.\u0275\u0275template(0,F,8,11,"div",0),p.\u0275\u0275pipe(1,"async")),2&_&&p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(1,1,c.collection$))},dependencies:[M.O5,L.rH,M.Ov,B.X$]}),h})()},55178:(H,x,o)=>{"use strict";o.d(x,{n:()=>F});var r=o(27164),O=o(69637),b=o(48358),S=o(45608),D=o(10572),e=o(30658),s=o(46533),m=o(8842),p=o(98678),M=o(35103),L=o(96342);function B(j,h){if(1&j&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275text(1),p.\u0275\u0275elementContainerEnd()),2&j){const d=h.ngIf,_=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",_.dsoNameService.getName(d)," ")}}function A(j,h){1&j&&(p.\u0275\u0275text(0),p.\u0275\u0275pipe(1,"translate")),2&j&&p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(1,1,"submitter.empty")," ")}let F=(()=>{class j{constructor(d,_){this.dsoNameService=d,this.linkService=_}ngOnInit(){this.linkService.resolveLinks(this.object,(0,s.l)("workflowitem",{},(0,s.l)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,D.hC)(),(0,O.z)(d=>d.hasSucceeded&&(0,S.UE)(d.payload)?d.payload.submitter.pipe((0,D.hC)(),(0,b.U)(_=>_.hasSucceeded&&(0,S.UE)(_.payload)?_.payload:null)):r.E))}}return j.\u0275fac=function(d){return new(d||j)(p.\u0275\u0275directiveInject(m._),p.\u0275\u0275directiveInject(e.M))},j.\u0275cmp=p.\u0275\u0275defineComponent({type:j,selectors:[["ds-item-submitter"]],inputs:{object:"object"},decls:9,vars:7,consts:[[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","badge-info"],[4,"ngIf","ngIfElse"],["noSubmitter",""]],template:function(d,_){if(1&d&&(p.\u0275\u0275elementStart(0,"div",0)(1,"span",1),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementStart(4,"span",2),p.\u0275\u0275template(5,B,2,1,"ng-container",3),p.\u0275\u0275pipe(6,"async"),p.\u0275\u0275template(7,A,2,3,"ng-template",null,4,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementEnd()()()),2&d){const c=p.\u0275\u0275reference(8);p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(3,3,"submission.workflow.tasks.generic.submitter"),": "),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(6,5,_.submitter$))("ngIfElse",c)}},dependencies:[M.O5,M.Ov,L.X$]}),j})()},33172:(H,x,o)=>{"use strict";o.r(x),o.d(x,{ItemListPreviewComponent:()=>R}),o(13005);var O=o(58106),S=(o(65946),o(16441)),D=o(8842),s=(o(54384),o(98678)),m=o(35103),p=o(56790),M=o(38678),L=o(9121),B=o(88948),A=o(55178),F=o(19961),j=o(96342);function h(w,g){if(1&w&&(s.\u0275\u0275elementStart(0,"div",4),s.\u0275\u0275element(1,"ds-thumbnail",5),s.\u0275\u0275pipe(2,"async"),s.\u0275\u0275elementEnd()),2&w){const C=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("thumbnail",s.\u0275\u0275pipeBind1(2,2,null==C.item?null:C.item.thumbnail))("limitWidth",!0)}}function d(w,g){if(1&w&&s.\u0275\u0275element(0,"span",19),2&w){const C=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("innerHTML",C.item.firstMetadataValue("dc.publisher")+", ",s.\u0275\u0275sanitizeHtml)}}function _(w,g){1&w&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),2&w&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,"mydspace.results.no-authors")))}function c(w,g){1&w&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1,"; "),s.\u0275\u0275elementEnd())}function f(w,g){if(1&w&&(s.\u0275\u0275elementStart(0,"span")(1,"span",22),s.\u0275\u0275element(2,"span",22),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(3,c,2,0,"span",3),s.\u0275\u0275elementEnd()),2&w){const C=g.$implicit,z=g.last;s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",C,s.\u0275\u0275sanitizeHtml),s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",C,s.\u0275\u0275sanitizeHtml),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!z)}}const v=function(){return["dc.contributor.author","dc.creator","dc.contributor.*"]};function E(w,g){if(1&w&&(s.\u0275\u0275elementStart(0,"span",20),s.\u0275\u0275template(1,_,3,3,"span",3),s.\u0275\u0275template(2,f,4,3,"span",21),s.\u0275\u0275elementEnd()),2&w){const C=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",0===C.item.allMetadataValues(s.\u0275\u0275pureFunction0(2,v)).length),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",C.item.allMetadataValues(s.\u0275\u0275pureFunction0(3,v)))}}function y(w,g){if(1&w&&s.\u0275\u0275element(0,"ds-item-submitter",18),2&w){const C=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("object",C.object.indexableObject)}}const V=function(w){return{lead:!0,"text-muted":w}},K=function(w){return{"text-muted":w}};function ee(w,g){if(1&w&&(s.\u0275\u0275elementStart(0,"div")(1,"div",6),s.\u0275\u0275element(2,"ds-themed-badges",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"ds-truncatable",8),s.\u0275\u0275element(4,"h3",9),s.\u0275\u0275elementStart(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),s.\u0275\u0275text(8," ("),s.\u0275\u0275template(9,d,1,1,"span",12),s.\u0275\u0275element(10,"span",13),s.\u0275\u0275pipe(11,"translate"),s.\u0275\u0275text(12,") "),s.\u0275\u0275template(13,E,3,4,"span",14),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(14,"ds-truncatable-part",15),s.\u0275\u0275element(15,"span",16),s.\u0275\u0275pipe(16,"translate"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275template(17,y,1,1,"ds-item-submitter",17),s.\u0275\u0275element(18,"ds-item-collection",18),s.\u0275\u0275elementEnd()),2&w){const C=s.\u0275\u0275nextContext();s.\u0275\u0275property("@fadeInOut",void 0),s.\u0275\u0275advance(2),s.\u0275\u0275property("object",C.item)("context",C.badgeContext)("showAccessStatus",!0),s.\u0275\u0275advance(1),s.\u0275\u0275property("id",C.item.id),s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",C.dsoTitle,s.\u0275\u0275sanitizeHtml)("ngClass",s.\u0275\u0275pureFunction1(22,V,!C.item.firstMetadataValue("dc.title"))),s.\u0275\u0275advance(3),s.\u0275\u0275property("id",C.item.id)("minLines",1),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",C.item.hasMetadata("dc.publisher")),s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",C.item.firstMetadataValue("dc.date.issued")||s.\u0275\u0275pipeBind1(11,18,"mydspace.results.no-date"),s.\u0275\u0275sanitizeHtml),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",C.item.hasMetadata(s.\u0275\u0275pureFunction0(24,v))),s.\u0275\u0275advance(1),s.\u0275\u0275property("id",C.item.id)("minLines",1),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(25,K,!C.item.firstMetadataValue("dc.description.abstract")))("innerHTML",C.item.firstMetadataValue("dc.description.abstract")||s.\u0275\u0275pipeBind1(16,20,"mydspace.results.no-abstract"),s.\u0275\u0275sanitizeHtml),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",C.showSubmitter),s.\u0275\u0275advance(1),s.\u0275\u0275property("object",C.object.indexableObject)}}let R=(()=>{class w{constructor(C,z){this.appConfig=C,this.dsoNameService=z,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}}return w.\u0275fac=function(C){return new(C||w)(s.\u0275\u0275directiveInject(S.q),s.\u0275\u0275directiveInject(D._))},w.\u0275cmp=s.\u0275\u0275defineComponent({type:w,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(C,z){1&C&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275template(1,h,3,4,"div",1),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275template(3,ee,19,27,"div",3),s.\u0275\u0275elementEnd()()),2&C&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",z.showThumbnails),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass",z.showThumbnails?"col-9":"col-md-12"),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",z.item))},dependencies:[m.mk,m.sg,m.O5,p.ThumbnailComponent,M.n,L.L,B.k,A.n,F.p,m.Ov,j.X$],data:{animation:[O.Ic]}}),w})()},37841:(H,x,o)=>{var r={"./custom/app/my-dspace-page/my-dspace-page.component":[32007,2007]};function O(b){if(!o.o(r,b))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e});var S=r[b],D=S[0];return o.e(S[1]).then(()=>o(D))}O.keys=()=>Object.keys(r),O.id=37841,H.exports=O},49335:H=>{function x(o){return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r})}x.keys=()=>[],x.resolve=x,x.id=49335,H.exports=x}}]);