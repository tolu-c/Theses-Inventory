(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[719],{80719:(j,f,n)=>{"use strict";n.r(f),n.d(f,{LookupIdModule:()=>b});var u=n(35103),l=n(57999),r=n(96526),m=n(48358),h=n(27303),p=n(45608),D=n(16066),C=n(55624),N=n(18005),U=n(6952),L=n(10572),g=n(14246),F=n(71213),S=n(16441),o=n(98678),O=n(69175);class P extends g.t{constructor(d,e,i,a){super(void 0,d,e,i,a,void 0,(s,c)=>s.replace(/{\?id}/,`?id=${c}`).replace(/{\?uuid}/,`?uuid=${c}`)),this.requestService=d,this.rdbService=e,this.objectCache=i,this.halService=a}setLinkPath(d){this.linkPath=d===r.fT.UUID?"dso":"pid"}}let T=(()=>{class t{constructor(e,i,a,s,c,y){this.appConfig=e,this.requestService=i,this.rdbService=a,this.objectCache=s,this.halService=c,this.hardRedirectService=y,this.dataService=new P(i,a,s,c)}findByIdAndIDType(e,i=r.fT.UUID){return this.dataService.setLinkPath(i),this.dataService.findById(e).pipe((0,L.hC)(),(0,h.b)(a=>{if(a.hasSucceeded){const s=a.payload;if((0,p.Uh)(s.uuid)){let c=(0,F.Y4)(s);(0,p.Uh)(c)&&this.hardRedirectService.redirect(this.appConfig.ui.nameSpace.replace(/\/$/,"")+c,301)}}}))}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275inject(S.q),o.\u0275\u0275inject(U.s),o.\u0275\u0275inject(D.Q),o.\u0275\u0275inject(C.a),o.\u0275\u0275inject(N.q),o.\u0275\u0275inject(O.A))},t.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(e){this.dsoService=e}canActivate(e,i){const a=this.getLookupParams(e);return this.dsoService.findByIdAndIDType(a.id,a.type).pipe((0,m.U)(s=>s.hasFailed))}getLookupParams(e){let i,a;const s=e.params.idType;return s!==r.fT.HANDLE&&s!==r.fT.UUID?(i=r.fT.HANDLE,a=`hdl:${e.params.idType}/${e.params.id}`):e.params.idType===r.fT.HANDLE?(i=r.fT.HANDLE,a="hdl:"+e.params.id):(i=r.fT.UUID,a=e.params.id),{type:i,id:a}}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275inject(T))},t.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var v=n(67522),A=n(4682);function R(t,d){}const x=["*"];let B=(()=>{class t extends A.F{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(e){return n(98947)(`./${e}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return n.e(8592).then(n.bind(n,26515))}}return t.\u0275fac=function(){let d;return function(i){return(d||(d=o.\u0275\u0275getInheritedFactory(t)))(i||t)}}(),t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["ds-themed-objnotfound"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:x,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(e,i){1&e&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,R,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"div",null,1),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd())},encapsulation:2}),t})(),$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[I],imports:[v.Bz.forChild([{matcher:H,canActivate:[I],component:B}])]}),t})();function H(t){const d=t[0].path,e=t.slice(1).map(i=>i.path).join("/");return(0,p.UE)(d)&&(0,p.UE)(e)?{consumed:t,posParams:{idType:new v.bq(d,{}),id:new v.bq(e,{})}}:null}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[T],imports:[$,u.ez,l.m]}),t})()},98947:(j,f,n)=>{var u={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":[86459,8592,6459]};function l(r){if(!n.o(u,r))return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p});var m=u[r],h=m[0];return Promise.all(m.slice(1).map(n.e)).then(()=>n(h))}l.keys=()=>Object.keys(u),l.id=98947,j.exports=l}}]);