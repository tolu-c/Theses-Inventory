(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7452,1703],{1095:(P,g,e)=>{"use strict";e.d(g,{v:()=>_});var t=e(4682),s=e(98678);function o(r,a){}const p=["*"];let _=(()=>{class r extends t.F{getComponentName(){return"HomeNewsComponent"}importThemedComponent(c){return e(17642)(`./${c}/app/home-page/home-news/home-news.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,13853))}}return r.\u0275fac=function(){let a;return function(u){return(a||(a=s.\u0275\u0275getInheritedFactory(r)))(u||r)}}(),r.\u0275cmp=s.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-home-news"]],features:[s.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,u){1&c&&(s.\u0275\u0275projectionDef(),s.\u0275\u0275template(0,o,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementStart(2,"div",null,1),s.\u0275\u0275projection(4),s.\u0275\u0275elementEnd())},encapsulation:2}),r})()},13288:(P,g,e)=>{"use strict";e.r(g),e.d(g,{HomePageComponent:()=>D});var t=e(48358),s=e(76774),o=e(98678),p=e(67522),_=e(35103),r=e(51864),a=e(81703),c=e(60175),u=e(1095),f=e(57243),n=e(96342);function T(E,O){if(1&E&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275element(1,"ds-view-tracker",3),o.\u0275\u0275elementContainerEnd()),2&E){const C=O.ngIf;o.\u0275\u0275advance(1),o.\u0275\u0275property("object",C)}}function R(E,O){1&E&&o.\u0275\u0275element(0,"ds-recent-item-list")}let D=(()=>{class E{constructor(C){this.route=C,this.recentSubmissionspageSize=s.N.homePage.recentSubmissions.pageSize}ngOnInit(){this.site$=this.route.data.pipe((0,t.U)(C=>C.site))}}return E.\u0275fac=function(C){return new(C||E)(o.\u0275\u0275directiveInject(p.gz))},E.\u0275cmp=o.\u0275\u0275defineComponent({type:E,selectors:[["ds-home-page"]],decls:8,vars:8,consts:[[1,"container"],[4,"ngIf"],[3,"inPlaceSearch","searchPlaceholder"],[3,"object"]],template:function(C,L){1&C&&(o.\u0275\u0275element(0,"ds-themed-home-news"),o.\u0275\u0275elementStart(1,"div",0),o.\u0275\u0275template(2,T,2,1,"ng-container",1),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275element(4,"ds-themed-search-form",2),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275element(6,"ds-themed-top-level-community-list"),o.\u0275\u0275template(7,R,1,0,"ds-recent-item-list",1),o.\u0275\u0275elementEnd()),2&C&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(3,4,L.site$)),o.\u0275\u0275advance(2),o.\u0275\u0275property("inPlaceSearch",!1)("searchPlaceholder",o.\u0275\u0275pipeBind1(5,6,"home.search-form.placeholder")),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",L.recentSubmissionspageSize>0))},dependencies:[_.O5,r.p,a.f,c.h,u.v,f.l,_.Ov,n.X$]}),E})()},27452:(P,g,e)=>{"use strict";e.r(g),e.d(g,{HomePageModule:()=>M});var t=e(35103),s=e(57999),p=(e(13853),e(67522)),_=e(19427),r=e(77176),a=e(98678);let c=(()=>{class i{constructor(d){this.siteService=d}resolve(d,l){return this.siteService.find().pipe((0,r.q)(1))}}return i.\u0275fac=function(d){return new(d||i)(a.\u0275\u0275inject(_.a))},i.\u0275prov=a.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})();var u=e(4682);function f(i,v){}const n=["*"];let T=(()=>{class i extends u.F{getComponentName(){return"HomePageComponent"}importThemedComponent(d){return e(54367)(`./${d}/app/home-page/home-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,13288))}}return i.\u0275fac=function(){let v;return function(l){return(v||(v=a.\u0275\u0275getInheritedFactory(i)))(l||i)}}(),i.\u0275cmp=a.\u0275\u0275defineComponent({type:i,selectors:[["ds-themed-home-page"]],features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:n,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,l){1&d&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,f,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),i})();var R=e(27696);let D=(()=>{class i{}return i.\u0275fac=function(d){return new(d||i)},i.\u0275mod=a.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=a.\u0275\u0275defineInjector({providers:[c],imports:[p.Bz.forChild([{path:"",component:T,pathMatch:"full",data:{title:"home.title",menu:{public:[{id:"statistics_site",active:!0,visible:!0,index:2,model:{type:R.U.LINK,text:"menu.section.statistics",link:"statistics"}}]}},resolve:{site:c}}])]}),i})();e(13288),e(44637);var C=e(20357),U=(e(1095),e(57243),e(40472)),A=e(76844);e(60175);let M=(()=>{class i{}return i.\u0275fac=function(d){return new(d||i)},i.\u0275mod=a.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=a.\u0275\u0275defineInjector({imports:[t.ez,s.m.withEntryComponents(),U.x.withEntryComponents(),A.a.withEntryComponents(),D,C.p.forRoot()]}),i})()},57243:(P,g,e)=>{"use strict";e.d(g,{l:()=>d});var t=e(98678),s=e(40772),o=e(58106),p=e(45180),_=e(81323),r=e(57066),a=e(42281),c=e(76774),u=e(41529),f=e(27496),n=e(10572),T=e(46533),R=e(16441),D=e(35103),E=e(42139),O=e(37683),C=e(64719),L=e(2594),B=e(35534),U=e(41966),A=e(96342);function x(l,I){if(1&l&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"ds-listable-object-component-loader",8),t.\u0275\u0275elementEnd()),2&l){const m=I.$implicit,y=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("object",m)("viewMode",y.viewMode)}}function h(l,I){if(1&l){const m=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275element(1,"div",4),t.\u0275\u0275elementStart(2,"h2"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,x,2,2,"div",5),t.\u0275\u0275elementStart(6,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(m);const W=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(W.onLoadMore())}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()}if(2&l){const m=t.\u0275\u0275nextContext().ngVar,y=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",y.placeholderFontClass)("@fadeIn",void 0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"home.recent-submissions.head"),""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==m||null==m.payload?null:m.payload.page),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,7,"vocabulary-treeview.load-more")," ...")}}function M(l,I){1&l&&(t.\u0275\u0275element(0,"ds-error",9),t.\u0275\u0275pipe(1,"translate")),2&l&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"error.recent-submissions"))}function i(l,I){1&l&&(t.\u0275\u0275element(0,"ds-loading",9),t.\u0275\u0275pipe(1,"translate")),2&l&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.recent-submissions"))}function v(l,I){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,h,9,9,"div",1),t.\u0275\u0275template(2,M,2,3,"ds-error",2),t.\u0275\u0275template(3,i,2,3,"ds-loading",2),t.\u0275\u0275elementContainerEnd()),2&l){const m=I.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==m?null:m.hasSucceeded)&&(null==m||null==m.payload?null:m.payload.page.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==m?null:m.hasFailed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!m||m.isLoading)}}let d=(()=>{class l{constructor(m,y,W,K,S,j){this.searchService=m,this.paginationService=y,this.searchConfigurationService=W,this.elementRef=K,this.appConfig=S,this.platformId=j,this.viewMode=u.w.ListElement,this.paginationConfig=Object.assign(new p.r,{id:"hp",pageSize:c.N.homePage.recentSubmissions.pageSize,currentPage:1,maxSize:1}),this.sortConfig=new a.o(c.N.homePage.recentSubmissions.sortField,a.S.DESC)}ngOnInit(){const m=[];this.appConfig.browseBy.showThumbnails&&m.push((0,T.l)("thumbnail")),this.itemRD$=this.searchService.search(new s.t({pagination:this.paginationConfig,dsoTypes:[O.h.ITEM],sort:this.sortConfig}),void 0,void 0,void 0,...m).pipe((0,n.Ie)())}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}onLoadMore(){this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,["search"],{sortField:c.N.homePage.recentSubmissions.sortField,sortDirection:"DESC",page:1})}get placeholderFontClass(){return void 0===this._placeholderFontClass&&(this._placeholderFontClass=(0,D.NF)(this.platformId)?(0,E.X)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"),this._placeholderFontClass}}return l.\u0275fac=function(m){return new(m||l)(t.\u0275\u0275directiveInject(r.o),t.\u0275\u0275directiveInject(_.N),t.\u0275\u0275directiveInject(f.U),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(R.q),t.\u0275\u0275directiveInject(t.PLATFORM_ID))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ds-recent-item-list"]],decls:2,vars:3,consts:[[4,"ngVar"],["class","mt-4",3,"ngClass",4,"ngIf"],[3,"message",4,"ngIf"],[1,"mt-4",3,"ngClass"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],["class","my-4",4,"ngFor","ngForOf"],[1,"btn","btn-primary","search-button","mt-4",3,"click"],[1,"my-4"],[1,"pb-4",3,"object","viewMode"],[3,"message"]],template:function(m,y){1&m&&(t.\u0275\u0275template(0,v,4,3,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&m&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,y.itemRD$))},dependencies:[D.mk,D.sg,D.O5,C.q,L.LoadingComponent,B.p,U.g,D.Ov,A.X$],data:{animation:[o.Ji,o.Ic]},changeDetection:0}),l})()},60175:(P,g,e)=>{"use strict";e.d(g,{h:()=>_});var t=e(4682),s=e(98678);function o(r,a){}const p=["*"];let _=(()=>{class r extends t.F{getComponentName(){return"TopLevelCommunityListComponent"}importThemedComponent(c){return e(87979)(`./${c}/app/home-page/top-level-community-list/top-level-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,44637))}}return r.\u0275fac=function(){let a;return function(u){return(a||(a=s.\u0275\u0275getInheritedFactory(r)))(u||r)}}(),r.\u0275cmp=s.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-top-level-community-list"]],features:[s.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,u){1&c&&(s.\u0275\u0275projectionDef(),s.\u0275\u0275template(0,o,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementStart(2,"div",null,1),s.\u0275\u0275projection(4),s.\u0275\u0275elementEnd())},encapsulation:2}),r})()},44637:(P,g,e)=>{"use strict";e.r(g),e.d(g,{TopLevelCommunityListComponent:()=>x});var t=e(35841),s=e(53426),o=e(42281),p=e(50401),_=e(58106),r=e(45180),a=e(45608),c=e(21160),u=e(81323),f=e(16441),n=e(98678),T=e(35103),R=e(64719),D=e(87657),E=e(12955),O=e(41966),C=e(96342);function L(h,M){if(1&h&&(n.\u0275\u0275elementStart(0,"div")(1,"h2"),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",3),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(7,"ds-viewable-collection",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275elementEnd()),2&h){const i=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,6,"home.top-level-communities.head")," "),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(6,8,"home.top-level-communities.help")),n.\u0275\u0275advance(2),n.\u0275\u0275property("config",i.config)("sortConfig",i.sortConfig)("objects",n.\u0275\u0275pipeBind1(8,10,i.communitiesRD$))("hideGear",!0)}}function B(h,M){1&h&&(n.\u0275\u0275element(0,"ds-error",5),n.\u0275\u0275pipe(1,"translate")),2&h&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.top-level-communites"))}function U(h,M){1&h&&(n.\u0275\u0275element(0,"ds-themed-loading",5),n.\u0275\u0275pipe(1,"translate")),2&h&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.top-level-communities"))}function A(h,M){if(1&h&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,L,9,12,"div",1),n.\u0275\u0275template(2,B,2,3,"ds-error",2),n.\u0275\u0275template(3,U,2,3,"ds-themed-loading",2),n.\u0275\u0275elementContainerEnd()),2&h){const i=M.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==i?null:i.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==i?null:i.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==i?null:i.isLoading)}}let x=(()=>{class h{constructor(i,v,d){this.appConfig=i,this.cds=v,this.paginationService=d,this.communitiesRD$=new t.X({}),this.pageId="tl",this.config=new r.r,this.config.id=this.pageId,this.config.pageSize=i.homePage.topLevelCommunityList.pageSize,this.config.currentPage=1,this.sortConfig=new o.o("dc.title",o.S.ASC)}ngOnInit(){this.initPage()}initPage(){const i=this.paginationService.getCurrentPagination(this.config.id,this.config),v=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.currentPageSubscription=(0,s.a)([i,v]).pipe((0,c.w)(([d,l])=>this.cds.findTop({currentPage:d.currentPage,elementsPerPage:d.pageSize,sort:{field:l.field,direction:l.direction}}))).subscribe(d=>{this.communitiesRD$.next(d)})}unsubscribe(){(0,a.Uh)(this.currentPageSubscription)&&this.currentPageSubscription.unsubscribe()}ngOnDestroy(){this.unsubscribe(),this.paginationService.clearPagination(this.config.id)}}return h.\u0275fac=function(i){return new(i||h)(n.\u0275\u0275directiveInject(f.q),n.\u0275\u0275directiveInject(p.w),n.\u0275\u0275directiveInject(u.N))},h.\u0275cmp=n.\u0275\u0275defineComponent({type:h,selectors:[["ds-top-level-community-list"]],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[1,"lead"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(i,v){1&i&&(n.\u0275\u0275template(0,A,4,3,"ng-container",0),n.\u0275\u0275pipe(1,"async")),2&i&&n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(1,1,v.communitiesRD$))},dependencies:[T.O5,R.q,D.Z,E.c,O.g,T.Ov,C.X$],data:{animation:[_.Ic]},changeDetection:0}),h})()},81703:(P,g,e)=>{"use strict";e.d(g,{f:()=>a}),e(61750);var s=e(77176),o=e(45608),p=e(98678),_=e(37315),r=e(73357);let a=(()=>{class c{constructor(f,n){this.angulartics2=f,this.referrerService=n}ngOnInit(){this.sub=this.referrerService.getReferrer().pipe((0,s.q)(1)).subscribe(f=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.object,referrer:f}})})}ngOnDestroy(){(0,o.Uh)(this.sub)&&this.sub.unsubscribe()}}return c.\u0275fac=function(f){return new(f||c)(p.\u0275\u0275directiveInject(_.b),p.\u0275\u0275directiveInject(r.V))},c.\u0275cmp=p.\u0275\u0275defineComponent({type:c,selectors:[["ds-view-tracker"]],inputs:{object:"object"},decls:1,vars:0,template:function(f,n){1&f&&p.\u0275\u0275text(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]}),c})()},17642:(P,g,e)=>{var t={"./custom/app/home-page/home-news/home-news.component":[47883,7883],"./dspace/app/home-page/home-news/home-news.component":[68346]};function s(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r});var p=t[o],_=p[0];return Promise.all(p.slice(1).map(e.e)).then(()=>e(_))}s.keys=()=>Object.keys(t),s.id=17642,P.exports=s},54367:(P,g,e)=>{var t={"./custom/app/home-page/home-page.component":[52997,2997]};function s(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r});var p=t[o],_=p[0];return e.e(p[1]).then(()=>e(_))}s.keys=()=>Object.keys(t),s.id=54367,P.exports=s},87979:(P,g,e)=>{var t={"./custom/app/home-page/top-level-community-list/top-level-community-list.component":[39691,9691]};function s(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r});var p=t[o],_=p[0];return e.e(p[1]).then(()=>e(_))}s.keys=()=>Object.keys(t),s.id=87979,P.exports=s}}]);