(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7538,8517,46,4074,6893],{51598:(Ve,ye,t)=>{"use strict";t.d(ye,{w:()=>a});var e=t(98678);let a=(()=>{class T{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}}return T.\u0275fac=function(F){return new(F||T)},T.\u0275prov=e.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},30624:(Ve,ye,t)=>{"use strict";t.r(ye),t.d(ye,{ConfigurationSearchPageComponent:()=>Be});var e=t(79849),a=t(8369),T=t(13326),R=t(83143),F=t(55963),I=t(27496),Z=t(74997),K=t(57066),p=t(98678),he=t(67522),W=t(35103),E=t(51864),Q=t(14512),V=t(20189),J=t(19350),$=t(76817),ue=t(4554),L=t(96342);function X(re,U){}function ae(re,U){1&re&&p.\u0275\u0275template(0,X,0,0,"ng-template")}function b(re,U){if(1&re&&(p.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"div",8),p.\u0275\u0275template(3,ae,1,0,null,9),p.\u0275\u0275elementEnd()()()),2&re){p.\u0275\u0275nextContext();const k=p.\u0275\u0275reference(11);p.\u0275\u0275advance(3),p.\u0275\u0275property("ngTemplateOutlet",k)}}function G(re,U){}function y(re,U){1&re&&p.\u0275\u0275template(0,G,0,0,"ng-template")}function B(re,U){if(1&re&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275template(1,y,1,0,null,9),p.\u0275\u0275elementEnd()),2&re){p.\u0275\u0275nextContext();const k=p.\u0275\u0275reference(7);p.\u0275\u0275advance(1),p.\u0275\u0275property("ngTemplateOutlet",k)}}function w(re,U){}function le(re,U){1&re&&p.\u0275\u0275template(0,w,0,0,"ng-template")}function te(re,U){if(1&re&&(p.\u0275\u0275elementStart(0,"ds-page-with-sidebar",10),p.\u0275\u0275template(1,le,1,0,null,9),p.\u0275\u0275elementEnd()),2&re){p.\u0275\u0275nextContext();const k=p.\u0275\u0275reference(9),m=p.\u0275\u0275reference(7);p.\u0275\u0275property("id","search-page")("sidebarContent",k),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngTemplateOutlet",m)}}function ce(re,U){}function we(re,U){1&re&&p.\u0275\u0275template(0,ce,0,0,"ng-template")}function n(re,U){if(1&re&&(p.\u0275\u0275elementStart(0,"div",8),p.\u0275\u0275template(1,we,1,0,null,9),p.\u0275\u0275projection(2),p.\u0275\u0275elementEnd()),2&re){p.\u0275\u0275nextContext(2);const k=p.\u0275\u0275reference(11);p.\u0275\u0275advance(1),p.\u0275\u0275property("ngTemplateOutlet",k)}}function oe(re,U){if(1&re){const k=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",7),p.\u0275\u0275template(1,n,3,1,"div",11),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275elementStart(3,"div",12)(4,"div",13),p.\u0275\u0275element(5,"ds-view-mode-switch",14),p.\u0275\u0275elementStart(6,"button",15),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(k);const P=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(P.openSidebar())}),p.\u0275\u0275element(7,"i",16),p.\u0275\u0275text(8),p.\u0275\u0275pipe(9,"translate"),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(10,"ds-themed-search-results",17),p.\u0275\u0275listener("contentChange",function(P){p.\u0275\u0275restoreView(k);const S=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(S.onContentChange(P))})("deselectObject",function(P){p.\u0275\u0275restoreView(k);const S=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(S.deselectObject.emit(P))})("selectObject",function(P){p.\u0275\u0275restoreView(k);const S=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(S.selectObject.emit(P))}),p.\u0275\u0275pipe(11,"async"),p.\u0275\u0275pipe(12,"async"),p.\u0275\u0275pipe(13,"async"),p.\u0275\u0275pipe(14,"async"),p.\u0275\u0275elementEnd()()()}if(2&re){const k=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",!p.\u0275\u0275pipeBind1(2,14,k.isXsOrSm$)),p.\u0275\u0275advance(4),p.\u0275\u0275property("viewModeList",k.viewModeList)("inPlaceSearch",k.inPlaceSearch),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(9,16,"search.sidebar.open")," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("searchResults",p.\u0275\u0275pipeBind1(11,18,k.resultsRD$))("searchConfig",p.\u0275\u0275pipeBind1(12,20,k.searchOptions$))("configuration",p.\u0275\u0275pipeBind1(13,22,k.currentConfiguration$))("disableHeader",!k.searchEnabled)("linkType",k.linkType)("context",p.\u0275\u0275pipeBind1(14,24,k.currentContext$))("selectable",k.selectable)("selectionConfig",k.selectionConfig)("showCsvExport",k.showCsvExport)("showThumbnails",k.showThumbnails)}}function ke(re,U){if(1&re){const k=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"ds-themed-search-sidebar",20),p.\u0275\u0275listener("changeConfiguration",function(P){p.\u0275\u0275restoreView(k);const S=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(S.changeContext(P.context))})("changeViewMode",function(){p.\u0275\u0275restoreView(k);const P=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(P.changeViewMode())}),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275pipe(3,"async"),p.\u0275\u0275pipe(4,"async"),p.\u0275\u0275pipe(5,"async"),p.\u0275\u0275pipe(6,"async"),p.\u0275\u0275elementEnd()}if(2&re){const k=p.\u0275\u0275nextContext(2);let m;p.\u0275\u0275property("configurationList",k.configurationList)("configuration",p.\u0275\u0275pipeBind1(1,12,k.currentConfiguration$))("currentScope",p.\u0275\u0275pipeBind1(2,14,k.currentScope$))("filters",k.filtersRD$.asObservable())("refreshFilters",k.refreshFilters)("resultCount",null==(m=p.\u0275\u0275pipeBind1(3,16,k.resultsRD$))||null==m.payload?null:m.payload.totalElements)("searchOptions",p.\u0275\u0275pipeBind1(4,18,k.searchOptions$))("sortOptionsList",p.\u0275\u0275pipeBind1(5,20,k.sortOptionsList$))("currentSortOption",p.\u0275\u0275pipeBind1(6,22,k.currentSortOptions$))("inPlaceSearch",k.inPlaceSearch)("viewModeList",k.viewModeList)("showViewModes",k.showViewModes)}}function nt(re,U){if(1&re){const k=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"ds-themed-search-sidebar",21),p.\u0275\u0275listener("toggleSidebar",function(){p.\u0275\u0275restoreView(k);const P=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(P.closeSidebar())})("changeConfiguration",function(P){p.\u0275\u0275restoreView(k);const S=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(S.changeContext(P.context))})("changeViewMode",function(){p.\u0275\u0275restoreView(k);const P=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(P.changeViewMode())}),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275pipe(3,"async"),p.\u0275\u0275pipe(4,"async"),p.\u0275\u0275pipe(5,"async"),p.\u0275\u0275pipe(6,"async"),p.\u0275\u0275elementEnd()}if(2&re){const k=p.\u0275\u0275nextContext(2);let m;p.\u0275\u0275property("configurationList",k.configurationList)("configuration",p.\u0275\u0275pipeBind1(1,11,k.currentConfiguration$))("currentScope",p.\u0275\u0275pipeBind1(2,13,k.currentScope$))("filters",k.filtersRD$.asObservable())("refreshFilters",k.refreshFilters)("resultCount",null==(m=p.\u0275\u0275pipeBind1(3,15,k.resultsRD$))?null:m.payload.totalElements)("searchOptions",p.\u0275\u0275pipeBind1(4,17,k.searchOptions$))("sortOptionsList",p.\u0275\u0275pipeBind1(5,19,k.sortOptionsList$))("currentSortOption",p.\u0275\u0275pipeBind1(6,21,k.currentSortOptions$))("viewModeList",k.viewModeList)("showViewModes",k.showViewModes)}}function We(re,U){if(1&re&&(p.\u0275\u0275template(0,ke,7,24,"ds-themed-search-sidebar",18),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275template(2,nt,7,23,"ds-themed-search-sidebar",19),p.\u0275\u0275pipe(3,"async")),2&re){const k=p.\u0275\u0275nextContext();p.\u0275\u0275property("ngIf",!p.\u0275\u0275pipeBind1(1,2,k.isXsOrSm$)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(3,4,k.isXsOrSm$))}}function Ce(re,U){if(1&re&&(p.\u0275\u0275element(0,"ds-themed-search-form",26),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275pipe(3,"translate")),2&re){const k=p.\u0275\u0275nextContext(2);let m,P;p.\u0275\u0275property("query",null==(m=p.\u0275\u0275pipeBind1(1,6,k.searchOptions$))?null:m.query)("scope",null==(P=p.\u0275\u0275pipeBind1(2,8,k.searchOptions$))?null:P.scope)("currentUrl",k.searchLink)("showScopeSelector",k.showScopeSelector)("inPlaceSearch",k.inPlaceSearch)("searchPlaceholder",p.\u0275\u0275pipeBind1(3,10,k.searchFormPlaceholder))}}function se(re,U){if(1&re&&p.\u0275\u0275element(0,"ds-search-labels",27),2&re){const k=p.\u0275\u0275nextContext(2);p.\u0275\u0275property("inPlaceSearch",k.inPlaceSearch)}}function A(re,U){if(1&re&&(p.\u0275\u0275template(0,Ce,4,12,"ds-themed-search-form",22),p.\u0275\u0275elementStart(1,"div",23)(2,"div",24),p.\u0275\u0275template(3,se,1,1,"ds-search-labels",25),p.\u0275\u0275elementEnd()()),2&re){const k=p.\u0275\u0275nextContext();p.\u0275\u0275property("ngIf",k.searchEnabled),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",k.searchEnabled)}}const H=[[["","additionalSearchOptions",""]]],ne=["[additionalSearchOptions]"];let Be=(()=>{class re extends T.SearchComponent{constructor(k,m,P,S,z,D){super(k,m,P,S,z,D),this.service=k,this.sidebarService=m,this.windowService=P,this.searchConfigService=S,this.routeService=z,this.router=D}}return re.\u0275fac=function(k){return new(k||re)(p.\u0275\u0275directiveInject(K.o),p.\u0275\u0275directiveInject(a.P),p.\u0275\u0275directiveInject(e.I),p.\u0275\u0275directiveInject(F.SEARCH_CONFIG_SERVICE),p.\u0275\u0275directiveInject(Z.MZ),p.\u0275\u0275directiveInject(he.F0))},re.\u0275cmp=p.\u0275\u0275defineComponent({type:re,selectors:[["ds-configuration-search-page"]],features:[p.\u0275\u0275ProvidersFeature([{provide:F.SEARCH_CONFIG_SERVICE,useClass:I.U}]),p.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ne,decls:12,vars:9,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sidebarContent",4,"ngIf"],["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder",4,"ngIf"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-sm-9"],[3,"inPlaceSearch",4,"ngIf"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[3,"inPlaceSearch"]],template:function(k,m){1&k&&(p.\u0275\u0275projectionDef(H),p.\u0275\u0275template(0,b,4,1,"div",0),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275template(2,B,2,1,"div",1),p.\u0275\u0275pipe(3,"async"),p.\u0275\u0275template(4,te,2,3,"ds-page-with-sidebar",2),p.\u0275\u0275pipe(5,"async"),p.\u0275\u0275template(6,oe,15,26,"ng-template",null,3,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(8,We,4,6,"ng-template",null,4,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(10,A,4,2,"ng-template",null,5,p.\u0275\u0275templateRefExtractor)),2&k&&(p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(1,3,m.isXsOrSm$)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",!m.showSidebar&&p.\u0275\u0275pipeBind1(3,5,m.initialized$)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",m.showSidebar&&p.\u0275\u0275pipeBind1(5,7,m.initialized$)))},dependencies:[W.O5,W.tP,E.p,Q.R,V.$,J.B,$.g,ue.H,W.Ov,L.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[R.z]},changeDetection:0}),re})()},76597:(Ve,ye,t)=>{"use strict";t.d(ye,{R:()=>F});var e=t(4682),a=t(98678);function T(I,Z){}const R=["*"];let F=(()=>{class I extends e.F{constructor(){super(...arguments),this.inAndOutputNames=["context","configuration","fixedFilterQuery","inPlaceSearch","searchEnabled","sideBarWidth"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(K){return t(73835)(`./${K}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,30624))}}return I.\u0275fac=function(){let Z;return function(p){return(Z||(Z=a.\u0275\u0275getInheritedFactory(I)))(p||I)}}(),I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["ds-themed-configuration-search-page"]],inputs:{configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",inPlaceSearch:"inPlaceSearch",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",configuration$:"configuration$",context:"context"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(K,p){1&K&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,T,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),I})()},99811:(Ve,ye,t)=>{"use strict";t.d(ye,{B:()=>wt,_:()=>$t});var e=t(98678),a=t(5737),T=t(71041),R=t(43090),F=t(36650),I=t(75316),Z=t(64324),K=t(26533),p=t(93025),he=t(45736),W=t(19584),E=t(45608),Q=t(53104),V=t(3067),J=t(83064),$=t(21698),ue=t(9202),L=t(4294),X=t(2709),ae=t(4915),b=t(95623),G=t(13616),y=t(97611),B=t(2958),w=t(380),le=t(66154),te=t(21160),ce=t(77176),we=t(48358),n=t(9302),oe=t(53426),ke=t(34774),nt=t(84332),We=t(91416),Ce=t(54191),se=t(57359),A=t(30139),H=t(10572),ne=t(29442),Be=t(14677),re=t(122),U=t(57512),k=t(4786),m=t(1579),P=t(46533),S=t(58079),z=t(17568),D=t(87893),ee=t(82882),fe=t(31042),ve=t(16441),v=t(87899),j=t(96342),u=t(65706),f=t(89702),ie=t(35103),me=t(5476),Ze=t(47565);const Gt=["componentViewContainer"],gn=function(Pe,He){return[Pe,He]};function pt(Pe,He){if(1&Pe&&(e.\u0275\u0275element(0,"label",11),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate")),2&Pe){const q=e.\u0275\u0275nextContext();e.\u0275\u0275property("id","label_"+q.model.id)("for",q.id)("innerHTML",q.model.required&&q.model.label?e.\u0275\u0275pipeBind1(1,4,q.model.label)+" *":e.\u0275\u0275pipeBind1(2,6,q.model.label),e.\u0275\u0275sanitizeHtml)("ngClass",e.\u0275\u0275pureFunction2(8,gn,q.getClass("element","label"),q.getClass("grid","label")))}}function at(Pe,He){1&Pe&&e.\u0275\u0275elementContainer(0)}function Ee(Pe,He){if(1&Pe&&(e.\u0275\u0275element(0,"small",12),e.\u0275\u0275pipe(1,"translate")),2&Pe){const q=e.\u0275\u0275nextContext();e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,2,q.model.hint),e.\u0275\u0275sanitizeHtml)("ngClass",q.getClass("element","hint"))}}function rt(Pe,He){1&Pe&&e.\u0275\u0275element(0,"div",13)}function Ue(Pe,He){if(1&Pe&&(e.\u0275\u0275elementStart(0,"small",16),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&Pe){const q=He.$implicit,De=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(2,1,q,De.model.validators))}}function et(Pe,He){if(1&Pe&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,Ue,3,4,"small",15),e.\u0275\u0275elementEnd()),2&Pe){const q=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",q.id+"_errors")("ngClass",e.\u0275\u0275pureFunction2(3,gn,q.getClass("element","errors"),q.getClass("grid","errors"))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",q.errorMessages)}}function Xt(Pe,He){if(1&Pe&&(e.\u0275\u0275elementStart(0,"option",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&Pe){const q=He.$implicit;e.\u0275\u0275property("value",q.code),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(q.display)}}const Qt=function(){return{standalone:!0}};function tt(Pe,He){if(1&Pe){const q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"select",18,19),e.\u0275\u0275listener("ngModelChange",function(Ge){e.\u0275\u0275restoreView(q);const st=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(st.model.language=Ge)})("blur",function(Ge){e.\u0275\u0275restoreView(q);const st=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(st.onBlur(Ge))})("change",function(Ge){e.\u0275\u0275restoreView(q);const st=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(st.onChangeLanguage(Ge))}),e.\u0275\u0275template(3,Xt,2,2,"option",20),e.\u0275\u0275elementEnd()()}if(2&Pe){const q=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",q.model.readOnly)("ngModel",q.model.language)("ngModelOptions",e.\u0275\u0275pureFunction0(4,Qt)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",q.model.languageCodes)}}function Ut(Pe,He){if(1&Pe){const q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",22)(1,"button",23),e.\u0275\u0275listener("click",function(Ge){return e.\u0275\u0275restoreView(q),e.\u0275\u0275nextContext().openLookup(),e.\u0275\u0275resetView(Ge.stopPropagation())}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",24),e.\u0275\u0275elementEnd()()}2&Pe&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(2,1,"form.lookup-help")))}function qt(Pe,He){1&Pe&&e.\u0275\u0275elementContainer(0)}function xt(Pe,He){if(1&Pe){const q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-existing-metadata-list-element",27),e.\u0275\u0275listener("remove",function(){e.\u0275\u0275restoreView(q);const Ge=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(Ge.onRemove())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&Pe){const q=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("reoRel",e.\u0275\u0275pipeBind1(1,6,q.relationshipValue$))("submissionItem",e.\u0275\u0275pipeBind1(2,8,q.item$))("listId",q.listId)("metadataFields",q.model.metadataFields)("submissionId",q.model.submissionId)("relationshipOptions",q.model.relationship)}}const nn=function(Pe){return{"d-block pb-2 pt-2":Pe}};function St(Pe,He){if(1&Pe&&(e.\u0275\u0275element(0,"ds-existing-relation-list-element",28),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&Pe){const q=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,nn,!(null!=q.context&&q.context.index)))("reoRel",e.\u0275\u0275pipeBind1(1,7,q.relationshipValue$))("submissionItem",e.\u0275\u0275pipeBind1(2,9,q.item$))("listId",q.listId)("metadataFields",q.model.metadataFields)("submissionId",q.model.submissionId)("relationshipOptions",q.model.relationship)}}function dn(Pe,He){if(1&Pe&&(e.\u0275\u0275element(0,"small",12),e.\u0275\u0275pipe(1,"translate")),2&Pe){const q=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,2,q.model.hint),e.\u0275\u0275sanitizeHtml)("ngClass",q.getClass("element","hint"))}}function _t(Pe,He){if(1&Pe&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,xt,3,10,"ds-existing-metadata-list-element",25),e.\u0275\u0275template(2,St,3,13,"ds-existing-relation-list-element",26),e.\u0275\u0275template(3,dn,2,4,"small",5),e.\u0275\u0275element(4,"div",13),e.\u0275\u0275elementContainerEnd()),2&Pe){const q=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",q.model.hasSelectableMetadata),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!q.model.hasSelectableMetadata),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",q.hasHint&&(!1===q.model.repeatable||(null==q.context?null:q.context.index)===(null==q.context||null==q.context.context||null==q.context.context.groups?null:q.context.context.groups.length)-1)&&(!q.showErrorMessages||0===q.errorMessages.length))}}const en=function(Pe){return{$implicit:Pe}},pn=function(Pe,He){return{"form-row":Pe,"d-none":He}},un=["*"];function $t(Pe){switch(Pe.type){case a.i9b:return b.s;case a.fSU:return T.Gy;case a.aTt:return Pe instanceof he.R?$.d:T.P2;case a.VId:return Pe.inline?T.qz:y.u;case a.Qam:return ae.i;case a.X9S:return T.Zu;case a.e6P:return Pe instanceof W.s?$.d:T.TE;case a.Lq6:return T.QB;case a.Pdh:return T.Sb;case a.BKB:return T.XX;case F.n:return ue.r;case I.v:return L.D;case Z.D:return V.V;case ee.Q:return G.H;case K.L:return J.H;case p.d:case Q.S:return X.G;case se.W:return Ce.x;case B.c:return w._;default:return null}}let wt=(()=>{class Pe extends a.wT7{constructor(q,De,Ge,st,yt,bt,Bt,Nt,ct,jt,Wt,mn,hn,fn,vn,Fn,on,Mn,Ln){super(vn,q,Ge,st,De,Bt),this.componentFactoryResolver=q,this.dynamicFormComponentService=De,this.layoutService=Ge,this.validationService=st,this.typeBindRelationService=yt,this.translateService=bt,this.relationService=Bt,this.modalService=Nt,this.relationshipService=ct,this.selectableListService=jt,this.itemService=Wt,this.zone=mn,this.store=hn,this.submissionObjectService=fn,this.ref=vn,this.formService=Fn,this.formBuilderService=on,this.submissionService=Mn,this.appConfig=Ln,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.customEvent=new e.EventEmitter,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}get componentType(){return $t(this.model)}ngOnInit(){this.isRelationship=(0,E.Uh)(this.model.relationship);const q=(0,E.Uh)(this.model.relationshipConfig);if(this.isRelationship||q){const De=this.model.relationshipConfig||this.model.relationship,Ge=Object.assign(new z.u,De);if(this.listId=`list-${this.model.submissionId}-${Ge.relationshipType}`,this.setItem(),q||!this.model.repeatable){const st=this.selectableListService.getSelectableList(this.listId).pipe((0,le.s)(yt=>(0,E.xI)(yt)),(0,te.w)(()=>this.item$.pipe((0,ce.q)(1))),(0,te.w)(yt=>{const bt=this.relationshipService.getItemRelationshipsByLabel(yt,Ge.relationshipType,void 0,!0,!0,(0,P.l)("leftItem"),(0,P.l)("rightItem"),(0,P.l)("relationshipType"));return bt.pipe((0,H.Gp)(),(0,H.qP)()).subscribe(Bt=>{Bt.forEach(Nt=>{const ct=yt.firstMetadata(Ge.metadataField,{authority:`${U.O_}${Nt.id}`}),jt=yt.firstMetadata(this.model.metadataFields,{authority:`${U.O_}${Nt.id}`});(0,E.Uh)(ct)&&(0,E.UE)(ct.value)&&(0,E.Uh)(jt)&&(0,E.UE)(jt.value)&&this.relationshipService.setNameVariant(this.listId,ct.value,jt.value)})}),bt.pipe((0,S.Sv)(yt.uuid),(0,H.xw)(),(0,we.U)(Bt=>Bt.payload.page.map(Nt=>Object.assign(new re.T,{indexableObject:Nt}))))})).subscribe(yt=>this.selectableListService.select(this.listId,yt));this.subs.push(st)}if(this.value=(0,E.Uh)(this.model.metadataValue)?Object.assign(new fe.u,this.model.metadataValue):Object.assign(new fe.u,this.model.value),(0,E.Uh)(this.value)&&this.value.isVirtual){const st=this.relationshipService.findById(this.value.virtualValue,!0,!0,...(0,v.IX)(this.fetchThumbnail)).pipe((0,H.g1)(),(0,H.xe)());this.relationshipValue$=(0,oe.a)([this.item$.pipe((0,ce.q)(1)),st]).pipe((0,te.w)(([yt,bt])=>bt.leftItem.pipe((0,H.g1)(),(0,H.xe)(),(0,we.U)(Bt=>new R.zw(bt,Bt.uuid!==yt.uuid,this.store,this.model.submissionId)))),(0,n.O)(void 0))}}}get isCheckbox(){return this.model.type===a.fSU||this.model.type===B.c}ngOnChanges(q){q&&!this.isRelationship&&(0,E.Uh)(this.group.get(this.model.id))&&(super.ngOnChanges(q),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,E.pT)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let q;this.context&&this.context instanceof a.NJD&&(q=this.context.index);const De=this.dynamicFormComponentService.getFormControlRef(this.model,q);De&&(De.formModel=this.formModel,De.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(q){(0,E.UE)(this.model.value)&&this.onChange(q)}hasRelationship(){return(0,E.UE)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,E.UE)(this.model.relationship)}isVirtual(){const q=this.model.metadataValue;return(0,E.UE)(q)&&q.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,we.U)(q=>(0,E.UE)(q)))}openLookup(){this.modalRef=this.modalService.open(A.i,{size:"lg"}),(0,E.Uh)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:a.nm_.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:a.nm_.Change})),this.submissionService.dispatchSave(this.model.submissionId);const q=this.modalRef.componentInstance;(0,E.Uh)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?q.query=this.model.value:"string"==typeof this.model.value.value&&(q.query=this.model.value.value)),q.repeatable=this.model.repeatable,q.listId=this.listId,q.relationshipOptions=this.model.relationship,q.label=this.model.relationship.relationshipType,q.metadataFields=this.model.metadataFields,q.item=this.item,q.collection=this.collection,q.submissionId=this.model.submissionId}onRemove(){const q=this.context.context,De=this.formBuilderService.getPath(q),Ge=this.group.root.get(De);this.formBuilderService.removeFormArrayGroup(this.context.index,Ge,q),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(Ge,q)}ngOnDestroy(){this.subs.filter(q=>(0,E.Uh)(q)).forEach(q=>q.unsubscribe())}get hasHint(){return(0,E.UE)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const q=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,P.l)("item"),(0,P.l)("collection")).pipe((0,H.g1)(),(0,H.xe)());this.item$=q.pipe((0,te.w)(Ge=>Ge.item.pipe((0,H.g1)(),(0,H.xe)())));const De=q.pipe((0,te.w)(Ge=>Ge.collection.pipe((0,H.g1)(),(0,H.xe)())));this.subs.push(this.item$.subscribe(Ge=>this.item=Ge)),this.subs.push(De.subscribe(Ge=>this.collection=Ge))}}return Pe.\u0275fac=function(q){return new(q||Pe)(e.\u0275\u0275directiveInject(e.ComponentFactoryResolver),e.\u0275\u0275directiveInject(a.rJA),e.\u0275\u0275directiveInject(a.vnf),e.\u0275\u0275directiveInject(a.fhz),e.\u0275\u0275directiveInject(ke.R),e.\u0275\u0275directiveInject(j.sK),e.\u0275\u0275directiveInject(a.uTg),e.\u0275\u0275directiveInject(u.FF),e.\u0275\u0275directiveInject(nt.U),e.\u0275\u0275directiveInject(We.w),e.\u0275\u0275directiveInject(ne.S),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(f.yh),e.\u0275\u0275directiveInject(Be.O),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(k.o),e.\u0275\u0275directiveInject(D.c),e.\u0275\u0275directiveInject(m.b),e.\u0275\u0275directiveInject(ve.q))},Pe.\u0275cmp=e.\u0275\u0275defineComponent({type:Pe,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(q,De,Ge){if(1&q&&e.\u0275\u0275contentQuery(Ge,a.ATj,4),2&q){let st;e.\u0275\u0275queryRefresh(st=e.\u0275\u0275loadQuery())&&(De.contentTemplateList=st)}},viewQuery:function(q,De){if(1&q&&e.\u0275\u0275viewQuery(Gt,7,e.ViewContainerRef),2&q){let Ge;e.\u0275\u0275queryRefresh(Ge=e.\u0275\u0275loadQuery())&&(De.componentViewContainerRef=Ge.first)}},inputs:{inputTemplateList:["templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:un,decls:16,vars:27,consts:[[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange","blur","change"],["language","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","click"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(q,De){1&q&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,pt,3,11,"label",1),e.\u0275\u0275template(2,at,1,0,"ng-container",2),e.\u0275\u0275elementStart(3,"div",3)(4,"div",3)(5,"div"),e.\u0275\u0275elementContainer(6,null,4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Ee,2,4,"small",5),e.\u0275\u0275template(9,rt,1,0,"div",6),e.\u0275\u0275template(10,et,2,6,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,tt,4,5,"div",8),e.\u0275\u0275template(12,Ut,4,3,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,qt,1,0,"ng-container",2),e.\u0275\u0275template(14,_t,5,3,"ng-container",10),e.\u0275\u0275projection(15),e.\u0275\u0275elementEnd()),2&q&&(e.\u0275\u0275classProp("form-group","GROUP"!==De.model.type&&De.asBootstrapFormGroup||De.getClass("element","container").includes("form-group"))("d-none",De.model.hidden),e.\u0275\u0275property("formGroup",De.group)("ngClass",e.\u0275\u0275pureFunction2(19,gn,De.getClass("element","container"),De.getClass("grid","container"))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!De.isCheckbox&&De.hasLabel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",null==De.startTemplate?null:De.startTemplate.templateRef)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(22,en,De.model)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(24,pn,De.model.hasLanguages||De.isRelationship,(null==De.value?null:De.value.isVirtual)&&(De.model.hasSelectableMetadata||(null==De.context?null:De.context.index)>0))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",De.getClass("grid","control")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",De.hasHint&&(De.formBuilderService.hasArrayGroupValue(De.model)||!De.model.repeatable&&(!1===De.isRelationship||null===(null==De.value?null:De.value.value))||!0===De.model.repeatable&&(null==De.context?null:De.context.index)===(null==De.context||null==De.context.context||null==De.context.context.groups?null:De.context.context.groups.length)-1)&&(!De.showErrorMessages||0===De.errorMessages.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==(null==De.context?null:De.context.index)&&(!De.showErrorMessages||0===De.errorMessages.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!De.model.hideErrorMessages&&De.showErrorMessages),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",De.model.languageCodes&&De.model.languageCodes.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",De.isRelationship),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",null==De.endTemplate?null:De.endTemplate.templateRef)("ngTemplateOutletContext",De.model),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==De.value?null:De.value.isVirtual))},dependencies:[ie.mk,ie.sg,ie.O5,ie.tP,me.YN,me.Kr,me.EJ,me.JJ,me.JL,me.Q7,me.On,u._L,me.sg,R.fP,Ze.t,ie.Ov,j.X$],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{-webkit-appearance:none;appearance:none}"]}),Pe})()},34774:(Ve,ye,t)=>{"use strict";t.d(ye,{R:()=>K});var e=t(9302),a=t(5737),T=t(45608),R=t(87893),F=t(31042),I=t(82882),Z=t(98678);let K=(()=>{class p{constructor(W,E,Q,V){this.dynamicMatchers=W,this.dynamicFormRelationService=E,this.formBuilderService=Q,this.injector=V}getTypeBindValue(W){let E;return E=(0,T.xI)(W)||"string"==typeof W?W:W instanceof F.u&&W.hasAuthority()?W.authority:W.value,E}getRelatedFormModel(W){const E=[];return W.typeBindRelations.forEach(Q=>Q.when.forEach(V=>{if(W.id===V.id)throw new Error(`FormControl ${W.id} cannot depend on itself`);const J=this.formBuilderService.getTypeBindModel();W&&!E.some($=>$===J)&&E.push(J)})),E}matchesCondition(W,E){const Q=W.operator||a.F8e;return W.when.reduce((V,J,$)=>{const ue=this.formBuilderService.getTypeBindModel();let L,X=ue.value;ue.type===I.Q&&(X=ue.value.map(b=>b[ue.mandatoryField])),L=Array.isArray(X)?[...X.map(b=>this.getTypeBindValue(b))]:[this.getTypeBindValue(X)];let ae=!(ue&&W.match===E.match);for(const b of L){if(ue&&W.match===E.match){if($>0&&Q===a.JHc&&!V)return!1;if($>0&&Q===a.F8e&&V)return!0;if(ae=J.value===b,ae)break}if(ue&&W.match===E.opposingMatch){if($>0&&Q===a.JHc&&V)return!0;if($>0&&Q===a.F8e&&!V)return!1;if(ae=J.value!==b,!ae)break}}return ae},!1)}subscribeRelations(W,E){const Q=this.getRelatedFormModel(W),V=[];return Object.values(Q).forEach(J=>{if((0,T.Uh)(J)){const $=(0,T.xI)(J.value)||"string"==typeof J.value||Array.isArray(J.value)?J.value:J.value.value,L=("CHECKBOX_GROUP"===J.type?J.valueUpdates:J.valueChanges).pipe((0,e.O)($));V.push(L.subscribe(()=>{(0,T.Uh)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(X=>{const ae=this.dynamicFormRelationService.findRelationByMatcher(W.typeBindRelations,X);if(void 0!==ae){const b=this.matchesCondition(ae,X);X.onChange(b,W,E,this.injector)}})}))}}),V}getTypeBindRelations(W){const E=[];return W.forEach(Q=>{E.push({id:"dc.type",value:Q})}),[{match:a._Vz,operator:a.F8e,when:E}]}}return p.\u0275fac=function(W){return new(W||p)(Z.\u0275\u0275inject(a.yOA,8),Z.\u0275\u0275inject(a.uTg),Z.\u0275\u0275inject(R.c),Z.\u0275\u0275inject(Z.Injector))},p.\u0275prov=Z.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},43090:(Ve,ye,t)=>{"use strict";t.d(ye,{fP:()=>y,zw:()=>G});var e=t(98678),a=t(35841),T=t(77007),R=t(77176),I=(t(13005),t(50904)),Z=t(10572),K=t(45608),p=t(122),he=t(91416),W=t(39492),E=t(1579),Q=t(89702),V=t(35103),J=t(87657),$=t(22985),ue=t(96342);function L(B,w){1&B&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-themed-loading",5),e.\u0275\u0275elementContainerEnd()),2&B&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("showMessage",!1))}function X(B,w){if(1&B&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-metadata-representation-loader",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&B){const le=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("mdRepresentation",e.\u0275\u0275pipeBind1(2,1,le.metadataRepresentation$))}}class ae{constructor(w,le){this.oldIndex=w,this.newIndex=le}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class G extends ae{constructor(w,le,te,ce,we,n){super(we,n),this.relationship=w,this.useLeftItem=le,this.store=te,this.submissionID=ce,this.relationship=w,this.useLeftItem=le}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let y=(()=>{class B{constructor(le,te,ce){this.selectableListService=le,this.store=te,this.submissionService=ce,this.metadataRepresentation$=new a.X(void 0),this.remove=new e.EventEmitter,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,K.Uh)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,Z.g1)(),(0,Z.xe)(),(0,T.h)(te=>(0,K.Uh)(te)&&(0,K.UE)(te.uuid))).subscribe(te=>{this.relatedItem=te;const ce=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,K.Uh)(ce)){const we=this.submissionItem.firstMetadata(this.metadataFields,{authority:ce.authority}),n=Object.assign(new I.A(we),this.relatedItem);this.metadataRepresentation$.next(n)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,T.h)(le=>!le.savePending&&!le.isLoading),(0,R.q)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new p.T,{indexableObject:this.relatedItem})),this.store.dispatch(new W.J9(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(le=>(0,K.Uh)(le)).forEach(le=>le.unsubscribe())}}return B.\u0275fac=function(le){return new(le||B)(e.\u0275\u0275directiveInject(he.w),e.\u0275\u0275directiveInject(Q.yh),e.\u0275\u0275directiveInject(E.b))},B.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[e.\u0275\u0275NgOnChangesFeature],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(le,te){1&le&&(e.\u0275\u0275elementStart(0,"div",0)(1,"span",1),e.\u0275\u0275template(2,L,2,1,"ng-container",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,X,3,3,"ng-container",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",3),e.\u0275\u0275listener("click",function(){return te.removeSelection()}),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275element(8,"i",4),e.\u0275\u0275elementEnd()()),2&le&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(3,3,te.metadataRepresentation$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,5,te.metadataRepresentation$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(7,7,"form.remove")))},dependencies:[V.O5,J.Z,$.G,V.Ov,ue.X$]}),B})()},47565:(Ve,ye,t)=>{"use strict";t.d(ye,{t:()=>ae});var e=t(98678),a=t(35841),T=t(77007),F=(t(13005),t(10572)),I=t(45608),Z=t(122),K=t(91416),p=t(39492),he=t(41529),E=(t(43090),t(1579)),Q=t(89702),V=t(35103),J=t(87657),$=t(35534);function ue(b,G){1&b&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-themed-loading",5),e.\u0275\u0275elementContainerEnd()),2&b&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("showMessage",!1))}function L(b,G){if(1&b&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ds-listable-object-component-loader",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&b){const y=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("showLabel",!1)("viewMode",y.viewType)("object",e.\u0275\u0275pipeBind1(2,3,y.relatedItem$))}}let ae=(()=>{class b{constructor(y,B,w){this.selectableListService=y,this.submissionService=B,this.store=w,this.relatedItem$=new a.X(void 0),this.viewType=he.w.ListElement,this.remove=new e.EventEmitter,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,I.Uh)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,F.g1)(),(0,F.xe)(),(0,T.h)(B=>(0,I.Uh)(B)&&(0,I.UE)(B.uuid))).subscribe(B=>{this.relatedItem$.next(B)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new Z.T,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new p.J9(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(y=>(0,I.Uh)(y)).forEach(y=>y.unsubscribe())}}return b.\u0275fac=function(y){return new(y||b)(e.\u0275\u0275directiveInject(K.w),e.\u0275\u0275directiveInject(E.b),e.\u0275\u0275directiveInject(Q.yh))},b.\u0275cmp=e.\u0275\u0275defineComponent({type:b,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[e.\u0275\u0275NgOnChangesFeature],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","mr-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(y,B){1&y&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,ue,2,1,"ng-container",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,L,3,5,"ng-container",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",3),e.\u0275\u0275listener("click",function(){return B.removeSelection()}),e.\u0275\u0275element(7,"i",4),e.\u0275\u0275elementEnd()()),2&y&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(3,2,B.relatedItem$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,4,B.relatedItem$)))},dependencies:[V.O5,J.Z,$.p,V.Ov],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]}),b})()},95623:(Ve,ye,t)=>{"use strict";t.d(ye,{s:()=>W});var e=t(98678),a=t(5737),T=t(45608);function F(E,Q){1&E&&e.\u0275\u0275elementContainer(0)}t(77846);const I=function(E){return[E]},Z=function(E,Q){return[E,Q]};function K(E,Q){if(1&E){const V=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-dynamic-form-control-container",9),e.\u0275\u0275listener("dfBlur",function($){e.\u0275\u0275restoreView(V);const ue=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(ue.onBlur($))})("dfChange",function($){e.\u0275\u0275restoreView(V);const ue=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(ue.onChange($))})("dfFocus",function($){e.\u0275\u0275restoreView(V);const ue=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(ue.onFocus($))})("ngbEvent",function($){e.\u0275\u0275restoreView(V);const ue=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(ue.onCustomEvent($,null,!0))}),e.\u0275\u0275elementEnd()}if(2&E){const V=Q.$implicit,J=e.\u0275\u0275nextContext(),$=J.$implicit,ue=J.index,L=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("d-none",V.hidden),e.\u0275\u0275property("bindId",!1)("formGroup",L.group)("formModel",L.formModel)("context",$)("group",L.control.get(e.\u0275\u0275pureFunction1(12,I,ue)))("hidden",V.hidden)("layout",L.formLayout)("model",V)("templates",L.templates)("ngClass",e.\u0275\u0275pureFunction2(14,Z,L.getClass("element","host",V),L.getClass("grid","host",V)))}}function p(E,Q){1&E&&e.\u0275\u0275elementContainer(0)}function he(E,Q){if(1&E&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",5),e.\u0275\u0275element(2,"i",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,F,1,0,"ng-container",7),e.\u0275\u0275template(4,K,1,17,"ds-dynamic-form-control-container",8),e.\u0275\u0275template(5,p,1,0,"ng-container",7),e.\u0275\u0275elementEnd()),2&E){const V=Q.$implicit,J=Q.index,$=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("grey-background",$.model.isInlineGroupArray),e.\u0275\u0275property("formGroupName",J)("ngClass",e.\u0275\u0275pureFunction2(15,Z,$.getClass("element","group"),$.getClass("grid","group")))("cdkDragDisabled",$.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("drag-disable",$.dragDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("drag-disable",$.dragDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",null==$.startTemplate?null:$.startTemplate.templateRef)("ngTemplateOutletContext",V),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",V.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",null==$.endTemplate?null:$.endTemplate.templateRef)("ngTemplateOutletContext",V)}}let W=(()=>{class E extends a.CRj{constructor(V,J){super(V,J),this.layoutService=V,this.validationService=J,this.bindId=!0,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.customEvent=new e.EventEmitter}moveSelection(V){if(V.previousIndex===V.currentIndex)return;this.model.moveGroup(V.previousIndex,V.currentIndex-V.previousIndex);const J=V.previousIndex,$=V.currentIndex;(0,T.Uh)(this.model.groups[$])&&(0,T.Uh)(this.control.controls[$])&&this.onCustomEvent({previousIndex:J,index:$,arrayModel:this.model,model:this.model.groups[$].group[0],control:this.control.controls[$]},"move")}update(V,J){const $=Object.assign({},V,{context:{index:J-1}});this.onChange($)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}}return E.\u0275fac=function(V){return new(V||E)(e.\u0275\u0275directiveInject(a.vnf),e.\u0275\u0275directiveInject(a.fhz))},E.\u0275cmp=e.\u0275\u0275defineComponent({type:E,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:function(V,J){1&V&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2),e.\u0275\u0275listener("cdkDropListDropped",function(ue){return J.moveSelection(ue)}),e.\u0275\u0275template(3,he,6,18,"div",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&V&&(e.\u0275\u0275property("formGroup",J.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",J.model.hidden),e.\u0275\u0275property("id",J.id)("formArrayName",J.model.id)("ngClass",J.getClass("element","control")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",J.model.groups))},styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),E})()},380:(Ve,ye,t)=>{"use strict";t.d(ye,{_:()=>K});var e=t(98678),a=t(71041),R=(t(2958),t(5737)),F=t(35103),I=t(5476);const Z=function(p,he){return[p,he]};let K=(()=>{class p extends a.Gy{constructor(W,E){super(W,E),this.bindId=!0,this.selected=new e.EventEmitter,this.remove=new e.EventEmitter,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return p.\u0275fac=function(W){return new(W||p)(e.\u0275\u0275directiveInject(R.vnf),e.\u0275\u0275directiveInject(R.fhz))},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:20,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"form-check-input","custom-control-input",3,"checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(W,E){1&W&&(e.\u0275\u0275elementStart(0,"div",0)(1,"input",1),e.\u0275\u0275listener("blur",function(V){return E.onBlur(V)})("change",function(V){return E.onChange(V)})("focus",function(V){return E.onFocus(V)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",2),e.\u0275\u0275element(3,"span",3),e.\u0275\u0275elementEnd()()),2&W&&(e.\u0275\u0275classProp("disabled",E.model.disabled),e.\u0275\u0275property("formGroup",E.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",E.showErrorMessages),e.\u0275\u0275property("checked",E.model.checked)("id",E.id)("formControlName",E.model.id)("indeterminate",E.model.indeterminate)("name",E.model.name)("ngClass",E.getClass("element","control"))("required",E.model.required)("tabindex",E.model.tabIndex)("value",E.model.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",E.bindId&&E.model.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",E.model.label,e.\u0275\u0275sanitizeHtml)("ngClass",e.\u0275\u0275pureFunction2(17,Z,E.getClass("element","label"),E.getClass("grid","label"))))},dependencies:[F.mk,I.Wl,I.JJ,I.JL,I.Zs,I.sg,I.u]}),p})()},2958:(Ve,ye,t)=>{"use strict";t.d(ye,{c:()=>T,p:()=>R});var e=t(70655),a=t(5737);const T="CUSTOM_SWITCH";class R extends a.dwp{constructor(I,Z){super(I,Z),this.type=T}}(0,e.__decorate)([(0,a.BgY)(),(0,e.__metadata)("design:type",String)],R.prototype,"type",void 0)},97611:(Ve,ye,t)=>{"use strict";t.d(ye,{u:()=>K});var e=t(98678),a=t(65706),T=t(5737),R=t(35103),F=t(5476);function I(p,he){if(1&p&&e.\u0275\u0275element(0,"i",7),2&p){const W=e.\u0275\u0275nextContext();e.\u0275\u0275classMap(W.model.toggleIcon)}}function Z(p,he){if(1&p&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&p){const W=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(W.model.toggleLabel)}}let K=(()=>{class p extends T.LvC{constructor(W,E,Q){super(W,E),this.layoutService=W,this.validationService=E,this.config=Q,this.bindId=!0,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return p.\u0275fac=function(W){return new(W||p)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz),e.\u0275\u0275directiveInject(a.M4))},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(W,E){if(1&W&&e.\u0275\u0275viewQuery(a.VL,5),2&W){let Q;e.\u0275\u0275queryRefresh(Q=e.\u0275\u0275loadQuery())&&(E.ngbDatePicker=Q.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:25,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate","blur","dateSelect","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(W,E){if(1&W){const Q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"input",1,2),e.\u0275\u0275listener("blur",function(J){return E.onBlur(J)})("dateSelect",function(J){return E.onChange(J)})("change",function(J){return E.onChange(J)})("focus",function(J){return E.onFocus(J)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(Q);const J=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(J.toggle())}),e.\u0275\u0275template(5,I,1,3,"i",5),e.\u0275\u0275template(6,Z,2,1,"span",6),e.\u0275\u0275elementEnd()()()}2&W&&(e.\u0275\u0275property("formGroup",E.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",E.showErrorMessages),e.\u0275\u0275property("displayMonths",E.model.getAdditional("displayMonths",E.config.displayMonths))("id",E.id)("firstDayOfWeek",E.model.getAdditional("firstDayOfWeek",E.config.firstDayOfWeek))("formControlName",E.model.id)("maxDate",E.model.max)("minDate",E.model.min)("name",E.model.name)("navigation",E.model.getAdditional("navigation",E.config.navigation))("ngClass",E.getClass("element","control"))("outsideDays",E.model.getAdditional("outsideDays",E.config.outsideDays))("placeholder",E.model.placeholder)("placement",E.model.getAdditional("placement","bottom-left"))("weekdays",E.model.getAdditional("showWeekdays",E.config.showWeekdays))("showWeekNumbers",E.model.getAdditional("showWeekNumbers",E.config.showWeekNumbers))("startDate",E.model.focusedDate),e.\u0275\u0275attribute("aria-labelledby","label_"+E.model.id),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("disabled",E.model.disabled),e.\u0275\u0275property("disabled",E.model.disabled),e.\u0275\u0275attribute("aria-labelledby","label_"+E.model.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",E.model.toggleIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",E.model.toggleLabel))},dependencies:[R.mk,R.O5,F.Fj,F.JJ,F.JL,F.sg,F.u,a.J4],encapsulation:2}),p})()},54191:(Ve,ye,t)=>{"use strict";t.d(ye,{x:()=>F});var e=t(98678),a=t(5737),R=(t(57359),t(96342));let F=(()=>{class I extends a.LvC{constructor(K,p){super(K,p),this.layoutService=K,this.validationService=p,this.modelValuesString="",this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return I.\u0275fac=function(K){return new(K||I)(e.\u0275\u0275directiveInject(a.vnf),e.\u0275\u0275directiveInject(a.fhz))},I.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(K,p){1&K&&(e.\u0275\u0275elementStart(0,"div")(1,"div",0)(2,"div",1),e.\u0275\u0275element(3,"input",2),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()),2&K&&(e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-invalid",p.showErrorMessages),e.\u0275\u0275property("id",p.id)("name",p.model.name)("value",p.modelValuesString)("disabled",p.model.disabled)("type",p.model.inputType)("placeholder",e.\u0275\u0275pipeBind1(4,9,p.model.placeholder))("readonly",p.model.readOnly))},dependencies:[R.X$],encapsulation:2}),I})()},29459:(Ve,ye,t)=>{"use strict";t.d(ye,{m:()=>W});var e=t(5737),a=t(48358),T=t(9237),R=t(59600),F=t(45608),I=t(31042),Z=t(22726),p=(t(66144),t(87483)),he=t(98678);let W=(()=>{class E extends e.LvC{constructor(V,J,$){super(J,$),this.vocabularyService=V,this.layoutService=J,this.validationService=$}getInitValueFromModel(){let V;if((0,F.UE)(this.model.value)&&this.model.value instanceof I.u&&!this.model.value.hasAuthorityToGenerate()){let J;J=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),V=J.pipe((0,a.U)($=>(0,F.UE)($)?new I.u($.value,null,$.authority,$.display,this.model.value.place,null,$.otherInformation||null):this.model.value))}else V=(0,F.UE)(this.model.value)&&this.model.value instanceof Z.j?(0,T.of)(new I.u(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,T.of)(new I.u(this.model.value));return V}onBlur(V){this.blur.emit(V)}onFocus(V){this.focus.emit(V)}dispatchUpdate(V){this.model.value=V,this.change.emit(V)}updatePageInfo(V,J,$,ue){this.pageInfo=Object.assign(new p.S,{elementsPerPage:V,currentPage:J,totalElements:$,totalPages:ue})}}return E.\u0275fac=function(V){return new(V||E)(he.\u0275\u0275directiveInject(R.c),he.\u0275\u0275directiveInject(e.vnf),he.\u0275\u0275directiveInject(e.fhz))},E.\u0275cmp=he.\u0275\u0275defineComponent({type:E,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[he.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(V,J){},encapsulation:2}),E})()},4915:(Ve,ye,t)=>{"use strict";t.d(ye,{i:()=>F});var e=t(98678),a=t(5737);const T=function(I,Z){return[I,Z]};function R(I,Z){if(1&I){const K=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-dynamic-form-control-container",4),e.\u0275\u0275listener("dfBlur",function(he){e.\u0275\u0275restoreView(K);const W=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(W.onBlur(he))})("dfChange",function(he){e.\u0275\u0275restoreView(K);const W=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(W.onChange(he))})("dfFocus",function(he){e.\u0275\u0275restoreView(K);const W=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(W.onFocus(he))})("ngbEvent",function(he){e.\u0275\u0275restoreView(K);const W=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(W.onCustomEvent(he,null,!0))}),e.\u0275\u0275elementEnd()}if(2&I){const K=Z.$implicit,p=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("d-none",K.hidden),e.\u0275\u0275property("formGroup",p.group)("formModel",p.formModel)("group",p.control)("hasErrorMessaging",p.model.hasErrorMessages)("hidden",K.hidden)("layout",p.formLayout)("model",K)("templates",p.templates)("ngClass",e.\u0275\u0275pureFunction2(11,T,p.getClass("element","host",K),p.getClass("grid","host",K)))}}let F=(()=>{class I extends a.LvC{constructor(K,p){super(K,p),this.layoutService=K,this.validationService=p,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.customEvent=new e.EventEmitter}}return I.\u0275fac=function(K){return new(K||I)(e.\u0275\u0275directiveInject(a.vnf),e.\u0275\u0275directiveInject(a.fhz))},I.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:function(K,p){1&K&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementContainerStart(1,1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,R,1,14,"ds-dynamic-form-control-container",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&K&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",p.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",p.model.hidden),e.\u0275\u0275property("formGroupName",p.model.id)("id",p.id)("ngClass",p.getClass("element","control")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",p.model.group))},encapsulation:2}),I})()},21698:(Ve,ye,t)=>{"use strict";t.d(ye,{d:()=>L});var e=t(98678),a=t(5737),T=t(34045),R=t.n(T),F=t(45608),I=t(87893),Z=t(59600),K=t(10572),p=t(87483),he=t(35103),W=t(5476);function E(X,ae){if(1&X){const b=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"input",8),e.\u0275\u0275listener("blur",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(B.onBlur(y))})("change",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(B.onChange(y))})("focus",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(B.onFocus(y))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",9),e.\u0275\u0275element(3,"span",10),e.\u0275\u0275elementEnd()()}if(2&X){const b=ae.$implicit,G=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",b.value)("id",b.id)("formControlName",b.id)("name",G.model.name)("value",b.value),e.\u0275\u0275attribute("aria-labelledby","label_"+G.model.id)("tabindex",b.index),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",G.model.disabled),e.\u0275\u0275property("ngClass",null==G.model.layout.element?null:G.model.layout.element.control)("for",b.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",null==G.model.layout.element?null:G.model.layout.element.label)("innerHTML",b.label,e.\u0275\u0275sanitizeHtml)}}function Q(X,ae){if(1&X&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,E,4,13,"div",6),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&X){const b=ae.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",b)}}function V(X,ae){if(1&X&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275template(1,Q,3,1,"div",4),e.\u0275\u0275elementEnd()),2&X){const b=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",b.id)("formGroupName",b.model.id)("ngClass",null==b.model.layout.element?null:b.model.layout.element.control),e.\u0275\u0275attribute("tabindex",b.model.tabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",b.items)}}function J(X,ae){if(1&X){const b=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"input",14),e.\u0275\u0275listener("blur",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(B.onBlur(y))})("focus",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(B.onFocus(y))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",9),e.\u0275\u0275element(3,"span",10),e.\u0275\u0275elementEnd()()}if(2&X){const b=ae.$implicit,G=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",b.value)("id",b.id)("name",G.model.id)("required",G.model.required)("value",b.index),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",G.model.disabled),e.\u0275\u0275property("ngClass",null==G.model.layout.element?null:G.model.layout.element.control)("for",b.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",null==G.model.layout.element?null:G.model.layout.element.label)("innerHTML",b.label,e.\u0275\u0275sanitizeHtml)}}function $(X,ae){if(1&X&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,J,4,11,"div",12),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&X){const b=ae.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",b)}}function ue(X,ae){if(1&X){const b=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("change",function(y){e.\u0275\u0275restoreView(b);const B=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(B.onChange(y))}),e.\u0275\u0275template(1,$,3,1,"div",4),e.\u0275\u0275elementEnd()}if(2&X){const b=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",b.id)("ngClass",null==b.model.layout.element?null:b.model.layout.element.control),e.\u0275\u0275attribute("tabindex",b.model.tabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",b.items)}}let L=(()=>{class X extends a.LvC{constructor(b,G,y,B,w){super(B,w),this.vocabularyService=b,this.cdr=G,this.formBuilderService=y,this.layoutService=B,this.validationService=w,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&(0,F.Uh)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(b){this.blur.emit(b)}onFocus(b){this.focus.emit(b)}onChange(b){const G=b.target;if(this.model.repeatable){const y=this.optionsList[G.tabIndex];if(G.checked)this.model.valueUpdates.next(y);else{const B=[];this.model.value.filter(w=>w.value!==y.value).forEach(w=>B.push(w)),this.model.valueUpdates.next(B)}}else this.model.value=this.optionsList[G.value];this.change.emit(b)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const b=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&b.addValidators(this.hasAtLeastOneVocabularyEntry());const G=new p.S({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,G).pipe((0,K.Gp)()).subscribe(y=>{let B=0,w=0,le=[];this.optionsList=y.page,y.page.forEach((te,ce)=>{const we=te.authority||te.value,n=(0,F.UE)(R()(this.model.value,ke=>ke.value===te.value)),oe={id:`${this.model.id}_${we}`,label:te.display,value:n,index:ce};this.model.repeatable?this.formBuilderService.addFormGroupControl(b,this.model,new a.dwp(oe)):this.model.options.push({label:oe.label,value:te}),le.push(oe),w++,this.items[B]=le,w===this.model.groupLength&&(B++,w=0,le=[])}),this.cdr.markForCheck()})}}hasAtLeastOneVocabularyEntry(){return b=>b&&b.value&&Object.values(b.value).find(G=>!0===G)?null:this.model.errorMessages}}return X.\u0275fac=function(b){return new(b||X)(e.\u0275\u0275directiveInject(Z.c),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(I.c),e.\u0275\u0275directiveInject(a.vnf),e.\u0275\u0275directiveInject(a.fhz))},X.\u0275cmp=e.\u0275\u0275defineComponent({type:X,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked","id","formControlName","name","value","blur","change","focus"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"id","ngClass","change"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"checked","id","name","required","value","blur","focus"]],template:function(b,G){1&b&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,V,2,5,"div",1),e.\u0275\u0275template(2,ue,2,4,"div",2),e.\u0275\u0275elementEnd()),2&b&&(e.\u0275\u0275property("formGroup",G.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",G.model.repeatable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!G.model.repeatable))},dependencies:[he.mk,he.sg,he.O5,W.Wl,W.JJ,W.JL,W.sg,W.u,W.x0]}),X})()},2709:(Ve,ye,t)=>{"use strict";t.d(ye,{G:()=>We});var e=t(98678),a=t(9237),T=t(9249),R=t(49887),F=t(59600),I=t(45608),Z=t(87483),K=t(31042),p=t(22726),he=t(53104),W=t(20942),E=t(10572),Q=t(29459),V=t(5737),J=t(35103),$=t(5476),ue=t(60235),L=t(65706),X=t(48715),ae=t(60803),b=t(96342);const G=function(){return{}};function y(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"input",18),e.\u0275\u0275listener("ngModelChange",function(ne){e.\u0275\u0275restoreView(A);const Be=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Be.secondInputValue=ne)})("change",function(ne){e.\u0275\u0275restoreView(A);const Be=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Be.onChange(ne))})("blur",function(ne){e.\u0275\u0275restoreView(A);const Be=e.\u0275\u0275nextContext(),re=e.\u0275\u0275reference(1);return Be.onBlur(ne),ne.stopPropagation(),e.\u0275\u0275resetView(re.close())})("focus",function(ne){e.\u0275\u0275restoreView(A);const Be=e.\u0275\u0275nextContext(),re=e.\u0275\u0275reference(1);return Be.onFocus(ne),ne.stopPropagation(),e.\u0275\u0275resetView(re.close())})("click",function(ne){e.\u0275\u0275restoreView(A),e.\u0275\u0275nextContext();const Be=e.\u0275\u0275reference(1);return ne.stopPropagation(),e.\u0275\u0275resetView(Be.close())}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}if(2&Ce){const A=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",A.showErrorMessages),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction0(14,G))("id",A.id)("name",A.model.name+"_2")("type",A.model.inputType)("ngModel",A.secondInputValue)("disabled",0===A.firstInputValue.length||A.isInputDisabled())("placeholder",e.\u0275\u0275pipeBind1(2,12,A.model.secondPlaceholder))("readonly",A.model.readOnly),e.\u0275\u0275attribute("aria-labelledby","label_"+A.model.id)("autoComplete",A.model.autoComplete)}}function B(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(A);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.remove())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&Ce){const A=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"form.clear-help")),e.\u0275\u0275property("disabled",A.model.readOnly),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,"form.clear")," ")}}function w(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(A);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.switchEditMode())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&Ce){const A=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"form.edit-help")),e.\u0275\u0275property("disabled",A.isEditDisabled()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,"form.edit")," ")}}function le(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(A);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.saveChanges())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&Ce){const A=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,3,"form.save-help")),e.\u0275\u0275property("disabled",!A.hasEmptyValue()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,"form.save")," ")}}function te(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(ne){e.\u0275\u0275restoreView(A);const Be=e.\u0275\u0275nextContext(),re=e.\u0275\u0275reference(1);return ne.stopPropagation(),Be.clearFields(),e.\u0275\u0275resetView(re.close())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&Ce&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"form.no-results")," "))}const ce=function(Ce){return{entry:Ce}};function we(Ce,se){if(1&Ce){const A=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",21),e.\u0275\u0275listener("click",function(ne){const re=e.\u0275\u0275restoreView(A).$implicit,U=e.\u0275\u0275nextContext(),k=e.\u0275\u0275reference(1);return ne.stopPropagation(),U.onSelect(re),e.\u0275\u0275resetView(k.close())}),e.\u0275\u0275elementContainer(1,22),e.\u0275\u0275elementEnd()}if(2&Ce){const A=se.$implicit;e.\u0275\u0275nextContext();const H=e.\u0275\u0275reference(23),ne=e.\u0275\u0275reference(25);e.\u0275\u0275propertyInterpolate("title",A.display),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",A.hasOtherInformation()?H:ne)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(3,ce,A))}}function n(Ce,se){1&Ce&&(e.\u0275\u0275elementStart(0,"div",23)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),2&Ce&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"form.loading")))}function oe(Ce,se){if(1&Ce&&(e.\u0275\u0275elementStart(0,"li",27),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&Ce){const A=se.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(2,2,"form.other-information."+A.key)," : ",A.value," ")}}function ke(Ce,se){if(1&Ce&&(e.\u0275\u0275elementStart(0,"ul",24)(1,"li",25),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,oe,3,4,"li",26),e.\u0275\u0275pipe(4,"dsObjNgFor"),e.\u0275\u0275elementEnd()),2&Ce){const A=se.entry,H=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("aria-labelledby","label_"+H.model.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(A.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,3,A.otherInformation))}}function nt(Ce,se){if(1&Ce&&(e.\u0275\u0275elementStart(0,"ul",24)(1,"li",25),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&Ce){const A=se.entry,H=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("aria-labelledby","label_"+H.model.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(A.value)}}let We=(()=>{class Ce extends Q.m{constructor(A,H,ne,Be){super(A,ne,Be),this.vocabularyService=A,this.cdr=H,this.layoutService=ne,this.validationService=Be,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(re,U)=>1===U?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,I.UE)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(A=>{(0,I.xb)(A)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,I.Uh)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,I.UE)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof he.z}isSearchDisabled(){return(0,I.xb)(this.firstInputValue)||this.editMode}onChange(A){if(A.preventDefault(),!this.model.vocabularyOptions.closed)if((0,I.UE)(this.getCurrentValue())){const H=new K.u(this.getCurrentValue());this.editMode||this.updateModel(H)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(A){this.updateModel(A)}openChange(A){A||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,I.UE)(this.getCurrentValue())){const A=Object.assign(new p.j,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(A)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,E.Gp)(),(0,T.K)(()=>(0,a.of)((0,W.b)(new Z.S,[]))),(0,R.x)()).subscribe(A=>{this.optionsList=A.page,this.updatePageInfo(A.pageInfo.elementsPerPage,A.pageInfo.currentPage,A.pageInfo.totalElements,A.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(A,H){this.model.readOnly||(A.open(),this.search())}ngOnDestroy(){this.subs.filter(A=>(0,I.Uh)(A)).forEach(A=>A.unsubscribe())}setCurrentValue(A,H=!1){H?this.getInitValueFromModel().subscribe(ne=>this.setDisplayInputValue(ne.display)):(0,I.Uh)(A)&&(A instanceof K.u||A instanceof p.j)&&this.setDisplayInputValue(A.display)}setDisplayInputValue(A){if((0,I.Uh)(A)){if(this.isLookupName()){const H=A.split(this.model.separator);this.firstInputValue=(H[0]||"").trim(),this.secondInputValue=(H[1]||"").trim()}else this.firstInputValue=A||"";this.cdr.detectChanges()}}getCurrentValue(){let A="";return this.isLookupName()?((0,I.UE)(this.firstInputValue)&&(A=this.firstInputValue),(0,I.UE)(this.secondInputValue)&&(A=(0,I.xb)(A)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):A=this.firstInputValue,A}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(A){this.group.markAsDirty(),this.dispatchUpdate(A),this.setCurrentValue(A),this.optionsList=null,this.pageInfo=null}}return Ce.\u0275fac=function(A){return new(A||Ce)(e.\u0275\u0275directiveInject(F.c),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(V.vnf),e.\u0275\u0275directiveInject(V.fhz))},Ce.\u0275cmp=e.\u0275\u0275defineComponent({type:Ce,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:26,vars:33,consts:[["ngbDropdown","",3,"click","openChange"],["sdRef","ngbDropdown"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"form-control",3,"id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","hidden","click"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["hasInfo",""],["noInfo",""],[1,"col"],[1,"form-control",3,"ngClass","id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","click"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"title","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(A,H){if(1&A){const ne=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("click",function(re){return re.stopPropagation()})("openChange",function(re){return H.openChange(re)}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"i",4),e.\u0275\u0275listener("whenClickOnConfidenceNotAccepted",function(re){e.\u0275\u0275restoreView(ne);const U=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(H.whenClickOnConfidenceNotAccepted(U,re))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",5),e.\u0275\u0275listener("ngModelChange",function(re){return H.firstInputValue=re})("change",function(re){return H.onChange(re)})("blur",function(re){e.\u0275\u0275restoreView(ne);const U=e.\u0275\u0275reference(1);return H.onBlur(re),re.stopPropagation(),e.\u0275\u0275resetView(U.close())})("focus",function(re){e.\u0275\u0275restoreView(ne);const U=e.\u0275\u0275reference(1);return H.onFocus(re),re.stopPropagation(),e.\u0275\u0275resetView(U.close())})("click",function(re){e.\u0275\u0275restoreView(ne);const U=e.\u0275\u0275reference(1);return re.stopPropagation(),re.stopPropagation(),e.\u0275\u0275resetView(U.close())}),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,y,3,15,"div",6),e.\u0275\u0275elementStart(8,"div",7)(9,"button",8),e.\u0275\u0275listener("click",function(re){return e.\u0275\u0275restoreView(ne),e.\u0275\u0275reference(1).open(),H.search(),e.\u0275\u0275resetView(re.stopPropagation())}),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,B,4,7,"button",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275template(15,w,4,7,"button",9),e.\u0275\u0275template(16,le,4,7,"button",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",10)(18,"div",11),e.\u0275\u0275listener("scrolled",function(){return H.onScroll()}),e.\u0275\u0275template(19,te,3,3,"button",12),e.\u0275\u0275template(20,we,2,5,"button",13),e.\u0275\u0275template(21,n,4,3,"div",14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(22,ke,5,5,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(24,nt,3,2,"ng-template",null,16,e.\u0275\u0275templateRefExtractor)}2&A&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("authorityValue",H.model.value),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",H.showErrorMessages),e.\u0275\u0275property("id",H.model.id)("name",H.model.name)("type",H.model.inputType)("ngModel",H.firstInputValue)("disabled",H.isInputDisabled())("placeholder",e.\u0275\u0275pipeBind1(6,27,H.model.placeholder))("readonly",H.model.readOnly),e.\u0275\u0275attribute("aria-labelledby","label_"+H.model.id)("autoComplete",H.model.autoComplete),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",H.isLookupName()),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(10,29,"form.search-help")),e.\u0275\u0275property("disabled",H.model.readOnly||H.isSearchDisabled())("hidden",H.isInputDisabled()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(12,31,"form.search")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",H.isInputDisabled()),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!H.editMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",H.editMode),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-labelledby","label_"+H.model.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",H.optionsList&&0==H.optionsList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",H.optionsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",H.loading))},dependencies:[J.mk,J.sg,J.O5,J.tP,$.Fj,$.JJ,$.On,ue.Ry,L.jt,L.YE,L.Vi,L._L,X.e,ae.C,b.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;overflow-y:auto!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]}),Ce})()},9202:(Ve,ye,t)=>{"use strict";t.d(ye,{r:()=>re});var e=t(98678),a=t(22720),T=t(3358),R=t(49887),F=t(27303),I=t(21160),Z=t(9249),K=t(48358),p=t(77007),he=t(77176),W=t(42878),E=t(1828),Q=t(9237),V=t(59600),$=(t(36650),t(45608)),ue=t(31042),L=t(10572),X=t(20942),ae=t(87483),b=t(29459),G=t(30879),y=t(5737),B=t(65706),w=t(35103),le=t(5476),te=t(48715),ce=t(60803),we=t(96342);const n=["instance"],oe=function(U){return{entry:U}};function ke(U,k){if(1&U&&e.\u0275\u0275elementContainer(0,4),2&U){const m=k.result;e.\u0275\u0275nextContext();const P=e.\u0275\u0275reference(3),S=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",m.hasOtherInformation()?P:S)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,oe,m))}}function nt(U,k){if(1&U&&(e.\u0275\u0275elementStart(0,"li",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&U){const m=k.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(2,2,"form.other-information."+m.key)," : ",m.value," ")}}function We(U,k){if(1&U&&(e.\u0275\u0275elementStart(0,"ul",5)(1,"li",6),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,nt,3,4,"li",7),e.\u0275\u0275pipe(4,"dsObjNgFor"),e.\u0275\u0275elementEnd()),2&U){const m=k.entry;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(m.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,2,m.otherInformation))}}function Ce(U,k){if(1&U&&(e.\u0275\u0275elementStart(0,"ul",5)(1,"li",6),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&U){const m=k.entry;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(m.value)}}function se(U,k){1&U&&e.\u0275\u0275element(0,"i",15)}function A(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",16),e.\u0275\u0275listener("whenClickOnConfidenceNotAccepted",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(z.whenClickOnConfidenceNotAccepted(S))}),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("authorityValue",m.currentValue)}}function H(U,k){1&U&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1,"Sorry, suggestions could not be loaded."),e.\u0275\u0275elementEnd())}function ne(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,se,1,0,"i",10),e.\u0275\u0275template(2,A,1,1,"i",11),e.\u0275\u0275elementStart(3,"input",12,13),e.\u0275\u0275listener("ngModelChange",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.currentValue=S)})("blur",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onBlur(S))})("focus",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onFocus(S))})("change",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onChange(S))})("input",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onInput(S))})("selectItem",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onSelectItem(S))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,H,2,0,"div",14),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext(),P=e.\u0275\u0275reference(1);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.searching),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!m.searching),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",m.showErrorMessages),e.\u0275\u0275property("id",m.model.id)("inputFormatter",m.formatter)("name",m.model.name)("ngbTypeahead",m.search)("placeholder",m.model.placeholder)("readonly",m.model.readOnly)("disabled",m.model.readOnly)("resultTemplate",P)("type",m.model.inputType)("ngModel",m.currentValue),e.\u0275\u0275attribute("aria-labelledby","label_"+m.model.id)("autoComplete",m.model.autoComplete),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.searchFailed)}}function Be(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"i",18),e.\u0275\u0275listener("click",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.openTree(S))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"input",19),e.\u0275\u0275listener("focus",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onFocus(S))})("change",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onChange(S))})("click",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.openTree(S))})("keydown",function(S){return S.preventDefault()})("keypress",function(S){return S.preventDefault()})("keyup",function(S){return S.preventDefault()}),e.\u0275\u0275elementEnd()()}if(2&U){const m=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-invalid",m.showErrorMessages)("tree-input",!m.model.readOnly),e.\u0275\u0275property("id",m.id)("name",m.model.name)("placeholder",m.model.placeholder)("readonly",!0)("disabled",m.model.readOnly)("type",m.model.inputType)("value",null==m.currentValue?null:m.currentValue.display),e.\u0275\u0275attribute("aria-labelledby","label_"+m.model.id)("autoComplete",m.model.autoComplete)}}let re=(()=>{class U extends b.m{constructor(m,P,S,z,D){super(m,S,D),this.vocabularyService=m,this.cdr=P,this.layoutService=S,this.modalService=z,this.validationService=D,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.pageInfo=new ae.S,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new W.y(()=>()=>this.changeSearchingStatus(!1)),this.click$=new E.x,this.subs=[],this.formatter=ee=>"object"==typeof ee?ee.display:ee,this.search=ee=>ee.pipe((0,a.T)(this.click$),(0,T.b)(300),(0,R.x)(),(0,F.b)(()=>this.changeSearchingStatus(!0)),(0,I.w)(fe=>""===fe||fe.length<this.model.minChars?(0,Q.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(fe,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,L.Gp)(),(0,F.b)(()=>this.searchFailed=!1),(0,Z.K)(()=>(this.searchFailed=!0,(0,Q.of)((0,X.b)(new ae.S,[])))))),(0,K.U)(fe=>fe.page),(0,F.b)(()=>this.changeSearchingStatus(!1)),(0,a.T)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,L.Gp)(),(0,R.x)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,K.U)(m=>m.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,p.h)(m=>this.currentValue!==m)).subscribe(m=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(m){this.searching=m,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(m){!this.model.vocabularyOptions.closed&&(0,$.UE)(m.target.value)&&(this.inputValue=new ue.u(m.target.value))}onBlur(m){this.instance.isPopupOpen()?(m.preventDefault(),m.stopImmediatePropagation(),m.target.focus()):(!this.model.vocabularyOptions.closed&&(0,$.UE)(this.inputValue)&&((0,$.K0)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(m))}onChange(m){m.stopPropagation(),(0,$.xb)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(m){this.inputValue=null,this.setCurrentValue(m.item),this.dispatchUpdate(m.item)}openTree(m){this.model.readOnly||(m.preventDefault(),m.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,K.U)(P=>P.preloadLevel),(0,he.q)(1)).subscribe(P=>{const S=this.modalService.open(G.L,{size:"lg",windowClass:"treeview"});S.componentInstance.vocabularyOptions=this.model.vocabularyOptions,S.componentInstance.preloadLevel=P,S.componentInstance.selectedItems=this.currentValue?[this.currentValue.value]:[],S.result.then(z=>{z&&(this.currentValue=z,this.dispatchUpdate(z))},()=>{})})))}whenClickOnConfidenceNotAccepted(m){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(m,P=!1){let S;P?this.getInitValueFromModel().subscribe(z=>{this.currentValue=z,this.cdr.detectChanges()}):(S=(0,$.xb)(m)?"":m.value,this.currentValue=S,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(m=>(0,$.Uh)(m)).forEach(m=>m.unsubscribe())}}return U.\u0275fac=function(m){return new(m||U)(e.\u0275\u0275directiveInject(V.c),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(y.vnf),e.\u0275\u0275directiveInject(B.FF),e.\u0275\u0275directiveInject(y.fhz))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["ds-dynamic-onebox"]],viewQuery:function(m,P){if(1&m&&e.\u0275\u0275viewQuery(n,5),2&m){let S;e.\u0275\u0275queryRefresh(S=e.\u0275\u0275loadQuery())&&(P.instance=S.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel","ngModelChange","blur","focus","change","input","selectItem"],["instance","ngbTypeahead"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"id","name","placeholder","readonly","disabled","type","value","focus","change","click","keydown","keypress","keyup"]],template:function(m,P){1&m&&(e.\u0275\u0275template(0,ke,1,4,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(2,We,5,4,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,Ce,3,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,ne,6,17,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Be,3,13,"div",3),e.\u0275\u0275pipe(9,"async")),2&m&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(7,2,P.isHierarchicalVocabulary())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,4,P.isHierarchicalVocabulary())))},dependencies:[w.sg,w.O5,w.tP,le.Fj,le.JJ,le.On,B.dR,te.e,w.Ov,ce.C,we.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;overflow-y:auto!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]}),U})()},13616:(Ve,ye,t)=>{"use strict";t.d(ye,{H:()=>re});var e=t(98678),a=t(9237),T=t(53426),R=t(69637),F=t(48358),I=t(46897),Z=t(77007),K=t(5737),p=t(94667),he=t.n(p),W=t(90537),E=t.n(W),V=(t(34439),t(87893)),J=t(4786),$=t(82485),ue=t(76079),L=t(45608),X=t(79601);const ae=(0,X.X$)("shrinkInOut",[(0,X.SB)("in",(0,X.oB)({height:"100%",opacity:1})),(0,X.eR)("* => void",[(0,X.oB)({height:"!",opacity:1}),(0,X.jt)(200,(0,X.oB)({height:0,opacity:0}))]),(0,X.eR)("void => *",[(0,X.oB)({height:0,opacity:0}),(0,X.jt)(200,(0,X.oB)({height:"*",opacity:1}))])]);var b=t(10882),G=t(59600),y=t(31042),B=t(76774),w=t(82882),le=t(10572),te=t(35103),ce=t(65706),we=t(87657),n=t(59690),oe=t(96342);const ke=["formRef"];function nt(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",7),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"span",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.collapseForm())}),e.\u0275\u0275elementEnd()()}2&U&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"form.group-collapse-help"))}function We(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",7),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"span",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.expandForm())}),e.\u0275\u0275elementEnd()()}2&U&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"form.group-expand-help"))}function Ce(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",15)(1,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(S.save())}),e.\u0275\u0275element(2,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(S.delete())}),e.\u0275\u0275element(4,"i",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(S.clear())}),e.\u0275\u0275element(6,"i",19),e.\u0275\u0275elementEnd()()}if(2&U){const m=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",m.isMandatoryFieldEmpty()),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!m.editMode),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",m.isMandatoryFieldEmpty())}}function se(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"ds-form",11,12),e.\u0275\u0275listener("dfBlur",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onBlur(S))})("dfFocus",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onFocus(S))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Ce,7,3,"div",13),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275element(5,"div",14),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext();e.\u0275\u0275property("@shrinkInOut",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("formId",m.formId)("formModel",m.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(4,7,m.formCollapsed))}}function A(U,k){1&U&&e.\u0275\u0275element(0,"ds-themed-loading",20),2&U&&e.\u0275\u0275property("showMessage",!1)}function H(U,k){1&U&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"input",21),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&U&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind1(2,1,"form.no-value")))}function ne(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-chips",22),e.\u0275\u0275listener("selected",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onChipSelected(S))}),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext();e.\u0275\u0275property("chips",m.chips)("editable",!0)("showIcons",!0)}}const Be=function(U,k){return{"border-top":U,"border border-danger":k}};let re=(()=>{class U extends K.LvC{constructor(m,P,S,z,D,ee){super(D,ee),this.vocabularyService=m,this.formBuilderService=P,this.formService=S,this.cdr=z,this.layoutService=D,this.validationService=ee,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.formCollapsed=(0,a.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const m={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,a.of)(!0)),this.model.valueChanges.subscribe(P=>{!(0,L.UE)(P)||1===P.length&&(0,b.OG)(P[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,m,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let m=!0;return this.formModel.forEach(P=>{P.group.forEach(z=>{z.name!==this.model.mandatoryField||(m=null==z.value)})}),m}onBlur(m){this.blur.emit()}onChipSelected(m){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(m),this.formModel.forEach(P=>{P.group.forEach(z=>{const D=this.selectedChipItem.item[z.name]===w.n||this.selectedChipItem.item[z.name].value===w.n?null:this.selectedChipItem.item[z.name],ee=this.formBuilderService.isInputModel(z)&&(0,L.K0)(D)&&"string"!=typeof D?D.value:D;z.value=ee})}),this.editMode=!0}onFocus(m){this.focus.emit(m)}collapseForm(){this.formCollapsed=(0,a.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,a.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,a.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(m=>(0,L.Uh)(m)).forEach(m=>m.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const m=this.buildChipItem();this.chips.add(m),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const m=this.buildChipItem();this.chips.update(this.selectedChipItem.id,m),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const m=Object.create({});return this.formModel.forEach(P=>{P.group.forEach(z=>{m[z.name]=z.value||w.n})}),m}initChipsFromModelValue(){let m;this.model.isEmpty()?this.initChips([]):(m=(0,a.of)(this.model.value),this.subs.push(m.pipe((0,R.z)(P=>{const S=[];return P.forEach(z=>{const D=Object.keys(z).map(ee=>{let fe;if(E()(z[ee])&&z[ee].hasAuthority()&&(0,L.UE)(z[ee].authority)){const ve=ee.replace(/\./g,"_"),v=this.formBuilderService.findById(ve,this.formModel);fe=this.vocabularyService.findEntryDetailById(z[ee].authority,v.vocabularyOptions.name).pipe((0,le.Gp)(),(0,F.U)(j=>Object.assign(new y.u,z[ee],{otherInformation:j.otherInformation})))}else fe=(0,a.of)(z[ee]);return fe.pipe((0,F.U)(ve=>({[ee]:ve})))});S.push((0,T.a)(D))}),S}),(0,R.z)((P,S)=>P.pipe((0,F.U)(z=>({index:S,value:z.reduce((D,ee)=>Object.assign({},D,ee))})))),(0,I.R)((P,S)=>(0===P.length?P.push(S.value):P.splice(S.index,0,S.value),P),[]),(0,Z.h)(P=>this.model.value.length===P.length)).subscribe(P=>{this.model.value=P,this.initChips(P),this.cdr.markForCheck()})))}initChips(m){this.chips=new ue.c(m,"value",this.model.mandatoryField,B.N.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const P=this.chips.getChipsItems();he()(P,this.model.value)||(0,L.xb)(P)&&this.model.isEmpty()||(this.model.value=P,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}}return U.\u0275fac=function(m){return new(m||U)(e.\u0275\u0275directiveInject(G.c),e.\u0275\u0275directiveInject(V.c),e.\u0275\u0275directiveInject(J.o),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(K.vnf),e.\u0275\u0275directiveInject(K.fhz))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(m,P){if(1&m&&e.\u0275\u0275viewQuery(ke,5),2&m){let S;e.\u0275\u0275queryRefresh(S=e.\u0275\u0275loadQuery())&&(P.formRef=S.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:16,consts:[["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"formId","formModel","displaySubmit","displayCancel","emitChange","dfBlur","dfFocus"],["formRef","formComponent"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"chips","editable","showIcons","selected"]],template:function(m,P){1&m&&(e.\u0275\u0275template(0,nt,3,3,"a",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,We,3,3,"a",0),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275template(5,se,6,9,"div",2),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275template(8,A,1,1,"ds-themed-loading",4),e.\u0275\u0275template(9,H,3,3,"div",5),e.\u0275\u0275template(10,ne,1,3,"ds-chips",6),e.\u0275\u0275elementEnd()()),2&m&&(e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(1,7,P.formCollapsed)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,9,P.formCollapsed)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(13,Be,!P.showErrorMessages,P.showErrorMessages)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,11,P.formCollapsed)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!P.chips),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",P.chips&&!P.chips.hasItems()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",P.chips&&P.chips.hasItems()))},dependencies:[te.mk,te.O5,ce._L,we.Z,$.U,n.k,te.Ov,oe.X$],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[ae]}}),U})()},4294:(Ve,ye,t)=>{"use strict";t.d(ye,{D:()=>B});var e=t(98678),a=t(9237),T=t(9249),R=t(49887),F=t(27303),I=t(48358),K=(t(75316),t(87483)),p=t(45608),he=t(59600),W=t(10572),E=t(20942),Q=t(29459),V=t(5737),J=t(35103),$=t(60235),ue=t(65706),L=t(96342);function X(w,le){1&w&&e.\u0275\u0275element(0,"i",11)}function ae(w,le){1&w&&e.\u0275\u0275element(0,"i",12)}function b(w,le){1&w&&(e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&w&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"form.no-results")))}function G(w,le){if(1&w){const te=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",14),e.\u0275\u0275listener("keydown.enter",function(){const n=e.\u0275\u0275restoreView(te).$implicit,oe=e.\u0275\u0275nextContext(),ke=e.\u0275\u0275reference(1);return oe.onSelect(n),e.\u0275\u0275resetView(ke.close())})("mousedown",function(){const n=e.\u0275\u0275restoreView(te).$implicit,oe=e.\u0275\u0275nextContext(),ke=e.\u0275\u0275reference(1);return oe.onSelect(n),e.\u0275\u0275resetView(ke.close())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(2&w){const te=le.$implicit,ce=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("title",te.display),e.\u0275\u0275attribute("id",te.display==e.\u0275\u0275pipeBind1(1,3,ce.currentValue)?"combobox_"+ce.id+"_selected":null),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",ce.inputFormatter(te)," ")}}function y(w,le){1&w&&(e.\u0275\u0275elementStart(0,"div",15)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),2&w&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"form.loading")))}let B=(()=>{class w extends Q.m{constructor(te,ce,we,n){super(te,we,n),this.vocabularyService=te,this.cdr=ce,this.layoutService=we,this.validationService=n,this.bindId=!0,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.loading=!1,this.inputFormatter=oe=>oe.display||oe.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,W.Gp)(),(0,T.K)(()=>(0,a.of)((0,E.b)(new K.S,[])))).subscribe(te=>{this.optionsList=te.page,this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(te.pageInfo.elementsPerPage,te.pageInfo.currentPage,te.pageInfo.totalElements,te.pageInfo.totalPages),this.cdr.detectChanges()}),this.group.get(this.model.id).valueChanges.pipe((0,R.x)()).subscribe(te=>{this.setCurrentValue(te)})}openDropdown(te){this.model.readOnly||(this.group.markAsUntouched(),te.open())}selectOnKeyDown(te,ce){const we=te.key;" "===we||"Enter"===we?(te.preventDefault(),te.stopPropagation(),ce.toggle()):("ArrowDown"===we||"ArrowUp"===we)&&this.openDropdown(ce)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,W.Gp)(),(0,T.K)(()=>(0,a.of)((0,E.b)(new K.S,[]))),(0,F.b)(()=>this.loading=!1)).subscribe(te=>{this.optionsList=this.optionsList.concat(te.page),this.updatePageInfo(te.pageInfo.elementsPerPage,te.pageInfo.currentPage,te.pageInfo.totalElements,te.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(te){this.group.markAsDirty(),this.dispatchUpdate(te),this.setCurrentValue(te)}setCurrentValue(te,ce=!1){let we;we=ce?this.getInitValueFromModel().pipe((0,I.U)(n=>n.display)):(0,p.xb)(te)?(0,a.of)(""):(0,a.of)("string"==typeof te?te:te.display),this.currentValue=we}}return w.\u0275fac=function(te){return new(te||w)(e.\u0275\u0275directiveInject(he.c),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(V.vnf),e.\u0275\u0275directiveInject(V.fhz))},w.\u0275cmp=e.\u0275\u0275defineComponent({type:w,selectors:[["ds-dynamic-scrollable-dropdown"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:29,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["sdRef","ngbDropdown"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"id","name","readonly","disabled","type","value","blur","click","focus","keydown"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item collection-item text-truncate","role","option",3,"title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"title","keydown.enter","mousedown"],[1,"scrollable-dropdown-loading","text-center"]],template:function(te,ce){if(1&te){const we=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),e.\u0275\u0275template(3,X,1,0,"i",3),e.\u0275\u0275template(4,ae,1,0,"i",4),e.\u0275\u0275elementStart(5,"input",5),e.\u0275\u0275listener("blur",function(oe){return ce.onBlur(oe)})("click",function(oe){e.\u0275\u0275restoreView(we);const ke=e.\u0275\u0275reference(1);return oe.stopPropagation(),e.\u0275\u0275resetView(ce.openDropdown(ke))})("focus",function(oe){return ce.onFocus(oe)})("keydown",function(oe){e.\u0275\u0275restoreView(we);const ke=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(ce.selectOnKeyDown(oe,ke))}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",6)(8,"div",7),e.\u0275\u0275listener("scrolled",function(){return ce.onScroll()}),e.\u0275\u0275template(9,b,3,3,"button",8),e.\u0275\u0275template(10,G,3,5,"button",9),e.\u0275\u0275template(11,y,4,3,"div",10),e.\u0275\u0275elementEnd()()()}2&te&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",ce.model.label)("aria-owns","combobox_"+ce.id+"_listbox"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!ce.model.readOnly),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",ce.model.readOnly),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",ce.showErrorMessages)("scrollable-dropdown-input",!ce.model.readOnly),e.\u0275\u0275property("id",ce.id)("name",ce.model.name)("readonly",!0)("disabled",ce.model.readOnly)("type",ce.model.inputType)("value",e.\u0275\u0275pipeBind1(6,27,ce.currentValue)),e.\u0275\u0275attribute("aria-controls","combobox_"+ce.id+"_listbox")("aria-activedescendant","combobox_"+ce.id+"_selected")("aria-label",ce.model.placeholder)("autoComplete",ce.model.autoComplete),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",ce.model.placeholder),e.\u0275\u0275advance(1),e.\u0275\u0275property("id","combobox_"+ce.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.\u0275\u0275attribute("aria-label",ce.model.placeholder),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",ce.optionsList&&0==ce.optionsList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",ce.optionsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",ce.loading))},dependencies:[J.sg,J.O5,$.Ry,ue.jt,ue.iD,ue.Vi,J.Ov,L.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{height:calc(var(--bs-spacer) * 2)!important}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important}.scrollable-dropdown-menu[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]}),w})()},3067:(Ve,ye,t)=>{"use strict";t.d(ye,{V:()=>nt});var e=t(98678),a=t(42878),T=t(9237),R=t(3358),F=t(49887),I=t(27303),Z=t(21160),K=t(9249),p=t(48358),he=t(22720),W=t(94667),E=t.n(W),Q=t(59600),J=(t(64324),t(76079)),$=t(45608),ue=t(76774),L=t(10572),X=t(20942),ae=t(22726),b=t(87483),G=t(29459),y=t(5737),B=t(35103),w=t(5476),le=t(65706),te=t(59690);const ce=["instance"];function we(We,Ce){1&We&&e.\u0275\u0275text(0),2&We&&e.\u0275\u0275textInterpolate1(" ",Ce.result.display,"\n")}function n(We,Ce){if(1&We){const se=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",4),e.\u0275\u0275listener("ngModelChange",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.currentValue=H)})("blur",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onBlur(H))})("keypress",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.preventEventsPropagation(H))})("keydown",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.preventEventsPropagation(H))})("keyup",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onKeyUp(H))}),e.\u0275\u0275elementEnd()}if(2&We){const se=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("pl-3",se.chips.hasItems()),e.\u0275\u0275property("placeholder",se.model.placeholder)("readonly",se.model.readOnly)("ngModel",se.currentValue)}}function oe(We,Ce){1&We&&e.\u0275\u0275element(0,"i",9)}function ke(We,Ce){if(1&We){const se=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,oe,1,0,"i",6),e.\u0275\u0275elementStart(2,"input",7,8),e.\u0275\u0275listener("ngModelChange",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.currentValue=H)})("blur",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onBlur(H))})("focus",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onFocus(H))})("change",function(H){return H.stopPropagation()})("input",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onInput(H))})("selectItem",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onSelectItem(H))})("keypress",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.preventEventsPropagation(H))})("keydown",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.preventEventsPropagation(H))})("keyup",function(H){e.\u0275\u0275restoreView(se);const ne=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ne.onKeyUp(H))}),e.\u0275\u0275elementEnd()()}if(2&We){const se=e.\u0275\u0275nextContext(),A=e.\u0275\u0275reference(1);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",se.searching),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",se.showErrorMessages)("pl-3",se.chips.hasItems()),e.\u0275\u0275property("ngModel",se.currentValue)("id",se.id)("inputFormatter",se.formatter)("name",se.model.name)("ngbTypeahead",se.search)("placeholder",se.model.placeholder)("readonly",se.model.readOnly)("resultTemplate",A)("type",se.model.inputType),e.\u0275\u0275attribute("aria-labelledby","label_"+se.model.id)("autoComplete",se.model.autoComplete)}}let nt=(()=>{class We extends G.m{constructor(se,A,H,ne){super(se,H,ne),this.vocabularyService=se,this.cdr=A,this.layoutService=H,this.validationService=ne,this.bindId=!0,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new a.y(()=>()=>this.changeSearchingStatus(!1)),this.formatter=Be=>Be.display,this.search=Be=>Be.pipe((0,R.b)(300),(0,F.x)(),(0,I.b)(()=>this.changeSearchingStatus(!0)),(0,Z.w)(re=>""===re||re.length<this.model.minChars?(0,T.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(re,!1,this.model.vocabularyOptions,new b.S).pipe((0,L.Gp)(),(0,I.b)(()=>this.searchFailed=!1),(0,K.K)(()=>(this.searchFailed=!0,(0,T.of)((0,X.b)(new b.S,[])))))),(0,p.U)(re=>re.page),(0,p.U)(re=>{if(re&&re.length>0&&(0,$.UE)(this.currentValue)){let U=new ae.j;U.display=this.currentValue,U.value=this.currentValue,re.push(U)}return re}),(0,I.b)(()=>this.changeSearchingStatus(!1)),(0,he.T)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,$.Uh)(this.model.vocabularyOptions.name),this.chips=new J.c(this.model.value,"display",null,ue.N.submission.icons.metadata),this.chips.chipsItems.subscribe(se=>{const A=this.chips.getChipsItems();E()(A,this.model.value)||this.dispatchUpdate(A)})}changeSearchingStatus(se){this.searching=se,this.cdr.detectChanges()}onInput(se){se.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(se){(0,$.UE)(this.currentValue)&&!this.instance.isPopupOpen()&&this.addTagsToChips(),this.blur.emit(se)}onSelectItem(se){this.chips.add(se.item),this.updateModel(se),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(se){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(se){(13===se.keyCode||188===se.keyCode)&&(se.preventDefault(),this.addTagsToChips(),se.stopPropagation())}preventEventsPropagation(se){se.stopPropagation(),13===se.keyCode&&se.preventDefault()}setCurrentValue(se,A=!1){this.currentValue=se}addTagsToChips(){if((0,$.Uh)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let se=[];se=this.currentValue.split(",");const A=[];se.forEach(H=>{H.split(";").forEach(ne=>{A.push(ne)})}),A.forEach(H=>{(H=H.trim()).length>0&&this.chips.add(H)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}}return We.\u0275fac=function(se){return new(se||We)(e.\u0275\u0275directiveInject(Q.c),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(y.vnf),e.\u0275\u0275directiveInject(y.fhz))},We.\u0275cmp=e.\u0275\u0275defineComponent({type:We,selectors:[["ds-dynamic-tag"]],viewQuery:function(se,A){if(1&se&&e.\u0275\u0275viewQuery(ce,5),2&se){let H;e.\u0275\u0275queryRefresh(H=e.\u0275\u0275loadQuery())&&(A.instance=H.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[["rt",""],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup"],["instance","ngbTypeahead"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(se,A){1&se&&(e.\u0275\u0275template(0,we,1,1,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"ds-chips",1),e.\u0275\u0275template(3,n,1,5,"input",2),e.\u0275\u0275template(4,ke,4,16,"div",3),e.\u0275\u0275elementEnd()),2&se&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("chips",A.chips)("editable",!1)("showIcons",A.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!A.model.hasAuthority),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",A.model.hasAuthority))},dependencies:[B.O5,w.Fj,w.JJ,w.On,le.dR,te.k],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{width:auto!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none}"]}),We})()},30139:(Ve,ye,t)=>{"use strict";t.d(ye,{i:()=>re});var e=t(98678),a=t(35841),T=t(53426),R=t(45608),F=t(48358),I=t(77176),Z=t(43535),K=t(21160),p=t(55963),he=t(27496),W=t(91416),E=t(39492),Q=t(84332),V=t(55491),J=t(97462),$=t(69552),ue=t(74304),L=t(16066),X=t(10572),ae=t(46533),b=t(65706),G=t(89702),y=t(67522),B=t(35103),w=t(87657),le=t(29707),te=t(77665),ce=t(29409),we=t(96342);function n(U,k){1&U&&e.\u0275\u0275element(0,"ds-themed-loading")}function oe(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-themed-dynamic-lookup-relation-search-tab",18),e.\u0275\u0275listener("selectObject",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(z.select(S))})("deselectObject",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(z.deselect(S))})("resultFound",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(z.setTotalInternals(S.pageInfo.totalElements))}),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("selection$",m.selection$)("listId",m.listId)("relationship",m.relationshipOptions)("repeatable",m.repeatable)("context",m.context)("query",m.query)("relationshipType",m.relationshipType)("isLeft",m.isLeft)("item",m.item)("isEditRelationship",m.isEditRelationship)("toRemove",m.toRemove)}}function ke(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-themed-dynamic-lookup-relation-external-source-tab",19),e.\u0275\u0275listener("importedObject",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(z.imported(S))}),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext().$implicit,P=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("label",P.label)("listId",P.listId)("repeatable",P.repeatable)("item",P.item)("collection",P.collection)("relationship",P.relationshipOptions)("context",P.context)("query",P.query)("externalSource",m)}}const nt=function(U){return{count:U}};function We(U,k){if(1&U&&(e.\u0275\u0275elementStart(0,"li",12)(1,"a",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,ke,1,9,"ng-template",14),e.\u0275\u0275elementEnd()),2&U){const m=k.$implicit,P=k.index,S=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(3,1,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+m.id,e.\u0275\u0275pureFunction1(6,nt,e.\u0275\u0275pipeBind1(4,4,S.totalExternal$)[P])))}}function Ce(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-dynamic-lookup-relation-selection-tab",20),e.\u0275\u0275listener("selectObject",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(z.select(S))})("deselectObject",function(S){e.\u0275\u0275restoreView(m);const z=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(z.deselect(S))}),e.\u0275\u0275elementEnd()}if(2&U){const m=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("selection$",m.selection$)("listId",m.listId)("relationshipType",m.relationshipOptions.relationshipType)("repeatable",m.repeatable)("context",m.context)}}function se(U,k){if(1&U&&(e.\u0275\u0275elementStart(0,"li",12)(1,"a",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ce,1,5,"ng-template",14),e.\u0275\u0275elementEnd()),2&U){const m=e.\u0275\u0275nextContext(2);let P;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(3,1,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",e.\u0275\u0275pureFunction1(6,nt,null==(P=e.\u0275\u0275pipeBind1(4,4,m.selection$))?null:P.length)))}}function A(U,k){if(1&U&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ul",10,11)(3,"li",12)(4,"a",13),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,oe,1,11,"ng-template",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,We,6,8,"li",15),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,se,6,8,"li",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"div",17),e.\u0275\u0275elementContainerEnd()),2&U){const m=e.\u0275\u0275reference(2),P=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(6,4,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+P.relationshipOptions.relationshipType,e.\u0275\u0275pureFunction1(11,nt,e.\u0275\u0275pipeBind1(7,7,P.totalInternal$)))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(10,9,P.externalSourcesRD$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!P.isEditRelationship),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngbNavOutlet",m)}}function H(U,k){1&U&&e.\u0275\u0275element(0,"span",27)}function ne(U,k){if(1&U){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.discardEv())}),e.\u0275\u0275element(2,"i",22),e.\u0275\u0275elementStart(3,"span",23),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.submitEv())}),e.\u0275\u0275template(7,H,1,0,"span",25),e.\u0275\u0275element(8,"i",26),e.\u0275\u0275elementStart(9,"span",23),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&U){const m=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",0==m.toAdd.length&&0==m.toRemove.length||m.isPending),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\xa0",e.\u0275\u0275pipeBind1(5,5,"item.edit.metadata.discard-button"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",0==m.toAdd.length&&0==m.toRemove.length||m.isPending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.isPending),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\xa0",e.\u0275\u0275pipeBind1(11,7,"item.edit.metadata.save-button"),"")}}const Be=function(U){return{size:U}};let re=(()=>{class U{constructor(m,P,S,z,D,ee,fe,ve,v,j,u){this.modal=m,this.selectableListService=P,this.relationshipService=S,this.relationshipTypeService=z,this.externalSourceService=D,this.lookupRelationService=ee,this.searchConfigService=fe,this.rdbService=ve,this.zone=v,this.store=j,this.router=u,this.selectEvent=new e.EventEmitter,this.subMap={},this.totalInternal$=new a.X(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(m=>{this.isLeft=m}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,F.U)(m=>(0,R.Uh)(m)&&(0,R.Uh)(m.selection)?m.selection:[])),this.selection$.pipe((0,I.q)(1)).subscribe(m=>m.map(P=>this.addNameVariantSubscription(P))),this.context="true"===this.relationshipOptions.nameVariants?J._.EntitySearchModalWithNameVariants:J._.EntitySearchModal,(0,R.UE)(this.relationshipOptions.externalSources)&&(this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(m=>this.externalSourceService.findById(m,!0,!0,(0,ae.l)("entityTypes")))).pipe((0,X.mc)())),this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close()}select(...m){this.zone.runOutsideAngular(()=>{(0,T.a)([...m.map(S=>(this.addNameVariantSubscription(S),this.relationshipService.getNameVariant(this.listId,S.indexableObject.uuid).pipe((0,I.q)(1),(0,F.U)(z=>({item:S.indexableObject,nameVariant:z})))))]).subscribe(S=>S.forEach(z=>{const D=new E.Jg(this.item,z.item,this.relationshipOptions.relationshipType,this.submissionId,z.nameVariant);this.store.dispatch(D)}))})}addNameVariantSubscription(m){const P=this.relationshipService.getNameVariant(this.listId,m.indexableObject.uuid);this.subMap[m.indexableObject.uuid]=P.pipe((0,Z.T)(1)).subscribe(S=>this.store.dispatch(new E._k(this.item,m.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,S)))}deselect(...m){this.zone.runOutsideAngular(()=>m.forEach(P=>{this.subMap[P.indexableObject.uuid].unsubscribe(),this.store.dispatch(new E.J9(this.item,P.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(m){this.setTotals(),this.select(m)}setTotals(){const m=(0,T.a)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=m.pipe((0,K.w)(([P,S])=>(0,T.a)([...P.map(z=>this.lookupRelationService.getTotalExternalResults(z,S))])))}setTotalInternals(m){this.totalInternal$.next(m)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(m=>m.unsubscribe())}discardEv(){}submitEv(){}}return U.\u0275fac=function(m){return new(m||U)(e.\u0275\u0275directiveInject(b.Kz),e.\u0275\u0275directiveInject(W.w),e.\u0275\u0275directiveInject(Q.U),e.\u0275\u0275directiveInject(V.X),e.\u0275\u0275directiveInject(ue.G),e.\u0275\u0275directiveInject($.P),e.\u0275\u0275directiveInject(he.U),e.\u0275\u0275directiveInject(L.Q),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(G.yh),e.\u0275\u0275directiveInject(y.F0))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},features:[e.\u0275\u0275ProvidersFeature([{provide:p.SEARCH_CONFIG_SERVICE,useClass:he.U}])],decls:21,vars:19,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngFor","ngForOf"],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selection$","listId","relationship","repeatable","context","query","relationshipType","isLeft","item","isEditRelationship","toRemove","selectObject","deselectObject","resultFound"],[1,"d-block","pt-3",3,"label","listId","repeatable","item","collection","relationship","context","query","externalSource","importedObject"],[1,"d-block","pt-3",3,"selection$","listId","relationshipType","repeatable","context","selectObject","deselectObject"],[1,"btn","btn-danger","discard",3,"disabled","click"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"fas","fa-save"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(m,P){if(1&m&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return P.close()}),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275template(8,n,1,0,"ds-themed-loading",5),e.\u0275\u0275template(9,A,13,13,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",6)(11,"small"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",7)(16,"div",8)(17,"button",9),e.\u0275\u0275listener("click",function(){return P.close()}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(20,ne,12,9,"ng-container",5),e.\u0275\u0275elementEnd()()),2&m){let S;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"submission.sections.describe.relationship-lookup.title."+P.relationshipOptions.relationshipType)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",P.isPending),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!P.item||!P.collection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",P.item&&P.collection),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(13,10,"submission.sections.describe.relationship-lookup.selected",e.\u0275\u0275pureFunction1(17,Be,(null==(S=e.\u0275\u0275pipeBind1(14,13,P.selection$))?null:S.length)||0))),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",P.isPending),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,15,"submission.sections.describe.relationship-lookup.close"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",P.isEditRelationship)}},dependencies:[B.sg,B.O5,b.uN,b.Pz,b.nv,b.Vx,b.tO,w.Z,le.z,te.O,ce.d,B.Ov,we.X$],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]}),U})()},29409:(Ve,ye,t)=>{"use strict";t.d(ye,{d:()=>K});var e=t(4682),a=t(98678);function I(p,he){}t(13005),t(5378),t(75606);const Z=["*"];let K=(()=>{class p extends e.F{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new a.EventEmitter}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(W){return t(79835)(`./${W}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return t.e(9966).then(t.bind(t,59966))}}return p.\u0275fac=function(){let he;return function(E){return(he||(he=a.\u0275\u0275getInheritedFactory(p)))(E||p)}}(),p.\u0275cmp=a.\u0275\u0275defineComponent({type:p,selectors:[["ds-themed-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Z,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(W,E){1&W&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,I,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),p})()},29707:(Ve,ye,t)=>{"use strict";t.d(ye,{z:()=>Z});var e=t(4682),a=t(98678);function F(K,p){}t(83297),t(13005);const I=["*"];let Z=(()=>{class K extends e.F{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new a.EventEmitter,this.selectObject=new a.EventEmitter,this.resultFound=new a.EventEmitter}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(he){return t(66849)(`./${he}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return t.e(9899).then(t.bind(t,59899))}}return K.\u0275fac=function(){let p;return function(W){return(p||(p=a.\u0275\u0275getInheritedFactory(K)))(W||K)}}(),K.\u0275cmp=a.\u0275\u0275defineComponent({type:K,selectors:[["ds-themed-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:I,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(he,W){1&he&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,F,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),K})()},77665:(Ve,ye,t)=>{"use strict";t.d(ye,{O:()=>ae});var e=t(98678),a=t(55963),T=t(27496),R=t(48358),F=t(21160),I=t(77176),Z=t(45180),K=t(20942),p=t(87483),he=t(41121),W=t(81323),E=t(67522),Q=t(35103),V=t(12955),J=t(42988),$=t(96342);function ue(b,G){1&b&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&b&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}const L=function(b,G){return{repeatable:b,listId:G}};function X(b,G){if(1&b){const y=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h3"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ds-viewable-collection",4),e.\u0275\u0275listener("deselectObject",function(w){e.\u0275\u0275restoreView(y);const le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.deselectObject.emit(w))})("selectObject",function(w){e.\u0275\u0275restoreView(y);const le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.selectObject.emit(w))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()()}if(2&b){const y=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+y.relationshipType)),e.\u0275\u0275advance(2),e.\u0275\u0275property("objects",e.\u0275\u0275pipeBind1(5,9,y.selectionRD$))("selectable",!0)("selectionConfig",e.\u0275\u0275pureFunction2(13,L,y.repeatable,y.listId))("config",e.\u0275\u0275pipeBind1(6,11,y.currentPagination$))("hideGear",!0)("context",y.context)}}let ae=(()=>{class b{constructor(y,B,w){this.router=y,this.searchConfigService=B,this.paginationService=w,this.deselectObject=new e.EventEmitter,this.selectObject=new e.EventEmitter,this.initialPagination=Object.assign(new Z.r,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,R.U)(y=>y.pagination),(0,F.w)(y=>this.selection$.pipe((0,I.q)(1),(0,R.U)(B=>{const w=(y.currentPage-1)*y.pageSize,te=B.slice(w,w+y.pageSize>B.length?B.length:w+y.pageSize),ce=new p.S({elementsPerPage:y.pageSize,totalElements:B.length,currentPage:y.currentPage,totalPages:Math.ceil(B.length/y.pageSize)});return(0,he.AC)((0,K.b)(ce,te))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}return b.\u0275fac=function(y){return new(y||b)(e.\u0275\u0275directiveInject(E.F0),e.\u0275\u0275directiveInject(T.U),e.\u0275\u0275directiveInject(W.N))},b.\u0275cmp=e.\u0275\u0275defineComponent({type:b,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},features:[e.\u0275\u0275ProvidersFeature([{provide:a.SEARCH_CONFIG_SERVICE,useClass:T.U}])],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"objects","selectable","selectionConfig","config","hideGear","context","deselectObject","selectObject"]],template:function(y,B){if(1&y&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"ds-page-size-selector"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",2),e.\u0275\u0275template(7,ue,3,3,"div",3),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,X,7,16,"div",3),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()()),2&y){let w,le;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",(null==(w=e.\u0275\u0275pipeBind1(8,5,B.selectionRD$))?null:w.payload.page)<1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==(le=e.\u0275\u0275pipeBind1(10,7,B.selectionRD$))?null:le.payload.page.length)>=1)}},dependencies:[Q.O5,V.c,J.k,Q.Ov,$.X$]}),b})()},59690:(Ve,ye,t)=>{"use strict";t.d(ye,{k:()=>ae});var e=t(98678),a=t(90537),T=t.n(a),F=(t(76079),t(35841)),I=t(51598),Z=t(96342),K=t(35103),p=t(65706),he=t(65165),W=t(48715);function E(b,G){if(1&b&&(e.\u0275\u0275elementStart(0,"p",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&b){const y=G.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",y," ")}}function Q(b,G){if(1&b&&e.\u0275\u0275template(0,E,2,1,"p",12),2&b){const y=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngForOf",y.tipText)}}function V(b,G){if(1&b&&e.\u0275\u0275element(0,"i",14),2&b){const y=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("authorityValue",y.item)}}function J(b,G){if(1&b){const y=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",16,6),e.\u0275\u0275listener("dragstart",function(){e.\u0275\u0275restoreView(y);const w=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(w.close())})("mouseover",function(){const le=e.\u0275\u0275restoreView(y).$implicit,te=e.\u0275\u0275reference(1),ce=e.\u0275\u0275nextContext(2).index,we=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(we.showTooltip(te,ce,le.metadata))})("mouseout",function(){e.\u0275\u0275restoreView(y);const w=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(w.close())}),e.\u0275\u0275elementEnd()}if(2&b){const y=G.$implicit,B=G.last,w=e.\u0275\u0275nextContext(2).$implicit,le=e.\u0275\u0275reference(2);e.\u0275\u0275classMap(y.style),e.\u0275\u0275classProp("mr-1",!B)("mr-2",B),e.\u0275\u0275property("ngbTooltip",le)("authorityValue",w.item[y.metadata]||w.item)("visibleWhenAuthorityEmpty",y.visibleWhenAuthorityEmpty)}}function $(b,G){if(1&b&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,J,2,10,"i",15),e.\u0275\u0275elementContainerEnd()),2&b){const y=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",y.icons)}}const ue=function(b){return{"chip-selected disabled":b}};function L(b,G){if(1&b){const y=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Q,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(3,"div",5,6),e.\u0275\u0275listener("dragstart",function(){const le=e.\u0275\u0275restoreView(y).index,te=e.\u0275\u0275reference(4),ce=e.\u0275\u0275nextContext();return te.close(),e.\u0275\u0275resetView(ce.onDragStart(le))})("dragend",function(){const le=e.\u0275\u0275restoreView(y).index,te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onDragEnd(le))})("mouseover",function(){const le=e.\u0275\u0275restoreView(y).index,te=e.\u0275\u0275reference(4),ce=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ce.showTooltip(te,le))})("mouseout",function(){e.\u0275\u0275restoreView(y);const w=e.\u0275\u0275reference(4);return e.\u0275\u0275resetView(w.close())}),e.\u0275\u0275elementStart(5,"a",7),e.\u0275\u0275listener("click",function(w){const te=e.\u0275\u0275restoreView(y).index,ce=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ce.chipsSelected(w,te))}),e.\u0275\u0275elementStart(6,"span"),e.\u0275\u0275template(7,V,1,1,"i",8),e.\u0275\u0275template(8,$,2,1,"ng-container",9),e.\u0275\u0275elementStart(9,"p",10),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"i",11),e.\u0275\u0275listener("click",function(w){const te=e.\u0275\u0275restoreView(y).index,ce=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ce.removeChips(w,te))}),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&b){const y=G.$implicit,B=G.index,w=e.\u0275\u0275reference(2),le=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngbTooltip",w),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,ue,le.editable&&y.editMode||le.dragged==B)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",le.showIcons&&!y.isNestedItem()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",le.showIcons&&y.hasVisibleIcons()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(y.display),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(12,6,"chips.remove"))}}const X=["*"];let ae=(()=>{class b{constructor(y,B,w){this.cdr=y,this.dragService=B,this.translate=w,this.editable=!0,this.showIcons=!1,this.selected=new e.EventEmitter,this.remove=new e.EventEmitter,this.change=new e.EventEmitter,this.isDragging=new F.X(!1),this.dragged=-1,this.options={animation:300,chosenClass:"m-0",dragClass:"m-0",filter:".chips-sort-ignore",ghostClass:"m-0"}}ngOnChanges(y){y.chips&&!y.chips.isFirstChange()&&(this.chips=y.chips.currentValue)}chipsSelected(y,B){y.preventDefault(),this.editable&&(this.chips.getChips().forEach((w,le)=>{le===B?w.setEditMode():w.unsetEditMode()}),this.selected.emit(B))}removeChips(y,B){y.preventDefault(),y.stopPropagation(),this.chips.getChipByIndex(B).editMode||this.chips.remove(this.chips.getChipByIndex(B))}onDragStart(y){this.isDragging.next(!0),this.dragService.overrideDragOverPage(),this.dragged=y}onDragEnd(y){this.dragService.allowDragOverPage(),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(y,B,w){y.close();const le=this.chips.getChipByIndex(B),te=[];!le.editMode&&-1===this.dragged&&(w?T()(le.item[w])?(te.push(le.item[w].display),le.item[w].hasOtherInformation()&&Object.keys(le.item[w].otherInformation).forEach(ce=>{this.translate.get("form.other-information."+ce).subscribe(we=>{te.push(we+": "+le.item[w].otherInformation[ce])})})):te.push(le.item[w]):te.push(le.display),this.cdr.detectChanges(),(!le.hasIcons()||!le.hasVisibleIcons()||w)&&(this.tipText=te,y.open()))}}return b.\u0275fac=function(y){return new(y||b)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(I.w),e.\u0275\u0275directiveInject(Z.sK))},b.\u0275cmp=e.\u0275\u0275defineComponent({type:b,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:X,decls:6,vars:8,consts:[[3,"className"],["role","list",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"sortablejs","sortablejsOptions"],[4,"ngFor","ngForOf"],[1,"flex-grow-1"],["tipContent",""],["role","listitem","triggers","manual",1,"nav-item","mr-2","mb-1",3,"ngbTooltip","dragstart","dragend","mouseover","mouseout"],["t","ngbTooltip"],["href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"ngClass","click"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ml-2",3,"title","click"],["class","text-left p-0 m-0",4,"ngFor","ngForOf"],[1,"text-left","p-0","m-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","mr-1","mr-2","authorityValue","visibleWhenAuthorityEmpty","dragstart","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","authorityValue","visibleWhenAuthorityEmpty","dragstart","mouseover","mouseout"]],template:function(y,B){1&y&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,L,13,10,"ng-container",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275projection(5),e.\u0275\u0275elementEnd()()()),2&y&&(e.\u0275\u0275property("className","float-left w-100 "+B.wrapperClass),e.\u0275\u0275advance(1),e.\u0275\u0275property("sortablejs",B.chips.getChips())("sortablejsOptions",B.options),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",B.chips.getChips()),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("chips-sort-ignore",e.\u0275\u0275pipeBind1(4,6,B.isDragging)))},dependencies:[K.mk,K.sg,K.O5,p._L,he.QN,W.e,K.Ov,Z.X$],styles:[".chip-selected[_ngcontent-%COMP%]{background-color:var(--bs-secondary)!important}.chip-label[_ngcontent-%COMP%]{max-width:10rem}"]}),b})()},76079:(Ve,ye,t)=>{"use strict";t.d(ye,{c:()=>$});var e=t(54385),a=t.n(e),T=t(94667),R=t.n(T),F=t(90537),I=t.n(F),Z=t(35841),K=t(24112),p=t.n(K),he=t(45608),W=t(49571),E=t(82882);class Q{constructor(L,X="display",ae,b,G){this.id=p()(),this._item=L,this.fieldToDisplay=X,this.objToDisplay=ae,this.setDisplayText(),this.editMode=G||!1,this.icons=b||[]}set item(L){this._item=L}get item(){return this._item}isNestedItem(){return(0,he.UE)(this.item)&&I()(this.item)&&(0,he.UE)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,he.UE)(this.icons)}hasVisibleIcons(){if((0,he.UE)(this.icons)){let L=!1;for(const X of this.icons)if(this._item.hasOwnProperty(X.metadata)&&("string"==typeof this._item[X.metadata]&&(0,he.Uh)(this._item[X.metadata])||this._item[X.metadata].hasValue())&&!this.hasPlaceholder(this._item[X.metadata])&&(X.visibleWhenAuthorityEmpty||this._item[X.metadata].confidence!==W.N.CF_UNSET)&&(0,he.UE)(X.style)){L=!0;break}return L}return!1}setEditMode(){this.editMode=!0}updateIcons(L){this.icons=L}updateItem(L){this._item=L,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let L=this._item;if(I()(this._item)){const X=this.objToDisplay?this._item[this.objToDisplay]:this._item;L=I()(X)&&X?X[this.fieldToDisplay]||X.value:X}this.display=L}hasPlaceholder(L){return"string"==typeof L?L===E.n:L.hasPlaceholder()}}var V=t(31042),J=t(22726);class ${constructor(L=[],X="display",ae,b){this.displayField=X,this.displayObj=ae,this.iconsConfig=b||[],Array.isArray(L)&&this.setInitialItems(L)}add(L){const X=this.getChipsIcons(L),ae=new Q(L,this.displayField,this.displayObj,X),b=a()(this._items,{display:ae.display.trim()});(-1===b||!R()(L,this.getChipByIndex(b).item))&&(this._items.push(ae),this.chipsItems.next(this._items))}getChipById(L){const X=a()(this._items,{id:L});return this.getChipByIndex(X)}getChipByIndex(L){return this._items.length>0&&this._items[L]?this._items[L]:null}getChips(){return this._items}getChipsItems(){const L=[];return this._items.forEach(X=>{L.push(X.item)}),L}hasItems(){return this._items.length>0}hasPlaceholder(L){return I()(L)?L.value===E.n:L===E.n}remove(L){const X=a()(this._items,{id:L.id});this._items.splice(X,1),this.chipsItems.next(this._items)}update(L,X){const ae=this.getChipById(L),b=this.getChipsIcons(X);ae.updateItem(X),ae.updateIcons(b),ae.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(L){const X=[];if("string"==typeof L||L instanceof V.u||L instanceof J.j)return X;const ae=a()(this.iconsConfig,{name:"default"}),b=-1!==ae?this.iconsConfig[ae]:void 0;let G,y,B;return Object.keys(L).forEach(w=>{if(B=L[w],y=a()(this.iconsConfig,{name:w}),G=-1!==y?this.iconsConfig[y]:b,(0,he.Uh)(B)&&(0,he.UE)(G)&&!this.hasPlaceholder(B)){let le;le={metadata:w,visibleWhenAuthorityEmpty:this.displayObj!==w,style:G.style},X.push(le)}}),X}setInitialItems(L){this._items=[],L.forEach(X=>{const ae=this.getChipsIcons(X),b=new Q(X,this.displayField,this.displayObj,ae);this._items.push(b)}),this.chipsItems=new Z.X(this._items)}}},48715:(Ve,ye,t)=>{"use strict";t.d(ye,{e:()=>he});var e=t(98678),a=t(54385),T=t.n(a),R=t(22726),F=t(31042),I=t(49571),Z=t(45608),K=t(76774),p=t(88666);let he=(()=>{class W{constructor(Q,V){this.elem=Q,this.renderer=V,this.visibleWhenAuthorityEmpty=!0,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new e.EventEmitter}onClick(){(0,Z.UE)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==I.N.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}ngOnChanges(Q){Q.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(Q.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(Q.authorityValue.currentValue)),(0,Z.Ft)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}ngAfterViewInit(){(0,Z.Ft)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(Q){let V=I.N.CF_UNSET;return(0,Z.UE)(Q)&&(Q instanceof R.j||Q instanceof p.w)&&Q.hasAuthority()&&(V=I.N.CF_ACCEPTED),(0,Z.UE)(Q)&&Q instanceof F.u&&(V=Q.confidence),V}getClassByConfidence(Q){if(!this.visibleWhenAuthorityEmpty&&Q===I.N.CF_UNSET)return"d-none";const V=K.N.submission.icons.authority.confidence,J=T()(V,{value:Q}),$=T()(V,{value:"default"});return-1!==J?V[J].style:-1!==$?V[$].style:""}}return W.\u0275fac=function(Q){return new(Q||W)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.Renderer2))},W.\u0275dir=e.\u0275\u0275defineDirective({type:W,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(Q,V){1&Q&&e.\u0275\u0275listener("click",function(){return V.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},features:[e.\u0275\u0275NgOnChangesFeature]}),W})()},30879:(Ve,ye,t)=>{"use strict";t.d(ye,{L:()=>F});var e=t(98678),a=t(65706),T=t(47610),R=t(96342);let F=(()=>{class I{constructor(K){this.activeModal=K,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1}onSelect(K){this.activeModal.close(K)}}return I.\u0275fac=function(K){return new(K||I)(e.\u0275\u0275directiveInject(a.Kz))},I.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect"},decls:10,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3"],[3,"vocabularyOptions","preloadLevel","selectedItems","multiSelect","select"]],template:function(K,p){1&K&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return p.activeModal.dismiss("Cross click")}),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5)(9,"ds-vocabulary-treeview",6),e.\u0275\u0275listener("select",function(W){return p.onSelect(W)}),e.\u0275\u0275elementEnd()()()),2&K&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"vocabulary-treeview.header")),e.\u0275\u0275advance(7),e.\u0275\u0275property("vocabularyOptions",p.vocabularyOptions)("preloadLevel",p.preloadLevel)("selectedItems",p.selectedItems)("multiSelect",p.multiSelect))},dependencies:[T.I,R.X$]}),I})()},47610:(Ve,ye,t)=>{"use strict";t.d(ye,{I:()=>P});var e=t(37566),a=t(98678),T=t(45608),R=t(35841),F=t(42878),I=t(9237),Z=t(69637),K=t(46897),p=t(22720),he=t(48358),W=t(54385),E=t.n(W),Q=t(87483);const V="LOAD_MORE",J="LOAD_MORE_ROOT",$={id:V},ue={id:J};class L{constructor(z,D=!1,ee=new Q.S,fe=null,ve=!1,v=!1,j=!1){this.item=z,this.hasChildren=D,this.pageInfo=ee,this.loadMoreParentItem=fe,this.isSearchNode=ve,this.isInInitValueHierarchy=v,this.isSelected=j,this.childrenChange=new R.X([])}get children(){return this.childrenChange.value}updatePageInfo(z){this.pageInfo=z}}class X{constructor(z,D=1,ee=!1,fe=!1,ve=new Q.S,v=null,j=!1,u=!1,f=!1){this.item=z,this.level=D,this.expandable=ee,this.childrenLoaded=fe,this.pageInfo=ve,this.loadMoreParentItem=v,this.isSearchNode=j,this.isInInitValueHierarchy=u,this.isSelected=f}}var ae=t(59600),b=t(10572);let G=(()=>{class S{constructor(D){this.vocabularyService=D,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new R.X([]),this.initValueHierarchy=[],this.loading=new R.X(!1),this.hideSearchingWhenUnsubscribed$=new F.y(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(D,ee,fe,ve){this.loading.next(!0),this.vocabularyOptions=D,this.vocabularyName=D.name,this.pageInfo=ee,(0,T.UE)(ve)?this.getNodeHierarchyById(ve,fe).subscribe(v=>{this.initValueHierarchy=v,this.retrieveTopNodes(ee,[],fe)}):this.retrieveTopNodes(ee,[],fe)}getData(){return this.dataChange}loadMoreRoot(D,ee){const fe=this.dataChange.value;fe.pop(),this.retrieveTopNodes(D.pageInfo,fe,ee)}loadMore(D,ee,fe=!1){if(!this.nodeMap.has(D.otherInformation.id))return;const ve=this.nodeMap.get(D.otherInformation.id),v=this.nodeMap.get(D.otherInformation.id).children||[];v.pop(),this.getChildrenNodesByParent(D.otherInformation.id,ve.pageInfo).subscribe(j=>{if(fe&&ve.children.length>0)return;const u=j.page.map(f=>this._generateNode(f,ee));if(v.push(...u),j.pageInfo.currentPage+1<=j.pageInfo.totalPages){const f=Object.assign(new Q.S,j.pageInfo,{currentPage:j.pageInfo.currentPage+1});ve.updatePageInfo(f),v.push(new L($,!1,f,D))}ve.childrenChange.next(v),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(D,ee){this.loading.next(!0),(0,T.xb)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(D,!1,this.vocabularyOptions,new Q.S).pipe((0,b.LQ)(),(0,Z.z)(fe=>fe.length>0?fe:(0,I.of)(null)),(0,Z.z)(fe=>this.vocabularyService.findEntryDetailById(fe.otherInformation.id,this.vocabularyName).pipe((0,b.Gp)())),(0,Z.z)(fe=>this.getNodeHierarchy(fe,ee)),(0,K.R)((fe,ve)=>(0,T.xb)(ve)||-1!==E()(fe,v=>v.item.otherInformation.id===ve.item.otherInformation.id)?fe:[...fe,ve],[]),(0,p.T)(this.hideSearchingWhenUnsubscribed$)).subscribe(fe=>{this.dataChange.next(fe),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(D,ee,fe=!1,ve=!0){const v=D.otherInformation.id;if(this.nodeMap.has(v))return this.nodeMap.get(v);const j=D.hasOtherInformation()&&"true"===D.otherInformation.hasChildren,u=this.pageInfo,f=this.initValueHierarchy.includes(v),ie=ee.some(()=>ee.includes(D.id)),me=new L(D,j,u,null,fe,f,ie);return ve&&this.nodeMap.set(v,me),me}getNodeHierarchyById(D,ee){return this.getById(D).pipe((0,Z.z)(fe=>this.getNodeHierarchy(fe,ee,[],!1)),(0,he.U)(fe=>this.getNodeHierarchyIds(fe,ee)))}getChildrenNodesByParent(D,ee){return this.vocabularyService.getEntryDetailChildren(D,this.vocabularyName,ee).pipe((0,b.Gp)())}getParentNode(D){return this.vocabularyService.getEntryDetailParent(D,this.vocabularyName).pipe((0,b.Gp)())}getById(D){return this.vocabularyService.findEntryDetailById(D,this.vocabularyName).pipe((0,b.Gp)())}retrieveTopNodes(D,ee,fe){this.vocabularyService.searchTopEntries(this.vocabularyName,D).pipe((0,b.Gp)()).subscribe(ve=>{this.vocabularyService.clearSearchTopRequests();const v=ve.page.map(j=>this._generateNode(j,fe));if(ee.push(...v),ve.pageInfo.currentPage+1<=ve.pageInfo.totalPages){const j=Object.assign(new Q.S,ve.pageInfo,{currentPage:ve.pageInfo.currentPage+1}),u=new L(ue,!1,j);u.updatePageInfo(j),ee.push(u)}this.loading.next(!1),this.dataChange.next(ee)})}getNodeHierarchy(D,ee,fe,ve=!0){if((0,T.xb)(D))return(0,I.of)(null);const v=this._generateNode(D,ee,ve,ve);if((0,T.UE)(fe)){const j=fe.filter(u=>-1===E()(v.children,f=>f.item.otherInformation.id===u.item.otherInformation.id));j.forEach(u=>{u.loadMoreParentItem=v.item}),v.children.push(...j)}return v.item.hasOtherInformation()&&(0,T.UE)(v.item.otherInformation.parent)?this.getParentNode(v.item.otherInformation.id).pipe((0,Z.z)(j=>this.getNodeHierarchy(j,ee,[v],ve))):(0,I.of)(v)}getNodeHierarchyIds(D,ee,fe=[]){return fe.includes(D.item.otherInformation.id)||fe.push(D.item.otherInformation.id),(0,T.UE)(D.children)?this.getNodeHierarchyIds(D.children[0],ee,fe):fe}}return S.\u0275fac=function(D){return new(D||S)(a.\u0275\u0275inject(ae.c))},S.\u0275prov=a.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();var y=t(77176);class B{constructor(z,D,ee,fe){this.transformFunction=z,this.getLevel=D,this.isExpandable=ee,this.getChildren=fe}_flattenNode(z,D,ee,fe){const ve=this.transformFunction(z,D);if(ee.push(ve),this.isExpandable(ve)){const v=this.getChildren(z);v&&(Array.isArray(v)?this._flattenChildren(v,D,ee,fe):v.pipe((0,y.q)(1)).subscribe(j=>{this._flattenChildren(j,D,ee,fe)}))}return ee}_flattenChildren(z,D,ee,fe){z.forEach((ve,v)=>{const j=fe.slice();j.push(v!==z.length-1),this._flattenNode(ve,D+1,ee,j)})}flattenNodes(z){const D=[];return z.forEach(ee=>this._flattenNode(ee,0,D,[])),D}expandFlattenedNodes(z,D){const ee=[],fe=[];return fe[0]=!0,z.forEach(ve=>{let v=!0;for(let j=0;j<=this.getLevel(ve);j++)v=v&&fe[j];v&&ee.push(ve),this.isExpandable(ve)&&(fe[this.getLevel(ve)+1]=D.isExpanded(ve))}),ee}}var w=t(40662),le=t(29054);class te extends w.o2{constructor(z,D,ee=[]){super(),this._treeControl=z,this._treeFlattener=D,this._flattenedData=new R.X([]),this._expandedData=new R.X([]),this._data=new R.X(ee)}get data(){return this._data.value}set data(z){this._data.next(z),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(z){return(0,le.T)(z.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,he.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var ce=t(89702),we=t(96342),n=t(35103),oe=t(5476),ke=t(65706),nt=t(87586),We=t(87657);function Ce(S,z){1&S&&a.\u0275\u0275element(0,"ds-themed-loading",16),2&S&&a.\u0275\u0275property("showMessage",!1)}function se(S,z){1&S&&(a.\u0275\u0275elementStart(0,"h4",17)(1,"span"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),2&S&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,"vocabulary-treeview.search.no-result")))}function A(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"label",23)(1,"input",24),a.\u0275\u0275listener("ngModelChange",function(fe){a.\u0275\u0275restoreView(D);const ve=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275resetView(ve.isSelected=fe)})("change",function(){a.\u0275\u0275restoreView(D);const fe=a.\u0275\u0275nextContext().$implicit,ve=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(ve.onSelect(fe.item))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(2,"span"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()}if(2&S){const D=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275classProp("text-success",D.isSelected),a.\u0275\u0275property("ngbTooltip",null==D.item||null==D.item.otherInformation?null:D.item.otherInformation.note)("openDelay",500),a.\u0275\u0275advance(1),a.\u0275\u0275property("disabled",!(null!=D.item&&D.item.selectable))("ngModel",D.isSelected)("checked",D.isSelected),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(D.item.display)}}function H(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",25),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(D);const fe=a.\u0275\u0275nextContext().$implicit,ve=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(ve.onSelect(fe.item))}),a.\u0275\u0275elementStart(1,"span"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&S){const D=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275classProp("text-success",D.isSelected),a.\u0275\u0275property("disabled",!(null!=D.item&&D.item.selectable))("ngbTooltip",null==D.item||null==D.item.otherInformation?null:D.item.otherInformation.note)("openDelay",500),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(D.item.display)}}function ne(S,z){if(1&S&&(a.\u0275\u0275elementStart(0,"cdk-tree-node",18)(1,"button",19),a.\u0275\u0275element(2,"span",20),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,A,4,8,"label",21),a.\u0275\u0275template(4,H,3,6,"button",22),a.\u0275\u0275elementEnd()),2&S){const D=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",D.multiSelect),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!D.multiSelect)}}function Be(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"label",23)(1,"input",24),a.\u0275\u0275listener("ngModelChange",function(fe){a.\u0275\u0275restoreView(D);const ve=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275resetView(ve.isSelected=fe)})("change",function(){a.\u0275\u0275restoreView(D);const fe=a.\u0275\u0275nextContext().$implicit,ve=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(ve.onSelect(fe.item))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(2,"span"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()}if(2&S){const D=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275classProp("text-success",D.isSelected),a.\u0275\u0275property("ngbTooltip",null==D.item||null==D.item.otherInformation?null:D.item.otherInformation.note)("openDelay",500),a.\u0275\u0275advance(1),a.\u0275\u0275property("disabled",!(null!=D.item&&D.item.selectable))("ngModel",D.isSelected)("checked",D.isSelected),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(D.item.display)}}function re(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",25),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(D);const fe=a.\u0275\u0275nextContext().$implicit,ve=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(ve.onSelect(fe.item))}),a.\u0275\u0275elementStart(1,"span"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&S){const D=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275classProp("text-success",D.isSelected),a.\u0275\u0275property("disabled",!(null!=D.item&&D.item.selectable))("ngbTooltip",null==D.item||null==D.item.otherInformation?null:D.item.otherInformation.note)("openDelay",500),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(D.item.display)}}function U(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"cdk-tree-node",18)(1,"button",26),a.\u0275\u0275listener("click",function(){const ve=a.\u0275\u0275restoreView(D).$implicit,v=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(v.loadChildren(ve))}),a.\u0275\u0275element(2,"span",27),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,Be,4,8,"label",21),a.\u0275\u0275template(4,re,3,6,"button",22),a.\u0275\u0275elementEnd()}if(2&S){const D=z.$implicit,ee=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275attribute("aria-label","toggle "+D.name),a.\u0275\u0275advance(1),a.\u0275\u0275classMapInterpolate1("fas fa-fw ",ee.treeControl.isExpanded(D)?"fa-angle-down":"fa-angle-right",""),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",ee.multiSelect),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!ee.multiSelect)}}function k(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"cdk-tree-node",28)(1,"button",29),a.\u0275\u0275listener("click",function(){const ve=a.\u0275\u0275restoreView(D).$implicit,v=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(v.loadMore(ve.loadMoreParentItem))}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()}2&S&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(3,1,"vocabulary-treeview.load-more"),"... "))}function m(S,z){if(1&S){const D=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"cdk-tree-node")(1,"button",29),a.\u0275\u0275listener("click",function(){const ve=a.\u0275\u0275restoreView(D).$implicit,v=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(v.loadMoreRoot(ve))}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()}2&S&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(3,1,"vocabulary-treeview.load-more"),"... "))}let P=(()=>{class S{constructor(D,ee,fe,ve){this.vocabularyTreeviewService=D,this.vocabularyService=ee,this.store=fe,this.translate=ve,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new a.EventEmitter(null),this.deselect=new a.EventEmitter(null),this.subs=[],this.getChildren=v=>v.childrenChange,this.transformer=(v,j)=>{const u=this.nodeMap.get(v.item.id);if(u&&u.item.id!==V&&u.item.id!==J)return u;const f=new X(v.item,j,v.hasChildren,v.hasChildren&&(0,T.UE)(v.children),v.pageInfo,v.loadMoreParentItem,v.isSearchNode,v.isInInitValueHierarchy,v.isSelected);return this.nodeMap.set(v.item.id,f),(j+1<this.preloadLevel&&f.childrenLoaded||f.isSearchNode&&f.childrenLoaded||f.isInInitValueHierarchy)&&(f.isSearchNode||this.loadChildren(f),this.treeControl.expand(f)),f},this.getLevel=v=>v.level,this.isExpandable=v=>v.expandable,this.hasChildren=(v,j)=>j.expandable,this.isLoadMore=(v,j)=>j.item.id===V,this.isLoadMoreRoot=(v,j)=>j.item.id===J,this.treeFlattener=new B(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new e.C2(this.getLevel,this.isExpandable),this.dataSource=new te(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(D=>{this.dataSource.data=D})),this.loading=this.vocabularyTreeviewService.isLoading(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new Q.S,this.selectedItems,null)}loadMore(D){this.vocabularyTreeviewService.loadMore(D,this.selectedItems)}loadMoreRoot(D){this.vocabularyTreeviewService.loadMoreRoot(D,this.selectedItems)}loadChildren(D){this.vocabularyTreeviewService.loadMore(D.item,this.selectedItems,!0)}onSelect(D){this.selectedItems.includes(D.id)?(this.selectedItems=this.selectedItems.filter(ee=>ee!==D.id),this.deselect.emit(D)):(this.selectedItems.push(D.id),this.select.emit(D))}search(){(0,T.UE)(this.searchText)&&((0,T.xb)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.selectedItems))}isSearchEnabled(){return(0,T.UE)(this.searchText)}reset(){this.searchText="";for(const D of this.selectedItems)this.subs.push(this.vocabularyService.findEntryDetailById(D,this.vocabularyOptions.name,!0,!0,!1).pipe((0,b.Gp)()).subscribe(ee=>{this.deselect.emit(ee)})),this.nodeMap.get(D).isSelected=!1;this.selectedItems=[],(0,T.UE)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes())}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(D=>(0,T.Uh)(D)).forEach(D=>D.unsubscribe())}getEntryId(D){return D.authority||D.otherInformation.id||void 0}ngOnChanges(D){this.reset(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new Q.S,this.selectedItems,null)}}return S.\u0275fac=function(D){return new(D||S)(a.\u0275\u0275directiveInject(G),a.\u0275\u0275directiveInject(ae.c),a.\u0275\u0275directiveInject(ce.yh),a.\u0275\u0275directiveInject(we.sK))},S.\u0275cmp=a.\u0275\u0275defineComponent({type:S,selectors:[["ds-vocabulary-treeview"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect"},outputs:{select:"select",deselect:"deselect"},features:[a.\u0275\u0275NgOnChangesFeature],decls:26,vars:27,consts:[[3,"content","type"],[1,"treeview-header","row"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["class","text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"showMessage"],[1,"text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default"],["aria-hidden","true",1,"fas","fa-fw","fa-angle-right","invisible"],["class","d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-left","container","body",3,"text-success","disabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"mr-2",3,"disabled","ngModel","checked","ngModelChange","change"],["container","body",1,"btn","btn-outline-link","btn-sm","text-left",3,"disabled","ngbTooltip","openDelay","click"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default",3,"click"],["aria-hidden","true"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(D,ee){1&D&&(a.\u0275\u0275element(0,"ds-alert",0),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),a.\u0275\u0275listener("ngModelChange",function(ve){return ee.searchText=ve})("keyup.enter",function(){return ee.search()}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",5)(7,"button",6),a.\u0275\u0275listener("click",function(){return ee.search()}),a.\u0275\u0275text(8),a.\u0275\u0275pipe(9,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"button",7),a.\u0275\u0275listener("click",function(){return ee.reset()}),a.\u0275\u0275text(11),a.\u0275\u0275pipe(12,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"button",6),a.\u0275\u0275listener("click",function(){return ee.add()}),a.\u0275\u0275text(14),a.\u0275\u0275pipe(15,"translate"),a.\u0275\u0275elementEnd()()()()(),a.\u0275\u0275elementStart(16,"div",8),a.\u0275\u0275template(17,Ce,1,1,"ds-themed-loading",9),a.\u0275\u0275pipe(18,"async"),a.\u0275\u0275template(19,se,4,3,"h4",10),a.\u0275\u0275pipe(20,"async"),a.\u0275\u0275elementStart(21,"cdk-tree",11),a.\u0275\u0275template(22,ne,5,2,"cdk-tree-node",12),a.\u0275\u0275template(23,U,5,6,"cdk-tree-node",13),a.\u0275\u0275template(24,k,4,3,"cdk-tree-node",14),a.\u0275\u0275template(25,m,4,3,"cdk-tree-node",15),a.\u0275\u0275elementEnd()()),2&D&&(a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,15,"vocabulary-treeview.info"))("type","alert-info"),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngModel",ee.searchText),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!ee.isSearchEnabled()),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(9,17,"vocabulary-treeview.search.form.search")," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(12,19,"vocabulary-treeview.search.form.reset")," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",ee.vocabularyOptions.closed),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(15,21,"vocabulary-treeview.search.form.add")," "),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(18,23,ee.loading)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(20,25,ee.loading)&&0===ee.dataSource.data.length),a.\u0275\u0275advance(2),a.\u0275\u0275property("dataSource",ee.dataSource)("treeControl",ee.treeControl),a.\u0275\u0275advance(2),a.\u0275\u0275property("cdkTreeNodeDefWhen",ee.hasChildren),a.\u0275\u0275advance(1),a.\u0275\u0275property("cdkTreeNodeDefWhen",ee.isLoadMore),a.\u0275\u0275advance(1),a.\u0275\u0275property("cdkTreeNodeDefWhen",ee.isLoadMoreRoot))},dependencies:[n.O5,oe.Fj,oe.Wl,oe.JJ,oe.On,ke._L,nt.w,We.Z,e.rO,e.XJ,e.Ud,e._0,e.Hs,n.Ov,we.X$],styles:[".tooltip-inner{text-align:left}cdk-tree[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}label[_ngcontent-%COMP%]{cursor:pointer}"]}),S})()},16694:(Ve,ye,t)=>{"use strict";t.d(ye,{R:()=>F});var e=t(4682),a=t(98678);function T(I,Z){}const R=["*"];let F=(()=>{class I extends e.F{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(K){return t(22592)(`./${K}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return t.e(3201).then(t.bind(t,13201))}}return I.\u0275fac=function(){let Z;return function(p){return(Z||(Z=a.\u0275\u0275getInheritedFactory(I)))(p||I)}}(),I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["ds-themed-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(K,p){1&K&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,T,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),I})()},8517:(Ve,ye,t)=>{"use strict";t.r(ye),t.d(ye,{SearchResultsComponent:()=>X});var e=t(98678),a=t(58106),T=t(45608),R=t(35103),F=t(67522),I=t(64719),Z=t(87657),K=t(12955),p=t(13812),he=t(96342);function W(ae,b){if(1&ae&&(e.\u0275\u0275elementStart(0,"h2"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&ae){const G=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,G.configuration?G.configuration+".search.results.head":"search.results.head"))}}function E(ae,b){if(1&ae&&e.\u0275\u0275element(0,"ds-search-export-csv",4),2&ae){const G=e.\u0275\u0275nextContext();e.\u0275\u0275property("searchConfig",G.searchConfig)}}function Q(ae,b){if(1&ae){const G=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"ds-viewable-collection",5),e.\u0275\u0275listener("contentChange",function(B){e.\u0275\u0275restoreView(G);const w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.contentChange.emit(B))})("deselectObject",function(B){e.\u0275\u0275restoreView(G);const w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.deselectObject.emit(B))})("selectObject",function(B){e.\u0275\u0275restoreView(G);const w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.selectObject.emit(B))}),e.\u0275\u0275elementEnd()()}if(2&ae){const G=e.\u0275\u0275nextContext();e.\u0275\u0275property("@fadeIn",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("config",G.searchConfig.pagination)("sortConfig",G.searchConfig.sort)("objects",G.searchResults)("hideGear",!0)("selectable",G.selectable)("selectionConfig",G.selectionConfig)("linkType",G.linkType)("context",G.context)("hidePaginationDetail",G.hidePaginationDetail)("showThumbnails",G.showThumbnails)}}function V(ae,b){1&ae&&(e.\u0275\u0275element(0,"ds-themed-loading",6),e.\u0275\u0275pipe(1,"translate")),2&ae&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.search-results"))}function J(ae,b){if(1&ae&&(e.\u0275\u0275element(0,"ds-error",6),e.\u0275\u0275pipe(1,"translate")),2&ae){const G=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,G.errorMessageLabel()))}}const $=function(){return["/search"]},ue=function(ae){return{query:ae}};function L(ae,b){if(1&ae&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"a",7),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&ae){const G=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,4,"search.results.no-results")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(8,$))("queryParams",e.\u0275\u0275pureFunction1(9,ue,G.surroundStringWithQuotes(null==G.searchConfig?null:G.searchConfig.query))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"search.results.no-results-link")," ")}}let X=(()=>{class ae{constructor(){this.hasNoValue=T.xI,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new e.EventEmitter,this.deselectObject=new e.EventEmitter,this.selectObject=new e.EventEmitter}isLoading(){return!this.showError()&&((0,T.xI)(this.searchResults)||(0,T.xI)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(G){let y=G;return(0,T.UE)(y)&&!(y.startsWith('"')&&y.endsWith('"'))&&(y=`"${y}"`),y}}return ae.\u0275fac=function(G){return new(G||ae)},ae.\u0275cmp=e.\u0275\u0275defineComponent({type:ae,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},decls:7,vars:6,consts:[[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"message",4,"ngIf"],[3,"searchConfig"],[3,"config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails","contentChange","deselectObject","selectObject"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(G,y){1&G&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,W,3,3,"h2",1),e.\u0275\u0275template(2,E,1,1,"ds-search-export-csv",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Q,2,11,"div",1),e.\u0275\u0275template(4,V,2,3,"ds-themed-loading",3),e.\u0275\u0275template(5,J,2,3,"ds-error",3),e.\u0275\u0275template(6,L,6,11,"div",1)),2&G&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!y.disableHeader),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",y.showCsvExport),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",y.searchResults&&(null==y.searchResults?null:y.searchResults.hasSucceeded)&&!(null!=y.searchResults&&y.searchResults.isLoading)&&(null==y.searchResults||null==y.searchResults.payload?null:y.searchResults.payload.page.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",y.isLoading()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",y.showError()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==(null==y.searchResults||null==y.searchResults.payload?null:y.searchResults.payload.page.length)||400==(null==y.searchResults?null:y.searchResults.statusCode)))},dependencies:[R.O5,F.rH,I.q,Z.Z,K.c,p.T,he.X$],encapsulation:2,data:{animation:[a.Ji,a.Ic]}}),ae})()},26893:(Ve,ye,t)=>{"use strict";t.r(ye),t.d(ye,{SearchSettingsComponent:()=>V});var e=t(57066),T=(t(27496),t(55963)),R=t(81323),F=t(98678),I=t(67522),Z=t(35103),K=t(5476),p=t(31360),he=t(42988),W=t(96342);function E(J,$){if(1&J&&(F.\u0275\u0275elementStart(0,"option",4),F.\u0275\u0275text(1),F.\u0275\u0275pipe(2,"translate"),F.\u0275\u0275elementEnd()),2&J){const ue=$.$implicit,L=F.\u0275\u0275nextContext(2);F.\u0275\u0275property("value",ue.field+","+ue.direction.toString())("selected",ue.field===(null==L.currentSortOption?null:L.currentSortOption.field)&&ue.direction===(null==L.currentSortOption?null:L.currentSortOption.direction)?"selected":null),F.\u0275\u0275advance(1),F.\u0275\u0275textInterpolate1(" ",F.\u0275\u0275pipeBind1(2,3,"sorting."+ue.field+"."+ue.direction)," ")}}function Q(J,$){if(1&J){const ue=F.\u0275\u0275getCurrentView();F.\u0275\u0275elementStart(0,"ds-sidebar-dropdown",2),F.\u0275\u0275listener("change",function(X){F.\u0275\u0275restoreView(ue);const ae=F.\u0275\u0275nextContext();return F.\u0275\u0275resetView(ae.reloadOrder(X))}),F.\u0275\u0275template(1,E,3,5,"option",3),F.\u0275\u0275elementEnd()}if(2&J){const ue=F.\u0275\u0275nextContext();F.\u0275\u0275property("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),F.\u0275\u0275advance(1),F.\u0275\u0275property("ngForOf",ue.sortOptionsList)}}let V=(()=>{class J{constructor(ue,L,X,ae,b){this.service=ue,this.route=L,this.router=X,this.paginationService=ae,this.searchConfigurationService=b}reloadOrder(ue){const L=ue.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:L[0],sortDirection:L[1],page:1})}}return J.\u0275fac=function(ue){return new(ue||J)(F.\u0275\u0275directiveInject(e.o),F.\u0275\u0275directiveInject(I.gz),F.\u0275\u0275directiveInject(I.F0),F.\u0275\u0275directiveInject(R.N),F.\u0275\u0275directiveInject(T.SEARCH_CONFIG_SERVICE))},J.\u0275cmp=F.\u0275\u0275defineComponent({type:J,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","change",4,"ngIf"],[3,"id","label","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(ue,L){1&ue&&(F.\u0275\u0275elementContainerStart(0),F.\u0275\u0275elementStart(1,"h3"),F.\u0275\u0275text(2),F.\u0275\u0275pipe(3,"translate"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(4,"div",0),F.\u0275\u0275template(5,Q,2,3,"ds-sidebar-dropdown",1),F.\u0275\u0275elementEnd(),F.\u0275\u0275element(6,"ds-page-size-selector"),F.\u0275\u0275elementContainerEnd()),2&ue&&(F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate(F.\u0275\u0275pipeBind1(3,2,"search.sidebar.settings.title")),F.\u0275\u0275advance(3),F.\u0275\u0275property("ngIf",L.sortOptionsList))},dependencies:[Z.sg,Z.O5,K.YN,K.Kr,p.N,he.k,W.X$],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]}),J})()},16194:(Ve,ye,t)=>{"use strict";t.d(ye,{M:()=>F});var e=t(4682),a=t(98678);function T(I,Z){}const R=["*"];let F=(()=>{class I extends e.F{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(K){return t(51542)(`./${K}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return t.e(6893).then(t.bind(t,26893))}}return I.\u0275fac=function(){let Z;return function(p){return(Z||(Z=a.\u0275\u0275getInheritedFactory(I)))(p||I)}}(),I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["ds-themed-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(K,p){1&K&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,T,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),I})()},34074:(Ve,ye,t)=>{"use strict";t.r(ye),t.d(ye,{SearchSidebarComponent:()=>he});var e=t(98678),a=t(35103),T=t(20189),R=t(39536),F=t(16194),I=t(16694),Z=t(96342);function K(W,E){if(1&W){const Q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-view-mode-switch",10),e.\u0275\u0275listener("changeViewMode",function(J){e.\u0275\u0275restoreView(Q);const $=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView($.changeViewMode.emit(J))}),e.\u0275\u0275elementEnd()}if(2&W){const Q=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModeList",Q.viewModeList)}}function p(W,E){if(1&W){const Q=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-search-switch-configuration",11),e.\u0275\u0275listener("changeConfiguration",function(J){e.\u0275\u0275restoreView(Q);const $=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView($.changeConfiguration.emit(J))}),e.\u0275\u0275elementEnd()}if(2&W){const Q=e.\u0275\u0275nextContext();e.\u0275\u0275property("configurationList",Q.configurationList)("defaultConfiguration",Q.configuration)("inPlaceSearch",Q.inPlaceSearch)}}let he=(()=>{class W{constructor(){this.showViewModes=!0,this.toggleSidebar=new e.EventEmitter,this.changeConfiguration=new e.EventEmitter,this.changeViewMode=new e.EventEmitter}}return W.\u0275fac=function(Q){return new(Q||W)},W.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},decls:16,vars:19,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","close-sidebar",3,"click"],[1,"fas","fa-arrow-right",3,"title"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"currentSortOption","sortOptionsList"],[1,"d-none","d-md-block",3,"viewModeList","changeViewMode"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration"]],template:function(Q,V){1&Q&&(e.\u0275\u0275elementStart(0,"div")(1,"div",0)(2,"small",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",2),e.\u0275\u0275listener("click",function(){return V.toggleSidebar.emit()}),e.\u0275\u0275element(6,"i",3),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",4),e.\u0275\u0275template(11,K,1,1,"ds-view-mode-switch",5),e.\u0275\u0275elementStart(12,"div",6),e.\u0275\u0275template(13,p,1,3,"ds-search-switch-configuration",7),e.\u0275\u0275element(14,"ds-themed-search-filters",8)(15,"ds-themed-search-settings",9),e.\u0275\u0275elementEnd()()()),2&Q&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",V.resultCount," ",e.\u0275\u0275pipeBind1(4,13,"search.sidebar.results"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(7,15,"search.sidebar.close")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,17,"search.sidebar.close")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",V.showViewModes),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",V.configurationList),e.\u0275\u0275advance(1),e.\u0275\u0275property("currentScope",V.currentScope)("currentConfiguration",V.configuration)("filters",V.filters)("refreshFilters",V.refreshFilters)("inPlaceSearch",V.inPlaceSearch),e.\u0275\u0275advance(1),e.\u0275\u0275property("currentSortOption",V.currentSortOption)("sortOptionsList",V.sortOptionsList))},dependencies:[a.O5,T.$,R.n,F.M,I.R,Z.X$],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]}),W})()},39536:(Ve,ye,t)=>{"use strict";t.d(ye,{n:()=>J});var e=t(98678),a=t(45608),T=t(55963),F=(t(27496),t(57066)),I=t(26176),Z=t(54385),K=t.n(Z),p=t(67522),he=t(35103),W=t(5476),E=t(96342);function Q($,ue){if(1&$&&(e.\u0275\u0275elementStart(0,"option",5),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&$){const L=ue.$implicit;e.\u0275\u0275property("ngValue",L),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,L.label)," ")}}function V($,ue){if(1&$){const L=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"h5",2),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"select",3),e.\u0275\u0275listener("ngModelChange",function(ae){e.\u0275\u0275restoreView(L);const b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectedOption=ae)})("change",function(){e.\u0275\u0275restoreView(L);const ae=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(ae.onSelect())}),e.\u0275\u0275template(5,Q,3,4,"option",4),e.\u0275\u0275elementEnd()()}if(2&$){const L=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"search.switch-configuration.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("compareWith",L.compare)("ngModel",L.selectedOption),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",L.configurationList)}}let J=(()=>{class ${constructor(L,X,ae){this.router=L,this.searchService=X,this.searchConfigService=ae,this.configurationList=[],this.changeConfiguration=new e.EventEmitter}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(L=>{const X=K()(this.configurationList,{value:L});this.selectedOption=this.configurationList[X]})}onSelect(){const L={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),L)}compare(L,X){return L===X}ngOnDestroy(){(0,a.Uh)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,I.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}}return $.\u0275fac=function(L){return new(L||$)(e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(F.o),e.\u0275\u0275directiveInject(T.SEARCH_CONFIG_SERVICE))},$.\u0275cmp=e.\u0275\u0275defineComponent({type:$,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-control",3,"compareWith","ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(L,X){1&L&&e.\u0275\u0275template(0,V,6,6,"div",0),2&L&&e.\u0275\u0275property("ngIf",(null==X.configurationList?null:X.configurationList.length)>1)},dependencies:[he.sg,he.O5,W.YN,W.Kr,W.EJ,W.JJ,W.On,E.X$]}),$})()},29419:(Ve,ye,t)=>{"use strict";t.d(ye,{t:()=>sn});var e=t(35103),F=(t(39536),t(13201),t(58557),t(79601)),I=t(35841),Z=t(9237),K=t(53426),p=t(49887),he=t(77007),W=t(3358),E=t(69637),Q=t(77176),V=t(48358),J=t(21160),$=t(27303),ue=t(16066),L=t(45608),X=t(84694),ae=t(24034),b=t(83046),G=t(57066),y=t(58055),B=t(27496),w=t(10572),le=t(55963),te=t(26176),ce=t(53374),we=t(41121),n=t(98678),oe=t(67522);let ke=(()=>{class c{constructor(d,_,O,_e,be,Fe,Ie,je){this.searchService=d,this.filterService=_,this.rdbs=O,this.router=_e,this.searchConfigService=be,this.inPlaceSearch=Fe,this.filterConfig=Ie,this.refreshFilters=je,this.isLastPage$=new I.X(!1),this.subs=[],this.filterSearchResults=(0,Z.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.filterValues$=new I.X((0,we.Xx)()),this.currentPage=this.getCurrentPage().pipe((0,p.x)()),this.searchOptions$=this.searchConfigService.searchOptions,this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.refreshFilters.asObservable().pipe((0,he.h)(d=>d),(0,W.b)(100),(0,E.z)(()=>this.retrieveFilterValues(!1))).subscribe()),this.retrieveFilterValues().subscribe()}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}isChecked(d){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,d.value)}getSearchLink(){return this.inPlaceSearch?(0,te.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(d){this.applyFilterValue(d)}onClick(d){this.applyFilterValue(d.query)}hasValue(d){return(0,L.Uh)(d)}ngOnDestroy(){this.subs.filter(d=>(0,L.Uh)(d)).forEach(d=>d.unsubscribe())}findSuggestions(d){(0,L.UE)(d)?this.searchOptions$.pipe((0,Q.q)(1)).subscribe(_=>{this.filterSearchResults=this.searchService.getFacetValuesFor(this.filterConfig,1,_,d.toLowerCase()).pipe((0,w.xw)(),(0,V.U)(O=>O.payload.page.map(_e=>({displayValue:this.getDisplayValue(_e,d),query:this.getFacetValue(_e),value:(0,ce.RD)(this.getFacetValue(_e))}))))}):this.filterSearchResults=(0,Z.of)([])}applyFilterValue(d){d.match(new RegExp("^.+,(equals|query|authority)$"))&&this.selectedValues$.pipe((0,Q.q)(1)).subscribe(_=>{(0,L.UE)(d)&&(this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName]:[..._.map(O=>this.getFacetValue(O)),d]},queryParamsHandling:"merge"}),this.filter=""),this.filterSearchResults=(0,Z.of)([])})}getFacetValue(d){return(0,ce.MD)(d,this.filterConfig)}retrieveFilterValues(d=!0){const _=(0,K.a)([this.searchOptions$,this.currentPage]).pipe((0,V.U)(([_e,be])=>({options:_e,page:be})),(0,J.w)(({options:_e,page:be})=>this.searchService.getFacetValuesFor(this.filterConfig,be,_e,null,d).pipe((0,w.xw)(),(0,$.b)(Fe=>{this.isLastPage$.next((0,L.xI)(Fe?.payload?.next))}),(0,V.U)(Fe=>({values:(0,Z.of)(Fe),page:be})))));let O=[];return _.pipe((0,E.z)(_e=>{const be=_e.values;return this.collapseNextUpdate&&(this.showFirstPageOnly(),_e.page=1,this.collapseNextUpdate=!1),1===_e.page&&(O=[]),O=[...O,be],this.rdbs.aggregate(O)}),(0,$.b)(_e=>{this.selectedValues$=this.filterService.getSelectedValuesForFilter(this.filterConfig).pipe((0,V.U)(be=>be.map(Fe=>{const Ie=[].concat(..._e.payload.map(Qe=>Qe.page)).find(Qe=>this.getFacetValue(Qe)===Fe);if((0,L.Uh)(Ie))return Ie;const je=(0,ce.RD)(Fe);return Object.assign(new ae.G,{label:je,value:je})})))}),(0,$.b)(_e=>{this.animationState="ready",this.filterValues$.next(_e)}))}getDisplayValue(d,_){return(new X.R).transform(d.value,_)+" ("+d.count+")"}trackUpdate(d,_){return _?_._links.search.href:void 0}}return c.\u0275fac=function(d){return new(d||c)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(ue.Q),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(le.SEARCH_CONFIG_SERVICE),n.\u0275\u0275directiveInject(y.y5),n.\u0275\u0275directiveInject(y.j9),n.\u0275\u0275directiveInject(y.Pe))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["ds-search-facet-filter"]],decls:0,vars:0,template:function(d,_){},encapsulation:2}),c})();const nt=(0,F.X$)("facetLoad",[(0,F.SB)("ready",(0,F.oB)({opacity:1})),(0,F.SB)("loading",(0,F.oB)({opacity:0})),(0,F.eR)("loading <=> ready",(0,F.jt)(100))]);t(19350),t(18391),t(29889);var m,A=t(70655),H=t(9302),ne=t(96342),Be=(()=>{return(c=Be||(Be={})).authority="authority",c.text="text",c.range="date",c.hierarchy="hierarchical",c.boolean="standard",Be;var c})(),re=t(88876),U=t(74997),k=t(710);function P(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"nouislider",11),n.\u0275\u0275listener("onDebounce",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.onSubmit())})("keydown",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.startKeyboardControl())})("keyup",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.stopKeyboardControl())})("ngModelChange",function(O){n.\u0275\u0275restoreView(d);const _e=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(_e.range=O)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()}if(2&c){const d=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("connect",!0)("config",d.config)("min",d.min)("max",d.max)("step",1)("dsDebounce",250)("ngModel",d.range)}}function S(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-range-option",13),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("filterConfig",_.filterConfig)("filterValue",d)("inPlaceSearch",_.inPlaceSearch)}}function z(c,r){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div"),n.\u0275\u0275template(2,S,1,3,"ds-search-facet-range-option",12),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("@facetLoad",_.animationState),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d.page)("ngForTrackBy",_.trackUpdate)}}const D=".min",ee=".max";let fe=((m=class extends ke{constructor(r,d,_,O,_e,be,Fe,Ie,je,Qe,ot){super(r,d,O,_,be,Fe,Ie,Qe),this.searchService=r,this.filterService=d,this.router=_,this.rdbs=O,this.translateService=_e,this.searchConfigService=be,this.inPlaceSearch=Fe,this.filterConfig=Ie,this.platformId=je,this.refreshFilters=Qe,this.route=ot,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,k.Ks)(this.filterConfig.minValue)||this.min,this.max=(0,k.Ks)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const r=this.route.getQueryParameterValue(this.filterConfig.paramName+D).pipe((0,H.O)(void 0)),d=this.route.getQueryParameterValue(this.filterConfig.paramName+ee).pipe((0,H.O)(void 0));this.sub=(0,K.a)(r,d).pipe((0,V.U)(([_,O])=>[(0,L.Uh)(_)?_:this.min,(0,L.Uh)(O)?O:this.max])).subscribe(_=>this.range=_),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSubmit(){if(this.keyboardControl)return;const r=this.range[0]!==this.min?[this.range[0]]:null,d=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+D]:r,[this.filterConfig.paramName+ee]:d},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,e.NF)(this.platformId)}ngOnDestroy(){super.ngOnDestroy(),(0,L.Uh)(this.sub)&&this.sub.unsubscribe()}}).\u0275fac=function(r){return new(r||m)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(ue.Q),n.\u0275\u0275directiveInject(ne.sK),n.\u0275\u0275directiveInject(le.SEARCH_CONFIG_SERVICE),n.\u0275\u0275directiveInject(y.y5),n.\u0275\u0275directiveInject(y.j9),n.\u0275\u0275directiveInject(n.PLATFORM_ID),n.\u0275\u0275directiveInject(y.Pe),n.\u0275\u0275directiveInject(U.MZ))},m.\u0275cmp=n.\u0275\u0275defineComponent({type:m,selectors:[["ds-search-range-filter"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:24,vars:22,consts:[[1,"filters","py-2"],[1,"add-filter","row",3,"action","ngSubmit"],["form","ngForm"],[1,"col-6","form-group","mb-0"],[1,"font-weight-bold"],["type","text",1,"form-control",3,"ngModel","name","placeholder","ngModelChange","blur"],[1,"col-6"],[1,"d-none"],["type","submit",1,"d-none"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngDefaultControl","",3,"connect","config","min","max","step","dsDebounce","ngModel","onDebounce","keydown","keyup","ngModelChange"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(r,d){if(1&r&&(n.\u0275\u0275elementStart(0,"div")(1,"div",0)(2,"form",1,2),n.\u0275\u0275listener("ngSubmit",function(){return d.onSubmit()}),n.\u0275\u0275elementStart(4,"div",3)(5,"label")(6,"span",4),n.\u0275\u0275text(7),n.\u0275\u0275pipe(8,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"input",5),n.\u0275\u0275listener("ngModelChange",function(O){return d.range[0]=O})("blur",function(){return d.onSubmit()}),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(10,"div",6)(11,"label")(12,"span",4),n.\u0275\u0275text(13),n.\u0275\u0275pipe(14,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(15,"input",5),n.\u0275\u0275listener("ngModelChange",function(O){return d.range[1]=O})("blur",function(){return d.onSubmit()}),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(16,"label",7),n.\u0275\u0275element(17,"input",8),n.\u0275\u0275elementStart(18,"span"),n.\u0275\u0275text(19),n.\u0275\u0275pipe(20,"translate"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275template(21,P,2,7,"ng-container",9),n.\u0275\u0275template(22,z,3,3,"ng-container",10),n.\u0275\u0275pipe(23,"async"),n.\u0275\u0275elementEnd()()),2&r){let _;n.\u0275\u0275advance(2),n.\u0275\u0275property("action",d.currentUrl,n.\u0275\u0275sanitizeUrl),n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(8,14,"search.filters.filter."+d.filterConfig.name+".min.label")," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngModel",d.range[0])("name",d.filterConfig.paramName+".min")("placeholder",d.minLabel),n.\u0275\u0275attribute("aria-label",d.minLabel),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(14,16,"search.filters.filter."+d.filterConfig.name+".max.label")," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngModel",d.range[1])("name",d.filterConfig.paramName+".max")("placeholder",d.maxLabel),n.\u0275\u0275attribute("aria-label",d.maxLabel),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(20,18,"search.filters.search.submit")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",d.shouldShowSlider()),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",null==(_=n.\u0275\u0275pipeBind1(23,20,d.filterValues$))?null:_.payload)}},styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}"],data:{animation:[nt]}}),m);fe=(0,A.__decorate)([(0,re.z)(Be.range),(0,A.__metadata)("design:paramtypes",[G.o,y.nJ,oe.F0,ue.Q,ne.sK,B.U,Boolean,b.B,Object,I.X,U.MZ])],fe);var ve=t(5476),v=t(10949),j=t(81323),u=t(20124);const f=function(c){return[c]},ie=function(c){return{default:c}};function me(c,r){if(1&c&&(n.\u0275\u0275elementStart(0,"a",1)(1,"label",2),n.\u0275\u0275element(2,"input",3),n.\u0275\u0275elementStart(3,"span",4)(4,"span",5),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"dsShortNumber"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(7),n.\u0275\u0275pipe(8,"translate"),n.\u0275\u0275elementEnd()()()),2&c){const d=n.\u0275\u0275nextContext();n.\u0275\u0275property("tabIndex",-1)("routerLink",n.\u0275\u0275pureFunction1(11,f,d.searchLink))("queryParams",d.addQueryParams),n.\u0275\u0275advance(2),n.\u0275\u0275property("checked",!1),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(6,6,d.filterValue.count)),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(8,8,"search.filters."+d.filterConfig.name+"."+d.filterValue.value,n.\u0275\u0275pureFunction1(13,ie,d.filterValue.value))," ")}}let Ze=(()=>{class c{constructor(d,_,O,_e,be){this.searchService=d,this.filterService=_,this.searchConfigService=O,this.router=_e,this.paginationService=be}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,V.U)(d=>!d)),this.sub=(0,K.a)(this.selectedValues$,this.searchConfigService.searchOptions).subscribe(([d,_])=>{this.updateAddParams(d)})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,te.T)(this.router):this.searchService.getSearchLink()}updateAddParams(d){const _=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.addQueryParams={[this.filterConfig.paramName]:[...d.map(O=>(0,ce.MD)(O,this.filterConfig)),this.getFacetValue()],[_]:1}}getFacetValue(){return(0,ce.MD)(this.filterValue,this.filterConfig)}ngOnDestroy(){(0,L.Uh)(this.sub)&&this.sub.unsubscribe()}}return c.\u0275fac=function(d){return new(d||c)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(B.U),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(j.N))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",selectedValues$:"selectedValues$",inPlaceSearch:"inPlaceSearch"},decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"tabIndex","routerLink","queryParams",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","pl-1","break-facet"],[1,"float-right","badge","badge-secondary","badge-pill","mt-1","ml-1"]],template:function(d,_){1&d&&(n.\u0275\u0275template(0,me,9,15,"a",0),n.\u0275\u0275pipe(1,"async")),2&d&&n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(1,1,_.isVisible))},dependencies:[e.O5,oe.rH,e.Ov,ne.X$,u.H],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]}),c})();const Gt=function(c){return[c]},gn=function(c){return{default:c}};let pt=(()=>{class c{constructor(d,_,O,_e,be){this.searchService=d,this.filterService=_,this.searchConfigService=O,this.router=_e,this.paginationService=be}ngOnInit(){this.sub=(0,K.a)(this.selectedValues$,this.searchConfigService.searchOptions).subscribe(([d,_])=>{this.updateRemoveParams(d)}),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,te.T)(this.router):this.searchService.getSearchLink()}updateRemoveParams(d){const _=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.removeQueryParams={[this.filterConfig.paramName]:d.filter(O=>O.label!==this.selectedValue.label).map(O=>this.getFacetValue(O)),[_]:1}}getFacetValue(d){return(0,ce.MD)(d,this.filterConfig)}ngOnDestroy(){(0,L.Uh)(this.sub)&&this.sub.unsubscribe()}}return c.\u0275fac=function(d){return new(d||c)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(B.U),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(j.N))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",selectedValues$:"selectedValues$",inPlaceSearch:"inPlaceSearch"},decls:6,vars:12,consts:[["queryParamsHandling","merge",1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","pl-1","break-facet"]],template:function(d,_){1&d&&(n.\u0275\u0275elementStart(0,"a",0)(1,"label",1),n.\u0275\u0275element(2,"input",2),n.\u0275\u0275elementStart(3,"span",3),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd()()()),2&d&&(n.\u0275\u0275property("tabIndex",-1)("routerLink",n.\u0275\u0275pureFunction1(8,Gt,_.searchLink))("queryParams",_.removeQueryParams),n.\u0275\u0275advance(2),n.\u0275\u0275property("checked",!0),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(5,5,"search.filters."+_.filterConfig.name+"."+_.selectedValue.value,n.\u0275\u0275pureFunction1(10,gn,_.selectedValue.label))," "))},dependencies:[oe.rH,ne.X$],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]}),c})();var at;function Ee(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-selected-option",7),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275property("selectedValue",d)("filterConfig",_.filterConfig)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function rt(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-option",9),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("filterConfig",_.filterConfig)("filterValue",d)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function Ue(c,r){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div"),n.\u0275\u0275template(2,rt,1,4,"ds-search-facet-option",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("@facetLoad",_.animationState),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d.page)("ngForTrackBy",_.trackUpdate)}}function et(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",10),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showMore())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-more")," "))}function Xt(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",11),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showFirstPageOnly())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-less")," "))}let Qt=((at=class extends ke{onSubmit(r){super.onSubmit((0,ce.XC)(r,"query"))}}).\u0275fac=function(){let c;return function(d){return(c||(c=n.\u0275\u0275getInheritedFactory(at)))(d||at)}}(),at.\u0275cmp=n.\u0275\u0275defineComponent({type:at,selectors:[["ds-search-text-filter"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:15,vars:24,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(r,d){if(1&r&&(n.\u0275\u0275elementStart(0,"div")(1,"div",0),n.\u0275\u0275template(2,Ee,1,4,"ds-search-facet-selected-option",1),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275template(4,Ue,3,3,"ng-container",2),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275elementStart(6,"div",3),n.\u0275\u0275template(7,et,3,3,"a",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275template(9,Xt,3,3,"a",5),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(11,"ds-filter-input-suggestions",6),n.\u0275\u0275listener("ngModelChange",function(O){return d.filter=O})("submitSuggestion",function(O){return d.onSubmit(O)})("clickSuggestion",function(O){return d.onClick(O)})("findSuggestions",function(O){return d.findSuggestions(O)}),n.\u0275\u0275pipe(12,"async"),n.\u0275\u0275pipe(13,"translate"),n.\u0275\u0275pipe(14,"translate"),n.\u0275\u0275elementEnd()()),2&r){let _;n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(3,10,d.selectedValues$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==(_=n.\u0275\u0275pipeBind1(5,12,d.filterValues$))?null:_.payload),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(8,14,d.isLastPage$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,16,d.currentPage)>1),n.\u0275\u0275advance(2),n.\u0275\u0275property("suggestions",n.\u0275\u0275pipeBind1(12,18,d.filterSearchResults))("placeholder",n.\u0275\u0275pipeBind1(13,20,"search.filters.filter."+d.filterConfig.name+".placeholder"))("label",n.\u0275\u0275pipeBind1(14,22,"search.filters.filter."+d.filterConfig.name+".label"))("action",d.currentUrl)("name",d.filterConfig.paramName)("ngModel",d.filter)}},dependencies:[e.sg,e.O5,ve.Fj,ve.JJ,ve.On,v.g,Ze,pt,e.Ov,ne.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[nt]}}),at);Qt=(0,A.__decorate)([(0,re.z)(Be.text)],Qt);var St,tt=t(65706),Ut=t(59600),qt=t(87483),xt=t(76774),nn=t(30879);function dn(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-selected-option",8),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275property("selectedValue",d)("filterConfig",_.filterConfig)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function _t(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-option",10),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("filterConfig",_.filterConfig)("filterValue",d)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function en(c,r){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div"),n.\u0275\u0275template(2,_t,1,4,"ds-search-facet-option",9),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("@facetLoad",_.animationState),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d.page)("ngForTrackBy",_.trackUpdate)}}function pn(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",11),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showMore())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-more")," "))}function un(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",12),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showFirstPageOnly())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-less")," "))}const $t=function(c){return{name:c}};function wt(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",13),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showVocabularyTree())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275pipe(3,"lowercase"),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275elementEnd()}if(2&c){const d=n.\u0275\u0275nextContext();n.\u0275\u0275propertyInterpolate1("id","show-",d.filterConfig.name,"-tree"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,2,"search.filters.filter.show-tree",n.\u0275\u0275pureFunction1(9,$t,n.\u0275\u0275pipeBind1(3,5,n.\u0275\u0275pipeBind1(4,7,"search.filters.filter."+d.filterConfig.name+".head")))),"\n")}}let Pe=((St=class extends ke{constructor(r,d,_,O,_e,be,Fe,Ie,je,Qe){super(r,d,_,O,Fe,Ie,je,Qe),this.searchService=r,this.filterService=d,this.rdbs=_,this.router=O,this.modalService=_e,this.vocabularyService=be,this.searchConfigService=Fe,this.inPlaceSearch=Ie,this.filterConfig=je,this.refreshFilters=Qe}onSubmit(r){super.onSubmit((0,ce.XC)(r,"query"))}ngOnInit(){super.ngOnInit(),this.vocabularyExists$=this.vocabularyService.searchTopEntries(this.getVocabularyEntry(),new qt.S,!0,!1).pipe((0,he.h)(r=>r.hasCompleted),(0,Q.q)(1),(0,V.U)(r=>r.hasSucceeded))}showVocabularyTree(){const r=this.modalService.open(nn.L,{size:"lg",windowClass:"treeview"});r.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},r.result.then(d=>{this.selectedValues$.pipe((0,Q.q)(1)).subscribe(_=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:{[this.filterConfig.paramName]:[..._,{value:d.value}].map(O=>(0,ce.MD)(O,this.filterConfig))},queryParamsHandling:"merge"})})}).catch()}getVocabularyEntry(){const r=xt.N.vocabularies.filter(d=>d.filter===this.filterConfig.name);if(r.length>0&&!0===r[0].enabled)return r[0].vocabulary}}).\u0275fac=function(r){return new(r||St)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(ue.Q),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(tt.FF),n.\u0275\u0275directiveInject(Ut.c),n.\u0275\u0275directiveInject(le.SEARCH_CONFIG_SERVICE),n.\u0275\u0275directiveInject(y.y5),n.\u0275\u0275directiveInject(y.j9),n.\u0275\u0275directiveInject(y.Pe))},St.\u0275cmp=n.\u0275\u0275defineComponent({type:St,selectors:[["ds-search-hierarchy-filter"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:17,vars:27,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["href","javascript:void(0);",3,"id","click"]],template:function(r,d){if(1&r&&(n.\u0275\u0275elementStart(0,"div")(1,"div",0),n.\u0275\u0275template(2,dn,1,4,"ds-search-facet-selected-option",1),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275template(4,en,3,3,"ng-container",2),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275elementStart(6,"div",3),n.\u0275\u0275template(7,pn,3,3,"a",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275template(9,un,3,3,"a",5),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(11,"ds-filter-input-suggestions",6),n.\u0275\u0275listener("ngModelChange",function(O){return d.filter=O})("submitSuggestion",function(O){return d.onSubmit(O)})("clickSuggestion",function(O){return d.onClick(O)})("findSuggestions",function(O){return d.findSuggestions(O)}),n.\u0275\u0275pipe(12,"async"),n.\u0275\u0275pipe(13,"translate"),n.\u0275\u0275pipe(14,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(15,wt,5,11,"a",7),n.\u0275\u0275pipe(16,"async")),2&r){let _;n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(3,11,d.selectedValues$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==(_=n.\u0275\u0275pipeBind1(5,13,d.filterValues$))?null:_.payload),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(8,15,d.isLastPage$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,17,d.currentPage)>1),n.\u0275\u0275advance(2),n.\u0275\u0275property("suggestions",n.\u0275\u0275pipeBind1(12,19,d.filterSearchResults))("placeholder",n.\u0275\u0275pipeBind1(13,21,"search.filters.filter."+d.filterConfig.name+".placeholder"))("label",n.\u0275\u0275pipeBind1(14,23,"search.filters.filter."+d.filterConfig.name+".label"))("action",d.currentUrl)("name",d.filterConfig.paramName)("ngModel",d.filter),n.\u0275\u0275advance(4),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(16,25,d.vocabularyExists$))}},dependencies:[e.sg,e.O5,ve.Fj,ve.JJ,ve.On,v.g,Ze,pt,e.Ov,e.i8,ne.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[nt]}}),St);var He;function q(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-selected-option",6),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275property("selectedValue",d)("filterConfig",_.filterConfig)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function De(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-option",8),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("filterConfig",_.filterConfig)("filterValue",d)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function Ge(c,r){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div"),n.\u0275\u0275template(2,De,1,4,"ds-search-facet-option",7),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("@facetLoad",_.animationState),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d.page)("ngForTrackBy",_.trackUpdate)}}function st(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",9),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showMore())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-more")," "))}function yt(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",10),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showFirstPageOnly())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-less")," "))}Pe=(0,A.__decorate)([(0,re.z)(Be.hierarchy),(0,A.__metadata)("design:paramtypes",[G.o,y.nJ,ue.Q,oe.F0,tt.FF,Ut.c,B.U,Boolean,b.B,I.X])],Pe);let bt=((He=class extends ke{}).\u0275fac=function(){let c;return function(d){return(c||(c=n.\u0275\u0275getInheritedFactory(He)))(d||He)}}(),He.\u0275cmp=n.\u0275\u0275defineComponent({type:He,selectors:[["ds-search-boolean-filter"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(r,d){if(1&r&&(n.\u0275\u0275elementStart(0,"div")(1,"div",0),n.\u0275\u0275template(2,q,1,4,"ds-search-facet-selected-option",1),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275template(4,Ge,3,3,"ng-container",2),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275elementStart(6,"div",3),n.\u0275\u0275template(7,st,3,3,"a",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275template(9,yt,3,3,"a",5),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275elementEnd()()()),2&r){let _;n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(3,4,d.selectedValues$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==(_=n.\u0275\u0275pipeBind1(5,6,d.filterValues$))?null:_.payload),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(8,8,d.isLastPage$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,10,d.currentPage)>1)}},dependencies:[e.sg,e.O5,Ze,pt,e.Ov,ne.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[nt]}}),He);bt=(0,A.__decorate)([(0,re.z)(Be.boolean)],bt);const Bt=function(c){return[c]};function Nt(c,r){if(1&c&&(n.\u0275\u0275elementStart(0,"a",1)(1,"span",2),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"span",3)(4,"span",4),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"dsShortNumber"),n.\u0275\u0275elementEnd()()()),2&c){const d=n.\u0275\u0275nextContext();n.\u0275\u0275property("routerLink",n.\u0275\u0275pureFunction1(6,Bt,d.searchLink))("queryParams",d.changeQueryParams),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(d.filterValue.label),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(6,4,d.filterValue.count))}}let jt=(()=>{class c{constructor(d,_,O,_e,be){this.searchService=d,this.filterService=_,this.searchConfigService=O,this.router=_e,this.paginationService=be}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,V.U)(d=>!d)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,te.T)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const d=this.filterValue.value.split("-"),_=d.length>1?d[0].trim():this.filterValue.value,O=d.length>1?d[1].trim():this.filterValue.value,_e=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+D]:[_],[this.filterConfig.paramName+ee]:[O],[_e]:1}}ngOnDestroy(){(0,L.Uh)(this.sub)&&this.sub.unsubscribe()}}return c.\u0275fac=function(d){return new(d||c)(n.\u0275\u0275directiveInject(G.o),n.\u0275\u0275directiveInject(y.nJ),n.\u0275\u0275directiveInject(B.U),n.\u0275\u0275directiveInject(oe.F0),n.\u0275\u0275directiveInject(j.N))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-right","filter-value-count","ml-auto"],[1,"badge","badge-secondary","badge-pill"]],template:function(d,_){1&d&&(n.\u0275\u0275template(0,Nt,7,8,"a",0),n.\u0275\u0275pipe(1,"async")),2&d&&n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(1,1,_.isVisible))},dependencies:[e.O5,oe.rH,e.Ov,u.H],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]}),c})();var Wt;function mn(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-selected-option",7),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275property("selectedValue",d)("filterConfig",_.filterConfig)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function hn(c,r){if(1&c&&n.\u0275\u0275element(0,"ds-search-facet-option",9),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("filterConfig",_.filterConfig)("filterValue",d)("selectedValues$",_.selectedValues$)("inPlaceSearch",_.inPlaceSearch)}}function fn(c,r){if(1&c&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div"),n.\u0275\u0275template(2,hn,1,4,"ds-search-facet-option",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()),2&c){const d=r.$implicit,_=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("@facetLoad",_.animationState),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d.page)("ngForTrackBy",_.trackUpdate)}}function vn(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",10),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showMore())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-more")," "))}function Fn(c,r){if(1&c){const d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",11),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(d);const O=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(O.showFirstPageOnly())}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&c&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"search.filters.filter.show-less")," "))}let on=((Wt=class extends ke{}).\u0275fac=function(){let c;return function(d){return(c||(c=n.\u0275\u0275getInheritedFactory(Wt)))(d||Wt)}}(),Wt.\u0275cmp=n.\u0275\u0275defineComponent({type:Wt,selectors:[["ds-search-authority-filter"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:15,vars:24,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(r,d){if(1&r&&(n.\u0275\u0275elementStart(0,"div")(1,"div",0),n.\u0275\u0275template(2,mn,1,4,"ds-search-facet-selected-option",1),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275template(4,fn,3,3,"ng-container",2),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275elementStart(6,"div",3),n.\u0275\u0275template(7,vn,3,3,"a",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275template(9,Fn,3,3,"a",5),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(11,"ds-filter-input-suggestions",6),n.\u0275\u0275listener("ngModelChange",function(O){return d.filter=O})("submitSuggestion",function(O){return d.onSubmit(O)})("clickSuggestion",function(O){return d.onClick(O)})("findSuggestions",function(O){return d.findSuggestions(O)}),n.\u0275\u0275pipe(12,"async"),n.\u0275\u0275pipe(13,"translate"),n.\u0275\u0275pipe(14,"translate"),n.\u0275\u0275elementEnd()()),2&r){let _;n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(3,10,d.selectedValues$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",null==(_=n.\u0275\u0275pipeBind1(5,12,d.filterValues$))?null:_.payload),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(8,14,d.isLastPage$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,16,d.currentPage)>1),n.\u0275\u0275advance(2),n.\u0275\u0275property("suggestions",n.\u0275\u0275pipeBind1(12,18,d.filterSearchResults))("placeholder",n.\u0275\u0275pipeBind1(13,20,"search.filters.filter."+d.filterConfig.name+".placeholder"))("label",n.\u0275\u0275pipeBind1(14,22,"search.filters.filter."+d.filterConfig.name+".label"))("action",d.currentUrl)("name",d.filterConfig.paramName)("ngModel",d.filter)}},dependencies:[e.sg,e.O5,ve.Fj,ve.JJ,ve.On,v.g,Ze,pt,e.Ov,ne.X$],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[nt]}}),Wt);on=(0,A.__decorate)([(0,re.z)(Be.authority)],on),t(34074),t(26893),t(30624),t(76597),t(75156),t(57924),t(53053),t(65946);var Re=t(98413),ao=t(57999),Jt=(t(8517),t(13326),t(52651),t(76817),t(16194),(()=>{return(c=Jt||(Jt={})).Range="range",c.Steps="steps",c.Positions="positions",c.Count="count",c.Values="values",Jt;var c})()),Dt=(()=>{return(c=Dt||(Dt={}))[c.None=-1]="None",c[c.NoValue=0]="NoValue",c[c.LargeValue=1]="LargeValue",c[c.SmallValue=2]="SmallValue",Dt;var c})();function Pn(c){return"object"==typeof c&&"function"==typeof c.to}function Cn(c){c.parentElement.removeChild(c)}function yn(c){return null!=c}function ut(c){c.preventDefault()}function Ft(c){return"number"==typeof c&&!isNaN(c)&&isFinite(c)}function Tn(c,r,d){d>0&&(gt(c,r),setTimeout(function(){Dn(c,r)},d))}function bn(c){return Math.max(Math.min(c,100),0)}function tn(c){return Array.isArray(c)?c:[c]}function uo(c){var r=(c=String(c)).split(".");return r.length>1?r[1].length:0}function gt(c,r){c.classList&&!/\s/.test(r)?c.classList.add(r):c.className+=" "+r}function Dn(c,r){c.classList&&!/\s/.test(r)?c.classList.remove(r):c.className=c.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}function Nn(c){var r=void 0!==window.pageXOffset,d="CSS1Compat"===(c.compatMode||"");return{x:r?window.pageXOffset:d?c.documentElement.scrollLeft:c.body.scrollLeft,y:r?window.pageYOffset:d?c.documentElement.scrollTop:c.body.scrollTop}}function Qn(c,r){return 100/(r-c)}function kn(c,r,d){return 100*r/(c[d+1]-c[d])}function Yt(c,r){for(var d=1;c>=r[d];)d+=1;return d}var an=function(){function c(r,d,_){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[_||!1],this.xNumSteps=[!1],this.snap=d;var O,_e=[];for(Object.keys(r).forEach(function(be){_e.push([tn(r[be]),be])}),_e.sort(function(be,Fe){return be[0][0]-Fe[0][0]}),O=0;O<_e.length;O++)this.handleEntryPoint(_e[O][1],_e[O][0]);for(this.xNumSteps=this.xSteps.slice(0),O=0;O<this.xNumSteps.length;O++)this.handleStepPoint(O,this.xNumSteps[O])}return c.prototype.getDistance=function(r){for(var d=[],_=0;_<this.xNumSteps.length-1;_++)d[_]=kn(this.xVal,r,_);return d},c.prototype.getAbsoluteDistance=function(r,d,_){var O=0;if(r<this.xPct[this.xPct.length-1])for(;r>this.xPct[O+1];)O++;else r===this.xPct[this.xPct.length-1]&&(O=this.xPct.length-2);!_&&r===this.xPct[O+1]&&O++,null===d&&(d=[]);var _e,be=1,Fe=d[O],Ie=0,je=0,Qe=0,ot=0;for(_e=_?(r-this.xPct[O])/(this.xPct[O+1]-this.xPct[O]):(this.xPct[O+1]-r)/(this.xPct[O+1]-this.xPct[O]);Fe>0;)Ie=this.xPct[O+1+ot]-this.xPct[O+ot],d[O+ot]*be+100-100*_e>100?(je=Ie*_e,be=(Fe-100*_e)/d[O+ot],_e=1):(je=d[O+ot]*Ie/100*be,be=0),_?(Qe-=je,this.xPct.length+ot>=1&&ot--):(Qe+=je,this.xPct.length-ot>=1&&ot++),Fe=d[O+ot]*be;return r+Qe},c.prototype.toStepping=function(r){return function kt(c,r,d){if(d>=c.slice(-1)[0])return 100;var _=Yt(d,c),be=r[_-1],Fe=r[_];return be+function Ne(c,r){return kn(c,c[0]<0?r+Math.abs(c[0]):r-c[0],0)}([c[_-1],c[_]],d)/Qn(be,Fe)}(this.xVal,this.xPct,r)},c.prototype.fromStepping=function(r){return function On(c,r,d){if(d>=100)return c.slice(-1)[0];var _=Yt(d,r),be=r[_-1];return function Lt(c,r){return r*(c[1]-c[0])/100+c[0]}([c[_-1],c[_]],(d-be)*Qn(be,r[_]))}(this.xVal,this.xPct,r)},c.prototype.getStep=function(r){return function It(c,r,d,_){if(100===_)return _;var O=Yt(_,c),_e=c[O-1],be=c[O];return d?_-_e>(be-_e)/2?be:_e:r[O-1]?c[O-1]+function Vn(c,r){return Math.round(c/r)*r}(_-c[O-1],r[O-1]):_}(this.xPct,this.xSteps,this.snap,r)},c.prototype.getDefaultStep=function(r,d,_){var O=Yt(r,this.xPct);return(100===r||d&&r===this.xPct[O-1])&&(O=Math.max(O-1,1)),(this.xVal[O]-this.xVal[O-1])/_},c.prototype.getNearbySteps=function(r){var d=Yt(r,this.xPct);return{stepBefore:{startValue:this.xVal[d-2],step:this.xNumSteps[d-2],highestStep:this.xHighestCompleteStep[d-2]},thisStep:{startValue:this.xVal[d-1],step:this.xNumSteps[d-1],highestStep:this.xHighestCompleteStep[d-1]},stepAfter:{startValue:this.xVal[d],step:this.xNumSteps[d],highestStep:this.xHighestCompleteStep[d]}}},c.prototype.countStepDecimals=function(){var r=this.xNumSteps.map(uo);return Math.max.apply(null,r)},c.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},c.prototype.convert=function(r){return this.getStep(this.toStepping(r))},c.prototype.handleEntryPoint=function(r,d){var _;if(!Ft(_="min"===r?0:"max"===r?100:parseFloat(r))||!Ft(d[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(_),this.xVal.push(d[0]);var O=Number(d[1]);_?this.xSteps.push(!isNaN(O)&&O):isNaN(O)||(this.xSteps[0]=O),this.xHighestCompleteStep.push(0)},c.prototype.handleStepPoint=function(r,d){if(d){if(this.xVal[r]===this.xVal[r+1])return void(this.xSteps[r]=this.xHighestCompleteStep[r]=this.xVal[r]);this.xSteps[r]=kn([this.xVal[r],this.xVal[r+1]],d,0)/Qn(this.xPct[r],this.xPct[r+1]);var O=Math.ceil(Number(((this.xVal[r+1]-this.xVal[r])/this.xNumSteps[r]).toFixed(3))-1);this.xHighestCompleteStep[r]=this.xVal[r]+this.xNumSteps[r]*O}},c}(),qe={to:function(c){return void 0===c?"":c.toFixed(2)},from:Number},_n={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Kt={tooltips:".__tooltips",aria:".__aria"};function Bo(c,r){if(!Ft(r))throw new Error("noUiSlider: 'step' is not numeric.");c.singleStep=r}function mo(c,r){if(!Ft(r))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");c.keyboardPageMultiplier=r}function Jn(c,r){if(!Ft(r))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");c.keyboardMultiplier=r}function wn(c,r){if(!Ft(r))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");c.keyboardDefaultStep=r}function Kn(c,r){if("object"!=typeof r||Array.isArray(r))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===r.min||void 0===r.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");c.spectrum=new an(r,c.snap||!1,c.singleStep)}function Yn(c,r){if(r=tn(r),!Array.isArray(r)||!r.length)throw new Error("noUiSlider: 'start' option is incorrect.");c.handles=r.length,c.start=r}function ho(c,r){if("boolean"!=typeof r)throw new Error("noUiSlider: 'snap' option must be a boolean.");c.snap=r}function Gn(c,r){if("boolean"!=typeof r)throw new Error("noUiSlider: 'animate' option must be a boolean.");c.animate=r}function fo(c,r){if("number"!=typeof r)throw new Error("noUiSlider: 'animationDuration' option must be a number.");c.animationDuration=r}function _o(c,r){var _,d=[!1];if("lower"===r?r=[!0,!1]:"upper"===r&&(r=[!1,!0]),!0===r||!1===r){for(_=1;_<c.handles;_++)d.push(r);d.push(!1)}else{if(!Array.isArray(r)||!r.length||r.length!==c.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");d=r}c.connect=d}function Fo(c,r){switch(r){case"horizontal":c.ort=0;break;case"vertical":c.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Zn(c,r){if(!Ft(r))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==r&&(c.margin=c.spectrum.getDistance(r))}function Lo(c,r){if(!Ft(r))throw new Error("noUiSlider: 'limit' option must be numeric.");if(c.limit=c.spectrum.getDistance(r),!c.limit||c.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function go(c,r){var d;if(!Ft(r)&&!Array.isArray(r))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(r)&&2!==r.length&&!Ft(r[0])&&!Ft(r[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==r){for(Array.isArray(r)||(r=[r,r]),c.padding=[c.spectrum.getDistance(r[0]),c.spectrum.getDistance(r[1])],d=0;d<c.spectrum.xNumSteps.length-1;d++)if(c.padding[0][d]<0||c.padding[1][d]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((r[0]+r[1])/(c.spectrum.xVal[c.spectrum.xVal.length-1]-c.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function l(c,r){switch(r){case"ltr":c.dir=0;break;case"rtl":c.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function i(c,r){if("string"!=typeof r)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var d=r.indexOf("tap")>=0,_=r.indexOf("drag")>=0,O=r.indexOf("fixed")>=0,_e=r.indexOf("snap")>=0,be=r.indexOf("hover")>=0,Fe=r.indexOf("unconstrained")>=0,Ie=r.indexOf("drag-all")>=0,je=r.indexOf("smooth-steps")>=0;if(O){if(2!==c.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Zn(c,c.start[1]-c.start[0])}if(Fe&&(c.margin||c.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");c.events={tap:d||_e,drag:_,dragAll:Ie,smoothSteps:je,fixed:O,snap:_e,hover:be,unconstrained:Fe}}function o(c,r){if(!1!==r)if(!0===r||Pn(r)){c.tooltips=[];for(var d=0;d<c.handles;d++)c.tooltips.push(r)}else{if((r=tn(r)).length!==c.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");r.forEach(function(_){if("boolean"!=typeof _&&!Pn(_))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),c.tooltips=r}}function s(c,r){if(r.length!==c.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");c.handleAttributes=r}function h(c,r){if(!Pn(r))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");c.ariaFormat=r}function C(c,r){if(!function po(c){return Pn(c)&&"function"==typeof c.from}(r))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");c.format=r}function M(c,r){if("boolean"!=typeof r)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");c.keyboardSupport=r}function Y(c,r){c.documentElement=r}function de(c,r){if("string"!=typeof r&&!1!==r)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");c.cssPrefix=r}function ge(c,r){if("object"!=typeof r)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof c.cssPrefix?(c.cssClasses={},Object.keys(r).forEach(function(d){c.cssClasses[d]=c.cssPrefix+r[d]})):c.cssClasses=r}function Me(c){var r={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:qe,format:qe},d={step:{r:!1,t:Bo},keyboardPageMultiplier:{r:!1,t:mo},keyboardMultiplier:{r:!1,t:Jn},keyboardDefaultStep:{r:!1,t:wn},start:{r:!0,t:Yn},connect:{r:!0,t:_o},direction:{r:!0,t:l},snap:{r:!1,t:ho},animate:{r:!1,t:Gn},animationDuration:{r:!1,t:fo},range:{r:!0,t:Kn},orientation:{r:!1,t:Fo},margin:{r:!1,t:Zn},limit:{r:!1,t:Lo},padding:{r:!1,t:go},behaviour:{r:!0,t:i},ariaFormat:{r:!1,t:h},format:{r:!1,t:C},tooltips:{r:!1,t:o},keyboardSupport:{r:!0,t:M},documentElement:{r:!1,t:Y},cssPrefix:{r:!0,t:de},cssClasses:{r:!0,t:ge},handleAttributes:{r:!1,t:s}},_={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:_n,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};c.format&&!c.ariaFormat&&(c.ariaFormat=c.format),Object.keys(d).forEach(function(Ie){if(yn(c[Ie])||void 0!==_[Ie])d[Ie].t(r,yn(c[Ie])?c[Ie]:_[Ie]);else if(d[Ie].r)throw new Error("noUiSlider: '"+Ie+"' is required.")}),r.pips=c.pips;var O=document.createElement("div");return r.transformRule=void 0!==O.style.transform?"transform":void 0!==O.style.msTransform?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function Se(c,r,d){var Fe,Ie,je,Qe,ot,_=function jn(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),_e=function Rt(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Wn(){var c=!1;try{var r=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,r)}catch{}return c}(),be=c,$e=r.spectrum,zt=[],dt=[],At=[],vo=0,ln={},Bn=c.ownerDocument,qn=r.documentElement||Bn.documentElement,eo=Bn.body,Jo="rtl"===Bn.dir||1===r.ort?0:100;function cn(g,x){var N=Bn.createElement("div");return x&&gt(N,x),g.appendChild(N),N}function Yo(g,x){var N=cn(g,r.cssClasses.origin),pe=cn(N,r.cssClasses.handle);if(cn(pe,r.cssClasses.touchArea),pe.setAttribute("data-handle",String(x)),r.keyboardSupport&&(pe.setAttribute("tabindex","0"),pe.addEventListener("keydown",function(Oe){return function mi(g,x){if(Vo()||Co(x))return!1;var N=["Left","Right"],pe=["Down","Up"],xe=["PageDown","PageUp"],Oe=["Home","End"];r.dir&&!r.ort?N.reverse():r.ort&&!r.dir&&(pe.reverse(),xe.reverse());var Et,Ae=g.key.replace("Arrow",""),Te=Ae===xe[0],lt=Ae===xe[1],it=Ae===pe[0]||Ae===N[0]||Te,mt=Ae===pe[1]||Ae===N[1]||lt,Ye=Ae===Oe[1];if(!(it||mt||Ae===Oe[0]||Ye))return!0;if(g.preventDefault(),mt||it){var Tt=it?0:1,Mt=Ho(x)[Tt];if(null===Mt)return!1;!1===Mt&&(Mt=$e.getDefaultStep(dt[x],it,r.keyboardDefaultStep)),Mt*=lt||Te?r.keyboardPageMultiplier:r.keyboardMultiplier,Mt=Math.max(Mt,1e-7),Et=zt[x]+(Mt*=it?-1:1)}else Et=Ye?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return Sn(x,$e.toStepping(Et),!0,!0),Ct("slide",x),Ct("update",x),Ct("change",x),Ct("set",x),!1}(Oe,x)})),void 0!==r.handleAttributes){var xe=r.handleAttributes[x];Object.keys(xe).forEach(function(Oe){pe.setAttribute(Oe,xe[Oe])})}return pe.setAttribute("role","slider"),pe.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===x?gt(pe,r.cssClasses.handleLower):x===r.handles-1&&gt(pe,r.cssClasses.handleUpper),N.handle=pe,N}function Ro(g,x){return!!x&&cn(g,r.cssClasses.connect)}function ei(g,x){return!(!r.tooltips||!r.tooltips[x])&&cn(g.firstChild,r.cssClasses.tooltip)}function Vo(){return be.hasAttribute("disabled")}function Co(g){return Ie[g].hasAttribute("disabled")}function yo(){ot&&($n("update"+Kt.tooltips),ot.forEach(function(g){g&&Cn(g)}),ot=null)}function Ao(){yo(),ot=Ie.map(ei),xo("update"+Kt.tooltips,function(g,x,N){if(ot&&r.tooltips&&!1!==ot[x]){var pe=g[x];!0!==r.tooltips[x]&&(pe=r.tooltips[x].to(N[x])),ot[x].innerHTML=pe}})}function Uo(g,x){return g.map(function(N){return $e.fromStepping(x?$e.getStep(N):N)})}function Eo(){Qe&&(Cn(Qe),Qe=null)}function bo(g){Eo();var x=function ri(g){function x(it,mt){return Number((it+mt).toFixed(7))}var N=function ii(g){if(g.mode===Jt.Range||g.mode===Jt.Steps)return $e.xVal;if(g.mode===Jt.Count){if(g.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var x=g.values-1,N=100/x,pe=[];x--;)pe[x]=x*N;return pe.push(100),Uo(pe,g.stepped)}return g.mode===Jt.Positions?Uo(g.values,g.stepped):g.mode===Jt.Values?g.stepped?g.values.map(function(xe){return $e.fromStepping($e.getStep($e.toStepping(xe)))}):g.values:[]}(g),pe={},xe=$e.xVal[0],Oe=$e.xVal[$e.xVal.length-1],Ae=!1,Te=!1,lt=0;return N=function En(c){return c.filter(function(r){return!this[r]&&(this[r]=!0)},{})}(N.slice().sort(function(it,mt){return it-mt})),N[0]!==xe&&(N.unshift(xe),Ae=!0),N[N.length-1]!==Oe&&(N.push(Oe),Te=!0),N.forEach(function(it,mt){var ht,Ye,Et,Mt,Io,Po,To,wo,Xo,Tt=it,Ot=N[mt+1],Qo=g.mode===Jt.Steps;for(Qo&&(ht=$e.xNumSteps[mt]),ht||(ht=Ot-Tt),void 0===Ot&&(Ot=Tt),ht=Math.max(ht,1e-7),Ye=Tt;Ye<=Ot;Ye=x(Ye,ht)){for(Xo=(Io=(Mt=$e.toStepping(Ye))-lt)/(wo=Math.round(Io/(g.density||1))),Et=1;Et<=wo;Et+=1)pe[(Po=lt+Et*Xo).toFixed(5)]=[$e.fromStepping(Po),0];To=N.indexOf(Ye)>-1?Dt.LargeValue:Qo?Dt.SmallValue:Dt.NoValue,!mt&&Ae&&Ye!==Ot&&(To=0),Ye===Ot&&Te||(pe[Mt.toFixed(5)]=[Ye,To]),lt=Mt}}),pe}(g);return Qe=be.appendChild(function ai(g,x,N){var pe,xe,Oe=Bn.createElement("div"),Ae=((pe={})[Dt.None]="",pe[Dt.NoValue]=r.cssClasses.valueNormal,pe[Dt.LargeValue]=r.cssClasses.valueLarge,pe[Dt.SmallValue]=r.cssClasses.valueSub,pe),Te=((xe={})[Dt.None]="",xe[Dt.NoValue]=r.cssClasses.markerNormal,xe[Dt.LargeValue]=r.cssClasses.markerLarge,xe[Dt.SmallValue]=r.cssClasses.markerSub,xe),lt=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],it=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function mt(Ye,Et){var Tt=Et===r.cssClasses.value;return Et+" "+(Tt?lt:it)[r.ort]+" "+(Tt?Ae:Te)[Ye]}return gt(Oe,r.cssClasses.pips),gt(Oe,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(g).forEach(function(Ye){!function ht(Ye,Et,Tt){if((Tt=x?x(Et,Tt):Tt)!==Dt.None){var Ot=cn(Oe,!1);Ot.className=mt(Tt,r.cssClasses.marker),Ot.style[r.style]=Ye+"%",Tt>Dt.NoValue&&((Ot=cn(Oe,!1)).className=mt(Tt,r.cssClasses.value),Ot.setAttribute("data-value",String(Et)),Ot.style[r.style]=Ye+"%",Ot.innerHTML=String(N.to(Et)))}}(Ye,g[Ye][0],g[Ye][1])}),Oe}(x,g.filter,g.format||{to:function(xe){return String(Math.round(xe))}}))}function No(){var g=Fe.getBoundingClientRect(),x="offset"+["Width","Height"][r.ort];return 0===r.ort?g.width||Fe[x]:g.height||Fe[x]}function xn(g,x,N,pe){var xe=function(Ae){var Te=function si(g,x,N){var pe=0===g.type.indexOf("touch"),xe=0===g.type.indexOf("mouse"),Oe=0===g.type.indexOf("pointer"),Ae=0,Te=0;if(0===g.type.indexOf("MSPointer")&&(Oe=!0),"mousedown"===g.type&&!g.buttons&&!g.touches)return!1;if(pe){var lt=function(ht){var Ye=ht.target;return Ye===N||N.contains(Ye)||g.composed&&g.composedPath().shift()===N};if("touchstart"===g.type){var it=Array.prototype.filter.call(g.touches,lt);if(it.length>1)return!1;Ae=it[0].pageX,Te=it[0].pageY}else{var mt=Array.prototype.find.call(g.changedTouches,lt);if(!mt)return!1;Ae=mt.pageX,Te=mt.pageY}}return x=x||Nn(Bn),(xe||Oe)&&(Ae=g.clientX+x.x,Te=g.clientY+x.y),g.pageOffset=x,g.points=[Ae,Te],g.cursor=xe||Oe,g}(Ae,pe.pageOffset,pe.target||x);if(!Te||Vo()&&!pe.doNotReject||function Un(c,r){return c.classList?c.classList.contains(r):new RegExp("\\b"+r+"\\b").test(c.className)}(be,r.cssClasses.tap)&&!pe.doNotReject||g===_.start&&void 0!==Te.buttons&&Te.buttons>1||pe.hover&&Te.buttons)return!1;_e||Te.preventDefault(),Te.calcPoint=Te.points[r.ort],N(Te,pe)},Oe=[];return g.split(" ").forEach(function(Ae){x.addEventListener(Ae,xe,!!_e&&{passive:!0}),Oe.push([Ae,xe])}),Oe}function jo(g){var x=g-function An(c,r){var d=c.getBoundingClientRect(),_=c.ownerDocument,O=_.documentElement,_e=Nn(_);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(_e.x=0),r?d.top+_e.y-O.clientTop:d.left+_e.x-O.clientLeft}(Fe,r.ort),N=100*x/No();return N=bn(N),r.dir?100-N:N}function ci(g,x){"mouseout"===g.type&&"HTML"===g.target.nodeName&&null===g.relatedTarget&&Do(g,x)}function di(g,x){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===g.buttons&&0!==x.buttonsProperty)return Do(g,x);var N=(r.dir?-1:1)*(g.calcPoint-x.startCalcPoint);Wo(N>0,100*N/x.baseSize,x.locations,x.handleNumbers,x.connect)}function Do(g,x){x.handle&&(Dn(x.handle,r.cssClasses.active),vo-=1),x.listeners.forEach(function(N){qn.removeEventListener(N[0],N[1])}),0===vo&&(Dn(be,r.cssClasses.drag),Mo(),g.cursor&&(eo.style.cursor="",eo.removeEventListener("selectstart",ut))),r.events.smoothSteps&&(x.handleNumbers.forEach(function(N){Sn(N,dt[N],!0,!0,!1,!1)}),x.handleNumbers.forEach(function(N){Ct("update",N)})),x.handleNumbers.forEach(function(N){Ct("change",N),Ct("set",N),Ct("end",N)})}function Oo(g,x){if(!x.handleNumbers.some(Co)){var N;1===x.handleNumbers.length&&(vo+=1,gt(N=Ie[x.handleNumbers[0]].children[0],r.cssClasses.active)),g.stopPropagation();var xe=[],Oe=xn(_.move,qn,di,{target:g.target,handle:N,connect:x.connect,listeners:xe,startCalcPoint:g.calcPoint,baseSize:No(),pageOffset:g.pageOffset,handleNumbers:x.handleNumbers,buttonsProperty:g.buttons,locations:dt.slice()}),Ae=xn(_.end,qn,Do,{target:g.target,handle:N,listeners:xe,doNotReject:!0,handleNumbers:x.handleNumbers}),Te=xn("mouseout",qn,ci,{target:g.target,handle:N,listeners:xe,doNotReject:!0,handleNumbers:x.handleNumbers});xe.push.apply(xe,Oe.concat(Ae,Te)),g.cursor&&(eo.style.cursor=getComputedStyle(g.target).cursor,Ie.length>1&&gt(be,r.cssClasses.drag),eo.addEventListener("selectstart",ut,!1)),x.handleNumbers.forEach(function(lt){Ct("start",lt)})}}function pi(g){g.stopPropagation();var x=jo(g.calcPoint),N=function li(g){var x=100,N=!1;return Ie.forEach(function(pe,xe){if(!Co(xe)){var Oe=dt[xe],Ae=Math.abs(Oe-g);(Ae<x||Ae<=x&&g>Oe||100===Ae&&100===x)&&(N=xe,x=Ae)}}),N}(x);!1!==N&&(r.events.snap||Tn(be,r.cssClasses.tap,r.animationDuration),Sn(N,x,!0,!0),Mo(),Ct("slide",N,!0),Ct("update",N,!0),r.events.snap?Oo(g,{handleNumbers:[N]}):(Ct("change",N,!0),Ct("set",N,!0)))}function ui(g){var x=jo(g.calcPoint),N=$e.getStep(x),pe=$e.fromStepping(N);Object.keys(ln).forEach(function(xe){"hover"===xe.split(".")[0]&&ln[xe].forEach(function(Oe){Oe.call(oo,pe)})})}function xo(g,x){ln[g]=ln[g]||[],ln[g].push(x),"update"===g.split(".")[0]&&Ie.forEach(function(N,pe){Ct("update",pe)})}function $n(g){var x=g&&g.split(".")[0],N=x?g.substring(x.length):g;Object.keys(ln).forEach(function(pe){var xe=pe.split(".")[0],Oe=pe.substring(xe.length);x&&x!==xe||N&&N!==Oe||function fi(g){return g===Kt.aria||g===Kt.tooltips}(Oe)&&N!==Oe||delete ln[pe]})}function Ct(g,x,N){Object.keys(ln).forEach(function(pe){var xe=pe.split(".")[0];g===xe&&ln[pe].forEach(function(Oe){Oe.call(oo,zt.map(r.format.to),x,zt.slice(),N||!1,dt.slice(),oo)})})}function to(g,x,N,pe,xe,Oe,Ae){var Te;return Ie.length>1&&!r.events.unconstrained&&(pe&&x>0&&(Te=$e.getAbsoluteDistance(g[x-1],r.margin,!1),N=Math.max(N,Te)),xe&&x<Ie.length-1&&(Te=$e.getAbsoluteDistance(g[x+1],r.margin,!0),N=Math.min(N,Te))),Ie.length>1&&r.limit&&(pe&&x>0&&(Te=$e.getAbsoluteDistance(g[x-1],r.limit,!1),N=Math.min(N,Te)),xe&&x<Ie.length-1&&(Te=$e.getAbsoluteDistance(g[x+1],r.limit,!0),N=Math.max(N,Te))),r.padding&&(0===x&&(Te=$e.getAbsoluteDistance(0,r.padding[0],!1),N=Math.max(N,Te)),x===Ie.length-1&&(Te=$e.getAbsoluteDistance(100,r.padding[1],!0),N=Math.min(N,Te))),Ae||(N=$e.getStep(N)),!((N=bn(N))===g[x]&&!Oe)&&N}function So(g,x){var N=r.ort;return(N?x:g)+", "+(N?g:x)}function Wo(g,x,N,pe,xe){var Oe=N.slice(),Ae=pe[0],Te=r.events.smoothSteps,lt=[!g,g],it=[g,!g];pe=pe.slice(),g&&pe.reverse(),pe.length>1?pe.forEach(function(ht,Ye){var Et=to(Oe,ht,Oe[ht]+x,lt[Ye],it[Ye],!1,Te);!1===Et?x=0:(x=Et-Oe[ht],Oe[ht]=Et)}):lt=it=[!0];var mt=!1;pe.forEach(function(ht,Ye){mt=Sn(ht,N[ht]+x,lt[Ye],it[Ye],!1,Te)||mt}),mt&&(pe.forEach(function(ht){Ct("update",ht),Ct("slide",ht)}),null!=xe&&Ct("drag",Ae))}function ko(g,x){return r.dir?100-g-x:g}function Mo(){At.forEach(function(g){Ie[g].style.zIndex=String(3+(Ie.length+(dt[g]>50?-1:1)*g))})}function Sn(g,x,N,pe,xe,Oe){return xe||(x=to(dt,g,x,N,pe,!1,Oe)),!1!==x&&(function _i(g,x){dt[g]=x,zt[g]=$e.fromStepping(x);var pe="translate("+So(ko(x,0)-Jo+"%","0")+")";Ie[g].style[r.transformRule]=pe,Ko(g),Ko(g+1)}(g,x),!0)}function Ko(g){if(je[g]){var x=0,N=100;0!==g&&(x=dt[g-1]),g!==je.length-1&&(N=dt[g]);var pe=N-x,xe="translate("+So(ko(x,pe)+"%","0")+")",Oe="scale("+So(pe/100,"1")+")";je[g].style[r.transformRule]=xe+" "+Oe}}function Go(g,x){return null===g||!1===g||void 0===g||("number"==typeof g&&(g=String(g)),!1!==(g=r.format.from(g))&&(g=$e.toStepping(g)),!1===g||isNaN(g))?dt[x]:g}function no(g,x,N){var pe=tn(g),xe=void 0===dt[0];x=void 0===x||x,r.animate&&!xe&&Tn(be,r.cssClasses.tap,r.animationDuration),At.forEach(function(Te){Sn(Te,Go(pe[Te],Te),!0,!1,N)});var Oe=1===At.length?0:1;if(xe&&$e.hasNoSize()&&(N=!0,dt[0]=0,At.length>1)){var Ae=100/(At.length-1);At.forEach(function(Te){dt[Te]=Te*Ae})}for(;Oe<At.length;++Oe)At.forEach(function(Te){Sn(Te,dt[Te],!0,!0,N)});Mo(),At.forEach(function(Te){Ct("update",Te),null!==pe[Te]&&x&&Ct("set",Te)})}function $o(g){if(void 0===g&&(g=!1),g)return 1===zt.length?zt[0]:zt.slice(0);var x=zt.map(r.format.to);return 1===x.length?x[0]:x}function Ho(g){var x=dt[g],N=$e.getNearbySteps(x),pe=zt[g],xe=N.thisStep.step,Oe=null;if(r.snap)return[pe-N.stepBefore.startValue||null,N.stepAfter.startValue-pe||null];!1!==xe&&pe+xe>N.stepAfter.startValue&&(xe=N.stepAfter.startValue-pe),Oe=pe>N.thisStep.startValue?N.thisStep.step:!1!==N.stepBefore.step&&pe-N.stepBefore.highestStep,100===x?xe=null:0===x&&(Oe=null);var Ae=$e.countStepDecimals();return null!==xe&&!1!==xe&&(xe=Number(xe.toFixed(Ae))),null!==Oe&&!1!==Oe&&(Oe=Number(Oe.toFixed(Ae))),[Oe,xe]}!function bi(){Fe=function qo(g){return gt(g,r.cssClasses.target),gt(g,0===r.dir?r.cssClasses.ltr:r.cssClasses.rtl),gt(g,0===r.ort?r.cssClasses.horizontal:r.cssClasses.vertical),gt(g,"rtl"===getComputedStyle(g).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),cn(g,r.cssClasses.base)}(be),function Zo(g,x){var N=cn(x,r.cssClasses.connects);Ie=[],(je=[]).push(Ro(N,g[0]));for(var pe=0;pe<r.handles;pe++)Ie.push(Yo(x,pe)),At[pe]=pe,je.push(Ro(N,g[pe+1]))}(r.connect,Fe),function hi(g){g.fixed||Ie.forEach(function(x,N){xn(_.start,x.children[0],Oo,{handleNumbers:[N]})}),g.tap&&xn(_.start,Fe,pi,{}),g.hover&&xn(_.move,Fe,ui,{hover:!0}),g.drag&&je.forEach(function(x,N){if(!1!==x&&0!==N&&N!==je.length-1){var pe=Ie[N-1],xe=Ie[N],Oe=[x],Ae=[pe,xe],Te=[N-1,N];gt(x,r.cssClasses.draggable),g.fixed&&(Oe.push(pe.children[0]),Oe.push(xe.children[0])),g.dragAll&&(Ae=Ie,Te=At),Oe.forEach(function(lt){xn(_.start,lt,Oo,{handles:Ae,handleNumbers:Te,connect:x})})}})}(r.events),no(r.start),r.pips&&bo(r.pips),r.tooltips&&Ao(),function oi(){$n("update"+Kt.aria),xo("update"+Kt.aria,function(g,x,N,pe,xe){At.forEach(function(Oe){var Ae=Ie[Oe],Te=to(dt,Oe,0,!0,!0,!0),lt=to(dt,Oe,100,!0,!0,!0),it=xe[Oe],mt=String(r.ariaFormat.to(N[Oe]));Te=$e.fromStepping(Te).toFixed(1),lt=$e.fromStepping(lt).toFixed(1),it=$e.fromStepping(it).toFixed(1),Ae.children[0].setAttribute("aria-valuemin",Te),Ae.children[0].setAttribute("aria-valuemax",lt),Ae.children[0].setAttribute("aria-valuenow",it),Ae.children[0].setAttribute("aria-valuetext",mt)})})}()}();var oo={destroy:function Ci(){for($n(Kt.aria),$n(Kt.tooltips),Object.keys(r.cssClasses).forEach(function(g){Dn(be,r.cssClasses[g])});be.firstChild;)be.removeChild(be.firstChild);delete be.noUiSlider},steps:function yi(){return At.map(Ho)},on:xo,off:$n,get:$o,set:no,setHandle:function vi(g,x,N,pe){if(!((g=Number(g))>=0&&g<At.length))throw new Error("noUiSlider: invalid handle number, got: "+g);Sn(g,Go(x,g),!0,!0,pe),Ct("update",g),N&&Ct("set",g)},reset:function gi(g){no(r.start,g)},disable:function ti(g){null!=g?(Ie[g].setAttribute("disabled",""),Ie[g].handle.removeAttribute("tabindex")):(be.setAttribute("disabled",""),Ie.forEach(function(x){x.handle.removeAttribute("tabindex")}))},enable:function ni(g){null!=g?(Ie[g].removeAttribute("disabled"),Ie[g].handle.setAttribute("tabindex","0")):(be.removeAttribute("disabled"),Ie.forEach(function(x){x.removeAttribute("disabled"),x.handle.setAttribute("tabindex","0")}))},__moveHandles:function(g,x,N){Wo(g,x,dt,N)},options:d,updateOptions:function Ei(g,x){var N=$o(),pe=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];pe.forEach(function(Oe){void 0!==g[Oe]&&(d[Oe]=g[Oe])});var xe=Me(d);pe.forEach(function(Oe){void 0!==g[Oe]&&(r[Oe]=xe[Oe])}),$e=xe.spectrum,r.margin=xe.margin,r.limit=xe.limit,r.padding=xe.padding,r.pips?bo(r.pips):Eo(),r.tooltips?Ao():yo(),dt=[],no(yn(g.start)?g.start:N,x)},target:be,removePips:Eo,removeTooltips:yo,getPositions:function(){return dt.slice()},getTooltips:function(){return ot},getOrigins:function(){return Ie},pips:bo};return oo}class Ke{to(r){return String(parseFloat(parseFloat(String(r)).toFixed(2)))}from(r){return parseFloat(r)}}let ze=(()=>{class c{constructor(d,_,O){this.ngZone=d,this.el=_,this.renderer=O,this.handles=[],this.config={},this.change=new n.EventEmitter(!0),this.update=new n.EventEmitter(!0),this.slide=new n.EventEmitter(!0),this.set=new n.EventEmitter(!0),this.start=new n.EventEmitter(!0),this.end=new n.EventEmitter(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(_e,be,Fe,Ie)=>{let je=this.toValues(be),Qe=!1;void 0!==this.value?(Array.isArray(je)&&this.value[Fe]!=je[Fe]&&(Qe=!0),!Array.isArray(je)&&this.value!=je&&(Qe=!0),Qe&&this.ngZone.run(()=>{_e.observers.length>0&&_e.emit(je),this.onChange(je)}),Array.isArray(je)?this.value[Fe]=je[Fe]:this.value=je):this.value=je},this.defaultKeyHandler=_e=>{let $e,be=this.slider.steps(),Fe=parseInt(_e.target.getAttribute("data-handle")),Ie=1,je=1,Qe=0,ot=0;switch(_e.which){case 34:case 33:je=this.config.pageSteps;break;case 40:case 37:Ie=-1,Qe=be[Fe][0],_e.preventDefault();break;case 38:case 39:Qe=be[Fe][1],_e.preventDefault()}ot=Ie*je*Qe,Array.isArray(this.value)?($e=[...this.value],$e[Fe]=$e[Fe]+ot):$e=this.value+ot,this.slider.set($e)}}ngOnChanges(d){this.slider&&(d.min||d.max||d.step||d.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(d){let _=d.map(this.config.format.from);return 1==_.length?_[0]:_}writeValue(d){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(d)})}):null!==d&&(this.value=d,this.createSlider(d))}registerOnChange(d){this.onChange=d}registerOnTouched(d){}setDisabledState(d){d?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(d){let _=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:d,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(_.tooltips=this.tooltips||this.config.tooltips,_.format=this.format||this.config.format||new Ke,this.ngZone.runOutsideAngular(()=>{this.slider=function Le(c,r){if(!c||!c.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+c);if(c.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var _=Se(c,Me(r),r);return c.noUiSlider=_,_}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,_))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const O of this.handles){O.setAttribute("tabindex",0);const _e=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(O,"keydown",_e),this.renderer.listen(O,"click",()=>{O.focus()}))})}}this.slider.on("set",(O,_e,be)=>{this.eventHandler(this.set,O,_e,be)}),this.slider.on("update",(O,_e,be)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(O))})}),this.slider.on("change",(O,_e,be)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(O))})}),this.slider.on("slide",(O,_e,be)=>{this.eventHandler(this.slide,O,_e,be)}),this.slider.on("start",(O,_e,be)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(O))})}),this.slider.on("end",(O,_e,be)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(O))})})}}return c.\u0275fac=function(d){return new(d||c)(n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.Renderer2))},c.\u0275cmp=n.\u0275\u0275defineComponent({type:c,selectors:[["nouislider"]],hostVars:2,hostBindings:function(d,_){2&d&&n.\u0275\u0275classProp("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[n.\u0275\u0275ProvidersFeature([{provide:ve.JU,useExisting:(0,n.forwardRef)(()=>c),multi:!0}]),n.\u0275\u0275NgOnChangesFeature,n.\u0275\u0275StandaloneFeature],decls:1,vars:1,template:function(d,_){1&d&&n.\u0275\u0275element(0,"div"),2&d&&n.\u0275\u0275attribute("disabled",!!_.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),c})(),ft=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=n.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=n.\u0275\u0275defineInjector({imports:[ze]}),c})();t(16694),t(4554);var Pt=t(80632);const Ht=[ke,fe,Qt,Pe,bt,Ze,pt,jt,on];let sn=(()=>{class c{static withEntryComponents(){return{ngModule:c,providers:Ht.map(d=>({provide:d}))}}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=n.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=n.\u0275\u0275defineInjector({imports:[e.ez,ne.aw.forChild({missingTranslationHandler:{provide:ne.gC,useClass:Re.n},useDefaultLang:!0}),ao.m.withEntryComponents(),ft]}),c})();n.\u0275\u0275setComponentScope(fe,function(){return[e.sg,e.O5,ve._Y,ve.Fj,ve.JJ,ve.JL,ve.On,ve.F,Pt.q,ze,jt]},function(){return[e.Ov,ne.X$]})},65165:(Ve,ye,t)=>{"use strict";t.d(ye,{QN:()=>Zn,bQ:()=>go});var e=t(98678);function a(l,i){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),o.push.apply(o,s)}return o}function T(l){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?a(Object(o),!0).forEach(function(s){F(l,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(o,s))})}return l}function R(l){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function F(l,i,o){return i in l?Object.defineProperty(l,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[i]=o,l}function I(){return I=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(l[s]=o[s])}return l},I.apply(this,arguments)}function $(l){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(l)}var ue=$(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),L=$(/Edge/i),X=$(/firefox/i),ae=$(/safari/i)&&!$(/chrome/i)&&!$(/android/i),b=$(/iP(ad|od|hone)/i),G=$(/chrome/i)&&$(/android/i),y={capture:!1,passive:!1};function B(l,i,o){l.addEventListener(i,o,!ue&&y)}function w(l,i,o){l.removeEventListener(i,o,!ue&&y)}function le(l,i){if(i){if(">"===i[0]&&(i=i.substring(1)),l)try{if(l.matches)return l.matches(i);if(l.msMatchesSelector)return l.msMatchesSelector(i);if(l.webkitMatchesSelector)return l.webkitMatchesSelector(i)}catch{return!1}return!1}}function te(l){return l.host&&l!==document&&l.host.nodeType?l.host:l.parentNode}function ce(l,i,o,s){if(l){o=o||document;do{if(null!=i&&(">"===i[0]?l.parentNode===o&&le(l,i):le(l,i))||s&&l===o)return l;if(l===o)break}while(l=te(l))}return null}var P,we=/\s+/g;function n(l,i,o){if(l&&i)if(l.classList)l.classList[o?"add":"remove"](i);else{var s=(" "+l.className+" ").replace(we," ").replace(" "+i+" "," ");l.className=(s+(o?" "+i:"")).replace(we," ")}}function oe(l,i,o){var s=l&&l.style;if(s){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(l,""):l.currentStyle&&(o=l.currentStyle),void 0===i?o:o[i];!(i in s)&&-1===i.indexOf("webkit")&&(i="-webkit-"+i),s[i]=o+("string"==typeof o?"":"px")}}function ke(l,i){var o="";if("string"==typeof l)o=l;else do{var s=oe(l,"transform");s&&"none"!==s&&(o=s+" "+o)}while(!i&&(l=l.parentNode));var h=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return h&&new h(o)}function nt(l,i,o){if(l){var s=l.getElementsByTagName(i),h=0,C=s.length;if(o)for(;h<C;h++)o(s[h],h);return s}return[]}function We(){return document.scrollingElement||document.documentElement}function Ce(l,i,o,s,h){if(l.getBoundingClientRect||l===window){var C,M,Y,de,ge,Me,Se;if(l!==window&&l.parentNode&&l!==We()?(M=(C=l.getBoundingClientRect()).top,Y=C.left,de=C.bottom,ge=C.right,Me=C.height,Se=C.width):(M=0,Y=0,de=window.innerHeight,ge=window.innerWidth,Me=window.innerHeight,Se=window.innerWidth),(i||o)&&l!==window&&(h=h||l.parentNode,!ue))do{if(h&&h.getBoundingClientRect&&("none"!==oe(h,"transform")||o&&"static"!==oe(h,"position"))){var Le=h.getBoundingClientRect();M-=Le.top+parseInt(oe(h,"border-top-width")),Y-=Le.left+parseInt(oe(h,"border-left-width")),de=M+C.height,ge=Y+C.width;break}}while(h=h.parentNode);if(s&&l!==window){var Xe=ke(h||l),Ke=Xe&&Xe.a,ze=Xe&&Xe.d;Xe&&(de=(M/=ze)+(Me/=ze),ge=(Y/=Ke)+(Se/=Ke))}return{top:M,left:Y,bottom:de,right:ge,width:Se,height:Me}}}function se(l,i,o){for(var s=U(l,!0),h=Ce(l)[i];s;){var C=Ce(s)[o];if(!("top"===o||"left"===o?h>=C:h<=C))return s;if(s===We())break;s=U(s,!1)}return!1}function A(l,i,o,s){for(var h=0,C=0,M=l.children;C<M.length;){if("none"!==M[C].style.display&&M[C]!==Re.ghost&&(s||M[C]!==Re.dragged)&&ce(M[C],o.draggable,l,!1)){if(h===i)return M[C];h++}C++}return null}function H(l,i){for(var o=l.lastElementChild;o&&(o===Re.ghost||"none"===oe(o,"display")||i&&!le(o,i));)o=o.previousElementSibling;return o||null}function ne(l,i){var o=0;if(!l||!l.parentNode)return-1;for(;l=l.previousElementSibling;)"TEMPLATE"!==l.nodeName.toUpperCase()&&l!==Re.clone&&(!i||le(l,i))&&o++;return o}function Be(l){var i=0,o=0,s=We();if(l)do{var h=ke(l);i+=l.scrollLeft*h.a,o+=l.scrollTop*h.d}while(l!==s&&(l=l.parentNode));return[i,o]}function U(l,i){if(!l||!l.getBoundingClientRect)return We();var o=l,s=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var h=oe(o);if(o.clientWidth<o.scrollWidth&&("auto"==h.overflowX||"scroll"==h.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==h.overflowY||"scroll"==h.overflowY)){if(!o.getBoundingClientRect||o===document.body)return We();if(s||i)return o;s=!0}}}while(o=o.parentNode);return We()}function m(l,i){return Math.round(l.top)===Math.round(i.top)&&Math.round(l.left)===Math.round(i.left)&&Math.round(l.height)===Math.round(i.height)&&Math.round(l.width)===Math.round(i.width)}function S(l,i){return function(){if(!P){var o=arguments;1===o.length?l.call(this,o[0]):l.apply(this,o),P=setTimeout(function(){P=void 0},i)}}}function D(l,i,o){l.scrollLeft+=i,l.scrollTop+=o}function ee(l){var i=window.Polymer,o=window.jQuery||window.Zepto;return i&&i.dom?i.dom(l).cloneNode(!0):o?o(l).clone(!0)[0]:l.cloneNode(!0)}var v="Sortable"+(new Date).getTime();var ie=[],me={initializeByDefault:!0},Ze={mount:function(i){for(var o in me)me.hasOwnProperty(o)&&!(o in i)&&(i[o]=me[o]);ie.forEach(function(s){if(s.pluginName===i.pluginName)throw"Sortable: Cannot mount plugin ".concat(i.pluginName," more than once")}),ie.push(i)},pluginEvent:function(i,o,s){var h=this;this.eventCanceled=!1,s.cancel=function(){h.eventCanceled=!0};var C=i+"Global";ie.forEach(function(M){o[M.pluginName]&&(o[M.pluginName][C]&&o[M.pluginName][C](T({sortable:o},s)),o.options[M.pluginName]&&o[M.pluginName][i]&&o[M.pluginName][i](T({sortable:o},s)))})},initializePlugins:function(i,o,s,h){for(var C in ie.forEach(function(Y){var de=Y.pluginName;if(i.options[de]||Y.initializeByDefault){var ge=new Y(i,o,i.options);ge.sortable=i,ge.options=i.options,i[de]=ge,I(s,ge.defaults)}}),i.options)if(i.options.hasOwnProperty(C)){var M=this.modifyOption(i,C,i.options[C]);typeof M<"u"&&(i.options[C]=M)}},getEventProperties:function(i,o){var s={};return ie.forEach(function(h){"function"==typeof h.eventProperties&&I(s,h.eventProperties.call(o[h.pluginName],i))}),s},modifyOption:function(i,o,s){var h;return ie.forEach(function(C){i[C.pluginName]&&C.optionListeners&&"function"==typeof C.optionListeners[o]&&(h=C.optionListeners[o].call(i[C.pluginName],s))}),h}};var gn=["evt"],pt=function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=s.evt,C=function K(l,i){if(null==l)return{};var s,h,o=function Z(l,i){if(null==l)return{};var h,C,o={},s=Object.keys(l);for(C=0;C<s.length;C++)!(i.indexOf(h=s[C])>=0)&&(o[h]=l[h]);return o}(l,i);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);for(h=0;h<C.length;h++)!(i.indexOf(s=C[h])>=0)&&Object.prototype.propertyIsEnumerable.call(l,s)&&(o[s]=l[s])}return o}(s,gn);Ze.pluginEvent.bind(Re)(i,o,T({dragEl:Ee,parentEl:rt,ghostEl:Ue,rootEl:et,nextEl:Xt,lastDownEl:Qt,cloneEl:tt,cloneHidden:Ut,dragStarted:Ge,putSortable:_t,activeSortable:Re.active,originalEvent:h,oldIndex:qt,oldDraggableIndex:nn,newIndex:xt,newDraggableIndex:St,hideGhostForTarget:zn,unhideGhostForTarget:Xn,cloneNowHidden:function(){Ut=!0},cloneNowShown:function(){Ut=!1},dispatchSortableEvent:function(Y){at({sortable:o,name:Y,originalEvent:h})}},C))};function at(l){!function Gt(l){var i=l.sortable,o=l.rootEl,s=l.name,h=l.targetEl,C=l.cloneEl,M=l.toEl,Y=l.fromEl,de=l.oldIndex,ge=l.newIndex,Me=l.oldDraggableIndex,Se=l.newDraggableIndex,Le=l.originalEvent,Xe=l.putSortable,Ke=l.extraEventProperties;if(i=i||o&&o[v]){var ze,ft=i.options,Vt="on"+s.charAt(0).toUpperCase()+s.substr(1);!window.CustomEvent||ue||L?(ze=document.createEvent("Event")).initEvent(s,!0,!0):ze=new CustomEvent(s,{bubbles:!0,cancelable:!0}),ze.to=M||o,ze.from=Y||o,ze.item=h||o,ze.clone=C,ze.oldIndex=de,ze.newIndex=ge,ze.oldDraggableIndex=Me,ze.newDraggableIndex=Se,ze.originalEvent=Le,ze.pullMode=Xe?Xe.lastPutMode:void 0;var vt=T(T({},Ke),Ze.getEventProperties(s,i));for(var Pt in vt)ze[Pt]=vt[Pt];o&&o.dispatchEvent(ze),ft[Vt]&&ft[Vt].call(i,ze)}}(T({putSortable:_t,cloneEl:tt,targetEl:Ee,rootEl:et,oldIndex:qt,oldDraggableIndex:nn,newIndex:xt,newDraggableIndex:St},l))}var Ee,rt,Ue,et,Xt,Qt,tt,Ut,qt,xt,nn,St,dn,_t,$t,wt,Pe,He,q,De,Ge,st,yt,Nt,ct,en=!1,pn=!1,un=[],bt=!1,Bt=!1,jt=[],Wt=!1,mn=[],hn=typeof document<"u",fn=b,vn=L||ue?"cssFloat":"float",Fn=hn&&!G&&!b&&"draggable"in document.createElement("div"),on=function(){if(hn){if(ue)return!1;var l=document.createElement("x");return l.style.cssText="pointer-events:auto","auto"===l.style.pointerEvents}}(),Mn=function(i,o){var s=oe(i),h=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),C=A(i,0,o),M=A(i,1,o),Y=C&&oe(C),de=M&&oe(M),ge=Y&&parseInt(Y.marginLeft)+parseInt(Y.marginRight)+Ce(C).width,Me=de&&parseInt(de.marginLeft)+parseInt(de.marginRight)+Ce(M).width;return"flex"===s.display?"column"===s.flexDirection||"column-reverse"===s.flexDirection?"vertical":"horizontal":"grid"===s.display?s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":C&&Y.float&&"none"!==Y.float?!M||"both"!==de.clear&&de.clear!==("left"===Y.float?"left":"right")?"horizontal":"vertical":C&&("block"===Y.display||"flex"===Y.display||"table"===Y.display||"grid"===Y.display||ge>=h&&"none"===s[vn]||M&&"none"===s[vn]&&ge+Me>h)?"vertical":"horizontal"},Hn=function(i){function o(C,M){return function(Y,de,ge,Me){if(null==C&&(M||Y.options.group.name&&de.options.group.name&&Y.options.group.name===de.options.group.name))return!0;if(null==C||!1===C)return!1;if(M&&"clone"===C)return C;if("function"==typeof C)return o(C(Y,de,ge,Me),M)(Y,de,ge,Me);var Le=(M?Y:de).options.group.name;return!0===C||"string"==typeof C&&C===Le||C.join&&C.indexOf(Le)>-1}}var s={},h=i.group;(!h||"object"!=R(h))&&(h={name:h}),s.name=h.name,s.checkPull=o(h.pull,!0),s.checkPut=o(h.put),s.revertClone=h.revertClone,i.group=s},zn=function(){!on&&Ue&&oe(Ue,"display","none")},Xn=function(){!on&&Ue&&oe(Ue,"display","")};hn&&!G&&document.addEventListener("click",function(l){if(pn)return l.preventDefault(),l.stopPropagation&&l.stopPropagation(),l.stopImmediatePropagation&&l.stopImmediatePropagation(),pn=!1,!1},!0);var rn=function(i){if(Ee){var o=function(i,o){var s;return un.some(function(h){var C=h[v].options.emptyInsertThreshold;if(C&&!H(h)){var M=Ce(h);if(i>=M.left-C&&i<=M.right+C&&o>=M.top-C&&o<=M.bottom+C)return s=h}}),s}((i=i.touches?i.touches[0]:i).clientX,i.clientY);if(o){var s={};for(var h in i)i.hasOwnProperty(h)&&(s[h]=i[h]);s.target=s.rootEl=o,s.preventDefault=void 0,s.stopPropagation=void 0,o[v]._onDragOver(s)}}},ro=function(i){Ee&&Ee.parentNode[v]._isOutsideThisEl(i.target)};function Re(l,i){if(!l||!l.nodeType||1!==l.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(l));this.el=l,this.options=i=I({},i),l[v]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(l.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Mn(l,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(M,Y){M.setData("Text",Y.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window&&!ae,emptyInsertThreshold:5};for(var s in Ze.initializePlugins(this,l,o),o)!(s in i)&&(i[s]=o[s]);for(var h in Hn(i),this)"_"===h.charAt(0)&&"function"==typeof this[h]&&(this[h]=this[h].bind(this));this.nativeDraggable=!i.forceFallback&&Fn,this.nativeDraggable&&(this.options.touchStartThreshold=1),i.supportPointer?B(l,"pointerdown",this._onTapStart):(B(l,"mousedown",this._onTapStart),B(l,"touchstart",this._onTapStart)),this.nativeDraggable&&(B(l,"dragover",this),B(l,"dragenter",this)),un.push(this.el),i.store&&i.store.get&&this.sort(i.store.get(this)||[]),I(this,function j(){var i,l=[];return{captureAnimationState:function(){l=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(h){if("none"!==oe(h,"display")&&h!==Re.ghost){l.push({target:h,rect:Ce(h)});var C=T({},l[l.length-1].rect);if(h.thisAnimationDuration){var M=ke(h,!0);M&&(C.top-=M.f,C.left-=M.e)}h.fromRect=C}})},addAnimationState:function(s){l.push(s)},removeAnimationState:function(s){l.splice(function re(l,i){for(var o in l)if(l.hasOwnProperty(o))for(var s in i)if(i.hasOwnProperty(s)&&i[s]===l[o][s])return Number(o);return-1}(l,{target:s}),1)},animateAll:function(s){var h=this;if(!this.options.animation)return clearTimeout(i),void("function"==typeof s&&s());var C=!1,M=0;l.forEach(function(Y){var de=0,ge=Y.target,Me=ge.fromRect,Se=Ce(ge),Le=ge.prevFromRect,Xe=ge.prevToRect,Ke=Y.rect,ze=ke(ge,!0);ze&&(Se.top-=ze.f,Se.left-=ze.e),ge.toRect=Se,ge.thisAnimationDuration&&m(Le,Se)&&!m(Me,Se)&&(Ke.top-Se.top)/(Ke.left-Se.left)==(Me.top-Se.top)/(Me.left-Se.left)&&(de=function f(l,i,o,s){return Math.sqrt(Math.pow(i.top-l.top,2)+Math.pow(i.left-l.left,2))/Math.sqrt(Math.pow(i.top-o.top,2)+Math.pow(i.left-o.left,2))*s.animation}(Ke,Le,Xe,h.options)),m(Se,Me)||(ge.prevFromRect=Me,ge.prevToRect=Se,de||(de=h.options.animation),h.animate(ge,Ke,Se,de)),de&&(C=!0,M=Math.max(M,de),clearTimeout(ge.animationResetTimer),ge.animationResetTimer=setTimeout(function(){ge.animationTime=0,ge.prevFromRect=null,ge.fromRect=null,ge.prevToRect=null,ge.thisAnimationDuration=null},de),ge.thisAnimationDuration=de)}),clearTimeout(i),C?i=setTimeout(function(){"function"==typeof s&&s()},M):"function"==typeof s&&s(),l=[]},animate:function(s,h,C,M){if(M){oe(s,"transition",""),oe(s,"transform","");var Y=ke(this.el),Me=(h.left-C.left)/(Y&&Y.a||1),Se=(h.top-C.top)/(Y&&Y.d||1);s.animatingX=!!Me,s.animatingY=!!Se,oe(s,"transform","translate3d("+Me+"px,"+Se+"px,0)"),this.forRepaintDummy=function u(l){return l.offsetWidth}(s),oe(s,"transition","transform "+M+"ms"+(this.options.easing?" "+this.options.easing:"")),oe(s,"transform","translate3d(0,0,0)"),"number"==typeof s.animated&&clearTimeout(s.animated),s.animated=setTimeout(function(){oe(s,"transition",""),oe(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},M)}}}}())}function In(l,i,o,s,h,C,M,Y){var de,Se,ge=l[v],Me=ge.options.onMove;return!window.CustomEvent||ue||L?(de=document.createEvent("Event")).initEvent("move",!0,!0):de=new CustomEvent("move",{bubbles:!0,cancelable:!0}),de.to=i,de.from=l,de.dragged=o,de.draggedRect=s,de.related=h||i,de.relatedRect=C||Ce(i),de.willInsertAfter=Y,de.originalEvent=M,l.dispatchEvent(de),Me&&(Se=Me.call(ge,de,M)),Se}function Rn(l){l.draggable=!1}function so(){Wt=!1}function po(l){for(var i=l.tagName+l.className+l.src+l.href+l.textContent,o=i.length,s=0;o--;)s+=i.charCodeAt(o);return s.toString(36)}function Cn(l){return setTimeout(l,0)}function yn(l){return clearTimeout(l)}Re.prototype={constructor:Re,_isOutsideThisEl:function(i){!this.el.contains(i)&&i!==this.el&&(st=null)},_getDirection:function(i,o){return"function"==typeof this.options.direction?this.options.direction.call(this,i,o,Ee):this.options.direction},_onTapStart:function(i){if(i.cancelable){var o=this,s=this.el,h=this.options,C=h.preventOnFilter,M=i.type,Y=i.touches&&i.touches[0]||i.pointerType&&"touch"===i.pointerType&&i,de=(Y||i).target,ge=i.target.shadowRoot&&(i.path&&i.path[0]||i.composedPath&&i.composedPath()[0])||de,Me=h.filter;if(function Pn(l){mn.length=0;for(var i=l.getElementsByTagName("input"),o=i.length;o--;){var s=i[o];s.checked&&mn.push(s)}}(s),!Ee&&!(/mousedown|pointerdown/.test(M)&&0!==i.button||h.disabled)&&!ge.isContentEditable&&(this.nativeDraggable||!ae||!de||"SELECT"!==de.tagName.toUpperCase())&&!((de=ce(de,h.draggable,s,!1))&&de.animated||Qt===de)){if(qt=ne(de),nn=ne(de,h.draggable),"function"==typeof Me){if(Me.call(this,i,de,this))return at({sortable:o,rootEl:ge,name:"filter",targetEl:de,toEl:s,fromEl:s}),pt("filter",o,{evt:i}),void(C&&i.cancelable&&i.preventDefault())}else if(Me&&(Me=Me.split(",").some(function(Se){if(Se=ce(ge,Se.trim(),s,!1))return at({sortable:o,rootEl:Se,name:"filter",targetEl:de,fromEl:s,toEl:s}),pt("filter",o,{evt:i}),!0})))return void(C&&i.cancelable&&i.preventDefault());h.handle&&!ce(ge,h.handle,s,!1)||this._prepareDragStart(i,Y,de)}}},_prepareDragStart:function(i,o,s){var de,h=this,C=h.el,M=h.options,Y=C.ownerDocument;if(s&&!Ee&&s.parentNode===C){var ge=Ce(s);if(et=C,rt=(Ee=s).parentNode,Xt=Ee.nextSibling,Qt=s,dn=M.group,Re.dragged=Ee,q=($t={target:Ee,clientX:(o||i).clientX,clientY:(o||i).clientY}).clientX-ge.left,De=$t.clientY-ge.top,this._lastX=(o||i).clientX,this._lastY=(o||i).clientY,Ee.style["will-change"]="all",de=function(){pt("delayEnded",h,{evt:i}),Re.eventCanceled?h._onDrop():(h._disableDelayedDragEvents(),!X&&h.nativeDraggable&&(Ee.draggable=!0),h._triggerDragStart(i,o),at({sortable:h,name:"choose",originalEvent:i}),n(Ee,M.chosenClass,!0))},M.ignore.split(",").forEach(function(Me){nt(Ee,Me.trim(),Rn)}),B(Y,"dragover",rn),B(Y,"mousemove",rn),B(Y,"touchmove",rn),B(Y,"mouseup",h._onDrop),B(Y,"touchend",h._onDrop),B(Y,"touchcancel",h._onDrop),X&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),pt("delayStart",this,{evt:i}),!M.delay||M.delayOnTouchOnly&&!o||this.nativeDraggable&&(L||ue))de();else{if(Re.eventCanceled)return void this._onDrop();B(Y,"mouseup",h._disableDelayedDrag),B(Y,"touchend",h._disableDelayedDrag),B(Y,"touchcancel",h._disableDelayedDrag),B(Y,"mousemove",h._delayedDragTouchMoveHandler),B(Y,"touchmove",h._delayedDragTouchMoveHandler),M.supportPointer&&B(Y,"pointermove",h._delayedDragTouchMoveHandler),h._dragStartTimer=setTimeout(de,M.delay)}}},_delayedDragTouchMoveHandler:function(i){var o=i.touches?i.touches[0]:i;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&Rn(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var i=this.el.ownerDocument;w(i,"mouseup",this._disableDelayedDrag),w(i,"touchend",this._disableDelayedDrag),w(i,"touchcancel",this._disableDelayedDrag),w(i,"mousemove",this._delayedDragTouchMoveHandler),w(i,"touchmove",this._delayedDragTouchMoveHandler),w(i,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(i,o){o=o||"touch"==i.pointerType&&i,!this.nativeDraggable||o?B(document,this.options.supportPointer?"pointermove":o?"touchmove":"mousemove",this._onTouchMove):(B(Ee,"dragend",this),B(et,"dragstart",this._onDragStart));try{document.selection?Cn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(i,o){if(en=!1,et&&Ee){pt("dragStarted",this,{evt:o}),this.nativeDraggable&&B(document,"dragover",ro);var s=this.options;!i&&n(Ee,s.dragClass,!1),n(Ee,s.ghostClass,!0),Re.active=this,i&&this._appendGhost(),at({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,zn();for(var i=document.elementFromPoint(wt.clientX,wt.clientY),o=i;i&&i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(wt.clientX,wt.clientY))!==o;)o=i;if(Ee.parentNode[v]._isOutsideThisEl(i),o)do{if(o[v]&&o[v]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:i,rootEl:o})&&!this.options.dragoverBubble)break;i=o}while(o=o.parentNode);Xn()}},_onTouchMove:function(i){if($t){var o=this.options,s=o.fallbackTolerance,h=o.fallbackOffset,C=i.touches?i.touches[0]:i,M=Ue&&ke(Ue,!0),Y=Ue&&M&&M.a,de=Ue&&M&&M.d,ge=fn&&ct&&Be(ct),Me=(C.clientX-$t.clientX+h.x)/(Y||1)+(ge?ge[0]-jt[0]:0)/(Y||1),Se=(C.clientY-$t.clientY+h.y)/(de||1)+(ge?ge[1]-jt[1]:0)/(de||1);if(!Re.active&&!en){if(s&&Math.max(Math.abs(C.clientX-this._lastX),Math.abs(C.clientY-this._lastY))<s)return;this._onDragStart(i,!0)}if(Ue){M?(M.e+=Me-(Pe||0),M.f+=Se-(He||0)):M={a:1,b:0,c:0,d:1,e:Me,f:Se};var Le="matrix(".concat(M.a,",").concat(M.b,",").concat(M.c,",").concat(M.d,",").concat(M.e,",").concat(M.f,")");oe(Ue,"webkitTransform",Le),oe(Ue,"mozTransform",Le),oe(Ue,"msTransform",Le),oe(Ue,"transform",Le),Pe=Me,He=Se,wt=C}i.cancelable&&i.preventDefault()}},_appendGhost:function(){if(!Ue){var i=this.options.fallbackOnBody?document.body:et,o=Ce(Ee,!0,fn,!0,i),s=this.options;if(fn){for(ct=i;"static"===oe(ct,"position")&&"none"===oe(ct,"transform")&&ct!==document;)ct=ct.parentNode;ct!==document.body&&ct!==document.documentElement?(ct===document&&(ct=We()),o.top+=ct.scrollTop,o.left+=ct.scrollLeft):ct=We(),jt=Be(ct)}n(Ue=Ee.cloneNode(!0),s.ghostClass,!1),n(Ue,s.fallbackClass,!0),n(Ue,s.dragClass,!0),oe(Ue,"transition",""),oe(Ue,"transform",""),oe(Ue,"box-sizing","border-box"),oe(Ue,"margin",0),oe(Ue,"top",o.top),oe(Ue,"left",o.left),oe(Ue,"width",o.width),oe(Ue,"height",o.height),oe(Ue,"opacity","0.8"),oe(Ue,"position",fn?"absolute":"fixed"),oe(Ue,"zIndex","100000"),oe(Ue,"pointerEvents","none"),Re.ghost=Ue,i.appendChild(Ue),oe(Ue,"transform-origin",q/parseInt(Ue.style.width)*100+"% "+De/parseInt(Ue.style.height)*100+"%")}},_onDragStart:function(i,o){var s=this,h=i.dataTransfer,C=s.options;pt("dragStart",this,{evt:i}),Re.eventCanceled?this._onDrop():(pt("setupClone",this),Re.eventCanceled||((tt=ee(Ee)).removeAttribute("id"),tt.draggable=!1,tt.style["will-change"]="",this._hideClone(),n(tt,this.options.chosenClass,!1),Re.clone=tt),s.cloneId=Cn(function(){pt("clone",s),!Re.eventCanceled&&(s.options.removeCloneOnHide||et.insertBefore(tt,Ee),s._hideClone(),at({sortable:s,name:"clone"}))}),!o&&n(Ee,C.dragClass,!0),o?(pn=!0,s._loopId=setInterval(s._emulateDragOver,50)):(w(document,"mouseup",s._onDrop),w(document,"touchend",s._onDrop),w(document,"touchcancel",s._onDrop),h&&(h.effectAllowed="move",C.setData&&C.setData.call(s,h,Ee)),B(document,"drop",s),oe(Ee,"transform","translateZ(0)")),en=!0,s._dragStartId=Cn(s._dragStarted.bind(s,o,i)),B(document,"selectstart",s),Ge=!0,ae&&oe(document.body,"user-select","none"))},_onDragOver:function(i){var h,C,M,Xe,o=this.el,s=i.target,Y=this.options,de=Y.group,ge=Re.active,Me=dn===de,Se=Y.sort,Le=_t||ge,Ke=this,ze=!1;if(!Wt){if(void 0!==i.preventDefault&&i.cancelable&&i.preventDefault(),s=ce(s,Y.draggable,o,!0),ft("dragOver"),Re.eventCanceled)return ze;if(Ee.contains(i.target)||s.animated&&s.animatingX&&s.animatingY||Ke._ignoreWhileAnimating===s)return vt(!1);if(pn=!1,ge&&!Y.disabled&&(Me?Se||(M=rt!==et):_t===this||(this.lastPutMode=dn.checkPull(this,ge,Ee,i))&&de.checkPut(this,ge,Ee,i))){if(Xe="vertical"===this._getDirection(i,s),h=Ce(Ee),ft("dragOverValid"),Re.eventCanceled)return ze;if(M)return rt=et,Vt(),this._hideClone(),ft("revert"),Re.eventCanceled||(Xt?et.insertBefore(Ee,Xt):et.appendChild(Ee)),vt(!0);var Je=H(o,Y.draggable);if(!Je||function co(l,i,o){var s=Ce(H(o.el,o.options.draggable));return i?l.clientX>s.right+10||l.clientX<=s.right&&l.clientY>s.bottom&&l.clientX>=s.left:l.clientX>s.right&&l.clientY>s.top||l.clientX<=s.right&&l.clientY>s.bottom+10}(i,Xe,this)&&!Je.animated){if(Je===Ee)return vt(!1);if(Je&&o===i.target&&(s=Je),s&&(C=Ce(s)),!1!==In(et,o,Ee,h,s,C,i,!!s))return Vt(),Je&&Je.nextSibling?o.insertBefore(Ee,Je.nextSibling):o.appendChild(Ee),rt=o,Pt(),vt(!0)}else if(Je&&function lo(l,i,o){var s=Ce(A(o.el,0,o.options,!0));return i?l.clientX<s.left-10||l.clientY<s.top&&l.clientX<s.right:l.clientY<s.top-10||l.clientY<s.bottom&&l.clientX<s.left}(i,Xe,this)){var Ht=A(o,0,Y,!0);if(Ht===Ee)return vt(!1);if(C=Ce(s=Ht),!1!==In(et,o,Ee,h,s,C,i,!1))return Vt(),o.insertBefore(Ee,Ht),rt=o,Pt(),vt(!0)}else if(s.parentNode===o){C=Ce(s);var Zt,sn,_e,c=Ee.parentNode!==o,r=!function(i,o,s){var h=s?i.left:i.top,Y=s?o.left:o.top;return h===Y||(s?i.right:i.bottom)===(s?o.right:o.bottom)||h+(s?i.width:i.height)/2===Y+(s?o.width:o.height)/2}(Ee.animated&&Ee.toRect||h,s.animated&&s.toRect||C,Xe),d=Xe?"top":"left",_=se(s,"top","top")||se(Ee,"top","top"),O=_?_.scrollTop:void 0;if(st!==s&&(sn=C[d],bt=!1,Bt=!r&&Y.invertSwap||c),Zt=function Jt(l,i,o,s,h,C,M,Y){var de=s?l.clientY:l.clientX,ge=s?o.height:o.width,Me=s?o.top:o.left,Se=s?o.bottom:o.right,Le=!1;if(!M)if(Y&&Nt<ge*h){if(!bt&&(1===yt?de>Me+ge*C/2:de<Se-ge*C/2)&&(bt=!0),bt)Le=!0;else if(1===yt?de<Me+Nt:de>Se-Nt)return-yt}else if(de>Me+ge*(1-h)/2&&de<Se-ge*(1-h)/2)return function Dt(l){return ne(Ee)<ne(l)?1:-1}(i);return(Le=Le||M)&&(de<Me+ge*C/2||de>Se-ge*C/2)?de>Me+ge/2?1:-1:0}(i,s,C,Xe,r?1:Y.swapThreshold,null==Y.invertedSwapThreshold?Y.swapThreshold:Y.invertedSwapThreshold,Bt,st===s),0!==Zt){var be=ne(Ee);do{_e=rt.children[be-=Zt]}while(_e&&("none"===oe(_e,"display")||_e===Ue))}if(0===Zt||_e===s)return vt(!1);st=s,yt=Zt;var Fe=s.nextElementSibling,Ie=!1,je=In(et,o,Ee,h,s,C,i,Ie=1===Zt);if(!1!==je)return(1===je||-1===je)&&(Ie=1===je),Wt=!0,setTimeout(so,30),Vt(),Ie&&!Fe?o.appendChild(Ee):s.parentNode.insertBefore(Ee,Ie?Fe:s),_&&D(_,0,O-_.scrollTop),rt=Ee.parentNode,void 0!==sn&&!Bt&&(Nt=Math.abs(sn-Ce(s)[d])),Pt(),vt(!0)}if(o.contains(Ee))return vt(!1)}return!1}function ft(Qe,ot){pt(Qe,Ke,T({evt:i,isOwner:Me,axis:Xe?"vertical":"horizontal",revert:M,dragRect:h,targetRect:C,canSort:Se,fromSortable:Le,target:s,completed:vt,onMove:function(zt,dt){return In(et,o,Ee,h,zt,Ce(zt),i,dt)},changed:Pt},ot))}function Vt(){ft("dragOverAnimationCapture"),Ke.captureAnimationState(),Ke!==Le&&Le.captureAnimationState()}function vt(Qe){return ft("dragOverCompleted",{insertion:Qe}),Qe&&(Me?ge._hideClone():ge._showClone(Ke),Ke!==Le&&(n(Ee,_t?_t.options.ghostClass:ge.options.ghostClass,!1),n(Ee,Y.ghostClass,!0)),_t!==Ke&&Ke!==Re.active?_t=Ke:Ke===Re.active&&_t&&(_t=null),Le===Ke&&(Ke._ignoreWhileAnimating=s),Ke.animateAll(function(){ft("dragOverAnimationComplete"),Ke._ignoreWhileAnimating=null}),Ke!==Le&&(Le.animateAll(),Le._ignoreWhileAnimating=null)),(s===Ee&&!Ee.animated||s===o&&!s.animated)&&(st=null),!Y.dragoverBubble&&!i.rootEl&&s!==document&&(Ee.parentNode[v]._isOutsideThisEl(i.target),!Qe&&rn(i)),!Y.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),ze=!0}function Pt(){xt=ne(Ee),St=ne(Ee,Y.draggable),at({sortable:Ke,name:"change",toEl:o,newIndex:xt,newDraggableIndex:St,originalEvent:i})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",rn),w(document,"mousemove",rn),w(document,"touchmove",rn)},_offUpEvents:function(){var i=this.el.ownerDocument;w(i,"mouseup",this._onDrop),w(i,"touchend",this._onDrop),w(i,"pointerup",this._onDrop),w(i,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(i){var o=this.el,s=this.options;xt=ne(Ee),St=ne(Ee,s.draggable),pt("drop",this,{evt:i}),rt=Ee&&Ee.parentNode,xt=ne(Ee),St=ne(Ee,s.draggable),Re.eventCanceled||(en=!1,Bt=!1,bt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yn(this.cloneId),yn(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ae&&oe(document.body,"user-select",""),oe(Ee,"transform",""),i&&(Ge&&(i.cancelable&&i.preventDefault(),!s.dropBubble&&i.stopPropagation()),Ue&&Ue.parentNode&&Ue.parentNode.removeChild(Ue),(et===rt||_t&&"clone"!==_t.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),Ee&&(this.nativeDraggable&&w(Ee,"dragend",this),Rn(Ee),Ee.style["will-change"]="",Ge&&!en&&n(Ee,_t?_t.options.ghostClass:this.options.ghostClass,!1),n(Ee,this.options.chosenClass,!1),at({sortable:this,name:"unchoose",toEl:rt,newIndex:null,newDraggableIndex:null,originalEvent:i}),et!==rt?(xt>=0&&(at({rootEl:rt,name:"add",toEl:rt,fromEl:et,originalEvent:i}),at({sortable:this,name:"remove",toEl:rt,originalEvent:i}),at({rootEl:rt,name:"sort",toEl:rt,fromEl:et,originalEvent:i}),at({sortable:this,name:"sort",toEl:rt,originalEvent:i})),_t&&_t.save()):xt!==qt&&xt>=0&&(at({sortable:this,name:"update",toEl:rt,originalEvent:i}),at({sortable:this,name:"sort",toEl:rt,originalEvent:i})),Re.active&&((null==xt||-1===xt)&&(xt=qt,St=nn),at({sortable:this,name:"end",toEl:rt,originalEvent:i}),this.save())))),this._nulling()},_nulling:function(){pt("nulling",this),et=Ee=rt=Ue=Xt=tt=Qt=Ut=$t=wt=Ge=xt=St=qt=nn=st=yt=_t=dn=Re.dragged=Re.ghost=Re.clone=Re.active=null,mn.forEach(function(i){i.checked=!0}),mn.length=Pe=He=0},handleEvent:function(i){switch(i.type){case"drop":case"dragend":this._onDrop(i);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(i),function ao(l){l.dataTransfer&&(l.dataTransfer.dropEffect="move"),l.cancelable&&l.preventDefault()}(i));break;case"selectstart":i.preventDefault()}},toArray:function(){for(var o,i=[],s=this.el.children,h=0,C=s.length,M=this.options;h<C;h++)ce(o=s[h],M.draggable,this.el,!1)&&i.push(o.getAttribute(M.dataIdAttr)||po(o));return i},sort:function(i,o){var s={},h=this.el;this.toArray().forEach(function(C,M){var Y=h.children[M];ce(Y,this.options.draggable,h,!1)&&(s[C]=Y)},this),o&&this.captureAnimationState(),i.forEach(function(C){s[C]&&(h.removeChild(s[C]),h.appendChild(s[C]))}),o&&this.animateAll()},save:function(){var i=this.options.store;i&&i.set&&i.set(this)},closest:function(i,o){return ce(i,o||this.options.draggable,this.el,!1)},option:function(i,o){var s=this.options;if(void 0===o)return s[i];var h=Ze.modifyOption(this,i,o);s[i]=typeof h<"u"?h:o,"group"===i&&Hn(s)},destroy:function(){pt("destroy",this);var i=this.el;i[v]=null,w(i,"mousedown",this._onTapStart),w(i,"touchstart",this._onTapStart),w(i,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(i,"dragover",this),w(i,"dragenter",this)),Array.prototype.forEach.call(i.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),un.splice(un.indexOf(this.el),1),this.el=i=null},_hideClone:function(){if(!Ut){if(pt("hideClone",this),Re.eventCanceled)return;oe(tt,"display","none"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),Ut=!0}},_showClone:function(i){if("clone"===i.lastPutMode){if(Ut){if(pt("showClone",this),Re.eventCanceled)return;Ee.parentNode!=et||this.options.group.revertClone?Xt?et.insertBefore(tt,Xt):et.appendChild(tt):et.insertBefore(tt,Ee),this.options.group.revertClone&&this.animate(Ee,tt),oe(tt,"display",""),Ut=!1}}else this._hideClone()}},hn&&B(document,"touchmove",function(l){(Re.active||en)&&l.cancelable&&l.preventDefault()}),Re.utils={on:B,off:w,css:oe,find:nt,is:function(i,o){return!!ce(i,o,i,!1)},extend:function k(l,i){if(l&&i)for(var o in i)i.hasOwnProperty(o)&&(l[o]=i[o]);return l},throttle:S,closest:ce,toggleClass:n,clone:ee,index:ne,nextTick:Cn,cancelNextTick:yn,detectDirection:Mn,getChild:A},Re.get=function(l){return l[v]},Re.mount=function(){for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];i[0].constructor===Array&&(i=i[0]),i.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Re.utils=T(T({},Re.utils),s.utils)),Ze.mount(s)})},Re.create=function(l,i){return new Re(l,i)},Re.version="1.15.0";var En,Vn,Ft,Tn,bn,tn,ut=[],An=!1;function gt(){ut.forEach(function(l){clearInterval(l.pid)}),ut=[]}function Dn(){clearInterval(tn)}var Un=S(function(l,i,o,s){if(i.scroll){var Me,h=(l.touches?l.touches[0]:l).clientX,C=(l.touches?l.touches[0]:l).clientY,M=i.scrollSensitivity,Y=i.scrollSpeed,de=We(),ge=!1;Vn!==o&&(Vn=o,gt(),Me=i.scrollFn,!0===(En=i.scroll)&&(En=U(o,!0)));var Se=0,Le=En;do{var Xe=Le,Ke=Ce(Xe),ze=Ke.top,ft=Ke.bottom,Vt=Ke.left,vt=Ke.right,Pt=Ke.width,Je=Ke.height,Ht=void 0,Zt=void 0,sn=Xe.scrollWidth,c=Xe.scrollHeight,r=oe(Xe),d=Xe.scrollLeft,_=Xe.scrollTop;Xe===de?(Ht=Pt<sn&&("auto"===r.overflowX||"scroll"===r.overflowX||"visible"===r.overflowX),Zt=Je<c&&("auto"===r.overflowY||"scroll"===r.overflowY||"visible"===r.overflowY)):(Ht=Pt<sn&&("auto"===r.overflowX||"scroll"===r.overflowX),Zt=Je<c&&("auto"===r.overflowY||"scroll"===r.overflowY));var O=Ht&&(Math.abs(vt-h)<=M&&d+Pt<sn)-(Math.abs(Vt-h)<=M&&!!d),_e=Zt&&(Math.abs(ft-C)<=M&&_+Je<c)-(Math.abs(ze-C)<=M&&!!_);if(!ut[Se])for(var be=0;be<=Se;be++)ut[be]||(ut[be]={});(ut[Se].vx!=O||ut[Se].vy!=_e||ut[Se].el!==Xe)&&(ut[Se].el=Xe,ut[Se].vx=O,ut[Se].vy=_e,clearInterval(ut[Se].pid),(0!=O||0!=_e)&&(ge=!0,ut[Se].pid=setInterval(function(){s&&0===this.layer&&Re.active._onTouchMove(bn);var Fe=ut[this.layer].vy?ut[this.layer].vy*Y:0,Ie=ut[this.layer].vx?ut[this.layer].vx*Y:0;"function"==typeof Me&&"continue"!==Me.call(Re.dragged.parentNode[v],Ie,Fe,l,bn,ut[this.layer].el)||D(ut[this.layer].el,Ie,Fe)}.bind({layer:Se}),24))),Se++}while(i.bubbleScroll&&Le!==de&&(Le=U(Le,!1)));An=ge}},30),Nn=function(i){var o=i.originalEvent,s=i.putSortable,h=i.dragEl,M=i.dispatchSortableEvent,de=i.unhideGhostForTarget;if(o){var ge=s||i.activeSortable;(0,i.hideGhostForTarget)();var Me=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,Se=document.elementFromPoint(Me.clientX,Me.clientY);de(),ge&&!ge.el.contains(Se)&&(M("spill"),this.onSpill({dragEl:h,putSortable:s}))}};function jn(){}function Wn(){}jn.prototype={startIndex:null,dragStart:function(i){this.startIndex=i.oldDraggableIndex},onSpill:function(i){var o=i.dragEl,s=i.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var h=A(this.sortable.el,this.startIndex,this.options);h?this.sortable.el.insertBefore(o,h):this.sortable.el.appendChild(o),this.sortable.animateAll(),s&&s.animateAll()},drop:Nn},I(jn,{pluginName:"revertOnSpill"}),Wn.prototype={onSpill:function(i){var o=i.dragEl,h=i.putSortable||this.sortable;h.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),h.animateAll()},drop:Nn},I(Wn,{pluginName:"removeOnSpill"}),Re.mount(new function uo(){function l(){for(var i in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this))}return l.prototype={dragStarted:function(o){var s=o.originalEvent;this.sortable.nativeDraggable?B(document,"dragover",this._handleAutoScroll):B(document,this.options.supportPointer?"pointermove":s.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var s=o.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),Dn(),gt(),function z(){clearTimeout(P),P=void 0}()},nulling:function(){bn=Vn=En=An=tn=Ft=Tn=null,ut.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,s){var h=this,C=(o.touches?o.touches[0]:o).clientX,M=(o.touches?o.touches[0]:o).clientY,Y=document.elementFromPoint(C,M);if(bn=o,s||this.options.forceAutoScrollFallback||L||ue||ae){Un(o,this.options,Y,s);var de=U(Y,!0);An&&(!tn||C!==Ft||M!==Tn)&&(tn&&Dn(),tn=setInterval(function(){var ge=U(document.elementFromPoint(C,M),!0);ge!==de&&(de=ge,gt()),Un(o,h.options,ge,s)},10),Ft=C,Tn=M)}else{if(!this.options.bubbleScroll||U(Y,!0)===We())return void gt();Un(o,this.options,U(Y,!1),!1)}}},I(l,{pluginName:"scroll",initializeByDefault:!0})}),Re.mount(Wn,jn);const Kn=Re,Yn=new e.InjectionToken("Global config for sortablejs");class ho{constructor(i){this.target=i}insert(i,o){this.isFormArray?this.target.insert(i,o):this.target.splice(i,0,o)}get(i){return this.isFormArray?this.target.at(i):this.target[i]}remove(i){let o;return this.isFormArray?(o=this.target.at(i),this.target.removeAt(i)):o=this.target.splice(i,1)[0],o}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class Gn{constructor(i){this.bindings=i.map(o=>new ho(o))}injectIntoEvery(i,o){this.bindings.forEach((s,h)=>s.insert(i,o[h]))}getFromEvery(i){return this.bindings.map(o=>o.get(i))}extractFromEvery(i){return this.bindings.map(o=>o.remove(i))}get provided(){return!!this.bindings.length}}let fo=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=(0,e.\u0275\u0275defineInjectable)({factory:function(){return new l},token:l,providedIn:"root"}),l})(),Zn=(()=>{class l{constructor(o,s,h,C,M){this.globalConfig=o,this.service=s,this.element=h,this.zone=C,this.renderer=M,this.sortablejsInit=new e.EventEmitter}ngOnInit(){Kn&&Kn.create&&this.create()}ngOnChanges(o){const s=o.sortablejsOptions;if(s&&!s.isFirstChange()){const h=s.previousValue,C=s.currentValue;Object.keys(C).forEach(M=>{C[M]!==h[M]&&this.sortableInstance.option(M,this.options[M])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const o=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=Kn.create(o,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof Gn?this.sortablejs:new Gn([this.sortablejs]):new Gn([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(o,...s){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[o]&&this.optionsWithoutEvents[o](...s)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(o){return(this.sortablejsCloneFunction||(s=>s))(o)}get overridenOptions(){return{onAdd:o=>{this.service.transfer=s=>{this.getBindings().injectIntoEvery(o.newIndex,s),this.proxyEvent("onAdd",o)},this.proxyEvent("onAddOriginal",o)},onRemove:o=>{const s=this.getBindings();s.provided&&(this.isCloning?(this.service.transfer(s.getFromEvery(o.oldIndex).map(h=>this.clone(h))),this.renderer.removeChild(o.item.parentNode,o.item),this.renderer.insertBefore(o.clone.parentNode,o.item,o.clone),this.renderer.removeChild(o.clone.parentNode,o.clone)):this.service.transfer(s.extractFromEvery(o.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",o)},onUpdate:o=>{const s=this.getBindings(),h=(l=>l.hasOwnProperty("newDraggableIndex")&&l.hasOwnProperty("oldDraggableIndex")?{new:l.newDraggableIndex,old:l.oldDraggableIndex}:{new:l.newIndex,old:l.oldIndex})(o);s.injectIntoEvery(h.new,s.extractFromEvery(h.old)),this.proxyEvent("onUpdate",o)}}}}return l.\u0275fac=function(o){return new(o||l)(e.\u0275\u0275directiveInject(Yn,8),e.\u0275\u0275directiveInject(fo),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.Renderer2))},l.\u0275dir=e.\u0275\u0275defineDirective({type:l,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[e.\u0275\u0275NgOnChangesFeature]}),l})(),go=(()=>{class l{static forRoot(o){return{ngModule:l,providers:[{provide:Yn,useValue:o}]}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({}),l})()},22720:(Ve,ye,t)=>{"use strict";t.d(ye,{T:()=>I});var e=t(77025),a=t(62103),T=t(55969),R=t(80863),F=t(14111);function I(...Z){const K=(0,R.yG)(Z),p=(0,R._6)(Z,1/0);return Z=(0,a.k)(Z),(0,e.e)((he,W)=>{(0,T.J)(p)((0,F.D)([he,...Z],K)).subscribe(W)})}},73835:(Ve,ye,t)=>{var e={"./custom/app/search-page/configuration-search-page.component":[81943,1943]};function a(T){if(!t.o(e,T))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+T+"'");throw I.code="MODULE_NOT_FOUND",I});var R=e[T],F=R[0];return t.e(R[1]).then(()=>t(F))}a.keys=()=>Object.keys(e),a.id=73835,Ve.exports=a},79835:(Ve,ye,t)=>{var e={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[78927,8927]};function a(T){if(!t.o(e,T))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+T+"'");throw I.code="MODULE_NOT_FOUND",I});var R=e[T],F=R[0];return t.e(R[1]).then(()=>t(F))}a.keys=()=>Object.keys(e),a.id=79835,Ve.exports=a},66849:(Ve,ye,t)=>{var e={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[61624,9899,1624]};function a(T){if(!t.o(e,T))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+T+"'");throw I.code="MODULE_NOT_FOUND",I});var R=e[T],F=R[0];return Promise.all(R.slice(1).map(t.e)).then(()=>t(F))}a.keys=()=>Object.keys(e),a.id=66849,Ve.exports=a},22592:(Ve,ye,t)=>{var e={"./custom/app/shared/search/search-filters/search-filters.component":[9367,3201,9367]};function a(T){if(!t.o(e,T))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+T+"'");throw I.code="MODULE_NOT_FOUND",I});var R=e[T],F=R[0];return Promise.all(R.slice(1).map(t.e)).then(()=>t(F))}a.keys=()=>Object.keys(e),a.id=22592,Ve.exports=a},51542:(Ve,ye,t)=>{var e={"./custom/app/shared/search/search-settings/search-settings.component":[423,423]};function a(T){if(!t.o(e,T))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+T+"'");throw I.code="MODULE_NOT_FOUND",I});var R=e[T],F=R[0];return t.e(R[1]).then(()=>t(F))}a.keys=()=>Object.keys(e),a.id=51542,Ve.exports=a},71041:(Ve,ye,t)=>{"use strict";t.d(ye,{Gy:()=>se,P2:()=>A,QB:()=>U,Sb:()=>m,TE:()=>Be,XX:()=>P,Zu:()=>ne,qz:()=>Ce,zj:()=>ve});var e=t(98678),a=t(65706),T=t(5737),R=t(5476),F=t(35103),I=t(1908);const Z=function(v,j){return[v,j]};function K(v,j){if(1&v){const u=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",3)(1,"input",4),e.\u0275\u0275listener("blur",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onBlur(ie))})("change",function(ie){const Ze=e.\u0275\u0275restoreView(u).$implicit,Gt=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Gt.onCheckboxChange(ie,Ze))})("focus",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onFocus(ie))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"span",5),e.\u0275\u0275elementEnd()}if(2&v){const u=j.$implicit,f=e.\u0275\u0275nextContext();e.\u0275\u0275property("hidden",u.hidden)("ngClass",f.getClass("element","control",u)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",u.checked)("formControlName",u.id)("id",f.getCheckboxId(u))("name",u.name)("required",u.required)("tabindex",u.tabIndex)("value",u.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",f.getClass("element","label",u))("innerHTML",u.label,e.\u0275\u0275sanitizeHtml)}}function W(v,j){if(1&v&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275element(1,"span",7),e.\u0275\u0275elementEnd()),2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",u.model.prefix,e.\u0275\u0275sanitizeHtml)}}function E(v,j){if(1&v){const u=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",8),e.\u0275\u0275listener("blur",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onBlur(ie))})("change",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onChange(ie))})("focus",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onFocus(ie))}),e.\u0275\u0275elementEnd()}if(2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("is-invalid",u.showErrorMessages),e.\u0275\u0275property("autocomplete",u.model.autoComplete)("autofocus",u.model.autoFocus)("dynamicList",u.model.listId)("formControlName",u.model.id)("id",u.id)("maxlength",u.model.maxLength)("minlength",u.model.minLength)("name",u.model.name)("ngClass",u.getClass("element","control"))("pattern",u.model.pattern)("placeholder",u.model.placeholder)("readonly",u.model.readOnly)("required",u.model.required)("spellcheck",u.model.spellCheck)("tabindex",u.model.tabIndex)("type",u.model.inputType),e.\u0275\u0275attribute("accept",u.model.accept)("max",u.model.max)("min",u.model.min)("multiple",u.model.multiple)("step",u.model.step)}}function Q(v,j){if(1&v){const u=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",9),e.\u0275\u0275listener("blur",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onBlur(ie))})("change",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onChange(ie))})("focus",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onFocus(ie))}),e.\u0275\u0275elementEnd()}if(2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("is-invalid",u.showErrorMessages),e.\u0275\u0275property("autocomplete",u.model.autoComplete)("autofocus",u.model.autoFocus)("dynamicList",u.model.listId)("formControlName",u.model.id)("id",u.id)("maxlength",u.model.maxLength)("minlength",u.model.minLength)("name",u.model.name)("ngClass",u.getClass("element","control"))("pattern",u.model.pattern)("placeholder",u.model.placeholder)("readonly",u.model.readOnly)("required",u.model.required)("spellcheck",u.model.spellCheck)("tabindex",u.model.tabIndex)("mask",u.model.mask)("specialCharacters",null==u.model.maskConfig?null:u.model.maskConfig.specialCharacters)("patterns",null==u.model.maskConfig?null:u.model.maskConfig.patterns)("prefix",null==u.model.maskConfig?null:u.model.maskConfig.prefix)("suffix",null==u.model.maskConfig?null:u.model.maskConfig.suffix)("thousandSeparator",null==u.model.maskConfig?null:u.model.maskConfig.thousandSeparator)("decimalMarker",null==u.model.maskConfig?null:u.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==u.model.maskConfig?null:u.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==u.model.maskConfig?null:u.model.maskConfig.hiddenInput)("showMaskTyped",null==u.model.maskConfig?null:u.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==u.model.maskConfig?null:u.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==u.model.maskConfig?null:u.model.maskConfig.shownMaskExpression)("showTemplate",null==u.model.maskConfig?null:u.model.maskConfig.showTemplate)("clearIfNotMatch",u.model.maskConfig.clearIfNotMatch)("validation",u.model.maskConfig.validation)("separatorLimit",u.model.maskConfig.separatorLimit)("allowNegativeNumbers",u.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",u.model.maskConfig.leadZeroDateTime)("type",u.model.inputType),e.\u0275\u0275attribute("accept",u.model.accept)("max",u.model.max)("min",u.model.min)("multiple",u.model.multiple)("step",u.model.step)}}function V(v,j){if(1&v&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275element(1,"span",7),e.\u0275\u0275elementEnd()),2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",u.model.suffix,e.\u0275\u0275sanitizeHtml)}}function J(v,j){1&v&&e.\u0275\u0275element(0,"option",13),2&v&&e.\u0275\u0275property("value",j.$implicit)}function $(v,j){if(1&v&&(e.\u0275\u0275elementStart(0,"datalist",11),e.\u0275\u0275template(1,J,1,1,"option",12),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",u.model.listId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,2,u.model.list$))}}function ue(v,j){if(1&v&&e.\u0275\u0275element(0,"legend",4),2&v){const u=e.\u0275\u0275nextContext();e.\u0275\u0275property("innerHTML",u.model.legend,e.\u0275\u0275sanitizeHtml)}}function L(v,j){if(1&v){const u=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",5)(1,"input",6),e.\u0275\u0275listener("blur",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onBlur(ie))})("focus",function(ie){e.\u0275\u0275restoreView(u);const me=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(me.onFocus(ie))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"span",4),e.\u0275\u0275elementEnd()}if(2&v){const u=j.$implicit,f=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(5,Z,f.getClass("element","option"),f.getClass("grid","option"))),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",u.disabled)("name",f.model.name)("value",u.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",u.label,e.\u0275\u0275sanitizeHtml)}}function X(v,j){if(1&v&&(e.\u0275\u0275elementStart(0,"option",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&v){const u=j.$implicit;e.\u0275\u0275property("disabled",u.disabled)("ngValue",u.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(u.label)}}let Ce=(()=>{class v extends T.LvC{constructor(u,f,ie){super(u,f),this.layoutService=u,this.validationService=f,this.config=ie,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz),e.\u0275\u0275directiveInject(a.M4))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(u,f){if(1&u&&e.\u0275\u0275viewQuery(a.VL,7),2&u){let ie;e.\u0275\u0275queryRefresh(ie=e.\u0275\u0275loadQuery())&&(f.ngbCalendar=ie.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:13,consts:[[3,"formGroup"],[3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate","select"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"ngb-datepicker",1),e.\u0275\u0275listener("select",function(me){return f.onChange(me)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("displayMonths",f.model.getAdditional("displayMonths",f.config.displayMonths))("firstDayOfWeek",f.model.getAdditional("firstDayOfWeek",f.config.firstDayOfWeek))("formControlName",f.model.id)("id",f.id)("maxDate",f.model.max)("minDate",f.model.min)("navigation",f.model.getAdditional("navigation",f.config.navigation))("ngClass",f.getClass("element","control"))("outsideDays",f.model.getAdditional("outsideDays",f.config.outsideDays))("showWeekNumbers",f.model.getAdditional("showWeekNumbers",f.config.showWeekNumbers))("weekdays",f.model.getAdditional("showWeekdays",f.config.weekdays))("startDate",f.model.focusedDate))},dependencies:[a.VL,R.JL,R.sg,R.JJ,R.u,F.mk],encapsulation:2,changeDetection:0}),v})(),se=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[3,"innerHTML","ngClass"]],template:function(u,f){1&u&&(e.\u0275\u0275elementStart(0,"div",0)(1,"label",1)(2,"input",2),e.\u0275\u0275listener("blur",function(me){return f.onBlur(me)})("change",function(me){return f.onChange(me)})("focus",function(me){return f.onFocus(me)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",3),e.\u0275\u0275elementEnd()()),2&u&&(e.\u0275\u0275classProp("disabled",f.model.disabled),e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-invalid",f.showErrorMessages),e.\u0275\u0275property("checked",f.model.checked)("formControlName",f.model.id)("id",f.id)("indeterminate",f.model.indeterminate)("name",f.model.name)("ngClass",f.getClass("element","control"))("required",f.model.required)("tabindex",f.model.tabIndex)("value",f.model.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHTML",f.model.label,e.\u0275\u0275sanitizeHtml)("ngClass",e.\u0275\u0275pureFunction2(16,Z,f.getClass("element","label"),f.getClass("grid","label"))))},dependencies:[R.JL,R.sg,R.Wl,R.Zs,R.JJ,R.u,F.mk],encapsulation:2}),v})(),A=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}getCheckboxId(u){return this.layoutService.getElementId(u)}onCheckboxChange(u,f){this.onChange(u),f.value=u.target.checked}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"checked","formControlName","id","name","required","tabindex","value","blur","change","focus"],[3,"ngClass","innerHTML"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275template(2,K,3,11,"label",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroupName",f.model.id)("id",f.id)("ngClass",f.getClass("element","control")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",f.model.group))},dependencies:[R.JL,R.sg,R.x0,F.mk,F.sg,a.mL,R.Wl,R.Zs,a.W9,R.JJ,R.u],encapsulation:2,changeDetection:0}),v})(),ne=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["maskedInput",""],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus"],[1,"form-control",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type","blur","change","focus"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(u,f){if(1&u&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,W,2,1,"div",1),e.\u0275\u0275template(2,E,1,23,"input",2),e.\u0275\u0275template(3,Q,1,41,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,V,2,1,"div",4),e.\u0275\u0275template(6,$,3,4,"datalist",5),e.\u0275\u0275elementEnd()),2&u){const ie=e.\u0275\u0275reference(4);e.\u0275\u0275classProp("input-group",f.model.prefix||f.model.suffix),e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",f.model.prefix),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","file"===f.model.inputType)("ngIfElse",ie),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",f.model.suffix),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",f.model.hasList)}},dependencies:[R.JL,R.sg,F.O5,R.Fj,T.fQg,R.JJ,R.u,R.nD,R.wO,F.mk,R.c5,R.Q7,I.hx,F.sg,R.YN,R.Kr,F.Ov],encapsulation:2}),v})(),Be=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"formControlName","id","ngClass","tabindex","change"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"disabled","name","value","blur","focus"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275listener("change",function(me){return f.onChange(me)}),e.\u0275\u0275template(2,ue,1,1,"legend",2),e.\u0275\u0275template(3,L,3,8,"label",3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName",f.model.id)("id",f.id)("ngClass",f.getClass("element","control"))("tabindex",f.model.tabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",f.model.legend),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,7,f.model.options$)))},dependencies:[R.JL,R.sg,a.py,R.JJ,R.u,F.mk,F.O5,F.sg,a.mL,a.aB,F.Ov],encapsulation:2,changeDetection:0}),v})(),U=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"compareWith","formControlName","id","name","ngClass","required","tabindex","blur","change","focus"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"select",1),e.\u0275\u0275listener("blur",function(me){return f.onBlur(me)})("change",function(me){return f.onChange(me)})("focus",function(me){return f.onFocus(me)}),e.\u0275\u0275template(2,X,2,3,"option",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",f.showErrorMessages),e.\u0275\u0275property("compareWith",f.model.compareWithFn)("formControlName",f.model.id)("id",f.id)("name",f.model.name)("ngClass",f.getClass("element","control"))("required",f.model.required)("tabindex",f.model.tabIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(3,11,f.model.options$)))},dependencies:[R.JL,R.sg,R.EJ,R.JJ,R.u,F.mk,R.Q7,F.sg,R.YN,R.Kr,F.Ov],encapsulation:2}),v})(),m=(()=>{class v extends T.LvC{constructor(u,f){super(u,f),this.layoutService=u,this.validationService=f,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap","blur","change","focus"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275elementStart(1,"textarea",1),e.\u0275\u0275listener("blur",function(me){return f.onBlur(me)})("change",function(me){return f.onChange(me)})("focus",function(me){return f.onFocus(me)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-invalid",f.showErrorMessages),e.\u0275\u0275property("cols",f.model.cols)("formControlName",f.model.id)("id",f.id)("maxlength",f.model.maxLength)("minlength",f.model.minLength)("name",f.model.name)("ngClass",f.getClass("element","control"))("placeholder",f.model.placeholder)("readonly",f.model.readOnly)("required",f.model.required)("rows",f.model.rows)("spellcheck",f.model.spellCheck)("tabindex",f.model.tabIndex)("wrap",f.model.wrap))},dependencies:[R.JL,R.sg,R.Fj,R.JJ,R.u,R.nD,R.wO,F.mk,R.Q7],encapsulation:2}),v})(),P=(()=>{class v extends T.LvC{constructor(u,f,ie){super(u,f),this.layoutService=u,this.validationService=f,this.config=ie,this.blur=new e.EventEmitter,this.change=new e.EventEmitter,this.focus=new e.EventEmitter}}return v.\u0275fac=function(u){return new(u||v)(e.\u0275\u0275directiveInject(T.vnf),e.\u0275\u0275directiveInject(T.fhz),e.\u0275\u0275directiveInject(a.Kk))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(u,f){if(1&u&&e.\u0275\u0275viewQuery(a.Pm,7),2&u){let ie;e.\u0275\u0275queryRefresh(ie=e.\u0275\u0275loadQuery())&&(f.ngbTimePicker=ie.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(u,f){1&u&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275element(1,"ngb-timepicker",1),e.\u0275\u0275elementContainerEnd()),2&u&&(e.\u0275\u0275property("formGroup",f.group),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",f.id)("formControlName",f.model.id)("hourStep",f.model.getAdditional("hourStep",f.config.hourStep))("meridian",f.model.meridian)("minuteStep",f.model.getAdditional("minuteStep",f.config.minuteStep))("ngClass",f.getClass("element","control"))("seconds",f.model.showSeconds)("secondStep",f.model.getAdditional("secondStep",f.config.secondStep))("size",f.model.getAdditional("size",f.config.size))("spinners",f.model.getAdditional("spinners",f.config.spinners)))},dependencies:[a.Pm,R.JL,R.sg,R.JJ,R.u,F.mk],encapsulation:2,changeDetection:0}),v})(),ve=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=e.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=e.\u0275\u0275defineInjector({imports:[[F.ez,R.UX,a.xZ,a.M,a.mO,a.UL,I.yI,T.H9g],T.H9g]}),v})()}}]);