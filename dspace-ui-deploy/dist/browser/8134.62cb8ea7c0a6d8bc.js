(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8134,5506],{90005:(R,A,s)=>{"use strict";s.d(A,{a:()=>E});var t=s(77007),h=s(48358),g=s(66154),p=s(49887),P=s(16066),y=s(18005),T=s(10572),b=s(96526),V=s(6952),j=s(45608),e=s(55624),X=s(78964),S=s(56190),w=s(14246),I=s(98678);let E=(()=>{class H extends w.t{constructor(F,N,K,k){super("itemrequests",F,N,K,k),this.requestService=F,this.rdbService=N,this.objectCache=K,this.halService=k}getItemRequestEndpoint(){return this.halService.getEndpoint(this.linkPath)}getItemRequestEndpointByToken(F){return this.halService.getEndpoint(this.linkPath).pipe((0,t.h)(N=>(0,j.UE)(N)),(0,h.U)(N=>`${N}/${F}`))}requestACopy(F){const N=this.requestService.generateRequestId();return this.getItemRequestEndpoint().pipe((0,g.s)(k=>(0,j.Uh)(k)),(0,h.U)(k=>{const U=new b.xo(N,k,F);this.requestService.send(U)})).subscribe(),this.rdbService.buildFromRequestUUID(N).pipe((0,T.hC)())}deny(F,N){return this.process(F,N,!1)}grant(F,N,K=!1){return this.process(F,N,!0,K)}process(F,N,K,k=!1){const U=this.requestService.generateRequestId();return this.getItemRequestEndpointByToken(F).pipe((0,p.x)(),(0,h.U)(Q=>{const ie=Object.create({});let G=new X.WM;return G=G.append("Content-Type","application/json"),ie.headers=G,new b.an(U,Q,JSON.stringify({acceptRequest:K,responseMessage:N.message,subject:N.subject,suggestOpenAccess:k}),ie)}),(0,S.wG)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(U)}}return H.\u0275fac=function(F){return new(F||H)(I.\u0275\u0275inject(V.s),I.\u0275\u0275inject(P.Q),I.\u0275\u0275inject(e.a),I.\u0275\u0275inject(y.q))},H.\u0275prov=I.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},15506:(R,A,s)=>{"use strict";s.r(A),s.d(A,{ItemAlertsComponent:()=>j}),s(13005);var h=s(60987),g=s(98678),p=s(35103),P=s(67522),y=s(87586),T=s(96342);function b(e,X){if(1&e&&(g.\u0275\u0275elementStart(0,"div",2),g.\u0275\u0275element(1,"ds-alert",3),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&e){const S=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("type",S.AlertTypeEnum.Warning)("content",g.\u0275\u0275pipeBind1(2,2,"item.alerts.private"))}}function V(e,X){if(1&e&&(g.\u0275\u0275elementStart(0,"div",4)(1,"ds-alert",5)(2,"div",6)(3,"span",7),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(6,"a",8),g.\u0275\u0275text(7),g.\u0275\u0275pipe(8,"translate"),g.\u0275\u0275elementEnd()()()()),2&e){const S=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("type",S.AlertTypeEnum.Warning),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(5,3,"item.alerts.withdrawn")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(8,5,"404.link.home-page"))}}let j=(()=>{class e{constructor(){this.AlertTypeEnum=h.N}}return e.\u0275fac=function(S){return new(S||e)},e.\u0275cmp=g.\u0275\u0275defineComponent({type:e,selectors:[["ds-item-alerts"]],inputs:{item:"item"},decls:3,vars:2,consts:[["class","private-warning",4,"ngIf"],["class","withdrawn-warning",4,"ngIf"],[1,"private-warning"],[3,"type","content"],[1,"withdrawn-warning"],[3,"type"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"align-self-center"],["routerLink","/home",1,"btn","btn-primary","btn-sm"]],template:function(S,w){1&S&&(g.\u0275\u0275elementStart(0,"div"),g.\u0275\u0275template(1,b,3,4,"div",0),g.\u0275\u0275template(2,V,9,7,"div",1),g.\u0275\u0275elementEnd()),2&S&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",w.item&&!w.item.isDiscoverable),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",w.item&&w.item.isWithdrawn))},dependencies:[p.O5,P.rH,y.w,T.X$]}),e})()},75155:(R,A,s)=>{"use strict";s.d(A,{B:()=>P});var t=s(4682),h=s(98678);function g(y,T){}const p=["*"];let P=(()=>{class y extends t.F{getComponentName(){return"FullItemPageComponent"}importThemedComponent(b){return s(6296)(`./${b}/app/item-page/full/full-item-page.component`)}importUnthemedComponent(){return Promise.all([s.e(2837),s.e(9255)]).then(s.bind(s,29255))}}return y.\u0275fac=function(){let T;return function(V){return(T||(T=h.\u0275\u0275getInheritedFactory(y)))(V||y)}}(),y.\u0275cmp=h.\u0275\u0275defineComponent({type:y,selectors:[["ds-themed-full-item-page"]],features:[h.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,V){1&b&&(h.\u0275\u0275projectionDef(),h.\u0275\u0275template(0,g,0,0,"ng-template",null,0,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementStart(2,"div",null,1),h.\u0275\u0275projection(4),h.\u0275\u0275elementEnd())},encapsulation:2}),y})()},98134:(R,A,s)=>{"use strict";s.r(A),s.d(A,{ItemPageModule:()=>di});var t=s(35103),h=s(57999),p=(s(29300),s(67522)),P=s(21654),y=s(99805),T=s(96509),b=s(29442),V=s(42252),j=s(92127),e=s(98678);let X=(()=>{class a extends V.t{constructor(i,o){super(i,o),this.breadcrumbService=i,this.dataService=o}get followLinks(){return j.H}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275inject(T.B),e.\u0275\u0275inject(b.S))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var S=s(46533),w=s(10572),I=s(28452),E=s(43550),H=s(89702);const J=[(0,S.l)("item")];let F=(()=>{class a{constructor(i,o,u){this.versionService=i,this.store=o,this.router=u}resolve(i,o){const u=this.versionService.findById(i.params.id,!0,!1,...J).pipe((0,w.hC)());return u.subscribe(f=>{this.store.dispatch(new I.K(o.url,f.payload))}),u}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275inject(E._),e.\u0275\u0275inject(H.yh),e.\u0275\u0275inject(p.F0))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var N=s(30658),K=s(9237),k=s(48358),U=s(21160),Q=s(77176),ie=s(22170),G=s(45608),ee=s(38123),te=s(65384),se=s(6013),re=s(8830),le=s(17026),me=s(6952),x=s(71213),D=s(15463),_=s(76774),O=s(8842),z=s(96342),C=s(5476),ce=s(47513),q=s(41966);function de(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"span",6),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&a){const i=e.\u0275\u0275nextContext().ngVar,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"item.bitstreams.upload.item")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.dsoNameService.getName(i))}}function ue(a,d){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,de,6,4,"div",1),e.\u0275\u0275elementContainerEnd()),2&a){const i=d.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i)}}function Ce(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.createBundle())}),e.\u0275\u0275element(1,"i",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"item.bitstreams.upload.bundle.new")," "))}function we(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-uploader",14),e.\u0275\u0275listener("onCompleteItem",function(u){e.\u0275\u0275restoreView(i);const f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.onCompleteItem(u))})("onUploadError",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.onUploadError())}),e.\u0275\u0275elementEnd()}if(2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("dropMsg","item.bitstreams.upload.drop-message")("dropOverDocumentMsg","item.bitstreams.upload.drop-message")("enableDragOverDocument",!0)("uploadFilesOptions",i.uploadFilesOptions)}}function B(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2)(2,"div",3)(3,"h2"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ue,2,1,"ng-container",4),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",5)(9,"label",6),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ds-dso-input-suggestions",7,8),e.\u0275\u0275listener("ngModelChange",function(u){e.\u0275\u0275restoreView(i);const f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.selectedBundleName=u)})("typeSuggestion",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.bundleNameChange())})("clickSuggestion",function(u){e.\u0275\u0275restoreView(i);const f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.onClick(u))})("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275reference(13);return e.\u0275\u0275resetView(u.open())}),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,Ce,4,3,"button",9),e.\u0275\u0275template(16,we,1,4,"ds-uploader",10),e.\u0275\u0275elementStart(17,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onCancel())}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&a){const i=e.\u0275\u0275nextContext();let o;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,12,"item.bitstreams.upload.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",null==(o=e.\u0275\u0275pipeBind1(7,14,i.itemRD$))?null:o.payload),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,16,"item.bitstreams.upload.bundle")),e.\u0275\u0275advance(2),e.\u0275\u0275property("suggestions",i.bundles)("placeholder",e.\u0275\u0275pipeBind1(14,18,"item.bitstreams.upload.bundle.placeholder"))("action",i.getCurrentUrl())("name","bundle-select")("debounceTime",50)("ngModel",i.selectedBundleName),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!i.selectedBundleId&&(null==i.selectedBundleName?null:i.selectedBundleName.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.selectedBundleId),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,20,"item.bitstreams.upload.cancel"))}}let ge=(()=>{class a{constructor(i,o,u,f,M,$,ne,He,je){this.route=i,this.router=o,this.itemService=u,this.bundleService=f,this.authService=M,this.notificationsService=$,this.translate=ne,this.requestService=He,this.dsoNameService=je,this.bundles=[],this.uploadFilesOptions=Object.assign(new ie.n,{url:"placeholder",authToken:null,disableMultipart:!1,itemAlias:null}),this.NOTIFICATIONS_PREFIX="item.bitstreams.upload.notifications.",this.subs=[]}ngOnInit(){this.itemId=this.route.snapshot.params.id,this.entityType=this.route.snapshot.params["entity-type"],this.itemRD$=this.route.data.pipe((0,k.U)(o=>o.dso));const i=this.itemService.getBundles(this.itemId).pipe((0,w.hC)(),(0,U.w)(o=>{if(o.hasSucceeded){if(o.payload.page){this.bundles=o.payload.page;for(const u of _.N.bundle.standardBundles){let f=!0;o.payload.page.forEach(M=>{u===M.name&&(f=!1)}),f&&this.bundles.push(Object.assign(new se.b,{_name:u,type:"bundle"}))}}else this.bundles=_.N.bundle.standardBundles.map(u=>Object.assign(new se.b,{_name:u,type:"bundle"}));return(0,K.of)(o.payload.page)}}));this.selectedBundleId=this.route.snapshot.queryParams.bundle,(0,G.UE)(this.selectedBundleId)&&(this.subs.push(this.bundleService.findById(this.selectedBundleId).pipe((0,w.Gp)()).subscribe(o=>{this.selectedBundleName=o.name})),this.setUploadUrl()),this.subs.push(i.subscribe())}createBundle(){this.itemService.createBundle(this.itemId,this.selectedBundleName).pipe((0,w.Gp)()).subscribe(i=>{this.selectedBundleId=i.id,this.notificationsService.success(this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.title"),this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.content")),this.setUploadUrl()})}bundleNameChange(){this.selectedBundleId=void 0;for(const i of this.bundles)if(this.selectedBundleName===i.name){this.selectedBundleId=i.id;break}}setUploadUrl(){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe((0,Q.q)(1)).subscribe(i=>{this.uploadFilesOptions.url=i,(0,G.xb)(this.uploadFilesOptions.authToken)&&(this.uploadFilesOptions.authToken=this.authService.buildAuthHeader()),this.uploaderComponent&&(this.uploaderComponent.ngOnInit(),this.uploaderComponent.ngAfterViewInit())})}onCompleteItem(i){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe((0,Q.q)(1)).subscribe(u=>{this.requestService.removeByHrefSubstring(u)});const o={itemId:this.itemId,entityType:this.entityType};this.router.navigate([(0,x.IB)(),i.id,"edit"],{queryParams:o})}onUploadError(){this.notificationsService.error(null,this.translate.get(this.NOTIFICATIONS_PREFIX+"upload.failed"))}onClick(i){this.selectedBundleId=i.id,this.selectedBundleName=i.name,i.id&&this.setUploadUrl()}onCancel(){this.router.navigate([(0,D.dZ)(this.entityType,this.itemId),"bitstreams"])}getCurrentUrl(){return this.router.url}ngOnDestroy(){this.subs.filter(i=>(0,G.Uh)(i)).forEach(i=>i.unsubscribe())}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(b.S),e.\u0275\u0275directiveInject(re.b),e.\u0275\u0275directiveInject(ee.e8),e.\u0275\u0275directiveInject(te.T),e.\u0275\u0275directiveInject(z.sK),e.\u0275\u0275directiveInject(me.s),e.\u0275\u0275directiveInject(O._))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-upload-bitstream"]],viewQuery:function(i,o){if(1&i&&e.\u0275\u0275viewQuery(le.B,5),2&i){let u;e.\u0275\u0275queryRefresh(u=e.\u0275\u0275loadQuery())&&(o.uploaderComponent=u.first)}},decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","mb-2"],[4,"ngVar"],[1,"col-12"],[1,"font-weight-bold"],["id","search-form","ngDefaultControl","",3,"suggestions","placeholder","action","name","debounceTime","ngModel","ngModelChange","typeSuggestion","clickSuggestion","click"],["f",""],["class","btn btn-success mr-2",3,"click",4,"ngIf"],["class","w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-success","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,B,20,22,"ng-container",1),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.bundles))},dependencies:[t.O5,C.Fj,C.JJ,C.On,ce.Q,q.g,le.B,t.Ov,z.X$],encapsulation:2}),a})();var Z=s(12002),pe=s(4682);function he(a,d){}const fe=["*"];let ve=(()=>{class a extends pe.F{getComponentName(){return"ItemPageComponent"}importThemedComponent(i){return s(66137)(`./${i}/app/item-page/simple/item-page.component`)}importUnthemedComponent(){return Promise.resolve().then(s.bind(s,29300))}}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-themed-item-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:fe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(i,o){1&i&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,he,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",null,1),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd())},encapsulation:2}),a})();var ye=s(75155),Ee=s(27696),_e=s(78944);let Ie=(()=>{class a{constructor(i,o,u,f){this.route=i,this.router=o,this.versionService=u,this.authService=f}ngOnInit(){this.versionRD$=this.route.data.pipe((0,k.U)(i=>i.dso),(0,_e.Gh)(this.router,this.authService)),this.versionRD$.pipe((0,w.Gp)(),(0,U.w)(i=>i.item),(0,_e.Gh)(this.router,this.authService),(0,w.hC)()).subscribe(i=>{if(i.hasNoContent)this.router.navigateByUrl((0,x.ro)(),{skipLocationChange:!0});else{const o=(0,D.Tt)(i.payload);this.router.navigateByUrl(o)}})}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(E._),e.\u0275\u0275directiveInject(ee.e8))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-version-page"]],decls:0,vars:0,template:function(i,o){}}),a})();var be=s(77007),Ae=s(35794),c=s(80978),l=s(53426),n=s(90005),r=s(51885),m=s(39034);function v(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",27)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"a",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"bitstream-request-a-copy.alert.canDownload1")),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",i.getBitstreamLink()),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"bitstream-request-a-copy.alert.canDownload2"))}}function L(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(2,2,"bitstream-request-a-copy.intro.bitstream.one")," ",i.bitstreamName,"")}}function W(a,d){1&a&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"bitstream-request-a-copy.intro.bitstream.all")))}function Oe(a,d){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"bitstream-request-a-copy.name.error")," "))}function pt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275template(1,Oe,3,3,"span",4),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.name.errors&&i.name.errors.required)}}function mt(a,d){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"bitstream-request-a-copy.email.error")," "))}function dt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275template(1,mt,3,3,"span",4),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.email.errors)}}let $e=(()=>{class a{constructor(i,o,u,f,M,$,ne,He,je,ui,gi){this.location=i,this.translateService=o,this.route=u,this.router=f,this.authorizationService=M,this.auth=$,this.formBuilder=ne,this.itemRequestDataService=He,this.notificationsService=je,this.dsoNameService=ui,this.bitstreamService=gi,this.subs=[]}ngOnInit(){this.requestCopyForm=this.formBuilder.group({name:new C.p4("",{validators:[C.kI.required]}),email:new C.p4("",{validators:[C.kI.required,C.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]}),allfiles:new C.p4(""),message:new C.p4("")}),this.item$=this.route.data.pipe((0,k.U)(o=>o.dso),(0,w.Gp)()),this.subs.push(this.item$.subscribe(o=>{this.item=o,this.itemName=this.dsoNameService.getName(o)})),this.bitstream$=this.route.queryParams.pipe((0,be.h)(o=>(0,G.Uh)(o)&&(0,G.Uh)(o.bitstream)),(0,U.w)(o=>this.bitstreamService.findById(o.bitstream)),(0,w.Gp)()),this.subs.push(this.bitstream$.subscribe(o=>{this.bitstream=o,this.bitstreamName=this.dsoNameService.getName(o)})),this.canDownload$=this.bitstream$.pipe((0,U.w)(o=>this.authorizationService.isAuthorized(c.i.CanDownload,(0,G.UE)(o)?o.self:void 0)));const i=this.bitstream$.pipe((0,U.w)(o=>this.authorizationService.isAuthorized(c.i.CanRequestACopy,(0,G.UE)(o)?o.self:void 0)));this.subs.push((0,l.a)([this.canDownload$,i]).subscribe(([o,u])=>{!o&&!u&&this.router.navigateByUrl((0,x.dd)(),{skipLocationChange:!0})})),this.initValues()}get name(){return this.requestCopyForm.get("name")}get email(){return this.requestCopyForm.get("email")}get message(){return this.requestCopyForm.get("message")}get allfiles(){return this.requestCopyForm.get("allfiles")}initValues(){this.getCurrentUser().pipe((0,Q.q)(1)).subscribe(i=>{this.requestCopyForm.patchValue({allfiles:"true"}),(0,G.Uh)(i)&&this.requestCopyForm.patchValue({name:i.name,email:i.email})}),this.bitstream$.pipe((0,Q.q)(1)).subscribe(i=>{this.requestCopyForm.patchValue({allfiles:"false"})})}getCurrentUser(){return this.auth.isAuthenticated().pipe((0,U.w)(i=>i?this.auth.getAuthenticatedUserFromStore():(0,K.of)(void 0)))}onSubmit(){const i=new r.s;(0,G.Uh)(this.bitstream)&&(i.bitstreamId=this.bitstream.uuid),i.itemId=this.item.uuid,i.allfiles=this.allfiles.value,i.requestEmail=this.email.value,i.requestName=this.name.value,i.requestMessage=this.message.value,this.itemRequestDataService.requestACopy(i).pipe((0,w.hC)()).subscribe(o=>{o.hasSucceeded?(this.notificationsService.success(this.translateService.get("bitstream-request-a-copy.submit.success")),this.navigateBack()):this.notificationsService.error(this.translateService.get("bitstream-request-a-copy.submit.error"))})}ngOnDestroy(){(0,G.Uh)(this.subs)&&this.subs.forEach(i=>{(0,G.Uh)(i)&&i.unsubscribe()})}navigateBack(){this.location.back()}getItemPath(){return[(0,D.Tt)(this.item)]}getBitstreamLink(){return[(0,x.gs)(this.bitstream)]}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(t.Ye),e.\u0275\u0275directiveInject(z.sK),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(Ae._),e.\u0275\u0275directiveInject(ee.e8),e.\u0275\u0275directiveInject(C.QS),e.\u0275\u0275directiveInject(n.a),e.\u0275\u0275directiveInject(te.T),e.\u0275\u0275directiveInject(O._),e.\u0275\u0275directiveInject(m.J))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-bitstream-request-a-copy-page"]],decls:64,vars:52,consts:[[1,"container"],[1,"mb-4"],["class","alert alert-success",4,"ngIf"],[3,"routerLink"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row","mb-4"],[1,"col-12"],["for","name"],["type","text","id","name","formControlName","name",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],["for","email"],["id","email","formControlName","email",3,"className"],[1,"text-muted","ds-hint"],[1,"ml-4"],["type","radio","id","allfiles-true","formControlName","allfiles","value","true",3,"className"],["for","allfiles-true",1,"form-check-label"],["type","radio","id","allfiles-false","formControlName","allfiles","value","false",3,"className"],["for","allfiles-false",1,"form-check-label"],["for","message"],["rows","5","id","message","formControlName","message",3,"className"],[1,"row"],[1,"col-12","text-right"],["role","button",1,"btn","btn-outline-secondary","mr-1",3,"click"],[1,"fas","fa-arrow-left"],[1,"btn","btn-default","btn-primary",3,"disabled","click"],[1,"alert","alert-success"],[1,"invalid-feedback","show-feedback"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,v,7,7,"div",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"div")(7,"p"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementStart(10,"a",3),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,L,3,4,"p",4),e.\u0275\u0275template(13,W,3,3,"p",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return o.onSubmit()}),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"div",8)(18,"label",9),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"input",10),e.\u0275\u0275template(22,pt,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",7)(24,"div",8)(25,"label",12),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",13),e.\u0275\u0275template(29,dt,2,1,"div",11),e.\u0275\u0275elementStart(30,"small",14),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",7)(34,"div",8)(35,"div"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",15),e.\u0275\u0275element(39,"input",16),e.\u0275\u0275elementStart(40,"label",17),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",15),e.\u0275\u0275element(44,"input",18),e.\u0275\u0275elementStart(45,"label",19),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(48,"div",7)(49,"div",8)(50,"label",20),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(53,"textarea",21),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(54,"hr"),e.\u0275\u0275elementStart(55,"div",22)(56,"div",23)(57,"a",24),e.\u0275\u0275listener("click",function(){return o.navigateBack()}),e.\u0275\u0275element(58,"i",25),e.\u0275\u0275text(59),e.\u0275\u0275pipe(60,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"button",26),e.\u0275\u0275listener("click",function(){return o.onSubmit()}),e.\u0275\u0275text(62),e.\u0275\u0275pipe(63,"translate"),e.\u0275\u0275elementEnd()()()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,28,"bitstream-request-a-copy.header")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,30,o.canDownload$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(9,32,"bitstream-request-a-copy.intro")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",o.getItemPath()),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.itemName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=o.bitstream&&"false"===o.allfiles.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","true"===o.allfiles.value),e.\u0275\u0275advance(1),e.\u0275\u0275classMap("ng-invalid"),e.\u0275\u0275property("formGroup",o.requestCopyForm),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,34,"bitstream-request-a-copy.name.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("className",o.name.invalid&&(o.name.dirty||o.name.touched)?"form-control is-invalid":"form-control"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.name.invalid&&(o.name.dirty||o.name.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,36,"bitstream-request-a-copy.email.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("className",o.email.invalid&&(o.email.dirty||o.email.touched)?"form-control is-invalid":"form-control"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.email.invalid&&(o.email.dirty||o.email.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,38,"bitstream-request-a-copy.email.hint")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,40,"bitstream-request-a-copy.allfiles.label")),e.\u0275\u0275advance(3),e.\u0275\u0275property("className","form-check-input"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,42,"bitstream-request-a-copy.files-all-true.label")),e.\u0275\u0275advance(3),e.\u0275\u0275property("className","form-check-input"),e.\u0275\u0275attribute("disabled",void 0===o.bitstream||null),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,44,"bitstream-request-a-copy.files-all-false.label")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,46,"bitstream-request-a-copy.message.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("className","form-control"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(60,48,"bitstream-request-a-copy.return")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",o.requestCopyForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(63,50,"bitstream-request-a-copy.submit")))},dependencies:[t.O5,C._Y,C.Fj,C._,C.JJ,C.JL,C.sg,C.u,p.rH,t.Ov,z.X$],encapsulation:2}),a})();var Y=s(35841),Be=s(90285),Se=s(87586),Ke=s(2594),ut=s(10844),gt=s(13005);function ht(a,d){1&a&&e.\u0275\u0275elementContainer(0)}function ft(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"li",19),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const i=d.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,o.getAuthorizationDescription(i))," ")}}function vt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",16)(1,"div",8)(2,"div",9),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",10)(6,"div",17)(7,"ul"),e.\u0275\u0275template(8,ft,3,3,"li",18),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()()()()()),2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"person.page.orcid.granted-authorizations")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(9,4,i.getOrcidAuthorizations()))}}function yt(a,d){1&a&&(e.\u0275\u0275elementStart(0,"ds-alert",20),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275property("type","alert-success"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"person.page.orcid.no-missing-authorizations-message")," "))}function _t(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"li",23),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const i=d.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,o.getAuthorizationDescription(i))," ")}}function xt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"ds-alert",21),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"ul"),e.\u0275\u0275template(4,_t,3,3,"li",22),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()()),2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("type","alert-warning"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"person.page.orcid.missing-authorizations-message")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(5,5,i.getMissingOrcidAuthorizations()))}}function Ct(a,d){1&a&&(e.\u0275\u0275elementStart(0,"ds-alert",24),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275property("type","alert-warning"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"person.page.orcid.remove-orcid-message")," "))}function wt(a,d){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",30),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"person.page.orcid.unlink"),""))}function It(a,d){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",31),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"person.page.orcid.unlink.processing"),""))}function bt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.linkOrcid())}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275element(2,"i",33),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"person.page.orcid.grant-authorizations"),""))}function Ot(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"div",26)(2,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.unlinkOrcid())}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,wt,4,3,"span",28),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,It,4,3,"span",28),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,bt,5,3,"button",29),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()()}if(2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(3,4,i.unlinkProcessing)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(5,6,i.unlinkProcessing)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(7,8,i.unlinkProcessing)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,10,i.hasMissingOrcidAuthorizations()))}}function St(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",5),e.\u0275\u0275template(2,vt,10,6,"div",6),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"div",7)(5,"div",8)(6,"div",9),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",10)(10,"div",11),e.\u0275\u0275template(11,yt,3,4,"ds-alert",12),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275template(13,xt,6,7,"ds-alert",13),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(15,Ct,3,4,"ds-alert",14),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Ot,10,12,"div",15),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,6,i.hasOrcidAuthorizations())),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,8,"person.page.orcid.missing-authorizations")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(12,10,i.hasMissingOrcidAuthorizations())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(14,12,i.hasMissingOrcidAuthorizations())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,14,i.onlyAdminCanDisconnectProfileFromOrcid())&&!e.\u0275\u0275pipeBind1(17,16,i.ownerCanDisconnectProfileFromOrcid())),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(19,18,i.ownerCanDisconnectProfileFromOrcid()))}}function Pt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",34)(1,"div",5)(2,"div",35),e.\u0275\u0275element(3,"img",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",26)(5,"ds-alert",37),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",5)(9,"div",26)(10,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.linkOrcid())}),e.\u0275\u0275element(11,"i",39),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("type","alert-info"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,3,i.getOrcidNotLinkedMessage())),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,5,"person.page.orcid.link")," ")}}let We=(()=>{class a{constructor(i,o,u,f){this.orcidAuthService=i,this.translateService=o,this.notificationsService=u,this._window=f,this.profileAuthorizationScopes=new Y.X([]),this.missingAuthorizationScopes=new Y.X([]),this.orcidAuthorizationScopes=new Y.X([]),this.unlinkProcessing=new Y.X(!1),this.isOrcidLinked$=new Y.X(!1),this.onlyAdminCanDisconnectProfileFromOrcid$=new Y.X(!1),this.ownerCanDisconnectProfileFromOrcid$=new Y.X(!1),this.unlink=new e.EventEmitter}ngOnInit(){this.orcidAuthService.getOrcidAuthorizationScopes().subscribe(i=>{this.orcidAuthorizationScopes.next(i),this.initOrcidAuthSettings()})}ngOnChanges(i){!i.item.isFirstChange()&&i.item.currentValue!==i.item.previousValue&&this.initOrcidAuthSettings()}hasOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable().pipe((0,k.U)(i=>i.length>0))}getOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable()}hasMissingOrcidAuthorizations(){return this.missingAuthorizationScopes.asObservable().pipe((0,k.U)(i=>i.length>0))}getMissingOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable()}isLinkedToOrcid(){return this.isOrcidLinked$.asObservable()}getOrcidNotLinkedMessage(){const i=this.item.firstMetadataValue("person.identifier.orcid");return i?this.translateService.get("person.page.orcid.orcid-not-linked-message",{orcid:i}):this.translateService.get("person.page.orcid.no-orcid-message")}getAuthorizationDescription(i){return"person.page.orcid.scope."+i.substring(1).replace("/","-")}onlyAdminCanDisconnectProfileFromOrcid(){return this.onlyAdminCanDisconnectProfileFromOrcid$.asObservable()}ownerCanDisconnectProfileFromOrcid(){return this.ownerCanDisconnectProfileFromOrcid$.asObservable()}linkOrcid(){this.orcidAuthService.getOrcidAuthorizeUrl(this.item).subscribe(i=>{this._window.nativeWindow.location.href=i})}unlinkOrcid(){this.unlinkProcessing.next(!0),this.orcidAuthService.unlinkOrcidByItem(this.item).pipe((0,w.hC)()).subscribe(i=>{this.unlinkProcessing.next(!1),i.isSuccess?(this.notificationsService.success(this.translateService.get("person.page.orcid.unlink.success")),this.unlink.emit()):this.notificationsService.error(this.translateService.get("person.page.orcid.unlink.error"))})}initOrcidAuthSettings(){this.setOrcidAuthorizationsFromItem(),this.setMissingOrcidAuthorizations(),this.orcidAuthService.onlyAdminCanDisconnectProfileFromOrcid().subscribe(i=>{this.onlyAdminCanDisconnectProfileFromOrcid$.next(i)}),this.orcidAuthService.ownerCanDisconnectProfileFromOrcid().subscribe(i=>{this.ownerCanDisconnectProfileFromOrcid$.next(i)}),this.isOrcidLinked$.next(this.orcidAuthService.isLinkedToOrcid(this.item))}setMissingOrcidAuthorizations(){const i=this.orcidAuthService.getOrcidAuthorizationScopesByItem(this.item),u=this.orcidAuthorizationScopes.value.filter(f=>!i.includes(f));this.missingAuthorizationScopes.next(u)}setOrcidAuthorizationsFromItem(){this.profileAuthorizationScopes.next(this.orcidAuthService.getOrcidAuthorizationScopesByItem(this.item))}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(Be.m),e.\u0275\u0275directiveInject(z.sK),e.\u0275\u0275directiveInject(te.T),e.\u0275\u0275directiveInject(ut.DC))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-orcid-auth"]],inputs:{item:"item"},outputs:{unlink:"unlink"},features:[e.\u0275\u0275NgOnChangesFeature],decls:10,vars:8,consts:[[1,"container","mb-5"],[4,"ngIf","ngIfThen","ngIfElse"],["orcidLinked",""],["orcidNotLinked",""],["data-test","orcidLinked"],[1,"row"],["class","col-sm-6 mb-3","data-test","hasOrcidAuthorizations",4,"ngIf"],[1,"col-sm-6","mb-3"],[1,"card","h-100"],[1,"card-header"],[1,"card-body"],[1,"container"],["data-test","noMissingOrcidAuthorizations",3,"type",4,"ngIf"],["data-test","missingOrcidAuthorizations",3,"type",4,"ngIf"],["data-test","unlinkOnlyAdmin",3,"type",4,"ngIf"],["class","row","data-test","unlinkOwner",4,"ngIf"],["data-test","hasOrcidAuthorizations",1,"col-sm-6","mb-3"],[1,"container","p-0"],["data-test","orcidAuthorization",4,"ngFor","ngForOf"],["data-test","orcidAuthorization"],["data-test","noMissingOrcidAuthorizations",3,"type"],["data-test","missingOrcidAuthorizations",3,"type"],["data-test","missingOrcidAuthorization",4,"ngFor","ngForOf"],["data-test","missingOrcidAuthorization"],["data-test","unlinkOnlyAdmin",3,"type"],["data-test","unlinkOwner",1,"row"],[1,"col"],["type","submit",1,"btn","btn-danger","float-right",3,"disabled","click"],[4,"ngIf"],["type","submit","class","btn btn-primary float-right",3,"click",4,"ngIf"],[1,"fas","fa-unlink"],[1,"fas","fa-circle-notch","fa-spin"],["type","submit",1,"btn","btn-primary","float-right",3,"click"],[1,"fas","fa-check"],["data-test","orcidNotLinked"],[1,"col-2"],["alt","orcid-logo","src","../../../../assets/images/orcid.logo.icon.svg"],[3,"type"],[1,"btn","btn-primary","float-right",3,"click"],[1,"fas","fa-link"]],template:function(i,o){if(1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ht,1,0,"ng-container",1),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,St,20,20,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Pt,14,7,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&i){const u=e.\u0275\u0275reference(7),f=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"person.orcid.registry.auth")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,6,o.isLinkedToOrcid()))("ngIfThen",u)("ngIfElse",f)}},dependencies:[t.sg,t.O5,Se.w,t.Ov,z.X$]}),a})();var Tt=s(81576);function Mt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"option",24),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const i=d.$implicit;e.\u0275\u0275property("value",i.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,i.label))}}function Et(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"input",26),e.\u0275\u0275listener("ngModelChange",function(u){e.\u0275\u0275restoreView(i);const f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.currentSyncPublications=u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",27),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}if(2&a){const i=d.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","publicationOption_",i.value,""),e.\u0275\u0275property("ngModel",o.currentSyncPublications)("value",i.value),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("for","publicationOption_",i.value,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,i.label))}}function At(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"input",28),e.\u0275\u0275listener("ngModelChange",function(u){e.\u0275\u0275restoreView(i);const f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.currentSyncFunding=u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",27),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}if(2&a){const i=d.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","fundingOption_",i.value,""),e.\u0275\u0275property("ngModel",o.currentSyncFunding)("value",i.value),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("for","fundingOption_",i.value,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,i.label))}}function Bt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"input",29),e.\u0275\u0275listener("ngModelChange",function(u){const M=e.\u0275\u0275restoreView(i).$implicit;return e.\u0275\u0275resetView(M.checked=u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",27),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}if(2&a){const i=d.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("name","syncProfile_",i.value,"")("id","profileOption_",i.value,""),e.\u0275\u0275property("ngModel",i.checked)("value",i.value),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("for","profileOption_",i.value,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,i.label))}}let Xe=(()=>{class a{constructor(i,o,u){this.researcherProfileService=i,this.notificationsService=o,this.translateService=u,this.messagePrefix="person.page.orcid",this.settingsUpdated=new e.EventEmitter}ngOnInit(){this.syncModes=[{label:this.messagePrefix+".synchronization-mode.batch",value:"BATCH"},{label:this.messagePrefix+".synchronization-mode.manual",value:"MANUAL"}],this.syncPublicationOptions=["DISABLED","ALL"].map(o=>({label:this.messagePrefix+".sync-publications."+o.toLowerCase(),value:o})),this.syncFundingOptions=["DISABLED","ALL"].map(o=>({label:this.messagePrefix+".sync-fundings."+o.toLowerCase(),value:o}));const i=this.item.allMetadataValues("dspace.orcid.sync-profile");this.syncProfileOptions=["BIOGRAPHICAL","IDENTIFIERS"].map(o=>({label:this.messagePrefix+".sync-profile."+o.toLowerCase(),value:o,checked:i.includes(o)})),this.currentSyncMode=this.getCurrentPreference("dspace.orcid.sync-mode",["BATCH","MANUAL"],"MANUAL"),this.currentSyncPublications=this.getCurrentPreference("dspace.orcid.sync-publications",["DISABLED","ALL"],"DISABLED"),this.currentSyncFunding=this.getCurrentPreference("dspace.orcid.sync-fundings",["DISABLED","ALL"],"DISABLED")}onSubmit(i){const o=[];this.fillOperationsFor(o,"/orcid/mode",i.value.syncMode),this.fillOperationsFor(o,"/orcid/publications",i.value.syncPublications),this.fillOperationsFor(o,"/orcid/fundings",i.value.syncFundings);const u=this.syncProfileOptions.map(f=>f.value).filter(f=>i.value["syncProfile_"+f]).join(",");this.fillOperationsFor(o,"/orcid/profile",u),0!==o.length&&this.researcherProfileService.findByRelatedItem(this.item).pipe((0,w.hC)(),(0,U.w)(f=>f.hasSucceeded?this.researcherProfileService.patch(f.payload,o).pipe((0,w.hC)()):(0,K.of)(f))).subscribe(f=>{f.isSuccess?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".synchronization-settings-update.success")),this.settingsUpdated.emit()):this.notificationsService.error(this.translateService.get(this.messagePrefix+".synchronization-settings-update.error"))})}getCurrentPreference(i,o,u){const f=this.item.firstMetadataValue(i);return f&&o.includes(f)?f:u}fillOperationsFor(i,o,u){i.push({path:o,op:"replace",value:u})}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(Tt.E),e.\u0275\u0275directiveInject(te.T),e.\u0275\u0275directiveInject(z.sK))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-orcid-sync-setting"]],inputs:{item:"item"},outputs:{settingsUpdated:"settingsUpdated"},decls:70,vars:42,consts:[[1,"container","mb-5"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mb-3"],[1,"col-md"],["data-test","sync-mode",1,"card"],[1,"card-header"],[1,"card-body"],[1,"container"],[1,"row"],[3,"type"],[1,"form-group","row"],["for","syncMode"],["name","syncMode","id","syncMode","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md","mb-3"],["data-test","sync-mode-publication",1,"card","h-100"],[1,"form-group"],["class","row form-check",4,"ngFor","ngForOf"],["data-test","sync-mode-funding",1,"card","h-100"],["data-test","profile-preferences",1,"card","h-100"],[1,"col"],["type","submit",1,"btn","btn-primary","float-right"],[1,"fas","fa-edit"],[3,"value"],[1,"row","form-check"],["type","radio","name","syncPublications","required","",3,"ngModel","id","value","ngModelChange"],[1,"ml-2",3,"for"],["type","radio","name","syncFundings","required","",3,"ngModel","id","value","ngModelChange"],["type","checkbox",3,"ngModel","name","id","value","ngModelChange"]],template:function(i,o){if(1&i){const u=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"form",1,2),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(u);const M=e.\u0275\u0275reference(5);return e.\u0275\u0275resetView(o.onSubmit(M.form))}),e.\u0275\u0275elementStart(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",7)(13,"div",8)(14,"div",9)(15,"ds-alert",10),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",11)(19,"label",12),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"select",13),e.\u0275\u0275listener("ngModelChange",function(M){return o.currentSyncMode=M}),e.\u0275\u0275template(23,Mt,3,4,"option",14),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(24,"div",9)(25,"div",15)(26,"div",16)(27,"div",6),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",7)(31,"div",8)(32,"div",9)(33,"ds-alert",10),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(36,"div",17),e.\u0275\u0275template(37,Et,5,7,"div",18),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(38,"div",15)(39,"div",19)(40,"div",6),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",7)(44,"div",8)(45,"div",9)(46,"ds-alert",10),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(49,"div",17),e.\u0275\u0275template(50,At,5,7,"div",18),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(51,"div",15)(52,"div",20)(53,"div",6),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"div",7)(57,"div",8)(58,"div",9)(59,"ds-alert",10),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"div",17),e.\u0275\u0275template(63,Bt,5,8,"div",18),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(64,"div",9)(65,"div",21)(66,"button",22),e.\u0275\u0275element(67,"i",23),e.\u0275\u0275text(68),e.\u0275\u0275pipe(69,"translate"),e.\u0275\u0275elementEnd()()()()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,20,"person.orcid.sync.setting")),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,22,"person.page.orcid.synchronization-mode")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","alert-info"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,24,"person.page.orcid.synchronization-mode-message")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,26,"person.page.orcid.synchronization-mode.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.currentSyncMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.syncModes),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,28,"person.page.orcid.publications-preferences")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","alert-info"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(35,30,"person.page.orcid.synchronization-mode-publication-message")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.syncPublicationOptions),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,32,"person.page.orcid.funding-preferences")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","alert-info"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(48,34,"person.page.orcid.synchronization-mode-funding-message")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.syncFundingOptions),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(55,36,"person.page.orcid.profile-preferences")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","alert-info"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(61,38,"person.page.orcid.synchronization-mode-profile-message")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.syncProfileOptions),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(69,40,"person.page.orcid.save.preference.changes")," "))},dependencies:[t.sg,C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C._,C.JJ,C.JL,C.Q7,C.On,C.F,Se.w,z.X$]}),a})();var Ft=s(3358),kt=s(49887),Vt=s(27303),Nt=s(17842),Dt=s(65570),zt=s(81323),Lt=s(45180),Rt=s(60987),Ze=s(65706),Ut=s(78530);function Gt(a,d){1&a&&e.\u0275\u0275element(0,"ds-loading")}function Ht(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"ds-alert",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("type",i.AlertTypeEnum.Info),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"person.page.orcid.sync-queue.empty-message")," ")}}function jt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",10)(1,"td",11),e.\u0275\u0275element(2,"i",12),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td",8),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",13)(7,"div",14)(8,"button",15),e.\u0275\u0275listener("click",function(){const f=e.\u0275\u0275restoreView(i).$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.send(f))}),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275element(10,"span",16),e.\u0275\u0275elementStart(11,"span",17),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"button",18),e.\u0275\u0275listener("click",function(){const f=e.\u0275\u0275restoreView(i).$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.discardEntry(f))}),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275element(16,"span",19),e.\u0275\u0275elementStart(17,"span",17),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd()()()()()}if(2&a){const i=d.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",o.getIconClass(i))("ngbTooltip",e.\u0275\u0275pipeBind1(3,8,o.getIconTooltip(i))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.description," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngbTooltip",e.\u0275\u0275pipeBind1(9,10,o.getOperationTooltip(i))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",o.getOperationClass(i)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,12,o.getOperationTooltip(i))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbTooltip",e.\u0275\u0275pipeBind1(15,14,"person.page.orcid.sync-queue.discard")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,16,"person.page.orcid.sync-queue.discard"))}}function $t(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-pagination",5),e.\u0275\u0275listener("paginationChange",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.updateList())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"div",6)(3,"table",7)(4,"thead")(5,"tr",8)(6,"th"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"tbody"),e.\u0275\u0275template(16,jt,20,18,"tr",9),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd()()()()}if(2&a){const i=e.\u0275\u0275nextContext();let o,u;e.\u0275\u0275property("paginationOptions",i.paginationOptions)("collectionSize",null==(o=e.\u0275\u0275pipeBind1(1,8,i.getList()))||null==o.payload?null:o.payload.totalElements)("retainScrollPosition",!1)("hideGear",!0),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"person.page.orcid.sync-queue.table.header.type")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,12,"person.page.orcid.sync-queue.table.header.description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,14,"person.page.orcid.sync-queue.table.header.action")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",null==(u=e.\u0275\u0275pipeBind1(17,16,i.getList()))||null==u.payload?null:u.payload.page)}}let Qe=(()=>{class a{constructor(i,o,u,f,M,$){this.orcidAuthService=i,this.orcidQueueService=o,this.translateService=u,this.paginationService=f,this.notificationsService=M,this.orcidHistoryService=$,this.paginationOptions=Object.assign(new Lt.r,{id:"oqp",pageSize:5}),this.processing$=new Y.X(!1),this.list$=new Y.X({}),this.AlertTypeEnum=Rt.N,this.subs=[]}ngOnInit(){this.updateList()}ngOnChanges(i){!i.item.isFirstChange()&&i.item.currentValue!==i.item.previousValue&&this.updateList()}updateList(){this.subs.push(this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).pipe((0,Ft.b)(100),(0,kt.x)(),(0,Vt.b)(()=>this.processing$.next(!0)),(0,U.w)(i=>this.orcidQueueService.searchByProfileItemId(this.item.id,i,!1)),(0,w.hC)()).subscribe(i=>{this.processing$.next(!1),this.list$.next(i),this.orcidQueueService.clearFindByProfileItemRequests()}))}getList(){return this.list$.asObservable()}getIconClass(i){if(!i.recordType)return"fa fa-user";switch(i.recordType.toLowerCase()){case"publication":return"fas fa-book";case"project":return"fas fa-wallet";case"education":return"fas fa-school";case"affiliation":return"fas fa-university";case"country":return"fas fa-globe-europe";case"external_ids":case"researcher_urls":return"fas fa-external-link-alt";default:return"fa fa-user"}}getIconTooltip(i){return i.recordType?"person.page.orcid.sync-queue.tooltip."+i.recordType.toLowerCase():""}getOperationTooltip(i){return i.operation?"person.page.orcid.sync-queue.tooltip."+i.operation.toLowerCase():""}getOperationClass(i){if(!i.operation)return"";switch(i.operation.toLowerCase()){case"insert":return"fas fa-plus";case"update":return"fas fa-edit";case"delete":return"fas fa-trash-alt";default:return""}}discardEntry(i){this.processing$.next(!0),this.subs.push(this.orcidQueueService.deleteById(i.id).pipe((0,w.hC)()).subscribe(o=>{this.processing$.next(!1),o.isSuccess?(this.notificationsService.success(this.translateService.get("person.page.orcid.sync-queue.discard.success")),this.updateList()):this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.discard.error"))}))}send(i){this.processing$.next(!0),this.subs.push(this.orcidHistoryService.sendToORCID(i).pipe((0,w.hC)()).subscribe(o=>{this.processing$.next(!1),o.isSuccess?this.handleOrcidHistoryRecordCreation(o.payload):422===o.statusCode?this.handleValidationErrors(o):this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.error"))}))}getUnauthorizedErrorContent(){return this.orcidAuthService.getOrcidAuthorizeUrl(this.item).pipe((0,U.w)(i=>this.translateService.get("person.page.orcid.sync-queue.send.unauthorized-error.content",{orcid:i})))}handleOrcidHistoryRecordCreation(i){switch(i.status){case 200:case 201:case 204:this.notificationsService.success(this.translateService.get("person.page.orcid.sync-queue.send.success")),this.updateList();break;case 400:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.bad-request-error"),null,{timeOut:0});break;case 401:(0,l.a)([this.translateService.get("person.page.orcid.sync-queue.send.unauthorized-error.title"),this.getUnauthorizedErrorContent()]).subscribe(([o,u])=>{this.notificationsService.error(o,u,{timeOut:0},!0)});break;case 404:this.notificationsService.warning(this.translateService.get("person.page.orcid.sync-queue.send.not-found-warning"));break;case 409:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.conflict-error"),null,{timeOut:0});break;default:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.error"),null,{timeOut:0})}}handleValidationErrors(i){const o=[this.translateService.get("person.page.orcid.sync-queue.send.validation-error")],u=i.errorMessage;u&&u.indexOf("Error codes:")>0&&u.substring(u.indexOf(":")+1).trim().split(",").forEach(f=>o.push(this.translateService.get("person.page.orcid.sync-queue.send.validation-error."+f))),(0,l.a)(o).subscribe(f=>{const M=f.shift(),$="<ul>"+f.map(ne=>`<li>${ne}</li>`).join("")+"</ul>";this.notificationsService.error(M,$,{timeOut:0},!0)})}ngOnDestroy(){this.list$=null,this.subs.filter(i=>(0,G.Uh)(i)).forEach(i=>i.unsubscribe())}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(Be.m),e.\u0275\u0275directiveInject(Dt.I),e.\u0275\u0275directiveInject(z.sK),e.\u0275\u0275directiveInject(zt.N),e.\u0275\u0275directiveInject(te.T),e.\u0275\u0275directiveInject(Nt.p))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-orcid-queue"]],inputs:{item:"item"},features:[e.\u0275\u0275NgOnChangesFeature],decls:13,vars:16,consts:[[4,"ngIf"],[1,"container"],[3,"type",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear","paginationChange",4,"ngIf"],[3,"type"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear","paginationChange"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center","align-middle"],["data-test","orcidQueueElementRow",4,"ngFor","ngForOf"],["data-test","orcidQueueElementRow"],[1,"text-center","align-middle",2,"width","15%"],["aria-hidden","true",1,"fa-2x",3,"ngClass","ngbTooltip"],[1,"text-center",2,"width","20%"],[1,"btn-group","edit-field"],["container","body",1,"btn","btn-outline-primary","my-1","col-md",3,"ngbTooltip","click"],[3,"ngClass"],[1,"sr-only"],["container","body",1,"btn","btn-outline-danger","my-1","col-md",3,"ngbTooltip","click"],[1,"fas","fa-unlink"]],template:function(i,o){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Gt,1,0,"ds-loading",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",1)(4,"h2"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Ht,3,4,"ds-alert",2),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,$t,18,18,"ds-pagination",3),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()()),2&i){let u,f;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,4,o.processing$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,6,"person.orcid.registry.queue")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(8,8,o.processing$)&&0==(null==(u=e.\u0275\u0275pipeBind1(9,10,o.getList()))||null==u.payload?null:u.payload.totalElements)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(11,12,o.processing$)&&(null==(f=e.\u0275\u0275pipeBind1(12,14,o.getList()))||null==f.payload?null:f.payload.totalElements)>0)}},dependencies:[t.mk,t.sg,t.O5,Ze._L,Se.w,Ke.LoadingComponent,Ut.Q,t.Ov,z.X$]}),a})();function Kt(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",6)(3,"a",7),e.\u0275\u0275element(4,"i",8),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",i.getItemPage()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,2,"item.orcid.return")," ")}}function Wt(a,d){1&a&&(e.\u0275\u0275element(0,"ds-loading",9),e.\u0275\u0275pipe(1,"translate")),2&a&&e.\u0275\u0275property("message",e.\u0275\u0275pipeBind1(1,1,"person.page.orcid.link.processing"))}function Xt(a,d){1&a&&(e.\u0275\u0275elementStart(0,"div",10)(1,"ds-alert",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("type","alert-danger"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"person.page.orcid.link.error.message")))}function Zt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-orcid-sync-setting",15),e.\u0275\u0275listener("settingsUpdated",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.updateItem())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("item",e.\u0275\u0275pipeBind1(1,1,i.item))}}function Qt(a,d){if(1&a&&(e.\u0275\u0275element(0,"ds-orcid-queue",16),e.\u0275\u0275pipe(1,"async")),2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("item",e.\u0275\u0275pipeBind1(1,1,i.item))}}function Yt(a,d){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ds-orcid-auth",12),e.\u0275\u0275listener("unlink",function(){e.\u0275\u0275restoreView(i);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.updateItem())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Zt,2,3,"ds-orcid-sync-setting",13),e.\u0275\u0275template(4,Qt,2,3,"ds-orcid-queue",14),e.\u0275\u0275elementContainerEnd()}if(2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",e.\u0275\u0275pipeBind1(2,3,i.item)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.isLinkedToOrcid()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isLinkedToOrcid())}}let Ye=(()=>{class a{constructor(i,o,u,f,M,$){this.platformId=i,this.authService=o,this.itemService=u,this.orcidAuthService=f,this.route=M,this.router=$,this.connectionStatus=new Y.X(!1),this.item=new Y.X(null),this.processingConnection=new Y.X(!0)}ngOnInit(){if((0,t.NF)(this.platformId)){const i=this.route.queryParamMap.pipe((0,Q.q)(1),(0,k.U)(u=>u.get("code"))),o=this.route.data.pipe((0,k.U)(u=>u.dso),(0,_e.Gh)(this.router,this.authService),(0,w.Gp)());(0,l.a)([i,o]).subscribe(([u,f])=>{this.itemId=f.id,(0,G.UE)(u)?this.linkProfileToOrcid(f,u):(this.item.next(f),this.processingConnection.next(!1),this.connectionStatus.next(!0))})}}isLinkedToOrcid(){return this.orcidAuthService.isLinkedToOrcid(this.item.value)}getItemPage(){return(0,D.Tt)(this.item.value)}updateItem(){this.clearRouteParams(),this.itemService.findById(this.itemId,!1).pipe((0,w.hC)()).subscribe(i=>{i.hasSucceeded&&this.item.next(i.payload)})}linkProfileToOrcid(i,o){this.orcidAuthService.linkOrcidByItem(i,o).pipe((0,w.hC)()).subscribe(u=>{this.processingConnection.next(!1),u.hasSucceeded?(this.connectionStatus.next(!0),this.updateItem()):(this.item.next(i),this.connectionStatus.next(!1),this.clearRouteParams())})}clearRouteParams(){const i=this.router.url.split("?")[0];this.router.navigate([i])}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(e.PLATFORM_ID),e.\u0275\u0275directiveInject(ee.e8),e.\u0275\u0275directiveInject(b.S),e.\u0275\u0275directiveInject(Be.m),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-orcid-page"]],decls:12,vars:20,consts:[["class","container",4,"ngIf"],[3,"message",4,"ngIf"],["class","container","data-test","error-box",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"button-row","bottom","mb-3"],[1,"text-right"],["role","button","data-test","back-button",1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"],[3,"message"],["data-test","error-box",1,"container"],[3,"type"],["data-test","orcid-auth",3,"item","unlink"],["data-test","orcid-sync-setting",3,"item","settingsUpdated",4,"ngIf"],[3,"item",4,"ngIf"],["data-test","orcid-sync-setting",3,"item","settingsUpdated"],[3,"item"]],template:function(i,o){1&i&&(e.\u0275\u0275template(0,Kt,7,4,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Wt,2,3,"ds-loading",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Xt,4,4,"div",2),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Yt,5,5,"ng-container",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async")),2&i&&(e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(1,4,o.processingConnection)&&e.\u0275\u0275pipeBind1(2,6,o.item)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,8,o.processingConnection)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,10,o.processingConnection)&&!e.\u0275\u0275pipeBind1(7,12,o.connectionStatus)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,14,o.processingConnection)&&e.\u0275\u0275pipeBind1(10,16,o.item)&&e.\u0275\u0275pipeBind1(11,18,o.connectionStatus)))},dependencies:[t.O5,p.rH,Se.w,Ke.LoadingComponent,We,Xe,Qe,t.Ov,z.X$]}),a})();var Jt=s(66377);let Je=(()=>{class a extends Jt.h{constructor(i,o,u,f){super(i,o,u,f),this.resolver=i,this.authorizationService=o,this.router=u,this.authService=f}getFeatureID(i,o){return(0,K.of)(c.i.CanSynchronizeWithORCID)}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275inject(P.o),e.\u0275\u0275inject(Ae._),e.\u0275\u0275inject(p.F0),e.\u0275\u0275inject(ee.e8))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var qt=s(28252);let en=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({providers:[P.o,X,T.B,N.M,Z.F,F,Je],imports:[p.Bz.forChild([{path:":id",resolve:{dso:P.o,breadcrumb:X,menu:qt.M},runGuardsAndResolvers:"always",children:[{path:"",component:ve,pathMatch:"full"},{path:"full",component:ye.B},{path:D.lA,loadChildren:()=>Promise.resolve().then(s.bind(s,76873)).then(d=>d.EditItemPageModule)},{path:D.UZ,component:ge,canActivate:[y.J]},{path:x.mG,component:$e},{path:D.fL,component:Ye,canActivate:[y.J,Je]}],data:{menu:{public:[{id:"statistics_item_:id",active:!0,visible:!0,index:2,model:{type:Ee.U.LINK,text:"menu.section.statistics",link:"statistics/items/:id/"}}]}}},{path:"version",children:[{path:":id",component:Ie,resolve:{dso:F}}]}])]}),a})();var Pe=s(6520),Fe=s(52153);function tn(a,d){if(1&a&&e.\u0275\u0275element(0,"span",4),2&a){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("innerHTML",i.separator,e.\u0275\u0275sanitizeHtml)}}function nn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"a",2),e.\u0275\u0275text(1),e.\u0275\u0275template(2,tn,1,1,"span",3),e.\u0275\u0275elementEnd()),2&a){const i=d.$implicit,o=d.last,u=e.\u0275\u0275nextContext();e.\u0275\u0275property("href",i.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",u.linktext||i.value,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o)}}let qe=(()=>{class a extends Pe.R{}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"ds-metadata-field-wrapper",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275template(2,nn,3,3,"a",1),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(1,2,o.label)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.mdValues))},dependencies:[t.sg,t.O5,Fe.n,z.X$]}),a})();var xe=s(36905);let ke=(()=>{class a extends xe.E{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:8,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"ds-metadata-values",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("mdValues",null==o.item?null:o.item.allMetadata(o.fields))("separator",o.separator)("label",o.label)("enableMarkdown",o.enableMarkdown)("urlRegex",o.urlRegex)("browseDefinition",e.\u0275\u0275pipeBind1(2,6,o.browseDefinition)))},dependencies:[Pe.R,t.Ov],encapsulation:2}),a})(),Ve=(()=>{class a extends xe.E{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:8,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"ds-metadata-values",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("mdValues",null==o.item?null:o.item.allMetadata(o.fields))("separator",o.separator)("label",o.label)("enableMarkdown",o.enableMarkdown)("urlRegex",o.urlRegex)("browseDefinition",e.\u0275\u0275pipeBind1(2,6,o.browseDefinition)))},dependencies:[Pe.R,t.Ov],encapsulation:2}),a})(),Ne=(()=>{class a extends xe.E{}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"ds-metadata-uri-values",1),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("mdValues",null==o.item?null:o.item.allMetadata(o.fields))("separator",o.separator)("label",o.label))},dependencies:[qe],encapsulation:2}),a})();var De=s(1813),et=(s(29255),s(24136),s(70655)),tt=s(41529),nt=s(23539),ze=s(39347),it=s(18639),rt=s(33994),at=s(44956),ot=s(16708),sn=s(47897),st=s(70643),lt=s(56080);function ln(a,d){}const cn=["*"];let Le=(()=>{class a extends pe.F{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(i){return s(80160)(`./${i}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(s.bind(s,24296))}}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-themed-item-page-file-section"]],inputs:{item:"item"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:cn,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(i,o){1&i&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,ln,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",null,1),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd())},encapsulation:2}),a})();function pn(a,d){}const mn=["*"];let Re=(()=>{class a extends pe.F{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(i){return s(47012)(`./${i}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(s.bind(s,21495))}}return a.\u0275fac=function(){let d;return function(o){return(d||(d=e.\u0275\u0275getInheritedFactory(a)))(o||a)}}(),a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-themed-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:mn,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(i,o){1&i&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,pn,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",null,1),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd())},encapsulation:2}),a})();var dn=s(69637),un=s(77224);let ct=(()=>{class a{constructor(){this.LINKS_TO_FOLLOW=[(0,S.l)("format")]}showEmbeddedViewer(){return!(0,e.isDevMode)()}getImageCount(i,o,u){let f=0;return u.findAllByItem(i).pipe((0,w.hC)(),(0,k.U)(M=>M.payload),(0,k.U)(M=>M.page),(0,U.w)(M=>M),(0,be.h)(M=>this.isIiifBundle(M.name)),(0,dn.z)(M=>o.findAllByItemAndBundleName(i,M.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,w.hC)(),(0,k.U)($=>$.payload),(0,k.U)($=>$.page),(0,U.w)($=>$),(0,U.w)($=>$.format.pipe((0,w.hC)(),(0,k.U)(ne=>ne.payload),(0,k.U)(ne=>(ne.mimetype.includes("image")&&f++,f)))))),(0,un.Z)())}isIiifBundle(i){return!("OtherContent"===i||"LICENSE"===i||"THUMBNAIL"===i||"TEXT"===i||"METADATA"===i||"CC-LICENSE"===i||"BRANDED_PREVIEW"===i)}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var Ue=s(79849),gn=s(91823);function hn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"p",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(i.viewerMessage)}}function fn(a,d){if(1&a&&(e.\u0275\u0275element(0,"iframe",4),e.\u0275\u0275pipe(1,"async")),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,1,i.iframeViewerUrl),e.\u0275\u0275sanitizeResourceUrl)}}let Ge=(()=>{class a{constructor(i,o,u,f,M,$){this.sanitizer=i,this.viewerService=o,this.bitstreamDataService=u,this.bundleDataService=f,this.hostWindowService=M,this.platformId=$,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const i=encodeURIComponent(_.N.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let o=`${_.N.ui.nameSpace}${_.N.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${i}`;return this.searchable&&(o+="&searchable="+this.searchable),this.query&&(o+="&query="+this.query),this.multi&&(o+="&multi="+this.multi),this.notMobile&&(o+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(o)}ngOnInit(){if((0,t.NF)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,Q.q)(1)).subscribe(i=>{this.notMobile=!(i===Ue.o.XS||i===Ue.o.SM)}),this.searchable){this.multi=!0;const i=(0,K.of)("");this.iframeViewerUrl=i.pipe((0,k.U)(o=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,k.U)(i=>(i>1&&(this.multi=!0),this.setURL())))}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(gn.H7),e.\u0275\u0275directiveInject(ct),e.\u0275\u0275directiveInject(m.J),e.\u0275\u0275directiveInject(re.b),e.\u0275\u0275directiveInject(Ue.I),e.\u0275\u0275directiveInject(e.PLATFORM_ID))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},features:[e.\u0275\u0275ProvidersFeature([ct])],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"p",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,hn,2,1,"p",1),e.\u0275\u0275template(4,fn,2,3,"iframe",2)),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,3,"iiifviewer.fullscreen.notice")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isViewerAvailable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isViewerAvailable))},dependencies:[t.O5,t.Ov,z.X$],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0}),a})();var ae;function vn(a,d){if(1&a&&e.\u0275\u0275element(0,"ds-themed-results-back-button",16),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("back",i.back)}}function yn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",17),e.\u0275\u0275element(2,"ds-mirador-viewer",18),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("object",i.object)("searchable",i.iiifSearchEnabled)("query",e.\u0275\u0275pipeBind1(3,3,i.iiifQuery$))}}function _n(a,d){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ds-metadata-field-wrapper",19),e.\u0275\u0275element(2,"ds-themed-thumbnail",20),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hideIfNoTextContent",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("thumbnail",e.\u0275\u0275pipeBind1(3,2,null==i.object?null:i.object.thumbnail))}}function xn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275element(1,"ds-themed-media-viewer",8),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)}}const Cn=function(){return["dc.contributor.author","dc.creator"]},wn=function(){return["journal.title"]},In=function(){return["journal.identifier.issn"]},bn=function(){return["journalvolume.identifier.name"]},On=function(){return["dc.publisher"]},Sn=function(){return["dc.description"]},Pn=function(){return["dc.subject"]},Tn=function(){return["dc.identifier.citation"]},Mn=function(){return["dc.identifier.uri"]},En=function(a){return[a]};let Te=((ae=class extends ze.P{}).\u0275fac=function(){let a;return function(i){return(a||(a=e.\u0275\u0275getInheritedFactory(ae)))(i||ae)}}(),ae.\u0275cmp=e.\u0275\u0275defineComponent({type:ae,selectors:[["ds-publication"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:36,vars:72,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(d,i){1&d&&(e.\u0275\u0275template(0,vn,1,1,"ds-themed-results-back-button",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,yn,4,5,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"ds-themed-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275template(8,_n,4,4,"ng-container",6),e.\u0275\u0275template(9,xn,2,1,"div",7),e.\u0275\u0275element(10,"ds-themed-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-themed-metadata-representation-list",9),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275element(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",11),e.\u0275\u0275element(19,"ds-related-items",12),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275element(21,"ds-related-items",12),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275element(23,"ds-related-items",12),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275element(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8),e.\u0275\u0275elementStart(31,"div")(32,"a",14),e.\u0275\u0275element(33,"i",15),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd()()()()),2&d&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,49,i.showBackButton)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.iiifEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!(i.mediaViewer.image||i.mediaViewer.video)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.mediaViewer.image||i.mediaViewer.video),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("parentItem",i.object)("itemType","Person")("metadataFields",e.\u0275\u0275pureFunction0(61,Cn))("label",e.\u0275\u0275pipeBind1(13,51,"relationships.isAuthorOf")),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(62,wn))("label","publication.page.journal-title"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(63,In))("label","publication.page.journal-issn"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(64,bn))("label","publication.page.volume-title"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(65,On))("label","publication.page.publisher"),e.\u0275\u0275advance(2),e.\u0275\u0275property("parentItem",i.object)("relationType","isProjectOfPublication")("label",e.\u0275\u0275pipeBind1(20,53,"relationships.isProjectOf")),e.\u0275\u0275advance(2),e.\u0275\u0275property("parentItem",i.object)("relationType","isOrgUnitOfPublication")("label",e.\u0275\u0275pipeBind1(22,55,"relationships.isOrgUnitOf")),e.\u0275\u0275advance(2),e.\u0275\u0275property("parentItem",i.object)("relationType","isJournalIssueOfPublication")("label",e.\u0275\u0275pipeBind1(24,57,"relationships.isJournalIssueOf")),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(66,Sn))("label","publication.page.description"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(67,Pn))("separator",", ")("label","item.page.subject"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(68,Tn))("label","item.page.citation"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(69,Mn))("label","item.page.uri"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(70,En,i.itemPageRoute+"/full")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(35,59,"item.page.link.full")," "))},dependencies:[t.O5,p.rH,it.z,Fe.n,rt.i,at.w,ot.t,sn.e,st.i,lt.g,Le,ke,Ve,Ne,De.U,Re,Ge,t.Ov,z.X$],changeDetection:0}),ae);Te=(0,et.__decorate)([(0,nt.d$)("Publication",tt.w.StandalonePage)],Te);var oe,An=s(76873),Bn=s(20357);function kn(a,d){if(1&a&&e.\u0275\u0275element(0,"ds-themed-results-back-button",15),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("back",i.back)}}function Vn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",4)(1,"div",16),e.\u0275\u0275element(2,"ds-mirador-viewer",17),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("object",i.object)("searchable",i.iiifSearchEnabled)("query",e.\u0275\u0275pipeBind1(3,3,i.iiifQuery$))}}function Nn(a,d){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ds-metadata-field-wrapper",18),e.\u0275\u0275element(2,"ds-themed-thumbnail",19),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hideIfNoTextContent",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("thumbnail",e.\u0275\u0275pipeBind1(3,2,null==i.object?null:i.object.thumbnail))}}function Dn(a,d){if(1&a&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275element(1,"ds-themed-media-viewer",8),e.\u0275\u0275elementEnd()),2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)}}s(40952);const zn=function(){return["dc.contributor.author","dc.creator"]},Ln=function(){return["journal.title"]},Rn=function(){return["journal.identifier.issn"]},Un=function(){return["journalvolume.identifier.name"]},Gn=function(){return["dc.publisher"]},Hn=function(){return["dc.description"]},jn=function(){return["dc.subject"]},$n=function(){return["dc.identifier.citation"]},Kn=function(){return["dc.identifier.uri"]},Wn=function(a){return[a]};let Me=((oe=class extends ze.P{}).\u0275fac=function(){let a;return function(i){return(a||(a=e.\u0275\u0275getInheritedFactory(oe)))(i||oe)}}(),oe.\u0275cmp=e.\u0275\u0275defineComponent({type:oe,selectors:[["ds-untyped-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:30,vars:57,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(d,i){1&d&&(e.\u0275\u0275template(0,kn,1,1,"ds-themed-results-back-button",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Vn,4,5,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"ds-themed-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275template(8,Nn,4,4,"ng-container",6),e.\u0275\u0275template(9,Dn,2,1,"div",7),e.\u0275\u0275element(10,"ds-themed-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-themed-metadata-representation-list",9),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275element(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",11),e.\u0275\u0275element(19,"ds-item-page-abstract-field",8)(20,"ds-generic-item-page-field",10)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",10)(23,"ds-item-page-uri-field",10)(24,"ds-item-page-collections",8),e.\u0275\u0275elementStart(25,"div")(26,"a",13),e.\u0275\u0275element(27,"i",14),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275elementEnd()()()()),2&d&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,40,i.showBackButton)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.iiifEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!(i.mediaViewer.image||i.mediaViewer.video)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.mediaViewer.image||i.mediaViewer.video),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("parentItem",i.object)("itemType","Person")("metadataFields",e.\u0275\u0275pureFunction0(46,zn))("label",e.\u0275\u0275pipeBind1(13,42,"relationships.isAuthorOf")),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(47,Ln))("label","item.page.journal-title"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(48,Rn))("label","item.page.journal-issn"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(49,Un))("label","item.page.volume-title"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(50,Gn))("label","item.page.publisher"),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(51,Hn))("label","item.page.description"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(52,jn))("separator",", ")("label","item.page.subject"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(53,$n))("label","item.page.citation"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object)("fields",e.\u0275\u0275pureFunction0(54,Kn))("label","item.page.uri"),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",i.object),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(55,Wn,i.itemPageRoute+"/full")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,44,"item.page.link.full")," "))},dependencies:[t.O5,p.rH,it.z,Fe.n,rt.i,at.w,ot.t,st.i,lt.g,Le,ke,Ve,Ne,De.U,Re,Ge,t.Ov,z.X$],changeDetection:0}),oe);Me=(0,et.__decorate)([(0,nt.d$)(gt.c,tt.w.StandalonePage)],Me);var Xn=s(40472),Zn=s(76844),ti=(s(21495),s(11707),s(20196),s(99984),s(22241),s(21890)),ni=s(89716),ii=s(76814),ai=(s(15506),s(18345)),si=(s(24296),s(4379)),li=s(12446);s(67862),s(8525);const mi=[Te,Me];let di=(()=>{class a{static withEntryComponents(){return{ngModule:a,providers:mi.map(i=>({provide:i}))}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.ez,h.m.withEntryComponents(),en,An.EditItemPageModule,ai.N,si.e,Bn.p.forRoot(),Xn.x.withEntryComponents(),Zn.a.withEntryComponents(),ti.ji,Ze.Gs,ii.I,ni.c,li.H]}),a})()},99984:(R,A,s)=>{"use strict";s.r(A),s.d(A,{MediaViewerImageComponent:()=>P});var t=s(21890),h=s(38123),g=s(98678),p=s(35103);let P=(()=>{class y{constructor(b){this.authService=b,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.zw.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(b){const V=[];for(const j of b)"image"===j.format&&V.push({small:j.thumbnail?j.thumbnail:this.thumbnailPlaceholder,medium:j.thumbnail?j.thumbnail:this.thumbnailPlaceholder,big:j.bitstream._links.content.href});return V}}return y.\u0275fac=function(b){return new(b||y)(g.\u0275\u0275directiveInject(h.e8))},y.\u0275cmp=g.\u0275\u0275defineComponent({type:y,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},features:[g.\u0275\u0275NgOnChangesFeature],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(b,V){1&b&&(g.\u0275\u0275elementStart(0,"div"),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275element(2,"ngx-gallery",0),g.\u0275\u0275elementEnd()),2&b&&(g.\u0275\u0275classProp("change-gallery",g.\u0275\u0275pipeBind1(1,4,V.isAuthenticated$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("options",V.galleryOptions)("images",V.galleryImages))},dependencies:[t.g$,p.Ov],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']}),y})()},22241:(R,A,s)=>{"use strict";s.d(A,{_:()=>P});var t=s(4682),h=s(98678);function g(y,T){}const p=["*"];let P=(()=>{class y extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(b){return s(98563)(`./${b}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(s.bind(s,99984))}}return y.\u0275fac=function(){let T;return function(V){return(T||(T=h.\u0275\u0275getInheritedFactory(y)))(V||y)}}(),y.\u0275cmp=h.\u0275\u0275defineComponent({type:y,selectors:[["ds-themed-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},features:[h.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,V){1&b&&(h.\u0275\u0275projectionDef(),h.\u0275\u0275template(0,g,0,0,"ng-template",null,0,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementStart(2,"div",null,1),h.\u0275\u0275projection(4),h.\u0275\u0275elementEnd())},encapsulation:2}),y})()},11707:(R,A,s)=>{"use strict";s.r(A),s.d(A,{MediaViewerVideoComponent:()=>X});var t=s(8842);const h={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};class g{constructor(w,I,E){this.src=w,this.srclang=I,this.langLabel=E}}var p=s(98678),P=s(35103),y=s(65706),T=s(96342);function b(S,w){if(1&S&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275element(1,"track",4),p.\u0275\u0275elementContainerEnd()),2&S){const I=w.$implicit;p.\u0275\u0275advance(1),p.\u0275\u0275property("src",I.src,p.\u0275\u0275sanitizeUrl)("label",I.langLabel)("srclang",I.srclang)}}function V(S,w){if(1&S&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275template(1,b,2,3,"ng-container",3),p.\u0275\u0275elementContainerEnd()),2&S){const I=w.ngIf;p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",I)}}function j(S,w){if(1&S){const I=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"button",12),p.\u0275\u0275listener("click",function(){const J=p.\u0275\u0275restoreView(I).index,F=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(F.selectedMedia(J))}),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()}if(2&S){const I=w.$implicit,E=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",E.dsoNameService.getName(I.bitstream)," ")}}function e(S,w){if(1&S){const I=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",5)(1,"button",6),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(I);const H=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(H.prevMedia())}),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"button",7),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(I);const H=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(H.nextMedia())}),p.\u0275\u0275text(5),p.\u0275\u0275pipe(6,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(7,"div",8)(8,"button",9),p.\u0275\u0275text(9),p.\u0275\u0275pipe(10,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"div",10),p.\u0275\u0275template(12,j,2,1,"button",11),p.\u0275\u0275elementEnd()()()}if(2&S){const I=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("disabled",0===I.currentIndex),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(3,6,"media-viewer.previous")," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("disabled",I.currentIndex===I.medias.length-1),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(6,8,"media-viewer.next")," "),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(10,10,"media-viewer.playlist")," "),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngForOf",I.medias)}}let X=(()=>{class S{constructor(I){this.dsoNameService=I,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(I,E){const H=[],J=E.filter(F=>F.name.substring(0,F.name.length-7).toLowerCase()===I.toLowerCase());for(const F of J){let N=F.name.slice(-6,-4).toLowerCase();H.push(new g(F._links.content.href,N,h[N]))}return H}selectedMedia(I){this.currentIndex=I}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}}return S.\u0275fac=function(I){return new(I||S)(p.\u0275\u0275directiveInject(t._))},S.\u0275cmp=p.\u0275\u0275defineComponent({type:S,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"disabled","click"],[1,"btn","btn-primary","next",3,"disabled","click"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(I,E){1&I&&(p.\u0275\u0275elementStart(0,"video",0),p.\u0275\u0275template(1,V,2,1,"ng-container",1),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(2,e,13,12,"div",2)),2&I&&(p.\u0275\u0275property("src",E.medias[E.currentIndex].bitstream._links.content.href,p.\u0275\u0275sanitizeUrl)("poster",E.medias[E.currentIndex].thumbnail||E.replacements[E.medias[E.currentIndex].format],p.\u0275\u0275sanitizeUrl),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",E.getMediaCap(E.medias[E.currentIndex].bitstream.name,E.captions)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",(null==E.medias?null:E.medias.length)>1))},dependencies:[P.sg,P.O5,y.jt,y.iD,y.Vi,y.TH,T.X$],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]}),S})()},20196:(R,A,s)=>{"use strict";s.d(A,{Z:()=>P});var t=s(4682),h=s(98678);function g(y,T){}const p=["*"];let P=(()=>{class y extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(b){return s(94757)(`./${b}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(s.bind(s,11707))}}return y.\u0275fac=function(){let T;return function(V){return(T||(T=h.\u0275\u0275getInheritedFactory(y)))(V||y)}}(),y.\u0275cmp=h.\u0275\u0275defineComponent({type:y,selectors:[["ds-themed-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},features:[h.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,V){1&b&&(h.\u0275\u0275projectionDef(),h.\u0275\u0275template(0,g,0,0,"ng-template",null,0,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementStart(2,"div",null,1),h.\u0275\u0275projection(4),h.\u0275\u0275elementEnd())},encapsulation:2}),y})()},21495:(R,A,s)=>{"use strict";s.r(A),s.d(A,{MediaViewerComponent:()=>me});var t=s(35841),h=s(77007),g=s(77176),p=s(39034);s(13005);class y{}var T=s(10572),b=s(45608),V=s(46533),j=s(76774),e=s(98678),X=s(35103),S=s(87657),w=s(56790),I=s(41966),E=s(20196),H=s(22241),J=s(96342);function F(x,D){1&x&&(e.\u0275\u0275element(0,"ds-themed-loading",4),e.\u0275\u0275pipe(1,"translate")),2&x&&(e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,2,"loading.default")),e.\u0275\u0275property("showMessage",!1))}function N(x,D){if(1&x&&(e.\u0275\u0275element(0,"ds-themed-media-viewer-video",9),e.\u0275\u0275pipe(1,"async")),2&x){const _=e.\u0275\u0275nextContext(5).ngVar,O=e.\u0275\u0275nextContext();e.\u0275\u0275property("medias",_)("captions",e.\u0275\u0275pipeBind1(1,2,O.captions$))}}function K(x,D){if(1&x&&e.\u0275\u0275element(0,"ds-themed-media-viewer-image",10),2&x){const _=e.\u0275\u0275nextContext(5).ngVar;e.\u0275\u0275property("images",_)}}function k(x,D){1&x&&e.\u0275\u0275elementContainer(0)}function U(x,D){if(1&x&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,N,2,4,"ds-themed-media-viewer-video",7),e.\u0275\u0275template(2,K,1,1,"ds-themed-media-viewer-image",8),e.\u0275\u0275template(3,k,1,0,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&x){const _=D.ngVar,O=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275nextContext(3);const z=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",O),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_||O)("ngIfElse",z)}}function Q(x,D){if(1&x&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,U,4,4,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&x){const _=e.\u0275\u0275nextContext(3).ngVar,O=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",O.mediaOptions.image&&"image"===(null==_[0]?null:_[0].format))}}const ie=function(){return["audio","video"]};function G(x,D){if(1&x&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Q,2,1,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&x){const _=e.\u0275\u0275nextContext(2).ngVar,O=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",O.mediaOptions.video&&e.\u0275\u0275pureFunction0(1,ie).includes(null==_[0]?null:_[0].format))}}function ee(x,D){if(1&x&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,G,2,2,"ng-container",6),e.\u0275\u0275elementEnd()),2&x){const _=e.\u0275\u0275nextContext().ngVar,O=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_.length>0)("ngIfElse",O)}}function te(x,D){if(1&x&&(e.\u0275\u0275element(0,"ds-themed-media-viewer-image",13),e.\u0275\u0275pipe(1,"async")),2&x){const _=e.\u0275\u0275nextContext(3);let O;e.\u0275\u0275property("image",(null==(O=e.\u0275\u0275pipeBind1(1,2,_.thumbnailsRD$))||null==O.payload||null==O.payload.page[0]?null:O.payload.page[0]._links.content.href)||_.thumbnailPlaceholder)("preview",!1)}}function se(x,D){if(1&x&&(e.\u0275\u0275element(0,"ds-thumbnail",14),e.\u0275\u0275pipe(1,"async")),2&x){const _=e.\u0275\u0275nextContext(3);let O;e.\u0275\u0275property("thumbnail",null==(O=e.\u0275\u0275pipeBind1(1,1,_.thumbnailsRD$))||null==O.payload?null:O.payload.page[0])}}function re(x,D){if(1&x&&(e.\u0275\u0275template(0,te,2,4,"ds-themed-media-viewer-image",11),e.\u0275\u0275template(1,se,2,3,"ds-thumbnail",12)),2&x){const _=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",_.mediaOptions.image&&_.mediaOptions.video),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(_.mediaOptions.image&&_.mediaOptions.video))}}function le(x,D){if(1&x&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,F,2,4,"ds-themed-loading",1),e.\u0275\u0275template(2,ee,2,2,"div",2),e.\u0275\u0275template(3,re,2,2,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&x){const _=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!_.isLoading)}}let me=(()=>{class x{constructor(_){this.bitstreamDataService=_,this.mediaOptions=j.N.mediaViewer,this.mediaList$=new t.X([]),this.captions$=new t.X([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(_=>_.unsubscribe())}ngOnInit(){const _=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(O=>{0===O.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(z=>{for(let C=0;C<O.payload.page.length;C++)this.subs.push(O.payload.page[C].format.pipe((0,T.Gp)()).subscribe(ce=>{const q=this.createMediaViewerItem(O.payload.page[C],ce,z.payload&&z.payload.page[C]);_.includes(q.format)?this.mediaList$.next([...this.mediaList$.getValue(),q]):"text/vtt"===ce.mimetype&&this.captions$.next([...this.captions$.getValue(),O.payload.page[C]])}));this.isLoading=!1}))}))}loadRemoteData(_){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,_,{},!0,!0,(0,V.l)("format")).pipe((0,h.h)(O=>(0,b.Uh)(O)&&((0,b.Uh)(O.errorMessage)||(0,b.Uh)(O.payload))),(0,g.q)(1))}createMediaViewerItem(_,O,z){const C=new y;return C.bitstream=_,C.format=O.mimetype.split("/")[0],C.mimetype=O.mimetype,C.thumbnail=z?z._links.content.href:null,C}}return x.\u0275fac=function(_){return new(_||x)(e.\u0275\u0275directiveInject(p.J))},x.\u0275cmp=e.\u0275\u0275defineComponent({type:x,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},decls:2,vars:3,consts:[[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],["showThumbnail",""],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(_,O){1&_&&(e.\u0275\u0275template(0,le,5,2,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&_&&e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(1,1,O.mediaList$))},dependencies:[X.O5,S.Z,w.ThumbnailComponent,I.g,E.Z,H._,X.Ov,J.X$]}),x})()},6296:(R,A,s)=>{var t={"./custom/app/item-page/full/full-item-page.component":[61635,2837,9255,1635]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return Promise.all(p.slice(1).map(s.e)).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=6296,R.exports=h},98563:(R,A,s)=>{var t={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[10710,710]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return s.e(p[1]).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=98563,R.exports=h},94757:(R,A,s)=>{var t={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[50297,297]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return s.e(p[1]).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=94757,R.exports=h},47012:(R,A,s)=>{var t={"./custom/app/item-page/media-viewer/media-viewer.component":[96005,8592,6005]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return Promise.all(p.slice(1).map(s.e)).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=47012,R.exports=h},80160:(R,A,s)=>{var t={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[92181,2181]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return s.e(p[1]).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=80160,R.exports=h},66137:(R,A,s)=>{var t={"./custom/app/item-page/simple/item-page.component":[55808,5808]};function h(g){if(!s.o(t,g))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y});var p=t[g],P=p[0];return s.e(p[1]).then(()=>s(P))}h.keys=()=>Object.keys(t),h.id=66137,R.exports=h},21890:(R,A,s)=>{"use strict";s.d(A,{g$:()=>_e,ji:()=>be,zw:()=>B});var t=s(98678),h=s(91823),g=s(35103),p=s(79601);const P=function(c){return{"ngx-gallery-active":c}};function y(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275listener("click",function(m){const L=t.\u0275\u0275restoreView(n).index,W=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(W.handleChange(m,L))}),t.\u0275\u0275elementEnd()}if(2&c){const n=l.index,r=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(1,P,n===r.active))}}const T=["previewImage"];function b(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-arrows",16),t.\u0275\u0275listener("prevClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.showPrev())})("nextClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.showNext())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("prevDisabled",!n.canShowPrev())("nextDisabled",!n.canShowNext())("arrowPrevIcon",n.arrowPrevIcon)("arrowNextIcon",n.arrowNextIcon)}}function V(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",17),t.\u0275\u0275listener("closeClick",function(m){const L=t.\u0275\u0275restoreView(n).$implicit,W=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(L.onClick(m,W.index))}),t.\u0275\u0275elementEnd()}if(2&c){const n=l.$implicit;t.\u0275\u0275property("icon",n.icon)("disabled",n.disabled)("titleText",n.titleText)}}function j(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"a",18),t.\u0275\u0275element(1,"i"),t.\u0275\u0275elementEnd()),2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("href",n.src,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("ngx-gallery-icon-content ",n.downloadIcon,"")}}function e(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",19),t.\u0275\u0275listener("closeClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.zoomOut())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon",n.zoomOutIcon)("disabled",!n.canZoomOut())}}function X(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",19),t.\u0275\u0275listener("closeClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.zoomIn())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon",n.zoomInIcon)("disabled",!n.canZoomIn())}}function S(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",7),t.\u0275\u0275listener("closeClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.rotateLeft())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon",n.rotateLeftIcon)}}function w(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",7),t.\u0275\u0275listener("closeClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.rotateRight())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon",n.rotateRightIcon)}}function I(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",7),t.\u0275\u0275listener("closeClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.manageFullscreen())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon","ngx-gallery-fullscreen "+n.fullscreenIcon)}}function E(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"img",20,21),t.\u0275\u0275listener("click",function(m){return m.stopPropagation()})("mouseenter",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.imageMouseEnter())})("mouseleave",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.imageMouseLeave())})("mousedown",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.mouseDownHandler(m))})("touchstart",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.mouseDownHandler(m))}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("transform",n.getTransform())("left",n.positionLeft+"px")("top",n.positionTop+"px"),t.\u0275\u0275classProp("ngx-gallery-active",!n.loading)("animation",n.animation)("ngx-gallery-grab",n.canDragOnZoom()),t.\u0275\u0275property("src",n.src,t.\u0275\u0275sanitizeUrl)}}function H(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"video",22,21),t.\u0275\u0275listener("click",function(m){return m.stopPropagation()})("mouseenter",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.imageMouseEnter())})("mouseleave",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.imageMouseLeave())})("mousedown",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.mouseDownHandler(m))})("touchstart",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.mouseDownHandler(m))}),t.\u0275\u0275element(2,"source",23),t.\u0275\u0275text(3," Your browser does not support the video tag. "),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("transform",n.getTransform())("left",n.positionLeft+"px")("top",n.positionTop+"px"),t.\u0275\u0275classProp("ngx-gallery-active",!n.loading)("animation",n.animation)("ngx-gallery-grab",n.canDragOnZoom()),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.src,t.\u0275\u0275sanitizeUrl)}}function J(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-bullets",24),t.\u0275\u0275listener("bulletChange",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.showAtIndex(m))}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("count",n.images.length)("active",n.index)}}function F(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()}),t.\u0275\u0275elementEnd()),2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerHTML",n.description,t.\u0275\u0275sanitizeHtml)}}function N(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",8),t.\u0275\u0275listener("closeClick",function(m){const L=t.\u0275\u0275restoreView(n).$implicit,W=t.\u0275\u0275nextContext(2).$implicit;return t.\u0275\u0275resetView(L.onClick(m,W.index))}),t.\u0275\u0275elementEnd()}if(2&c){const n=l.$implicit;t.\u0275\u0275property("icon",n.icon)("disabled",n.disabled)("titleText",n.titleText)}}function K(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()}),t.\u0275\u0275elementEnd()),2&c){const n=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerHTML",r.descriptions[n.index],t.\u0275\u0275sanitizeHtml)}}const k=function(c){return{"ngx-gallery-clickable":c}};function U(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275listener("click",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext().$implicit,L=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(L.handleClick(m,v.index))})("@animation.start",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.onStart(m))})("@animation.done",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.onDone(m))}),t.\u0275\u0275elementStart(1,"div",5),t.\u0275\u0275template(2,N,1,3,"ngx-gallery-action",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,K,1,1,"div",7),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-image",r.getSafeUrl(n.src)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,k,r.clickable))("@animation",r.action),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",r.actions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.showDescription&&r.descriptions[n.index])}}function Q(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",8),t.\u0275\u0275listener("closeClick",function(m){const L=t.\u0275\u0275restoreView(n).$implicit,W=t.\u0275\u0275nextContext(2).$implicit;return t.\u0275\u0275resetView(L.onClick(m,W.index))}),t.\u0275\u0275elementEnd()}if(2&c){const n=l.$implicit;t.\u0275\u0275property("icon",n.icon)("disabled",n.disabled)("titleText",n.titleText)}}function ie(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275listener("click",function(r){return r.stopPropagation()}),t.\u0275\u0275elementEnd()),2&c){const n=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerHTML",r.descriptions[n.index],t.\u0275\u0275sanitizeHtml)}}function G(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275listener("click",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext().$implicit,L=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(L.handleClick(m,v.index))})("@animation.start",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.onStart(m))})("@animation.done",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.onDone(m))}),t.\u0275\u0275elementStart(1,"video",10),t.\u0275\u0275element(2,"source",11),t.\u0275\u0275text(3," Your browser does not support the video tag. "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",5),t.\u0275\u0275template(5,Q,1,3,"ngx-gallery-action",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ie,1,1,"div",7),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-image",r.getSafeUrl(n.src)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(7,k,r.clickable))("@animation",r.action),t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.src,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",r.actions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.showDescription&&r.descriptions[n.index])}}function ee(c,l){if(1&c&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,U,4,8,"div",3),t.\u0275\u0275template(2,G,7,9,"div",3),t.\u0275\u0275elementContainerEnd()),2&c){const n=l.$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","image"===n.type&&n.index===r._selectedIndex),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","video"===n.type&&n.index===r._selectedIndex)}}function te(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-bullets",12),t.\u0275\u0275listener("bulletChange",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.show(m))}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("count",n.images.length)("active",n._selectedIndex)}}function se(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-arrows",13),t.\u0275\u0275listener("prevClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.showPrev())})("nextClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.showNext())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMapInterpolate1("ngx-gallery-image-size-",n.size,""),t.\u0275\u0275property("prevDisabled",!n.canShowPrev())("nextDisabled",!n.canShowNext())("arrowPrevIcon",n.arrowPrevIcon)("arrowNextIcon",n.arrowNextIcon)}}const re=function(c,l){return{"ngx-gallery-active":c,"ngx-gallery-clickable":l}};function le(c,l){if(1&c&&t.\u0275\u0275element(0,"div",9),2&c){const n=t.\u0275\u0275nextContext(),r=n.$implicit,m=n.index,v=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-image",v.getSafeUrl(r)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(3,re,m===v.selectedIndex,v.clickable))}}function me(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"div",10)(1,"video",11),t.\u0275\u0275element(2,"source",12),t.\u0275\u0275text(3," Your browser does not support the video tag. "),t.\u0275\u0275elementEnd()()),2&c){const n=t.\u0275\u0275nextContext(),r=n.index,m=n.$implicit,v=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(2,re,r===v.selectedIndex,v.clickable)),t.\u0275\u0275advance(1),t.\u0275\u0275property("src",m,t.\u0275\u0275sanitizeUrl)}}function x(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-action",13),t.\u0275\u0275listener("closeClick",function(m){const L=t.\u0275\u0275restoreView(n).$implicit,W=t.\u0275\u0275nextContext().index;return t.\u0275\u0275resetView(L.onClick(m,W))}),t.\u0275\u0275elementEnd()}if(2&c){const n=l.$implicit;t.\u0275\u0275property("icon",n.icon)("disabled",n.disabled)("titleText",n.titleText)}}function D(c,l){if(1&c&&(t.\u0275\u0275elementStart(0,"div",14)(1,"span",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&c){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("+",n.remainingCountValue,"")}}function _(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",3),t.\u0275\u0275listener("click",function(m){const L=t.\u0275\u0275restoreView(n).index,W=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(W.handleClick(m,L))}),t.\u0275\u0275template(1,le,1,6,"div",4),t.\u0275\u0275template(2,me,4,5,"div",5),t.\u0275\u0275elementStart(3,"div",6),t.\u0275\u0275template(4,x,1,3,"ngx-gallery-action",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,D,3,1,"div",8),t.\u0275\u0275elementEnd()}if(2&c){const n=l.$implicit,r=l.index,m=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("width",m.getThumbnailWidth())("height",m.getThumbnailHeight())("left",m.getThumbnailLeft(r))("top",m.getThumbnailTop(r)),t.\u0275\u0275property("href",m.hasLink(r)?m.links[r]:"#",t.\u0275\u0275sanitizeUrl)("target",m.linkTarget)("ngClass",t.\u0275\u0275pureFunction2(16,re,r===m.selectedIndex,m.clickable)),t.\u0275\u0275attribute("aria-label",m.labels[r]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","image"===m.getFileType(n)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","video"===m.getFileType(n)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",m.actions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",m.remainingCount&&m.remainingCountValue&&r===m.rows*m.columns-1)}}function O(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-arrows",16),t.\u0275\u0275listener("prevClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.moveLeft())})("nextClick",function(){t.\u0275\u0275restoreView(n);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.moveRight())}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("prevDisabled",!n.canMoveLeft())("nextDisabled",!n.canMoveRight())("arrowPrevIcon",n.arrowPrevIcon)("arrowNextIcon",n.arrowNextIcon)}}function z(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-image",3),t.\u0275\u0275listener("imageClick",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.openPreview(m))})("activeChange",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.selectFromImage(m))})("animating",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.setAnimating(m))}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("height",n.getImageHeight()),t.\u0275\u0275property("images",n.mediumImages)("clickable",null==n.currentOptions?null:n.currentOptions.preview)("selectedIndex",n.selectedIndex)("arrows",null==n.currentOptions?null:n.currentOptions.imageArrows)("arrowsAutoHide",null==n.currentOptions?null:n.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==n.currentOptions?null:n.currentOptions.arrowPrevIcon)("arrowNextIcon",null==n.currentOptions?null:n.currentOptions.arrowNextIcon)("swipe",null==n.currentOptions?null:n.currentOptions.imageSwipe)("animation",null==n.currentOptions?null:n.currentOptions.imageAnimation)("size",null==n.currentOptions?null:n.currentOptions.imageSize)("autoPlay",null==n.currentOptions?null:n.currentOptions.imageAutoPlay)("autoPlayInterval",null==n.currentOptions?null:n.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==n.currentOptions?null:n.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==n.currentOptions?null:n.currentOptions.imageInfinityMove)("lazyLoading",null==n.currentOptions?null:n.currentOptions.lazyLoading)("actions",null==n.currentOptions?null:n.currentOptions.imageActions)("descriptions",n.descriptions)("showDescription",null==n.currentOptions?null:n.currentOptions.imageDescription)("bullets",null==n.currentOptions?null:n.currentOptions.imageBullets)}}const C=function(){return[]};function ce(c,l){if(1&c){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngx-gallery-thumbnails",4),t.\u0275\u0275listener("activeChange",function(m){t.\u0275\u0275restoreView(n);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.selectFromThumbnails(m))}),t.\u0275\u0275elementEnd()}if(2&c){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("margin-top",n.getThumbnailsMarginTop())("margin-bottom",n.getThumbnailsMarginBottom())("height",n.getThumbnailsHeight()),t.\u0275\u0275property("images",n.smallImages)("isAnimating",n.isAnimating)("links",null!=n.currentOptions&&n.currentOptions.thumbnailsAsLinks?n.links:t.\u0275\u0275pureFunction0(28,C))("labels",n.labels)("linkTarget",null==n.currentOptions?null:n.currentOptions.linkTarget)("selectedIndex",n.selectedIndex)("columns",null==n.currentOptions?null:n.currentOptions.thumbnailsColumns)("rows",null==n.currentOptions?null:n.currentOptions.thumbnailsRows)("margin",null==n.currentOptions?null:n.currentOptions.thumbnailMargin)("arrows",null==n.currentOptions?null:n.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==n.currentOptions?null:n.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==n.currentOptions?null:n.currentOptions.arrowPrevIcon)("arrowNextIcon",null==n.currentOptions?null:n.currentOptions.arrowNextIcon)("clickable",(null==n.currentOptions?null:n.currentOptions.image)||(null==n.currentOptions?null:n.currentOptions.preview))("swipe",null==n.currentOptions?null:n.currentOptions.thumbnailsSwipe)("size",null==n.currentOptions?null:n.currentOptions.thumbnailSize)("moveSize",null==n.currentOptions?null:n.currentOptions.thumbnailsMoveSize)("order",null==n.currentOptions?null:n.currentOptions.thumbnailsOrder)("remainingCount",null==n.currentOptions?null:n.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==n.currentOptions?null:n.currentOptions.lazyLoading)("actions",null==n.currentOptions?null:n.currentOptions.thumbnailActions)("ngClass",null==n.currentOptions?null:n.currentOptions.thumbnailClasses)}}let q=(()=>{class c{constructor(n){this.renderer=n,this.swipeHandlers=new Map}manageSwipe(n,r,m,v,L){const W=this.getSwipeHandlers(m);try{n&&!W?this.swipeHandlers.set(m,[this.renderer.listen(r.nativeElement,"swipeleft",()=>v()),this.renderer.listen(r.nativeElement,"swiperight",()=>L())]):!n&&W&&(W.map(Oe=>Oe()),this.removeSwipeHandlers(m))}catch{}}validateUrl(n){return n.replace?n.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):n}getBackgroundUrl(n){return"url('"+this.validateUrl(n)+"')"}getFileType(n){const r=n.split(".").pop().toLowerCase();return"avi"===r||"flv"===r||"wmv"===r||"mov"===r||"mp4"===r?"video":"image"}getSwipeHandlers(n){return this.swipeHandlers.get(n)}removeSwipeHandlers(n){this.swipeHandlers.delete(n)}}return c.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275inject(t.Renderer2))},c.\u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),de=(()=>{class c{constructor(){this.prevClick=new t.EventEmitter,this.nextClick=new t.EventEmitter}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275listener("click",function(){return r.handlePrevClick()}),t.\u0275\u0275element(2,"i"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",2)(4,"div",1),t.\u0275\u0275listener("click",function(){return r.handleNextClick()}),t.\u0275\u0275element(5,"i"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275classProp("ngx-gallery-disabled",r.prevDisabled),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("ngx-gallery-icon-content ",r.arrowPrevIcon,""),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("ngx-gallery-disabled",r.nextDisabled),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("ngx-gallery-icon-content ",r.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),c})(),ue=(()=>{class c{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new t.EventEmitter}handleClick(n){this.disabled||this.closeClick.emit(n),n.stopPropagation(),n.preventDefault()}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"title","click"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(v){return r.handleClick(v)}),t.\u0275\u0275element(1,"i"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275classProp("ngx-gallery-icon-disabled",r.disabled),t.\u0275\u0275propertyInterpolate("title",r.titleText),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("ngx-gallery-icon-content ",r.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),c})(),Ce=(()=>{class c{constructor(){this.active=0,this.bulletChange=new t.EventEmitter}getBullets(){return Array(this.count)}handleChange(n,r){this.bulletChange.emit(r)}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"ngClass","click"]],template:function(n,r){1&n&&t.\u0275\u0275template(0,y,1,3,"div",0),2&n&&t.\u0275\u0275property("ngForOf",r.getBullets())},dependencies:[g.sg,g.mk],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),c})(),we=(()=>{class c{constructor(n,r,m,v,L){this.sanitization=n,this.elementRef=r,this.helperService=m,this.renderer=v,this.changeDetectorRef=L,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new t.EventEmitter,this.previewClose=new t.EventEmitter,this.activeChange=new t.EventEmitter,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(n){n.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(n){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(n)?this.showPrev():this.isKeyboardNext(n)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(n)&&this.close())}open(n){this.previewOpen.emit(),this.index=n,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",r=>this.onKeyDown(r))}close(){this.isOpen=!1;const n=this.previewImage.nativeElement;n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2&&n.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(n){this.index=n,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const n=document;n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(n){return this.sanitization.bypassSecurityTrustUrl(n)}getFileType(n){return this.helperService.getFileType(n)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(n){this.canDragOnZoom()&&(this.initialX=this.getClientX(n),this.initialY=this.getClientY(n),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,n.preventDefault())}mouseUpHandler(n){this.isMove=!1}mouseMoveHandler(n){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(n)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(n)-this.initialY))}getClientX(n){return n.touches&&n.touches.length?n.touches[0].clientX:n.clientX}getClientY(n){return n.touches&&n.touches.length?n.touches[0].clientY:n.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(n){return 39===n.keyCode}isKeyboardPrev(n){return 37===n.keyCode}isKeyboardEsc(n){return 27===n.keyCode}openFullscreen(){const n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const n=document;n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}}isFullscreen(){const n=document;return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement}show(n=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),n||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(n){return!(!n.complete||typeof n.naturalWidth<"u"&&0===n.naturalWidth)}}return c.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275directiveInject(h.H7),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(q),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-preview"]],viewQuery:function(n,r){if(1&n&&t.\u0275\u0275viewQuery(T,5),2&n){let m;t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(r.previewImage=m.first)}},hostBindings:function(n,r){1&n&&t.\u0275\u0275listener("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[t.\u0275\u0275NgOnChangesFeature],decls:19,vars:18,consts:[[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"icon","closeClick"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"],[3,"icon","disabled","titleText","closeClick"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"icon","disabled","closeClick"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"src","click","mouseenter","mouseleave","mousedown","touchstart"],["previewImage",""],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"count","active","bulletChange"],[1,"ngx-gallery-preview-text",3,"innerHTML","click"]],template:function(n,r){1&n&&(t.\u0275\u0275template(0,b,1,4,"ngx-gallery-arrows",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2),t.\u0275\u0275template(3,V,1,3,"ngx-gallery-action",3),t.\u0275\u0275template(4,j,2,4,"a",4),t.\u0275\u0275template(5,e,1,2,"ngx-gallery-action",5),t.\u0275\u0275template(6,X,1,2,"ngx-gallery-action",5),t.\u0275\u0275template(7,S,1,1,"ngx-gallery-action",6),t.\u0275\u0275template(8,w,1,1,"ngx-gallery-action",6),t.\u0275\u0275template(9,I,1,1,"ngx-gallery-action",6),t.\u0275\u0275elementStart(10,"ngx-gallery-action",7),t.\u0275\u0275listener("closeClick",function(){return r.close()}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"div",8),t.\u0275\u0275element(12,"i",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",10),t.\u0275\u0275listener("click",function(){return r.closeOnClick&&r.close()})("mouseup",function(v){return r.mouseUpHandler(v)})("mousemove",function(v){return r.mouseMoveHandler(v)})("touchend",function(v){return r.mouseUpHandler(v)})("touchmove",function(v){return r.mouseMoveHandler(v)}),t.\u0275\u0275elementStart(14,"div",11),t.\u0275\u0275template(15,E,2,13,"img",12),t.\u0275\u0275template(16,H,4,13,"video",13),t.\u0275\u0275template(17,J,1,2,"ngx-gallery-bullets",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(18,F,1,1,"div",15),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("ngIf",r.arrows),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",r.actions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.download&&r.src),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.zoom),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.zoom),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.rotate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.rotate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.fullscreen),t.\u0275\u0275advance(1),t.\u0275\u0275property("icon","ngx-gallery-close "+r.closeIcon),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("ngx-gallery-active",r.showSpinner),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("ngx-gallery-icon ngx-gallery-spinner ",r.spinnerIcon,""),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",r.src&&"image"===r.type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.src&&"video"===r.type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.bullets),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.showDescription&&r.description))},dependencies:[de,ue,Ce,g.O5,g.sg],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),c})(),B=(()=>{class c{}return c.Fade="fade",c.Slide="slide",c.Rotate="rotate",c.Zoom="zoom",c})(),ge=(()=>{class c{constructor(n,r,m,v){this.sanitization=n,this.changeDetectorRef=r,this.elementRef=m,this.helperService=v,this.imageClick=new t.EventEmitter,this.activeChange=new t.EventEmitter,this.animating=new t.EventEmitter,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=r,this.action="none"}set selectedIndex(n){if(n>this._selectedIndex){let r;this.animation===B.Slide?r="slideRight":this.animation===B.Fade?r="fade":this.animation===B.Rotate?r="rotateRight":this.animation===B.Zoom&&(r="zoom"),this.setAction(r)}else if(n<this._selectedIndex){let r;this.animation===B.Slide?r="slideLeft":this.animation===B.Fade?r="fade":this.animation===B.Rotate?r="rotateLeft":this.animation===B.Zoom&&(r="zoom"),this.setAction(r)}this._selectedIndex=n}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(n){n.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(n){this._selectedIndex=n,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const n=[this._selectedIndex],r=this._selectedIndex-1;-1===r&&this.infinityMove?n.push(this.images.length-1):r>=0&&n.push(r);const m=this._selectedIndex+1;return m===this.images.length&&this.infinityMove?n.push(0):m<this.images.length&&n.push(m),this.images.filter((v,L)=>-1!==n.indexOf(L))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(n,r){this.clickable&&(this.imageClick.emit(r),n.stopPropagation(),n.preventDefault())}show(n){if(!this.isAnimating){if(n>this._selectedIndex){let r;this.animation===B.Slide?r="slideRight":this.animation===B.Fade?r="fade":this.animation===B.Rotate?r="rotateRight":this.animation===B.Zoom&&(r="zoom"),this.setAction(r)}else{let r;this.animation===B.Slide?r="slideLeft":this.animation===B.Fade?r="fade":this.animation===B.Rotate?r="rotateLeft":this.animation===B.Zoom&&(r="zoom"),this.setAction(r)}this._selectedIndex=n,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(n){this.action=n,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let n;return this.animation===B.Slide?n="slideRight":this.animation===B.Fade?n="fade":this.animation===B.Rotate?n="rotateRight":this.animation===B.Zoom&&(n="zoom"),this.setAction(n),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let n;this.animation===B.Slide?n="slideLeft":this.animation===B.Fade?n="fade":this.animation===B.Rotate?n="rotateLeft":this.animation===B.Zoom&&(n="zoom"),this.setAction(n),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let n=1e3;(this.animation===B.Slide||this.animation===B.Fade)&&(n=500),setTimeout(()=>{this.canChangeImage=!0},n)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(n){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(n.toString()))}getFileType(n){return this.helperService.getFileType(n)}onStart(n){this.isAnimating=!0,this.animating.emit(!0)}onDone(n){this.isAnimating=!1,this.animating.emit(!1)}}return c.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275directiveInject(h.H7),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(q))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-image"]],hostBindings:function(n,r){1&n&&t.\u0275\u0275listener("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[t.\u0275\u0275NgOnChangesFeature],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"ngClass","click"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-image-text",3,"innerHTML","click"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"count","active","bulletChange"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,ee,3,2,"ng-container",0),t.\u0275\u0275template(2,te,1,2,"ngx-gallery-bullets",1),t.\u0275\u0275template(3,se,1,7,"ngx-gallery-arrows",2),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275classMapInterpolate2("ngx-gallery-image-wrapper ngx-gallery-animation-",r.animation," ngx-gallery-image-size-",r.size,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",r.getImages()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.bullets),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.arrows))},dependencies:[ue,Ce,de,g.sg,g.O5,g.mk],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,p.X$)("animation",[(0,p.SB)("slideRight",(0,p.oB)({})),(0,p.SB)("slideLeft",(0,p.oB)({})),(0,p.SB)("fade",(0,p.oB)({})),(0,p.SB)("rotateLeft",(0,p.oB)({})),(0,p.SB)("rotateRight",(0,p.oB)({})),(0,p.SB)("zoom",(0,p.oB)({})),(0,p.eR)("slideRight => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"translateX(-100%)"}))]),(0,p.eR)("void => slideRight",[(0,p.oB)({transform:"translateX(100%)"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"translateX(0)"}))]),(0,p.eR)("slideLeft => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"translateX(100%)"}))]),(0,p.eR)("void => slideLeft",[(0,p.oB)({transform:"translateX(-100%)"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"translateX(0)"}))]),(0,p.eR)("fade => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({opacity:"0"}))]),(0,p.eR)("void => fade",[(0,p.oB)({opacity:"0"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({opacity:"1"}))]),(0,p.eR)("rotateLeft => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,p.eR)("void => rotateLeft",[(0,p.oB)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,p.eR)("rotateRight => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,p.eR)("void => rotateRight",[(0,p.oB)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,p.eR)("zoom => void",[(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,p.eR)("void => zoom",[(0,p.oB)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,p.jt)("500ms ease-in-out",(0,p.oB)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),c})(),Z=(()=>{class c{}return c.Column=1,c.Row=2,c.Page=3,c})(),pe=(()=>{class c{constructor(n,r,m){this.sanitization=n,this.elementRef=r,this.helperService=m,this.minStopIndex=0,this.activeChange=new t.EventEmitter,this.index=0}ngOnChanges(n){n.selectedIndex&&this.validateIndex(),n.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(n){this.selectedIndex=n,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==Z.Row){let n=0;return this.order===Z.Column?n=(this.index+this.columns+this.moveSize)*this.rows:this.order===Z.Page&&(n=this.index+this.columns*this.rows*2),n<=this.minStopIndex?n=this.minStopIndex:this.minStopIndex=n,this.images.slice(0,n)}return this.images}handleClick(n,r){!this.hasLink(r)&&!this.isAnimating&&(this.selectedIndex=r,this.activeChange.emit(r)),n.stopPropagation(),n.preventDefault()}hasLink(n){return!!(this.links&&this.links.length&&this.links[n])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const n=this.getMaxIndex()-this.columns;this.index>n&&(this.index=n),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(n){let r;return r=this.order===Z.Column?Math.floor(n/this.rows):this.order===Z.Page?n%this.columns+Math.floor(n/(this.rows*this.columns))*this.columns:this.order===Z.Row&&this.remainingCount?n%this.columns:n%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(r,this.columns)}getThumbnailTop(n){let r;return r=this.order===Z.Column?n%this.rows:this.order===Z.Page?Math.floor(n/this.columns)-Math.floor(n/(this.rows*this.columns))*this.rows:this.order===Z.Row&&this.remainingCount?Math.floor(n/this.columns):Math.floor(n/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(r,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let n;if(n=this.order===Z.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(n=0),n<this.index||n>=this.index+this.columns){const r=this.getMaxIndex()-this.columns;this.index=n>r?r:n,this.setThumbnailsPosition()}}}getSafeUrl(n){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(n.toString()))}getFileType(n){return this.helperService.getFileType(n.toString())}getThumbnailPosition(n,r){return this.getSafeStyle("calc("+100/r*n+"% + "+(this.margin-(r-1)*this.margin/r)*n+"px)")}getThumbnailDimension(n){return this.getSafeStyle(0!==this.margin?"calc("+100/n+"% - "+(n-1)*this.margin/n+"px)":"calc("+100/n+"% + 1px)")}getMaxIndex(){if(this.order===Z.Page){let n=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?n+=this.columns:n+=this.images.length%this.getVisibleCount(),n}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(n){return this.sanitization.bypassSecurityTrustStyle(n)}}return c.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275directiveInject(h.H7),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(q))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(n,r){1&n&&t.\u0275\u0275listener("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[t.\u0275\u0275NgOnChangesFeature],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"href","target","ngClass","click"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0),t.\u0275\u0275template(2,_,6,19,"a",1),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(3,O,1,4,"ngx-gallery-arrows",2)),2&n&&(t.\u0275\u0275classMapInterpolate1("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",r.size,""),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("transform","translateX("+r.thumbnailsLeft+")")("margin-left",r.thumbnailsMarginLeft),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",r.getImages()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.canShowArrows()))},dependencies:[ue,de,g.sg,g.mk,g.O5],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),c})();class he{constructor(l){this.icon=l.icon,this.disabled=!!l.disabled&&l.disabled,this.titleText=l.titleText?l.titleText:"",this.onClick=l.onClick}}let fe=(()=>{class c{}return c.ThumbnailsTop="thumbnails-top",c.ThumbnailsBottom="thumbnails-bottom",c})(),ve=(()=>{class c{}return c.Cover="cover",c.Contain="contain",c})();class ye{constructor(l){const n=void 0!==l.breakpoint;function r(m,v){return l&&(void 0!==m||n)?m:v}this.breakpoint=r(l.breakpoint,void 0),this.width=r(l.width,"500px"),this.height=r(l.height,"400px"),this.fullWidth=r(l.fullWidth,!1),this.layout=r(l.layout,fe.ThumbnailsBottom),this.startIndex=r(l.startIndex,0),this.linkTarget=r(l.linkTarget,"_blank"),this.lazyLoading=r(l.lazyLoading,!0),this.image=r(l.image,!0),this.imagePercent=r(l.imagePercent,75),this.imageArrows=r(l.imageArrows,!0),this.imageArrowsAutoHide=r(l.imageArrowsAutoHide,!1),this.imageSwipe=r(l.imageSwipe,!1),this.imageAnimation=r(l.imageAnimation,B.Fade),this.imageSize=r(l.imageSize,ve.Cover),this.imageAutoPlay=r(l.imageAutoPlay,!1),this.imageAutoPlayInterval=r(l.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=r(l.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=r(l.imageInfinityMove,!1),l&&l.imageActions&&l.imageActions.length&&(l.imageActions=l.imageActions.map(m=>new he(m))),this.imageActions=r(l.imageActions,[]),this.imageDescription=r(l.imageDescription,!1),this.imageBullets=r(l.imageBullets,!1),this.thumbnails=r(l.thumbnails,!0),this.thumbnailsColumns=r(l.thumbnailsColumns,4),this.thumbnailsRows=r(l.thumbnailsRows,1),this.thumbnailsPercent=r(l.thumbnailsPercent,25),this.thumbnailsMargin=r(l.thumbnailsMargin,10),this.thumbnailsArrows=r(l.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=r(l.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=r(l.thumbnailsSwipe,!1),this.thumbnailsMoveSize=r(l.thumbnailsMoveSize,1),this.thumbnailsOrder=r(l.thumbnailsOrder,Z.Column),this.thumbnailsRemainingCount=r(l.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=r(l.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=r(l.thumbnailsAutoHide,!1),this.thumbnailMargin=r(l.thumbnailMargin,10),this.thumbnailSize=r(l.thumbnailSize,ve.Cover),l&&l.thumbnailActions&&l.thumbnailActions.length&&(l.thumbnailActions=l.thumbnailActions.map(m=>new he(m))),this.thumbnailActions=r(l.thumbnailActions,[]),this.thumbnailClasses=r(l.thumbnailClasses,[]),this.preview=r(l.preview,!0),this.previewDescription=r(l.previewDescription,!0),this.previewArrows=r(l.previewArrows,!0),this.previewArrowsAutoHide=r(l.previewArrowsAutoHide,!1),this.previewSwipe=r(l.previewSwipe,!1),this.previewFullscreen=r(l.previewFullscreen,!1),this.previewForceFullscreen=r(l.previewForceFullscreen,!1),this.previewCloseOnClick=r(l.previewCloseOnClick,!1),this.previewCloseOnEsc=r(l.previewCloseOnEsc,!1),this.previewKeyboardNavigation=r(l.previewKeyboardNavigation,!1),this.previewAnimation=r(l.previewAnimation,!0),this.previewAutoPlay=r(l.previewAutoPlay,!1),this.previewAutoPlayInterval=r(l.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=r(l.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=r(l.previewInfinityMove,!1),this.previewZoom=r(l.previewZoom,!1),this.previewZoomStep=r(l.previewZoomStep,.1),this.previewZoomMax=r(l.previewZoomMax,2),this.previewZoomMin=r(l.previewZoomMin,.5),this.previewRotate=r(l.previewRotate,!1),this.previewDownload=r(l.previewDownload,!1),this.previewCustom=r(l.previewCustom,void 0),this.previewBullets=r(l.previewBullets,!1),this.arrowPrevIcon=r(l.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=r(l.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=r(l.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=r(l.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=r(l.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=r(l.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=r(l.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=r(l.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=r(l.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=r(l.downloadIcon,"fa fa-arrow-circle-down"),l&&l.actions&&l.actions.length&&(l.actions=l.actions.map(m=>new he(m))),this.actions=r(l.actions,[])}}class Ee{constructor(l){this.src=l.src,this.type=l.type,this.index=l.index}}let _e=(()=>{class c{constructor(n,r){this.myElement=n,this.helperService=r,this.options=[{}],this.imagesReady=new t.EventEmitter,this.change=new t.EventEmitter,this.previewOpen=new t.EventEmitter,this.previewClose=new t.EventEmitter,this.previewChange=new t.EventEmitter,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(n=>new ye(n)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===fe.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===fe.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(n){this.currentOptions.previewCustom?this.currentOptions.previewCustom(n):(this.previewEnabled=!0,this.preview.open(n))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(n){this.select(n)}selectFromThumbnails(n){this.select(n),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(n){this.select(n)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(n){this.previewChange.emit({index:n,image:this.images[n]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(n){this.selectedIndex=n,this.change.emit({index:n,image:this.images[n]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(n=>n.type=this.helperService.getFileType(n.url||n.big||n.medium||n.small||"")),this.smallImages=this.images.map(n=>n.small),this.mediumImages=this.images.map((n,r)=>new Ee({src:n.medium,type:n.type,index:r})),this.bigImages=this.images.map(n=>n.big),this.descriptions=this.images.map(n=>n.description),this.links=this.images.map(n=>n.url),this.labels=this.images.map(n=>n.label)}setBreakpoint(){let n;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(n=this.options.filter(r=>r.breakpoint>=window.innerWidth).map(r=>r.breakpoint)),this.breakpoint=n&&n.length?n.pop():void 0}sortOptions(){this.options=[...this.options.filter(n=>void 0===n.breakpoint),...this.options.filter(n=>void 0!==n.breakpoint).sort((n,r)=>r.breakpoint-n.breakpoint)]}setOptions(){this.currentOptions=new ye({}),this.options.filter(n=>void 0===n.breakpoint||n.breakpoint>=this.breakpoint).map(n=>this.combineOptions(this.currentOptions,n)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(n,r){Object.keys(r).map(m=>n[m]=void 0!==r[m]?r[m]:n[m])}setAnimating(n){this.isAnimating=n}}return c.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(q))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ngx-gallery"]],viewQuery:function(n,r){if(1&n&&(t.\u0275\u0275viewQuery(we,5),t.\u0275\u0275viewQuery(ge,5),t.\u0275\u0275viewQuery(pe,5)),2&n){let m;t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(r.preview=m.first),t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(r.image=m.first),t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(r.thumbnails=m.first)}},hostVars:6,hostBindings:function(n,r){1&n&&t.\u0275\u0275listener("resize",function(){return r.onResize()},!1,t.\u0275\u0275resolveWindow),2&n&&t.\u0275\u0275styleProp("width",r.width)("height",r.height)("transform",r.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[t.\u0275\u0275ProvidersFeature([q])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets","previewClose","previewOpen","activeChange"],[3,"images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating"],[3,"images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,z,1,21,"ngx-gallery-image",0),t.\u0275\u0275template(2,ce,1,29,"ngx-gallery-thumbnails",1),t.\u0275\u0275elementStart(3,"ngx-gallery-preview",2),t.\u0275\u0275listener("previewClose",function(){return r.onPreviewClose()})("previewOpen",function(){return r.onPreviewOpen()})("activeChange",function(v){return r.previewSelect(v)}),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275classMapInterpolate1("ngx-gallery-layout ",null==r.currentOptions?null:r.currentOptions.layout,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==r.currentOptions?null:r.currentOptions.image),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==r.currentOptions?null:r.currentOptions.thumbnails),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("ngx-gallery-active",r.previewEnabled),t.\u0275\u0275property("images",r.bigImages)("descriptions",r.descriptions)("showDescription",null==r.currentOptions?null:r.currentOptions.previewDescription)("arrowPrevIcon",null==r.currentOptions?null:r.currentOptions.arrowPrevIcon)("arrowNextIcon",null==r.currentOptions?null:r.currentOptions.arrowNextIcon)("closeIcon",null==r.currentOptions?null:r.currentOptions.closeIcon)("fullscreenIcon",null==r.currentOptions?null:r.currentOptions.fullscreenIcon)("spinnerIcon",null==r.currentOptions?null:r.currentOptions.spinnerIcon)("arrows",null==r.currentOptions?null:r.currentOptions.previewArrows)("arrowsAutoHide",null==r.currentOptions?null:r.currentOptions.previewArrowsAutoHide)("swipe",null==r.currentOptions?null:r.currentOptions.previewSwipe)("fullscreen",null==r.currentOptions?null:r.currentOptions.previewFullscreen)("forceFullscreen",null==r.currentOptions?null:r.currentOptions.previewForceFullscreen)("closeOnClick",null==r.currentOptions?null:r.currentOptions.previewCloseOnClick)("closeOnEsc",null==r.currentOptions?null:r.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==r.currentOptions?null:r.currentOptions.previewKeyboardNavigation)("animation",null==r.currentOptions?null:r.currentOptions.previewAnimation)("autoPlay",null==r.currentOptions?null:r.currentOptions.previewAutoPlay)("autoPlayInterval",null==r.currentOptions?null:r.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==r.currentOptions?null:r.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==r.currentOptions?null:r.currentOptions.previewInfinityMove)("zoom",null==r.currentOptions?null:r.currentOptions.previewZoom)("zoomStep",null==r.currentOptions?null:r.currentOptions.previewZoomStep)("zoomMax",null==r.currentOptions?null:r.currentOptions.previewZoomMax)("zoomMin",null==r.currentOptions?null:r.currentOptions.previewZoomMin)("zoomInIcon",null==r.currentOptions?null:r.currentOptions.zoomInIcon)("zoomOutIcon",null==r.currentOptions?null:r.currentOptions.zoomOutIcon)("actions",null==r.currentOptions?null:r.currentOptions.actions)("rotate",null==r.currentOptions?null:r.currentOptions.previewRotate)("rotateLeftIcon",null==r.currentOptions?null:r.currentOptions.rotateLeftIcon)("rotateRightIcon",null==r.currentOptions?null:r.currentOptions.rotateRightIcon)("download",null==r.currentOptions?null:r.currentOptions.previewDownload)("downloadIcon",null==r.currentOptions?null:r.currentOptions.downloadIcon)("bullets",null==r.currentOptions?null:r.currentOptions.previewBullets))},dependencies:[ge,pe,we,g.O5,g.mk],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),c})(),Ie=(()=>{class c extends h.hm{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return c.\u0275fac=function(){let l;return function(r){return(l||(l=t.\u0275\u0275getInheritedFactory(c)))(r||c)}}(),c.\u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac}),c})(),be=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:h.ok,useClass:Ie}],imports:[[g.ez]]}),c})()}}]);