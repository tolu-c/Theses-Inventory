"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8154,3682],{98151:(me,j,r)=>{r.d(j,{T:()=>G,e:()=>F});var x=r(65521),M=r(29128);const G="bitstream-formats";function F(){return new x.R((0,M.T)(),G).toString()}},23933:(me,j,r)=>{r.r(j),r.d(j,{AdminRegistriesModule:()=>De});var x=r(51703),M=r(35841),G=r(60276),F=r(53426),N=r(45180),i=r(77007),L=r(21160),k=r(77176),E=r(48358),Q=r(45608),e=r(65384),T=r(6144);function w(d,_){return Object.assign(new T.R,_,{currentPage:d.currentPage,elementsPerPage:d.pageSize})}var O=r(10572),ae=r(81323),t=r(98678),A=r(67522),K=r(96342),P=r(35103),H=r(78530),J=r(5737),ye=r(87893),ke=r(27303),Ce=r(10417),re=r(5476),Ie=r(82485);function Y(d,_){1&d&&t.\u0275\u0275element(0,"div")}function D(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,l.messagePrefix+".create"))}}function oe(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,l.messagePrefix+".edit"))}}let xe=(()=>{class d{constructor(l,c,u){this.registryService=l,this.formBuilderService=c,this.translateService=u,this.formId="metadata-schema-form",this.messagePrefix="admin.registries.metadata.form",this.formLayout={name:{grid:{host:"col col-sm-6 d-inline-block"}},namespace:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new t.EventEmitter}ngOnInit(){(0,F.a)([this.translateService.get(`${this.messagePrefix}.name`),this.translateService.get(`${this.messagePrefix}.namespace`)]).subscribe(([l,c])=>{this.name=new J.b1u({id:"name",label:l,name:"name",validators:{required:null,pattern:"^[^. ,]*$",maxLength:32},required:!0,errorMessages:{pattern:"error.validation.metadata.name.invalid-pattern",maxLength:"error.validation.metadata.name.max-length"}}),this.namespace=new J.b1u({id:"namespace",label:c,name:"namespace",validators:{required:null,maxLength:256},required:!0,errorMessages:{maxLength:"error.validation.metadata.namespace.max-length"}}),this.formModel=[new J.S_O({id:"metadatadataschemagroup",group:[this.namespace,this.name]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataSchema().subscribe(u=>{null==u?this.clearFields():(this.formGroup.patchValue({metadatadataschemagroup:{name:u.prefix,namespace:u.namespace}}),this.name.disabled=!0)})})}onCancel(){this.registryService.cancelEditMetadataSchema()}onSubmit(){this.registryService.getActiveMetadataSchema().pipe((0,k.q)(1),(0,L.w)(l=>{const c={prefix:this.name.value,namespace:this.namespace.value};let u;if(null==l)u=this.registryService.createOrUpdateMetadataSchema(Object.assign(new Ce.B,c));else{const v=Object.assign(new Ce.B,l,{namespace:c.namespace});u=this.registryService.createOrUpdateMetadataSchema(v)}return u}),(0,ke.b)(()=>{this.registryService.clearMetadataSchemaRequests().subscribe()})).subscribe(l=>{this.submitForm.emit(l),this.clearFields(),this.registryService.cancelEditMetadataSchema()})}clearFields(){this.formGroup.reset("metadatadataschemagroup"),this.name.disabled=!1}ngOnDestroy(){this.onCancel()}}return d.\u0275fac=function(l){return new(l||d)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(ye.c),t.\u0275\u0275directiveInject(K.sK))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-metadata-schema-form"]],outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formGroup","formLayout","cancel","submitForm"]],template:function(l,c){if(1&l&&(t.\u0275\u0275template(0,Y,1,0,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,D,3,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,oe,3,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"ds-form",3),t.\u0275\u0275listener("cancel",function(){return c.onCancel()})("submitForm",function(){return c.onSubmit()}),t.\u0275\u0275elementEnd()),2&l){const u=t.\u0275\u0275reference(3),v=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,7,c.registryService.getActiveMetadataSchema()))("ngIfThen",v)("ngIfElse",u),t.\u0275\u0275advance(6),t.\u0275\u0275property("formId",c.formId)("formModel",c.formModel)("formGroup",c.formGroup)("formLayout",c.formLayout)}},dependencies:[P.O5,re.JL,re.sg,Ie.U,P.Ov,K.X$],encapsulation:2}),d})();const se=function(d){return{"table-primary":d}},ce=function(d){return[d]};function Te(d,_){if(1&d){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",14),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"td")(3,"label",15)(4,"input",16),t.\u0275\u0275listener("change",function(u){const y=t.\u0275\u0275restoreView(l).$implicit,R=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(R.selectMetadataSchema(y,u))}),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"td",17),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(y.editSchema(v))}),t.\u0275\u0275elementStart(7,"a",18),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"td",17),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(y.editSchema(v))}),t.\u0275\u0275elementStart(10,"a",18),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"td",17),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(y.editSchema(v))}),t.\u0275\u0275elementStart(13,"a",18),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()()()}if(2&d){const l=_.$implicit,c=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(12,se,t.\u0275\u0275pipeBind1(1,8,c.isActive(l)))),t.\u0275\u0275advance(4),t.\u0275\u0275property("checked",t.\u0275\u0275pipeBind1(5,10,c.isSelected(l))),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(14,ce,l.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(l.id),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(16,ce,l.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(l.namespace),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(18,ce,l.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(l.prefix)}}function Re(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"ds-pagination",9),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"div",10)(3,"table",11)(4,"thead")(5,"tr"),t.\u0275\u0275element(6,"th",12),t.\u0275\u0275elementStart(7,"th",12),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"th",12),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"th",12),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"tbody"),t.\u0275\u0275template(17,Te,15,20,"tr",13),t.\u0275\u0275pipe(18,"async"),t.\u0275\u0275elementEnd()()()()),2&d){const l=t.\u0275\u0275nextContext();let c,u;t.\u0275\u0275property("paginationOptions",l.config)("collectionSize",null==(c=t.\u0275\u0275pipeBind1(1,8,l.metadataSchemas))||null==c.payload?null:c.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,10,"admin.registries.metadata.schemas.table.id")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,12,"admin.registries.metadata.schemas.table.namespace")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,14,"admin.registries.metadata.schemas.table.name")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==(u=t.\u0275\u0275pipeBind1(18,16,l.metadataSchemas))||null==u.payload?null:u.payload.page)}}function Ae(d,_){1&d&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"admin.registries.metadata.schemas.no-items")," "))}function C(d,_){if(1&d){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(l);const u=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(u.deleteSchemas())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"admin.registries.metadata.schemas.table.delete")))}let W=(()=>{class d{constructor(l,c,u,v,y){this.registryService=l,this.notificationsService=c,this.router=u,this.paginationService=v,this.translateService=y,this.config=Object.assign(new N.r,{id:"rm",pageSize:25}),this.needsUpdate$=new M.X(!0),this.updateSchemas()}updateSchemas(){this.metadataSchemas=this.needsUpdate$.pipe((0,i.h)(l=>!0===l),(0,L.w)(()=>this.paginationService.getCurrentPagination(this.config.id,this.config)),(0,L.w)(l=>this.registryService.getMetadataSchemas(w(l))))}forceUpdateSchemas(){this.needsUpdate$.next(!0)}editSchema(l){this.getActiveSchema().pipe((0,k.q)(1)).subscribe(c=>{l===c?this.registryService.cancelEditMetadataSchema():this.registryService.editMetadataSchema(l)})}isActive(l){return this.getActiveSchema().pipe((0,E.U)(c=>l===c))}getActiveSchema(){return this.registryService.getActiveMetadataSchema()}selectMetadataSchema(l,c){c.target.checked?this.registryService.selectMetadataSchema(l):this.registryService.deselectMetadataSchema(l)}isSelected(l){return this.registryService.getSelectedMetadataSchemas().pipe((0,E.U)(c=>null!=c.find(u=>u===l)))}deleteSchemas(){this.registryService.getSelectedMetadataSchemas().pipe((0,k.q)(1)).subscribe(l=>{const c=[];for(const u of l)(0,Q.Uh)(u.id)&&c.push(this.registryService.deleteMetadataSchema(u.id).pipe((0,O.hC)()));(0,G.$)(...c).subscribe(u=>{const v=u.filter(R=>R.hasSucceeded),y=u.filter(R=>R.hasFailed);v.length>0&&this.showNotification(!0,v.length),y.length>0&&this.showNotification(!1,y.length),this.registryService.deselectAllMetadataSchema(),this.registryService.cancelEditMetadataSchema()})})}showNotification(l,c){const u="admin.registries.schema.notification",v=l?"success":"failure";(0,F.a)(this.translateService.get(`${u}.${v}`),this.translateService.get(`${u}.deleted.${v}`,{amount:c})).subscribe(([R,ne])=>{l?this.notificationsService.success(R,ne):this.notificationsService.error(R,ne)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return d.\u0275fac=function(l){return new(l||d)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(e.T),t.\u0275\u0275directiveInject(A.F0),t.\u0275\u0275directiveInject(ae.N),t.\u0275\u0275directiveInject(K.sK))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-metadata-registry"]],decls:17,vars:15,consts:[[1,"container"],[1,"metadata-registry","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"submitForm"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-schemas",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"mb-0"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[3,"routerLink"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(l,c){if(1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",4),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"ds-metadata-schema-form",5),t.\u0275\u0275listener("submitForm",function(){return c.forceUpdateSchemas()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,Re,19,18,"ds-pagination",6),t.\u0275\u0275pipe(11,"async"),t.\u0275\u0275template(12,Ae,3,3,"div",7),t.\u0275\u0275pipe(13,"async"),t.\u0275\u0275elementStart(14,"div"),t.\u0275\u0275template(15,C,3,3,"button",8),t.\u0275\u0275pipe(16,"async"),t.\u0275\u0275elementEnd()()()()),2&l){let u,v,y;t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,"admin.registries.metadata.head")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"admin.registries.metadata.description")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(u=t.\u0275\u0275pipeBind1(11,9,c.metadataSchemas))||null==u.payload?null:u.payload.totalElements)>0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",0==(null==(v=t.\u0275\u0275pipeBind1(13,11,c.metadataSchemas))||null==v.payload?null:v.payload.totalElements)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(y=t.\u0275\u0275pipeBind1(16,13,c.metadataSchemas))||null==y.payload||null==y.payload.page?null:y.payload.page.length)>0)}},dependencies:[P.mk,P.sg,P.O5,A.rH,H.Q,xe,P.Ov,K.X$],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]     #metadatadataschemagroup{display:flex}"]}),d})();var $=r(9237),Z=r(41966),V=r(62404);function q(d,_){1&d&&t.\u0275\u0275element(0,"div")}function ee(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,l.messagePrefix+".create"))}}function X(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,l.messagePrefix+".edit"))}}let te=(()=>{class d{constructor(l,c,u){this.registryService=l,this.formBuilderService=c,this.translateService=u,this.formId="metadata-field-form",this.messagePrefix="admin.registries.schema.form",this.formLayout={element:{grid:{host:"col col-sm-6 d-inline-block"}},qualifier:{grid:{host:"col col-sm-6 d-inline-block"}},scopeNote:{grid:{host:"col col-sm-12 d-inline-block"}}},this.submitForm=new t.EventEmitter}ngOnInit(){(0,F.a)([this.translateService.get(`${this.messagePrefix}.element`),this.translateService.get(`${this.messagePrefix}.qualifier`),this.translateService.get(`${this.messagePrefix}.scopenote`)]).subscribe(([l,c,u])=>{this.element=new J.b1u({id:"element",label:l,name:"element",validators:{required:null,pattern:"^[^. ,]*$",maxLength:64},required:!0,errorMessages:{pattern:"error.validation.metadata.element.invalid-pattern",maxLength:"error.validation.metadata.element.max-length"}}),this.qualifier=new J.b1u({id:"qualifier",label:c,name:"qualifier",validators:{pattern:"^[^. ,]*$",maxLength:64},required:!1,errorMessages:{pattern:"error.validation.metadata.qualifier.invalid-pattern",maxLength:"error.validation.metadata.qualifier.max-length"}}),this.scopeNote=new J.HBf({id:"scopeNote",label:u,name:"scopeNote",required:!1,rows:5}),this.formModel=[new J.S_O({id:"metadatadatafieldgroup",group:[this.element,this.qualifier,this.scopeNote]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataField().subscribe(v=>{null==v?this.clearFields():(this.formGroup.patchValue({metadatadatafieldgroup:{element:v.element,qualifier:v.qualifier,scopeNote:v.scopeNote}}),this.element.disabled=!0,this.qualifier.disabled=!0)})})}onCancel(){this.registryService.cancelEditMetadataField()}onSubmit(){this.registryService.getActiveMetadataField().pipe((0,k.q)(1)).subscribe(l=>{null==l?this.registryService.createMetadataField(Object.assign(new V.b,{element:this.element.value,qualifier:this.qualifier.value,scopeNote:this.scopeNote.value}),this.metadataSchema).subscribe(c=>{this.submitForm.emit(c)}):this.registryService.updateMetadataField(Object.assign(new V.b,l,{id:l.id,element:l.element,qualifier:l.qualifier,scopeNote:this.scopeNote.value})).subscribe(c=>{this.submitForm.emit(c)}),this.clearFields(),this.registryService.cancelEditMetadataField()})}clearFields(){this.formGroup.reset("metadatadatafieldgroup"),this.element.disabled=!1,this.qualifier.disabled=!1}ngOnDestroy(){this.onCancel()}}return d.\u0275fac=function(l){return new(l||d)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(ye.c),t.\u0275\u0275directiveInject(K.sK))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-metadata-field-form"]],inputs:{metadataSchema:"metadataSchema"},outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formLayout","formGroup","cancel","submit"]],template:function(l,c){if(1&l&&(t.\u0275\u0275template(0,q,1,0,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,ee,3,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,X,3,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"ds-form",3),t.\u0275\u0275listener("cancel",function(){return c.onCancel()})("submit",function(){return c.onSubmit()}),t.\u0275\u0275elementEnd()),2&l){const u=t.\u0275\u0275reference(3),v=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,7,c.registryService.getActiveMetadataField()))("ngIfThen",v)("ngIfElse",u),t.\u0275\u0275advance(6),t.\u0275\u0275property("formId",c.formId)("formModel",c.formModel)("formLayout",c.formLayout)("formGroup",c.formGroup)}},dependencies:[P.O5,re.JL,re.sg,Ie.U,P.Ov,K.X$],encapsulation:2}),d})();const f=function(d){return{"table-primary":d}};function I(d,_){if(1&d){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",17),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"td")(3,"label",18)(4,"input",19),t.\u0275\u0275listener("change",function(u){const y=t.\u0275\u0275restoreView(l).$implicit,R=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(R.selectMetadataField(y,u))}),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"td",20),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(y.editField(v))}),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"td",20),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(y.editField(v))}),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"td",20),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(l).$implicit,y=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(y.editField(v))}),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()()}if(2&d){const l=_.$implicit,c=t.\u0275\u0275nextContext(3).ngVar,u=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(11,f,t.\u0275\u0275pipeBind1(1,7,u.isActive(l)))),t.\u0275\u0275advance(4),t.\u0275\u0275property("checked",t.\u0275\u0275pipeBind1(5,9,u.isSelected(l))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(l.id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate3("",null==c?null:c.prefix,".",l.element,"",l.qualifier?"."+l.qualifier:"",""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(l.scopeNote)}}function m(d,_){if(1&d&&(t.\u0275\u0275elementStart(0,"ds-pagination",12)(1,"div",13)(2,"table",14)(3,"thead")(4,"tr"),t.\u0275\u0275element(5,"th"),t.\u0275\u0275elementStart(6,"th",15),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"th",15),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"th",15),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"tbody"),t.\u0275\u0275template(16,I,12,13,"tr",16),t.\u0275\u0275elementEnd()()()()),2&d){const l=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("paginationOptions",c.config)("pageInfoState",l)("collectionSize",null==l?null:l.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,9,"admin.registries.schema.fields.table.id")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,11,"admin.registries.schema.fields.table.field")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(14,13,"admin.registries.schema.fields.table.scopenote")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==l?null:l.page)}}function h(d,_){1&d&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"admin.registries.schema.fields.no-items")," "))}function g(d,_){if(1&d){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",22),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(l);const u=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(u.deleteFields())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"admin.registries.schema.fields.table.delete")))}const b=function(){return["/admin/registries/metadata"]};function B(d,_){if(1&d&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,m,17,15,"ds-pagination",8),t.\u0275\u0275template(2,h,3,3,"div",9),t.\u0275\u0275elementStart(3,"div")(4,"button",10),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,g,3,3,"button",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&d){const l=_.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==l?null:l.totalElements)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==(null==l?null:l.totalElements)),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(7,b)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,5,"admin.registries.schema.return")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==l||null==l.page?null:l.page.length)>0)}}const U=function(d){return{namespace:d}};function de(d,_){if(1&d){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3)(1,"h2",4),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",5),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"ds-metadata-field-form",6),t.\u0275\u0275listener("submitForm",function(){t.\u0275\u0275restoreView(l);const u=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(u.forceUpdateFields())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"h3"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,B,8,8,"ng-container",7),t.\u0275\u0275pipe(12,"async"),t.\u0275\u0275elementEnd()}if(2&d){const l=_.ngVar,c=t.\u0275\u0275nextContext();let u;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(3,6,"admin.registries.schema.head"),': "',null==l?null:l.prefix,'"'),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(6,8,"admin.registries.schema.description",t.\u0275\u0275pureFunction1(15,U,null==l?null:l.namespace))),t.\u0275\u0275advance(2),t.\u0275\u0275property("metadataSchema",l),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,11,"admin.registries.schema.fields.head")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",null==(u=t.\u0275\u0275pipeBind1(12,13,c.metadataFields$))?null:u.payload)}}let le=(()=>{class d{constructor(l,c,u,v,y,R){this.registryService=l,this.route=c,this.notificationsService=u,this.router=v,this.paginationService=y,this.translateService=R,this.config=Object.assign(new N.r,{id:"rm",pageSize:25,pageSizeOptions:[25,50,100,200]}),this.needsUpdate$=new M.X(!0)}ngOnInit(){this.route.params.subscribe(l=>{this.initialize(l)})}initialize(l){this.metadataSchema$=this.registryService.getMetadataSchemaByPrefix(l.schemaName).pipe((0,O.Gp)()),this.updateFields()}updateFields(){this.metadataFields$=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,L.w)(l=>(0,F.a)(this.metadataSchema$,this.needsUpdate$,(0,$.of)(l))),(0,L.w)(([l,c,u])=>(c&&this.needsUpdate$.next(!1),this.registryService.getMetadataFieldsBySchema(l,w(u),!c,!0))))}forceUpdateFields(){this.registryService.clearMetadataFieldRequests(),this.needsUpdate$.next(!0)}editField(l){this.getActiveField().pipe((0,k.q)(1)).subscribe(c=>{l===c?this.registryService.cancelEditMetadataField():this.registryService.editMetadataField(l)})}isActive(l){return this.getActiveField().pipe((0,E.U)(c=>l===c))}getActiveField(){return this.registryService.getActiveMetadataField()}selectMetadataField(l,c){c.target.checked?this.registryService.selectMetadataField(l):this.registryService.deselectMetadataField(l)}isSelected(l){return this.registryService.getSelectedMetadataFields().pipe((0,E.U)(c=>null!=c.find(u=>u===l)))}deleteFields(){this.registryService.getSelectedMetadataFields().pipe((0,k.q)(1)).subscribe(l=>{const c=[];for(const u of l)(0,Q.Uh)(u.id)&&c.push(this.registryService.deleteMetadataField(u.id).pipe((0,O.hC)()));(0,G.$)(...c).subscribe(u=>{const v=u.filter(R=>R.hasSucceeded),y=u.filter(R=>R.hasFailed);v.length>0&&this.showNotification(!0,v.length),y.length>0&&this.showNotification(!1,y.length),this.registryService.deselectAllMetadataField(),this.registryService.cancelEditMetadataField()})})}showNotification(l,c){const u="admin.registries.schema.notification",v=l?"success":"failure";(0,F.a)(this.translateService.get(`${u}.${v}`),this.translateService.get(`${u}.field.deleted.${v}`,{amount:c})).subscribe(([R,ne])=>{l?this.notificationsService.success(R,ne):this.notificationsService.error(R,ne)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return d.\u0275fac=function(l){return new(l||d)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(A.gz),t.\u0275\u0275directiveInject(e.T),t.\u0275\u0275directiveInject(A.F0),t.\u0275\u0275directiveInject(ae.N),t.\u0275\u0275directiveInject(K.sK))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-metadata-schema"]],decls:4,vars:3,consts:[[1,"container"],[1,"metadata-schema","row"],["class","col-12",4,"ngVar"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"metadataSchema","submitForm"],[4,"ngVar"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-fields",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"mb-0"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(l,c){1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275template(2,de,13,17,"div",2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()()),2&l&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(3,1,c.metadataSchema$)))},dependencies:[P.mk,P.sg,P.O5,A.rH,H.Q,Z.g,te,P.Ov,K.X$],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]     #metadatadatafieldgroup{display:flex;flex-wrap:wrap}"]}),d})();var Be=r(76457),We=r(98151);let $e=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=t.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=t.\u0275\u0275defineInjector({imports:[A.Bz.forChild([{path:"metadata",resolve:{breadcrumb:Be.t},data:{title:"admin.registries.metadata.title",breadcrumbKey:"admin.registries.metadata"},children:[{path:"",component:W},{path:":schemaName",resolve:{breadcrumb:Be.t},component:le,data:{title:"admin.registries.schema.title",breadcrumbKey:"admin.registries.schema"}}]},{path:We.T,resolve:{breadcrumb:Be.t},loadChildren:()=>Promise.resolve().then(r.bind(r,15767)).then(_=>_.BitstreamFormatsModule),data:{title:"admin.registries.bitstream-formats.title",breadcrumbKey:"admin.registries.bitstream-formats"}}])]}),d})();var Ge=r(57999),je=r(15767),pe=r(50867);let De=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=t.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=t.\u0275\u0275defineInjector({imports:[P.ez,Ge.m,A.Bz,je.BitstreamFormatsModule,$e,pe.e]}),d})()},15767:(me,j,r)=>{r.r(j),r.d(j,{BitstreamFormatsModule:()=>te});var x=r(35103),M=r(67522),G=r(57999),F=r(93583),N=r(10572),i=r(98678);let L=(()=>{class f{constructor(m){this.bitstreamFormatDataService=m}resolve(m,h){return this.bitstreamFormatDataService.findById(m.params.id).pipe((0,N.hC)())}}return f.\u0275fac=function(m){return new(m||f)(i.\u0275\u0275inject(F.O))},f.\u0275prov=i.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),f})();var k=r(48358),E=r(65384),Q=r(98151),e=r(96342),T=r(88e3),w=r(11804),O=r(5737),ae=r(45608),t=r(76774),A=r(82485);function K(f,I){if(1&f){const m=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"ds-form",1),i.\u0275\u0275listener("submitForm",function(){i.\u0275\u0275restoreView(m);const g=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(g.onSubmit())})("cancel",function(){i.\u0275\u0275restoreView(m);const g=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(g.onCancel())}),i.\u0275\u0275elementEnd()}if(2&f){const m=i.\u0275\u0275nextContext();i.\u0275\u0275property("formId","comcol-form-id")("formModel",m.formModel)}}let P=(()=>{class f{constructor(m,h,g){this.dynamicFormService=m,this.translateService=h,this.router=g,this.bitstreamFormat=new T.A,this.updatedFormat=new i.EventEmitter,this.supportLevelOptions=[{label:w.o.Known,value:w.o.Known},{label:w.o.Unknown,value:w.o.Unknown},{label:w.o.Supported,value:w.o.Supported}],this.arrayElementLayout={grid:{group:"form-row"}},this.arrayInputElementLayout={grid:{host:"col"}},this.formModel=[new O.b1u({id:"shortDescription",name:"shortDescription",label:"admin.registries.bitstream-formats.edit.shortDescription.label",hint:"admin.registries.bitstream-formats.edit.shortDescription.hint",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this bitstream format"}}),new O.b1u({id:"mimetype",name:"mimetype",label:"admin.registries.bitstream-formats.edit.mimetype.label",hint:"admin.registries.bitstream-formats.edit.mimetype.hint"}),new O.HBf({id:"description",name:"description",label:"admin.registries.bitstream-formats.edit.description.label",hint:"admin.registries.bitstream-formats.edit.description.hint",spellCheck:t.N.form.spellCheck}),new O.nMt({id:"supportLevel",name:"supportLevel",options:this.supportLevelOptions,label:"admin.registries.bitstream-formats.edit.supportLevel.label",hint:"admin.registries.bitstream-formats.edit.supportLevel.hint",value:this.supportLevelOptions[0].value}),new O.dwp({id:"internal",name:"internal",label:"Internal",hint:"admin.registries.bitstream-formats.edit.internal.hint"}),new O.RRz({id:"extensions",name:"extensions",label:"admin.registries.bitstream-formats.edit.extensions.label",groupFactory:()=>[new O.b1u({id:"extension",placeholder:"admin.registries.bitstream-formats.edit.extensions.placeholder"},this.arrayInputElementLayout)]},this.arrayElementLayout)]}ngOnInit(){this.initValues()}initValues(){this.formModel.forEach(m=>{if("extensions"===m.name){if((0,ae.Uh)(this.bitstreamFormat.extensions)){const h=this.bitstreamFormat.extensions,g=m;for(let b=0;b<h.length;b++)g.insertGroup(b).group[0]=new O.b1u({id:`extension-${b}`,value:h[b]},this.arrayInputElementLayout)}}else(0,ae.Uh)(this.bitstreamFormat[m.name])&&(m.value=this.bitstreamFormat[m.name])})}onSubmit(){const m=Object.assign(new T.A,{id:this.bitstreamFormat.id});this.formModel.forEach(h=>{if("extensions"===h.name){const g=h,b=[];for(let B=0;B<g.groups.length;B++){const U=g.get(B).get(0).value;(0,ae.xb)(U)||b.push(g.get(B).get(0).value)}m.extensions=b}else m[h.name]=h.value}),this.updatedFormat.emit(m)}onCancel(){this.router.navigate([(0,Q.e)()])}}return f.\u0275fac=function(m){return new(m||f)(i.\u0275\u0275directiveInject(O.w1X),i.\u0275\u0275directiveInject(e.sK),i.\u0275\u0275directiveInject(M.F0))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-bitstream-format-form"]],inputs:{bitstreamFormat:"bitstreamFormat"},outputs:{updatedFormat:"updatedFormat"},decls:1,vars:1,consts:[[3,"formId","formModel","submitForm","cancel",4,"ngIf"],[3,"formId","formModel","submitForm","cancel"]],template:function(m,h){1&m&&i.\u0275\u0275template(0,K,1,2,"ds-form",0),2&m&&i.\u0275\u0275property("ngIf",h.formModel)},dependencies:[x.O5,A.U],encapsulation:2}),f})();const H=function(f){return{format:f}};let J=(()=>{class f{constructor(m,h,g,b,B){this.route=m,this.router=h,this.notificationService=g,this.translateService=b,this.bitstreamFormatDataService=B}ngOnInit(){this.bitstreamFormatRD$=this.route.data.pipe((0,k.U)(m=>m.bitstreamFormat))}updateFormat(m){this.bitstreamFormatDataService.updateBitstreamFormat(m).pipe((0,N.hC)()).subscribe(h=>{h.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.edit.success.head"),this.translateService.get("admin.registries.bitstream-formats.edit.success.content")),this.router.navigate([(0,Q.e)()])):this.notificationService.error("admin.registries.bitstream-formats.edit.failure.head","admin.registries.bitstream-formats.create.edit.content")})}}return f.\u0275fac=function(m){return new(m||f)(i.\u0275\u0275directiveInject(M.gz),i.\u0275\u0275directiveInject(M.F0),i.\u0275\u0275directiveInject(E.T),i.\u0275\u0275directiveInject(e.sK),i.\u0275\u0275directiveInject(F.O))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-edit-bitstream-format"]],decls:9,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"bitstreamFormat","updatedFormat"]],template:function(m,h){if(1&m&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.\u0275\u0275text(4),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275pipe(6,"async"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"ds-bitstream-format-form",4),i.\u0275\u0275listener("updatedFormat",function(b){return h.updateFormat(b)}),i.\u0275\u0275pipe(8,"async"),i.\u0275\u0275elementEnd()()()()),2&m){let g,b;i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind2(5,2,"admin.registries.bitstream-formats.edit.head",i.\u0275\u0275pureFunction1(9,H,null==(g=i.\u0275\u0275pipeBind1(6,5,h.bitstreamFormatRD$))?null:g.payload.shortDescription))),i.\u0275\u0275advance(3),i.\u0275\u0275property("bitstreamFormat",null==(b=i.\u0275\u0275pipeBind1(8,7,h.bitstreamFormatRD$))?null:b.payload)}},dependencies:[P,x.Ov,e.X$],encapsulation:2}),f})();var ye=r(53426),ke=r(45180),Ce=r(77176),re=r(69637),Ie=r(91519),Y=r(21160),D=r(81323),oe=r(78530);function xe(f,I){1&f&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&f&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1("(",i.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.internal"),")"))}const se=function(f){return["/admin/registries/bitstream-formats",f,"edit"]};function ce(f,I){if(1&f){const m=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"label",16)(3,"input",17),i.\u0275\u0275listener("change",function(g){const B=i.\u0275\u0275restoreView(m).$implicit,U=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(U.selectBitStreamFormat(B,g))}),i.\u0275\u0275pipe(4,"async"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(5,"td")(6,"a",18),i.\u0275\u0275text(7),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(8,"td")(9,"a",18),i.\u0275\u0275text(10),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(11,"td")(12,"a",18),i.\u0275\u0275text(13),i.\u0275\u0275template(14,xe,3,3,"span",19),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(15,"td")(16,"a",18),i.\u0275\u0275text(17),i.\u0275\u0275pipe(18,"translate"),i.\u0275\u0275elementEnd()()()}if(2&f){const m=I.$implicit,h=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("checked",i.\u0275\u0275pipeBind1(4,10,h.isSelected(m))),i.\u0275\u0275advance(3),i.\u0275\u0275property("routerLink",i.\u0275\u0275pureFunction1(14,se,m.id)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(m.id),i.\u0275\u0275advance(2),i.\u0275\u0275property("routerLink",i.\u0275\u0275pureFunction1(16,se,m.id)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(m.shortDescription),i.\u0275\u0275advance(2),i.\u0275\u0275property("routerLink",i.\u0275\u0275pureFunction1(18,se,m.id)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1("",m.mimetype," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",m.internal),i.\u0275\u0275advance(2),i.\u0275\u0275property("routerLink",i.\u0275\u0275pureFunction1(20,se,m.id)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(18,12,"admin.registries.bitstream-formats.table.supportLevel."+m.supportLevel))}}function Te(f,I){if(1&f&&(i.\u0275\u0275elementStart(0,"ds-pagination",11),i.\u0275\u0275pipe(1,"async"),i.\u0275\u0275pipe(2,"async"),i.\u0275\u0275elementStart(3,"div",12)(4,"table",13)(5,"thead")(6,"tr"),i.\u0275\u0275element(7,"th",14),i.\u0275\u0275elementStart(8,"th",14),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"th",14),i.\u0275\u0275text(12),i.\u0275\u0275pipe(13,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(14,"th",14),i.\u0275\u0275text(15),i.\u0275\u0275pipe(16,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(17,"th",14),i.\u0275\u0275text(18),i.\u0275\u0275pipe(19,"translate"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(20,"tbody"),i.\u0275\u0275template(21,ce,19,22,"tr",15),i.\u0275\u0275pipe(22,"async"),i.\u0275\u0275elementEnd()()()()),2&f){const m=i.\u0275\u0275nextContext();let h,g,b;i.\u0275\u0275property("paginationOptions",m.pageConfig)("pageInfoState",null==(h=i.\u0275\u0275pipeBind1(1,10,m.bitstreamFormats))?null:h.payload)("collectionSize",null==(g=i.\u0275\u0275pipeBind1(2,12,m.bitstreamFormats))||null==g.payload?null:g.payload.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),i.\u0275\u0275advance(9),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(10,14,"admin.registries.bitstream-formats.table.id")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(13,16,"admin.registries.bitstream-formats.table.name")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(16,18,"admin.registries.bitstream-formats.table.mimetype")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(19,20,"admin.registries.bitstream-formats.table.supportLevel.head")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngForOf",null==(b=i.\u0275\u0275pipeBind1(22,22,m.bitstreamFormats))||null==b.payload?null:b.payload.page)}}function Re(f,I){1&f&&(i.\u0275\u0275elementStart(0,"div",20),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&f&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.no-items")," "))}function Ae(f,I){if(1&f){const m=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",21),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(m);const g=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(g.deselectAll())}),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()}2&f&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.deselect-all")))}function C(f,I){if(1&f){const m=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",22),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(m);const g=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(g.deleteFormats())}),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()}2&f&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.delete")))}let W=(()=>{class f{constructor(m,h,g,b,B){this.notificationsService=m,this.router=h,this.translateService=g,this.bitstreamFormatService=b,this.paginationService=B,this.pageConfig=Object.assign(new ke.r,{id:"rbp",pageSize:20,pageSizeOptions:[20,40,60,80,100]})}deleteFormats(){this.bitstreamFormatService.clearBitStreamFormatRequests(),this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,Ce.q)(1),(0,re.z)(m=>m),(0,re.z)(m=>this.bitstreamFormatService.delete(m.id).pipe((0,N.hC)(),(0,k.U)(h=>h.hasSucceeded))),(0,Ie.q)()).subscribe(m=>{const h=m.filter(b=>b),g=m.filter(b=>!b);h.length>0&&this.showNotification(!0,h.length),g.length>0&&this.showNotification(!1,g.length),this.deselectAll(),this.paginationService.resetPage(this.pageConfig.id)})}deselectAll(){this.bitstreamFormatService.deselectAllBitstreamFormats()}isSelected(m){return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,k.U)(h=>null!=h.find(g=>g.id===m.id)))}selectBitStreamFormat(m,h){h.target.checked?this.bitstreamFormatService.selectBitstreamFormat(m):this.bitstreamFormatService.deselectBitstreamFormat(m)}showNotification(m,h){const g="admin.registries.bitstream-formats.delete",b=m?"success":"failure";(0,ye.a)(this.translateService.get(`${g}.${b}.head`),this.translateService.get(`${g}.${b}.amount`,{amount:h})).subscribe(([U,de])=>{m?this.notificationsService.success(U,de):this.notificationsService.error(U,de)})}ngOnInit(){this.bitstreamFormats=this.paginationService.getFindListOptions(this.pageConfig.id,this.pageConfig).pipe((0,Y.w)(m=>this.bitstreamFormatService.findAll(m)))}ngOnDestroy(){this.paginationService.clearPagination(this.pageConfig.id)}}return f.\u0275fac=function(m){return new(m||f)(i.\u0275\u0275directiveInject(E.T),i.\u0275\u0275directiveInject(M.F0),i.\u0275\u0275directiveInject(e.sK),i.\u0275\u0275directiveInject(F.O),i.\u0275\u0275directiveInject(D.N))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-bitstream-formats"]],decls:22,vars:22,consts:[[1,"container"],[1,"bitstream-formats","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description"],["id","create-new",1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","btn btn-primary deselect",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","formats",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"mb-0"],["type","checkbox",3,"checked","change"],[3,"routerLink"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"btn","btn-primary","deselect",3,"click"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(m,h){if(1&m&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.\u0275\u0275text(4),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"p",4),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(9,"p",5)(10,"a",6),i.\u0275\u0275text(11),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(13,Te,23,24,"ds-pagination",7),i.\u0275\u0275pipe(14,"async"),i.\u0275\u0275template(15,Re,3,3,"div",8),i.\u0275\u0275pipe(16,"async"),i.\u0275\u0275elementStart(17,"div"),i.\u0275\u0275template(18,Ae,3,3,"button",9),i.\u0275\u0275pipe(19,"async"),i.\u0275\u0275template(20,C,3,3,"button",10),i.\u0275\u0275pipe(21,"async"),i.\u0275\u0275elementEnd()()()()),2&m){let g,b,B,U;i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(5,8,"admin.registries.bitstream-formats.head")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(8,10,"admin.registries.bitstream-formats.description")),i.\u0275\u0275advance(3),i.\u0275\u0275property("routerLink","add"),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(12,12,"admin.registries.bitstream-formats.create.new")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",(null==(g=i.\u0275\u0275pipeBind1(14,14,h.bitstreamFormats))||null==g.payload?null:g.payload.totalElements)>0),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",0==(null==(b=i.\u0275\u0275pipeBind1(16,16,h.bitstreamFormats))||null==b.payload?null:b.payload.totalElements)),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",(null==(B=i.\u0275\u0275pipeBind1(19,18,h.bitstreamFormats))||null==B.payload||null==B.payload.page?null:B.payload.page.length)>0),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",(null==(U=i.\u0275\u0275pipeBind1(21,20,h.bitstreamFormats))||null==U.payload||null==U.payload.page?null:U.payload.page.length)>0)}},dependencies:[x.sg,x.O5,M.rH,oe.Q,x.Ov,e.X$],encapsulation:2}),f})(),$=(()=>{class f{constructor(m,h,g,b){this.router=m,this.notificationService=h,this.translateService=g,this.bitstreamFormatDataService=b}createBitstreamFormat(m){this.bitstreamFormatDataService.createBitstreamFormat(m).pipe((0,N.hC)()).subscribe(h=>{h.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.create.success.head"),this.translateService.get("admin.registries.bitstream-formats.create.success.content")),this.router.navigate([(0,Q.e)()]),this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe()):this.notificationService.error(this.translateService.get("admin.registries.bitstream-formats.create.failure.head"),this.translateService.get("admin.registries.bitstream-formats.create.failure.content"))})}}return f.\u0275fac=function(m){return new(m||f)(i.\u0275\u0275directiveInject(M.F0),i.\u0275\u0275directiveInject(E.T),i.\u0275\u0275directiveInject(e.sK),i.\u0275\u0275directiveInject(F.O))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-add-bitstream-format"]],decls:7,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"updatedFormat"]],template:function(m,h){1&m&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.\u0275\u0275text(4),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"ds-bitstream-format-form",4),i.\u0275\u0275listener("updatedFormat",function(b){return h.createBitstreamFormat(b)}),i.\u0275\u0275elementEnd()()()()),2&m&&(i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(5,1,"admin.registries.bitstream-formats.create.new")))},dependencies:[P,e.X$],encapsulation:2}),f})();var Z=r(76457);let ee=(()=>{class f{}return f.\u0275fac=function(m){return new(m||f)},f.\u0275mod=i.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=i.\u0275\u0275defineInjector({providers:[L],imports:[M.Bz.forChild([{path:"",component:W},{path:"add",resolve:{breadcrumb:Z.t},component:$,data:{breadcrumbKey:"admin.registries.bitstream-formats.create"}},{path:":id/edit",component:J,resolve:{bitstreamFormat:L,breadcrumb:Z.t},data:{breadcrumbKey:"admin.registries.bitstream-formats.edit"}}])]}),f})();var X=r(50867);let te=(()=>{class f{}return f.\u0275fac=function(m){return new(m||f)},f.\u0275mod=i.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=i.\u0275\u0275defineInjector({imports:[x.ez,G.m,M.Bz,ee,X.e]}),f})()},29128:(me,j,r)=>{r.d(j,{B:()=>G,T:()=>F});var x=r(65521),M=r(71213);const G="registries";function F(){return new x.R((0,M.V5)(),G).toString()}},63202:(me,j,r)=>{r.r(j),r.d(j,{AdminModule:()=>_n});var x=r(57999),M=r(13979),G=r(23933),F=r(67522),N=r(75286),i=r(2910),L=r(45608),k=r(65384),E=r(10572),Q=r(74423),e=r(98678),T=r(35103),w=r(96342),O=r(5476),ae=r(80544);let t=(()=>{class a{constructor(n,o,p,S,z){this.location=n,this.translate=o,this.notificationsService=p,this.scriptDataService=S,this.router=z,this.validateOnly=!0}setFile(n){this.fileObject=n}onReturn(){this.location.back()}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const n=[Object.assign(new i.N,{name:"-f",value:this.fileObject.name})];this.validateOnly&&n.push(Object.assign(new i.N,{name:"-v",value:!0})),this.scriptDataService.invoke(N.As,n,[this.fileObject]).pipe((0,E.hC)()).subscribe(o=>{if(o.hasSucceeded){const p=this.translate.get("process.new.notification.success.title"),S=this.translate.get("process.new.notification.success.content");this.notificationsService.success(p,S),(0,L.UE)(o.payload)&&this.router.navigateByUrl((0,Q.Ah)(o.payload.processId))}else{const p=this.translate.get("process.new.notification.error.title"),S=this.translate.get("process.new.notification.error.content");this.notificationsService.error(p,S)}})}}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(T.Ye),e.\u0275\u0275directiveInject(w.sK),e.\u0275\u0275directiveInject(k.T),e.\u0275\u0275directiveInject(N.UY),e.\u0275\u0275directiveInject(F.F0))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-metadata-import-page"]],decls:24,vars:21,consts:[[1,"container"],["id","header"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"input",4),e.\u0275\u0275listener("ngModelChange",function(S){return o.validateOnly=S}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"label",5),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"small",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"ds-file-dropzone-no-uploader",7),e.\u0275\u0275listener("onFileAdded",function(S){return o.setFile(S)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8)(18,"button",9),e.\u0275\u0275listener("click",function(){return o.onReturn()}),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",10),e.\u0275\u0275listener("click",function(){return o.importMetadata()}),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"admin.metadata-import.page.header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"admin.metadata-import.page.help")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",o.validateOnly),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"admin.metadata-import.page.validateOnly")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,15,"admin.metadata-import.page.validateOnly.hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,17,"admin.metadata-import.page.button.return")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,19,"admin.metadata-import.page.button.proceed")))},dependencies:[O.Wl,O.JJ,O.On,ae.n,w.X$],encapsulation:2}),a})();var A=r(97462),K=r(30624);let P=(()=>{class a{constructor(){this.context=A._.AdminSearch}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-admin-search-page"]],decls:1,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:function(n,o){1&n&&e.\u0275\u0275element(0,"ds-configuration-search-page",0),2&n&&e.\u0275\u0275property("context",o.context)},dependencies:[K.ConfigurationSearchPageComponent]}),a})();var H=r(76457);let J=(()=>{class a{constructor(){this.context=A._.AdminWorkflowSearch}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-admin-workflow-page"]],decls:1,vars:1,consts:[["configuration","supervision",3,"context"]],template:function(n,o){1&n&&e.\u0275\u0275element(0,"ds-configuration-search-page",0),2&n&&e.\u0275\u0275property("context",o.context)},dependencies:[K.ConfigurationSearchPageComponent]}),a})();var ye=r(26728),ke=r(62583);let Ce=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-admin-curation-task"]],decls:5,vars:3,consts:[[1,"container"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"ds-curation-form"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"admin.curation-tasks.header")))},dependencies:[ke._,w.X$],encapsulation:2}),a})();var re=r(29128),Ie=r(6465),Y=r(77176),D=r(8842),oe=r(65706),xe=r(1599);function se(a,s){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1," selected collection: "),e.\u0275\u0275elementStart(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4,"\xa0 "),e.\u0275\u0275elementStart(5,"a",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.removeDspaceObject())}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()}if(2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.getDspaceObjectName()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,2,"admin.batch-import.page.remove"))}}function ce(a,s){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-file-dropzone-no-uploader",17),e.\u0275\u0275listener("onFileAdded",function(p){e.\u0275\u0275restoreView(n);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.setFile(p))}),e.\u0275\u0275elementEnd()}2&a&&e.\u0275\u0275property("dropMessageLabel","admin.batch-import.page.dropMsg")("dropMessageLabelReplacement","admin.batch-import.page.dropMsgReplace")}function Te(a,s){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"input",19),e.\u0275\u0275listener("ngModelChange",function(p){e.\u0275\u0275restoreView(n);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.fileURL=p)}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}if(2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(2,2,"admin.metadata-import.page.urlMsg")),e.\u0275\u0275property("ngModel",n.fileURL)}}let Re=(()=>{class a{constructor(n,o,p,S,z,Pe,Sn){this.location=n,this.translate=o,this.notificationsService=p,this.scriptDataService=S,this.router=z,this.modalService=Pe,this.dsoNameService=Sn,this.validateOnly=!0,this.dso=null,this.isUpload=!0}setFile(n){this.fileObject=n}onReturn(){this.location.back()}selectCollection(){this.modalService.open(Ie.w).componentInstance.response.pipe((0,Y.q)(1)).subscribe(o=>{this.dso=o||null})}importMetadata(){if(null==this.fileObject&&(0,L.xb)(this.fileURL))this.notificationsService.error(this.translate.get(this.isUpload?"admin.metadata-import.page.error.addFile":"admin.metadata-import.page.error.addFileUrl"));else{const n=[Object.assign(new i.N,{name:"--add"})];this.isUpload?n.push(Object.assign(new i.N,{name:"--zip",value:this.fileObject.name})):(this.fileObject=null,n.push(Object.assign(new i.N,{name:"--url",value:this.fileURL}))),this.dso&&n.push(Object.assign(new i.N,{name:"--collection",value:this.dso.uuid})),this.validateOnly&&n.push(Object.assign(new i.N,{name:"-v",value:!0})),this.scriptDataService.invoke(N.rI,n,[this.fileObject]).pipe((0,E.hC)()).subscribe(o=>{if(o.hasSucceeded){const p=this.translate.get("process.new.notification.success.title"),S=this.translate.get("process.new.notification.success.content");this.notificationsService.success(p,S),(0,L.UE)(o.payload)&&this.router.navigateByUrl((0,Q.Ah)(o.payload.processId))}else if(413===o.statusCode){const p=this.translate.get("process.new.notification.error.title"),S=this.translate.get("process.new.notification.error.max-upload.content");this.notificationsService.error(p,S)}else{const p=this.translate.get("process.new.notification.error.title"),S=this.translate.get("process.new.notification.error.content");this.notificationsService.error(p,S)}})}}getDspaceObjectName(){return this.dso?this.dsoNameService.getName(this.dso):null}removeDspaceObject(){this.dso=null}toggleUpload(){this.isUpload=!this.isUpload}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(T.Ye),e.\u0275\u0275directiveInject(w.sK),e.\u0275\u0275directiveInject(k.T),e.\u0275\u0275directiveInject(N.UY),e.\u0275\u0275directiveInject(F.F0),e.\u0275\u0275directiveInject(oe.FF),e.\u0275\u0275directiveInject(D._))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-batch-import-page"]],decls:36,vars:35,consts:[[1,"container"],["id","header"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],["color","#ebebeb",3,"checkedLabel","uncheckedLabel","checked","change"],[1,"form-text","text-muted"],["data-test","file-dropzone",3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded",4,"ngIf"],["class","form-group mt-2",4,"ngIf"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",3,"click"],["data-test","file-dropzone",3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"form-group","mt-2"],["type","text","data-test","file-url-input",1,"form-control",3,"placeholder","ngModel","ngModelChange"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,se,8,4,"p",2),e.\u0275\u0275elementStart(8,"p")(9,"button",3),e.\u0275\u0275listener("click",function(){return o.selectCollection()}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",4)(13,"div",5)(14,"input",6),e.\u0275\u0275listener("ngModelChange",function(S){return o.validateOnly=S}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"label",7),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"small",8),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"ui-switch",9),e.\u0275\u0275listener("change",function(){return o.toggleUpload()}),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"small",10),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,ce,1,2,"ds-file-dropzone-no-uploader",11),e.\u0275\u0275template(28,Te,3,4,"div",12),e.\u0275\u0275elementStart(29,"div",13)(30,"button",14),e.\u0275\u0275listener("click",function(){return o.onReturn()}),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"button",15),e.\u0275\u0275listener("click",function(){return o.importMetadata()}),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,15,"admin.batch-import.page.header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,17,"admin.batch-import.page.help")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.dso),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,19,"admin.metadata-import.page.button.select-collection")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",o.validateOnly),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,21,"admin.metadata-import.page.validateOnly")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,23,"admin.batch-import.page.validateOnly.hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checkedLabel",e.\u0275\u0275pipeBind1(22,25,"admin.metadata-import.page.toggle.upload"))("uncheckedLabel",e.\u0275\u0275pipeBind1(23,27,"admin.metadata-import.page.toggle.url"))("checked",o.isUpload),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(26,29,"admin.batch-import.page.toggle.help")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.isUpload),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isUpload),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,31,"admin.metadata-import.page.button.return")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(35,33,"admin.metadata-import.page.button.proceed")))},dependencies:[T.O5,O.Fj,O.Wl,O.JJ,O.On,xe.o,ae.n,w.X$],encapsulation:2}),a})(),Ae=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({providers:[H.t,ye.d],imports:[F.Bz.forChild([{path:re.B,loadChildren:()=>Promise.resolve().then(r.bind(r,23933)).then(s=>s.AdminRegistriesModule)},{path:"search",resolve:{breadcrumb:H.t},component:P,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:H.t},component:J,data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:H.t},component:Ce,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:H.t},component:t,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}},{path:"batch-import",resolve:{breadcrumb:H.t},component:Re,data:{title:"admin.batch-import.title",breadcrumbKey:"admin.batch-import"}},{path:"system-wide-alert",resolve:{breadcrumb:H.t},loadChildren:()=>Promise.resolve().then(r.bind(r,44315)).then(s=>s.SystemWideAlertModule),data:{title:"admin.system-wide-alert.title",breadcrumbKey:"admin.system-wide-alert"}}])]}),a})();var C=r(70655),W=r(41529),$=r(23539),Z=r(6394),V=r(56765),q=r(39034),ee=r(15706),X=r(30658),te=r(46533),f=r(91033),I=r(34216),h=(r(54384),r(24943));function g(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",6),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.delete"),""))}function b(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",6),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.send-back"),""))}const B=function(a){return{"btn-sm":a}},U=function(a){return[a]};let de=(()=>{class a{getDeleteRoute(){return(0,h.fk)(this.wfi.id)}getSendBackRoute(){return(0,h.Du)(this.wfi.id)}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275template(4,g,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275element(7,"i",5),e.\u0275\u0275template(8,b,3,3,"span",3),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,B,o.small))("routerLink",e.\u0275\u0275pureFunction1(14,U,o.getDeleteRoute()))("title",e.\u0275\u0275pipeBind1(2,8,"admin.workflow.item.delete")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(16,B,o.small))("routerLink",e.\u0275\u0275pureFunction1(18,U,o.getSendBackRoute()))("title",e.\u0275\u0275pipeBind1(6,10,"admin.workflow.item.send-back")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small))},dependencies:[T.mk,T.O5,F.rH,w.X$]}),a})();var le;const Be=["badges"],We=["buttons"];function $e(a,s){}function Ge(a,s){if(1&a&&e.\u0275\u0275element(0,"ds-workflow-item-admin-workflow-actions-element",9),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("wfi",n.dso)("small",!0)}}let je=((le=class extends Z.h{constructor(s,n,o,p,S,z){super(s,p,z),this.dsoNameService=s,this.componentFactoryResolver=n,this.linkService=o,this.truncatableService=p,this.themeService=S,this.bitstreamDataService=z}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,te.l)("item")),this.item$=this.dso.item.pipe((0,E.g1)(),(0,E.xe)()),this.item$.pipe((0,Y.q)(1)).subscribe(s=>{const n=this.componentFactoryResolver.resolveComponentFactory(this.getComponent(s)),o=this.listableObjectDirective.viewContainerRef;o.clear();const p=o.createComponent(n,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);p.instance.object=s,p.instance.index=this.index,p.instance.linkType=this.linkType,p.instance.listID=this.listID,p.changeDetectorRef.detectChanges()})}getComponent(s){return(0,$.mt)(s.getRenderTypes(),W.w.GridElement,void 0,this.themeService.getThemeName())}}).\u0275fac=function(s){return new(s||le)(e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(e.ComponentFactoryResolver),e.\u0275\u0275directiveInject(X.M),e.\u0275\u0275directiveInject(V.F),e.\u0275\u0275directiveInject(I.fY),e.\u0275\u0275directiveInject(q.J))},le.\u0275cmp=e.\u0275\u0275defineComponent({type:le,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(s,n){if(1&s&&(e.\u0275\u0275viewQuery(ee.U,7),e.\u0275\u0275viewQuery(Be,7),e.\u0275\u0275viewQuery(We,7)),2&s){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.listableObjectDirective=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.badges=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.buttons=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:4,consts:[["dsListableObject",""],[1,"position-absolute","ml-1"],["badges",""],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(s,n){1&s&&(e.\u0275\u0275template(0,$e,0,0,"ng-template",0),e.\u0275\u0275elementStart(1,"div",1,2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ul",5,6)(9,"li",7),e.\u0275\u0275template(10,Ge,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"admin.workflow.item.workflow")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",n.object))},dependencies:[T.O5,ee.U,de,w.X$]}),le);je=(0,C.__decorate)([(0,$.d$)(f.s,W.w.GridElement,A._.AdminWorkflowSearch),(0,C.__metadata)("design:paramtypes",[D._,e.ComponentFactoryResolver,X.M,V.F,I.fY,q.J])],je);var _,pe=r(54599),De=r(16441),d=r(35534);function l(a,s){if(1&a&&(e.\u0275\u0275element(0,"ds-listable-object-component-loader",4),e.\u0275\u0275pipe(1,"async")),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("object",e.\u0275\u0275pipeBind1(1,5,n.item$))("viewMode",n.viewModes.ListElement)("index",n.index)("linkType",n.linkType)("listID",n.listID)}}let c=((_=class extends pe.c{constructor(s,n,o,p){super(n,o,p),this.linkService=s,this.truncatableService=n,this.dsoNameService=o,this.appConfig=p}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,te.l)("item")),this.item$=this.dso.item.pipe((0,E.g1)(),(0,E.xe)())}}).\u0275fac=function(s){return new(s||_)(e.\u0275\u0275directiveInject(X.M),e.\u0275\u0275directiveInject(V.F),e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(De.q))},_.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(s,n){1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"span",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,l,2,7,"ds-listable-object-component-loader",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275element(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&s&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"admin.workflow.item.workflow")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,6,n.item$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("wfi",n.dso)("small",!1))},dependencies:[T.O5,d.p,de,T.Ov,w.X$]}),_);c=(0,C.__decorate)([(0,$.d$)(f.s,W.w.ListElement,A._.AdminWorkflowSearch),(0,C.__metadata)("design:paramtypes",[X.M,V.F,D._,Object])],c);var Ue,u=r(29419),v=r(35841),y=r(27303),R=r(69637),ne=r(48358),et=r(72327),Fe=r(59105),mt=r(21160),Le=r(38666),Ne=r(65804),ct=r(60932),dt=r(64785),tt=r(3798),pt=r(26523),nt=r(42878),ut=r(25056),ft=r(92866);let ie=((Ue=class{}).type=dt.t,Ue);(0,C.__decorate)([Le.autoserialize,(0,C.__metadata)("design:type",String)],ie.prototype,"id",void 0),(0,C.__decorate)([tt.OJ,Le.autoserialize,(0,C.__metadata)("design:type",pt._)],ie.prototype,"type",void 0),(0,C.__decorate)([tt.OJ,Le.autoserialize,(0,C.__metadata)("design:type",String)],ie.prototype,"ordertype",void 0),(0,C.__decorate)([(0,Le.deserializeAs)(new ct.$("supervision-order"),"id"),(0,C.__metadata)("design:type",String)],ie.prototype,"uuid",void 0),(0,C.__decorate)([Le.deserialize,(0,C.__metadata)("design:type",Object)],ie.prototype,"_links",void 0),(0,C.__decorate)([(0,Ne.p4)(ft.B),(0,C.__metadata)("design:type",nt.y)],ie.prototype,"item",void 0),(0,C.__decorate)([(0,Ne.p4)(ut.o),(0,C.__metadata)("design:type",nt.y)],ie.prototype,"group",void 0),ie=(0,C.__decorate)([Ne.KB],ie);var ht=r(64719),vt=r(94520);function gt(a,s){1&a&&(e.\u0275\u0275element(0,"ds-error",20),e.\u0275\u0275pipe(1,"translate")),2&a&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"supervision-group-selector.select.type-of-order.error"))}function _t(a,s){1&a&&(e.\u0275\u0275element(0,"ds-error",20),e.\u0275\u0275pipe(1,"translate")),2&a&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"supervision-group-selector.select.group.error"))}let St=(()=>{class a{constructor(n,o,p,S,z){this.dsoNameService=n,this.activeModal=o,this.supervisionOrderDataService=p,this.notificationsService=S,this.translateService=z,this.isSubmitted=!1,this.create=new e.EventEmitter}close(){this.activeModal.close()}updateGroupObjectSelected(n){this.selectedGroup=n}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){let n=new ie;n.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(n,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,E.hC)()).subscribe(o=>{"Success"===o.state?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(o.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===o.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):o.errorMessage)})}}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(oe.Kz),e.\u0275\u0275directiveInject(Fe.m),e.\u0275\u0275directiveInject(k.T),e.\u0275\u0275directiveInject(w.sK))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},decls:40,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder"],["name","supervisionOrder","id","supervisionOrder",1,"form-control",3,"ngModel","ngModelChange"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"isListOfEPerson","select"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",0),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementStart(4,"button",1),e.\u0275\u0275listener("click",function(){return o.close()}),e.\u0275\u0275elementStart(5,"span",2),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"select",7),e.\u0275\u0275listener("ngModelChange",function(S){return o.selectedOrderType=S}),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"option",8),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"option",9),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(21,gt,2,3,"ds-error",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",4)(23,"div",5)(24,"label",11),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(27,12),e.\u0275\u0275element(28,"input",13),e.\u0275\u0275template(29,_t,2,3,"ds-error",10),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(30,"ds-eperson-group-list",14),e.\u0275\u0275listener("select",function(S){return o.updateGroupObjectSelected(S)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"div",15)(32,"button",16),e.\u0275\u0275listener("click",function(){return o.close()}),e.\u0275\u0275element(33,"i",17),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",18),e.\u0275\u0275listener("click",function(){return o.save()}),e.\u0275\u0275element(37,"i",19),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"translate"),e.\u0275\u0275elementEnd()()()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,13,"supervision-group-selector.header")," "),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,15,"supervision-group-selector.select.type-of-order.label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.selectedOrderType),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(14,17,"supervision-group-selector.select.type-of-order.label")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,19,"supervision-group-selector.select.type-of-order.option.editor")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,21,"supervision-group-selector.select.type-of-order.option.observer")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.isSubmitted&&(!o.selectedOrderType||""===o.selectedOrderType)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,23,"supervision-group-selector.select.group.label")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",o.selectedGroup?o.dsoNameService.getName(o.selectedGroup):""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isSubmitted&&!o.selectedGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("isListOfEPerson",!1),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(35,25,"supervision-group-selector.button.cancel")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,27,"supervision-group-selector.button.save")," "))},dependencies:[T.O5,O.YN,O.Kr,O.EJ,O.JJ,O.On,ht.q,vt.W,w.X$]}),a})();var ue=r(80647),bt=(r(31638),r(74207)),yt=r(73803),Ct=r(14111),It=r(32543),xt=r(41966);function Ft(a,s){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",4),e.\u0275\u0275listener("click",function(p){const z=e.\u0275\u0275restoreView(n).$implicit,Pe=e.\u0275\u0275nextContext(3);return p.preventDefault(),p.stopImmediatePropagation(),e.\u0275\u0275resetView(Pe.deleteSupervisionOrder(z))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2),e.\u0275\u0275elementStart(3,"span",5),e.\u0275\u0275text(4," \xd7"),e.\u0275\u0275elementEnd()()}if(2&a){const n=s.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngbTooltip",e.\u0275\u0275pipeBind1(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.dsoNameService.getName(n.group)," ")}}function wt(a,s){if(1&a&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275template(6,Ft,5,4,"a",3),e.\u0275\u0275elementEnd()()),2&a){const n=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n)}}function Et(a,s){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,wt,7,4,"div",1),e.\u0275\u0275elementContainerEnd()),2&a){const n=s.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n?null:n.length)>0)}}let Ot=(()=>{class a{constructor(n){this.dsoNameService=n,this.supervisionOrderList=[],this.supervisionOrderEntries$=new v.X([]),this.delete=new e.EventEmitter}ngOnChanges(n){n&&n.supervisionOrderList&&this.getSupervisionOrderEntries(n.supervisionOrderList.currentValue).subscribe(o=>{this.supervisionOrderEntries$.next(o)})}getSupervisionOrderEntries(n){return(0,Ct.D)(n).pipe((0,R.z)(o=>o.group.pipe((0,E.hC)(),(0,ne.U)(p=>p.hasSucceeded?{supervisionOrder:o,group:p.payload}:null))),(0,It.u)((o,p)=>(0,L.UE)(p)?[...o,p]:o,[]))}deleteSupervisionOrder(n){this.delete.emit(n)}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(D._))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},features:[e.\u0275\u0275NgOnChangesFeature],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge badge-primary mr-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","badge-primary","mr-1","mb-1","text-capitalize","mw-100","text-truncate",3,"ngbTooltip","click"],["aria-hidden","true"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,Et,2,1,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(1,1,o.supervisionOrderEntries$))},dependencies:[T.sg,T.O5,oe._L,xt.g,T.Ov,w.X$],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]}),a})();function Mt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.delete"),""))}function kt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.policies"),""))}function Tt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.supervision"),""))}const Ve=function(a){return{"btn-sm":a}},Rt=function(a){return[a]};let it=(()=>{class a{constructor(n,o,p,S,z){this.dsoNameService=n,this.modalService=o,this.notificationsService=p,this.supervisionOrderDataService=S,this.translateService=z,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.EventEmitter,this.delete=new e.EventEmitter}ngOnInit(){const n=this.wsi.item.pipe((0,E.Gp)());n.pipe((0,ne.U)(o=>this.getPoliciesRoute(o))).subscribe(o=>{this.resourcePoliciesPageRoute=o}),n.subscribe(o=>{this.item=o})}getDeleteRoute(){return(0,h.xM)(this.wsi.id)}getPoliciesRoute(n){return["/items",n.uuid,"edit",ue.N]}deleteSupervisionOrder(n){const o=this.modalService.open(bt.Y);o.componentInstance.dso=n.group,o.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",o.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",o.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",o.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",o.componentInstance.brandColor="danger",o.componentInstance.confirmIcon="fas fa-trash",o.componentInstance.response.pipe((0,Y.q)(1),(0,mt.w)(p=>{if(p&&(0,L.Uh)(n.supervisionOrder.id))return this.supervisionOrderDataService.delete(n.supervisionOrder.id).pipe((0,Y.q)(1),(0,y.b)(S=>{S?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(n.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(n.group)}))}))})).subscribe(p=>{p&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const n=this.modalService.open(St,{size:"lg",backdrop:"static"});n.componentInstance.itemUUID=this.item.uuid,n.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const n=(0,yt.i)(this.wsi.constructor);return Object.assign(new n,this.wsi,{indexableObject:this.wsi})}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(oe.FF),e.\u0275\u0275directiveInject(k.T),e.\u0275\u0275directiveInject(Fe.m),e.\u0275\u0275directiveInject(w.sK))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},decls:15,vars:26,consts:[[1,"my-1"],[3,"supervisionOrderList","delete"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"ngClass","title","click"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ds-supervision-order-status",1),e.\u0275\u0275listener("delete",function(S){return o.deleteSupervisionOrder(S)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(2,"div",2)(3,"a",3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275element(5,"i",4),e.\u0275\u0275template(6,Mt,3,3,"span",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"a",6),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275element(9,"i",7),e.\u0275\u0275template(10,kt,3,3,"span",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"a",8),e.\u0275\u0275listener("click",function(){return o.openSupervisionModal()}),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275element(13,"i",9),e.\u0275\u0275template(14,Tt,3,3,"span",5),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("supervisionOrderList",o.supervisionOrderList),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(18,Ve,o.small))("routerLink",e.\u0275\u0275pureFunction1(20,Rt,o.getDeleteRoute()))("title",e.\u0275\u0275pipeBind1(4,12,"admin.workflow.item.delete")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(22,Ve,o.small))("routerLink",o.resourcePoliciesPageRoute)("title",e.\u0275\u0275pipeBind1(8,14,"admin.workflow.item.policies")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(24,Ve,o.small))("title",e.\u0275\u0275pipeBind1(12,16,"admin.workflow.item.supervision")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small))},dependencies:[T.mk,T.O5,F.rH,Ot,w.X$]}),a})();var we;function At(a,s){if(1&a&&(e.\u0275\u0275element(0,"ds-listable-object-component-loader",3),e.\u0275\u0275pipe(1,"async")),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("object",e.\u0275\u0275pipeBind1(1,5,n.item$))("viewMode",n.viewModes.ListElement)("index",n.index)("linkType",n.linkType)("listID",n.listID)}}let ze=((we=class extends pe.c{constructor(s,n,o,p,S){super(p,n,S),this.linkService=s,this.dsoNameService=n,this.supervisionOrderDataService=o,this.truncatableService=p,this.appConfig=S,this.supervisionOrder$=new v.X([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,te.l)("item")),this.item$=this.dso.item.pipe((0,E.g1)(),(0,E.xe)()),this.item$.pipe((0,Y.q)(1),(0,y.b)(s=>this.itemId=s.id),(0,R.z)(s=>this.retrieveSupervisorOrders(s.id))).subscribe(s=>{this.supervisionOrder$.next(s)})}retrieveSupervisorOrders(s){return this.supervisionOrderDataService.searchByItem(s,!1,!0,(0,te.l)("group")).pipe((0,E.hC)(),(0,ne.U)(n=>n.hasSucceeded&&!n.hasNoContent?n.payload.page:[]))}reloadObject(s){this.reloadedObject.emit(s)}}).\u0275fac=function(s){return new(s||we)(e.\u0275\u0275directiveInject(X.M),e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(Fe.m),e.\u0275\u0275directiveInject(V.F),e.\u0275\u0275directiveInject(De.q))},we.\u0275cmp=e.\u0275\u0275defineComponent({type:we,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:11,consts:[[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"small","supervisionOrderList","wsi","create","delete"],[3,"object","viewMode","index","linkType","listID"]],template:function(s,n){1&s&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,At,2,7,"ds-listable-object-component-loader",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"ds-workspace-item-admin-workflow-actions-element",2),e.\u0275\u0275listener("create",function(p){return n.reloadObject(p)})("delete",function(p){return n.reloadObject(p)}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,5,"admin.workflow.item.workspace")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,7,n.item$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("small",!1)("supervisionOrderList",e.\u0275\u0275pipeBind1(6,9,n.supervisionOrder$))("wsi",n.dso))},dependencies:[T.O5,d.p,it,T.Ov,w.X$]}),we);var Ee;ze=(0,C.__decorate)([(0,$.d$)(et.d,W.w.ListElement,A._.AdminWorkflowSearch),(0,C.__metadata)("design:paramtypes",[X.M,D._,Fe.m,V.F,Object])],ze);const Bt=["badges"],jt=["buttons"];function Lt(a,s){}let Ke=((Ee=class extends Z.h{constructor(s,n,o,p,S,z,Pe){super(s,p,z),this.dsoNameService=s,this.componentFactoryResolver=n,this.linkService=o,this.truncatableService=p,this.themeService=S,this.bitstreamDataService=z,this.supervisionOrderDataService=Pe,this.supervisionOrder$=new v.X([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,te.l)("item")),this.item$=this.dso.item.pipe((0,E.g1)(),(0,E.xe)()),this.item$.pipe((0,Y.q)(1)).subscribe(s=>{const n=this.componentFactoryResolver.resolveComponentFactory(this.getComponent(s)),o=this.listableObjectDirective.viewContainerRef;o.clear();const p=o.createComponent(n,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);p.instance.object=s,p.instance.index=this.index,p.instance.linkType=this.linkType,p.instance.listID=this.listID,p.changeDetectorRef.detectChanges()}),this.item$.pipe((0,Y.q)(1),(0,y.b)(s=>this.itemId=s.id),(0,R.z)(s=>this.retrieveSupervisorOrders(s.id))).subscribe(s=>{this.supervisionOrder$.next(s)})}getComponent(s){return(0,$.mt)(s.getRenderTypes(),W.w.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(s){return this.supervisionOrderDataService.searchByItem(s,!1,!0,(0,te.l)("group")).pipe((0,E.hC)(),(0,ne.U)(n=>n.hasSucceeded&&!n.hasNoContent?n.payload.page:[]))}reloadObject(s){this.reloadedObject.emit(s)}}).\u0275fac=function(s){return new(s||Ee)(e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(e.ComponentFactoryResolver),e.\u0275\u0275directiveInject(X.M),e.\u0275\u0275directiveInject(V.F),e.\u0275\u0275directiveInject(I.fY),e.\u0275\u0275directiveInject(q.J),e.\u0275\u0275directiveInject(Fe.m))},Ee.\u0275cmp=e.\u0275\u0275defineComponent({type:Ee,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(s,n){if(1&s&&(e.\u0275\u0275viewQuery(ee.U,7),e.\u0275\u0275viewQuery(Bt,7),e.\u0275\u0275viewQuery(jt,7)),2&s){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.listableObjectDirective=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.badges=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.buttons=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:8,consts:[["dsListableObject",""],[1,"position-absolute","ml-1"],["badges",""],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],[3,"small","supervisionOrderList","wsi","create","delete"]],template:function(s,n){1&s&&(e.\u0275\u0275template(0,Lt,0,0,"ng-template",0),e.\u0275\u0275elementStart(1,"div",1,2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ul",5,6)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.\u0275\u0275listener("create",function(p){return n.reloadObject(p)})("delete",function(p){return n.reloadObject(p)}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd()()()),2&s&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,"admin.workflow.item.workspace")),e.\u0275\u0275advance(5),e.\u0275\u0275property("small",!0)("supervisionOrderList",e.\u0275\u0275pipeBind1(11,6,n.supervisionOrder$))("wsi",n.dso))},dependencies:[ee.U,it,T.Ov,w.X$]}),Ee);Ke=(0,C.__decorate)([(0,$.d$)(et.d,W.w.GridElement,A._.AdminWorkflowSearch),(0,C.__metadata)("design:paramtypes",[D._,e.ComponentFactoryResolver,X.M,V.F,I.fY,q.J,Fe.m])],Ke);const Pt=[c,je,ze,Ke];let Dt=(()=>{class a{static withEntryComponents(){return{ngModule:x.m,providers:Pt.map(n=>({provide:n}))}}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.t,x.m.withEntryComponents()]}),a})();var at=r(122),Oe=(r(13005),r(65521)),Wt=r(15463);function $t(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.move"),""))}function Gt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.make-private"),""))}const fe=function(a){return{"btn-sm":a}},he=function(a){return[a]};function Nt(a,s){if(1&a&&(e.\u0275\u0275elementStart(0,"a",13),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",14),e.\u0275\u0275template(3,Gt,3,3,"span",3),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,fe,n.small))("routerLink",e.\u0275\u0275pureFunction1(8,he,n.getPrivateRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.make-private")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.small)}}function Ut(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.make-public"),""))}function Vt(a,s){if(1&a&&(e.\u0275\u0275elementStart(0,"a",15),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",16),e.\u0275\u0275template(3,Ut,3,3,"span",3),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,fe,n.small))("routerLink",e.\u0275\u0275pureFunction1(8,he,n.getPublicRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.make-public")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.small)}}function zt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.edit"),""))}function Kt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.withdraw"),""))}function Ht(a,s){if(1&a&&(e.\u0275\u0275elementStart(0,"a",17),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",18),e.\u0275\u0275template(3,Kt,3,3,"span",3),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,fe,n.small))("routerLink",e.\u0275\u0275pureFunction1(8,he,n.getWithdrawRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.withdraw")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.small)}}function Xt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.reinstate"),""))}function Qt(a,s){if(1&a&&(e.\u0275\u0275elementStart(0,"a",19),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",20),e.\u0275\u0275template(3,Xt,3,3,"span",3),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,fe,n.small))("routerLink",e.\u0275\u0275pureFunction1(8,he,n.getReinstateRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.reinstate")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.small)}}function Jt(a,s){1&a&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.delete"),""))}let He=(()=>{class a{getEditRoute(){return(0,Wt.tn)(this.item)}getMoveRoute(){return new Oe.R(this.getEditRoute(),ue.Gr).toString()}getDeleteRoute(){return new Oe.R(this.getEditRoute(),ue.kJ).toString()}getWithdrawRoute(){return new Oe.R(this.getEditRoute(),ue.M0).toString()}getReinstateRoute(){return new Oe.R(this.getEditRoute(),ue.Pu).toString()}getPrivateRoute(){return new Oe.R(this.getEditRoute(),ue.X$).toString()}getPublicRoute(){return new Oe.R(this.getEditRoute(),ue.dI).toString()}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275template(4,$t,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Nt,4,10,"a",4),e.\u0275\u0275template(6,Vt,4,10,"a",5),e.\u0275\u0275elementStart(7,"a",6),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275element(9,"i",7),e.\u0275\u0275template(10,zt,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Ht,4,10,"a",8),e.\u0275\u0275template(12,Qt,4,10,"a",9),e.\u0275\u0275elementStart(13,"a",10),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275element(15,"i",11),e.\u0275\u0275template(16,Jt,3,3,"span",3),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(22,fe,o.small))("routerLink",e.\u0275\u0275pureFunction1(24,he,o.getMoveRoute()))("title",e.\u0275\u0275pipeBind1(2,16,"admin.search.item.move")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.item&&o.item.isDiscoverable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.item&&!o.item.isDiscoverable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(26,fe,o.small))("routerLink",e.\u0275\u0275pureFunction1(28,he,o.getEditRoute()))("title",e.\u0275\u0275pipeBind1(8,18,"admin.search.item.edit")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.item&&!o.item.isWithdrawn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.item&&o.item.isWithdrawn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(30,fe,o.small))("routerLink",e.\u0275\u0275pureFunction1(32,he,o.getDeleteRoute()))("title",e.\u0275\u0275pipeBind1(14,20,"admin.search.item.delete")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.small))},dependencies:[T.mk,T.O5,F.rH,w.X$]}),a})();var ve;let Xe=((ve=class extends pe.c{}).\u0275fac=function(){let a;return function(n){return(a||(a=e.\u0275\u0275getInheritedFactory(ve)))(n||ve)}}(),ve.\u0275cmp=e.\u0275\u0275defineComponent({type:ve,selectors:[["ds-item-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(s,n){1&s&&e.\u0275\u0275element(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&s&&(e.\u0275\u0275property("object",n.object)("viewMode",n.viewModes.ListElement)("index",n.index)("linkType",n.linkType)("listID",n.listID),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",n.dso)("small",!1))},dependencies:[d.p,He]}),ve);Xe=(0,C.__decorate)([(0,$.d$)(at.T,W.w.ListElement,A._.AdminSearch)],Xe);var ge,rt=r(28819),ot=r(25584),Yt=r(19255);const Zt=function(a){return[a]};let Qe=((ge=class extends pe.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,ot.xm)(this.dso.uuid)}}).\u0275fac=function(){let a;return function(n){return(a||(a=e.\u0275\u0275getInheritedFactory(ge)))(n||ge)}}(),ge.\u0275cmp=e.\u0275\u0275defineComponent({type:ge,selectors:[["ds-community-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(s,n){1&s&&(e.\u0275\u0275element(0,"ds-community-search-result-list-element",0),e.\u0275\u0275elementStart(1,"div")(2,"a",1),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275property("object",n.object)("index",n.index)("linkType",n.linkType)("listID",n.listID),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,Zt,n.editPath)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"admin.search.community.edit")," "))},dependencies:[F.rH,Yt.K,w.X$]}),ge);Qe=(0,C.__decorate)([(0,$.d$)(rt.o,W.w.ListElement,A._.AdminSearch)],Qe);var _e,st=r(42237),lt=r(42620),qt=r(38742);const en=function(a){return[a]};let Je=((_e=class extends pe.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,lt.Ou)(this.dso.uuid)}}).\u0275fac=function(){let a;return function(n){return(a||(a=e.\u0275\u0275getInheritedFactory(_e)))(n||_e)}}(),_e.\u0275cmp=e.\u0275\u0275defineComponent({type:_e,selectors:[["ds-collection-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(s,n){1&s&&(e.\u0275\u0275element(0,"ds-collection-search-result-list-element",0),e.\u0275\u0275elementStart(1,"div")(2,"a",1),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275property("object",n.object)("index",n.index)("linkType",n.linkType)("listID",n.listID),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,en,n.editPath)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"admin.search.collection.edit")," "))},dependencies:[F.rH,qt.q,w.X$]}),_e);var Me;Je=(0,C.__decorate)([(0,$.d$)(st.o,W.w.ListElement,A._.AdminSearch)],Je);const tn=["badges"],nn=["buttons"];function an(a,s){}let Ye=((Me=class extends Z.h{constructor(s,n,o,p,S){super(s,n,o),this.dsoNameService=s,this.truncatableService=n,this.bitstreamDataService=o,this.themeService=p,this.componentFactoryResolver=S}ngOnInit(){super.ngOnInit();const s=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()),n=this.listableObjectDirective.viewContainerRef;n.clear();const o=n.createComponent(s,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);o.instance.object=this.object,o.instance.index=this.index,o.instance.linkType=this.linkType,o.instance.listID=this.listID}getComponent(){return(0,$.mt)(this.object.getRenderTypes(),W.w.GridElement,void 0,this.themeService.getThemeName())}}).\u0275fac=function(s){return new(s||Me)(e.\u0275\u0275directiveInject(D._),e.\u0275\u0275directiveInject(V.F),e.\u0275\u0275directiveInject(q.J),e.\u0275\u0275directiveInject(I.fY),e.\u0275\u0275directiveInject(e.ComponentFactoryResolver))},Me.\u0275cmp=e.\u0275\u0275defineComponent({type:Me,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(s,n){if(1&s&&(e.\u0275\u0275viewQuery(ee.U,7),e.\u0275\u0275viewQuery(tn,7),e.\u0275\u0275viewQuery(nn,7)),2&s){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.listableObjectDirective=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.badges=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.buttons=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:8,vars:2,consts:[["dsListableObject",""],["badges",""],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(s,n){1&s&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,an,0,0,"ng-template",0),e.\u0275\u0275elementStart(1,"div",null,1),e.\u0275\u0275projection(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ul",2,3)(6,"li",4),e.\u0275\u0275element(7,"ds-item-admin-search-result-actions-element",5),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("item",n.dso)("small",!0))},dependencies:[ee.U,He]}),Me);Ye=(0,C.__decorate)([(0,$.d$)(at.T,W.w.GridElement,A._.AdminSearch),(0,C.__metadata)("design:paramtypes",[D._,V.F,q.J,I.fY,e.ComponentFactoryResolver])],Ye);var Se,on=r(15353);const sn=function(a){return[a]};let Ze=((Se=class extends Z.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,ot.xm)(this.dso.uuid)}}).\u0275fac=function(){let a;return function(n){return(a||(a=e.\u0275\u0275getInheritedFactory(Se)))(n||Se)}}(),Se.\u0275cmp=e.\u0275\u0275defineComponent({type:Se,selectors:[["ds-community-admin-search-result-grid-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(s,n){1&s&&(e.\u0275\u0275elementStart(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.\u0275\u0275element(4,"i",4),e.\u0275\u0275elementEnd()()()()),2&s&&(e.\u0275\u0275property("object",n.object)("index",n.index)("linkType",n.linkType)("listID",n.listID),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(5,sn,n.editPath)))},dependencies:[F.rH,on.g]}),Se);Ze=(0,C.__decorate)([(0,$.d$)(rt.o,W.w.GridElement,A._.AdminSearch)],Ze);var be,ln=r(52654);const mn=function(a){return[a]};let qe=((be=class extends Z.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,lt.Ou)(this.dso.uuid)}}).\u0275fac=function(){let a;return function(n){return(a||(a=e.\u0275\u0275getInheritedFactory(be)))(n||be)}}(),be.\u0275cmp=e.\u0275\u0275defineComponent({type:be,selectors:[["ds-collection-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(s,n){1&s&&(e.\u0275\u0275elementStart(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.\u0275\u0275element(4,"i",4),e.\u0275\u0275elementEnd()()()()),2&s&&(e.\u0275\u0275property("object",n.object)("index",n.index)("linkType",n.linkType)("listID",n.listID),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(5,mn,n.editPath)))},dependencies:[F.rH,ln.a]}),be);qe=(0,C.__decorate)([(0,$.d$)(st.o,W.w.GridElement,A._.AdminSearch)],qe);var cn=r(40472),dn=r(76844);const pn=[Xe,Qe,Je,Ye,Ze,qe,He];let un=(()=>{class a{static withEntryComponents(){return{ngModule:x.m,providers:pn.map(n=>({provide:n}))}}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.t,x.m.withEntryComponents(),cn.x.withEntryComponents(),dn.a.withEntryComponents()]}),a})();var fn=r(36388),hn=r(36471),vn=r(89716);const gn=[fn.F,hn.O];let _n=(()=>{class a{static withEntryComponents(){return{ngModule:a,providers:gn.map(n=>({provide:n}))}}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[Ae,G.AdminRegistriesModule,M.AccessControlModule,un.withEntryComponents(),Dt.withEntryComponents(),x.m,xe.S,vn.c]}),a})()},11804:(me,j,r)=>{r.d(j,{o:()=>x});var x=(()=>{return(M=x||(x={})).Known="KNOWN",M.Unknown="UNKNOWN",M.Supported="SUPPORTED",x;var M})()},80647:(me,j,r)=>{r.d(j,{Gr:()=>i,Js:()=>k,M0:()=>x,N:()=>L,Pu:()=>M,X$:()=>G,dI:()=>F,kJ:()=>N});const x="withdraw",M="reinstate",G="private",F="public",N="delete",i="move",L="authorizations",k="register-doi"},93682:(me,j,r)=>{r.d(j,{J:()=>L});var x=r(35103),M=r(96342),G=r(1599),F=r(57999),N=r(65706),i=r(98678);let L=(()=>{class k{}return k.\u0275fac=function(Q){return new(Q||k)},k.\u0275mod=i.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=i.\u0275\u0275defineInjector({imports:[x.ez,F.m,M.aw,G.S,N.M]}),k})()}}]);