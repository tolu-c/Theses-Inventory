(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[864],{21850:(B,D,e)=>{"use strict";e.d(D,{f:()=>d});var M,v=e(70655),p=e(16066),g=e(55624),u=e(18005),t=e(6952),E=e(22503),n=e(10572),s=e(48358),T=e(14246),S=e(29908),x=e(1411),f=e(98678);let d=((M=class extends T.t{constructor(l,P,_,h){super("usagereports",l,P,h,_),this.requestService=l,this.rdbService=P,this.halService=_,this.objectCache=h,this.searchData=new S.l(this.linkPath,l,P,h,_,this.responseMsToLive)}getStatistic(l,P){return this.findById(`${l}_${P}`).pipe((0,n.xw)(),(0,n.xe)())}searchStatistics(l,P,_){return this.searchBy("object",{searchParams:[{fieldName:"uri",fieldValue:l}],currentPage:P,elementsPerPage:_},!0,!1).pipe((0,n.xw)(),(0,n.xe)(),(0,s.U)(h=>h.page))}searchBy(l,P,_,h,...A){return this.searchData.searchBy(l,P,_,h,...A)}}).\u0275fac=function(l){return new(l||M)(f.\u0275\u0275inject(t.s),f.\u0275\u0275inject(p.Q),f.\u0275\u0275inject(u.q),f.\u0275\u0275inject(g.a))},M.\u0275prov=f.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),M);d=(0,v.__decorate)([(0,x.cQ)(E._),(0,v.__metadata)("design:paramtypes",[t.s,p.Q,u.q,g.a])],d)},92127:(B,D,e)=>{"use strict";e.d(D,{H:()=>s,I:()=>T});var v=e(29442),p=e(46533),g=e(10572),u=e(28452),t=e(98678),E=e(89702),n=e(67522);const s=[(0,p.l)("owningCollection",{},(0,p.l)("parentCommunity",{},(0,p.l)("parentCommunity"))),(0,p.l)("relationships"),(0,p.l)("version",{},(0,p.l)("versionhistory")),(0,p.l)("thumbnail")];let T=(()=>{class S{constructor(f,M,d){this.itemService=f,this.store=M,this.router=d}resolve(f,M){const d=this.itemService.findById(f.params.id,!0,!1,...s).pipe((0,g.hC)());return d.subscribe(o=>{this.store.dispatch(new u.K(M.url,o.payload))}),d}}return S.\u0275fac=function(f){return new(f||S)(t.\u0275\u0275inject(v.S),t.\u0275\u0275inject(E.yh),t.\u0275\u0275inject(n.F0))},S.\u0275prov=t.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})()},61288:(B,D,e)=>{"use strict";e.r(D),e.d(D,{CollectionStatisticsPageComponent:()=>A});var v=e(15751),p=e(21850),g=e(8842),u=e(38123),t=e(98678),E=e(67522),n=e(35103),s=e(87657),T=e(41966),S=e(65867),x=e(96342);const f=function(i){return{scope:i}};function M(i,m){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,f,c.getName(a)))," ")}}function d(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function o(i,m){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function l(i,m){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function P(i,m){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function _(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,l,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,P,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function h(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,o,2,0,"ng-container",4),t.\u0275\u0275template(2,_,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends v.f{constructor(a,c,C,y,U){super(a,c,C,y,U),this.route=a,this.router=c,this.usageReportService=C,this.nameService=y,this.authService=U,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(E.gz),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(p.f),t.\u0275\u0275directiveInject(g._),t.\u0275\u0275directiveInject(u.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-collection-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,d,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,h,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},dependencies:[n.sg,n.O5,s.Z,T.g,S.A,n.Ov,x.X$]}),i})()},46996:(B,D,e)=>{"use strict";e.r(D),e.d(D,{CommunityStatisticsPageComponent:()=>A});var v=e(15751),p=e(21850),g=e(8842),u=e(38123),t=e(98678),E=e(67522),n=e(35103),s=e(87657),T=e(41966),S=e(65867),x=e(96342);const f=function(i){return{scope:i}};function M(i,m){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,f,c.getName(a)))," ")}}function d(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function o(i,m){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function l(i,m){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function P(i,m){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function _(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,l,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,P,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function h(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,o,2,0,"ng-container",4),t.\u0275\u0275template(2,_,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends v.f{constructor(a,c,C,y,U){super(a,c,C,y,U),this.route=a,this.router=c,this.usageReportService=C,this.nameService=y,this.authService=U,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(E.gz),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(p.f),t.\u0275\u0275directiveInject(g._),t.\u0275\u0275directiveInject(u.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-community-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,d,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,h,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},dependencies:[n.sg,n.O5,s.Z,T.g,S.A,n.Ov,x.X$]}),i})()},91750:(B,D,e)=>{"use strict";e.r(D),e.d(D,{ItemStatisticsPageComponent:()=>A});var v=e(15751),p=e(21850),g=e(8842),u=e(38123),t=e(98678),E=e(67522),n=e(35103),s=e(87657),T=e(41966),S=e(65867),x=e(96342);const f=function(i){return{scope:i}};function M(i,m){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,f,c.getName(a)))," ")}}function d(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function o(i,m){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function l(i,m){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function P(i,m){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function _(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,l,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,P,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function h(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,o,2,0,"ng-container",4),t.\u0275\u0275template(2,_,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends v.f{constructor(a,c,C,y,U){super(a,c,C,y,U),this.route=a,this.router=c,this.usageReportService=C,this.nameService=y,this.authService=U,this.types=["TotalVisits","TotalVisitsPerMonth","TotalDownloads","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(E.gz),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(p.f),t.\u0275\u0275directiveInject(g._),t.\u0275\u0275directiveInject(u.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-item-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,d,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,h,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},dependencies:[n.sg,n.O5,s.Z,T.g,S.A,n.Ov,x.X$]}),i})()},4726:(B,D,e)=>{"use strict";e.r(D),e.d(D,{SiteStatisticsPageComponent:()=>m});var v=e(15751),p=e(19427),g=e(21850),u=e(8842),t=e(21160),E=e(38123),n=e(98678),s=e(67522),T=e(35103),S=e(87657),x=e(41966),f=e(65867),M=e(96342);const d=function(a){return{scope:a}};function o(a,c){if(1&a&&(n.\u0275\u0275elementStart(0,"h2",3),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a){const C=n.\u0275\u0275nextContext().ngVar,y=n.\u0275\u0275nextContext();n.\u0275\u0275propertyInterpolate("id",C.id),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,2,"statistics.header",n.\u0275\u0275pureFunction1(5,d,y.getName(C)))," ")}}function l(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,o,3,7,"h2",2),n.\u0275\u0275elementContainerEnd()),2&a){const C=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",C)}}function P(a,c){1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275element(1,"ds-themed-loading"),n.\u0275\u0275elementContainerEnd())}function _(a,c){if(1&a&&n.\u0275\u0275element(0,"ds-statistics-table",6),2&a){const C=c.$implicit;n.\u0275\u0275classMapInterpolate1("m-2 ",C.id,""),n.\u0275\u0275property("report",C)}}function h(a,c){1&a&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function A(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,_,1,4,"ds-statistics-table",5),n.\u0275\u0275template(2,h,3,3,"div",4),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementContainerEnd()),2&a){const C=n.\u0275\u0275nextContext().ngVar,y=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",C),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(3,2,y.hasData$))}}function i(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,P,2,0,"ng-container",4),n.\u0275\u0275template(2,A,4,4,"ng-container",4),n.\u0275\u0275elementContainerEnd()),2&a){const C=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!C),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",C)}}let m=(()=>{class a extends v.f{constructor(C,y,U,W,F,L){super(C,y,U,W,L),this.route=C,this.router=y,this.usageReportService=U,this.nameService=W,this.siteService=F,this.authService=L,this.types=["TotalVisits"]}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,t.w)(C=>this.usageReportService.searchStatistics(C._links.self.href,0,10)))}}return a.\u0275fac=function(C){return new(C||a)(n.\u0275\u0275directiveInject(s.gz),n.\u0275\u0275directiveInject(s.F0),n.\u0275\u0275directiveInject(g.f),n.\u0275\u0275directiveInject(u._),n.\u0275\u0275directiveInject(p.a),n.\u0275\u0275directiveInject(E.e8))},a.\u0275cmp=n.\u0275\u0275defineComponent({type:a,selectors:[["ds-site-statistics-page"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(C,y){1&C&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,l,2,1,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275template(3,i,3,2,"ng-container",1),n.\u0275\u0275pipe(4,"async"),n.\u0275\u0275elementEnd()),2&C&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,2,y.scope$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(4,4,y.reports$)))},dependencies:[T.sg,T.O5,S.Z,x.g,f.A,T.Ov,M.X$]}),a})()},80864:(B,D,e)=>{"use strict";e.r(D),e.d(D,{StatisticsPageRoutingModule:()=>Q});var v=e(67522),p=e(76457),g=e(26728),u=e(35103),t=e(59058),E=e(57999),n=e(20357),s=e(21850),d=(e(4726),e(65867),e(91750),e(61288),e(46996),e(4682)),o=e(98678);function l(r,O){}const P=["*"];let _=(()=>{class r extends d.F{getComponentName(){return"CollectionStatisticsPageComponent"}importThemedComponent(I){return e(83127)(`./${I}/app/statistics-page/collection-statistics-page/collection-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,61288))}}return r.\u0275fac=function(){let O;return function(R){return(O||(O=o.\u0275\u0275getInheritedFactory(r)))(R||r)}}(),r.\u0275cmp=o.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-collection-statistics-page"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:P,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,l,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"div",null,1),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd())},encapsulation:2}),r})();function h(r,O){}const A=["*"];let i=(()=>{class r extends d.F{getComponentName(){return"CommunityStatisticsPageComponent"}importThemedComponent(I){return e(37292)(`./${I}/app/statistics-page/community-statistics-page/community-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,46996))}}return r.\u0275fac=function(){let O;return function(R){return(O||(O=o.\u0275\u0275getInheritedFactory(r)))(R||r)}}(),r.\u0275cmp=o.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-collection-statistics-page"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:A,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,h,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"div",null,1),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd())},encapsulation:2}),r})();function m(r,O){}const a=["*"];let c=(()=>{class r extends d.F{getComponentName(){return"ItemStatisticsPageComponent"}importThemedComponent(I){return e(85789)(`./${I}/app/statistics-page/item-statistics-page/item-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,91750))}}return r.\u0275fac=function(){let O;return function(R){return(O||(O=o.\u0275\u0275getInheritedFactory(r)))(R||r)}}(),r.\u0275cmp=o.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-item-statistics-page"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:a,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,m,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"div",null,1),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd())},encapsulation:2}),r})();function C(r,O){}const y=["*"];let U=(()=>{class r extends d.F{getComponentName(){return"SiteStatisticsPageComponent"}importThemedComponent(I){return e(48798)(`./${I}/app/statistics-page/site-statistics-page/site-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,4726))}}return r.\u0275fac=function(){let O;return function(R){return(O||(O=o.\u0275\u0275getInheritedFactory(r)))(R||r)}}(),r.\u0275cmp=o.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-site-statistics-page"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:y,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,C,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"div",null,1),o.\u0275\u0275projection(4),o.\u0275\u0275elementEnd())},encapsulation:2}),r})(),F=(()=>{class r{}return r.\u0275fac=function(I){return new(I||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({providers:[s.f],imports:[u.ez,E.m,t.IR.forRoot(),n.p.forRoot()]}),r})();var L=e(34343),j=e(36578),$=e(92127),N=e(24049),z=e(35794),G=e(38123),X=e(9237),Z=e(80978);let K=(()=>{class r extends N.C{constructor(I,R,V){super(I,R,V),this.authorizationService=I,this.router=R,this.authService=V}getFeatureID(I,R){return(0,X.of)(Z.i.CanViewUsageStatistics)}}return r.\u0275fac=function(I){return new(I||r)(o.\u0275\u0275inject(z._),o.\u0275\u0275inject(v.F0),o.\u0275\u0275inject(G.e8))},r.\u0275prov=o.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Q=(()=>{class r{}return r.\u0275fac=function(I){return new(I||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({providers:[p.t,g.d,L.l,j.h,$.I],imports:[F,v.Bz.forChild([{path:"",resolve:{breadcrumb:p.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},children:[{path:"",component:U}],canActivate:[K]},{path:"items/:id",resolve:{scope:$.I,breadcrumb:p.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:c,canActivate:[K]},{path:"collections/:id",resolve:{scope:L.l,breadcrumb:p.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:_,canActivate:[K]},{path:"communities/:id",resolve:{scope:j.h,breadcrumb:p.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:i,canActivate:[K]}])]}),r})()},15751:(B,D,e)=>{"use strict";e.d(D,{f:()=>x});var v=e(53426),p=e(21850),g=e(48358),u=e(21160),t=e(10572),E=e(8842),n=e(38123),s=e(78944),T=e(98678),S=e(67522);let x=(()=>{class f{constructor(d,o,l,P,_){this.route=d,this.router=o,this.usageReportService=l,this.nameService=P,this.authService=_}ngOnInit(){this.scope$=this.getScope$(),this.reports$=this.getReports$(),this.hasData$=this.reports$.pipe((0,g.U)(d=>d.some(o=>o.points.length>0)))}getScope$(){return this.route.data.pipe((0,g.U)(d=>d.scope),(0,s.Gh)(this.router,this.authService),(0,t.xw)(),(0,t.xe)())}getReports$(){return this.scope$.pipe((0,u.w)(d=>(0,v.a)(this.types.map(o=>this.usageReportService.getStatistic(d.id,o)))))}getName(d){return this.nameService.getName(d)}}return f.\u0275fac=function(d){return new(d||f)(T.\u0275\u0275directiveInject(S.gz),T.\u0275\u0275directiveInject(S.F0),T.\u0275\u0275directiveInject(p.f),T.\u0275\u0275directiveInject(E._),T.\u0275\u0275directiveInject(n.e8))},f.\u0275cmp=T.\u0275\u0275defineComponent({type:f,selectors:[["ds-statistics-page"]],decls:0,vars:0,template:function(d,o){},encapsulation:2}),f})()},65867:(B,D,e)=>{"use strict";e.d(D,{A:()=>o}),e(80265);var p=e(9237),g=e(8842),u=e(48358),t=e(10572),E=e(91179),n=e(45608),s=e(98678),T=e(96342),S=e(35103);function x(l,P){if(1&l&&(s.\u0275\u0275elementStart(0,"th",5),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&l){const _=P.$implicit;s.\u0275\u0275classMapInterpolate1("",_,"-header"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",_," ")}}function f(l,P){if(1&l&&(s.\u0275\u0275elementStart(0,"td"),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&l){const _=P.$implicit,h=s.\u0275\u0275nextContext().$implicit;s.\u0275\u0275classMapInterpolate2("",h.id,"-",_,"-data"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",h.values[_]," ")}}function M(l,P){if(1&l&&(s.\u0275\u0275elementStart(0,"tr")(1,"th",6),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"async"),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(4,f,2,5,"td",4),s.\u0275\u0275elementEnd()),2&l){const _=P.$implicit,h=s.\u0275\u0275nextContext(2);s.\u0275\u0275classMapInterpolate1("",_.id,"-data"),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(3,5,h.getLabel(_))," "),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",h.headers)}}function d(l,P){if(1&l&&(s.\u0275\u0275elementStart(0,"div",1)(1,"h3",1),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"table",2)(5,"tbody")(6,"tr"),s.\u0275\u0275element(7,"td"),s.\u0275\u0275template(8,x,2,4,"th",3),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(9,M,5,7,"tr",4),s.\u0275\u0275elementEnd()()()),2&l){const _=s.\u0275\u0275nextContext();s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(3,4,"statistics.table.title."+_.report.reportType)," "),s.\u0275\u0275advance(2),s.\u0275\u0275attribute("data-test",_.report.reportType),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngForOf",_.headers),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",_.report.points)}}let o=(()=>{class l{constructor(_,h,A){this.dsoService=_,this.nameService=h,this.translateService=A}ngOnInit(){this.hasData=this.report.points.length>0,this.hasData&&(this.headers=Object.keys(this.report.points[0].values))}getLabel(_){return"TotalVisits"===this.report.reportType?this.dsoService.findById(_.id).pipe((0,t.sJ)(),(0,t.xe)(),(0,u.U)(h=>(0,n.xb)(h)?this.translateService.instant("statistics.table.no-name"):this.nameService.getName(h))):(0,p.of)(_.label)}}return l.\u0275fac=function(_){return new(_||l)(s.\u0275\u0275directiveInject(E.D),s.\u0275\u0275directiveInject(g._),s.\u0275\u0275directiveInject(T.sK))},l.\u0275cmp=s.\u0275\u0275defineComponent({type:l,selectors:[["ds-statistics-table"]],inputs:{report:"report"},decls:1,vars:1,consts:[["class","m-1",4,"ngIf"],[1,"m-1"],[1,"table","table-striped"],["scope","col",3,"class",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["scope","col"],["scope","row","data-test","statistics-label"]],template:function(_,h){1&_&&s.\u0275\u0275template(0,d,10,6,"div",0),2&_&&s.\u0275\u0275property("ngIf",h.hasData)},dependencies:[S.sg,S.O5,S.Ov,T.X$],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem}td[_ngcontent-%COMP%]{width:50px;max-width:50px}"]}),l})()},83127:(B,D,e)=>{var v={"./custom/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[72609,2609]};function p(g){if(!e.o(v,g))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E});var u=v[g],t=u[0];return e.e(u[1]).then(()=>e(t))}p.keys=()=>Object.keys(v),p.id=83127,B.exports=p},37292:(B,D,e)=>{var v={"./custom/app/statistics-page/community-statistics-page/community-statistics-page.component":[97388,7388]};function p(g){if(!e.o(v,g))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E});var u=v[g],t=u[0];return e.e(u[1]).then(()=>e(t))}p.keys=()=>Object.keys(v),p.id=37292,B.exports=p},85789:(B,D,e)=>{var v={"./custom/app/statistics-page/item-statistics-page/item-statistics-page.component":[45503,5503]};function p(g){if(!e.o(v,g))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E});var u=v[g],t=u[0];return e.e(u[1]).then(()=>e(t))}p.keys=()=>Object.keys(v),p.id=85789,B.exports=p},48798:(B,D,e)=>{var v={"./custom/app/statistics-page/site-statistics-page/site-statistics-page.component":[11399,1399]};function p(g){if(!e.o(v,g))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E});var u=v[g],t=u[0];return e.e(u[1]).then(()=>e(t))}p.keys=()=>Object.keys(v),p.id=48798,B.exports=p}}]);