(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[179],{66421:(R,c,e)=>{"use strict";e.d(c,{EP:()=>d,EV:()=>p,b6:()=>i,fN:()=>l,sC:()=>a,y9:()=>r});var t=e(65521),n=e(71213);const a="epeople";function i(){return new t.R((0,n.sr)(),a).toString()}function d(h){return new t.R(i(),h,"edit").toString()}const r="groups";function l(){return new t.R((0,n.sr)(),r).toString()}function p(h){return new t.R(l(),h,"edit").toString()}},94427:(R,c,e)=>{"use strict";e.d(c,{y:()=>_o});var t=e(67522),n=e(35841),a=e(53426),i=e(21160),d=e(48358),r=e(77176),l=e(20942),p=e(75195),h=e(45608),m=e(65384),_=e(45180);class v{}var y=e(80978),O=e(35794),S=e(10572),b=e(74207),o=e(6952),D=e(87483),M=e(81323),C=e(8842),T=e(66421),g=e(98678),U=e(96342),L=e(5476),j=e(65706),$=e(35103),z=e(87657),re=e(78530);function W(Et,vn){1&Et&&g.\u0275\u0275element(0,"ds-themed-loading")}const ie=function(Et){return{name:Et}};function ce(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",33),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext().$implicit,pn=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(pn.deleteEPerson(Ut.eperson))}),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275element(2,"i",34),g.\u0275\u0275elementEnd()}if(2&Et){const Le=g.\u0275\u0275nextContext().$implicit,$e=g.\u0275\u0275nextContext(2);g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(1,1,$e.labelPrefix+"table.edit.buttons.remove",g.\u0275\u0275pureFunction1(4,ie,$e.dsoNameService.getName(Le.eperson))))}}const ne=function(Et){return{"table-primary":Et}};function K(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"tr",28),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275elementStart(2,"td"),g.\u0275\u0275text(3),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"td"),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(6,"td"),g.\u0275\u0275text(7),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(8,"td")(9,"div",29)(10,"button",30),g.\u0275\u0275pipe(11,"translate"),g.\u0275\u0275element(12,"i",31),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(13,ce,3,6,"button",32),g.\u0275\u0275elementEnd()()()),2&Et){const Le=vn.$implicit,$e=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(12,ne,g.\u0275\u0275pipeBind1(1,7,$e.isActive(Le.eperson)))),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(Le.eperson.id),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(Le.eperson)),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Le.eperson.email),g.\u0275\u0275advance(3),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(11,9,$e.labelPrefix+"table.edit.buttons.edit",g.\u0275\u0275pureFunction1(14,ie,$e.dsoNameService.getName(Le.eperson)))),g.\u0275\u0275property("routerLink",$e.getEditEPeoplePage(Le.eperson.id)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",Le.ableToDelete)}}function w(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"ds-pagination",23),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275elementStart(2,"div",24)(3,"table",25)(4,"thead")(5,"tr")(6,"th",26),g.\u0275\u0275text(7),g.\u0275\u0275pipe(8,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(9,"th",26),g.\u0275\u0275text(10),g.\u0275\u0275pipe(11,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(12,"th",26),g.\u0275\u0275text(13),g.\u0275\u0275pipe(14,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(15,"th"),g.\u0275\u0275text(16),g.\u0275\u0275pipe(17,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(18,"tbody"),g.\u0275\u0275template(19,K,14,16,"tr",27),g.\u0275\u0275pipe(20,"async"),g.\u0275\u0275elementEnd()()()()),2&Et){const Le=g.\u0275\u0275nextContext();let $e,Ut;g.\u0275\u0275property("paginationOptions",Le.config)("pageInfoState",Le.pageInfoState$)("collectionSize",null==($e=g.\u0275\u0275pipeBind1(1,10,Le.pageInfoState$))?null:$e.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(8,12,Le.labelPrefix+"table.id")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(11,14,Le.labelPrefix+"table.name")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(14,16,Le.labelPrefix+"table.email")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(17,18,Le.labelPrefix+"table.edit")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",null==(Ut=g.\u0275\u0275pipeBind1(20,20,Le.ePeopleDto$))?null:Ut.page)}}function Q(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",35),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.labelPrefix+"no-items")," ")}}let oe=(()=>{class Et{constructor(Le,$e,Ut,pn,rr,Ar,ti,cr,gi,ci){this.epersonService=Le,this.translateService=$e,this.notificationsService=Ut,this.authorizationService=pn,this.formBuilder=rr,this.router=Ar,this.modalService=ti,this.paginationService=cr,this.requestService=gi,this.dsoNameService=ci,this.labelPrefix="admin.access-control.epeople.",this.ePeople$=new n.X((0,l.b)(new D.S,[])),this.ePeopleDto$=new n.X({}),this.pageInfoState$=new n.X(void 0),this.searching$=new n.X(!1),this.config=Object.assign(new _.r,{id:"elp",pageSize:5,currentPage:1}),this.subs=[],this.currentSearchQuery="",this.currentSearchScope="metadata",this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnInit(){this.initialisePage()}initialisePage(){this.searching$.next(!0),this.search({scope:this.currentSearchScope,query:this.currentSearchQuery}),this.subs.push(this.ePeople$.pipe((0,i.w)(Le=>Le.pageInfo.totalElements>0?(0,a.a)(Le.page.map($e=>this.authorizationService.isAuthorized(y.i.CanDelete,(0,h.Uh)($e)?$e.self:void 0).pipe((0,d.U)(Ut=>{const pn=new v;return pn.ableToDelete=Ut,pn.eperson=$e,pn})))).pipe((0,d.U)($e=>(0,l.b)(Le.pageInfo,$e))):[Le])).subscribe(Le=>{this.searching$.next(!1),this.ePeopleDto$.next(Le),this.pageInfoState$.next(Le.pageInfo)}))}search(Le){this.searching$.next(!0),(0,h.Uh)(this.findListOptionsSub)&&this.findListOptionsSub.unsubscribe(),this.findListOptionsSub=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,i.w)($e=>{const Ut=Le.query,pn=Le.scope;return null!=Ut&&this.currentSearchQuery!==Ut&&(this.router.navigate([(0,T.b6)()],{queryParamsHandling:"merge"}),this.currentSearchQuery=Ut,this.paginationService.resetPage(this.config.id)),null!=pn&&this.currentSearchScope!==pn&&(this.router.navigate([(0,T.b6)()],{queryParamsHandling:"merge"}),this.currentSearchScope=pn,this.paginationService.resetPage(this.config.id)),this.epersonService.searchByScope(this.currentSearchScope,this.currentSearchQuery,{currentPage:$e.currentPage,elementsPerPage:$e.pageSize})}),(0,S.g1)()).subscribe($e=>{this.ePeople$.next($e.payload),this.pageInfoState$.next($e.payload.pageInfo)})}isActive(Le){return this.getActiveEPerson().pipe((0,d.U)($e=>Le===$e))}getActiveEPerson(){return this.epersonService.getActiveEPerson()}deleteEPerson(Le){if((0,h.Uh)(Le.id)){const $e=this.modalService.open(b.Y);$e.componentInstance.dso=Le,$e.componentInstance.headerLabel="confirmation-modal.delete-eperson.header",$e.componentInstance.infoLabel="confirmation-modal.delete-eperson.info",$e.componentInstance.cancelLabel="confirmation-modal.delete-eperson.cancel",$e.componentInstance.confirmLabel="confirmation-modal.delete-eperson.confirm",$e.componentInstance.brandColor="danger",$e.componentInstance.confirmIcon="fas fa-trash",$e.componentInstance.response.pipe((0,r.q)(1)).subscribe(Ut=>{Ut&&(0,h.Uh)(Le.id)&&this.epersonService.deleteEPerson(Le).pipe((0,S.hC)()).subscribe(pn=>{pn.hasSucceeded?this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.deleted.success",{name:this.dsoNameService.getName(Le)})):this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification.deleted.success",{id:Le.id,statusCode:pn.statusCode,errorMessage:pn.errorMessage}))})})}}ngOnDestroy(){this.cleanupSubscribes(),this.paginationService.clearPagination(this.config.id)}cleanupSubscribes(){this.subs.filter(Le=>(0,h.Uh)(Le)).forEach(Le=>Le.unsubscribe())}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}getEditEPeoplePage(Le){return(0,T.EP)(Le)}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(p.k),g.\u0275\u0275directiveInject(U.sK),g.\u0275\u0275directiveInject(m.T),g.\u0275\u0275directiveInject(O._),g.\u0275\u0275directiveInject(L.QS),g.\u0275\u0275directiveInject(t.F0),g.\u0275\u0275directiveInject(j.FF),g.\u0275\u0275directiveInject(M.N),g.\u0275\u0275directiveInject(o.s),g.\u0275\u0275directiveInject(C._))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-epeople-registry"]],decls:46,vars:40,consts:[[1,"container"],[1,"epeople-registry","row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","header",1,"pb-2"],[1,"mr-auto","btn","btn-success","addEPerson-button",3,"routerLink"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline","ml-1"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query",1,"form-control",3,"placeholder"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"search-button","btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm","access-control-editEPersonButton",3,"routerLink","title"],[1,"fas","fa-edit","fa-fw"],["class","delete-button btn btn-outline-danger btn-sm access-control-deleteEPersonButton",3,"title","click",4,"ngIf"],[1,"delete-button","btn","btn-outline-danger","btn-sm","access-control-deleteEPersonButton",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"]],template:function(Le,$e){if(1&Le&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),g.\u0275\u0275text(5),g.\u0275\u0275pipe(6,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"div")(8,"button",5),g.\u0275\u0275element(9,"i",6),g.\u0275\u0275elementStart(10,"span",7),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(13,"h3",8),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"form",9),g.\u0275\u0275listener("ngSubmit",function(){return $e.search($e.searchForm.value)}),g.\u0275\u0275elementStart(17,"div")(18,"select",10)(19,"option",11),g.\u0275\u0275text(20),g.\u0275\u0275pipe(21,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(22,"option",12),g.\u0275\u0275text(23),g.\u0275\u0275pipe(24,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(25,"div",13)(26,"div",14),g.\u0275\u0275element(27,"input",15),g.\u0275\u0275pipe(28,"translate"),g.\u0275\u0275pipe(29,"translate"),g.\u0275\u0275elementStart(30,"span",16)(31,"button",17),g.\u0275\u0275element(32,"i",18),g.\u0275\u0275text(33),g.\u0275\u0275pipe(34,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(35,"div")(36,"button",19),g.\u0275\u0275listener("click",function(){return $e.clearFormAndResetResult()}),g.\u0275\u0275text(37),g.\u0275\u0275pipe(38,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(39,W,1,0,"ds-themed-loading",20),g.\u0275\u0275pipe(40,"async"),g.\u0275\u0275template(41,w,21,22,"ds-pagination",21),g.\u0275\u0275pipe(42,"async"),g.\u0275\u0275pipe(43,"async"),g.\u0275\u0275template(44,Q,3,3,"div",22),g.\u0275\u0275pipe(45,"async"),g.\u0275\u0275elementEnd()()()),2&Le){let Ut,pn;g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(6,14,$e.labelPrefix+"head")),g.\u0275\u0275advance(3),g.\u0275\u0275property("routerLink","create"),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,16,$e.labelPrefix+"button.add")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("",g.\u0275\u0275pipeBind1(15,18,$e.labelPrefix+"search.head")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("formGroup",$e.searchForm),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(21,20,$e.labelPrefix+"search.scope.metadata")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(24,22,$e.labelPrefix+"search.scope.email")),g.\u0275\u0275advance(4),g.\u0275\u0275property("placeholder",g.\u0275\u0275pipeBind1(29,26,$e.labelPrefix+"search.placeholder")),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(28,24,$e.labelPrefix+"search.placeholder")),g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(34,28,$e.labelPrefix+"search.button")," "),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(38,30,$e.labelPrefix+"button.see-all")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(40,32,$e.searching$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==(Ut=g.\u0275\u0275pipeBind1(42,34,$e.pageInfoState$))?null:Ut.totalElements)>0&&!g.\u0275\u0275pipeBind1(43,36,$e.searching$)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",0==(null==(pn=g.\u0275\u0275pipeBind1(45,38,$e.pageInfoState$))?null:pn.totalElements))}},dependencies:[$.mk,$.sg,$.O5,L._Y,L.YN,L.Kr,L.Fj,L.EJ,L.JJ,L.JL,L.sg,L.u,t.rH,z.Z,re.Q,$.Ov,U.X$],encapsulation:2}),Et})();var q=e(5737),ee=e(9237),J=e(3358),Ee=e(77007),Oe=e(9249),Re=e(42620),ve=e(25584),Pe=e(91179),et=e(30303),Ze=e(85571),tt=e(5378),yt=e(66234),Ne=e(60987),mt=e(87893),Dt=e(46533);class At{static createValidator(vn){return Le=>vn.searchGroups(Le.value,{currentPage:1,elementsPerPage:100}).pipe((0,S.LQ)(),(0,d.U)($e=>$e.filter(Ut=>Ut.name===Le.value)),(0,d.U)($e=>$e.length>0?{groupExists:!0}:null))}}var Jt=e(76774),$t=e(87586),lt=e(44193),Ht=e(82485);const Qe=function(Et){return[Et]},ft=function(Et){return{name:Et}};function Je(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"tr")(1,"td",18),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"td",18)(4,"a",19),g.\u0275\u0275listener("click",function(){const pn=g.\u0275\u0275restoreView(Le).$implicit,rr=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(rr.groupDataService.startEditingNewGroup(pn))}),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"td",18),g.\u0275\u0275text(7),g.\u0275\u0275pipe(8,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(9,"td",18)(10,"div",20)(11,"button",21),g.\u0275\u0275listener("click",function(){const pn=g.\u0275\u0275restoreView(Le).$implicit,rr=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(rr.deleteSubgroupFromGroup(pn))}),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275element(13,"i",22),g.\u0275\u0275elementEnd()()()()}if(2&Et){const Le=vn.$implicit,$e=g.\u0275\u0275nextContext(2);let Ut;g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Le.id),g.\u0275\u0275advance(2),g.\u0275\u0275property("routerLink",g.\u0275\u0275pureFunction1(10,Qe,$e.groupDataService.getGroupEditPageRouterLink(Le))),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",$e.dsoNameService.getName(Le)," "),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(null==(Ut=g.\u0275\u0275pipeBind1(8,5,Le.object))?null:Ut.payload)),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(12,7,$e.messagePrefix+".table.edit.buttons.remove",g.\u0275\u0275pureFunction1(12,ft,$e.dsoNameService.getName(Le))))}}function Ge(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"ds-pagination",13),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275elementStart(3,"div",14)(4,"table",15)(5,"thead")(6,"tr")(7,"th",16),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"th",16),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(13,"th",16),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"th"),g.\u0275\u0275text(17),g.\u0275\u0275pipe(18,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(19,"tbody"),g.\u0275\u0275template(20,Je,14,14,"tr",17),g.\u0275\u0275pipe(21,"async"),g.\u0275\u0275elementEnd()()()()),2&Et){const Le=g.\u0275\u0275nextContext();let $e,Ut,pn;g.\u0275\u0275property("paginationOptions",Le.config)("pageInfoState",null==($e=g.\u0275\u0275pipeBind1(1,10,Le.subGroups$))?null:$e.payload)("collectionSize",null==(Ut=g.\u0275\u0275pipeBind1(2,12,Le.subGroups$))||null==Ut.payload?null:Ut.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),g.\u0275\u0275advance(8),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(9,14,Le.messagePrefix+".table.id")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,16,Le.messagePrefix+".table.name")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(15,18,Le.messagePrefix+".table.collectionOrCommunity")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(18,20,Le.messagePrefix+".table.edit")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",null==(pn=g.\u0275\u0275pipeBind1(21,22,Le.subGroups$))||null==pn.payload?null:pn.payload.page)}}function qe(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",23),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".no-subgroups-yet")," ")}}function gt(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".search.head")," ")}}function it(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"tr")(1,"td",18),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"td",18)(4,"a",19),g.\u0275\u0275listener("click",function(){const pn=g.\u0275\u0275restoreView(Le).$implicit,rr=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(rr.groupDataService.startEditingNewGroup(pn))}),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"td",18),g.\u0275\u0275text(7),g.\u0275\u0275pipe(8,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(9,"td",18)(10,"div",20)(11,"button",25),g.\u0275\u0275listener("click",function(){const pn=g.\u0275\u0275restoreView(Le).$implicit,rr=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(rr.addSubgroupToGroup(pn))}),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275element(13,"i",26),g.\u0275\u0275elementEnd()()()()}if(2&Et){const Le=vn.$implicit,$e=g.\u0275\u0275nextContext(2);let Ut;g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Le.id),g.\u0275\u0275advance(2),g.\u0275\u0275property("routerLink",g.\u0275\u0275pureFunction1(10,Qe,$e.groupDataService.getGroupEditPageRouterLink(Le))),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",$e.dsoNameService.getName(Le)," "),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(null==(Ut=g.\u0275\u0275pipeBind1(8,5,Le.object))?null:Ut.payload)),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(12,7,$e.messagePrefix+".table.edit.buttons.add",g.\u0275\u0275pureFunction1(12,ft,$e.dsoNameService.getName(Le))))}}function ht(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"ds-pagination",13),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275elementStart(3,"div",14)(4,"table",24)(5,"thead")(6,"tr")(7,"th",16),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"th",16),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(13,"th",16),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"th",18),g.\u0275\u0275text(17),g.\u0275\u0275pipe(18,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(19,"tbody"),g.\u0275\u0275template(20,it,14,14,"tr",17),g.\u0275\u0275pipe(21,"async"),g.\u0275\u0275elementEnd()()()()),2&Et){const Le=g.\u0275\u0275nextContext();let $e,Ut,pn;g.\u0275\u0275property("paginationOptions",Le.configSearch)("pageInfoState",null==($e=g.\u0275\u0275pipeBind1(1,10,Le.searchResults$))?null:$e.payload)("collectionSize",null==(Ut=g.\u0275\u0275pipeBind1(2,12,Le.searchResults$))||null==Ut.payload?null:Ut.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),g.\u0275\u0275advance(8),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(9,14,Le.messagePrefix+".table.id")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,16,Le.messagePrefix+".table.name")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(15,18,Le.messagePrefix+".table.collectionOrCommunity")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(18,20,Le.messagePrefix+".table.edit")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",null==(pn=g.\u0275\u0275pipeBind1(21,22,Le.searchResults$))||null==pn.payload?null:pn.payload.page)}}function St(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",23),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".no-items")," ")}}const It=function(){return["top","right","bottom"]},en=function(Et){return{content:"admin.access-control.groups.form.tooltip.editGroup.addSubgroups",id:"edit-group-add-subgroups",iconPlacement:"right",tooltipPlacement:Et}};var Tt=(()=>{return(Et=Tt||(Tt={}))[Et.Members=0]="Members",Et[Et.ActiveGroup=1]="ActiveGroup",Et[Et.SearchResults=2]="SearchResults",Tt;var Et})();let Mn=(()=>{class Et{constructor(Le,$e,Ut,pn,rr,Ar,ti){this.groupDataService=Le,this.translateService=$e,this.notificationsService=Ut,this.formBuilder=pn,this.paginationService=rr,this.router=Ar,this.dsoNameService=ti,this.searchResults$=new n.X(void 0),this.subGroups$=new n.X(void 0),this.subs=new Map,this.configSearch=Object.assign(new _.r,{id:"ssgl",pageSize:5,currentPage:1}),this.config=Object.assign(new _.r,{id:"sgl",pageSize:5,currentPage:1}),this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(Tt.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(Le=>{null!=Le&&(this.groupBeingEdited=Le,this.retrieveSubGroups(),this.search({query:""}))}))}retrieveSubGroups(){this.unsubFrom(Tt.Members),this.subs.set(Tt.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,i.w)(Le=>this.groupDataService.findListByHref(this.groupBeingEdited._links.subgroups.href,{currentPage:Le.currentPage,elementsPerPage:Le.pageSize},!0,!0,(0,Dt.l)("object")))).subscribe(Le=>{this.subGroups$.next(Le)}))}deleteSubgroupFromGroup(Le){this.groupDataService.getActiveGroup().pipe((0,r.q)(1)).subscribe($e=>{if(null!=$e){const Ut=this.groupDataService.deleteSubGroupFromGroup($e,Le);this.showNotifications("deleteSubgroup",Ut,this.dsoNameService.getName(Le),$e),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addSubgroupToGroup(Le){this.groupDataService.getActiveGroup().pipe((0,r.q)(1)).subscribe($e=>{if(null!=$e)if($e.uuid!==Le.uuid){const Ut=this.groupDataService.addSubGroupToGroup($e,Le);this.showNotifications("addSubgroup",Ut,this.dsoNameService.getName(Le),$e),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.subgroupToAddIsActiveGroup"));else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(Le){this.unsubFrom(Tt.SearchResults),this.subs.set(Tt.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,i.w)($e=>{const Ut=Le.query;return null!=Ut&&this.currentSearchQuery!==Ut&&this.groupBeingEdited&&(this.currentSearchQuery=Ut,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.groupDataService.searchNonMemberGroups(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:$e.currentPage,elementsPerPage:$e.pageSize},!1,!0,(0,Dt.l)("object"))}),(0,S.f1)(),(0,d.U)($e=>{if(!$e.hasFailed)return $e;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:$e.errorMessage}))})).subscribe($e=>{this.searchResults$.next($e)}))}unsubFrom(Le){this.subs.has(Le)&&(this.subs.get(Le).unsubscribe(),this.subs.delete(Le))}ngOnDestroy(){for(const Le of this.subs.keys())this.unsubFrom(Le);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(Le,$e,Ut,pn){$e.pipe((0,S.hC)()).subscribe(rr=>{rr.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+Le,{name:Ut})),this.groupDataService.clearGroupLinkRequests(pn._links.subgroups.href)):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+Le,{name:Ut}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(et.O),g.\u0275\u0275directiveInject(U.sK),g.\u0275\u0275directiveInject(m.T),g.\u0275\u0275directiveInject(L.QS),g.\u0275\u0275directiveInject(M.N),g.\u0275\u0275directiveInject(t.F0),g.\u0275\u0275directiveInject(C._))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-subgroups-list"]],inputs:{messagePrefix:"messagePrefix"},decls:30,vars:29,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary","float-right",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","subgroupsOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[4,"ngFor","ngForOf"],[1,"align-middle"],[3,"routerLink","click"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-danger","btn-sm","deleteButton",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","groupsSearch",1,"table","table-striped","table-hover","table-bordered"],[1,"btn","btn-outline-primary","btn-sm","addButton",3,"title","click"],[1,"fas","fa-plus","fa-fw"]],template:function(Le,$e){if(1&Le&&(g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"h3",0),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"h4"),g.\u0275\u0275text(5),g.\u0275\u0275pipe(6,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(7,Ge,22,24,"ds-pagination",1),g.\u0275\u0275pipe(8,"async"),g.\u0275\u0275template(9,qe,3,3,"div",2),g.\u0275\u0275pipe(10,"async"),g.\u0275\u0275elementStart(11,"h4",3),g.\u0275\u0275template(12,gt,3,3,"span",4),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(13,"form",5),g.\u0275\u0275listener("ngSubmit",function(){return $e.search($e.searchForm.value)}),g.\u0275\u0275elementStart(14,"div",6)(15,"div",7),g.\u0275\u0275element(16,"input",8),g.\u0275\u0275elementStart(17,"span",9)(18,"button",10),g.\u0275\u0275element(19,"i",11),g.\u0275\u0275text(20),g.\u0275\u0275pipe(21,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(22,"div")(23,"button",12),g.\u0275\u0275listener("click",function(){return $e.clearFormAndResetResult()}),g.\u0275\u0275text(24),g.\u0275\u0275pipe(25,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(26,ht,22,24,"ds-pagination",1),g.\u0275\u0275pipe(27,"async"),g.\u0275\u0275template(28,St,3,3,"div",2),g.\u0275\u0275pipe(29,"async"),g.\u0275\u0275elementContainerEnd()),2&Le){let Ut,pn,rr,Ar;g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(3,10,$e.messagePrefix+".head")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(6,12,$e.messagePrefix+".headSubgroups")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==(Ut=g.\u0275\u0275pipeBind1(8,14,$e.subGroups$))||null==Ut.payload?null:Ut.payload.totalElements)>0),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",0==(null==(pn=g.\u0275\u0275pipeBind1(10,16,$e.subGroups$))||null==pn.payload?null:pn.payload.totalElements)),g.\u0275\u0275advance(3),g.\u0275\u0275property("dsContextHelp",g.\u0275\u0275pureFunction1(27,en,g.\u0275\u0275pureFunction0(26,It))),g.\u0275\u0275advance(1),g.\u0275\u0275property("formGroup",$e.searchForm),g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(21,18,$e.messagePrefix+".search.button")," "),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(25,20,$e.messagePrefix+".button.see-all")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==(rr=g.\u0275\u0275pipeBind1(27,22,$e.searchResults$))||null==rr.payload?null:rr.payload.totalElements)>0),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",0==(null==(Ar=g.\u0275\u0275pipeBind1(29,24,$e.searchResults$))||null==Ar.payload?null:Ar.payload.totalElements)&&$e.searchDone)}},dependencies:[$.sg,$.O5,L._Y,L.Fj,L.JJ,L.JL,L.sg,L.u,t.rH,re.Q,lt.A,$.Ov,U.X$],encapsulation:2}),Et})();var xn=e(22291);function qn(Et,vn){1&Et&&g.\u0275\u0275element(0,"div")}function Rt(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"h2",14),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".head.create"))}}function sn(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".head.edit")," ")}}const jt=function(){return["right","bottom"]},on=function(Et){return{content:"admin.access-control.groups.form.tooltip.editGroupPage",id:"edit-group-page",iconPlacement:"right",tooltipPlacement:Et}};function ke(Et,vn){1&Et&&(g.\u0275\u0275elementStart(0,"h2",14),g.\u0275\u0275template(1,sn,3,3,"span",15),g.\u0275\u0275elementEnd()),2&Et&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("dsContextHelp",g.\u0275\u0275pureFunction1(2,on,g.\u0275\u0275pureFunction0(1,jt))))}function xe(Et,vn){if(1&Et&&g.\u0275\u0275element(0,"ds-alert",16),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275property("type",Le.AlertTypeEnum.Warning)("content",Le.messagePrefix+".alert.permanent")}}const we=function(Et,vn,Le){return{name:Et,comcol:vn,comcolEditRolesRoute:Le}};function pt(Et,vn){if(1&Et&&(g.\u0275\u0275element(0,"ds-alert",16),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275pipe(3,"async"),g.\u0275\u0275pipe(4,"async")),2&Et){const Le=g.\u0275\u0275nextContext();let $e;g.\u0275\u0275property("type",Le.AlertTypeEnum.Warning)("content",g.\u0275\u0275pipeBind2(1,2,Le.messagePrefix+".alert.workflowGroup",g.\u0275\u0275pureFunction3(11,we,Le.dsoNameService.getName(null==($e=g.\u0275\u0275pipeBind1(2,5,Le.getLinkedDSO(Le.groupBeingEdited)))?null:$e.payload),null==($e=g.\u0275\u0275pipeBind1(3,7,Le.getLinkedDSO(Le.groupBeingEdited)))||null==$e.payload?null:$e.payload.type,g.\u0275\u0275pipeBind1(4,9,Le.getLinkedEditRolesRoute(Le.groupBeingEdited)))))}}function bt(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",17)(1,"button",18),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ut.delete())}),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275element(3,"i",19),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd()()}if(2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("disabled",!g.\u0275\u0275pipeBind1(2,2,Le.canEdit$)||Le.groupBeingEdited.permanent),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(5,4,Le.messagePrefix+".actions.delete")," ")}}function wt(Et,vn){if(1&Et&&g.\u0275\u0275element(0,"ds-members-list",20),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275property("messagePrefix",Le.messagePrefix+".members-list")}}function Xt(Et,vn){if(1&Et&&g.\u0275\u0275element(0,"ds-subgroups-list",20),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275property("messagePrefix",Le.messagePrefix+".subgroups-list")}}let Qt=(()=>{class Et{constructor(Le,$e,Ut,pn,rr,Ar,ti,cr,gi,ci,Fi,yo,zo){this.groupDataService=Le,this.ePersonDataService=$e,this.dSpaceObjectDataService=Ut,this.formBuilderService=pn,this.translateService=rr,this.notificationsService=Ar,this.route=ti,this.router=cr,this.authorizationService=gi,this.modalService=ci,this.requestService=Fi,this.changeDetectorRef=yo,this.dsoNameService=zo,this.messagePrefix="admin.access-control.groups.form",this.formId="group-form",this.formLayout={groupName:{grid:{host:"row"}},groupDescription:{grid:{host:"row"}}},this.submitForm=new g.EventEmitter,this.cancelForm=new g.EventEmitter,this.subs=[],this.AlertTypeEnum=Ne.N}ngOnInit(){this.initialisePage()}initialisePage(){this.subs.push(this.route.params.subscribe(Le=>{"newGroup"!==Le.groupId&&this.setActiveGroup(Le.groupId)})),this.canEdit$=this.groupDataService.getActiveGroup().pipe((0,h.tz)(),(0,i.w)(Le=>(0,a.a)([this.authorizationService.isAuthorized(y.i.CanDelete,(0,h.UE)(Le)?Le.self:void 0),this.hasLinkedDSO(Le)]).pipe((0,d.U)(([$e,Ut])=>$e&&!Ut)))),(0,a.a)([this.translateService.get(`${this.messagePrefix}.groupName`),this.translateService.get(`${this.messagePrefix}.groupCommunity`),this.translateService.get(`${this.messagePrefix}.groupDescription`)]).subscribe(([Le,$e,Ut])=>{this.groupName=new q.b1u({id:"groupName",label:Le,name:"groupName",validators:{required:null},required:!0}),this.groupCommunity=new q.b1u({id:"groupCommunity",label:$e,name:"groupCommunity",required:!1,readOnly:!0}),this.groupDescription=new q.HBf({id:"groupDescription",label:Ut,name:"groupDescription",required:!1,spellCheck:Jt.N.form.spellCheck}),this.formModel=[this.groupName,this.groupDescription],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formGroup.controls.groupName&&(this.formGroup.controls.groupName.setAsyncValidators(At.createValidator(this.groupDataService)),this.groupNameValueChangeSubscribe=this.groupName.valueChanges.pipe((0,J.b)(300)).subscribe(()=>{this.changeDetectorRef.detectChanges()})),this.subs.push((0,a.a)([this.groupDataService.getActiveGroup(),this.canEdit$,this.groupDataService.getActiveGroup().pipe((0,Ee.h)(pn=>(0,h.Uh)(pn)),(0,i.w)(pn=>this.getLinkedDSO(pn).pipe((0,S.Gp)())))]).subscribe(([pn,rr,Ar])=>{null!=pn&&(this.formGroup.controls.groupName.clearAsyncValidators(),this.groupBeingEdited=pn,Ar?.name?this.formGroup.controls.groupCommunity||(this.formBuilderService.insertFormGroupControl(1,this.formGroup,this.formModel,this.groupCommunity),this.formGroup.patchValue({groupName:pn.name,groupCommunity:Ar?.name??"",groupDescription:pn.firstMetadataValue("dc.description")})):(this.formModel=[this.groupName,this.groupDescription],this.formGroup.patchValue({groupName:pn.name,groupDescription:pn.firstMetadataValue("dc.description")})),setTimeout(()=>{(!rr||pn.permanent)&&this.formGroup.disable()},200))}))})}onCancel(){this.groupDataService.cancelEditGroup(),this.cancelForm.emit(),this.router.navigate([(0,T.fN)()])}onSubmit(){this.groupDataService.getActiveGroup().pipe((0,r.q)(1)).subscribe(Le=>{null===Le?this.createNewGroup({name:this.groupName.value,metadata:{"dc.description":[{value:this.groupDescription.value}]}}):this.editGroup(Le)})}createNewGroup(Le){const $e=Object.assign(new Ze.Z,Le);this.groupDataService.create($e).pipe((0,S.hC)()).subscribe(Ut=>{Ut.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.created.success",{name:$e.name})),this.submitForm.emit($e),(0,h.UE)(Ut.payload)&&(this.setActiveGroupWithLink(Ut.payload._links.self.href),this.groupDataService.clearGroupsRequests(),this.router.navigateByUrl((0,T.EV)(Ut.payload.uuid)))):(this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.created.failure",{name:$e.name})),this.showNotificationIfNameInUse($e,"created"),this.cancelForm.emit())})}showNotificationIfNameInUse(Le,$e){this.subs.push(this.groupDataService.searchGroups(Le.name,{currentPage:1,elementsPerPage:0}).pipe((0,S.xw)(),(0,S.xe)()).subscribe(Ut=>{Ut.totalElements>0&&this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification."+$e+".failure.groupNameInUse",{name:this.dsoNameService.getName(Le)}))}))}editGroup(Le){let $e=[];(0,h.Uh)(this.groupDescription.value)&&($e=[...$e,{op:"add",path:"/metadata/dc.description",value:this.groupDescription.value}]),(0,h.Uh)(this.groupName.value)&&($e=[...$e,{op:"replace",path:"/name",value:this.groupName.value}]),this.groupDataService.patch(Le,$e).pipe((0,S.hC)()).subscribe(Ut=>{Ut.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.edited.success",{name:this.dsoNameService.getName(Ut.payload)})),this.submitForm.emit(Ut.payload)):(this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.edited.failure",{name:this.dsoNameService.getName(Le)})),this.cancelForm.emit())})}setActiveGroup(Le){this.groupDataService.cancelEditGroup(),this.groupDataService.findById(Le).pipe((0,S.xw)(),(0,S.xe)()).subscribe($e=>{this.groupDataService.editGroup($e)})}setActiveGroupWithLink(Le){this.groupDataService.getActiveGroup().pipe((0,r.q)(1)).subscribe($e=>{null===$e&&(this.groupDataService.cancelEditGroup(),this.groupDataService.findByHref(Le,!1,!1,(0,Dt.l)("subgroups"),(0,Dt.l)("epersons"),(0,Dt.l)("object")).pipe((0,S.xw)(),(0,S.xe)()).subscribe(Ut=>{this.groupDataService.editGroup(Ut)}))})}delete(){this.groupDataService.getActiveGroup().pipe((0,r.q)(1)).subscribe(Le=>{const $e=this.modalService.open(b.Y);$e.componentInstance.dso=Le,$e.componentInstance.headerLabel=this.messagePrefix+".delete-group.modal.header",$e.componentInstance.infoLabel=this.messagePrefix+".delete-group.modal.info",$e.componentInstance.cancelLabel=this.messagePrefix+".delete-group.modal.cancel",$e.componentInstance.confirmLabel=this.messagePrefix+".delete-group.modal.confirm",$e.componentInstance.brandColor="danger",$e.componentInstance.confirmIcon="fas fa-trash",$e.componentInstance.response.pipe((0,r.q)(1)).subscribe(Ut=>{Ut&&(0,h.Uh)(Le.id)&&this.groupDataService.delete(Le.id).pipe((0,S.hC)()).subscribe(pn=>{pn.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(Le)})),this.onCancel()):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.deleted.failure.title",{name:this.dsoNameService.getName(Le)}),this.translateService.get(this.messagePrefix+".notification.deleted.failure.content",{cause:pn.errorMessage}))})})})}ngOnDestroy(){this.groupDataService.cancelEditGroup(),this.subs.filter(Le=>(0,h.Uh)(Le)).forEach(Le=>Le.unsubscribe()),(0,h.Uh)(this.groupNameValueChangeSubscribe)&&this.groupNameValueChangeSubscribe.unsubscribe()}hasLinkedDSO(Le){if((0,h.Uh)(Le)&&(0,h.Uh)(Le._links.object.href))return this.getLinkedDSO(Le).pipe((0,d.U)($e=>(0,h.Uh)($e)&&(0,h.Uh)($e.payload)),(0,Oe.K)(()=>(0,ee.of)(!1)))}getLinkedDSO(Le){if((0,h.Uh)(Le)&&(0,h.Uh)(Le._links.object.href))return void 0===Le.object?this.dSpaceObjectDataService.findByHref(Le._links.object.href):Le.object}getLinkedEditRolesRoute(Le){if((0,h.Uh)(Le)&&(0,h.Uh)(Le._links.object.href))return this.getLinkedDSO(Le).pipe((0,d.U)($e=>{if((0,h.Uh)($e)&&(0,h.Uh)($e.payload))switch($e.payload.type){case yt.S.type.value:return(0,ve.eq)($e.payload.id);case tt.F.type.value:return(0,Re.Po)($e.payload.id)}}))}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(et.O),g.\u0275\u0275directiveInject(p.k),g.\u0275\u0275directiveInject(Pe.D),g.\u0275\u0275directiveInject(mt.c),g.\u0275\u0275directiveInject(U.sK),g.\u0275\u0275directiveInject(m.T),g.\u0275\u0275directiveInject(t.gz),g.\u0275\u0275directiveInject(t.F0),g.\u0275\u0275directiveInject(O._),g.\u0275\u0275directiveInject(j.FF),g.\u0275\u0275directiveInject(o.s),g.\u0275\u0275directiveInject(g.ChangeDetectorRef),g.\u0275\u0275directiveInject(C._))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-group-form"]],hostBindings:function(Le,$e){1&Le&&g.\u0275\u0275listener("beforeunload",function(){return $e.ngOnDestroy()},!1,g.\u0275\u0275resolveWindow)},outputs:{submitForm:"submitForm",cancelForm:"cancelForm"},decls:24,vars:24,consts:[[1,"container"],[1,"group-form","row"],[1,"col-12"],[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editHeader",""],[3,"type","content",4,"ngIf"],[3,"formId","formModel","formGroup","formLayout","displayCancel","submitForm"],["before","",1,"btn-group"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"],["after","","class","btn-group",4,"ngIf"],[1,"mb-5"],[3,"messagePrefix",4,"ngIf"],[1,"border-bottom","pb-2"],[4,"dsContextHelp"],[3,"type","content"],["after","",1,"btn-group"],["type","button",1,"btn","btn-danger","delete-button",3,"disabled","click"],[1,"fa","fa-trash"],[3,"messagePrefix"]],template:function(Le,$e){if(1&Le&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),g.\u0275\u0275template(3,qn,1,0,"div",3),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275template(5,Rt,3,3,"ng-template",null,4,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275template(7,ke,2,4,"ng-template",null,5,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275template(9,xe,1,2,"ds-alert",6),g.\u0275\u0275template(10,pt,5,15,"ds-alert",6),g.\u0275\u0275pipe(11,"async"),g.\u0275\u0275pipe(12,"async"),g.\u0275\u0275elementStart(13,"ds-form",7),g.\u0275\u0275listener("submitForm",function(){return $e.onSubmit()}),g.\u0275\u0275elementStart(14,"div",8)(15,"button",9),g.\u0275\u0275listener("click",function(){return $e.onCancel()}),g.\u0275\u0275element(16,"i",10),g.\u0275\u0275text(17),g.\u0275\u0275pipe(18,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275template(19,bt,6,6,"div",11),g.\u0275\u0275pipe(20,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(21,"div",12),g.\u0275\u0275template(22,wt,1,1,"ds-members-list",13),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(23,Xt,1,1,"ds-subgroups-list",13),g.\u0275\u0275elementEnd()()()),2&Le){const Ut=g.\u0275\u0275reference(6),pn=g.\u0275\u0275reference(8);g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(4,14,$e.groupDataService.getActiveGroup()))("ngIfThen",pn)("ngIfElse",Ut),g.\u0275\u0275advance(6),g.\u0275\u0275property("ngIf",null==$e.groupBeingEdited?null:$e.groupBeingEdited.permanent),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!g.\u0275\u0275pipeBind1(11,16,$e.canEdit$)&&g.\u0275\u0275pipeBind1(12,18,$e.groupDataService.getActiveGroup())),g.\u0275\u0275advance(3),g.\u0275\u0275property("formId",$e.formId)("formModel",$e.formModel)("formGroup",$e.formGroup)("formLayout",$e.formLayout)("displayCancel",!1),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(18,20,$e.messagePrefix+".return"),""),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(20,22,$e.canEdit$)&&!$e.groupBeingEdited.permanent),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",null!=$e.groupBeingEdited),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",null!=$e.groupBeingEdited)}},dependencies:[$.O5,L.JL,L.sg,$t.w,lt.A,Ht.U,Mn,xn.O,$.Ov,U.X$],encapsulation:2}),Et})();var Gt=e(27164),dn=e(27303),fn=e(71891);class ct{}var Mt=e(74997);function Ve(Et,vn){1&Et&&g.\u0275\u0275element(0,"ds-themed-loading")}const vt=function(Et){return{name:Et}};function Bt(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"button",30),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275element(2,"i",31),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext().$implicit,$e=g.\u0275\u0275nextContext(2);g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(1,2,$e.messagePrefix+"table.edit.buttons.edit",g.\u0275\u0275pureFunction1(5,vt,$e.dsoNameService.getName(Le.group)))),g.\u0275\u0275property("routerLink",$e.groupService.getGroupEditPageRouterLink(Le.group))}}function je(Et,vn){1&Et&&(g.\u0275\u0275elementStart(0,"button",32),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275element(2,"i",31),g.\u0275\u0275elementEnd()),2&Et&&g.\u0275\u0275property("disabled",!0)("ngbTooltip",g.\u0275\u0275pipeBind1(1,2,"admin.access-control.epeople.table.edit.buttons.edit-disabled"))}function be(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",33),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext().$implicit,pn=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(pn.deleteGroup(Ut))}),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275element(2,"i",34),g.\u0275\u0275elementEnd()}if(2&Et){const Le=g.\u0275\u0275nextContext().$implicit,$e=g.\u0275\u0275nextContext(2);g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind2(1,1,$e.messagePrefix+"table.edit.buttons.remove",g.\u0275\u0275pureFunction1(4,vt,$e.dsoNameService.getName(Le.group))))}}function ot(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"tr")(1,"td"),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"td"),g.\u0275\u0275text(4),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(5,"td"),g.\u0275\u0275text(6),g.\u0275\u0275pipe(7,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(8,"td"),g.\u0275\u0275text(9),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"td")(11,"div",25),g.\u0275\u0275elementContainerStart(12,26),g.\u0275\u0275template(13,Bt,3,7,"button",27),g.\u0275\u0275template(14,je,3,4,"button",28),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275template(15,be,3,6,"button",29),g.\u0275\u0275elementEnd()()()),2&Et){const Le=vn.$implicit,$e=g.\u0275\u0275nextContext(2);let Ut;g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Le.group.id),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(Le.group)),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(null==(Ut=g.\u0275\u0275pipeBind1(7,8,Le.group.object))?null:Ut.payload)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate((null==Le.epersons?null:Le.epersons.totalElements)+(null==Le.subgroups?null:Le.subgroups.totalElements)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngSwitch",Le.ableToEdit),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngSwitchCase",!0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngSwitchCase",!1),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!(null!=Le.group&&Le.group.permanent)&&Le.ableToDelete)}}function rn(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"ds-pagination",20),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275elementStart(2,"div",21)(3,"table",22)(4,"thead")(5,"tr")(6,"th",23),g.\u0275\u0275text(7),g.\u0275\u0275pipe(8,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(9,"th",23),g.\u0275\u0275text(10),g.\u0275\u0275pipe(11,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(12,"th",23),g.\u0275\u0275text(13),g.\u0275\u0275pipe(14,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(15,"th",23),g.\u0275\u0275text(16),g.\u0275\u0275pipe(17,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(18,"th"),g.\u0275\u0275text(19),g.\u0275\u0275pipe(20,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(21,"tbody"),g.\u0275\u0275template(22,ot,16,10,"tr",24),g.\u0275\u0275pipe(23,"async"),g.\u0275\u0275elementEnd()()()()),2&Et){const Le=g.\u0275\u0275nextContext();let $e,Ut;g.\u0275\u0275property("paginationOptions",Le.config)("pageInfoState",Le.pageInfoState$)("collectionSize",null==($e=g.\u0275\u0275pipeBind1(1,11,Le.pageInfoState$))?null:$e.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(8,13,Le.messagePrefix+"table.id")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(11,15,Le.messagePrefix+"table.name")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(14,17,Le.messagePrefix+"table.collectionOrCommunity")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(17,19,Le.messagePrefix+"table.members")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(20,21,Le.messagePrefix+"table.edit")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",null==(Ut=g.\u0275\u0275pipeBind1(23,23,Le.groupsDto$))?null:Ut.page)}}function Cn(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",35),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+"no-items")," ")}}let tr=(()=>{class Et{constructor(Le,$e,Ut,pn,rr,Ar,ti,cr,gi,ci,Fi,yo){this.groupService=Le,this.ePersonDataService=$e,this.dSpaceObjectDataService=Ut,this.translateService=pn,this.notificationsService=rr,this.formBuilder=Ar,this.routeService=ti,this.router=cr,this.authorizationService=gi,this.paginationService=ci,this.requestService=Fi,this.dsoNameService=yo,this.messagePrefix="admin.access-control.groups.",this.config=Object.assign(new _.r,{id:"gl",pageSize:5,currentPage:1}),this.groupsDto$=new n.X({}),this.deletedGroupsIds=[],this.pageInfoState$=new n.X(void 0),this.loading$=new n.X(!1),this.subs=[],this.currentSearchQuery="",this.searchForm=this.formBuilder.group({query:this.currentSearchQuery})}ngOnInit(){this.search({query:this.currentSearchQuery})}search(Le){(0,h.Uh)(this.searchSub)&&(this.searchSub.unsubscribe(),this.subs=this.subs.filter($e=>$e!==this.searchSub)),this.searchSub=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,dn.b)(()=>this.loading$.next(!0)),(0,i.w)($e=>{const Ut=Le.query;return null!=Ut&&this.currentSearchQuery!==Ut&&(this.currentSearchQuery=Ut,this.paginationService.updateRouteWithUrl(this.config.id,[],{page:1})),this.groupService.searchGroups(this.currentSearchQuery.trim(),{currentPage:$e.currentPage,elementsPerPage:$e.pageSize},!0,!0,(0,Dt.l)("object"))}),(0,S.g1)(),(0,S.xe)(),(0,i.w)($e=>0===$e.page.length?(0,ee.of)((0,l.b)($e.pageInfo,[])):this.authorizationService.isAuthorized(y.i.AdministratorOf).pipe((0,i.w)(Ut=>(0,a.a)([...$e.page.map(pn=>(0,h.Uh)(pn)&&!this.deletedGroupsIds.includes(pn.id)?(0,a.a)([this.authorizationService.isAuthorized(y.i.CanDelete,pn.self),this.canManageGroup$(Ut,pn),this.hasLinkedDSO(pn),this.getSubgroups(pn),this.getMembers(pn)]).pipe((0,d.U)(([rr,Ar,ti,cr,gi])=>{const ci=new ct;return ci.ableToDelete=rr&&!ti,ci.ableToEdit=Ar,ci.group=pn,ci.subgroups=cr.payload,ci.epersons=gi.payload,ci})):Gt.E)]).pipe((0,fn.d)([]),(0,d.U)(pn=>(0,l.b)($e.pageInfo,pn))))))).subscribe($e=>{this.groupsDto$.next($e),this.pageInfoState$.next($e.pageInfo),this.loading$.next(!1)}),this.subs.push(this.searchSub)}canManageGroup$(Le,$e){return Le?(0,ee.of)(!0):this.authorizationService.isAuthorized(y.i.CanManageGroup,$e.self)}deleteGroup(Le){(0,h.Uh)(Le.group.id)&&this.groupService.delete(Le.group.id).pipe((0,S.hC)()).subscribe($e=>{$e.hasSucceeded?(this.deletedGroupsIds=[...this.deletedGroupsIds,Le.group.id],this.notificationsService.success(this.translateService.get(this.messagePrefix+"notification.deleted.success",{name:this.dsoNameService.getName(Le.group)}))):this.notificationsService.error(this.translateService.get(this.messagePrefix+"notification.deleted.failure.title",{name:this.dsoNameService.getName(Le.group)}),this.translateService.get(this.messagePrefix+"notification.deleted.failure.content",{cause:$e.errorMessage}))})}getMembers(Le){return this.ePersonDataService.findListByHref(Le._links.epersons.href,{currentPage:1,elementsPerPage:1}).pipe((0,S.xw)())}getSubgroups(Le){return this.groupService.findListByHref(Le._links.subgroups.href,{currentPage:1,elementsPerPage:1}).pipe((0,S.xw)())}hasLinkedDSO(Le){return this.dSpaceObjectDataService.findByHref(Le._links.object.href).pipe((0,S.xw)(),(0,d.U)($e=>(0,h.Uh)($e)&&(0,h.Uh)($e.payload)),(0,Oe.K)(()=>(0,ee.of)(!1)))}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}ngOnDestroy(){this.cleanupSubscribes(),this.paginationService.clearPagination(this.config.id)}cleanupSubscribes(){(0,h.Uh)(this.paginationSub)&&this.paginationSub.unsubscribe(),this.subs.filter(Le=>(0,h.Uh)(Le)).forEach(Le=>Le.unsubscribe()),this.paginationService.clearPagination(this.config.id)}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(et.O),g.\u0275\u0275directiveInject(p.k),g.\u0275\u0275directiveInject(Pe.D),g.\u0275\u0275directiveInject(U.sK),g.\u0275\u0275directiveInject(m.T),g.\u0275\u0275directiveInject(L.QS),g.\u0275\u0275directiveInject(Mt.MZ),g.\u0275\u0275directiveInject(t.F0),g.\u0275\u0275directiveInject(O._),g.\u0275\u0275directiveInject(M.N),g.\u0275\u0275directiveInject(o.s),g.\u0275\u0275directiveInject(C._))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-groups-registry"]],decls:38,vars:34,consts:[[1,"container"],[1,"groups-registry","row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","header",1,"pb-2"],[1,"mr-auto","btn","btn-success",3,"routerLink"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline","ml-1"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query",1,"form-control",3,"placeholder"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","groups",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn-group","edit-field"],[3,"ngSwitch"],["class","btn btn-outline-primary btn-sm btn-edit",3,"routerLink","title",4,"ngSwitchCase"],["class","btn btn-outline-primary btn-sm btn-edit","placement","left",3,"disabled","ngbTooltip",4,"ngSwitchCase"],["class","btn btn-outline-danger btn-sm btn-delete",3,"title","click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm","btn-edit",3,"routerLink","title"],[1,"fas","fa-edit","fa-fw"],["placement","left",1,"btn","btn-outline-primary","btn-sm","btn-edit",3,"disabled","ngbTooltip"],[1,"btn","btn-outline-danger","btn-sm","btn-delete",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"]],template:function(Le,$e){if(1&Le&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),g.\u0275\u0275text(5),g.\u0275\u0275pipe(6,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"div")(8,"button",5),g.\u0275\u0275element(9,"i",6),g.\u0275\u0275elementStart(10,"span",7),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(13,"h3",8),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"form",9),g.\u0275\u0275listener("ngSubmit",function(){return $e.search($e.searchForm.value)}),g.\u0275\u0275elementStart(17,"div",10)(18,"div",11),g.\u0275\u0275element(19,"input",12),g.\u0275\u0275pipe(20,"translate"),g.\u0275\u0275pipe(21,"translate"),g.\u0275\u0275elementStart(22,"span",13)(23,"button",14),g.\u0275\u0275element(24,"i",15),g.\u0275\u0275text(25),g.\u0275\u0275pipe(26,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(27,"div")(28,"button",16),g.\u0275\u0275listener("click",function(){return $e.clearFormAndResetResult()}),g.\u0275\u0275text(29),g.\u0275\u0275pipe(30,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(31,Ve,1,0,"ds-themed-loading",17),g.\u0275\u0275pipe(32,"async"),g.\u0275\u0275template(33,rn,24,25,"ds-pagination",18),g.\u0275\u0275pipe(34,"async"),g.\u0275\u0275pipe(35,"async"),g.\u0275\u0275template(36,Cn,3,3,"div",19),g.\u0275\u0275pipe(37,"async"),g.\u0275\u0275elementEnd()()()),2&Le){let Ut,pn;g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(6,12,$e.messagePrefix+"head")),g.\u0275\u0275advance(3),g.\u0275\u0275property("routerLink","create"),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,14,$e.messagePrefix+"button.add")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(15,16,$e.messagePrefix+"search.head")),g.\u0275\u0275advance(2),g.\u0275\u0275property("formGroup",$e.searchForm),g.\u0275\u0275advance(3),g.\u0275\u0275property("placeholder",g.\u0275\u0275pipeBind1(21,20,$e.messagePrefix+"search.placeholder")),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(20,18,$e.messagePrefix+"search.placeholder")),g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(26,22,$e.messagePrefix+"search.button")," "),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(30,24,$e.messagePrefix+"button.see-all")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(32,26,$e.loading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==(Ut=g.\u0275\u0275pipeBind1(34,28,$e.pageInfoState$))?null:Ut.totalElements)>0&&!g.\u0275\u0275pipeBind1(35,30,$e.loading$)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",0==(null==(pn=g.\u0275\u0275pipeBind1(37,32,$e.pageInfoState$))?null:pn.totalElements))}},dependencies:[$.sg,$.O5,$.RF,$.n9,L._Y,L.Fj,L.JJ,L.JL,j._L,L.sg,L.u,t.rH,z.Z,re.Q,$.Ov,U.X$],encapsulation:2}),Et})();var hn=e(76457),En=e(38123),cn=e(20056),Pn=e(18005);let Bn=(()=>{class Et extends cn.I{constructor(Le,$e,Ut,pn){super($e,Ut,pn),this.halEndpointService=Le,this.authorizationService=$e,this.router=Ut,this.authService=pn,this.groupsEndpoint="groups"}getFeatureIDs(Le,$e){return(0,ee.of)([y.i.CanManageGroup])}getObjectUrl(Le,$e){return this.halEndpointService.getEndpoint(this.groupsEndpoint).pipe((0,d.U)(Ut=>`${Ut}/${Le?.params?.groupId}`))}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275inject(Pn.q),g.\u0275\u0275inject(O._),g.\u0275\u0275inject(t.F0),g.\u0275\u0275inject(En.e8))},Et.\u0275prov=g.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();var An=e(53896),In=e(73737),Fn=e(49887),er=e(62467);const Yn=["dsAccessControlForm"];function Er(Et,vn){1&Et&&g.\u0275\u0275element(0,"span",11)}function Ir(Et,vn){1&Et&&g.\u0275\u0275element(0,"span",12)}function si(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",5),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le),g.\u0275\u0275nextContext();const Ut=g.\u0275\u0275reference(1);return g.\u0275\u0275resetView(Ut.toggle("settings"))}),g.\u0275\u0275elementStart(1,"button",6),g.\u0275\u0275listener("click",function(Ut){return Ut.preventDefault()}),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"div",7)(5,"div",8),g.\u0275\u0275template(6,Er,1,0,"span",9),g.\u0275\u0275template(7,Ir,1,0,"span",10),g.\u0275\u0275elementEnd()()()}if(2&Et){g.\u0275\u0275nextContext();const Le=g.\u0275\u0275reference(1);g.\u0275\u0275advance(1),g.\u0275\u0275attribute("aria-expanded",!Le.isExpanded("browse")),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,4,"admin.access-control.bulk-access-settings.header")," "),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngIf",Le.isExpanded("settings")),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!Le.isExpanded("settings"))}}function yr(Et,vn){1&Et&&g.\u0275\u0275element(0,"ds-access-control-form-container",13,14),2&Et&&g.\u0275\u0275property("showSubmit",!1)}let Sn=(()=>{class Et{getValue(){return this.controlForm.getFormValue()}reset(){this.controlForm.reset()}}return Et.\u0275fac=function(Le){return new(Le||Et)},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-bulk-access-settings"]],viewQuery:function(Le,$e){if(1&Le&&g.\u0275\u0275viewQuery(Yn,5),2&Le){let Ut;g.\u0275\u0275queryRefresh(Ut=g.\u0275\u0275loadQuery())&&($e.controlForm=Ut.first)}},exportAs:["dsBulkSettings"],decls:5,vars:2,consts:[[3,"activeIds"],["acc","ngbAccordion"],[3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],["ngbPanelToggle","","data-test","settings",1,"w-100","d-flex","justify-content-between","collapse-toggle",3,"click"],["type","button","aria-controls","collapsePanels",1,"btn","btn-link","p-0",3,"click"],[1,"text-right","d-flex"],[1,"ml-3","d-inline-block"],["class","fas fa-chevron-up fa-fw",4,"ngIf"],["class","fas fa-chevron-down fa-fw",4,"ngIf"],[1,"fas","fa-chevron-up","fa-fw"],[1,"fas","fa-chevron-down","fa-fw"],[3,"showSubmit"],["dsAccessControlForm",""]],template:function(Le,$e){1&Le&&(g.\u0275\u0275elementStart(0,"ngb-accordion",0,1)(2,"ngb-panel",2),g.\u0275\u0275template(3,si,8,6,"ng-template",3),g.\u0275\u0275template(4,yr,2,1,"ng-template",4),g.\u0275\u0275elementEnd()()),2&Le&&(g.\u0275\u0275property("activeIds","settings"),g.\u0275\u0275advance(2),g.\u0275\u0275property("id","settings"))},dependencies:[$.O5,j.gY,j.Gk,j.gW,j.k9,er.x,U.X$]}),Et})();var Qn=e(68945),hr=e(91416),Br=e(55963),Xr=e(27496),br=e(41121),Oi=e(35534),Nr=e(82802),_i=e(52651),Ri=e(22413),kn=e(7027);function hi(Et,vn){1&Et&&g.\u0275\u0275element(0,"span",11)}function ai(Et,vn){1&Et&&g.\u0275\u0275element(0,"span",12)}function to(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",5),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le),g.\u0275\u0275nextContext();const Ut=g.\u0275\u0275reference(1);return g.\u0275\u0275resetView(Ut.toggle("browse"))}),g.\u0275\u0275elementStart(1,"button",6),g.\u0275\u0275listener("click",function(Ut){return Ut.preventDefault()}),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"div",7)(5,"div",8),g.\u0275\u0275template(6,hi,1,0,"span",9),g.\u0275\u0275template(7,ai,1,0,"span",10),g.\u0275\u0275elementEnd()()()}if(2&Et){g.\u0275\u0275nextContext();const Le=g.\u0275\u0275reference(1);g.\u0275\u0275advance(1),g.\u0275\u0275attribute("aria-expanded",!Le.isExpanded("browse")),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,4,"admin.access-control.bulk-access-browse.header")," "),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngIf",Le.isExpanded("browse")),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!Le.isExpanded("browse"))}}const Wi=function(Et){return{repeatable:!0,listId:Et}};function qr(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",19),g.\u0275\u0275element(1,"ds-themed-search",20),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275property("configuration","administrativeBulkAccess")("selectable",!0)("selectionConfig",g.\u0275\u0275pureFunction1(4,Wi,Le.listId))("showThumbnails",!1)}}function Bi(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"li",25),g.\u0275\u0275pipe(1,"dsBrowserOnly"),g.\u0275\u0275element(2,"ds-selectable-list-item-control",26)(3,"ds-listable-object-component-loader",27),g.\u0275\u0275elementEnd()),2&Et){const Le=vn.$implicit,$e=vn.index,Ut=g.\u0275\u0275nextContext(4);g.\u0275\u0275attribute("data-test",g.\u0275\u0275pipeBind1(1,9,"list-object")),g.\u0275\u0275advance(2),g.\u0275\u0275property("index",$e)("object",Le)("selectionConfig",g.\u0275\u0275pureFunction1(11,Wi,Ut.listId)),g.\u0275\u0275advance(1),g.\u0275\u0275property("listID",Ut.listId)("index",$e)("object",Le)("showThumbnails",!1)("viewMode","list")}}const dt=function(Et,vn,Le){return{itemsPerPage:Et,currentPage:vn,totalItems:Le}};function Zt(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"ul",23),g.\u0275\u0275template(1,Bi,4,13,"li",24),g.\u0275\u0275pipe(2,"paginate"),g.\u0275\u0275pipe(3,"async"),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275pipe(5,"async"),g.\u0275\u0275pipe(6,"async"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext(3);let $e;g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",g.\u0275\u0275pipeBind2(2,1,null==($e=g.\u0275\u0275pipeBind1(3,4,Le.objectsSelected$))||null==$e.payload?null:$e.payload.page,g.\u0275\u0275pureFunction3(12,dt,g.\u0275\u0275pipeBind1(4,6,Le.paginationOptions$).pageSize,g.\u0275\u0275pipeBind1(5,8,Le.paginationOptions$).currentPage,null==($e=g.\u0275\u0275pipeBind1(6,10,Le.objectsSelected$))||null==$e.payload?null:$e.payload.page.length)))}}function Kt(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ds-pagination",21),g.\u0275\u0275listener("prev",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(Ut.pagePrev())})("next",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(Ut.pageNext())}),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275pipe(3,"async"),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275template(5,Zt,7,16,"ul",22),g.\u0275\u0275pipe(6,"async"),g.\u0275\u0275elementEnd()}if(2&Et){const Le=g.\u0275\u0275nextContext(2);let $e,Ut,pn;g.\u0275\u0275property("paginationOptions",g.\u0275\u0275pipeBind1(1,6,Le.paginationOptions$))("pageInfoState",null==($e=g.\u0275\u0275pipeBind1(2,8,Le.objectsSelected$))?null:$e.payload.pageInfo)("collectionSize",null==(Ut=g.\u0275\u0275pipeBind1(3,10,Le.objectsSelected$))||null==Ut.payload?null:Ut.payload.totalElements)("objects",g.\u0275\u0275pipeBind1(4,12,Le.objectsSelected$))("showPaginator",!1),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngIf",null==(pn=g.\u0275\u0275pipeBind1(6,14,Le.objectsSelected$))?null:pn.hasSucceeded)}}const ln=function(Et){return{number:Et}};function _n(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ul",13,14),g.\u0275\u0275listener("activeIdChange",function(Ut){g.\u0275\u0275restoreView(Le);const pn=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(pn.activateId=Ut)}),g.\u0275\u0275elementStart(2,"li",15)(3,"a",16),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(6,qr,2,6,"ng-template",17),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"li",15)(8,"a",16),g.\u0275\u0275text(9),g.\u0275\u0275pipe(10,"translate"),g.\u0275\u0275pipe(11,"async"),g.\u0275\u0275pipe(12,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(13,Kt,7,16,"ng-template",17),g.\u0275\u0275elementEnd()(),g.\u0275\u0275element(14,"div",18)}if(2&Et){const Le=g.\u0275\u0275reference(1),$e=g.\u0275\u0275nextContext();let Ut;g.\u0275\u0275property("activeId",$e.activateId),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngbNavItem","search"),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(5,6,"admin.access-control.bulk-access-browse.search.header")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngbNavItem","selected"),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind2(10,8,"admin.access-control.bulk-access-browse.selected.header",g.\u0275\u0275pureFunction1(15,ln,null!=(Ut=g.\u0275\u0275pipeBind1(11,11,$e.objectsSelected$))&&null!=Ut.payload&&Ut.payload.totalElements?null==(Ut=g.\u0275\u0275pipeBind1(12,13,$e.objectsSelected$))||null==Ut.payload?null:Ut.payload.totalElements:"0"))," "),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngbNavOutlet",Le)}}let bn=(()=>{class Et{constructor(Le){this.selectableListService=Le,this.activateId="search",this.objectsSelected$=new n.X(null),this.paginationOptions$=new n.X(Object.assign(new _.r,{id:"bas",pageSize:5,currentPage:1})),this.subs=[]}ngOnInit(){this.subs.push(this.selectableListService.getSelectableList(this.listId).pipe((0,Fn.x)(),(0,d.U)(Le=>this.generatePaginatedListBySelectedElements(Le))).subscribe(this.objectsSelected$))}pageNext(){this.paginationOptions$.next(Object.assign(new _.r,this.paginationOptions$.value,{currentPage:this.paginationOptions$.value.currentPage+1}))}pagePrev(){this.paginationOptions$.next(Object.assign(new _.r,this.paginationOptions$.value,{currentPage:this.paginationOptions$.value.currentPage-1}))}calculatePageCount(Le,$e=0){return $e<Le?1:Math.ceil($e/Le)}generatePaginatedListBySelectedElements(Le){const $e=new D.S({elementsPerPage:this.paginationOptions$.value.pageSize,totalElements:Le?.selection.length,totalPages:this.calculatePageCount(this.paginationOptions$.value.pageSize,Le?.selection.length),currentPage:this.paginationOptions$.value.currentPage});return $e.currentPage>$e.totalPages&&($e.currentPage=$e.totalPages,this.paginationOptions$.next(Object.assign(new _.r,this.paginationOptions$.value,{currentPage:$e.currentPage}))),(0,br.AC)((0,l.b)($e,Le?.selection||[]))}ngOnDestroy(){this.subs.filter(Le=>(0,h.Uh)(Le)).forEach(Le=>Le.unsubscribe()),this.selectableListService.deselectAll(this.listId)}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(hr.w))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-bulk-access-browse"]],inputs:{listId:"listId"},features:[g.\u0275\u0275ProvidersFeature([{provide:Br.SEARCH_CONFIG_SERVICE,useClass:Xr.U}])],decls:5,vars:2,consts:[[3,"activeIds"],["acc","ngbAccordion"],[3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],["ngbPanelToggle","","data-test","browse",1,"w-100","d-flex","justify-content-between","collapse-toggle",3,"click"],["type","button","aria-controls","collapsePanels",1,"btn","btn-link","p-0",3,"click"],[1,"text-right","d-flex"],[1,"ml-3","d-inline-block"],["class","fas fa-chevron-up fa-fw",4,"ngIf"],["class","fas fa-chevron-down fa-fw",4,"ngIf"],[1,"fas","fa-chevron-up","fa-fw"],[1,"fas","fa-chevron-down","fa-fw"],["ngbNav","",1,"nav-pills",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-5",3,"ngbNavOutlet"],[1,"mx-n3"],[3,"configuration","selectable","selectionConfig","showThumbnails"],[3,"paginationOptions","pageInfoState","collectionSize","objects","showPaginator","prev","next"],["class","list-unstyled ml-4",4,"ngIf"],[1,"list-unstyled","ml-4"],["class","mt-4 mb-4 d-flex",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig"],[3,"listID","index","object","showThumbnails","viewMode"]],template:function(Le,$e){1&Le&&(g.\u0275\u0275elementStart(0,"ngb-accordion",0,1)(2,"ngb-panel",2),g.\u0275\u0275template(3,to,8,6,"ng-template",3),g.\u0275\u0275template(4,_n,15,17,"ng-template",4),g.\u0275\u0275elementEnd()()),2&Le&&(g.\u0275\u0275property("activeIds","browse"),g.\u0275\u0275advance(2),g.\u0275\u0275property("id","browse"))},dependencies:[$.sg,$.O5,j.uN,j.Pz,j.nv,j.Vx,j.tO,re.Q,Oi.p,Nr._,j.gY,j.Gk,j.gW,j.k9,_i.l,$.Ov,Ri._s,kn.g,U.X$]}),Et})();const $n=["dsBulkSettings"];let Mr=(()=>{class Et{constructor(Le,$e){this.bulkAccessControlService=Le,this.selectableListService=$e,this.listId="bulk-access-list",this.objectsSelected$=new n.X([]),this.subs=[]}ngOnInit(){this.subs.push(this.selectableListService.getSelectableList(this.listId).pipe((0,Fn.x)(),(0,d.U)(Le=>this.generateIdListBySelectedElements(Le))).subscribe(this.objectsSelected$))}canExport(){return this.objectsSelected$.value?.length>0}reset(){this.settings.reset()}submit(){const Le=this.settings.getValue(),$e=Le.bitstream,Ut=Le.item,{file:pn}=this.bulkAccessControlService.createPayloadFile({bitstreamAccess:$e,itemAccess:Ut,state:Le.state});this.bulkAccessControlService.executeScript(this.objectsSelected$.value||[],pn).subscribe()}generateIdListBySelectedElements(Le){return Le?.selection?.map($e=>$e.indexableObject.uuid)}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(Qn.h),g.\u0275\u0275directiveInject(hr.w))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-bulk-access"]],viewQuery:function(Le,$e){if(1&Le&&g.\u0275\u0275viewQuery($n,5),2&Le){let Ut;g.\u0275\u0275queryRefresh(Ut=g.\u0275\u0275loadQuery())&&($e.settings=Ut.first)}},decls:13,vars:8,consts:[[1,"container"],[3,"listId"],[1,"clearfix","mb-3"],["dsBulkSettings",""],[1,"d-flex","justify-content-end"],[1,"btn","btn-outline-primary","mr-3",3,"click"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(Le,$e){1&Le&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275element(1,"ds-bulk-access-browse",1)(2,"div",2)(3,"ds-bulk-access-settings",null,3)(5,"hr"),g.\u0275\u0275elementStart(6,"div",4)(7,"button",5),g.\u0275\u0275listener("click",function(){return $e.reset()}),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"button",6),g.\u0275\u0275listener("click",function(){return $e.submit()}),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd()()()),2&Le&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("listId",$e.listId),g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(9,4,"access-control-cancel")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("disabled",!$e.canExport()),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(12,6,"access-control-execute")," "))},dependencies:[bn,Sn,U.X$]}),Et})();var Ur=e(90410),Tr=e(88539);class Vn{static createValidator(vn){return Le=>vn.getEPersonByEmail(Le.value).pipe((0,S.xw)(),(0,d.U)($e=>$e.payload?{emailTaken:!0}:null))}}var Xn=e(63794),xi=e(87653);function li(Et,vn){1&Et&&g.\u0275\u0275element(0,"div")}function Wr(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"h2",14),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".create"))}}function So(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"h2",14),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,Le.messagePrefix+".edit"))}}function co(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",15)(1,"button",16),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ut.resetPassword())}),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275element(3,"i",17),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd()()}if(2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("disabled",!g.\u0275\u0275pipeBind1(2,2,Le.canReset$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(5,4,"admin.access-control.epeople.actions.reset")," ")}}function Ki(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",19),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(Ut.impersonate())}),g.\u0275\u0275element(1,"i",20),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd()}2&Et&&(g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,1,"admin.access-control.epeople.actions.impersonate")," "))}function ei(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",19),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(Ut.stopImpersonating())}),g.\u0275\u0275element(1,"i",20),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd()}2&Et&&(g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,1,"admin.access-control.epeople.actions.stop-impersonating")," "))}function ko(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",15),g.\u0275\u0275template(1,Ki,4,3,"button",18),g.\u0275\u0275template(2,ei,4,3,"button",18),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!Le.isImpersonated),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",Le.isImpersonated)}}function bo(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",21),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(Le);const Ut=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ut.delete())}),g.\u0275\u0275element(1,"i",22),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd()}2&Et&&(g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,1,"admin.access-control.epeople.actions.delete")," "))}function Bo(Et,vn){1&Et&&g.\u0275\u0275element(0,"ds-themed-loading",23),2&Et&&g.\u0275\u0275property("showMessage",!1)}function no(Et,vn){1&Et&&g.\u0275\u0275element(0,"ds-themed-loading",23),2&Et&&g.\u0275\u0275property("showMessage",!1)}const Uo=function(Et){return[Et]};function Po(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"tr")(1,"td",31),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"td",31)(4,"a",32),g.\u0275\u0275listener("click",function(){const pn=g.\u0275\u0275restoreView(Le).$implicit,rr=g.\u0275\u0275nextContext(3);return g.\u0275\u0275resetView(rr.groupsDataService.startEditingNewGroup(pn))}),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"td",31),g.\u0275\u0275text(7),g.\u0275\u0275elementEnd()()}if(2&Et){const Le=vn.$implicit,$e=g.\u0275\u0275nextContext(3);g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Le.id),g.\u0275\u0275advance(2),g.\u0275\u0275property("routerLink",g.\u0275\u0275pureFunction1(4,Uo,$e.groupsDataService.getGroupEditPageRouterLink(Le))),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",$e.dsoNameService.getName(Le)," "),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate($e.dsoNameService.getName(void 0))}}function mo(Et,vn){if(1&Et){const Le=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ds-pagination",26),g.\u0275\u0275listener("pageChange",function(Ut){g.\u0275\u0275restoreView(Le);const pn=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(pn.onPageChange(Ut))}),g.\u0275\u0275pipe(1,"async"),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275elementStart(3,"div",27)(4,"table",28)(5,"thead")(6,"tr")(7,"th",29),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"th",29),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(13,"th",29),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(16,"tbody"),g.\u0275\u0275template(17,Po,8,6,"tr",30),g.\u0275\u0275pipe(18,"async"),g.\u0275\u0275elementEnd()()()()}if(2&Et){const Le=g.\u0275\u0275nextContext(2);let $e,Ut,pn;g.\u0275\u0275property("paginationOptions",Le.config)("pageInfoState",null==($e=g.\u0275\u0275pipeBind1(1,9,Le.groups))?null:$e.payload)("collectionSize",null==(Ut=g.\u0275\u0275pipeBind1(2,11,Le.groups))||null==Ut.payload?null:Ut.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),g.\u0275\u0275advance(8),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(9,13,Le.messagePrefix+".table.id")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,15,Le.messagePrefix+".table.name")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(15,17,Le.messagePrefix+".table.collectionOrCommunity")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",null==(pn=g.\u0275\u0275pipeBind1(18,19,Le.groups))||null==pn.payload?null:pn.payload.page)}}function Mi(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div",33)(1,"div"),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"div")(5,"button",34),g.\u0275\u0275text(6),g.\u0275\u0275pipe(7,"translate"),g.\u0275\u0275elementEnd()()()),2&Et){const Le=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(3,3,Le.messagePrefix+".memberOfNoGroups")),g.\u0275\u0275advance(3),g.\u0275\u0275property("routerLink",g.\u0275\u0275pureFunction1(7,Uo,Le.groupsDataService.getGroupRegistryRouterLink())),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(7,5,Le.messagePrefix+".goToGroups"))}}function $o(Et,vn){if(1&Et&&(g.\u0275\u0275elementStart(0,"div")(1,"h5"),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(4,no,1,1,"ds-themed-loading",12),g.\u0275\u0275pipe(5,"async"),g.\u0275\u0275template(6,mo,19,21,"ds-pagination",24),g.\u0275\u0275pipe(7,"async"),g.\u0275\u0275template(8,Mi,8,9,"div",25),g.\u0275\u0275pipe(9,"async"),g.\u0275\u0275elementEnd()),2&Et){const Le=g.\u0275\u0275nextContext();let $e,Ut;g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(3,4,Le.messagePrefix+".groupsEPersonIsMemberOf")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",!g.\u0275\u0275pipeBind1(5,6,Le.groups)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==($e=g.\u0275\u0275pipeBind1(7,8,Le.groups))||null==$e.payload?null:$e.payload.totalElements)>0),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",0==(null==(Ut=g.\u0275\u0275pipeBind1(9,10,Le.groups))||null==Ut.payload?null:Ut.payload.totalElements))}}let as=(()=>{class Et{constructor(Le,$e,Ut,pn,rr,Ar,ti,cr,gi,ci,Fi,yo,zo,vi,Go){this.changeDetectorRef=Le,this.epersonService=$e,this.groupsDataService=Ut,this.formBuilderService=pn,this.translateService=rr,this.notificationsService=Ar,this.authService=ti,this.authorizationService=cr,this.modalService=gi,this.paginationService=ci,this.requestService=Fi,this.epersonRegistrationService=yo,this.dsoNameService=zo,this.route=vi,this.router=Go,this.labelPrefix="admin.access-control.epeople.form.",this.formId="eperson-form",this.messagePrefix="admin.access-control.epeople.form",this.formLayout={firstName:{grid:{host:"row"}},lastName:{grid:{host:"row"}},email:{grid:{host:"row"}},canLogIn:{grid:{host:"col col-sm-6 d-inline-block"}},requireCertificate:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new g.EventEmitter,this.cancelForm=new g.EventEmitter,this.subs=[],this.config=Object.assign(new _.r,{id:"gem",pageSize:5,currentPage:1}),this.isImpersonated=!1,this.displayResetPassword=!1,this.submitLabel="form.create",this.subs.push(this.epersonService.getActiveEPerson().subscribe(di=>{this.epersonInitial=di,(0,h.Uh)(di)&&(this.isImpersonated=this.authService.isImpersonatingUser(di.id),this.displayResetPassword=!0,this.submitLabel="form.submit")}))}ngOnInit(){this.initialisePage()}initialisePage(){this.subs.push(this.epersonService.findById(this.route.snapshot.params.id).subscribe(Le=>{this.epersonService.editEPerson(Le.payload)})),(0,a.a)([this.translateService.get(`${this.messagePrefix}.firstName`),this.translateService.get(`${this.messagePrefix}.lastName`),this.translateService.get(`${this.messagePrefix}.email`),this.translateService.get(`${this.messagePrefix}.canLogIn`),this.translateService.get(`${this.messagePrefix}.requireCertificate`),this.translateService.get(`${this.messagePrefix}.emailHint`)]).subscribe(([Le,$e,Ut,pn,rr,Ar])=>{this.firstName=new q.b1u({id:"firstName",label:Le,name:"firstName",validators:{required:null},required:!0}),this.lastName=new q.b1u({id:"lastName",label:$e,name:"lastName",validators:{required:null},required:!0}),this.email=new q.b1u({id:"email",label:Ut,name:"email",validators:{required:null,pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"},required:!0,errorMessages:{emailTaken:"error.validation.emailTaken",pattern:"error.validation.NotValidEmail"},hint:Ar}),this.canLogIn=new q.dwp({id:"canLogIn",label:pn,name:"canLogIn",value:null==this.epersonInitial||this.epersonInitial.canLogIn}),this.requireCertificate=new q.dwp({id:"requireCertificate",label:rr,name:"requireCertificate",value:null!=this.epersonInitial&&this.epersonInitial.requireCertificate}),this.formModel=[this.firstName,this.lastName,this.email,this.canLogIn,this.requireCertificate],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.subs.push(this.epersonService.getActiveEPerson().subscribe(cr=>{null!=cr&&(this.groups=this.groupsDataService.findListByHref(cr._links.groups.href,{currentPage:1,elementsPerPage:this.config.pageSize})),this.formGroup.patchValue({firstName:null!=cr?cr.firstMetadataValue("eperson.firstname"):"",lastName:null!=cr?cr.firstMetadataValue("eperson.lastname"):"",email:null!=cr?cr.email:"",canLogIn:null==cr||cr.canLogIn,requireCertificate:null!=cr&&cr.requireCertificate}),null===cr&&this.formGroup.controls.email&&(this.formGroup.controls.email.setAsyncValidators(Vn.createValidator(this.epersonService)),this.emailValueChangeSubscribe=this.email.valueChanges.pipe((0,J.b)(300)).subscribe(()=>{this.changeDetectorRef.detectChanges()}))}));const ti=this.epersonService.getActiveEPerson();this.groups=ti.pipe((0,i.w)(cr=>(0,a.a)([(0,ee.of)(cr),this.paginationService.getFindListOptions(this.config.id,{currentPage:1,elementsPerPage:this.config.pageSize})])),(0,i.w)(([cr,gi])=>null!=cr?this.groupsDataService.findListByHref(cr._links.groups.href,gi,!0,!0,(0,Dt.l)("object")):(0,ee.of)(void 0))),this.canImpersonate$=ti.pipe((0,i.w)(cr=>(0,h.Uh)(cr)?this.authorizationService.isAuthorized(y.i.LoginOnBehalfOf,cr.self):(0,ee.of)(!1))),this.canDelete$=ti.pipe((0,i.w)(cr=>this.authorizationService.isAuthorized(y.i.CanDelete,(0,h.Uh)(cr)?cr.self:void 0))),this.canReset$=(0,ee.of)(!0)})}onCancel(){this.epersonService.cancelEditEPerson(),this.cancelForm.emit(),this.router.navigate([(0,T.b6)()])}onSubmit(){this.epersonService.getActiveEPerson().pipe((0,r.q)(1)).subscribe(Le=>{const $e={metadata:{"eperson.firstname":[{value:this.firstName.value}],"eperson.lastname":[{value:this.lastName.value}]},email:this.email.value,canLogIn:this.canLogIn.value,requireCertificate:this.requireCertificate.value};null==Le?this.createNewEPerson($e):this.editEPerson(Le,$e)})}createNewEPerson(Le){const $e=Object.assign(new Tr.T,Le);this.epersonService.create($e).pipe((0,S.hC)()).subscribe(pn=>{pn.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.created.success",{name:this.dsoNameService.getName($e)})),this.submitForm.emit($e),this.epersonService.clearEPersonRequests(),this.router.navigateByUrl((0,T.b6)())):(this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification.created.failure",{name:this.dsoNameService.getName($e)})),this.cancelForm.emit())}),this.showNotificationIfEmailInUse($e,"created")}editEPerson(Le,$e){const Ut=Object.assign(new Tr.T,{id:Le.id,metadata:{"eperson.firstname":[{value:this.firstName.value?this.firstName.value:Le.firstMetadataValue("eperson.firstname")}],"eperson.lastname":[{value:this.lastName.value?this.lastName.value:Le.firstMetadataValue("eperson.lastname")}]},email:(0,h.Uh)($e.email)?$e.email:Le.email,canLogIn:(0,h.Uh)($e.canLogIn)?$e.canLogIn:Le.canLogIn,requireCertificate:(0,h.Uh)($e.requireCertificate)?$e.requireCertificate:Le.requireCertificate,_links:Le._links});this.epersonService.updateEPerson(Ut).pipe((0,S.hC)()).subscribe(rr=>{rr.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.edited.success",{name:this.dsoNameService.getName(Ut)})),this.submitForm.emit(Ut),this.router.navigateByUrl((0,T.b6)())):(this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification.edited.failure",{name:this.dsoNameService.getName(Ut)})),this.cancelForm.emit())}),null!=$e.email&&$e.email!==Le.email&&this.showNotificationIfEmailInUse(Ut,"edited")}onPageChange(Le){this.updateGroups({currentPage:Le,elementsPerPage:this.config.pageSize})}impersonate(){this.authService.impersonate(this.epersonInitial.id),this.isImpersonated=!0}delete(){this.epersonService.getActiveEPerson().pipe((0,r.q)(1),(0,i.w)(Le=>{const $e=this.modalService.open(b.Y);return $e.componentInstance.dso=Le,$e.componentInstance.headerLabel="confirmation-modal.delete-eperson.header",$e.componentInstance.infoLabel="confirmation-modal.delete-eperson.info",$e.componentInstance.cancelLabel="confirmation-modal.delete-eperson.cancel",$e.componentInstance.confirmLabel="confirmation-modal.delete-eperson.confirm",$e.componentInstance.brandColor="danger",$e.componentInstance.confirmIcon="fas fa-trash",$e.componentInstance.response.pipe((0,r.q)(1),(0,i.w)(Ut=>Ut&&(0,h.Uh)(Le.id)?(this.canDelete$=(0,ee.of)(!1),this.epersonService.deleteEPerson(Le).pipe((0,S.hC)(),(0,d.U)(pn=>({restResponse:pn,eperson:Le})))):(0,ee.of)(null)),(0,Ur.x)(()=>this.canDelete$=(0,ee.of)(!0)))})).subscribe(({restResponse:Le,eperson:$e})=>{Le?.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.deleted.success",{name:this.dsoNameService.getName($e)})),this.router.navigate([(0,T.b6)()])):this.notificationsService.error(`Error occurred when trying to delete EPerson with id: ${$e?.id} with code: ${Le?.statusCode} and message: ${Le?.errorMessage}`),this.cancelForm.emit()})}stopImpersonating(){this.authService.stopImpersonatingAndRefresh(),this.isImpersonated=!1}resetPassword(){(0,h.Uh)(this.epersonInitial.email)&&this.epersonRegistrationService.registerEmail(this.epersonInitial.email,null,xi.TYPE_REQUEST_FORGOT).pipe((0,S.hC)()).subscribe(Le=>{Le.hasSucceeded?this.notificationsService.success(this.translateService.get("admin.access-control.epeople.actions.reset"),this.translateService.get("forgot-email.form.success.content",{email:this.epersonInitial.email})):this.notificationsService.error(this.translateService.get("forgot-email.form.error.head"),this.translateService.get("forgot-email.form.error.content",{email:this.epersonInitial.email}))})}ngOnDestroy(){this.subs.filter(Le=>(0,h.Uh)(Le)).forEach(Le=>Le.unsubscribe()),this.paginationService.clearPagination(this.config.id),(0,h.Uh)(this.emailValueChangeSubscribe)&&this.emailValueChangeSubscribe.unsubscribe()}showNotificationIfEmailInUse(Le,$e){this.subs.push(this.epersonService.searchByScope("email",Le.email,{currentPage:1,elementsPerPage:0}).pipe((0,S.xw)(),(0,S.xe)()).subscribe(Ut=>{Ut.totalElements>0&&this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification."+$e+".failure.emailInUse",{name:this.dsoNameService.getName(Le),email:Le.email}))}))}updateGroups(Le){this.subs.push(this.epersonService.getActiveEPerson().subscribe($e=>{this.groups=this.groupsDataService.findListByHref($e._links.groups.href,Le)}))}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275directiveInject(g.ChangeDetectorRef),g.\u0275\u0275directiveInject(p.k),g.\u0275\u0275directiveInject(et.O),g.\u0275\u0275directiveInject(mt.c),g.\u0275\u0275directiveInject(U.sK),g.\u0275\u0275directiveInject(m.T),g.\u0275\u0275directiveInject(En.e8),g.\u0275\u0275directiveInject(O._),g.\u0275\u0275directiveInject(j.FF),g.\u0275\u0275directiveInject(M.N),g.\u0275\u0275directiveInject(o.s),g.\u0275\u0275directiveInject(Xn.m),g.\u0275\u0275directiveInject(C._),g.\u0275\u0275directiveInject(t.gz),g.\u0275\u0275directiveInject(t.F0))},Et.\u0275cmp=g.\u0275\u0275defineComponent({type:Et,selectors:[["ds-eperson-form"]],outputs:{submitForm:"submitForm",cancelForm:"cancelForm"},decls:23,vars:25,consts:[[1,"container"],[1,"group-form","row"],[1,"col-12"],[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editHeader",""],[3,"formId","formModel","formGroup","formLayout","displayCancel","submitLabel","submitForm"],["before","",1,"btn-group"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"],["between","","class","btn-group",4,"ngIf"],["after","","class","btn btn-danger delete-button","type","button",3,"click",4,"ngIf"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[1,"border-bottom","pb-2"],["between","",1,"btn-group"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-key"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-user-secret"],["after","","type","button",1,"btn","btn-danger","delete-button",3,"click"],[1,"fas","fa-trash"],[3,"showMessage"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage","pageChange",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage","pageChange"],[1,"table-responsive"],["id","groups",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[4,"ngFor","ngForOf"],[1,"align-middle"],[3,"routerLink","click"],["role","alert",1,"alert","alert-info","w-100","mb-2"],[1,"btn","btn-primary",3,"routerLink"]],template:function(Le,$e){if(1&Le&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),g.\u0275\u0275template(3,li,1,0,"div",3),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275template(5,Wr,3,3,"ng-template",null,4,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275template(7,So,3,3,"ng-template",null,5,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275elementStart(9,"ds-form",6),g.\u0275\u0275listener("submitForm",function(){return $e.onSubmit()}),g.\u0275\u0275elementStart(10,"div",7)(11,"button",8),g.\u0275\u0275listener("click",function(){return $e.onCancel()}),g.\u0275\u0275element(12,"i",9),g.\u0275\u0275text(13),g.\u0275\u0275pipe(14,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275template(15,co,6,6,"div",10),g.\u0275\u0275template(16,ko,3,2,"div",10),g.\u0275\u0275pipe(17,"async"),g.\u0275\u0275template(18,bo,4,3,"button",11),g.\u0275\u0275pipe(19,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(20,Bo,1,1,"ds-themed-loading",12),g.\u0275\u0275template(21,$o,10,12,"div",13),g.\u0275\u0275pipe(22,"async"),g.\u0275\u0275elementEnd()()()),2&Le){const Ut=g.\u0275\u0275reference(6),pn=g.\u0275\u0275reference(8);g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(4,15,$e.epersonService.getActiveEPerson()))("ngIfThen",pn)("ngIfElse",Ut),g.\u0275\u0275advance(6),g.\u0275\u0275property("formId",$e.formId)("formModel",$e.formModel)("formGroup",$e.formGroup)("formLayout",$e.formLayout)("displayCancel",!1)("submitLabel",$e.submitLabel),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(14,17,$e.messagePrefix+".return")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",$e.displayResetPassword),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(17,19,$e.canImpersonate$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(19,21,$e.canDelete$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",!$e.formGroup),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(22,23,$e.epersonService.getActiveEPerson()))}},dependencies:[$.sg,$.O5,L.JL,L.sg,t.rH,z.Z,re.Q,Ht.U,$.Ov,U.X$],encapsulation:2}),Et})();var uo=e(28452),ro=e(89702);const ms=[(0,Dt.l)("groups")];let _s=(()=>{class Et{constructor(Le,$e){this.ePersonService=Le,this.store=$e}resolve(Le,$e){const Ut=this.ePersonService.findById(Le.params.id,!0,!1,...ms).pipe((0,S.hC)());return Ut.subscribe(pn=>{this.store.dispatch(new uo.K($e.url,pn.payload))}),Ut}}return Et.\u0275fac=function(Le){return new(Le||Et)(g.\u0275\u0275inject(p.k),g.\u0275\u0275inject(ro.yh))},Et.\u0275prov=g.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})(),_o=(()=>{class Et{}return Et.\u0275fac=function(Le){return new(Le||Et)},Et.\u0275mod=g.\u0275\u0275defineNgModule({type:Et}),Et.\u0275inj=g.\u0275\u0275defineInjector({imports:[t.Bz.forChild([{path:T.sC,component:oe,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.epeople.title",breadcrumbKey:"admin.access-control.epeople"},canActivate:[In.X]},{path:`${T.sC}/create`,component:as,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.epeople.add.title",breadcrumbKey:"admin.access-control.epeople.add"},canActivate:[In.X]},{path:`${T.sC}/:id/edit`,component:as,resolve:{breadcrumb:hn.t,ePerson:_s},data:{title:"admin.access-control.epeople.edit.title",breadcrumbKey:"admin.access-control.epeople.edit"},canActivate:[In.X]},{path:T.y9,component:tr,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.groups.title",breadcrumbKey:"admin.access-control.groups"},canActivate:[An.E]},{path:`${T.y9}/create`,component:Qt,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.groups.title.addGroup",breadcrumbKey:"admin.access-control.groups.addGroup"},canActivate:[An.E]},{path:`${T.y9}/:groupId/edit`,component:Qt,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.groups.title.singleGroup",breadcrumbKey:"admin.access-control.groups.singleGroup"},canActivate:[Bn]},{path:"bulk-access",component:Mr,resolve:{breadcrumb:hn.t},data:{title:"admin.access-control.bulk-access.title",breadcrumbKey:"admin.access-control.bulk-access"},canActivate:[In.X]}])]}),Et})()},35094:(R,c,e)=>{"use strict";e.d(c,{$O:()=>i,FS:()=>n,io:()=>a});var t=e(49754);const n={EDIT_EPERSON:(0,t.d)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,t.d)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class a{constructor(r){this.type=n.EDIT_EPERSON,this.eperson=r}}class i{constructor(){this.type=n.CANCEL_EDIT_EPERSON}}},22291:(R,c,e)=>{"use strict";e.d(c,{O:()=>K});var t=e(35841),n=e(21160),a=e(48358),i=e(77176),d=e(75195),r=e(30303),l=e(10572),p=e(65384),h=e(45180),m=e(81323),_=e(8842),v=e(98678),y=e(96342),O=e(5476),S=e(67522),b=e(35103),o=e(78530),D=e(44193);const M=function(w){return[w]},C=function(w){return{name:w}},T=function(w){return["btn btn-sm",w]};function g(w,Q){if(1&w){const oe=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"tr")(1,"td",17),v.\u0275\u0275text(2),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"td",17)(4,"a",19),v.\u0275\u0275listener("click",function(){const J=v.\u0275\u0275restoreView(oe).$implicit,Ee=v.\u0275\u0275nextContext(2);return v.\u0275\u0275resetView(Ee.ePersonDataService.startEditingNewEPerson(J))}),v.\u0275\u0275text(5),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(6,"td",17),v.\u0275\u0275text(7),v.\u0275\u0275pipe(8,"translate"),v.\u0275\u0275element(9,"br"),v.\u0275\u0275text(10),v.\u0275\u0275pipe(11,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(12,"td",17)(13,"div",20)(14,"button",21),v.\u0275\u0275listener("click",function(){const J=v.\u0275\u0275restoreView(oe).$implicit,Ee=v.\u0275\u0275nextContext(2);return v.\u0275\u0275resetView(Ee.deleteMemberFromGroup(J))}),v.\u0275\u0275pipe(15,"translate"),v.\u0275\u0275element(16,"i",22),v.\u0275\u0275elementEnd()()()()}if(2&w){const oe=Q.$implicit,q=v.\u0275\u0275nextContext(2);v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate(oe.id),v.\u0275\u0275advance(2),v.\u0275\u0275property("routerLink",v.\u0275\u0275pureFunction1(18,M,q.ePersonDataService.getEPeoplePageRouterLink())),v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",q.dsoNameService.getName(oe)," "),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate2(" ",v.\u0275\u0275pipeBind1(8,11,q.messagePrefix+".table.email"),": ",oe.email?oe.email:"-",""),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate2(" ",v.\u0275\u0275pipeBind1(11,13,q.messagePrefix+".table.netid"),": ",oe.netid?oe.netid:"-"," "),v.\u0275\u0275advance(4),v.\u0275\u0275propertyInterpolate("title",v.\u0275\u0275pipeBind2(15,15,q.messagePrefix+".table.edit.buttons.remove",v.\u0275\u0275pureFunction1(20,C,q.dsoNameService.getName(oe)))),v.\u0275\u0275property("disabled",q.actionConfig.remove.disabled)("ngClass",v.\u0275\u0275pureFunction1(22,T,q.actionConfig.remove.css)),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngClass",q.actionConfig.remove.icon)}}function U(w,Q){if(1&w&&(v.\u0275\u0275elementStart(0,"ds-pagination",13),v.\u0275\u0275pipe(1,"async"),v.\u0275\u0275pipe(2,"async"),v.\u0275\u0275elementStart(3,"div",14)(4,"table",15)(5,"thead")(6,"tr")(7,"th",16),v.\u0275\u0275text(8),v.\u0275\u0275pipe(9,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(10,"th",16),v.\u0275\u0275text(11),v.\u0275\u0275pipe(12,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(13,"th",16),v.\u0275\u0275text(14),v.\u0275\u0275pipe(15,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(16,"th",17),v.\u0275\u0275text(17),v.\u0275\u0275pipe(18,"translate"),v.\u0275\u0275elementEnd()()(),v.\u0275\u0275elementStart(19,"tbody"),v.\u0275\u0275template(20,g,17,24,"tr",18),v.\u0275\u0275pipe(21,"async"),v.\u0275\u0275elementEnd()()()()),2&w){const oe=v.\u0275\u0275nextContext();let q,ee;v.\u0275\u0275property("paginationOptions",oe.config)("pageInfoState",v.\u0275\u0275pipeBind1(1,10,oe.ePeopleMembersOfGroup))("collectionSize",null==(q=v.\u0275\u0275pipeBind1(2,12,oe.ePeopleMembersOfGroup))?null:q.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),v.\u0275\u0275advance(8),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(9,14,oe.messagePrefix+".table.id")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(12,16,oe.messagePrefix+".table.name")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(15,18,oe.messagePrefix+".table.identity")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(18,20,oe.messagePrefix+".table.edit")),v.\u0275\u0275advance(3),v.\u0275\u0275property("ngForOf",null==(ee=v.\u0275\u0275pipeBind1(21,22,oe.ePeopleMembersOfGroup))?null:ee.page)}}function L(w,Q){if(1&w&&(v.\u0275\u0275elementStart(0,"div",23),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"translate"),v.\u0275\u0275elementEnd()),2&w){const oe=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(2,1,oe.messagePrefix+".no-members-yet")," ")}}function j(w,Q){if(1&w&&(v.\u0275\u0275elementStart(0,"span"),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"translate"),v.\u0275\u0275elementEnd()),2&w){const oe=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(2,1,oe.messagePrefix+".search.head")," ")}}function $(w,Q){if(1&w){const oe=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"tr")(1,"td",17),v.\u0275\u0275text(2),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"td",17)(4,"a",19),v.\u0275\u0275listener("click",function(){const J=v.\u0275\u0275restoreView(oe).$implicit,Ee=v.\u0275\u0275nextContext(2);return v.\u0275\u0275resetView(Ee.ePersonDataService.startEditingNewEPerson(J))}),v.\u0275\u0275text(5),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(6,"td",17),v.\u0275\u0275text(7),v.\u0275\u0275pipe(8,"translate"),v.\u0275\u0275element(9,"br"),v.\u0275\u0275text(10),v.\u0275\u0275pipe(11,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(12,"td",17)(13,"div",20)(14,"button",21),v.\u0275\u0275listener("click",function(){const J=v.\u0275\u0275restoreView(oe).$implicit,Ee=v.\u0275\u0275nextContext(2);return v.\u0275\u0275resetView(Ee.addMemberToGroup(J))}),v.\u0275\u0275pipe(15,"translate"),v.\u0275\u0275element(16,"i",22),v.\u0275\u0275elementEnd()()()()}if(2&w){const oe=Q.$implicit,q=v.\u0275\u0275nextContext(2);v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate(oe.id),v.\u0275\u0275advance(2),v.\u0275\u0275property("routerLink",v.\u0275\u0275pureFunction1(18,M,q.ePersonDataService.getEPeoplePageRouterLink())),v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",q.dsoNameService.getName(oe)," "),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate2(" ",v.\u0275\u0275pipeBind1(8,11,q.messagePrefix+".table.email"),": ",oe.email?oe.email:"-",""),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate2(" ",v.\u0275\u0275pipeBind1(11,13,q.messagePrefix+".table.netid"),": ",oe.netid?oe.netid:"-"," "),v.\u0275\u0275advance(4),v.\u0275\u0275propertyInterpolate("title",v.\u0275\u0275pipeBind2(15,15,q.messagePrefix+".table.edit.buttons.add",v.\u0275\u0275pureFunction1(20,C,q.dsoNameService.getName(oe)))),v.\u0275\u0275property("disabled",q.actionConfig.add.disabled)("ngClass",v.\u0275\u0275pureFunction1(22,T,q.actionConfig.add.css)),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngClass",q.actionConfig.add.icon)}}function z(w,Q){if(1&w&&(v.\u0275\u0275elementStart(0,"ds-pagination",13),v.\u0275\u0275pipe(1,"async"),v.\u0275\u0275pipe(2,"async"),v.\u0275\u0275elementStart(3,"div",14)(4,"table",24)(5,"thead")(6,"tr")(7,"th",16),v.\u0275\u0275text(8),v.\u0275\u0275pipe(9,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(10,"th",16),v.\u0275\u0275text(11),v.\u0275\u0275pipe(12,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(13,"th",16),v.\u0275\u0275text(14),v.\u0275\u0275pipe(15,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(16,"th",17),v.\u0275\u0275text(17),v.\u0275\u0275pipe(18,"translate"),v.\u0275\u0275elementEnd()()(),v.\u0275\u0275elementStart(19,"tbody"),v.\u0275\u0275template(20,$,17,24,"tr",18),v.\u0275\u0275pipe(21,"async"),v.\u0275\u0275elementEnd()()()()),2&w){const oe=v.\u0275\u0275nextContext();let q,ee;v.\u0275\u0275property("paginationOptions",oe.configSearch)("pageInfoState",v.\u0275\u0275pipeBind1(1,10,oe.ePeopleSearch))("collectionSize",null==(q=v.\u0275\u0275pipeBind1(2,12,oe.ePeopleSearch))?null:q.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),v.\u0275\u0275advance(8),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(9,14,oe.messagePrefix+".table.id")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(12,16,oe.messagePrefix+".table.name")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(15,18,oe.messagePrefix+".table.identity")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(18,20,oe.messagePrefix+".table.edit")),v.\u0275\u0275advance(3),v.\u0275\u0275property("ngForOf",null==(ee=v.\u0275\u0275pipeBind1(21,22,oe.ePeopleSearch))?null:ee.page)}}function re(w,Q){if(1&w&&(v.\u0275\u0275elementStart(0,"div",23),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"translate"),v.\u0275\u0275elementEnd()),2&w){const oe=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(2,1,oe.messagePrefix+".no-items")," ")}}const W=function(){return["top","right","bottom"]},ce=function(w){return{content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:w}};var ne=(()=>{return(w=ne||(ne={}))[w.ActiveGroup=0]="ActiveGroup",w[w.Members=1]="Members",w[w.SearchResults=2]="SearchResults",ne;var w})();let K=(()=>{class w{constructor(oe,q,ee,J,Ee,Oe,Re,ve){this.groupDataService=oe,this.ePersonDataService=q,this.translateService=ee,this.notificationsService=J,this.formBuilder=Ee,this.paginationService=Oe,this.router=Re,this.dsoNameService=ve,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new t.X(void 0),this.ePeopleMembersOfGroup=new t.X(void 0),this.configSearch=Object.assign(new h.r,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new h.r,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(ne.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(oe=>{null!=oe&&(this.groupBeingEdited=oe,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(oe){this.unsubFrom(ne.Members),this.subs.set(ne.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,n.w)(q=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:q.currentPage,elementsPerPage:q.pageSize})),(0,l.f1)(),(0,a.U)(q=>{if(!q.hasFailed)return q;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:q.errorMessage}))}),(0,l.xe)()).subscribe(q=>{this.ePeopleMembersOfGroup.next(q)}))}unsubFrom(oe){this.subs.has(oe)&&(this.subs.get(oe).unsubscribe(),this.subs.delete(oe))}deleteMemberFromGroup(oe){this.groupDataService.getActiveGroup().pipe((0,i.q)(1)).subscribe(q=>{if(null!=q){const ee=this.groupDataService.deleteMemberFromGroup(q,oe);this.showNotifications("deleteMember",ee,this.dsoNameService.getName(oe),q),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(oe){this.groupDataService.getActiveGroup().pipe((0,i.q)(1)).subscribe(q=>{if(null!=q){const ee=this.groupDataService.addMemberToGroup(q,oe);this.showNotifications("addMember",ee,this.dsoNameService.getName(oe),q),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(oe){this.unsubFrom(ne.SearchResults),this.subs.set(ne.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,n.w)(q=>{const ee=oe.query;return null!=ee&&this.currentSearchQuery!==ee&&this.groupBeingEdited&&(this.currentSearchQuery=ee,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:q.currentPage,elementsPerPage:q.pageSize},!1,!0)}),(0,l.f1)(),(0,a.U)(q=>{if(!q.hasFailed)return q;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:q.errorMessage}))}),(0,l.xe)()).subscribe(q=>{this.ePeopleSearch.next(q)}))}ngOnDestroy(){for(const oe of this.subs.keys())this.unsubFrom(oe);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(oe,q,ee,J){q.pipe((0,l.hC)()).subscribe(Ee=>{Ee.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+oe,{name:ee})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+oe,{name:ee}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}}return w.\u0275fac=function(oe){return new(oe||w)(v.\u0275\u0275directiveInject(r.O),v.\u0275\u0275directiveInject(d.k),v.\u0275\u0275directiveInject(y.sK),v.\u0275\u0275directiveInject(p.T),v.\u0275\u0275directiveInject(O.QS),v.\u0275\u0275directiveInject(m.N),v.\u0275\u0275directiveInject(S.F0),v.\u0275\u0275directiveInject(_._))},w.\u0275cmp=v.\u0275\u0275defineComponent({type:w,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[1,"btn-group","edit-field"],[3,"disabled","ngClass","title","click"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(oe,q){if(1&oe&&(v.\u0275\u0275elementContainerStart(0),v.\u0275\u0275elementStart(1,"h3",0),v.\u0275\u0275text(2),v.\u0275\u0275pipe(3,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(4,"h4"),v.\u0275\u0275text(5),v.\u0275\u0275pipe(6,"translate"),v.\u0275\u0275elementEnd(),v.\u0275\u0275template(7,U,22,24,"ds-pagination",1),v.\u0275\u0275pipe(8,"async"),v.\u0275\u0275template(9,L,3,3,"div",2),v.\u0275\u0275pipe(10,"async"),v.\u0275\u0275pipe(11,"async"),v.\u0275\u0275elementStart(12,"h4",3),v.\u0275\u0275template(13,j,3,3,"span",4),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(14,"form",5),v.\u0275\u0275listener("ngSubmit",function(){return q.search(q.searchForm.value)}),v.\u0275\u0275elementStart(15,"div",6)(16,"div",7),v.\u0275\u0275element(17,"input",8),v.\u0275\u0275elementStart(18,"span",9)(19,"button",10),v.\u0275\u0275element(20,"i",11),v.\u0275\u0275text(21),v.\u0275\u0275pipe(22,"translate"),v.\u0275\u0275elementEnd()()()(),v.\u0275\u0275elementStart(23,"div")(24,"button",12),v.\u0275\u0275listener("click",function(){return q.clearFormAndResetResult()}),v.\u0275\u0275text(25),v.\u0275\u0275pipe(26,"translate"),v.\u0275\u0275elementEnd()()(),v.\u0275\u0275template(27,z,22,24,"ds-pagination",1),v.\u0275\u0275pipe(28,"async"),v.\u0275\u0275template(29,re,3,3,"div",2),v.\u0275\u0275pipe(30,"async"),v.\u0275\u0275elementContainerEnd()),2&oe){let ee,J,Ee,Oe;v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(3,10,q.messagePrefix+".head")),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(6,12,q.messagePrefix+".headMembers")),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",(null==(ee=v.\u0275\u0275pipeBind1(8,14,q.ePeopleMembersOfGroup))?null:ee.totalElements)>0),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",null==v.\u0275\u0275pipeBind1(10,16,q.ePeopleMembersOfGroup)||0==(null==(J=v.\u0275\u0275pipeBind1(11,18,q.ePeopleMembersOfGroup))?null:J.totalElements)),v.\u0275\u0275advance(4),v.\u0275\u0275property("dsContextHelp",v.\u0275\u0275pureFunction1(29,ce,v.\u0275\u0275pureFunction0(28,W))),v.\u0275\u0275advance(1),v.\u0275\u0275property("formGroup",q.searchForm),v.\u0275\u0275advance(7),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(22,20,q.messagePrefix+".search.button"),""),v.\u0275\u0275advance(4),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind1(26,22,q.messagePrefix+".button.see-all")),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",(null==(Ee=v.\u0275\u0275pipeBind1(28,24,q.ePeopleSearch))?null:Ee.totalElements)>0),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",0==(null==(Oe=v.\u0275\u0275pipeBind1(30,26,q.ePeopleSearch))?null:Oe.totalElements)&&q.searchDone)}},dependencies:[b.mk,b.sg,b.O5,O._Y,O.Fj,O.JJ,O.JL,O.sg,O.u,S.rH,o.Q,D.A,b.Ov,y.X$],encapsulation:2}),w})()},54320:(R,c,e)=>{"use strict";e.d(c,{Bb:()=>i,Ow:()=>n,c4:()=>a});var t=e(49754);const n={EDIT_GROUP:(0,t.d)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,t.d)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class a{constructor(r){this.type=n.EDIT_GROUP,this.group=r}}class i{constructor(){this.type=n.CANCEL_EDIT_GROUP}}},43036:(R,c,e)=>{"use strict";e.d(c,{YM:()=>a,qZ:()=>i,sT:()=>d,xi:()=>n});var t=e(49754);const n={SELECT_FORMAT:(0,t.d)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,t.d)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,t.d)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class a{constructor(l){this.type=n.SELECT_FORMAT,this.bitstreamFormat=l}}class i{constructor(l){this.type=n.DESELECT_FORMAT,this.bitstreamFormat=l}}class d{constructor(){this.type=n.DESELECT_ALL_FORMAT}}},86275:(R,c,e)=>{"use strict";e.d(c,{$U:()=>l,A9:()=>v,D$:()=>n,J5:()=>_,O3:()=>p,YJ:()=>a,ZQ:()=>i,c1:()=>d,n2:()=>r,ux:()=>m,xG:()=>h});var t=e(49754);const n={EDIT_SCHEMA:(0,t.d)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,t.d)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,t.d)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,t.d)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,t.d)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,t.d)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,t.d)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,t.d)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,t.d)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,t.d)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class a{constructor(O){this.type=n.EDIT_SCHEMA,this.schema=O}}class i{constructor(){this.type=n.CANCEL_EDIT_SCHEMA}}class d{constructor(O){this.type=n.SELECT_SCHEMA,this.schema=O}}class r{constructor(O){this.type=n.DESELECT_SCHEMA,this.schema=O}}class l{constructor(){this.type=n.DESELECT_ALL_SCHEMA}}class p{constructor(O){this.type=n.EDIT_FIELD,this.field=O}}class h{constructor(){this.type=n.CANCEL_EDIT_FIELD}}class m{constructor(O){this.type=n.SELECT_FIELD,this.field=O}}class _{constructor(O){this.type=n.DESELECT_FIELD,this.field=O}}class v{constructor(){this.type=n.DESELECT_ALL_FIELD}}},36388:(R,c,e)=>{"use strict";e.d(c,{F:()=>O});var v,t=e(70655),n=e(98678),a=e(76588),i=e(29306),d=e(52799),r=e(20349),l=e(82126),p=e(45608),h=e(67522),m=e(35103),_=e(96342);const y=function(S){return{disabled:S}};let O=((v=class extends a.q{constructor(b,o,D,M){super(b,o,D),this.menuService=o,this.injector=D,this.router=M,this.menuID=l.z.ADMIN,this.itemModel=b.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,p.xb)(this.itemModel?.link),super.ngOnInit()}navigate(b){b.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}}).\u0275fac=function(b){return new(b||v)(n.\u0275\u0275directiveInject("sectionDataProvider"),n.\u0275\u0275directiveInject(i.h),n.\u0275\u0275directiveInject(n.Injector),n.\u0275\u0275directiveInject(h.F0))},v.\u0275cmp=n.\u0275\u0275defineComponent({type:v,selectors:[["ds-admin-sidebar-section"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:10,vars:16,consts:[[1,"sidebar-section"],["href","javascript:void(0);",1,"nav-item","nav-link","d-flex","flex-row","flex-nowrap",3,"ngClass","title","routerLink","keyup.space","keyup.enter"],[1,"shortcut-icon"],[1,"sidebar-collapsible"],[1,"toggle"],[1,"section-header-text",3,"id"]],template:function(b,o){1&b&&(n.\u0275\u0275elementStart(0,"div",0)(1,"a",1),n.\u0275\u0275listener("keyup.space",function(M){return o.navigate(M)})("keyup.enter",function(M){return o.navigate(M)}),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementStart(3,"div",2),n.\u0275\u0275element(4,"i"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"span",5),n.\u0275\u0275text(8),n.\u0275\u0275pipe(9,"translate"),n.\u0275\u0275elementEnd()()()()()),2&b&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(14,y,o.isDisabled))("title",n.\u0275\u0275pipeBind1(2,10,"menu.section.icon."+o.section.id))("routerLink",o.itemModel.link),n.\u0275\u0275attribute("aria-disabled",o.isDisabled)("aria-labelledby","sidebarName-"+o.section.id),n.\u0275\u0275advance(3),n.\u0275\u0275classMapInterpolate1("fas fa-",o.section.icon," fa-fw"),n.\u0275\u0275advance(3),n.\u0275\u0275propertyInterpolate1("id","sidebarName-",o.section.id,""),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(9,12,o.itemModel.text)," "))},dependencies:[m.mk,h.rH,_.X$]}),v);O=(0,t.__decorate)([(0,d.h)(l.z.ADMIN,!1),(0,t.__metadata)("design:paramtypes",[r.x,i.h,n.Injector,h.F0])],O)},94950:(R,c,e)=>{"use strict";e.r(c),e.d(c,{AdminSidebarComponent:()=>ce});var t=e(35841),n=e(53426),a=e(76215),i=e(48358),d=e(3358),r=e(49887),l=e(22040),p=e(38123),h=e(17605),m=e(48674),_=e(29306),v=e(11221),y=e(35794),O=e(82126),S=e(34216),b=e(98678),o=e(67522),D=e(35103),M=e(65706),C=e(96342);function T(ne,K){1&ne&&b.\u0275\u0275elementContainer(0)}function g(ne,K){if(1&ne&&(b.\u0275\u0275elementStart(0,"li"),b.\u0275\u0275template(1,T,1,0,"ng-container",20),b.\u0275\u0275pipe(2,"async"),b.\u0275\u0275pipe(3,"async"),b.\u0275\u0275elementEnd()),2&ne){const w=K.$implicit,Q=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275property("ngComponentOutlet",b.\u0275\u0275pipeBind1(2,2,Q.sectionMap$).get(w.id).component)("ngComponentOutletInjector",b.\u0275\u0275pipeBind1(3,4,Q.sectionMap$).get(w.id).injector)}}function U(ne,K){1&ne&&(b.\u0275\u0275element(0,"i",21),b.\u0275\u0275pipe(1,"translate")),2&ne&&b.\u0275\u0275property("title",b.\u0275\u0275pipeBind1(1,1,"menu.section.icon.pin"))}function L(ne,K){1&ne&&(b.\u0275\u0275element(0,"i",22),b.\u0275\u0275pipe(1,"translate")),2&ne&&b.\u0275\u0275property("title",b.\u0275\u0275pipeBind1(1,1,"menu.section.icon.unpin"))}function j(ne,K){1&ne&&(b.\u0275\u0275elementStart(0,"span",23),b.\u0275\u0275text(1),b.\u0275\u0275pipe(2,"translate"),b.\u0275\u0275elementEnd()),2&ne&&(b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(2,1,"menu.section.pin")))}function $(ne,K){1&ne&&(b.\u0275\u0275elementStart(0,"span",23),b.\u0275\u0275text(1),b.\u0275\u0275pipe(2,"translate"),b.\u0275\u0275elementEnd()),2&ne&&(b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(2,1,"menu.section.unpin")))}const z=function(ne,K){return{active:ne,inactive:K}},re=function(ne){return{sidebarWidth:ne}},W=function(ne,K){return{value:ne,params:K}};function ie(ne,K){if(1&ne){const w=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"nav",1),b.\u0275\u0275listener("@slideSidebar.done",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.finishSlide(oe))})("@slideSidebar.start",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.startSlide(oe))})("mouseenter",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.handleMouseEnter(oe))})("mouseleave",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.handleMouseLeave(oe))}),b.\u0275\u0275pipe(1,"async"),b.\u0275\u0275pipe(2,"async"),b.\u0275\u0275pipe(3,"translate"),b.\u0275\u0275elementStart(4,"div",2)(5,"ul",3)(6,"li",4)(7,"div",5)(8,"div",6)(9,"div",7),b.\u0275\u0275element(10,"img",8),b.\u0275\u0275pipe(11,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"div",9)(13,"div",10)(14,"h4",11),b.\u0275\u0275text(15),b.\u0275\u0275pipe(16,"translate"),b.\u0275\u0275elementEnd()()()()()(),b.\u0275\u0275template(17,g,4,6,"li",12),b.\u0275\u0275pipe(18,"async"),b.\u0275\u0275elementEnd()(),b.\u0275\u0275elementStart(19,"div",3)(20,"div",13)(21,"a",14),b.\u0275\u0275listener("click",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.toggle(oe))})("keyup.space",function(oe){b.\u0275\u0275restoreView(w);const q=b.\u0275\u0275nextContext();return b.\u0275\u0275resetView(q.toggle(oe))}),b.\u0275\u0275elementStart(22,"div",15),b.\u0275\u0275template(23,U,2,3,"i",16),b.\u0275\u0275pipe(24,"async"),b.\u0275\u0275template(25,L,2,3,"i",17),b.\u0275\u0275pipe(26,"async"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(27,"div",18),b.\u0275\u0275template(28,j,3,3,"span",19),b.\u0275\u0275pipe(29,"async"),b.\u0275\u0275template(30,$,3,3,"span",19),b.\u0275\u0275pipe(31,"async"),b.\u0275\u0275elementEnd()()()()()}if(2&ne){const w=b.\u0275\u0275nextContext();b.\u0275\u0275property("ngClass",b.\u0275\u0275pureFunction2(30,z,w.sidebarOpen,w.sidebarClosed))("@slideSidebar",b.\u0275\u0275pureFunction2(35,W,b.\u0275\u0275pipeBind1(1,10,w.sidebarExpanded)?"expanded":"collapsed",b.\u0275\u0275pureFunction1(33,re,b.\u0275\u0275pipeBind1(2,12,w.sidebarWidth)))),b.\u0275\u0275attribute("aria-label",b.\u0275\u0275pipeBind1(3,14,"menu.header.admin.description")),b.\u0275\u0275advance(10),b.\u0275\u0275property("alt",b.\u0275\u0275pipeBind1(11,16,"menu.header.image.logo")),b.\u0275\u0275advance(5),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(16,18,"menu.header.admin")),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",b.\u0275\u0275pipeBind1(18,20,w.sections)),b.\u0275\u0275advance(6),b.\u0275\u0275property("ngIf",b.\u0275\u0275pipeBind1(24,22,w.menuCollapsed)),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngIf",!b.\u0275\u0275pipeBind1(26,24,w.menuCollapsed)),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngIf",b.\u0275\u0275pipeBind1(29,26,w.menuCollapsed)),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngIf",!b.\u0275\u0275pipeBind1(31,28,w.menuCollapsed))}}let ce=(()=>{class ne extends m.M{constructor(w,Q,oe,q,ee,J,Ee){super(w,Q,ee,J,Ee),this.menuService=w,this.injector=Q,this.variableService=oe,this.authService=q,this.authorizationService=ee,this.route=J,this.themeService=Ee,this.menuID=O.z.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.inFocus$=new t.X(!1)}ngOnInit(){super.ngOnInit(),this.sidebarWidth=this.variableService.getVariable("--ds-sidebar-items-width"),this.authService.isAuthenticated().subscribe(w=>{w&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,a.P)()).subscribe(w=>{this.sidebarOpen=!w,this.sidebarClosed=w}),this.sidebarExpanded=(0,n.a)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,i.U)(([w,Q])=>!w||!Q)),this.inFocus$.pipe((0,d.b)(50),(0,r.x)(),(0,l.M)((0,n.a)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([w,[Q,oe]])=>{Q&&(w&&oe?this.expandPreview(new Event("focusin \u2192 expand")):!w&&!oe&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(w){this.inFocus$.getValue()?w.preventDefault():this.expandPreview(w)}handleMouseLeave(w){this.inFocus$.getValue()?w.preventDefault():this.collapsePreview(w)}startSlide(w){"expanded"===w.toState?this.sidebarClosed=!1:"collapsed"===w.toState&&(this.sidebarOpen=!1)}finishSlide(w){"expanded"===w.fromState?this.sidebarClosed=!0:"collapsed"===w.fromState&&(this.sidebarOpen=!0)}}return ne.\u0275fac=function(w){return new(w||ne)(b.\u0275\u0275directiveInject(_.h),b.\u0275\u0275directiveInject(b.Injector),b.\u0275\u0275directiveInject(v.I),b.\u0275\u0275directiveInject(p.e8),b.\u0275\u0275directiveInject(y._),b.\u0275\u0275directiveInject(o.gz),b.\u0275\u0275directiveInject(S.fY))},ne.\u0275cmp=b.\u0275\u0275defineComponent({type:ne,selectors:[["ds-admin-sidebar"]],hostBindings:function(w,Q){1&w&&b.\u0275\u0275listener("focusin",function(){return Q.handleFocusIn()})("focusout",function(){return Q.handleFocusOut()})},features:[b.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0","role","navigation",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["role","navigation",1,"navbar","navbar-dark","p-0",3,"ngClass","mouseenter","mouseleave"],[1,"sidebar-top-level-items"],[1,"navbar-nav"],[1,"admin-menu-header"],[1,"sidebar-section"],["href","javascript:void(0);",1,"nav-item","d-flex","flex-row","flex-nowrap","py-0"],[1,"shortcut-icon","navbar-brand","logo-wrapper"],["src","assets/images/dspace-logo-mini.svg",1,"admin-logo",3,"alt"],[1,"sidebar-collapsible","navbar-brand"],[1,"mr-0"],[1,"section-header-text","mb-0"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle",1,"sidebar-section"],["href","javascript:void(0);",1,"nav-item","nav-link","sidebar-section","d-flex","flex-row","flex-nowrap",3,"click","keyup.space"],[1,"shortcut-icon"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[1,"sidebar-collapsible"],["class","section-header-text",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"],[1,"section-header-text"]],template:function(w,Q){1&w&&(b.\u0275\u0275template(0,ie,32,38,"nav",0),b.\u0275\u0275pipe(1,"async")),2&w&&b.\u0275\u0275property("ngIf",b.\u0275\u0275pipeBind1(1,1,Q.menuVisible))},dependencies:[D.mk,D.$G,D.sg,D.O5,M.M2,D.Ov,C.X$],styles:["[_nghost-%COMP%]{--ds-icon-z-index: 10;left:0;top:0;height:100vh;flex:1 1 auto}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);height:100%;flex-direction:column}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]{flex:1;overflow:auto}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:3px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%] > div.sidebar-top-level-items[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav.inactive[_ngcontent-%COMP%]     .sidebar-collapsible{margin-left:calc(-1 * var(--ds-sidebar-items-width))}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .admin-menu-header[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .admin-menu-header[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{background-color:inherit}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .admin-menu-header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .admin-menu-header[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{line-height:1.5}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .admin-menu-header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section{display:flex;align-content:stretch;background-color:var(--ds-admin-sidebar-bg);overflow-x:visible}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item{padding-top:var(--bs-spacer);padding-bottom:var(--bs-spacer);background-color:inherit}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item.focus-visible{outline-offset:-4px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item:focus-visible{outline-offset:-4px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item.focus-visible .shortcut-icon{padding-left:0;padding-right:0;margin-left:var(--ds-icon-padding);margin-right:var(--ds-icon-padding)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item:focus-visible .shortcut-icon{padding-left:0;padding-right:0;margin-left:var(--ds-icon-padding);margin-right:var(--ds-icon-padding)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item.focus-visible .logo-wrapper{margin-right:var(--bs-navbar-padding-x)!important}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item:focus-visible .logo-wrapper{margin-right:var(--bs-navbar-padding-x)!important}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item.focus-visible .navbar-brand{padding-top:0;padding-bottom:0;margin-top:var(--bs-navbar-brand-padding-y);margin-bottom:var(--bs-navbar-brand-padding-y)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .nav-item:focus-visible .navbar-brand{padding-top:0;padding-bottom:0;margin-top:var(--bs-navbar-brand-padding-y);margin-bottom:var(--bs-navbar-brand-padding-y)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .shortcut-icon{background-color:inherit;padding-left:var(--ds-icon-padding);padding-right:var(--ds-icon-padding);z-index:var(--ds-icon-z-index);align-self:baseline}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .sidebar-collapsible{padding-left:0;padding-right:var(--bs-spacer);width:var(--ds-sidebar-items-width);position:relative}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .sidebar-collapsible .toggle{width:100%}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .sidebar-collapsible ul{padding-top:var(--bs-spacer)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section .sidebar-collapsible ul li a{padding-left:var(--bs-spacer)}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]     .navbar-nav .sidebar-section.active>.sidebar-collapsible>.nav-link{color:var(--bs-navbar-dark-active-color)}"],data:{animation:[h.t6]}}),ne})()},36471:(R,c,e)=>{"use strict";e.d(c,{O:()=>z});var t=e(70655),n=e(98678),a=e(48884),i=e(36388),d=e(17605),r=e(11221),l=e(79601);const p=(0,l.oB)({backgroundColor:"{{ startColor }}"}),h=(0,l.oB)({backgroundColor:"{{ endColor }}"}),m=(0,l.X$)("bgColor",[(0,l.SB)("startBackground",p,{params:{startColor:"*"}}),(0,l.SB)("endBackground",h,{params:{endColor:"*"}}),(0,l.eR)("startBackground <=> endBackground",(0,l.ru)([(0,l.IO)("@*",(0,l.pV)()),(0,l.jt)("200ms")]))]);var M,_=e(29306),v=e(53426),y=e(48358),O=e(52799),S=e(82126),b=e(67522),o=e(35103),D=e(96342);function C(re,W){1&re&&n.\u0275\u0275elementContainer(0)}function T(re,W){1&re&&n.\u0275\u0275elementContainer(0)}function g(re,W){if(1&re&&(n.\u0275\u0275elementStart(0,"li"),n.\u0275\u0275template(1,T,1,0,"ng-container",6),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementEnd()),2&re){const ie=W.$implicit,ce=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngComponentOutlet",n.\u0275\u0275pipeBind1(2,2,ce.sectionMap$).get(ie.id).component)("ngComponentOutletInjector",n.\u0275\u0275pipeBind1(3,4,ce.sectionMap$).get(ie.id).injector)}}function U(re,W){if(1&re&&(n.\u0275\u0275elementStart(0,"ul",9),n.\u0275\u0275template(1,g,4,6,"li",10),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementEnd()),2&re){const ie=n.\u0275\u0275nextContext();n.\u0275\u0275property("@slide",void 0),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(2,2,ie.subSections$))}}const L=function(re){return{expanded:re}},j=function(re){return{endColor:re}},$=function(re,W){return{value:re,params:W}};let z=((M=class extends i.F{constructor(W,ie,ce,ne,K){super(W,ie,ne,K),this.menuService=ie,this.variableService=ce,this.injector=ne,this.router=K,this.menuID=S.z.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.sidebarCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.sidebarPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.expanded=(0,v.a)(this.active,this.sidebarCollapsed,this.sidebarPreviewCollapsed).pipe((0,y.U)(([W,ie,ce])=>W&&(!ie||!ce)))}}).\u0275fac=function(W){return new(W||M)(n.\u0275\u0275directiveInject("sectionDataProvider"),n.\u0275\u0275directiveInject(_.h),n.\u0275\u0275directiveInject(r.I),n.\u0275\u0275directiveInject(n.Injector),n.\u0275\u0275directiveInject(b.F0))},M.\u0275cmp=n.\u0275\u0275defineComponent({type:M,selectors:[["ds-expandable-admin-sidebar-section"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:20,vars:43,consts:[[1,"sidebar-section",3,"ngClass"],["role","button","tabindex","0",1,"nav-item","nav-link","d-flex","flex-row","flex-nowrap",3,"title","click","keyup.space","keyup.enter"],[1,"shortcut-icon","h-100"],[1,"sidebar-collapsible"],[1,"toggle"],[1,"section-header-text",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-chevron-right","fa-pull-right",3,"title"],["class","sidebar-sub-level-items list-unstyled",4,"ngIf"],[1,"sidebar-sub-level-items","list-unstyled"],[4,"ngFor","ngForOf"]],template:function(W,ie){1&W&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275pipe(1,"async"),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementStart(4,"div",1),n.\u0275\u0275listener("click",function(ne){return ie.toggleSection(ne)})("keyup.space",function(ne){return ie.toggleSection(ne)})("keyup.enter",function(ne){return ie.toggleSection(ne)}),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275pipe(6,"translate"),n.\u0275\u0275elementStart(7,"div",2),n.\u0275\u0275element(8,"i"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"div",3)(10,"div",4)(11,"span",5),n.\u0275\u0275template(12,C,1,0,"ng-container",6),n.\u0275\u0275pipe(13,"async"),n.\u0275\u0275pipe(14,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(15,"i",7),n.\u0275\u0275pipe(16,"async"),n.\u0275\u0275pipe(17,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(18,U,3,4,"ul",8),n.\u0275\u0275pipe(19,"async"),n.\u0275\u0275elementEnd()()()),2&W&&(n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(36,L,n.\u0275\u0275pipeBind1(1,16,ie.expanded)))("@bgColor",n.\u0275\u0275pureFunction2(40,$,n.\u0275\u0275pipeBind1(2,18,ie.expanded)?"endBackground":"startBackground",n.\u0275\u0275pureFunction1(38,j,n.\u0275\u0275pipeBind1(3,20,ie.sidebarActiveBg)))),n.\u0275\u0275advance(4),n.\u0275\u0275classProp("disabled",null==ie.section.model?null:ie.section.model.disabled),n.\u0275\u0275property("title",n.\u0275\u0275pipeBind1(6,24,"menu.section.icon."+ie.section.id)),n.\u0275\u0275attribute("aria-labelledby","sidebarName-"+ie.section.id)("aria-expanded",n.\u0275\u0275pipeBind1(5,22,ie.expanded)),n.\u0275\u0275advance(4),n.\u0275\u0275classMapInterpolate1("fas fa-",ie.section.icon," fa-fw"),n.\u0275\u0275advance(3),n.\u0275\u0275propertyInterpolate1("id","sidebarName-",ie.section.id,""),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngComponentOutlet",n.\u0275\u0275pipeBind1(13,26,ie.sectionMap$).get(ie.section.id).component)("ngComponentOutletInjector",n.\u0275\u0275pipeBind1(14,28,ie.sectionMap$).get(ie.section.id).injector),n.\u0275\u0275advance(3),n.\u0275\u0275property("@rotate",n.\u0275\u0275pipeBind1(16,30,ie.expanded)?"expanded":"collapsed")("title",n.\u0275\u0275pipeBind1(17,32,"menu.section.toggle."+ie.section.id)),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(19,34,ie.expanded)))},dependencies:[o.mk,o.$G,o.sg,o.O5,o.Ov,D.X$],styles:["[_nghost-%COMP%]     .fa-chevron-right{padding-left:calc(var(--bs-spacer) / 2);font-size:.5rem;line-height:3}[_nghost-%COMP%]     .sidebar-sub-level-items{list-style:disc;color:var(--bs-navbar-dark-color);overflow:hidden;margin-bottom:calc(-1 * var(--bs-spacer))}[_nghost-%COMP%]     .sidebar-collapsible{display:flex;flex-direction:column}[_nghost-%COMP%]     li.sidebar-section.expanded{background-color:var(--ds-admin-sidebar-active-bg)!important}"],data:{animation:[a.U1,d.JD,m]}}),M);z=(0,t.__decorate)([(0,O.h)(S.z.ADMIN,!0),(0,t.__metadata)("design:paramtypes",[Object,_.h,r.I,n.Injector,b.F0])],z)},21779:(R,c,e)=>{"use strict";e.d(c,{$:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"AdminSidebarComponent"}importThemedComponent(p){return e(90401)(`./${p}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,94950))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-admin-sidebar"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},71213:(R,c,e)=>{"use strict";e.d(c,{$r:()=>j,AZ:()=>Pe,Ao:()=>S,Bw:()=>W,EH:()=>m,Gz:()=>Re,IB:()=>_,Le:()=>T,QX:()=>ee,T5:()=>g,Tt:()=>w,V5:()=>o,Wb:()=>C,Y4:()=>re,Yn:()=>z,be:()=>K,cU:()=>M,dd:()=>ie,fP:()=>Q,gL:()=>y,gs:()=>v,h:()=>b,jF:()=>D,lz:()=>q,m3:()=>U,mG:()=>Ee,pH:()=>L,ro:()=>ne,sF:()=>oe,sr:()=>J,vv:()=>Oe,wU:()=>h,y2:()=>ce});var t=e(66234),n=e(5378),a=e(13005),i=e(25584),d=e(42620),r=e(15463),l=e(45608),p=e(65521);const h="bitstreams",m="bitstream";function _(){return`/${h}`}function v(et){return new p.R(_(),et.uuid,"download").toString()}function y(et,Ze){return{routerLink:new p.R((0,r.TO)(),et.uuid,"request-a-copy").toString(),queryParams:{bitstream:Ze.uuid}}}const O="admin";function S(){return`/${O}`}const b="admin";function o(){return`/${b}`}const D="profile";function M(){return`/${D}`}const C="register";function T(){return`/${C}`}const g="forgot";function U(){return`/${g}`}const L="workflowitems";function j(){return`/${L}`}const $="workspaceitems";function z(){return`/${$}`}function re(et){if((0,l.Uh)(et))switch(et.type){case t.S.type.value:return(0,i.Ke)(et.uuid);case n.F.type.value:return(0,d.MI)(et.uuid);case a.c.type.value:return(0,r.Tt)(et)}}const W="403";function ie(){return`/${W}`}const ce="404";function ne(){return`/${ce}`}const K="500";function w(){return`/${K}`}const Q="error",oe="info";function q(){return`/${oe}`}const ee="access-control";function J(){return`/${ee}`}const Ee="request-a-copy";function Oe(){return`/${Ee}`}const Re="health",ve="subscriptions";function Pe(){return`/${ve}`}},39100:(R,c,e)=>{"use strict";e.d(c,{oO:()=>Mt,GY:()=>vt,$y:()=>Ve,z7:()=>Bt});var t=e(80233),n=e(89702),a=e(35094);const i={editEPerson:null};var r=e(54320);const l={editGroup:null};var h=e(86275);const m={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var v=e(59542);const y={expandedNodes:[],loadingNode:null};var S=e(45608),b=e(84329);function D(je,be,ot){return Object.assign({},je,{[be]:ot})}var M=e(64405),C=e(94667),T=e.n(C),g=e(82415),U=e.n(g);const L=Object.create(null);var w=e(96713),Q=e(82126);const oe={[Q.z.ADMIN]:{id:Q.z.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[Q.z.PUBLIC]:{id:Q.z.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[Q.z.DSO_EDIT]:{id:Q.z.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};function tt(je,be,ot){const rn=je[be.menuID],Cn=Object.assign({},rn.sections,{[ot.id]:ot}),tr=Object.assign({},rn,{sections:Cn});return Object.assign({},je,{[be.menuID]:tr})}function yt(je,be,ot){const Cn=je[be.menuID].sections[be.id];return(0,S.Uh)(Cn)?tt(je,be,Object.assign({},Cn,ot)):je}var Ne=e(57201);const mt=[];var Jt=e(86375);function Ge(je){return{id:je,selection:[]}}function qe(je,be){return je.findIndex(ot=>ot.equals(be))>=0}var gt=e(11997);const it=Object.create(null);var St=e(27181);const It=Object.create({});var en=e(53444);const Tt={width:null,height:null};var xn=e(44868);const qn=Object.create(null);var sn=e(89055);const jt={sidebarCollapsed:!0};var on=e(64062);const ke=Object.create(null);var we=e(17986);const pt={currentTheme:null};var wt=e(69598),Gt=e(90314);const dn={allIconsVisible:!1,models:{}};function ct(je,be,ot){const{[be]:rn,...Cn}=je.models,hn={...Cn,[be]:{...rn,isTooltipVisible:ot(rn.isTooltipVisible)}};return{...je,models:hn}}const Mt={router:t.mg,hostWindow:function Mn(je=Tt,be){return be.type===en.L.RESIZE?Object.assign({},je,be.payload):je},forms:function j(je=L,be){switch(be.type){case M.j4.FORM_INIT:return function W(je,be){const ot={data:be.payload.formData,valid:be.payload.valid,touched:{},errors:[]};if((0,S.Uh)(je[be.payload.formId])){const rn=Object.assign({},je);return rn[be.payload.formId]=Object.assign({},rn[be.payload.formId],ot),rn}return Object.assign({},je,{[be.payload.formId]:ot})}(je,be);case M.j4.FORM_CHANGE:return function ie(je,be){if((0,S.Uh)(je[be.payload.formId])){const ot=Object.assign({},je);return ot[be.payload.formId]=Object.assign({},ot[be.payload.formId],{data:be.payload.formData,valid:je[be.payload.formId].valid}),ot}return je}(je,be);case M.j4.FORM_ADD_TOUCHED:return function K(je,be){if((0,S.Uh)(je[be.payload.formId])){const ot=Object.assign({},je),rn=Object.assign({},ot[be.payload.formId]);return ot[be.payload.formId]=rn,rn.touched={...rn.touched},be.payload.touched.forEach(Cn=>rn.touched[Cn]=!0),ot}return je}(je,be);case M.j4.FORM_REMOVE:return function ne(je,be){if((0,S.Uh)(je[be.payload.formId])){const ot=Object.assign({},je);return delete ot[be.payload.formId],ot}return je}(je,be);case M.j4.FORM_STATUS_CHANGE:return function ce(je,be){if((0,S.Uh)(je[be.payload.formId])){const ot=Object.assign({},je);return ot[be.payload.formId]=Object.assign({},ot[be.payload.formId],{data:je[be.payload.formId].data,valid:be.payload.valid}),ot}return Object.assign({},je,{[be.payload.formId]:{data:je[be.payload.formId].data,valid:be.payload.valid}})}(je,be);case M.j4.FORM_ADD_ERROR:return function $(je,be){const ot=be.payload.formId;if((0,S.Uh)(je[ot])){const rn={fieldId:be.payload.fieldId,fieldIndex:be.payload.fieldIndex,message:be.payload.errorMessage},Cn=be.payload.fieldId.replace(/\_/g,"."),tr=Object.assign({},je[ot].touched,{[Cn]:!0});return Object.assign({},je,{[ot]:{data:je[ot].data,valid:je[ot].valid,errors:je[ot].errors?U()(je[ot].errors.concat(rn),T()):[].concat(rn),touched:tr}})}return je}(je,be);case M.j4.FORM_REMOVE_ERROR:return function z(je,be){const ot=be.payload.formId,rn=be.payload.fieldId,Cn=be.payload.fieldIndex;if((0,S.Uh)(je[ot])){const tr=je[ot].errors.filter(En=>En.fieldId!==rn||En.fieldIndex!==Cn),hn=Object.assign({},je);return hn[ot]=Object.assign({},je[ot],{errors:tr}),hn}return je}(je,be);case M.j4.FORM_CLEAR_ERRORS:return function re(je,be){const ot=be.payload.formId;if((0,S.Uh)(je[ot])){const rn=[],Cn=Object.assign({},je);return Cn[ot]=Object.assign({},je[ot],{errors:rn}),Cn}return je}(je,be);default:return je}},metadataRegistry:function _(je=m,be){switch(be.type){case h.D$.EDIT_SCHEMA:return Object.assign({},je,{editSchema:be.schema});case h.D$.CANCEL_EDIT_SCHEMA:return Object.assign({},je,{editSchema:null});case h.D$.SELECT_SCHEMA:return Object.assign({},je,{selectedSchemas:[...je.selectedSchemas,be.schema]});case h.D$.DESELECT_SCHEMA:return Object.assign({},je,{selectedSchemas:je.selectedSchemas.filter(ot=>ot!==be.schema)});case h.D$.DESELECT_ALL_SCHEMA:return Object.assign({},je,{selectedSchemas:[]});case h.D$.EDIT_FIELD:return Object.assign({},je,{editField:be.field});case h.D$.CANCEL_EDIT_FIELD:return Object.assign({},je,{editField:null});case h.D$.SELECT_FIELD:return Object.assign({},je,{selectedFields:[...je.selectedFields,be.field]});case h.D$.DESELECT_FIELD:return Object.assign({},je,{selectedFields:je.selectedFields.filter(ot=>ot!==be.field)});case h.D$.DESELECT_ALL_FIELD:return Object.assign({},je,{selectedFields:[]});default:return je}},notifications:function Dt(je=mt,be){switch(be.type){case Ne.o0.NEW_NOTIFICATION:return[...je,be.payload];case Ne.o0.REMOVE_ALL_NOTIFICATIONS:return[];case Ne.o0.REMOVE_NOTIFICATION:return((je,be)=>je.filter(ot=>ot.id!==be.payload))(je,be);default:return je}},sidebar:function zt(je=jt,be){switch(be.type){case sn.kj.COLLAPSE:return Object.assign({},je,{sidebarCollapsed:!0});case sn.kj.EXPAND:return Object.assign({},je,{sidebarCollapsed:!1});case sn.kj.TOGGLE:return Object.assign({},je,{sidebarCollapsed:!je.sidebarCollapsed});default:return je}},searchFilter:function Rt(je=qn,be){switch(be.type){case xn.l0.INITIALIZE:return Object.assign({},je,{[be.filterName]:{filterCollapsed:!be.initiallyExpanded,page:1}});case xn.l0.COLLAPSE:return Object.assign({},je,{[be.filterName]:{filterCollapsed:!0,page:je[be.filterName].page}});case xn.l0.EXPAND:return Object.assign({},je,{[be.filterName]:{filterCollapsed:!1,page:je[be.filterName].page}});case xn.l0.DECREMENT_PAGE:{const ot=je[be.filterName].page-1;return Object.assign({},je,{[be.filterName]:{filterCollapsed:je[be.filterName].filterCollapsed,page:ot>=1?ot:1}})}case xn.l0.INCREMENT_PAGE:return Object.assign({},je,{[be.filterName]:{filterCollapsed:je[be.filterName].filterCollapsed,page:je[be.filterName].page+1}});case xn.l0.RESET_PAGE:return Object.assign({},je,{[be.filterName]:{filterCollapsed:je[be.filterName].filterCollapsed,page:1}});case xn.l0.TOGGLE:return Object.assign({},je,{[be.filterName]:{filterCollapsed:!je[be.filterName].filterCollapsed,page:je[be.filterName].page}});default:return je}},truncatable:function xe(je=ke,be){switch(be.type){case on.vx.COLLAPSE:return Object.assign({},je,{[be.id]:{collapsed:!0}});case on.vx.EXPAND:return Object.assign({},je,{[be.id]:{collapsed:!1}});case on.vx.TOGGLE:return je[be.id]||(je[be.id]={collapsed:!1}),Object.assign({},je,{[be.id]:{collapsed:!je[be.id].collapsed}});default:return je}},cssVariables:function Yt(je=It,be){switch(be.type){case St.cd.ADD:{const ot=be.payload;return Object.assign({},je,{[ot.name]:ot.value})}case St.cd.ADD_ALL:return Object.assign({},je,...be.payload.map(({key:rn,value:Cn})=>({[rn]:Cn})));case St.cd.CLEAR:return It;default:return je}},theme:function bt(je=pt,be){return be.type===we.j.SET?{currentTheme:be.payload.name}:je},menus:function q(je=oe,be){switch(be.type){case w.mk.COLLAPSE_MENU:{const ot=Object.assign({},je[be.menuID],{collapsed:!0});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.EXPAND_MENU:{const ot=Object.assign({},je[be.menuID],{collapsed:!1});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.COLLAPSE_MENU_PREVIEW:{const ot=Object.assign({},je[be.menuID],{previewCollapsed:!0});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.EXPAND_MENU_PREVIEW:{const ot=Object.assign({},je[be.menuID],{previewCollapsed:!1});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.TOGGLE_MENU:{const ot=je[be.menuID],rn=Object.assign({},ot,{collapsed:!ot.collapsed});return Object.assign({},je,{[be.menuID]:rn})}case w.mk.SHOW_MENU:{const ot=Object.assign({},je[be.menuID],{visible:!0});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.HIDE_MENU:{const ot=Object.assign({},je[be.menuID],{visible:!1});return Object.assign({},je,{[be.menuID]:ot})}case w.mk.REINIT_MENUS:return Object.assign({},oe);case w.mk.ADD_SECTION:return function ee(je,be){return function J(je,be){const ot=je[be.menuID],rn={},Cn={};Object.values(ot.sections).sort((hn,En)=>(hn.index||0)-(En.index||0)).forEach(hn=>{if(rn[hn.id]=hn,(0,S.Uh)(hn.parentID)){const En=(0,S.Uh)(Cn[hn.parentID])?Cn[hn.parentID]:[];Cn[hn.parentID]=[...En,hn.id]}});const tr=Object.assign({},ot,{sections:rn,sectionToSubsectionIndex:Cn});return Object.assign({},je,{[be.menuID]:tr})}(tt(je,be,be.section),be)}(je,be);case w.mk.REMOVE_SECTION:return function Ee(je,be){const rn=be.id,Cn=function Oe(je,be,ot){const rn=be.id,Cn=be.parentID;if((0,S.Uh)(Cn)){const tr=je[ot],hn=tr.sectionToSubsectionIndex,En=(0,S.Uh)(hn[Cn])?hn[Cn]:[],cn=Object.assign({},hn,{[Cn]:En.filter(Bn=>Bn!==rn)}),Pn=Object.assign({},tr,{sectionToSubsectionIndex:cn});return Object.assign({},je,{[ot]:Pn})}return je}(je,je[be.menuID].sections[be.id],be.menuID),tr=Object.assign({},Cn[be.menuID],{sections:Object.assign({},Cn[be.menuID].sections)});return delete tr.sections[rn],Object.assign({},Cn,{[be.menuID]:tr})}(je,be);case w.mk.ACTIVATE_SECTION:return function et(je,be){if((0,S.Uh)(je[be.menuID].sections[be.id]))return yt(je,be,{active:!0})}(je,be);case w.mk.DEACTIVATE_SECTION:return function Pe(je,be){if((0,S.Uh)(je[be.menuID].sections[be.id]))return yt(je,be,{active:!1})}(je,be);case w.mk.TOGGLE_ACTIVE_SECTION:return function Ze(je,be){const ot=je[be.menuID].sections[be.id];return(0,S.Uh)(ot)?yt(je,be,{active:!ot.active}):je}(je,be);case w.mk.HIDE_SECTION:return function Re(je,be){return yt(je,be,{visible:!1})}(je,be);case w.mk.SHOW_SECTION:return function ve(je,be){return yt(je,be,{visible:!0})}(je,be);default:return je}},objectSelection:function ht(je=it,be){switch(be.type){case gt.xZ.INITIAL_SELECT:return(0,S.xb)(je)||(0,S.xb)(je[be.key])||(0,S.xb)(je[be.key][be.id])?Object.assign({},je,{[be.key]:Object.assign({},je[be.key],{[be.id]:{checked:!0}})}):je;case gt.xZ.INITIAL_DESELECT:return(0,S.xb)(je)||(0,S.xb)(je[be.key])||(0,S.xb)(je[be.key][be.id])?Object.assign({},je,{[be.key]:Object.assign({},je[be.key],{[be.id]:{checked:!1}})}):je;case gt.xZ.SELECT:return Object.assign({},je,{[be.key]:Object.assign({},je[be.key],{[be.id]:{checked:!0}})});case gt.xZ.DESELECT:return Object.assign({},je,{[be.key]:Object.assign({},je[be.key],{[be.id]:{checked:!1}})});case gt.xZ.SWITCH:return Object.assign({},je,{[be.key]:Object.assign({},je[be.key],{[be.id]:{checked:!!((0,S.xb)(je)||(0,S.xb)(je[be.key])||(0,S.xb)(je[be.key][be.id]))||!je[be.key][be.id].checked}})});case gt.xZ.RESET:return(0,S.xb)(be.key)?{}:Object.assign({},je,{[be.key]:{}});default:return je}},selectableLists:function $t(je={},be){const ot=je[be.id]||Ge(be.id);switch(be.type){case Jt.I9.SELECT:{const rn=function lt(je,be){const ot=be.payload.filter(Cn=>!qe(je.selection,Cn)),rn=[...je.selection,...ot];return Object.assign({},je,{selection:rn})}(ot,be);return Object.assign({},je,{[be.id]:rn})}case Jt.I9.SELECT_SINGLE:{const rn=function Ht(je,be){let ot=je.selection;return qe(je.selection,be.payload.object)||(ot=[...je.selection,be.payload.object]),Object.assign({},je,{selection:ot})}(ot,be);return Object.assign({},je,{[be.id]:rn})}case Jt.I9.DESELECT:{const rn=function Qe(je,be){const ot=je.selection.filter(rn=>(0,S.xI)(be.payload.find(Cn=>Cn.equals(rn))));return Object.assign({},je,{selection:ot})}(ot,be);return Object.assign({},je,{[be.id]:rn})}case Jt.I9.DESELECT_SINGLE:{const rn=function ft(je,be){const ot=je.selection.filter(rn=>!rn.equals(be.payload));return Object.assign({},je,{selection:ot})}(ot,be);return Object.assign({},je,{[be.id]:rn})}case Jt.I9.SET_SELECTION:{const rn=function Je(je,be){return Object.assign({},je,{selection:be.payload})}(ot,be);return Object.assign({},je,{[be.id]:rn})}case Jt.I9.DESELECT_ALL:{const rn=Ge(be.id);return Object.assign({},je,{[be.id]:rn})}default:return je}},relationshipLists:function o(je={},be){switch(be.type){case b.Ju.SET_NAME_VARIANT:{const Cn=D(je[be.payload.listID]||{},be.payload.itemID,be.payload.nameVariant);return Object.assign({},je,{[be.payload.listID]:Cn})}case b.Ju.REMOVE_NAME_VARIANT:{const ot=je[be.payload.listID];if((0,S.Uh)(ot)&&(0,S.Uh)(ot[be.payload.itemID])){const rn=D(ot,be.payload.itemID,void 0);return Object.assign({},je,{[be.payload.listID]:rn})}return je}default:return je}},communityList:function O(je=y,be){return be.type===v.C.SAVE?Object.assign({},je,{expandedNodes:be.payload.expandedNodes,loadingNode:be.payload.loadingNode}):je},epeopleRegistry:function d(je=i,be){switch(be.type){case a.FS.EDIT_EPERSON:return Object.assign({},je,{editEPerson:be.eperson});case a.FS.CANCEL_EDIT_EPERSON:return Object.assign({},je,{editEPerson:null});default:return je}},groupRegistry:function p(je=l,be){switch(be.type){case r.Ow.EDIT_GROUP:return Object.assign({},je,{editGroup:be.group});case r.Ow.CANCEL_EDIT_GROUP:return Object.assign({},je,{editGroup:null});default:return je}},correlationId:(je=null,be)=>be.type===wt.v.SET?be.payload:je,contextHelp:function fn(je=dn,be){switch(be.type){case Gt.Ts.CONTEXT_HELP_TOGGLE_ICONS:return{...je,allIconsVisible:!je.allIconsVisible};case Gt.Ts.CONTEXT_HELP_ADD:{const ot={...je.models,[be.model.id]:be.model};return{...je,models:ot}}case Gt.Ts.CONTEXT_HELP_REMOVE:{const{[be.id]:ot,...rn}=je.models;return{...je,models:rn}}case Gt.Ts.CONTEXT_HELP_TOGGLE_TOOLTIP:return ct(je,be.id,ot=>!ot);case Gt.Ts.CONTEXT_HELP_SHOW_TOOLTIP:return ct(je,be.id,ot=>!0);case Gt.Ts.CONTEXT_HELP_HIDE_TOOLTIP:return ct(je,be.id,ot=>!1);default:return je}}},Ve=je=>je.router;function vt(je,be){return(0,n.P1)(be,ot=>{if((0,S.Uh)(ot))return ot[je]})}const Bt={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},17338:(R,c,e)=>{"use strict";e.d(c,{a:()=>t});class t{constructor(a,i){this.text=a,this.url=i}}},2098:(R,c,e)=>{"use strict";e.r(c),e.d(c,{BreadcrumbsComponent:()=>b});var t=e(98678),n=e(66323),a=e(35103),i=e(65706),d=e(67522),r=e(41966),l=e(96342);function p(o,D){1&o&&t.\u0275\u0275elementContainer(0)}function h(o,D){1&o&&t.\u0275\u0275elementContainer(0)}function m(o,D){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,h,1,0,"ng-container",6),t.\u0275\u0275elementContainerEnd()),2&o){const M=D.$implicit,C=D.last;t.\u0275\u0275nextContext(2);const T=t.\u0275\u0275reference(4),g=t.\u0275\u0275reference(6);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",C?g:T)("ngTemplateOutletContext",M)}}const _=function(){return{text:"home.breadcrumbs",url:"/"}};function v(o,D){if(1&o&&(t.\u0275\u0275elementStart(0,"nav",4)(1,"ol",5),t.\u0275\u0275template(2,p,1,0,"ng-container",6),t.\u0275\u0275template(3,m,2,2,"ng-container",7),t.\u0275\u0275elementEnd()()),2&o){const M=t.\u0275\u0275nextContext().ngVar,C=t.\u0275\u0275reference(4),T=t.\u0275\u0275reference(6);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",(null==M?null:M.length)>0?C:T)("ngTemplateOutletContext",t.\u0275\u0275pureFunction0(3,_)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",M)}}function y(o,D){if(1&o&&(t.\u0275\u0275elementStart(0,"li",8)(1,"div",9)(2,"a",10),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()),2&o){const M=D.text,C=D.url;t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",C)("ngbTooltip",t.\u0275\u0275pipeBind1(3,3,M)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,M))}}function O(o,D){if(1&o&&(t.\u0275\u0275elementStart(0,"li",11)(1,"div",9)(2,"div",12),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()),2&o){const M=D.text;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,1,M))}}function S(o,D){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,v,4,4,"nav",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,y,6,7,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(5,O,5,3,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),2&o){const M=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,1,M.showBreadcrumbs$))}}let b=(()=>{class o{constructor(M){this.breadcrumbsService=M,this.breadcrumbs$=M.breadcrumbs$,this.showBreadcrumbs$=M.showBreadcrumbs$}}return o.\u0275fac=function(M){return new(M||o)(t.\u0275\u0275directiveInject(n.d))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ds-breadcrumbs"]],decls:2,vars:3,consts:[[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["breadcrumb",""],["activeBreadcrumb",""],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,C){1&M&&(t.\u0275\u0275template(0,S,7,3,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&M&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,C.breadcrumbs$))},dependencies:[a.sg,a.O5,a.tP,i._L,d.rH,r.g,a.Ov,l.X$],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{content:"\\2022"!important}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block}']}),o})()},66323:(R,c,e)=>{"use strict";e.d(c,{d:()=>_});var t=e(92527),n=e(53426),a=e(9237),i=e(67522),d=e(77007),r=e(27303),l=e(21160),p=e(48358),h=e(45608),m=e(98678);let _=(()=>{class v{constructor(O,S){this.route=O,this.router=S,this.breadcrumbs$=new t.t(1),this.showBreadcrumbs$=new t.t(1)}listenForRouteChanges(){this.router.events.pipe((0,d.h)(O=>O instanceof i.m2),(0,r.b)(()=>this.reset()),(0,l.w)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(O){const S=O.snapshot.data,b=O.snapshot.routeConfig,o=(0,h.xI)(O.firstChild);if(o&&((0,h.Uh)(S.showBreadcrumbs)?this.showBreadcrumbs$.next(S.showBreadcrumbs):(0,h.o8)(S.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,h.Uh)(S)&&(0,h.Uh)(S.breadcrumb)&&(0,h.Uh)(b)&&(0,h.Uh)(b.resolve)&&(0,h.Uh)(b.resolve.breadcrumb)){const{provider:D,key:M,url:C}=S.breadcrumb;return o?D.getBreadcrumbs(M,C):(0,n.a)(D.getBreadcrumbs(M,C),this.resolveBreadcrumbs(O.firstChild)).pipe((0,p.U)(T=>[].concat.apply([],T)))}return o?(0,a.of)([]):this.resolveBreadcrumbs(O.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}}return v.\u0275fac=function(O){return new(O||v)(m.\u0275\u0275inject(i.gz),m.\u0275\u0275inject(i.F0))},v.\u0275prov=m.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},83897:(R,c,e)=>{"use strict";e.d(c,{e:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(p){return e(64178)(`./${p}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,2098))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-breadcrumbs"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},49175:(R,c,e)=>{"use strict";e.d(c,{B:()=>y});var t=e(91179),n=e(45608),a=e(48358),i=e(21160),d=e(10572),r=e(9237),l=e(51223),p=e(8842),h=e(71213),m=e(98678),_=e(96342),v=e(67522);let y=(()=>{class O{constructor(b,o,D,M,C){this.dsoService=b,this.translate=o,this.browseDefinitionService=D,this.dsoNameService=M,this.router=C}canActivate(b,o){const D=b.data.title,M=b.params.id||b.queryParams.id||b.data.id;let C;C=(0,n.xI)(b.data.browseDefinition)&&(0,n.Uh)(M)?this.browseDefinitionService.findById(M).pipe((0,d.hC)(),(0,a.U)(L=>L.payload)):(0,r.of)(b.data.browseDefinition);const T=b.queryParams.scope,g=b.queryParams.value,U=this.translate.instant(`browse.metadata.${M}`);return C.pipe((0,i.w)(L=>(0,n.Uh)(L)?(0,n.Uh)(T)?this.dsoService.findById(T).pipe((0,d.Gp)()).pipe((0,a.U)($=>{const z=this.dsoNameService.getName($);return b.data=this.createData(D,M,L,z,U,g,b),!0})):(b.data=this.createData(D,M,L,"",U,g,b),(0,r.of)(!0)):(this.router.navigate([h.y2]),(0,r.of)(!1))))}createData(b,o,D,M,C,T,g){return Object.assign({},g.data,{title:b,id:o,browseDefinition:D,collection:M,field:C,value:(0,n.Uh)(T)?`"${T}"`:""})}}return O.\u0275fac=function(b){return new(b||O)(m.\u0275\u0275inject(t.D),m.\u0275\u0275inject(_.sK),m.\u0275\u0275inject(l.v),m.\u0275\u0275inject(p._),m.\u0275\u0275inject(v.F0))},O.\u0275prov=m.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},81961:(R,c,e)=>{"use strict";e.r(c),e.d(c,{BBM_PAGINATION_ID:()=>Ee,BrowseByMetadataPageComponent:()=>Oe,browseParamsToOptions:()=>ve,getBrowseSearchOptions:()=>Re});var t=e(53426),n=e(45180),a=e(42281),i=e(45608),d=e(1081);class r{constructor(et,Ze,tt,yt,Ne,mt){this.metadataDefinition=et,this.pagination=Ze,this.sort=tt,this.startsWith=yt,this.scope=Ne,this.fetchThumbnail=mt}}var l=e(10572),p=e(91179),h=e(86937),m=e(81323),_=e(48358),v=e(77007),y=e(69637),O=e(46533),S=e(16441),b=e(8842),o=e(98678),D=e(67522),M=e(94474),C=e(35103),T=e(74487),g=e(22369),U=e(62832),L=e(10825),j=e(87635),$=e(56080),z=e(87657),re=e(41966),W=e(96342);function ie(Pe,et){if(1&Pe&&(o.\u0275\u0275element(0,"ds-comcol-page-logo",15),o.\u0275\u0275pipe(1,"async")),2&Pe){const Ze=o.\u0275\u0275nextContext(3);let tt;o.\u0275\u0275property("logo",null==(tt=o.\u0275\u0275pipeBind1(1,2,Ze.logo$))?null:tt.payload)("alternateText","Community or Collection Logo")}}function ce(Pe,et){if(1&Pe&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",7)(2,"header",8),o.\u0275\u0275element(3,"ds-comcol-page-header",9),o.\u0275\u0275template(4,ie,2,4,"ds-comcol-page-logo",10),o.\u0275\u0275element(5,"ds-themed-comcol-page-handle",11)(6,"ds-comcol-page-content",12)(7,"ds-comcol-page-content",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(8,"ds-dso-edit-menu"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(9,"ds-themed-comcol-page-browse-by",14),o.\u0275\u0275elementContainerEnd()),2&Pe){const Ze=et.ngIf,tt=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(3),o.\u0275\u0275property("name",tt.dsoNameService.getName(Ze)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",tt.logo$),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",Ze.handle)("title",Ze.type+".page.handle"),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",Ze.introductoryText)("hasInnerHtml",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",Ze.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),o.\u0275\u0275advance(2),o.\u0275\u0275property("id",Ze.id)("contentType",Ze.type)}}function ne(Pe,et){if(1&Pe&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,ce,10,11,"ng-container",6),o.\u0275\u0275elementContainerEnd()),2&Pe){const Ze=et.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==Ze?null:Ze.payload)}}const K=function(Pe){return{startsWith:Pe}},w=function(Pe,et,Ze,tt){return{collection:Pe,field:et,startsWith:Ze,value:tt}};function Q(Pe,et){if(1&Pe){const Ze=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ds-themed-browse-by",16),o.\u0275\u0275listener("prev",function(){o.\u0275\u0275restoreView(Ze);const yt=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(yt.goPrev())})("next",function(){o.\u0275\u0275restoreView(Ze);const yt=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(yt.goNext())}),o.\u0275\u0275pipe(1,"translate"),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275pipe(5,"async"),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275pipe(7,"async"),o.\u0275\u0275elementEnd()}if(2&Pe){const Ze=o.\u0275\u0275nextContext();let tt,yt;o.\u0275\u0275propertyInterpolate("title",o.\u0275\u0275pipeBind2(1,7,"browse.title",o.\u0275\u0275pureFunction4(25,w,Ze.dsoNameService.getName(null==(tt=o.\u0275\u0275pipeBind1(2,10,Ze.parent$))?null:tt.payload),o.\u0275\u0275pipeBind1(3,12,"browse.metadata."+Ze.browseId),Ze.startsWith?o.\u0275\u0275pipeBind2(4,14,"browse.startsWith",o.\u0275\u0275pureFunction1(23,K,'"'+Ze.startsWith+'"')):"",Ze.value?'"'+Ze.value+'"':""))),o.\u0275\u0275propertyInterpolate("parentname",Ze.dsoNameService.getName(null==(yt=o.\u0275\u0275pipeBind1(5,17,Ze.parent$))?null:yt.payload)),o.\u0275\u0275property("objects$",void 0!==Ze.items$?Ze.items$:Ze.browseEntries$)("paginationConfig",o.\u0275\u0275pipeBind1(6,19,Ze.currentPagination$))("sortConfig",o.\u0275\u0275pipeBind1(7,21,Ze.currentSort$))("type",Ze.startsWithType)("startsWithOptions",Ze.startsWithOptions)}}function oe(Pe,et){1&Pe&&(o.\u0275\u0275element(0,"ds-themed-loading",17),o.\u0275\u0275pipe(1,"translate")),2&Pe&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function q(Pe,et){if(1&Pe&&(o.\u0275\u0275elementStart(0,"footer",19)(1,"div"),o.\u0275\u0275element(2,"ds-comcol-page-content",12),o.\u0275\u0275elementEnd()()),2&Pe){const Ze=o.\u0275\u0275nextContext().ngIf;o.\u0275\u0275advance(2),o.\u0275\u0275property("content",Ze.copyrightText)("hasInnerHtml",!0)}}function ee(Pe,et){if(1&Pe&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,q,3,2,"footer",18),o.\u0275\u0275elementContainerEnd()),2&Pe){const Ze=et.ngIf;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Ze.copyrightText)}}function J(Pe,et){if(1&Pe&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,ee,2,1,"ng-container",6),o.\u0275\u0275elementContainerEnd()),2&Pe){const Ze=et.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==Ze?null:Ze.payload)}}const Ee="bbm";let Oe=(()=>{class Pe{constructor(Ze,tt,yt,Ne,mt,Dt,At){this.route=Ze,this.browseService=tt,this.dsoService=yt,this.paginationService=Ne,this.router=mt,this.appConfig=Dt,this.dsoNameService=At,this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=h.C4.text,this.value="",this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new n.r,{id:Ee,currentPage:1,pageSize:this.appConfig.browseBy.pageSize})}ngOnInit(){const Ze=new a.o("default",a.S.ASC);this.updatePage(Re(this.defaultBrowseId,this.paginationConfig,Ze)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ze),this.subs.push((0,t.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe((0,_.U)(([tt,yt,Ne,mt])=>[Object.assign({},tt,yt),Ne,mt])).subscribe(([tt,yt,Ne])=>{this.browseId=tt.id||this.defaultBrowseId,this.authority=tt.authority,this.value="string"==typeof tt.value?tt.value.trim():"",(void 0===tt.startsWith||""===tt.startsWith)&&(this.startsWith=void 0),"string"==typeof tt.startsWith&&(this.startsWith=tt.startsWith.trim()),(0,i.UE)(this.value)?this.updatePageWithItems(ve(tt,yt,Ne,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(ve(tt,yt,Ne,this.browseId,!1)),this.updateParent(tt.scope),this.updateLogo()})),this.updateStartsWithTextOptions()}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(Ze){this.browseEntries$=this.browseService.getBrowseEntriesFor(Ze),this.items$=void 0}updatePageWithItems(Ze,tt,yt){this.items$=this.browseService.getBrowseItemsFor(tt,yt,Ze)}updateParent(Ze){(0,i.Uh)(Ze)&&(this.parent$=this.dsoService.findById(Ze,!0,!0,(0,O.l)("logo")).pipe((0,l.xw)()))}updateLogo(){(0,i.Uh)(this.parent$)&&(this.logo$=this.parent$.pipe((0,_.U)(Ze=>Ze.payload),(0,v.h)(Ze=>(0,i.Uh)(Ze.logo)),(0,y.z)(Ze=>Ze.logo)))}goPrev(){this.items$?this.items$.pipe((0,l.xw)()).subscribe(Ze=>{this.items$=this.browseService.getPrevBrowseItems(Ze)}):this.browseEntries$&&this.browseEntries$.pipe((0,l.xw)()).subscribe(Ze=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(Ze)})}goNext(){this.items$?this.items$.pipe((0,l.xw)()).subscribe(Ze=>{this.items$=this.browseService.getNextBrowseItems(Ze)}):this.browseEntries$&&this.browseEntries$.pipe((0,l.xw)()).subscribe(Ze=>{this.browseEntries$=this.browseService.getNextBrowseEntries(Ze)})}ngOnDestroy(){this.subs.filter(Ze=>(0,i.Uh)(Ze)).forEach(Ze=>Ze.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}}return Pe.\u0275fac=function(Ze){return new(Ze||Pe)(o.\u0275\u0275directiveInject(D.gz),o.\u0275\u0275directiveInject(d.I),o.\u0275\u0275directiveInject(p.D),o.\u0275\u0275directiveInject(m.N),o.\u0275\u0275directiveInject(D.F0),o.\u0275\u0275directiveInject(S.q),o.\u0275\u0275directiveInject(b._))},Pe.\u0275cmp=o.\u0275\u0275defineComponent({type:Pe,selectors:[["ds-browse-by-metadata-page"]],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[3,"logo","alternateText"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(Ze,tt){1&Ze&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,ne,2,1,"ng-container",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementStart(3,"section",2)(4,"div",3),o.\u0275\u0275template(5,Q,8,30,"ds-themed-browse-by",4),o.\u0275\u0275template(6,oe,2,3,"ds-themed-loading",5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(7,J,2,1,"ng-container",1),o.\u0275\u0275pipe(8,"async"),o.\u0275\u0275elementEnd()),2&Ze&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(2,4,tt.parent$)),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",tt.startsWithOptions),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!tt.startsWithOptions),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(8,6,tt.parent$)))},dependencies:[M.h,C.O5,T.v,g.U,U.e,L.g,j.g,$.g,z.Z,re.g,C.Ov,W.X$]}),Pe})();function Re(Pe,et,Ze,tt){return(0,i.Uh)(tt)||(tt=!1),new r(Pe,et,Ze,null,null,tt)}function ve(Pe,et,Ze,tt,yt){return new r(tt,et,Ze,Pe.startsWith,Pe.scope,yt)}},99927:(R,c,e)=>{"use strict";e.d(c,{f:()=>M});var t=e(67522),n=e(49175),a=e(91179),i=e(96509),d=e(10572),r=e(48358),l=e(45608),p=e(71213),h=e(98678);let m=(()=>{class C{constructor(g,U){this.breadcrumbService=g,this.dataService=U}resolve(g,U){const L=g.queryParams.scope;if((0,l.Uh)(L))return this.dataService.findById(L).pipe((0,d.xw)(),(0,d.xe)(),(0,r.U)(j=>({provider:this.breadcrumbService,key:j,url:(0,p.Y4)(j)})))}}return C.\u0275fac=function(g){return new(g||C)(h.\u0275\u0275inject(i.B),h.\u0275\u0275inject(a.D))},C.\u0275prov=h.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();var _=e(76457),v=e(26728);let y=(()=>{class C extends _.t{constructor(g){super(g),this.breadcrumbService=g}resolve(g,U){return g.data=Object.assign({},g.data,{breadcrumbKey:g.data.breadcrumbKey+"."+g.params.id}),super.resolve(g,U)}}return C.\u0275fac=function(g){return new(g||C)(h.\u0275\u0275inject(v.d))},C.\u0275prov=h.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();var O=e(4682);function S(C,T){}const b=["*"];let o=(()=>{class C extends O.F{getComponentName(){return"BrowseBySwitcherComponent"}importThemedComponent(g){return e(12960)(`./${g}/app/browse-by/browse-by-switcher/browse-by-switcher.component`)}importUnthemedComponent(){return e.e(8592).then(e.bind(e,78294))}}return C.\u0275fac=function(){let T;return function(U){return(T||(T=h.\u0275\u0275getInheritedFactory(C)))(U||C)}}(),C.\u0275cmp=h.\u0275\u0275defineComponent({type:C,selectors:[["ds-themed-browse-by-switcher"]],features:[h.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:b,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(g,U){1&g&&(h.\u0275\u0275projectionDef(),h.\u0275\u0275template(0,S,0,0,"ng-template",null,0,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementStart(2,"div",null,1),h.\u0275\u0275projection(4),h.\u0275\u0275elementEnd())},encapsulation:2}),C})();var D=e(28252);let M=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=h.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=h.\u0275\u0275defineInjector({providers:[y,m],imports:[t.Bz.forChild([{path:"",resolve:{breadcrumb:m,menu:D.M},children:[{path:":id",component:o,canActivate:[n.B],resolve:{breadcrumb:y},data:{title:"browse.title.page",breadcrumbKey:"browse.metadata"}}]}])]}),C})()},34364:(R,c,e)=>{"use strict";e.d(c,{Zt:()=>i,du:()=>p,t3:()=>r});var t=e(45608),n=e(98678),a=e(23539),i=(()=>{return(m=i||(i={})).Title="title",m.Metadata="text",m.Date="date",i;var m})();const d=i.Metadata,r=new n.InjectionToken("getComponentByBrowseByType",{providedIn:"root",factory:()=>h}),l=new Map;function p(m,_=a.t0){return function(y){if((0,t.xI)(l.get(m))&&l.set(m,new Map),!(0,t.xI)(l.get(m).get(_)))throw new Error(`There can't be more than one component to render Browse-By of type "${m}" and theme "${_}"`);l.get(m).set(_,y)}}function h(m,_){let v=l.get(m);(0,t.xI)(v)&&(v=l.get(d));const y=(0,a.An)(v,_);return(0,t.xI)(y)?v.get(a.t0):y}},42620:(R,c,e)=>{"use strict";e.d(c,{$X:()=>h,Cp:()=>n,E1:()=>l,E5:()=>i,GQ:()=>m,Jk:()=>y,MI:()=>d,Ou:()=>r,Po:()=>p,lA:()=>_,yu:()=>a});var t=e(65521);const n="parent",a="collections";function i(){return`/${a}`}function d(O){return new t.R(i(),O).toString()}function r(O){return new t.R(i(),O,_).toString()}function l(){return new t.R(i(),m).toString()}function p(O){return new t.R(d(O),_,v).toString()}function h(O){return new t.R(d(O),y).toString()}const m="create",_="edit",v="roles",y="itemtemplate"},59542:(R,c,e)=>{"use strict";e.d(c,{C:()=>n,Q:()=>a});const n={SAVE:(0,e(49754).d)("dspace/community-list-page/SAVE")};class a{constructor(d,r){this.type=n.SAVE,this.payload={expandedNodes:d,loadingNode:r}}}},25584:(R,c,e)=>{"use strict";e.d(c,{A0:()=>d,GR:()=>m,Ke:()=>r,WY:()=>_,Ww:()=>i,eq:()=>h,jI:()=>a,wH:()=>p,xm:()=>l});var t=e(42620),n=e(65521);const a="parent",i="communities";function d(){return`/${i}`}function r(y){return new n.R(d(),y).toString()}function l(y){return new n.R(d(),y,_).toString()}function p(){return new n.R(d(),m).toString()}function h(y){return new n.R((0,t.MI)(y),_,v).toString()}const m="create",_="edit",v="roles"},73515:(R,c,e)=>{"use strict";e.d(c,{x:()=>_});var t=e(77007),n=e(48358),a=e(49887),i=e(77176),d=e(21160),r=e(27303),l=e(45608),p=e(96526),h=e(10572),m=e(65521);class _{constructor(y,O,S){this.halService=y,this.requestService=O,this.rdbService=S,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(y,...O){return this.rdbService.buildFromRequestUUID(y,...O).pipe((0,h.hC)())}getEndpointByMethod(y,O,...S){let b=(0,l.UE)(O)?`${y}/${O}`:`${y}`;return S?.length>0&&S.forEach((o,D)=>{b+=(0===D?"?":"&")+`embed=${o.name}`}),b}postToEndpoint(y,O,S){const b=this.requestService.generateRequestId(),o=this.halService.getEndpoint(this.linkName);return o.pipe((0,t.h)(D=>(0,l.UE)(D)),(0,n.U)(D=>this.getEndpointByMethod(D,y)),(0,a.x)(),(0,n.U)(D=>new p.xo(b,D,O,S)),(0,i.q)(1)).subscribe(D=>{this.requestService.send(D)}),o.pipe((0,d.w)(()=>this.fetchRequest(b)))}getRequest(y,O,...S){const b=this.requestService.generateRequestId(),o=this.halService.getEndpoint(this.linkName);return o.pipe((0,t.h)(D=>(0,l.UE)(D)),(0,n.U)(D=>this.getEndpointByMethod(D,y,...S)),(0,a.x)(),(0,n.U)(D=>new p.Gl(b,D,void 0,O)),(0,i.q)(1)).subscribe(D=>{this.requestService.send(D)}),o.pipe((0,d.w)(()=>this.fetchRequest(b,...S)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,t.h)(y=>(0,l.UE)(y)),(0,a.x)(),(0,n.U)(y=>new m.R(y,this.shortlivedtokensEndpoint).toString()),(0,d.w)(y=>this.createShortLivedTokenRequest(y)),(0,r.b)(y=>this.requestService.send(y)),(0,d.w)(y=>this.rdbService.buildFromRequestUUID(y.uuid)),(0,h.hC)(),(0,n.U)(y=>y.hasSucceeded?y.payload.value:null))}}},48829:(R,c,e)=>{"use strict";e.d(c,{$L:()=>p,Ah:()=>y,DZ:()=>ne,Er:()=>b,HC:()=>re,Hj:()=>v,Ih:()=>l,JA:()=>o,LF:()=>i,OM:()=>r,PW:()=>ie,R_:()=>_,TF:()=>L,Xb:()=>z,_2:()=>$,aj:()=>W,dl:()=>D,ds:()=>O,gA:()=>C,gY:()=>U,gi:()=>h,jr:()=>m,lm:()=>j,qm:()=>M,sS:()=>n,t$:()=>d,vT:()=>T,wO:()=>g,zn:()=>a,zx:()=>ce});var t=e(49754);const n={AUTHENTICATE:(0,t.d)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,t.d)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,t.d)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,t.d)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,t.d)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,t.d)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,t.d)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,t.d)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,t.d)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,t.d)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,t.d)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,t.d)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,t.d)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,t.d)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,t.d)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,t.d)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,t.d)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,t.d)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,t.d)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,t.d)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,t.d)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,t.d)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,t.d)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,t.d)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,t.d)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,t.d)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,t.d)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,t.d)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,t.d)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,t.d)("dspace/auth/UNSET_USER_AS_IDLE")};class a{constructor(w,Q){this.type=n.AUTHENTICATE,this.payload={email:w,password:Q}}}class i{constructor(w){this.type=n.AUTHENTICATED,this.payload=w}}class d{constructor(w,Q,oe){this.type=n.AUTHENTICATED_SUCCESS,this.payload={authenticated:w,authToken:Q,userHref:oe}}}class r{constructor(w){this.type=n.AUTHENTICATED_ERROR,this.payload=w}}class l{constructor(w){this.type=n.AUTHENTICATE_ERROR,this.payload=w}}class p{constructor(w){this.type=n.AUTHENTICATE_SUCCESS,this.payload=w}}class h{constructor(){this.type=n.CHECK_AUTHENTICATION_TOKEN}}class m{constructor(){this.type=n.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class _{constructor(w){this.type=n.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=w}}class v{constructor(w){this.payload=w,this.type=n.LOG_OUT}}class y{constructor(w){this.type=n.LOG_OUT_ERROR,this.payload=w}}class O{constructor(w){this.payload=w,this.type=n.LOG_OUT_SUCCESS}}class b{constructor(w){this.type=n.REDIRECT_TOKEN_EXPIRED,this.payload=w}}class o{constructor(w){this.type=n.REFRESH_TOKEN,this.payload=w}}class D{constructor(w){this.type=n.REFRESH_TOKEN_SUCCESS,this.payload=w}}class M{constructor(){this.type=n.REFRESH_TOKEN_ERROR}}class C{constructor(){this.type=n.RETRIEVE_TOKEN}}class T{constructor(w){this.type=n.ADD_MESSAGE,this.payload=w}}class g{constructor(){this.type=n.RESET_MESSAGES}}class U{constructor(w){this.type=n.RETRIEVE_AUTH_METHODS,this.payload=w}}class L{constructor(w){this.type=n.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=w}}class j{constructor(){this.type=n.RETRIEVE_AUTH_METHODS_ERROR}}class ${constructor(w){this.type=n.SET_REDIRECT_URL,this.payload=w}}class z{constructor(w){this.type=n.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=w}}class re{constructor(w){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=w}}class W{constructor(w){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=w}}class ie{constructor(w){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=w}}class ce{constructor(){this.type=n.SET_USER_AS_IDLE}}class ne{constructor(){this.type=n.UNSET_USER_AS_IDLE}}},38123:(R,c,e)=>{"use strict";e.d(c,{C0:()=>K,Lx:()=>ne,VI:()=>w,_e:()=>ce,e8:()=>Q});var t=e(78964),n=e(7754),a=e(9237),i=e(77007),d=e(9302),r=e(48358),l=e(21160),p=e(77176),h=e(89702),m=e(73515),_=e(94333),v=e(86960),y=e(45608),O=e(53929),S=e(36533),b=e(48829),o=e(10844),D=e(74997),M=e(75195),C=e(10572),T=e(76774),g=e(65384),U=e(20942),L=e(41121),j=e(87483),$=e(46533),z=e(98678),re=e(67522),W=e(69175),ie=e(96342);const ce="/login",ne="/logout",K="dsRedirectUrl",w="dsImpersonatingEPerson";let Q=(()=>{class oe{constructor(ee,J,Ee,Oe,Re,ve,Pe,et,Ze,tt,yt,Ne){this.req=ee,this._window=J,this.response=Ee,this.authRequestService=Oe,this.epersonService=Re,this.router=ve,this.routeService=Pe,this.storage=et,this.store=Ze,this.hardRedirectService=tt,this.notificationService=yt,this.translateService=Ne,this.store.pipe((0,i.h)(mt=>void 0!==mt?.core?.auth),(0,h.Ys)(S.$8),(0,d.O)(!1)).subscribe(mt=>this._authenticated=mt)}authenticate(ee,J){const Ee=`password=${encodeURIComponent(J)}&user=${encodeURIComponent(ee)}`,Oe=Object.create({});let Re=new t.WM;return Re=Re.append("Content-Type","application/x-www-form-urlencoded"),Oe.headers=Re,this.authRequestService.postToEndpoint("login",Ee,Oe).pipe((0,r.U)(ve=>{if((0,y.Uh)(ve.payload)&&ve.payload.authenticated)return ve.payload;throw new Error("Invalid email or password")}))}checkAuthenticationCookie(){const ee=Object.create({});let J=new t.WM;return J=J.append("Accept","application/json"),ee.headers=J,ee.withCredentials=!0,this.authRequestService.getRequest("status",ee).pipe((0,r.U)(Ee=>Object.assign(new _.t,Ee.payload)))}isAuthenticated(){return this.store.pipe((0,h.Ys)(S.$8))}isAuthenticationLoaded(){return this.store.pipe((0,h.Ys)(S.oX))}setExternalAuthStatus(ee){this.store.dispatch(new b.R_(ee))}isExternalAuthentication(){return this.store.pipe((0,h.Ys)(S.Mi))}authenticatedUser(ee){const J=Object.create({});let Ee=new t.WM;return Ee=Ee.append("Accept","application/json"),Ee=Ee.append("Authorization",`Bearer ${ee.accessToken}`),J.headers=Ee,this.authRequestService.getRequest("status",J).pipe((0,r.U)(Oe=>{const Re=Oe.payload;if((0,y.Uh)(Re)&&Re.authenticated)return Re._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(ee){return this.epersonService.findByHref(ee).pipe((0,C.mc)())}retrieveAuthenticatedUserById(ee){return this.epersonService.findById(ee).pipe((0,C.mc)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,h.Ys)(S.PV),(0,y.tz)(),(0,l.w)(ee=>this.epersonService.findById(ee)),(0,C.mc)())}checkAuthenticationToken(){this.store.dispatch(new b.gi)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,$.l)("specialGroups")).pipe((0,C.hC)(),(0,l.w)(ee=>ee.hasSucceeded?ee.payload.specialGroups:(0,L.uV)((0,U.b)(new j.S,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,h.Ys)(S.Ni),(0,p.q)(1),(0,r.U)(ee=>{let J;if(J=(0,y.UE)(ee)?ee:this.storage.get(v.V),(0,y.UE)(J)&&J.hasOwnProperty("accessToken")&&(0,y.UE)(J.accessToken)&&!this.isTokenExpired(J))return J;throw!1}))}refreshAuthenticationToken(ee){const J=Object.create({});let Ee=new t.WM;return Ee=Ee.append("Accept","application/json"),ee&&ee.accessToken&&(Ee=Ee.append("Authorization",`Bearer ${ee.accessToken}`)),J.headers=Ee,J.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},J).pipe((0,r.U)(Oe=>{const Re=Oe.payload;if((0,y.Uh)(Re)&&Re.authenticated)return Re.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new b.wO)}retrieveAuthMethodsFromAuthStatus(ee){let J=[];return(0,y.UE)(ee.authMethods)&&(J=ee.authMethods),(0,a.of)(J)}logout(){let ee=new t.WM;return ee=ee.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:ee,responseType:"text"})).pipe((0,r.U)(Ee=>{const Oe=Ee.payload;if((0,y.Uh)(Oe)&&!Oe.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(ee){return(0,y.xb)(ee)&&(ee=this.getToken()),this._authenticated&&(0,y.K0)(ee)?`Bearer ${ee.accessToken}`:""}getToken(){let ee;return this.store.pipe((0,p.q)(1),(0,h.Ys)(S.Ni)).subscribe(J=>{ee=J||null}),ee}trackTokenExpiration(){let ee,J=!1;this.store.pipe((0,h.Ys)(S.Ni)).subscribe(Ee=>{if(J&&void 0!==ee&&void 0===Ee&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),J=!1),J&&void 0!==Ee&&ee.expires!==Ee.expires&&(J=!1),!J&&(ee=Ee||null,null!=ee)){let Oe=ee.expires-(new Date).getTime()-T.N.auth.rest.timeLeftBeforeTokenRefresh;Oe<0&&(Oe=0),(0,y.Uh)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new b.JA(ee)),J=!0},Oe)}})}isTokenExpiring(){return this.store.pipe((0,h.Ys)(S.zy),(0,p.q)(1),(0,r.U)(ee=>!this.isTokenExpired()&&!ee&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(ee){return(ee=ee||this.getToken())&&ee.expires<Date.now()}storeToken(ee){const J=Date.now()+864e5,Oe={expires:new Date(J)};return this.storage.set(v.V,ee,Oe)}removeToken(){return this.storage.remove(v.V)}replaceToken(ee){return this.removeToken(),this.storeToken(ee)}redirectToLogin(){this.router.navigate([ce])}redirectToLoginWhenTokenExpired(){const ee=ce+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=ee:this.response?this.response._headerSent||this.response.redirect(302,ee):this.router.navigateByUrl(ee)}navigateToRedirectUrl(ee){if(!(0,y.Uh)(ee)||!ee.includes("reload/")){let J=`reload/${(new Date).getTime()}`;(0,y.UE)(ee)&&!ee.startsWith(ce)&&(J+=`?redirect=${encodeURIComponent(ee)}`),this.hardRedirectService.redirect(J)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,h.Ys)(S.B8),(0,r.U)(ee=>(0,y.Uh)(ee)?ee:this.storage.get(K)))}setRedirectUrl(ee){const J=Date.now()+36e5,Oe={expires:new Date(J)};this.storage.set(K,ee,Oe),this.store.dispatch(new b._2((0,y.pT)(ee)?ee:""))}setRedirectUrlIfNotSet(ee){this.getRedirectUrl().pipe((0,p.q)(1)).subscribe(J=>{(0,y.xI)(J)&&this.setRedirectUrl(ee)})}clearRedirectUrl(){this.store.dispatch(new b._2(void 0)),this.storage.remove(K)}impersonate(ee){this.storage.set(w,ee),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(w)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(w)}isImpersonating(){return(0,y.Uh)(this.getImpersonateID())}isImpersonatingUser(ee){return this.getImpersonateID()===ee}getShortlivedToken(){return this.isAuthenticated().pipe((0,l.w)(ee=>ee?this.authRequestService.getShortlivedToken():(0,a.of)(null)))}isUserIdle(){return this.store.pipe((0,h.Ys)(S.ro))}setIdle(ee){this.store.dispatch(ee?new b.zx:new b.DZ)}}return oe.\u0275fac=function(ee){return new(ee||oe)(z.\u0275\u0275inject(n.Z),z.\u0275\u0275inject(o.DC),z.\u0275\u0275inject(n.Y,8),z.\u0275\u0275inject(m.x),z.\u0275\u0275inject(M.k),z.\u0275\u0275inject(re.F0),z.\u0275\u0275inject(D.MZ),z.\u0275\u0275inject(O.N),z.\u0275\u0275inject(h.yh),z.\u0275\u0275inject(W.A),z.\u0275\u0275inject(g.T),z.\u0275\u0275inject(ie.sK))},oe.\u0275prov=z.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac}),oe})()},99805:(R,c,e)=>{"use strict";e.d(c,{J:()=>h});var t=e(66154),n=e(21160),a=e(48358),i=e(89702),d=e(36533),r=e(38123),l=e(98678),p=e(67522);let h=(()=>{class m{constructor(v,y,O){this.authService=v,this.router=y,this.store=O}canActivate(v,y){return this.handleAuth(y.url)}canActivateChild(v,y){return this.canActivate(v,y)}handleAuth(v){return this.store.pipe((0,i.Ys)(d.EC)).pipe((0,t.s)(y=>!1===y),(0,n.w)(()=>this.store.pipe((0,i.Ys)(d.$8))),(0,a.U)(y=>y||(this.authService.setRedirectUrl(v),this.authService.removeToken(),this.router.createUrlTree([r._e]))))}}return m.\u0275fac=function(v){return new(v||m)(l.\u0275\u0275inject(r.e8),l.\u0275\u0275inject(p.F0),l.\u0275\u0275inject(i.yh))},m.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},94333:(R,c,e)=>{"use strict";e.d(c,{t:()=>y});var t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(60932),r=e(99558),l=e(25056),p=e(26523),h=e(3798);const m=new p._("status");var v,_=e(86960);let y=((v=class{}).type=m,v);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"id",void 0),(0,t.__decorate)([h.OJ,n.autoserialize,(0,t.__metadata)("design:type",p._)],y.prototype,"type",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new d.$("auth-status"),"id"),(0,t.__metadata)("design:type",String)],y.prototype,"uuid",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],y.prototype,"okay",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],y.prototype,"authenticated",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(r.U),(0,t.__metadata)("design:type",a.y)],y.prototype,"eperson",void 0),(0,t.__decorate)([(0,i.p4)(l.o,!0),(0,t.__metadata)("design:type",a.y)],y.prototype,"specialGroups",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",_.Y)],y.prototype,"token",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"error",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],y.prototype,"authMethods",void 0),y=(0,t.__decorate)([i.KB],y)},86960:(R,c,e)=>{"use strict";function t(h){this.message=h}e.d(c,{Y:()=>p,V:()=>l}),(t.prototype=new Error).name="InvalidCharacterError";var n=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(h){var m=String(h).replace(/=+$/,"");if(m.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var _,v,y=0,O=0,S="";v=m.charAt(O++);~v&&(_=y%4?64*_+v:v,y++%4)?S+=String.fromCharCode(255&_>>(-2*y&6)):0)v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(v);return S};function i(h){this.message=h}(i.prototype=new Error).name="InvalidTokenError";const l="dsAuthInfo";class p{constructor(m){this.accessToken=m.replace("Bearer ","");try{const _=function d(h,m){if("string"!=typeof h)throw new i("Invalid token specified");var _=!0===(m=m||{}).header?0:1;try{return JSON.parse(function a(h){var m=h.replace(/-/g,"+").replace(/_/g,"/");switch(m.length%4){case 0:break;case 2:m+="==";break;case 3:m+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(n(m).replace(/(.)/g,function(v,y){var O=y.charCodeAt(0).toString(16).toUpperCase();return O.length<2&&(O="0"+O),"%"+O}))}catch{return n(m)}}(h.split(".")[_]))}catch(v){throw new i("Invalid token specified: "+v.message)}}(this.accessToken);this.expires=1e3*_.exp}catch{this.expires=0}}}},63643:(R,c,e)=>{"use strict";e.d(c,{q:()=>t});var t=(()=>{return(n=t||(t={})).Password="password",n.Shibboleth="shibboleth",n.Ldap="ldap",n.Ip="ip",n.X509="x509",n.Oidc="oidc",n.Orcid="orcid",t;var n})()},97329:(R,c,e)=>{"use strict";e.d(c,{H:()=>n});var t=e(63643);class n{constructor(i,d,r){switch(this.position=d,i){case"ip":this.authMethodType=t.q.Ip;break;case"ldap":this.authMethodType=t.q.Ldap;break;case"shibboleth":this.authMethodType=t.q.Shibboleth,this.location=r;break;case"x509":this.authMethodType=t.q.X509;break;case"password":this.authMethodType=t.q.Password;break;case"oidc":this.authMethodType=t.q.Oidc,this.location=r;break;case"orcid":this.authMethodType=t.q.Orcid,this.location=r}}}},36533:(R,c,e)=>{"use strict";e.d(c,{$8:()=>U,B8:()=>ne,EC:()=>$,Kv:()=>T,Ky:()=>ie,Mi:()=>j,Ni:()=>W,PV:()=>C,UR:()=>g,jd:()=>M,oX:()=>L,ro:()=>K,v$:()=>z,zy:()=>re});var t=e(89702),n=e(68671);const a=(0,t.P1)(n.v,w=>w.auth),M=(0,t.P1)(a,w=>w.authMethods),C=(0,t.P1)(a,w=>w.userId),T=(0,t.P1)(a,w=>w.error),g=(0,t.P1)(a,w=>w.info),U=(0,t.P1)(a,w=>w.authenticated),L=(0,t.P1)(a,w=>w.loaded),j=(0,t.P1)(a,w=>w.externalAuth),$=(0,t.P1)(a,w=>w.loading),z=(0,t.P1)(a,w=>w.blocking),re=(0,t.P1)(a,w=>w.refreshing),W=(0,t.P1)(a,w=>w.authToken),ie=(0,t.P1)(a,w=>w.error),ne=((0,t.P1)(a,w=>w.error),(0,t.P1)(a,w=>w.redirectUrl)),K=(0,t.P1)(a,w=>w.idle)},96509:(R,c,e)=>{"use strict";e.d(c,{B:()=>v});var t=e(17338),n=e(8842),a=e(9237),i=e(30658),d=e(46533),r=e(66154),l=e(21160),p=e(48358),h=e(45608),m=e(71213),_=e(98678);let v=(()=>{class y{constructor(S,b){this.linkService=S,this.dsoNameService=b}getBreadcrumbs(S,b){const o=this.dsoNameService.getName(S),D=new t.a(o,b),M=S.getParentLinkKey();return this.linkService.resolveLink(S,(0,d.l)(M))[M].pipe((0,r.s)(C=>C.hasSucceeded||204===C.statusCode),(0,l.w)(C=>{if((0,h.Uh)(C)&&(0,h.Uh)(C.payload)){const T=C.payload;return this.getBreadcrumbs(T,(0,m.Y4)(T))}return(0,a.of)([])}),(0,p.U)(C=>[...C,D]))}}return y.\u0275fac=function(S){return new(S||y)(_.\u0275\u0275inject(i.M),_.\u0275\u0275inject(n._))},y.\u0275prov=_.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},8842:(R,c,e)=>{"use strict";e.d(c,{_:()=>d});var t=e(45608),n=e(71432),a=e(98678),i=e(96342);let d=(()=>{class r{constructor(p){this.translateService=p,this.factories={EPerson:h=>{const m=h.firstMetadataValue("eperson.firstname"),_=h.firstMetadataValue("eperson.lastname");return(0,t.xb)(m)&&(0,t.xb)(_)?this.translateService.instant("dso.name.unnamed"):(0,t.xb)(m)||(0,t.xb)(_)?m||_:`${m} ${_}`},Person:h=>{const m=h.firstMetadataValue("person.familyName"),_=h.firstMetadataValue("person.givenName");return(0,t.xb)(m)&&(0,t.xb)(_)?h.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,t.xb)(m)||(0,t.xb)(_)?m||_:`${m}, ${_}`},OrgUnit:h=>h.firstMetadataValue("organization.legalName"),Default:h=>h.firstMetadataValue("dc.title")||h.name||this.translateService.instant("dso.name.untitled")}}getName(p){if(p){const m=p.getRenderTypes().filter(v=>"string"==typeof v).find(v=>Object.keys(this.factories).includes(v));let _;return(0,t.Uh)(m)&&(_=this.factories[m](p)),(0,t.xb)(_)&&(_=this.factories.Default(p)),_}return""}getHitHighlights(p,h){const _=h.getRenderTypes().filter(v=>"string"==typeof v).find(v=>["Person","OrgUnit"].includes(v));if("Person"===_){const v=this.firstMetadataValue(p,h,"person.familyName"),y=this.firstMetadataValue(p,h,"person.givenName");return(0,t.xb)(v)&&(0,t.xb)(y)?this.firstMetadataValue(p,h,"dc.title")||h.name:(0,t.xb)(v)||(0,t.xb)(y)?v||y:`${v}, ${y}`}return"OrgUnit"===_?this.firstMetadataValue(p,h,"organization.legalName"):this.firstMetadataValue(p,h,"dc.title")||h.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(p,h,m){return n.S.firstValue([p.hitHighlights,h.metadata],m)}}return r.\u0275fac=function(p){return new(p||r)(a.\u0275\u0275inject(i.sK))},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},76457:(R,c,e)=>{"use strict";e.d(c,{t:()=>d});var t=e(45608),n=e(26176),a=e(98678),i=e(26728);let d=(()=>{class r{constructor(p){this.breadcrumbService=p}resolve(p,h){const m=p.data.breadcrumbKey;if((0,t.xI)(m))throw new Error('You provided an i18nBreadcrumbResolver for url "'+p.url+"\" but no breadcrumbKey in the route's data");const _=(0,n.i)(p);return{provider:this.breadcrumbService,key:m,url:_}}}return r.\u0275fac=function(p){return new(p||r)(a.\u0275\u0275inject(i.d))},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},26728:(R,c,e)=>{"use strict";e.d(c,{d:()=>d});var t=e(17338),n=e(9237),a=e(98678);let d=(()=>{class r{getBreadcrumbs(p,h){return(0,n.of)([new t.a(p+".breadcrumbs",h)])}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},51223:(R,c,e)=>{"use strict";e.d(c,{v:()=>C});var o,t=e(70655),n=e(11308),a=e(6952),i=e(16066),d=e(55624),r=e(18005),l=e(9237),p=e(14246),h=e(54254),m=e(1411),_=e(45608),v=e(77176),y=e(96526),O=e(5803),S=e(29908),b=e(98678);const D=(T,g,U,L=!0)=>{(0,_.UE)(U)&&("string"==typeof U&&(U=(0,l.of)(U)),U.pipe((0,_.iy)(),(0,v.q)(1)).subscribe(j=>{const $=T.generateRequestId(),z=new y.OR($,j);(0,_.Uh)(g)&&(z.responseMsToLive=g),T.send(z,L)}))};class M extends h.k{createAndSendGetRequest(g,U=!0){D(this.requestService,this.responseMsToLive,g,U)}}let C=((o=class extends p.t{constructor(g,U,L,j){super("browses",g,U,L,j),this.requestService=g,this.rdbService=U,this.objectCache=L,this.halService=j,this.searchData=new S.l(this.linkPath,g,U,L,j,this.responseMsToLive),this.findAllData=new M(this.linkPath,g,U,L,j,this.responseMsToLive)}findAll(g={},U=!0,L=!0,...j){return this.findAllData.findAll(g,U,L,...j)}searchBy(g,U,L,j,...$){return this.searchData.searchBy(g,U,L,j,...$)}getSearchByHref(g,U,...L){return this.searchData.getSearchByHref(g,U,...L)}findByFields(g,U=!0,L=!0,...j){const $=[];$.push(new O.g("fields",g));const z=this.getSearchByHref("byFields",{searchParams:$},...j);return this.findByHref(z,U,L,...j)}createAndSendGetRequest(g,U=!0){D(this.requestService,this.responseMsToLive,g,U)}}).\u0275fac=function(g){return new(g||o)(b.\u0275\u0275inject(a.s),b.\u0275\u0275inject(i.Q),b.\u0275\u0275inject(d.a),b.\u0275\u0275inject(r.q))},o.\u0275prov=b.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o);C=(0,t.__decorate)([(0,m.cQ)(n.S),(0,t.__metadata)("design:paramtypes",[a.s,i.Q,d.a,r.q])],C)},1081:(R,c,e)=>{"use strict";e.d(c,{a:()=>g,I:()=>U});var D,t=e(48358),n=e(9302),a=e(49887),i=e(45608),d=e(16066),r=e(6952),l=e(18005),p=e(10572),h=e(65521),m=e(70655),_=e(55624),v=e(72764),y=e(44205),O=e(85878),S=e(23684),b=e(1411),o=e(98678);let M=((D=class{constructor(j,$,z,re){this.requestService=j,this.rdbService=$,this.objectCache=z,this.halService=re,this.dataService=new S.B(void 0,j,$,z,re)}findByHref(j,$=!0,z=!0,...re){return this.dataService.findByHref(j,$,z,...re)}findListByHref(j,$={},z=!0,re=!0,...W){return this.dataService.findListByHref(j,$,z,re,...W)}}).\u0275fac=function(j){return new(j||D)(o.\u0275\u0275inject(r.s),o.\u0275\u0275inject(d.Q),o.\u0275\u0275inject(_.a),o.\u0275\u0275inject(l.q))},D.\u0275prov=o.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D);M=(0,m.__decorate)([(0,b.cQ)(v.eU),(0,b.cQ)(y.Z),(0,b.cQ)(O.z),(0,m.__metadata)("design:paramtypes",[r.s,d.Q,_.a,l.q])],M);var C=e(46533),T=e(51223);const g=[(0,C.l)("thumbnail")];let U=(()=>{class L{constructor($,z,re,W,ie){this.requestService=$,this.halService=z,this.browseDefinitionDataService=re,this.hrefOnlyDataService=W,this.rdb=ie,this.linkPath="browses"}static toSearchKeyArray($){const z=$.split("."),re=[];re.push("*");for(let W=0;W<z.length-1;W++){const ce=[...z.slice(0,W+1),"*"].join(".");re.push(ce)}return re.push($),re}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,p.xw)())}getBrowseEntriesFor($){const z=this.getBrowseDefinitions().pipe((0,p.Ul)($.metadataDefinition),(0,i.tz)(),(0,t.U)(re=>re.entries.href||re.entries),(0,i.tz)(),(0,t.U)(re=>{const W=[];return(0,i.UE)($.scope)&&W.push(`scope=${$.scope}`),(0,i.UE)($.sort)&&W.push(`sort=${$.sort.field},${$.sort.direction}`),(0,i.UE)($.pagination)&&(W.push("page="+($.pagination.currentPage-1)),W.push(`size=${$.pagination.pageSize}`)),(0,i.UE)($.startsWith)&&W.push(`startsWith=${$.startsWith}`),(0,i.UE)(W)&&(re=new h.R(re,`?${W.join("&")}`).toString()),re}));return $.fetchThumbnail?this.hrefOnlyDataService.findListByHref(z,{},null,null,...g):this.hrefOnlyDataService.findListByHref(z)}getBrowseItemsFor($,z,re){const W=this.getBrowseDefinitions().pipe((0,p.Ul)(re.metadataDefinition),(0,i.tz)(),(0,t.U)(ie=>ie.items.href||ie.items),(0,i.tz)(),(0,t.U)(ie=>{const ce=[];return(0,i.UE)(re.scope)&&ce.push(`scope=${re.scope}`),(0,i.UE)(re.sort)&&ce.push(`sort=${re.sort.field},${re.sort.direction}`),(0,i.UE)(re.pagination)&&(ce.push("page="+(re.pagination.currentPage-1)),ce.push(`size=${re.pagination.pageSize}`)),(0,i.UE)(re.startsWith)&&ce.push(`startsWith=${re.startsWith}`),(0,i.UE)($)&&ce.push(`filterValue=${encodeURIComponent($)}`),(0,i.UE)(z)&&ce.push(`filterAuthority=${encodeURIComponent(z)}`),(0,i.UE)(ce)&&(ie=new h.R(ie,`?${ce.join("&")}`).toString()),ie}));return re.fetchThumbnail?this.hrefOnlyDataService.findListByHref(W,{},null,null,...g):this.hrefOnlyDataService.findListByHref(W)}getFirstItemFor($,z,re){const W=this.getBrowseDefinitions().pipe((0,p.Ul)($),(0,i.tz)(),(0,t.U)(ie=>ie.items.href||ie.items),(0,i.tz)(),(0,t.U)(ie=>{const ce=[];return(0,i.Uh)(z)&&ce.push(`scope=${z}`),ce.push("page=0"),ce.push("size=1"),re&&ce.push("sort=default,"+re),(0,i.UE)(ce)&&(ie=new h.R(ie,`?${ce.join("&")}`).toString()),ie}));return this.hrefOnlyDataService.findListByHref(W).pipe((0,p.xw)(),(0,p.HW)())}getPrevBrowseItems($){return this.hrefOnlyDataService.findListByHref($.payload.prev)}getNextBrowseItems($){return this.hrefOnlyDataService.findListByHref($.payload.next)}getPrevBrowseEntries($){return this.hrefOnlyDataService.findListByHref($.payload.prev)}getNextBrowseEntries($){return this.hrefOnlyDataService.findListByHref($.payload.next)}getBrowseURLFor($,z){const re=L.toSearchKeyArray($);return this.getBrowseDefinitions().pipe((0,p.xe)(),(0,p.qP)(),(0,t.U)(W=>W.find(ie=>{let ce="";return Array.isArray(ie.metadataKeys)&&(ce=ie.metadataKeys.find(ne=>re.indexOf(ne)>=0)),(0,i.UE)(ce)})),(0,t.U)(W=>{if((0,i.xb)(W)||(0,i.xb)(W._links)||(0,i.xb)(W._links[z]))throw new Error(`A browse endpoint for ${z} on ${$} isn't configured`);return W._links[z]||W._links[z].href}),(0,n.O)(void 0),(0,a.x)())}}return L.\u0275fac=function($){return new($||L)(o.\u0275\u0275inject(r.s),o.\u0275\u0275inject(l.q),o.\u0275\u0275inject(T.v),o.\u0275\u0275inject(M),o.\u0275\u0275inject(d.Q))},L.\u0275prov=o.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac}),L})()},65804:(R,c,e)=>{"use strict";e.d(c,{$7:()=>d,KB:()=>m,iB:()=>i,o2:()=>b,p4:()=>y,w2:()=>_});var t=e(45608),n=e(47045),a=e(98678);const i=new a.InjectionToken("getLinkDefinition",{providedIn:"root",factory:()=>S}),d=new a.InjectionToken("getLinkDefinitions",{providedIn:"root",factory:()=>O}),p=(Symbol("resolvedLink"),new Map),h=new Map;function m(o){p.set(o.type.value,o)}function _(o){return p.get((0,n.l_)(o))}const y=(o,D=!1,M)=>(C,T)=>{let g=h.get(C.constructor);(0,t.xI)(g)&&(g=new Map),(0,t.xI)(M)&&(M=T),g.set(M,{resourceType:o,isList:D,linkName:M,propertyName:T}),h.set(C.constructor,g)},O=o=>h.get(o),S=(o,D)=>{const M=h.get(o);if((0,t.Uh)(M))return M.get(D)};function b(o){return D=>{const M=h.get(o)||new Map,C=h.get(D)||new Map;M.forEach((T,g)=>{C.has(g)||C.set(g,T)}),h.set(D,C)}}},30658:(R,c,e)=>{"use strict";e.d(c,{M:()=>r});var t=e(98678),n=e(45608),a=e(1411),i=e(65804),d=e(27164);let r=(()=>{class l{constructor(h,m,_,v){this.parentInjector=h,this.getDataServiceFor=m,this.getLinkDefinition=_,this.getLinkDefinitions=v}resolveLinks(h,...m){return m.forEach(_=>{this.resolveLink(h,_)}),h}resolveLinkWithoutAttaching(h,m){const _=this.getLinkDefinition(h.constructor,m.name);if((0,n.Uh)(_)){const v=this.getDataServiceFor(_.resourceType);if((0,n.xI)(v))throw new Error(`The @link() for ${String(m.name)} on ${h.constructor.name} models uses the resource type ${_.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${_.resourceType.value.toUpperCase()}) annotation in order to retrieve it`);const y=t.Injector.create({providers:[],parent:this.parentInjector}).get(v),O=h._links[_.linkName];if((0,n.Uh)(O)){const S=O.href;try{return _.isList?y.findListByHref(S,m.findListOptions,m.useCachedVersionIfAvailable,m.reRequestOnStale,...m.linksToFollow):y.findByHref(S,m.useCachedVersionIfAvailable,m.reRequestOnStale,...m.linksToFollow)}catch(b){throw console.error(`Something went wrong when using @dataService(${_.resourceType.value}) ${(0,n.Uh)(y)?"":"(undefined) "}to resolve link ${String(m.name)} at ${S}`),b}}}else if(!m.isOptional)throw new Error(`followLink('${String(m.name)}') was used as a required link for a ${h.constructor.name}, but there is no property on ${h.constructor.name} models with an @link() for ${String(m.name)}`);return d.E}resolveLink(h,m){return h[m.name]=this.resolveLinkWithoutAttaching(h,m),h}removeResolvedLinks(h){const m=Object.assign(new h.constructor,h),_=this.getLinkDefinitions(h.constructor);return(0,n.UE)(_)&&_.forEach(v=>{m[v.propertyName]=void 0}),m}}return l.\u0275fac=function(h){return new(h||l)(t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(a.II),t.\u0275\u0275inject(i.iB),t.\u0275\u0275inject(i.$7))},l.\u0275prov=t.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},16066:(R,c,e)=>{"use strict";e.d(c,{Q:()=>$});var t=e(9237),n=e(53426),a=e(1330),i=e(21160),d=e(48358),r=e(9302),l=e(77007),p=e(49887),m=e(45608),_=e(41121),v=e(46533),y=e(20942),O=e(60012),S=e(6952),b=e(55624),o=e(30658),D=e(65804),M=e(23589),C=e(9717),T=e(47045),g=e(45132),U=e(56190),L=e(10572),j=e(98678);let $=(()=>{class z{constructor(W,ie,ce){this.objectCache=W,this.linkService=ie,this.requestService=ce}buildPayload(W,ie,...ce){return(0,m.xI)(ie)&&(ie=(0,t.of)(void 0)),(0,n.a)([ie,W]).pipe((0,i.w)(([ne,K])=>{const w=this.hasExactMatchInObjectCache(ne,K);return(0,m.Uh)(K.response)&&(w||this.isCacheablePayload(K)||this.isUnCacheablePayload(K))?w?this.objectCache.getObjectByHref(ne):this.isCacheablePayload(K)?this.objectCache.getObjectByHref(K.response.payloadLink.href):[this.plainObjectToInstance(K.response.unCacheableObject)]:(0,g.F0)(K.state)?[null]:[void 0]}),(0,i.w)(ne=>{if((0,m.Uh)(ne)){if((0,T.l_)(ne.type)===M.j.value)return this.buildPaginatedList(ne,...ce);if((0,m.UE)(ce))return[this.linkService.resolveLinks(ne,...ce)]}return[ne]}))}plainObjectToInstance(W){const ie=(0,D.w2)(W.type);return Object.assign("function"==typeof ie?new ie:{},W)}hasExactMatchInObjectCache(W,ie){return(0,m.Uh)(ie)&&(0,m.Uh)(ie.request)&&(0,m.UE)(ie.request.uuid)&&(0,m.Uh)(W)&&this.objectCache.hasByHref(W,ie.request.uuid)}isCacheablePayload(W){return(0,m.Uh)(W.response.payloadLink)&&(0,m.UE)(W.response.payloadLink.href)}isUnCacheablePayload(W){return(0,m.Uh)(W.response.unCacheableObject)}buildPaginatedList(W,...ie){const ce=ie.find(w=>"page"===w.name),ne=ie.filter(w=>"page"!==w.name),K=Object.assign(new y.l,W);if((0,m.Uh)(ce)){if((0,m.xb)(K.page)){const w=K._links.page.map(Q=>Q.href);return this.objectCache.getList(w).pipe((0,d.U)(Q=>(K.page=Q.map(oe=>this.plainObjectToInstance(oe)).map(oe=>this.linkService.resolveLinks(oe,...ce.linksToFollow)),(0,m.UE)(ne)?this.linkService.resolveLinks(K,...ne):K)))}if(K.page=K.page.map(w=>this.plainObjectToInstance(w)).map(w=>this.linkService.resolveLinks(w,...ce.linksToFollow)),(0,m.UE)(ne))return(0,t.of)(this.linkService.resolveLinks(K,...ne))}return(0,t.of)(K)}buildFromRequestUUID(W,...ie){"string"==typeof W&&(W=(0,t.of)(W));const ce=W.pipe((0,U.Md)(this.requestService)),ne=this.buildPayload(ce,void 0,...ie);return this.toRemoteDataObservable(ce,ne)}buildFromRequestUUIDAndAwait(W,ie,...ce){const ne=this.buildFromRequestUUID(W,...ce),K=new a.c;return ne.pipe((0,L.hC)(),(0,i.w)(w=>w.hasSucceeded?ie(w):[!0])).subscribe(()=>{K.next(!0),K.complete()}),ne.pipe((0,i.w)(w=>w.hasSucceeded?K.pipe((0,d.U)(()=>w)):[w]))}buildFromHref(W,...ie){"string"==typeof W&&(W=(0,t.of)(W));const ce=(W=W.pipe((0,d.U)(w=>(0,C.z2)(w)))).pipe((0,i.w)(w=>this.objectCache.getRequestUUIDBySelfLink(w))),ne=(0,n.a)([W.pipe((0,U.WV)(this.requestService),(0,r.O)(void 0)),ce.pipe((0,U.Md)(this.requestService),(0,r.O)(void 0))]).pipe((0,l.h)(([w,Q])=>(0,m.Uh)(w)||(0,m.Uh)(Q)),(0,d.U)(([w,Q])=>(0,m.xI)(Q)?w:(0,m.xI)(w)?Q:(0,g._T)(w.state)&&(0,g._T)(Q.state)||!(0,g._T)(w.state)&&!(0,g._T)(Q.state)?w.lastUpdated>=Q.lastUpdated?w:Q:(0,g._T)(Q.state)?w:Q),function h(z,re){return(0,p.x)((W,ie)=>re?re(W[z],ie[z]):W[z]===ie[z])}("lastUpdated")),K=this.buildPayload(ne,W,...ie);return this.toRemoteDataObservable(ne,K)}buildSingle(W,...ie){return this.buildFromHref(W,...ie)}toRemoteDataObservable(W,ie){return(0,n.a)([W,ie]).pipe((0,l.h)(([ce,ne])=>(0,m.Uh)(ce)&&!((0,g.F0)(ce.state)&&(0,m.o8)(ne))),(0,d.U)(([ce,ne])=>{let K=ce.response;return(0,m.xI)(K)&&(K={}),new O.N(K.timeCompleted,ce.request.responseMsToLive,ce.lastUpdated,ce.state,K.errorMessage,ne,K.statusCode)}))}buildList(W,...ie){return this.buildFromHref(W,(0,v.l)("page",{shouldEmbed:!1},...ie))}aggregate(W){return(0,m.xb)(W)?(0,_.uV)([],(new Date).getTime()):(0,n.a)(W).pipe((0,d.U)(ie=>{const ce=ie.map(J=>J.timeCompleted).reduce((J,Ee)=>Ee>J?Ee:J),ne=ie.map(J=>J.msToLive).reduce((J,Ee)=>Ee<J?Ee:J),K=ie.map(J=>J.lastUpdated).reduce((J,Ee)=>Ee>J?Ee:J);let w;w=ie.some(J=>J.isRequestPending)?g.q$.RequestPending:ie.some(J=>J.isResponsePending)?g.q$.ResponsePending:ie.some(J=>J.isErrorStale)?g.q$.ErrorStale:ie.some(J=>J.isError)?g.q$.Error:ie.some(J=>J.isSuccessStale)?g.q$.SuccessStale:g.q$.Success;const Q=ie.map(J=>J.errorMessage).map((J,Ee)=>{if((0,m.Uh)(J))return`[${Ee}]: ${J}`}).filter(J=>(0,m.Uh)(J)).join(", "),oe=new Set(ie.map(J=>J.statusCode));let q;1===oe.size?q=oe.values().next().value:oe.size>1&&(q=207);const ee=ie.map(J=>J.payload);return new O.N(ce,ne,K,w,Q,ee,q)}))}}return z.\u0275fac=function(W){return new(W||z)(j.\u0275\u0275inject(b.a),j.\u0275\u0275inject(o.M),j.\u0275\u0275inject(S.s))},z.\u0275prov=j.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac}),z})()},99449:(R,c,e)=>{"use strict";e.d(c,{X:()=>n});class t{}class n extends t{}},60932:(R,c,e)=>{"use strict";e.d(c,{$:()=>n});var t=e(45608);class n{constructor(i){this.prefix=i}Serialize(i){}Deserialize(i){return(0,t.Uh)(i)?`${this.prefix}-${i}`:i}}},5803:(R,c,e)=>{"use strict";e.d(c,{g:()=>t});class t{constructor(a,i){this.fieldName=a,this.fieldValue=i}}},42281:(R,c,e)=>{"use strict";e.d(c,{S:()=>t,o:()=>n});var t=(()=>{return(a=t||(t={})).ASC="ASC",a.DESC="DESC",t;var a})();class n{constructor(i,d){this.field=i,this.direction=d}}},20070:(R,c,e)=>{"use strict";e.d(c,{$y:()=>h,HO:()=>l,V9:()=>d,b6:()=>i,fH:()=>p,lz:()=>n,n5:()=>a,y3:()=>r});var t=e(49754);const n={ADD:(0,t.d)("dspace/core/cache/object/ADD"),REMOVE:(0,t.d)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,t.d)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,t.d)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,t.d)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,t.d)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,t.d)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class a{constructor(_,v,y,O,S){this.type=n.ADD,this.payload={objectToCache:_,timeCompleted:v,msToLive:y,requestUUID:O,alternativeLink:S}}}class i{constructor(_){this.type=n.REMOVE,this.payload=_}}class d{constructor(_){this.type=n.RESET_TIMESTAMPS,this.payload=_}}class r{constructor(_,v){this.type=n.ADD_PATCH,this.payload={href:_,operations:v}}}class l{constructor(_){this.type=n.APPLY_PATCH,this.payload=_}}class p{constructor(_,v){this.type=n.ADD_DEPENDENTS,this.payload={href:_,dependentRequestUUIDs:v}}}class h{constructor(_){this.type=n.REMOVE_DEPENDENTS,this.payload=_}}},47045:(R,c,e)=>{"use strict";e.d(c,{Ai:()=>l,l_:()=>i});var t=e(20070),n=e(45608),a=e(55152);const i=S=>{if((0,n.Uh)(S)){if("string"==typeof S)return S;if("string"==typeof S.value)return S.value}},r=Object.create(null);function l(S=r,b){switch(b.type){case t.lz.ADD:return function p(S,b){const o=S[b.payload.objectToCache._links.self.href]||{},D=(0,n.Uh)(b.payload.alternativeLink)?[b.payload.alternativeLink]:[];return Object.assign({},S,{[b.payload.objectToCache._links.self.href]:{data:b.payload.objectToCache,timeCompleted:b.payload.timeCompleted,msToLive:b.payload.msToLive,requestUUIDs:[b.payload.requestUUID,...o.requestUUIDs||[]],dependentRequestUUIDs:o.dependentRequestUUIDs||[],isDirty:(0,n.UE)(o.patches),patches:o.patches||[],alternativeLinks:[...o.alternativeLinks||[],...D]}})}(S,b);case t.lz.REMOVE:return function h(S,b){if((0,n.Uh)(S[b.payload])){const o=Object.assign({},S);return delete o[b.payload],o}return S}(S,b);case t.lz.RESET_TIMESTAMPS:return function m(S,b){const o=Object.create(null);return Object.keys(S).forEach(D=>{o[D]=Object.assign({},S[D],{timeCompleted:b.payload})}),o}(S,b);case t.lz.ADD_PATCH:return function _(S,b){const o=b.payload.href,D=b.payload.operations,M=Object.assign({},S);return(0,n.Uh)(M[o])&&(M[o]=Object.assign({},M[o],{patches:[...M[o].patches,{operations:D}],isDirty:!0})),M}(S,b);case t.lz.APPLY_PATCH:return function v(S,b){const o=b.payload,D=Object.assign({},S);if((0,n.Uh)(D[o])){const M=[].concat(...D[o].patches.map(T=>T.operations)),C=(0,a.af)(D[o].data,M,void 0,!1);D[o]=Object.assign({},D[o],{data:C.newDocument,patches:[]})}return D}(S,b);case t.lz.ADD_DEPENDENTS:return function y(S,b){const o=b.payload.href,D=Object.assign({},S);return(0,n.Uh)(D[o])&&(D[o]=Object.assign({},D[o],{dependentRequestUUIDs:[...new Set([...D[o]?.dependentRequestUUIDs||[],...b.payload.dependentRequestUUIDs])]})),D}(S,b);case t.lz.REMOVE_DEPENDENTS:return function O(S,b){const o=b.payload,D=Object.assign({},S);return(0,n.Uh)(D[o])&&(D[o]=Object.assign({},D[o],{dependentRequestUUIDs:[]})),D}(S,b);default:return S}}},55624:(R,c,e)=>{"use strict";e.d(c,{a:()=>L});var t=e(89702),n=e(55152),a=e(53426),i=e(9237),d=e(48358),r=e(77176),l=e(69637),p=e(77007),h=e(21160),m=e(49887),_=e(45608),v=e(68671),y=e(89333),O=e(9717),S=e(65804),b=e(30658),o=e(20070),D=e(70438),M=e(80135),C=e(95912),T=e(98678);const g=(0,t.P1)(v.v,j=>j["cache/object"]);let L=(()=>{class j{constructor(z,re){this.store=z,this.linkService=re}add(z,re,W,ie){z=this.linkService.removeResolvedLinks(z),this.store.dispatch(new o.n5(z,(new Date).getTime(),re,W,ie))}remove(z){this.removeRelatedLinksFromIndex(z),this.store.dispatch(new o.b6(z))}removeRelatedLinksFromIndex(z){const re=this.getByHref(z),W=re.pipe((0,d.U)(ce=>ce.alternativeLinks),(0,r.q)(1)),ie=re.pipe((0,d.U)(ce=>Object.entries(ce.data._links).filter(([ne,K])=>"self"!==ne).map(([ne,K])=>K.href)),(0,r.q)(1));this.removeLinksFromAlternativeLinkIndex(W),this.removeLinksFromAlternativeLinkIndex(ie)}removeLinksFromAlternativeLinkIndex(z){z.subscribe(re=>re.forEach(W=>{this.store.dispatch(new M.Ke(C.s.ALTERNATIVE_OBJECT_LINK,W))}))}getObjectByUUID(z){return this.store.pipe((0,t.Ys)((0,O.AS)(z)),(0,l.z)(re=>this.getObjectByHref(re)))}getObjectByHref(z){return this.getByHref(z).pipe((0,d.U)(re=>{if((0,_.UE)(re.patches)){const W=[].concat(...re.patches.map(ce=>ce.operations)),ie=(0,n.af)(re.data,W,void 0,!1).newDocument;return Object.assign({},re,{data:ie})}return re}),(0,d.U)(re=>{const W=(0,S.w2)(re.data.type);if("function"!=typeof W)throw new Error(`${W} is not a valid constructor for ${JSON.stringify(re.data)}`);return Object.assign(new W,re.data)}))}getByHref(z){return(0,a.a)([this.getByAlternativeLink(z),this.getBySelfLink(z)]).pipe((0,d.U)(re=>re.find(W=>(0,_.Uh)(W))),(0,p.h)(re=>(0,_.Uh)(re)))}getBySelfLink(z){return this.store.pipe((0,t.Ys)((j=>(0,t.P1)(g,$=>$[j]))(z)))}getByAlternativeLink(z){return this.store.pipe((0,t.Ys)((0,O.eY)(z)),(0,h.w)(re=>this.getBySelfLink(re)))}getRequestUUIDBySelfLink(z){return this.getByHref(z).pipe((0,d.U)(re=>re.requestUUIDs[0]),(0,m.x)())}getRequestUUIDByObjectUUID(z){return this.store.pipe((0,t.Ys)((0,O.AS)(z)),(0,l.z)(re=>this.getRequestUUIDBySelfLink(re)))}getList(z){return(0,_.xb)(z)?(0,i.of)([]):(0,a.a)(z.map(re=>this.getObjectByHref(re)))}hasByUUID(z){let re=!1;return this.store.pipe((0,t.Ys)((0,O.AS)(z)),(0,r.q)(1)).subscribe(W=>re=this.hasByHref(W)),re}hasByHref(z,re){let W=!1;return this.getByHref(z).subscribe(ie=>{W=!(0,_.UE)(re)||ie.requestUUIDs.includes(re)}).unsubscribe(),W}hasByHref$(z){return(0,a.a)(this.getBySelfLink(z),this.getByAlternativeLink(z)).pipe((0,d.U)(re=>re.some(W=>(0,_.Uh)(W))))}addPatch(z,re){this.store.dispatch(new o.y3(z,re)),this.store.dispatch(new D.Hc(z,y.a.PATCH))}isDirty(z){return(0,_.UE)(z.patches)}applyPatchesToCachedObject(z){this.store.dispatch(new o.HO(z))}addDependency(z,re){(0,_.xI)(z)||(0,_.xI)(re)||("string"==typeof z&&(z=(0,i.of)(z)),"string"==typeof re&&(re=(0,i.of)(re)),(0,a.a)([z,re.pipe((0,h.w)(W=>this.resolveSelfLink(W)))]).pipe((0,h.w)(([W,ie])=>{const ce=(0,i.of)(ie);return(0,a.a)([ce,ce.pipe((0,h.w)(ne=>this.getBySelfLink(ne)),(0,d.U)(ne=>ne?.dependentRequestUUIDs||[])),this.getByHref(W).pipe((0,d.U)(ne=>ne?.requestUUIDs?.[0]))])}),(0,r.q)(1)).subscribe(([W,ie,ce])=>{(0,_.Uh)(W)&&(0,_.Uh)(ce)&&!ie.includes(ce)&&this.store.dispatch(new o.fH(W,[ce]))}))}removeDependents(z){this.resolveSelfLink(z).pipe((0,r.q)(1)).subscribe(re=>{(0,_.Uh)(re)&&this.store.dispatch(new o.$y(re))})}resolveSelfLink(z){return this.getBySelfLink(z).pipe((0,h.w)(re=>(0,_.UE)(re)?[z]:this.store.pipe((0,t.Ys)((0,O.eY)(z)))))}}return j.\u0275fac=function(z){return new(z||j)(T.\u0275\u0275inject(t.yh),T.\u0275\u0275inject(b.M))},j.\u0275prov=T.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),j})()},62948:(R,c,e)=>{"use strict";e.d(c,{Ag:()=>y,N8:()=>p,iq:()=>t,k:()=>a,tp:()=>n});class t{constructor(S,b,o){this.isSuccessful=S,this.statusCode=b,this.statusText=o,this.toCache=!0}}class n extends t{constructor(S,b,o){super(!0,S,`${S}`),this.link=b,this.unCacheableObject=o}}class a extends t{constructor(S,b,o,D){super(!0,b,o),this.resourceSelfLinks=S,this.statusCode=b,this.statusText=o,this.pageInfo=D}}class p extends t{constructor(S,b,o,D){super(b,o,D),this.token=S,this.isSuccessful=b,this.statusCode=o,this.statusText=D}}class y extends t{constructor(S,b,o,D){super(!0,b,o),this.filterQuery=S,this.statusCode=b,this.statusText=o,this.pageInfo=D}}},70438:(R,c,e)=>{"use strict";e.d(c,{Hc:()=>a,LQ:()=>d,aH:()=>i,ci:()=>n});var t=e(49754);const n={ADD:(0,t.d)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,t.d)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,t.d)("dspace/core/cache/syncbuffer/EMPTY")};class a{constructor(l,p){this.type=n.ADD,this.payload={href:l,method:p}}}class i{constructor(l){this.type=n.COMMIT,this.payload=l}}class d{constructor(l){this.type=n.EMPTY,this.payload=l}}},10102:(R,c,e)=>{"use strict";e.d(c,{o:()=>i});var t=e(48358),n=e(10572),a=e(14246);class i extends a.t{findByHref(r,l=!0,p=!0,...h){return super.findByHref(r,l,p,...h).pipe((0,n.hC)(),(0,t.U)(m=>{if(m.hasFailed)throw new Error("Couldn't retrieve the config");return m}))}findByName(r,l=!0,p=!0,...h){return super.findById(r,l,p,...h)}}},96187:(R,c,e)=>{"use strict";e.d(c,{Y:()=>m});var l,t=e(70655),n=e(38666),a=e(65804),i=e(20942),d=e(8242),r=e(13604);let p=((l=class extends d.E{}).type=r.t_,l);var h;(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],p.prototype,"isDefault",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",i.l)],p.prototype,"sections",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],p.prototype,"_links",void 0),p=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(d.E)],p);let m=((h=class extends p{}).type=r.RQ,h);m=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(p)],m)},36424:(R,c,e)=>{"use strict";e.d(c,{D:()=>h});var r,t=e(70655),n=e(38666),a=e(65804),i=e(8242),d=e(13604);let l=((r=class extends i.E{}).type=d.jB,r);var p;(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],l.prototype,"rows",void 0),l=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(i.E)],l);let h=((p=class extends l{}).type=d.Q1,p);h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(l)],h)},13604:(R,c,e)=>{"use strict";e.d(c,{MX:()=>m,Q1:()=>d,RQ:()=>n,Zm:()=>l,fB:()=>p,jB:()=>i,l9:()=>_,rj:()=>h,t_:()=>a});var t=e(26523);const n=new t._("submissiondefinitions"),a=new t._("submissiondefinition"),i=new t._("submissionform"),d=new t._("submissionforms"),l=(new t._("submissionsections"),new t._("submissionsection")),p=new t._("submissionuploads"),h=new t._("submissionupload"),m=new t._("submissionaccessoption"),_=new t._("bulkaccessconditionoption")},8242:(R,c,e)=>{"use strict";e.d(c,{E:()=>d});var t=e(70655),n=e(38666),a=e(26523),i=e(3798);class d{}(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"name",void 0),(0,t.__decorate)([i.OJ,n.autoserialize,(0,t.__metadata)("design:type",a._)],d.prototype,"type",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],d.prototype,"_links",void 0)},61285:(R,c,e)=>{"use strict";e.d(c,{X:()=>_});var m,t=e(70655),n=e(10102),a=e(6952),i=e(18005),d=e(16066),r=e(55624),l=e(13604),p=e(1411),h=e(98678);let _=((m=class extends n.o{constructor(y,O,S,b){super("submissionforms",y,O,S,b),this.requestService=y,this.rdbService=O,this.objectCache=S,this.halService=b}findByHref(y,O=!0,S=!0,...b){return super.findByHref(y,O,S,...b)}}).\u0275fac=function(y){return new(y||m)(h.\u0275\u0275inject(a.s),h.\u0275\u0275inject(d.Q),h.\u0275\u0275inject(r.a),h.\u0275\u0275inject(i.q))},m.\u0275prov=h.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m);_=(0,t.__decorate)([(0,p.cQ)(l.Q1),(0,t.__metadata)("design:paramtypes",[a.s,d.Q,r.a,i.q])],_)},59058:(R,c,e)=>{"use strict";e.d(c,{IR:()=>Ft,Cq:()=>Se});var t=e(35103),n=e(78964),a=e(589),i=e(89702),d=e(70116),r=e(45608),l=e(79849),p=e(29306),h=e(9237),m=e(49281),_=e(98678);class v extends Map{}const y=new _.InjectionToken("mockResponseMap"),O=new Map([]);var S=e(76774);let b=(()=>{class We extends m.Y{constructor(kt,On){super(On),this.mockResponseMap=kt,this.http=On}get(kt){const On=this.getMockData(kt);return(0,r.xb)(On)?super.get(kt):this.toMockResponse$(On)}request(kt,On,Wn,_r,fr){const sr=this.getMockData(On);return(0,r.xb)(sr)?super.request(kt,On,Wn,_r,fr):this.toMockResponse$(sr)}toMockResponse$(kt){return(0,h.of)({payload:kt,headers:new n.WM,statusCode:200,statusText:"OK"})}getMockData(kt){let On;if(On=this.mockResponseMap.has(kt)?kt:new URL(kt).pathname.slice(S.N.rest.nameSpace.length),this.mockResponseMap.has(On))return JSON.parse(JSON.stringify(this.mockResponseMap.get(On)))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(y),_.\u0275\u0275inject(n.eN))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var w,o=e(65384),D=e(91416),M=e(83231),C=e(45180),T=e(8369),g=e(99805),U=e(94333),L=e(1081),j=e(16066),$=e(55624),z=e(96187),re=e(36424),W=e(70655),ie=e(38666),ce=e(65804),ne=e(8242),K=e(13604);let Q=((w=class extends ne.E{}).type=K.Zm,w);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Q.prototype,"header",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],Q.prototype,"mandatory",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Q.prototype,"sectionType",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Object)],Q.prototype,"visibility",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Q.prototype,"_links",void 0),Q=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ne.E)],Q);var q,oe=e(42878);let ee=((q=class extends ne.E{}).type=K.rj,q);var J;(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],ee.prototype,"accessConditionOptions",void 0),(0,W.__decorate)([(0,ce.p4)(K.Q1),(0,W.__metadata)("design:type",oe.y)],ee.prototype,"metadata",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],ee.prototype,"required",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],ee.prototype,"maxSize",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],ee.prototype,"_links",void 0),ee=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ne.E)],ee);let Ee=((J=class extends ee{}).type=K.fB,J);Ee=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ee)],Ee);var Oe=e(61285),Re=e(48358),ve=e(40383),Pe=e(20070);let et=(()=>{class We{constructor(kt){this.actions$=kt,this.fixTimestampsOnRehydrate=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ve.H.REHYDRATE),(0,Re.U)(()=>new Pe.V9((new Date).getTime()))))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var Ze=e(77007),tt=e(21160),yt=e(77176),Ne=e(26263),mt=e(80135),Dt=e(89333),At=e(9717),Jt=e(54998),$t=e(95912);let lt=(()=>{class We{constructor(kt,On){this.actions$=kt,this.store=On,this.addObject$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Pe.lz.ADD),(0,Ze.h)(Wn=>(0,r.Uh)(Wn.payload.objectToCache.uuid)),(0,Re.U)(Wn=>new mt.q5($t.s.OBJECT,Wn.payload.objectToCache.uuid,Wn.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Pe.lz.ADD),(0,Re.U)(Wn=>{const _r=Wn.payload.alternativeLink,fr=Wn.payload.objectToCache._links.self.href;return(0,r.Uh)(_r)&&_r!==fr?new mt.q5($t.s.ALTERNATIVE_OBJECT_LINK,_r,fr):new Jt.B}))),this.removeObject$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Pe.lz.REMOVE),(0,Re.U)(Wn=>new mt.zc($t.s.OBJECT,Wn.payload)))),this.addRequest$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Ne.S1.CONFIGURE),(0,Ze.h)(Wn=>Wn.payload.method===Dt.a.GET),(0,tt.w)(Wn=>{const _r=(0,At.z2)(Wn.payload.href);return this.store.pipe((0,i.Ys)((0,At.Be)(_r)),(0,yt.q)(1),(0,Re.U)(fr=>[Wn,fr]))}),(0,tt.w)(([Wn,_r])=>{let fr=[];return(0,r.Uh)(_r)&&(fr=[new Ne.eu(_r)]),fr=[...fr,new mt.q5($t.s.REQUEST,(0,At.z2)(Wn.payload.href),Wn.payload.uuid)],fr})))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(i.yh))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var Ht=e(69637),Qe=e(9249),ft=e(71476),Je=e(6952);let Ge=(()=>{class We{constructor(kt,On,Wn,_r){this.actions$=kt,this.restApi=On,this.injector=Wn,this.requestService=_r,this.execute=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Ne.S1.EXECUTE),(0,Ht.z)(fr=>this.requestService.getByUUID(fr.payload).pipe((0,yt.q)(1))),(0,Ze.h)(fr=>(0,r.Uh)(fr)),(0,Re.U)(fr=>fr.request),(0,Ht.z)(fr=>{let sr=fr.body;return(0,r.UE)(fr.body)&&!fr.isMultipart&&(sr=new ft.F((0,ce.w2)(fr.body.type)).serialize(fr.body)),this.restApi.request(fr.method,fr.href,sr,fr.options,fr.isMultipart).pipe((0,Re.U)(pr=>this.injector.get(fr.getResponseParser()).parse(fr,pr)),(0,Re.U)(pr=>new Ne.Ku(fr.uuid,pr.statusCode,pr.link,pr.unCacheableObject)),(0,Qe.K)(pr=>{if((0,r.Uh)(pr.statusCode))return[new Ne.kg(fr.uuid,pr.statusCode,pr.message)];throw pr}))}))),this.fixTimestampsOnRehydrate=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ve.H.REHYDRATE),(0,Re.U)(()=>new Ne.YT((new Date).getTime()))))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(m.Y),_.\u0275\u0275inject(_.Injector),_.\u0275\u0275inject(Je.s))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var qe=e(53426),gt=e(26729),it=e(84072),ht=e(70180),St=e(27303),It=e(91233),Yt=e(38123),en=e(36533),Tt=e(48829),Mn=e(57201);class xn{constructor(at,kt){this.zone=at,this.scheduler=kt}schedule(...at){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,at))}now(){return this.scheduler.now()}}class qn{constructor(at,kt){this.zone=at,this.scheduler=kt}schedule(...at){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,at))}now(){return this.scheduler.now()}}var Rt=e(35794);const sn=[...Object.values(Tt.sS).filter(We=>We!==Tt.sS.UNSET_USER_AS_IDLE),...Object.values(Ne.S1),...Object.values(Mn.o0)];let jt=(()=>{class We{constructor(kt,On,Wn,_r,fr){this.actions$=kt,this.zone=On,this.authorizationsService=Wn,this.authService=_r,this.store=fr,this.authenticate$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.AUTHENTICATE),(0,tt.w)(sr=>this.authService.authenticate(sr.payload.email,sr.payload.password).pipe((0,yt.q)(1),(0,Re.U)(pr=>new Tt.$L(pr.token)),(0,Qe.K)(pr=>(0,h.of)(new Tt.Ih(pr))))))),this.authenticateSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.AUTHENTICATE_SUCCESS),(0,Re.U)(sr=>new Tt.LF(sr.payload)))),this.authenticated$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.AUTHENTICATED),(0,tt.w)(sr=>this.authService.authenticatedUser(sr.payload).pipe((0,Re.U)(pr=>new Tt.t$(null!==pr,sr.payload,pr)),(0,Qe.K)(pr=>(0,h.of)(new Tt.OM(pr))))))),this.authenticatedSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.AUTHENTICATED_SUCCESS),(0,St.b)(sr=>this.authService.storeToken(sr.payload.authToken)),(0,tt.w)(sr=>this.authService.getRedirectUrl().pipe((0,yt.q)(1),(0,Re.U)(pr=>[sr,pr]))),(0,Re.U)(([sr,pr])=>(0,r.Uh)(pr)?new Tt.Xb(pr):new Tt.HC(sr.payload.userHref)))),this.redirectAfterLoginSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.REDIRECT_AFTER_LOGIN_SUCCESS),(0,St.b)(sr=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(sr.payload)})),{dispatch:!1}),this.authenticatedError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.AUTHENTICATED_ERROR),(0,St.b)(sr=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.RETRIEVE_AUTHENTICATED_EPERSON),(0,tt.w)(sr=>{const pr=this.authService.getImpersonateID();let ji;return ji=(0,r.Uh)(pr)?this.authService.retrieveAuthenticatedUserById(pr):this.authService.retrieveAuthenticatedUserByHref(sr.payload),ji.pipe((0,Re.U)(Ba=>new Tt.aj(Ba.id)),(0,Qe.K)(Ba=>(0,h.of)(new Tt.PW(Ba))))}))),this.checkToken$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.CHECK_AUTHENTICATION_TOKEN),(0,tt.w)(()=>this.authService.hasValidAuthenticationToken().pipe((0,Re.U)(sr=>new Tt.LF(sr)),(0,Qe.K)(sr=>(0,h.of)(new Tt.jr)))))),this.checkTokenCookie$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,tt.w)(()=>this.authService.checkAuthenticationCookie().pipe((0,Re.U)(sr=>sr.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new Tt.gA):new Tt.gY(sr)),(0,Qe.K)(sr=>(0,h.of)(new Tt.OM(sr))))))),this.retrieveToken$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.RETRIEVE_TOKEN),(0,tt.w)(sr=>this.authService.refreshAuthenticationToken(null).pipe((0,yt.q)(1),(0,Re.U)(pr=>new Tt.$L(pr)),(0,Qe.K)(pr=>(0,h.of)(new Tt.Ih(pr))))))),this.refreshToken$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.REFRESH_TOKEN),(0,tt.w)(sr=>this.authService.refreshAuthenticationToken(sr.payload).pipe((0,Re.U)(pr=>new Tt.dl(pr)),(0,Qe.K)(pr=>(0,h.of)(new Tt.qm)))))),this.refreshTokenSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.REFRESH_TOKEN_SUCCESS),(0,St.b)(sr=>this.authService.replaceToken(sr.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ve.H.REHYDRATE),(0,tt.w)(()=>{const sr=this.store.pipe((0,i.Ys)(en.oX)),pr=this.store.pipe((0,i.Ys)(en.$8));return(0,qe.a)([sr,pr]).pipe((0,yt.q)(1),(0,Ze.h)(([ji,Ba])=>ji&&!Ba),(0,St.b)(()=>this.authService.removeToken()),(0,St.b)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ve.H.REHYDRATE),(0,St.b)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.LOG_OUT),(0,tt.w)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,Re.U)(sr=>new Tt.ds),(0,Qe.K)(sr=>(0,h.of)(new Tt.Ah(sr)))))))),this.logOutSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.LOG_OUT_SUCCESS),(0,St.b)(()=>this.authService.removeToken()),(0,St.b)(()=>this.authService.clearRedirectUrl()),(0,St.b)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.REDIRECT_TOKEN_EXPIRED),(0,St.b)(()=>this.authService.removeToken()),(0,St.b)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Tt.sS.RETRIEVE_AUTH_METHODS),(0,tt.w)(sr=>this.authService.retrieveAuthMethodsFromAuthStatus(sr.payload).pipe((0,Re.U)(pr=>new Tt.TF(pr)),(0,Qe.K)(pr=>(0,h.of)(new Tt.lm)))))),this.trackIdleness$=(0,a.GW)(()=>this.actions$.pipe((0,Ze.h)(sr=>!sn.includes(sr.type)),(0,tt.w)(()=>(0,gt.H)(S.N.auth.ui.timeUntilIdle,new xn(this.zone,it.z))),(0,It.Q)(new qn(this.zone,ht.N)),(0,Re.U)(()=>new Tt.zx)))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(Rt._),_.\u0275\u0275inject(Yt.e8),_.\u0275\u0275inject(i.yh))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var zt=e(1267);let on=(()=>{class We{constructor(kt){this.actions$=kt,this.commit$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(zt.nQ.COMMIT_JSON_PATCH_OPERATIONS),(0,Re.U)(On=>new zt.RR(On.payload.resourceType,On.payload.resourceId))))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var ke=e(87317),xe=e(98843),we=e(68671),pt=e(70438),bt=e(96526);let wt=(()=>{class We{constructor(kt,On,Wn,_r){this.actions$=kt,this.store=On,this.requestService=Wn,this.objectCache=_r,this.setTimeoutForServerSync=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(pt.ci.ADD),(0,ke.z)(fr=>{const sr=S.N.cache.autoSync,pr=sr.timePerMethod[fr.payload.method]||sr.defaultTime;return(0,h.of)(new pt.aH(fr.payload.method)).pipe((0,xe.g)(1e3*pr))}))),this.commitServerSyncBuffer=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(pt.ci.COMMIT),(0,tt.w)(fr=>this.store.pipe((0,i.Ys)(function Xt(){return(0,i.P1)(we.v,We=>We["cache/syncbuffer"])}()),(0,yt.q)(1),(0,tt.w)(sr=>{const pr=sr.buffer.filter(ji=>!(0,r.Uh)(fr.payload)||ji.method===fr.payload).map(ji=>{if(ji.method===Dt.a.PATCH)return this.applyPatch(ji.href)});return(0,r.UE)(pr)&&(0,r.pT)(pr[0])?(0,qe.a)(...pr).pipe((0,tt.w)(ji=>[...ji,new pt.LQ(fr.payload)])):(0,h.of)(new Jt.B)})))))}applyPatch(kt){return this.objectCache.getByHref(kt).pipe((0,yt.q)(1)).pipe((0,Re.U)(Wn=>{if((0,r.UE)(Wn.patches)){const _r=[].concat(...Wn.patches.map(fr=>fr.operations));(0,r.UE)(_r)&&this.requestService.send(new bt._x(this.requestService.generateRequestId(),kt,_r))}return new Pe.HO(kt)}))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(i.yh),_.\u0275\u0275inject(Je.s),_.\u0275\u0275inject($.a))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var Qt=e(22590),Gt=e(1828),dn=e(56615);let fn=(()=>{class We{constructor(kt,On){this.actions$=kt,this.notificationsService=On,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new Gt.x},this.mapLastActions$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(...Object.values(Qt.Vi)),(0,Re.U)(Wn=>{if((0,r.Uh)(Wn.payload)){const _r=Wn.payload.url;(0,r.xI)(this.actionMap$[_r])&&(this.actionMap$[_r]=new Gt.x),this.actionMap$[_r].next(Wn)}})),{dispatch:!1}),this.mapLastNotificationActions$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(...Object.values(Mn.o0)),(0,Re.U)(Wn=>{const _r=Wn.payload.id||Wn.payload||this.allIdentifier;(0,r.xI)(this.notificationActionMap$[_r])&&(this.notificationActionMap$[_r]=new Gt.x),this.notificationActionMap$[_r].next(Wn)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Qt.Vi.DISCARD),(0,tt.w)(Wn=>{const _r=Wn.payload.url,fr=Wn.payload.notification,sr=fr.options.timeOut;let pr=new Qt.Y7(Wn.payload.url);return Wn.payload.discardAll&&(pr=new Qt.Fm),(0,dn.S)((0,h.of)(pr).pipe((0,xe.g)(sr)),this.actionMap$[_r].pipe((0,yt.q)(1),(0,St.b)(()=>{this.notificationsService.remove(fr)}),(0,Re.U)(ji=>ji.type===Qt.Vi.REINSTATE?new Jt.B:pr)),this.notificationActionMap$[fr.id].pipe((0,Ze.h)(ji=>ji.type===Mn.o0.REMOVE_NOTIFICATION),(0,Re.U)(()=>pr)),this.notificationActionMap$[this.allIdentifier].pipe((0,Ze.h)(ji=>ji.type===Mn.o0.REMOVE_ALL_NOTIFICATIONS),(0,Re.U)(()=>pr)))})))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(o.T))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var ct=e(35132);const Ve={ROUTE_UPDATE:(0,e(49754).d)("dspace/core/router/ROUTE_UPDATE")};class vt{constructor(){this.type=Ve.ROUTE_UPDATE}}var Bt=e(74997);let je=(()=>{class We{constructor(kt,On){this.actions$=kt,this.service=On,this.routeChange$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Ve.ROUTE_UPDATE),(0,Re.U)(()=>new ct.E3))),this.afterResetChange$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ct.Ei.RESET),(0,St.b)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(Bt.MZ))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var be=e(77025),ot=e(58886),Cn=e(80233),tr=e(67522);let hn=(()=>{class We{constructor(kt,On){this.actions$=kt,this.router=On,this.routeChange$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(Cn.tE),function rn(){return(0,be.e)((We,at)=>{let kt,On=!1;We.subscribe((0,ot.x)(at,Wn=>{const _r=kt;kt=Wn,On&&at.next([_r,Wn]),On=!0}))})}(),(0,Re.U)(Wn=>Wn.map(_r=>this.router.parseUrl(_r.payload.routerState.url).root.children.primary.segments.map(sr=>sr.path).join("/"))),(0,Ze.h)(Wn=>Wn[0]!==Wn[1]),(0,Re.U)(()=>new vt)))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX),_.\u0275\u0275inject(tr.F0))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var En=e(96713);const Pn=[Ge,et,lt,jt,on,wt,fn,je,hn,(()=>{class We{constructor(kt){this.actions$=kt,this.reinitDSOMenus=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(ve.H.REHYDRATE),(0,Re.U)(()=>new En.Hs)))}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(a.eX))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})()];var Bn=e(47045);const An=Object.create(null);var Er=e(45132);const Ir=Object.create(null);var Oi=e(97329),Nr=e(63643);const _i={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var kn=(()=>{return(We=kn||(kn={})).test="test",We.remove="remove",We.add="add",We.replace="replace",We.move="move",We.copy="copy",kn;var We})();const ai=Object.create(null);function bn(We){return{operation:We,timeCompleted:(new Date).getTime()}}const Mr={buffer:[]};var Xn=e(2538);const xi={queryParams:{},params:{}};function Wr(We,at,kt){const On=We[kt],_r=[...On[at.payload.key]||[],at.payload.value],fr=Object.assign({},On,{[at.payload.key]:_r});return Object.assign({},We,{[kt]:fr})}function So(We,at,kt){const On=(0,r.UE)(at.payload)?{[kt]:{[at.payload.key]:at.payload.value}}:{};return Object.assign({},We,On)}function co(We,at,kt){const Wn=Object.assign({},We[kt],{[at.payload.key]:at.payload.value});return Object.assign({},We,{[kt]:Wn})}var Ki=e(43036);const ei={selectedBitstreamFormats:[]};var bo=e(72921);const Bo=[];var Uo=e(84977);const Po={tagsInUse:[]},as={bitstreamFormats:function ko(We=ei,at){switch(at.type){case Ki.xi.SELECT_FORMAT:return Object.assign({},We,{selectedBitstreamFormats:[...We.selectedBitstreamFormats,at.bitstreamFormat]});case Ki.xi.DESELECT_FORMAT:return Object.assign({},We,{selectedBitstreamFormats:We.selectedBitstreamFormats.filter(kt=>kt!==at.bitstreamFormat)});case Ki.xi.DESELECT_ALL_FORMAT:return Object.assign({},We,{selectedBitstreamFormats:[]});default:return We}},"cache/object":Bn.Ai,"cache/syncbuffer":function Ur(We=Mr,at){switch(at.type){case pt.ci.ADD:return function Tr(We,at){const kt=at.payload;return(0,r.xI)(We.buffer.find(On=>On.href===kt.href&&On.method===kt.method))?Object.assign({},We,{buffer:We.buffer.concat(kt)}):We}(We,at);case pt.ci.EMPTY:return function Vn(We,at){let kt=[];return(0,r.Uh)(at.payload)&&(kt=We.buffer.filter(On=>On.method!==at.payload)),Object.assign({},We,{buffer:kt})}(We,at);default:return We}},"cache/object-updates":Xn.Q,"data/request":function si(We=Ir,at){switch(at.type){case Ne.S1.CONFIGURE:return function yr(We,at){return Object.assign({},We,{[at.payload.uuid]:{request:at.payload,state:Er.q$.RequestPending,response:null,lastUpdated:at.lastUpdated}})}(We,at);case Ne.S1.EXECUTE:return function Sn(We,at){return(0,r.Ft)(We[at.payload])?We:Object.assign({},We,{[at.payload]:Object.assign({},We[at.payload],{state:Er.q$.ResponsePending,lastUpdated:at.lastUpdated})})}(We,at);case Ne.S1.SUCCESS:return function Qn(We,at){return(0,r.Ft)(We[at.payload.uuid])?We:Object.assign({},We,{[at.payload.uuid]:Object.assign({},We[at.payload.uuid],{state:Er.q$.Success,response:{timeCompleted:at.payload.timeCompleted,lastUpdated:at.payload.timeCompleted,statusCode:at.payload.statusCode,payloadLink:at.payload.link,unCacheableObject:at.payload.unCacheableObject,errorMessage:null},lastUpdated:at.lastUpdated})})}(We,at);case Ne.S1.ERROR:return function hr(We,at){return(0,r.Ft)(We[at.payload.uuid])?We:Object.assign({},We,{[at.payload.uuid]:Object.assign({},We[at.payload.uuid],{state:Er.q$.Error,response:{timeCompleted:at.payload.timeCompleted,lastUpdated:at.payload.timeCompleted,statusCode:at.payload.statusCode,payloadLink:null,errorMessage:at.payload.errorMessage},lastUpdated:at.lastUpdated})})}(We,at);case Ne.S1.STALE:return function Br(We,at){if((0,r.Ft)(We[at.payload.uuid]))return We;{const kt=We[at.payload.uuid];return(0,Er._T)(kt.state)?We:Object.assign({},We,{[at.payload.uuid]:Object.assign({},kt,{state:(0,Er.F0)(kt.state)?Er.q$.SuccessStale:Er.q$.ErrorStale,lastUpdated:at.lastUpdated})})}}(We,at);case Ne.S1.RESET_TIMESTAMPS:return function Xr(We,at){const kt=Object.create(null);return Object.keys(We).forEach(On=>{kt[On]=Object.assign({},We[On],{response:Object.assign({},We[On].response,{timeCompleted:at.payload}),lastUpdated:at.payload})}),kt}(We,at);case Ne.S1.REMOVE:return function br(We,at){const kt=Object.assign({},We);return kt[at.uuid]=null,kt}(We,at);default:return We}},history:function no(We=Bo,at){return at.type===bo.m.ADD_TO_HISTORY?[...We,at.payload.url]:We},index:function In(We=An,at){switch(at.type){case mt.BF.ADD:return function Fn(We,at){const On=Object.assign({},We[at.payload.name],{[at.payload.key]:at.payload.value});return Object.assign({},We,{[at.payload.name]:On})}(We,at);case mt.BF.REMOVE_BY_VALUE:return function er(We,at){const kt=We[at.payload.name],On=Object.create(null);for(const Wn in kt)kt[Wn]!==at.payload.value&&(On[Wn]=kt[Wn]);return Object.assign({},We,{[at.payload.name]:On})}(We,at);case mt.BF.REMOVE_BY_SUBSTRING:return function Yn(We,at){const kt=We[at.payload.name],On=Object.create(null);for(const Wn in kt)Wn.indexOf(at.payload.value)<0&&(On[Wn]=kt[Wn]);return Object.assign({},We,{[at.payload.name]:On})}(We,at);default:return We}},auth:function Ri(We=_i,at){switch(at.type){case Tt.sS.AUTHENTICATE:return Object.assign({},We,{error:void 0,loading:!0,info:void 0});case Tt.sS.AUTHENTICATED:return Object.assign({},We,{loading:!0,blocking:!0});case Tt.sS.CHECK_AUTHENTICATION_TOKEN:case Tt.sS.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},We,{loading:!0});case Tt.sS.SET_AUTH_COOKIE_STATUS:return Object.assign({},We,{externalAuth:at.payload});case Tt.sS.AUTHENTICATED_ERROR:case Tt.sS.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},We,{authenticated:!1,authToken:void 0,error:at.payload.message,loaded:!0,blocking:!1,loading:!1});case Tt.sS.AUTHENTICATED_SUCCESS:return Object.assign({},We,{authenticated:!0,authToken:at.payload.authToken});case Tt.sS.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},We,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:at.payload});case Tt.sS.AUTHENTICATE_ERROR:return Object.assign({},We,{authenticated:!1,authToken:void 0,error:at.payload.message,blocking:!1,loading:!1});case Tt.sS.AUTHENTICATE_SUCCESS:case Tt.sS.LOG_OUT:return We;case Tt.sS.LOG_OUT_ERROR:return Object.assign({},We,{authenticated:!0,error:at.payload.message});case Tt.sS.REFRESH_TOKEN_ERROR:return Object.assign({},We,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case Tt.sS.LOG_OUT_SUCCESS:return Object.assign({},We,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case Tt.sS.REDIRECT_AUTHENTICATION_REQUIRED:case Tt.sS.REDIRECT_TOKEN_EXPIRED:return Object.assign({},We,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:at.payload,userId:void 0});case Tt.sS.REFRESH_TOKEN:return Object.assign({},We,{refreshing:!0});case Tt.sS.REFRESH_TOKEN_SUCCESS:return Object.assign({},We,{authToken:at.payload,refreshing:!1,blocking:!1});case Tt.sS.ADD_MESSAGE:return Object.assign({},We,{info:at.payload});case Tt.sS.RESET_MESSAGES:return Object.assign({},We,{error:void 0,info:void 0});case Tt.sS.RETRIEVE_AUTH_METHODS:return Object.assign({},We,{loading:!0});case Tt.sS.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},We,{loading:!1,blocking:!1,authMethods:at.payload});case Tt.sS.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},We,{loading:!1,blocking:!1,authMethods:[new Oi.H(Nr.q.Password,0)]});case Tt.sS.SET_REDIRECT_URL:return Object.assign({},We,{redirectUrl:at.payload});case Tt.sS.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},We,{loading:!0,blocking:!0});case Tt.sS.SET_USER_AS_IDLE:return Object.assign({},We,{idle:!0});case Tt.sS.UNSET_USER_AS_IDLE:return Object.assign({},We,{idle:!1});case ve.H.REHYDRATE:return Object.assign({},We,{blocking:!0});default:return We}},"json/patch":function to(We=ai,at){switch(at.type){case zt.nQ.COMMIT_JSON_PATCH_OPERATIONS:return function qr(We,at){return(0,r.Uh)(We[at.payload.resourceType])&&We[at.payload.resourceType].commitPending?Object.assign({},We,{[at.payload.resourceType]:Object.assign({},We[at.payload.resourceType],{commitPending:!1})}):We}(We,at);case zt.nQ.FLUSH_JSON_PATCH_OPERATIONS:return function ln(We,at){if((0,r.Uh)(We[at.payload.resourceType])){let kt;return(0,r.pT)(at.payload.resourceId)?kt=(0,r.Uh)(We[at.payload.resourceType].children)&&(0,r.Uh)(We[at.payload.resourceType].children[at.payload.resourceId])?Object.assign({},We[at.payload.resourceType].children,{[at.payload.resourceId]:{body:We[at.payload.resourceType].children[at.payload.resourceId].body.filter(On=>On.timeCompleted>We[at.payload.resourceType].transactionStartTime)}}):We[at.payload.resourceType].children:(kt=We[at.payload.resourceType].children,Object.keys(kt).forEach(On=>{kt=Object.assign({},kt,{[On]:{body:kt[On].body.filter(Wn=>Wn.timeCompleted>We[at.payload.resourceType].transactionStartTime)}})})),Object.assign({},We,{[at.payload.resourceType]:Object.assign({},We[at.payload.resourceType],{children:kt,transactionStartTime:null})})}return We}(We,at);case zt.nQ.NEW_JSON_PATCH_ADD_OPERATION:case zt.nQ.NEW_JSON_PATCH_COPY_OPERATION:case zt.nQ.NEW_JSON_PATCH_MOVE_OPERATION:case zt.nQ.NEW_JSON_PATCH_REMOVE_OPERATION:case zt.nQ.NEW_JSON_PATCH_REPLACE_OPERATION:return function Zt(We,at){const kt=Object.assign({},We),On=function Kt(We,at,kt){return(0,r.Uh)(We[at])&&(0,r.Uh)(We[at].children)&&(0,r.Uh)(We[at].children[kt])&&(0,r.UE)(We[at].children[kt].body)}(kt,at.payload.resourceType,at.payload.resourceId)?kt[at.payload.resourceType].children[at.payload.resourceId].body:Array.of(),Wn=function _n(We,at,kt,On,Wn){const _r=Array.from(We);switch(at){case zt.nQ.NEW_JSON_PATCH_ADD_OPERATION:_r.push(bn({op:kn.add,path:kt,value:On}));break;case zt.nQ.NEW_JSON_PATCH_REPLACE_OPERATION:_r.push(bn({op:kn.replace,path:kt,value:On}));break;case zt.nQ.NEW_JSON_PATCH_REMOVE_OPERATION:_r.push(bn({op:kn.remove,path:kt}));break;case zt.nQ.NEW_JSON_PATCH_MOVE_OPERATION:_r.push(bn({op:kn.move,from:Wn,path:kt}))}return _r}(On,at.type,at.payload.path,(0,r.Uh)(at.payload.value)?at.payload.value:null,(0,r.Uh)(at.payload.from)?at.payload.from:null);return(0,r.Uh)(kt[at.payload.resourceType])&&(0,r.Uh)(kt[at.payload.resourceType].children)?Object.assign({},We,{[at.payload.resourceType]:Object.assign({},We[at.payload.resourceType],{children:Object.assign({},We[at.payload.resourceType].children,{[at.payload.resourceId]:{body:Wn}}),commitPending:!!(0,r.pT)(We[at.payload.resourceType].commitPending)&&We[at.payload.resourceType].commitPending})}):Object.assign({},We,{[at.payload.resourceType]:Object.assign({},{children:{[at.payload.resourceId]:{body:Wn}},transactionStartTime:null,commitPending:!1})})}(We,at);case zt.nQ.ROLLBACK_JSON_PATCH_OPERATIONS:return function Bi(We,at){return(0,r.Uh)(We[at.payload.resourceType])&&We[at.payload.resourceType].commitPending?Object.assign({},We,{[at.payload.resourceType]:Object.assign({},We[at.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):We}(We,at);case zt.nQ.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function Wi(We,at){return(0,r.Uh)(We[at.payload.resourceType])&&(0,r.Ft)(We[at.payload.resourceType].transactionStartTime)?Object.assign({},We,{[at.payload.resourceType]:Object.assign({},We[at.payload.resourceType],{transactionStartTime:at.payload.startTime,commitPending:!0})}):We}(We,at);case zt.nQ.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;default:return We}},metaTag:(We=Po,at)=>{switch(at.type){case Uo.j9.ADD:return((We,at)=>({tagsInUse:[...We.tagsInUse,at.payload]}))(We,at);case Uo.j9.CLEAR:return Object.assign({},Po);default:return We}},route:function li(We=xi,at){switch(at.type){case ct.Ei.RESET:return xi;case ct.Ei.SET_PARAMETERS:return So(We,at,"params");case ct.Ei.SET_QUERY_PARAMETERS:return So(We,at,"queryParams");case ct.Ei.ADD_PARAMETER:return Wr(We,at,"params");case ct.Ei.ADD_QUERY_PARAMETER:return Wr(We,at,"queryParams");case ct.Ei.SET_PARAMETER:return co(We,at,"params");case ct.Ei.SET_QUERY_PARAMETER:return co(We,at,"queryParams");default:return We}}};var uo=e(93583),ro=e(95445),ms=e(50401),_s=e(80852);let _o=(()=>{class We{parse(kt,On){console.log("request",kt,"data",On)}}return We.\u0275fac=function(kt){return new(kt||We)},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var Et=e(204),vn=e(7404),Le=e(6008),$e=e(91179),Ut=e(84461),pn=e(86435),rr=e(74304),Ar=e(90811),ti=e(59710),cr=e(32357),gi=e(62948);let ci=(()=>{class We extends cr.ry{constructor(kt){super(),this.objectCache=kt,this.objectFactory={},this.toCache=!1}parse(kt,On){return new gi.Ag(On.payload["discovery-query"],On.statusCode,On.statusText)}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject($.a))},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var Is,Fi=e(29442),yo=e(69552),zo=e(51424),vi=e(5453),Go=e(55491),di=e(84332),Yo=e(35071),go=e(99867),Ei=e(19427),Gi=e(75195),Yi=e(88539),Gr=e(85571),io=e(78187),Qo=e(62404),vo=e(10417),Si=e(97011),Xo=e(51703),bi=e(1053),ls=e(87589),Io=e(12857),xs=e(10844),Zo=e(88e3),dr=e(1535),Yr=e(38715),se=e(24347),he=e(6013),V=e(5378),De=e(66234),rt=e(61750),Wt=e(45123),Dn=e(75606),xt=e(18005),Un=e(37164),Zr=e(83297),ui=e(56035),Jr=e(13005),Ws=e(85878);let Vi=((Is=class extends rt.t{}).type=Ws.z,Is);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],Vi.prototype,"custom",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Vi.prototype,"text",void 0),Vi=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],Vi);var Ni,ra=e(34969),cs=e(27496),Ks=e(58055),Ls=e(57066),Ui=e(14537);let Qi=((Ni=class extends rt.t{}).type=Ui.E,Ni);Qi=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],Qi);var Es,oo=e(4802),gs=e(54384),Li=e(31638),Vs=e(11915),Jo=e(73716),Rr=e(53597),ni=e(956),wo=e(46342),Gn=e(98226),pa=e(7258),Qs=e(7306),Bs=e(28920),qo=e(3026),Ts=e(74614),so=e(15469),To=e(39034),ha=e(39100),Hi=e(43550),Hs=e(33895),Xi=e(3798),Xs=e(51275),fi=e(23337),vs=e(92866),ri=e(99558);let ao=((Es=class extends rt.t{}).type=Xs.q,Es);var es;(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],ao.prototype,"_links",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ao.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],ao.prototype,"version",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ao.prototype,"summary",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ao.prototype,"submitterName",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Date)],ao.prototype,"created",void 0),(0,W.__decorate)([Xi.OJ,(0,ce.p4)(fi.h),(0,W.__metadata)("design:type",oe.y)],ao.prototype,"versionhistory",void 0),(0,W.__decorate)([Xi.OJ,(0,ce.p4)(vs.B),(0,W.__metadata)("design:type",oe.y)],ao.prototype,"item",void 0),(0,W.__decorate)([Xi.OJ,(0,ce.p4)(ri.U),(0,W.__metadata)("design:type",oe.y)],ao.prototype,"eperson",void 0),ao=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],ao);let ys=((es=class extends rt.t{}).type=fi.h,es);(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],ys.prototype,"_links",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ys.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ys.prototype,"summary",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ys.prototype,"submitterName",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],ys.prototype,"draftVersion",void 0),(0,W.__decorate)([Xi.OJ,(0,ce.p4)(Xs.q,!0),(0,W.__metadata)("design:type",oe.y)],ys.prototype,"versions",void 0),ys=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],ys);var Be,fa=e(23229),ma=e(35399),As=e(97920),_a=e(75286),va=e(62460),ge=e(26711);let ye=((Be=class extends rt.t{}).type=ge.j,Be);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ye.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],ye.prototype,"options",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],ye.prototype,"advanced",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],ye.prototype,"advancedOptions",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],ye.prototype,"advancedInfo",void 0),ye=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],ye);var ze=e(84803),_t=e(26523);const an=new _t._("itemtemplate");var zn,mn=e(23832);let Or=((zn=class extends Jr.c{}).type=an,zn);(0,W.__decorate)([(0,ce.p4)(mn.d),(0,W.__metadata)("design:type",oe.y)],Or.prototype,"templateItemOf",void 0),Or=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(Jr.c)],Or);const wr=new _t._("feature");var ir;let Cr=((ir=class extends rt.t{}).type=wr,ir);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Cr.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Cr.prototype,"description",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Cr.prototype,"resourcetypes",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Cr.prototype,"_links",void 0),Cr=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],Cr);var Vr,Pi=e(15132);let pi=((Vr=class extends rt.t{}).type=Pi.e,Vr);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],pi.prototype,"id",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],pi.prototype,"_links",void 0),(0,W.__decorate)([(0,ce.p4)(ri.U),(0,W.__metadata)("design:type",oe.y)],pi.prototype,"eperson",void 0),(0,W.__decorate)([(0,ce.p4)(wr),(0,W.__metadata)("design:type",oe.y)],pi.prototype,"feature",void 0),(0,W.__decorate)([(0,ce.p4)(vs.B),(0,W.__metadata)("design:type",oe.y)],pi.prototype,"object",void 0),pi=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(rt.t)],pi);var ki,ts=e(23684),xr=e(1411);let po=((ki=class extends ts.B{constructor(at,kt,On,Wn){super("features",at,kt,On,Wn),this.requestService=at,this.rdbService=kt,this.objectCache=On,this.halService=Wn,this.linkPath="features"}}).\u0275fac=function(at){return new(at||ki)(_.\u0275\u0275inject(Je.s),_.\u0275\u0275inject(j.Q),_.\u0275\u0275inject($.a),_.\u0275\u0275inject(xt.q))},ki.\u0275prov=_.\u0275\u0275defineInjectable({token:ki,factory:ki.\u0275fac}),ki);po=(0,W.__decorate)([(0,xr.cQ)(wr),(0,W.__metadata)("design:paramtypes",[Je.s,j.Q,$.a,xt.q])],po);var Ii=e(73737),zr=e(14760),ns=e(2034),Us=e(54916);let Fo=(()=>{class We{parse(kt,On){return(0,r.UE)(On.payload)&&(0,r.UE)(On.payload.token)&&200===On.statusCode?new gi.N8(On.payload.token,!0,On.statusCode,On.statusText):new gi.N8(null,!1,On.statusCode,On.statusText)}}return We.\u0275fac=function(kt){return new(kt||We)},We.\u0275prov=_.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac}),We})();var $i,Ea=e(23266),ds=e(73604),ks=e(62229);let Qr=(($i=class extends ds.g{}).type=ks.z,$i);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],Qr.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Qr.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Qr.prototype,"name",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Qr.prototype,"fields",void 0),Qr=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ds.g)],Qr);var yi,ho=e(85691);let ii=((yi=class extends ds.g{}).type=ho.S,yi);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],ii.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],ii.prototype,"url",void 0),ii=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ds.g)],ii);var Co,Kr=e(29353),No=e(22726),ws=e(72764);let Ci=((Co=class{}).type=ws.kB,Co);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Ci.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Ci.prototype,"name",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],Ci.prototype,"scrollable",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],Ci.prototype,"hierarchical",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Object)],Ci.prototype,"preloadLevel",void 0),(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",Object)],Ci.prototype,"type",void 0),(0,W.__decorate)([(0,ce.p4)(ws.eU,!0),(0,W.__metadata)("design:type",oe.y)],Ci.prototype,"entries",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Ci.prototype,"_links",void 0),Ci=(0,W.__decorate)([ce.KB],Ci);var Ao,Eo=e(88666),fo=e(59600),Fs=e(73194),Cs=e(21247);let Zi=((Ao=class{}).type=Cs.o,Ao);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],Zi.prototype,"type",void 0),(0,W.__decorate)([(0,ie.autoserializeAs)(String,"name"),(0,W.__metadata)("design:type",String)],Zi.prototype,"uuid",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Zi.prototype,"name",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Zi.prototype,"values",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Zi.prototype,"_links",void 0),Zi=(0,W.__decorate)([ce.KB],Zi);var Rs=e(29949),ia=e(38043),Oa=e(2485),$s=e(26112),Ma=e(33281);const Sa=new _t._("shortlivedtoken");var Zs;let Ds=((Zs=class{}).type=Sa,Zs);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],Ds.prototype,"type",void 0),(0,W.__decorate)([(0,ie.autoserializeAs)("token"),(0,W.__metadata)("design:type",String)],Ds.prototype,"value",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Ds.prototype,"_links",void 0),Ds=(0,W.__decorate)([ce.KB],Ds);var Ro,oa=e(80265),sa=e(26994),rs=e(92905);let xo=((Ro=class{}).type=rs.D,Ro);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],xo.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],xo.prototype,"dspaceUI",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],xo.prototype,"dspaceName",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],xo.prototype,"dspaceServer",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],xo.prototype,"dspaceVersion",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],xo.prototype,"_links",void 0),xo=(0,W.__decorate)([ce.KB],xo);const Do=new _t._("discover");var aa;let Ji=((aa=class{}).type=Do,aa);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],Ji.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Ji.prototype,"filters",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Ji.prototype,"sortOptions",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",_t._)],Ji.prototype,"type",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Ji.prototype,"_links",void 0),Ji=(0,W.__decorate)([ce.KB],Ji);var Hr,Oo=e(97029),Js=e(30303);let jo=((Hr=class extends ne.E{}).type=K.MX,Hr);var is;(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],jo.prototype,"accessConditionOptions",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],jo.prototype,"discoverable",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],jo.prototype,"canChangeDiscoverable",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],jo.prototype,"_links",void 0),jo=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ne.E)],jo);let Os=((is=class extends jo{}).type=K.MX,is);Os=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(jo)],Os);const Wo=new _t._("ratingrevieweraction"),ya=new _t._("selectrevieweraction");class lo{}var Ms;(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],lo.prototype,"id",void 0);let He=((Ms=class extends lo{}).type=Wo,Ms);var fe;(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Boolean)],He.prototype,"descriptionRequired",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],He.prototype,"maxValue",void 0),He=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(lo)],He);let de=((fe=class extends lo{}).type=ya,fe);(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],de.prototype,"group",void 0),de=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(lo)],de);var N,Te=e(3101);let X=((N=class{}).type=Te.Q,N);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],X.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],X.prototype,"status",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],X.prototype,"_links",void 0),X=(0,W.__decorate)([ce.KB],X);var vr,G=e(90053),le=e(74770),Me=e(81576),Fe=e(26316),Xe=e(70240),Lt=e(65570),un=e(17842),wn=e(46373),Kn=e(99449);let or=((vr=class extends Kn.X{}).type=wn.R,vr);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],or.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],or.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],or.prototype,"description",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],or.prototype,"profileItemId",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],or.prototype,"entityId",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],or.prototype,"recordType",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],or.prototype,"operation",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],or.prototype,"_links",void 0),or=(0,W.__decorate)([ce.KB],or);var qi,Ko=e(87971);let wi=((qi=class extends Kn.X{}).type=Ko.g,qi);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],wi.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],wi.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],wi.prototype,"entityName",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],wi.prototype,"profileItemId",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],wi.prototype,"entityId",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],wi.prototype,"entityType",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Number)],wi.prototype,"status",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],wi.prototype,"putCode",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],wi.prototype,"_links",void 0),wi=(0,W.__decorate)([ce.KB],wi);var Ta,zi=e(90285),Ca=e(48589),zs=e(81257),qs=e(64752);let Ss=((Ta=class{}).type=qs.s,Ta);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],Ss.prototype,"type",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],Ss.prototype,"identifiers",void 0),(0,W.__decorate)([ie.deserialize,(0,W.__metadata)("design:type",Object)],Ss.prototype,"_links",void 0),Ss=(0,W.__decorate)([ce.KB],Ss);var qa,Aa=e(18203),la=e(59105),Ra=e(51885),Ns=e(45097),ba=e(74347),xa=e(67461),ca=e(2866);let us=((qa=class extends ne.E{}).type=K.l9,qa);(0,W.__decorate)([Xi.OJ,ie.autoserialize,(0,W.__metadata)("design:type",_t._)],us.prototype,"type",void 0),(0,W.__decorate)([(0,ie.autoserializeAs)(String,"name"),(0,W.__metadata)("design:type",String)],us.prototype,"uuid",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",String)],us.prototype,"id",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],us.prototype,"itemAccessConditionOptions",void 0),(0,W.__decorate)([ie.autoserialize,(0,W.__metadata)("design:type",Array)],us.prototype,"bitstreamAccessConditionOptions",void 0),us=(0,W.__decorate)([ce.KB,(0,ie.inheritSerialization)(ne.E)],us);const Va=[t.ez,i.Aw.forFeature("core",as,ha.z7),a.sQ.forFeature(Pn)],st=[g.J,ms.w,ro.W,Ei.a,Le.j,{provide:y,useValue:O},{provide:m.Y,useFactory:(We,at)=>S.N.production?new m.Y(at):new b(We,at),deps:[y,n.eN]},Gi.k,le.U,xt.q,l.I,Fi.S,Si.D,$.a,C.r,Yo.I,Xo.k,uo.O,j.Q,Ut.q,ti.N,Ar.L,_o,go.g,zo.B,Io.N,L.I,G.A,Ea.I,Kr.K,Oe.X,Rr.F,Jo.pw,Vs.E,io.w,oo._,o.T,wo.p,ni.K,$e.D,Fs.i,vn.o,Et.v,so.g,M.z,p.h,vi.d,Ls.o,di.U,d.o,bi.N,Ts.T,Gn.p,qo.N,To.J,pn.k,_s.F,ze.w,Ls.o,T.P,Ks.nJ,Ks.nJ,cs.U,D.w,Go.X,rr.G,yo.P,Hi._,Hs.Q,va.Q,As.n,_a.UY,po,Rt._,Ii.X,Ma.C,ns.$,Us.c,Fo,Rs.w,ia.J,Oa.J,$s.u4,sa.d,o.T,ci,{provide:xs.DC,useFactory:xs.VC},fo.c,Ca.K,zs.I,Oo.m,Js.O,ls.J,Me.E,Fe.n,zi.m,Lt.I,un.p,la.m],Se=[xo,rt.t,he.b,dr.Z,Zo.A,Jr.c,Qi,V.F,De.S,Yi.T,Gr.Z,ra.A,vo.B,Qo.b,Vi,gs.p,Li.K,Qr,ii,z.Y,re.D,Q,Ee,U.t,se.g,Yr.D,ca.$,ba.R,xa.w,Ns.q,pa.q,Bs.A,Qs.d,ui.W,Zr.n,Un.q,Dn.p,Wt.T,fa.X,ma.A,ao,ys,ye,lo,He,de,Or,Cr,pi,zr.Y,Ci,No.j,Eo.w,Zi,Ds,zr.Y,oa.O,xo,Ji,Os,X,Xe.T,or,wi,X,Ss,Aa.w,Ra.s,us];let Ft=(()=>{class We{constructor(kt){if((0,r.UE)(kt))throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:We,providers:[...st]}}}return We.\u0275fac=function(kt){return new(kt||We)(_.\u0275\u0275inject(We,12))},We.\u0275mod=_.\u0275\u0275defineNgModule({type:We}),We.\u0275inj=_.\u0275\u0275defineInjector({providers:[...st],imports:[Va]}),We})()},68671:(R,c,e)=>{"use strict";e.d(c,{v:()=>n});const n=(0,e(89702).ZF)("core")},90053:(R,c,e)=>{"use strict";e.d(c,{A:()=>_});var m,t=e(70655),n=e(16066),a=e(55624),i=e(18005),d=e(6952),r=e(3101),l=e(23684),p=e(1411),h=e(98678);let _=((m=class extends l.B{constructor(y,O,S,b){super("accessStatus",y,O,S,b),this.requestService=y,this.rdbService=O,this.objectCache=S,this.halService=b}findAccessStatusFor(y){return this.findByHref(y._links.accessStatus.href)}}).\u0275fac=function(y){return new(y||m)(h.\u0275\u0275inject(d.s),h.\u0275\u0275inject(n.Q),h.\u0275\u0275inject(a.a),h.\u0275\u0275inject(i.q))},m.\u0275prov=h.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m);_=(0,t.__decorate)([(0,p.cQ)(r.Q),(0,t.__metadata)("design:paramtypes",[d.s,n.Q,a.a,i.q])],_)},15469:(R,c,e)=>{"use strict";e.d(c,{g:()=>i});var t=e(68650),n=e(45608),a=e(98678);let i=(()=>{class d{diff(l,p){return this.getMoves(l,p).map(h=>Object.assign({op:"move",from:"/"+h[0],path:"/"+h[1]}))}getMoves(l,p){const h=[...p];return l.reduce((m,_,v)=>{if((0,n.Uh)(_)&&_!==h[v]){const y=h.lastIndexOf(_);(0,t.bA)(h,y,v),m.unshift([v,y])}return m},[])}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d})()},32357:(R,c,e)=>{"use strict";e.d(c,{ry:()=>h});var t=e(45608),n=e(71476),a=e(87483),i=e(20942),d=e(65804),r=e(76774);function l(m){return(0,t.UE)(m._links)&&(0,t.Uh)(m._links.self)}function p(m){return(0,t.Uh)(m.page)&&(0,t.Uh)(m.page.size)&&(0,t.Uh)(m.page.totalElements)&&(0,t.Uh)(m.page.totalPages)&&(0,t.Uh)(m.page.number)}class h{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=n.F}process(_,v,y){if((0,t.UE)(_)){if((0,t.xI)(_)||"object"!=typeof _)return _;if(p(_))return this.processPaginatedList(_,v);if(Array.isArray(_))return this.processArray(_,v);if(l(_)){const S=this.deserialize(_);return(0,t.UE)(_._embedded)&&Object.keys(_._embedded).filter(b=>_._embedded.hasOwnProperty(b)).forEach(b=>{const o=this.process(_._embedded[b],v,_._links[b].href);(0,t.Uh)(S)&&this.shouldDirectlyAttachEmbeds&&(0,t.UE)(o)&&(p(_._embedded[b])?(S[b]=o,S[b].page=o.page.map(D=>this.retrieveObjectOrUrl(D))):l(_._embedded[b])?S[b]=this.retrieveObjectOrUrl(o):Array.isArray(o)&&(S[b]=o.map(D=>this.retrieveObjectOrUrl(D))))}),this.cache(S,v,_,y),S}const O={};return Object.keys(_).filter(S=>_.hasOwnProperty(S)).filter(S=>(0,t.Uh)(_[S])).forEach(S=>{O[S]=this.process(_[S],v)}),O}}processPaginatedList(_,v){const y=this.processPageInfo(_);let O=_._embedded;(0,t.xI)(O)?O=[]:Array.isArray(O)||(O=this.flattenSingleKeyObject(O));const S=this.processArray(O,v);return(0,i.b)(y,S)}processArray(_,v){let y=[];return _.forEach(O=>{y=[...y,this.process(O,v)]}),y}deserialize(_){const v=_.type;if((0,t.Uh)(v)){const y=(0,d.w2)(v);return(0,t.Uh)(y)?new this.serializerConstructor(y).deserialize(_):(console.warn("cannot deserialize type "+v),null)}return console.warn("cannot deserialize type "+v),null}cache(_,v,y,O){this.toCache&&this.addToObjectCache(_,v,y,O)}addToObjectCache(_,v,y,O){if((0,t.xI)(_)||(0,t.xI)(_._links)||(0,t.xI)(_._links.self)||(0,t.xI)(_._links.self.href)){const S=(0,t.Uh)(y)&&(0,t.Uh)(y.type)?y.type:"object";let b;return b=(0,t.Uh)(y._embedded)?JSON.stringify(Object.assign({},y,{_embedded:"..."})):JSON.stringify(y),void console.warn(`Can't cache incomplete ${S}: ${JSON.stringify(_)}, parsed from (partial) response: ${b}`)}this.objectCache.add(_,(0,t.Uh)(v.responseMsToLive)?v.responseMsToLive:r.N.cache.msToLive.default,v.uuid,O)}processPageInfo(_){if((0,t.Uh)(_.page)){const v=Object.assign({},_.page,{_links:_._links}),y=new n.F(a.S).deserialize(v);return y.currentPage>=0&&Object.assign(y,{currentPage:y.currentPage+1}),y}}flattenSingleKeyObject(_){const v=Object.keys(_);if(1!==v.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(_)}`);return _[v[0]]}retrieveObjectOrUrl(_){return this.toCache?_._links.self.href:_}isSuccessStatus(_){return _>=200&&_<300}}},23684:(R,c,e)=>{"use strict";e.d(c,{B:()=>D});var t=e(9237),n=e(1330),a=e(14111),i=e(27303),d=e(77176),r=e(48358),l=e(77025),p=e(58886);function h(M){return(0,l.e)((C,T)=>{let g=!1,U=0;C.subscribe((0,p.x)(T,L=>(g||(g=!M(L,U++)))&&T.next(L)))})}var m=e(21160),_=e(69637),v=e(91519),y=e(45608),O=e(65521),S=e(96526),b=e(10572);class D{constructor(C,T,g,U,L,j){this.linkPath=C,this.requestService=T,this.rdbService=g,this.objectCache=U,this.halService=L,this.responseMsToLive=j}getBrowseEndpoint(C={},T){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(C,T,g=[],...U){let L=[...g];return(0,y.Uh)(T.currentPage)&&"number"==typeof T.currentPage&&(L=this.addHrefArg(C,L,"page="+(T.currentPage-1))),(0,y.Uh)(T.elementsPerPage)&&(L=this.addHrefArg(C,L,`size=${T.elementsPerPage}`)),(0,y.Uh)(T.sort)&&(L=this.addHrefArg(C,L,`sort=${T.sort.field},${T.sort.direction}`)),(0,y.Uh)(T.startsWith)&&(L=this.addHrefArg(C,L,`startsWith=${T.startsWith}`)),(0,y.Uh)(T.searchParams)&&T.searchParams.forEach(j=>{L=this.addHrefArg(C,L,`${j.fieldName}=${j.fieldValue}`)}),L=this.addEmbedParams(C,L,...U),(0,y.UE)(L)?new O.R(C,`?${L.join("&")}`).toString():C}buildHrefWithParams(C,T,...g){let U=[];return(0,y.Uh)(T)&&T.forEach(L=>{U=this.addHrefArg(C,U,`${L.fieldName}=${L.fieldValue}`)}),U=this.addEmbedParams(C,U,...g),(0,y.UE)(U)?new O.R(C,`?${U.join("&")}`).toString():C}addEmbedParams(C,T,...g){return g.forEach(U=>{if((0,y.Uh)(U)&&U.shouldEmbed){const L="embed="+String(U.name);(0,y.Uh)(U.findListOptions)&&(0,y.Uh)(U.findListOptions.elementsPerPage)&&(T=this.addHrefArg(C,T,"embed.size="+String(U.name)+"="+U.findListOptions.elementsPerPage)),T=(0,y.UE)(U.linksToFollow)?this.addNestedEmbeds(L,C,T,...U.linksToFollow):this.addHrefArg(C,T,L)}}),T}addHrefArg(C,T,g){return C.includes(g)||T.includes(g)?[...T]:[...T,g]}addNestedEmbeds(C,T,g,...U){let L=C;return U.forEach(j=>{if((0,y.Uh)(j)&&j.shouldEmbed){if(L=L+"%2F"+String(j.name),(0,y.Uh)(j.findListOptions)&&(0,y.Uh)(j.findListOptions.elementsPerPage)){const $="embed.size="+L.split("=")[1]+"="+j.findListOptions.elementsPerPage;g=this.addHrefArg(T,g,$)}g=(0,y.Uh)(j.linksToFollow)&&(0,y.UE)(j.linksToFollow)?this.addNestedEmbeds(L,T,g,...j.linksToFollow):this.addHrefArg(T,g,L)}}),g}reRequestStaleRemoteData(C,T){return g=>!0===C?g.pipe((0,i.b)(U=>{(0,y.Uh)(U)&&U.isStale&&T()})):g}findByHref(C,T=!0,g=!0,...U){"string"==typeof C&&(C=(0,t.of)(C));const L=C.pipe((0,y.iy)(),(0,d.q)(1),(0,r.U)(j=>this.buildHrefFromFindOptions(j,{},[],...U)));return this.createAndSendGetRequest(L,T),this.rdbService.buildSingle(L,...U).pipe(h(j=>T?j.isStale:j.hasCompleted),this.reRequestStaleRemoteData(g,()=>this.findByHref(C,T,g,...U)))}findListByHref(C,T={},g=!0,U=!0,...L){"string"==typeof C&&(C=(0,t.of)(C));const j=C.pipe((0,y.iy)(),(0,d.q)(1),(0,r.U)($=>this.buildHrefFromFindOptions($,T,[],...L)));return this.createAndSendGetRequest(j,g),this.rdbService.buildList(j,...L).pipe(h($=>g?$.isStale:$.hasCompleted),this.reRequestStaleRemoteData(U,()=>this.findListByHref(C,T,g,U,...L)))}createAndSendGetRequest(C,T=!0){(0,y.UE)(C)&&("string"==typeof C&&(C=(0,t.of)(C)),C.pipe((0,y.iy)(),(0,d.q)(1)).subscribe(g=>{const U=this.requestService.generateRequestId(),L=new S.Gl(U,g);(0,y.Uh)(this.responseMsToLive)&&(L.responseMsToLive=this.responseMsToLive),this.requestService.send(L,T)}))}hasCachedResponse(C){if((0,y.UE)(C))return"string"==typeof C&&(C=(0,t.of)(C)),C.pipe((0,y.iy)(),(0,d.q)(1),(0,r.U)(T=>{const g=this.requestService.generateRequestId(),U=new S.Gl(g,T);return!this.requestService.shouldDispatchRequest(U,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(C){return this.hasCachedResponse(C).pipe((0,m.w)(T=>T?this.rdbService.buildSingle(C).pipe((0,b.hC)(),(0,r.U)(g=>g.hasFailed)):(0,t.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(C,T){this.objectCache.addDependency(C.pipe((0,b.hC)(),(0,m.w)(g=>g.hasSucceeded?[g.payload._links.self.href]:[void 0])),T)}invalidateByHref(C){const T=new n.c;return this.objectCache.getByHref(C).pipe((0,d.q)(1),(0,m.w)(g=>(0,a.D)([...g.requestUUIDs,...g.dependentRequestUUIDs]).pipe((0,_.z)(U=>this.requestService.setStaleByUUID(U)),(0,v.q)()))).subscribe(()=>{this.objectCache.removeDependents(C),T.next(!0),T.complete()}),T}}},74246:(R,c,e)=>{"use strict";e.d(c,{K:()=>_});var t=e(23684),n=e(45608),a=e(49887),i=e(48358),d=e(77176),r=e(64793),l=e(71476),p=e(65804),h=e(96526),m=e(41272);class _ extends t.B{constructor(y,O,S,b,o,D,M){super(y,O,S,b,o,M),this.linkPath=y,this.requestService=O,this.rdbService=S,this.objectCache=b,this.halService=o,this.notificationsService=D,this.responseMsToLive=M}create(y,...O){const S=this.getEndpoint().pipe((0,n.iy)(),(0,a.x)(),(0,i.U)(b=>this.buildHrefWithParams(b,O)));return this.createOnEndpoint(y,S)}createOnEndpoint(y,O){const S=this.requestService.generateRequestId(),b=new l.F((0,p.w2)(y.type)).serialize(y);O.pipe((0,d.q)(1)).subscribe(D=>{const M=new h.Fo(S,D,JSON.stringify(b));(0,n.Uh)(this.responseMsToLive)&&(M.responseMsToLive=this.responseMsToLive),this.requestService.send(M)});const o=this.rdbService.buildFromRequestUUID(S);return o.pipe((0,r.o)(D=>D.isLoading,!0)).subscribe(D=>{D.hasFailed&&this.notificationsService.error("Server Error:",D.errorMessage,new m.n(-1))}),o}}},1411:(R,c,e)=>{"use strict";e.d(c,{II:()=>a,cQ:()=>d,p:()=>r});var t=e(98678),n=e(45608);const a=new t.InjectionToken("getDataServiceFor",{providedIn:"root",factory:()=>r}),i=new Map;function d(l){return p=>{if((0,n.xI)(l))throw new Error(`Invalid @dataService annotation on ${p}, resourceType needs to be defined`);const h=i.get(l.value);if((0,n.Uh)(h))throw new Error(`Multiple dataservices for ${l.value}: ${h} and ${p}`);i.set(l.value,p)}}function r(l){return i.get(l.value)}},30828:(R,c,e)=>{"use strict";e.d(c,{R:()=>d});var t=e(21160),n=e(96526),a=e(45608),i=e(14246);class d extends i.t{constructor(l,p,h,m,_,v,y,O){if(super(l,p,h,m,_,y,O),this.linkPath=l,this.requestService=p,this.rdbService=h,this.objectCache=m,this.halService=_,this.notificationsService=v,this.responseMsToLive=y,this.constructIdEndpoint=O,(0,a.xI)(O))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${l})`)}delete(l,p){return this.getIDHrefObs(l).pipe((0,t.w)(h=>this.deleteByHref(h,p)))}deleteByHref(l,p){const h=this.requestService.generateRequestId();p&&p.forEach(_=>l+=(l.includes("?")?"&":"?")+"copyVirtualMetadata="+_);const m=new n.jx(h,l);return(0,a.Uh)(this.responseMsToLive)&&(m.responseMsToLive=this.responseMsToLive),this.requestService.send(m),this.rdbService.buildFromRequestUUIDAndAwait(h,()=>this.invalidateByHref(l))}}},54254:(R,c,e)=>{"use strict";e.d(c,{k:()=>r});var t=e(23684),n=e(77007),a=e(48358),i=e(49887),d=e(45608);class r extends t.B{constructor(p,h,m,_,v,y){super(p,h,m,_,v,y),this.linkPath=p,this.requestService=h,this.rdbService=m,this.objectCache=_,this.halService=v,this.responseMsToLive=y}findAll(p={},h=!0,m=!0,..._){return this.findListByHref(this.getFindAllHref(p),p,h,m,..._)}getFindAllHref(p={},h,...m){let _;const v=[];return _=this.getBrowseEndpoint(p).pipe((0,n.h)(y=>(0,d.UE)(y)),(0,a.U)(y=>(0,d.UE)(h)?`${y}/${h}`:y),(0,i.x)()),_.pipe((0,a.U)(y=>this.buildHrefFromFindOptions(y,p,v,...m)))}}},14246:(R,c,e)=>{"use strict";e.d(c,{t:()=>i});var t=e(48358),n=e(23684);const a=(d,r)=>`${d}/${r}`;class i extends n.B{constructor(r,l,p,h,m,_,v=a){super(r,l,p,h,m,_),this.linkPath=r,this.requestService=l,this.rdbService=p,this.objectCache=h,this.halService=m,this.responseMsToLive=_,this.constructIdEndpoint=v}findById(r,l=!0,p=!0,...h){const m=this.getIDHrefObs(encodeURIComponent(r),...h);return this.findByHref(m,l,p,...h)}getIDHref(r,l,...p){return this.buildHrefFromFindOptions(this.constructIdEndpoint(r,l),{},[],...p)}getIDHrefObs(r,...l){return this.getEndpoint().pipe((0,t.U)(p=>this.getIDHref(p,r,...l)))}}},7766:(R,c,e)=>{"use strict";e.d(c,{B:()=>p});var t=e(48358),n=e(66154),a=e(69637),i=e(45608),d=e(96526),r=e(10572),l=e(14246);class p extends l.t{constructor(m,_,v,y,O,S,b,o){if(super(m,_,v,y,O,b,o),this.linkPath=m,this.requestService=_,this.rdbService=v,this.objectCache=y,this.halService=O,this.comparator=S,this.responseMsToLive=b,this.constructIdEndpoint=o,(0,i.xI)(o))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${m})`)}patch(m,_){const v=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.U)(O=>this.getIDHref(O,m.uuid))).pipe((0,n.s)(O=>(0,i.Uh)(O))).subscribe(O=>{const S=new d._x(v,O,_);(0,i.Uh)(this.responseMsToLive)&&(S.responseMsToLive=this.responseMsToLive),this.requestService.send(S)}),this.rdbService.buildFromRequestUUIDAndAwait(v,()=>this.invalidateByHref(m._links.self.href))}update(m){return this.createPatchFromCache(m).pipe((0,a.z)(_=>((0,i.UE)(_)&&this.objectCache.addPatch(m._links.self.href,_),this.findByHref(m._links.self.href,!0,!0))))}commitUpdates(m){this.requestService.commit(m)}createPatchFromCache(m){return this.findByHref(m._links.self.href,!0,!1).pipe((0,r.xw)(),(0,r.xe)(),(0,t.U)(v=>this.comparator.diff(v,m)))}}},49998:(R,c,e)=>{"use strict";e.d(c,{E:()=>d});var t=e(23684),n=e(71476),a=e(96526),i=e(45608);class d extends t.B{constructor(l,p,h,m,_,v){super(l,p,h,m,_,v),this.linkPath=l,this.requestService=p,this.rdbService=h,this.objectCache=m,this.halService=_,this.responseMsToLive=v}put(l){const p=this.requestService.generateRequestId(),h=new n.F(l.constructor).serialize(l),m=new a.an(p,l._links.self.href,h);return(0,i.Uh)(this.responseMsToLive)&&(m.responseMsToLive=this.responseMsToLive),this.requestService.send(m),this.rdbService.buildFromRequestUUID(p)}}},29908:(R,c,e)=>{"use strict";e.d(c,{l:()=>r});var t=e(23684),n=e(48358),a=e(77007),i=e(45608);const d=(l,p)=>`${l}/search/${p}`;class r extends t.B{constructor(p,h,m,_,v,y,O=d){if(super(p,h,m,_,v,y),this.linkPath=p,this.requestService=h,this.rdbService=m,this.objectCache=_,this.halService=v,this.responseMsToLive=y,this.constructSearchEndpoint=O,(0,i.xI)(O))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${p})`)}searchBy(p,h={},m=!0,_=!0,...v){const y=this.getSearchByHref(p,h,...v);return this.findListByHref(y,void 0,m,_,...v)}getSearchByHref(p,h={},...m){let _;const v=[];return _=this.getSearchEndpoint(p),_.pipe((0,n.U)(y=>this.buildHrefFromFindOptions(y,h,v,...m)))}getSearchEndpoint(p){return this.halService.getEndpoint(this.linkPath).pipe((0,a.h)(h=>(0,i.UE)(h)),(0,n.U)(h=>this.constructSearchEndpoint(h,p)))}}},39034:(R,c,e)=>{"use strict";e.d(c,{J:()=>ce});var ie,t=e(70655),n=e(78964),a=e(53426),i=e(21160),d=e(48358),r=e(77176),l=e(66154),p=e(45608),h=e(16066),m=e(55624),_=e(96893),v=e(18005),y=e(8830),O=e(20942),S=e(96526),b=e(6952),o=e(93583),D=e(41121),M=e(87483),C=e(5803),T=e(56190),g=e(29908),U=e(7766),L=e(7404),j=e(30828),$=e(65384),z=e(14246),re=e(1411),W=e(98678);let ce=((ie=class extends z.t{constructor(K,w,Q,oe,q,ee,J,Ee){super("bitstreams",K,w,Q,oe),this.requestService=K,this.rdbService=w,this.objectCache=Q,this.halService=oe,this.bundleService=q,this.bitstreamFormatService=ee,this.comparator=J,this.notificationsService=Ee,this.searchData=new g.l(this.linkPath,K,w,Q,oe,this.responseMsToLive),this.patchData=new U.B(this.linkPath,K,w,Q,oe,J,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new j.R(this.linkPath,K,w,Q,oe,Ee,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(K,w,Q=!0,oe=!0,...q){return this.findListByHref(K._links.bitstreams.href,w,Q,oe,...q)}findAllByItemAndBundleName(K,w,Q,oe=!0,q=!0,...ee){return this.bundleService.findByItemAndName(K,w).pipe((0,i.w)(J=>J.hasSucceeded&&(0,p.Uh)(J.payload)?this.findAllByBundle(J.payload,Q,oe,q,...ee):J.hasSucceeded||404!==J.statusCode?[J]:(0,D.uV)((0,O.b)(new M.S,[]),(new Date).getTime())))}updateFormat(K,w){const Q=this.requestService.generateRequestId(),oe=this.getBrowseEndpoint().pipe((0,d.U)(ee=>`${ee}/${K.id}`),(0,i.w)(ee=>this.halService.getEndpoint("format",ee))),q=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,d.U)(ee=>`${ee}/${w.id}`));return(0,a.a)([oe,q]).pipe((0,d.U)(([ee,J])=>{const Ee=Object.create({});let Oe=new n.WM;return Oe=Oe.append("Content-Type","text/uri-list"),Ee.headers=Oe,new S.an(Q,ee,J,Ee)}),(0,T.wG)(this.requestService),(0,r.q)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(K.self+"/format")}),this.rdbService.buildFromRequestUUID(Q)}findByItemHandle(K,w,Q,oe=!0,q=!0,...ee){const J=[];J.push(new C.g("handle",K)),(0,p.Uh)(w)&&J.push(new C.g("sequenceId",w)),(0,p.Uh)(Q)&&J.push(new C.g("filename",Q));const Ee=this.getSearchByHref("byItemHandle",{searchParams:J},...ee);return this.findByHref(Ee,oe,q,...ee)}getSearchByHref(K,w,...Q){return this.searchData.getSearchByHref(K,w,...Q)}searchBy(K,w,Q,oe,...q){return this.searchData.searchBy(K,w,Q,oe,...q)}commitUpdates(K){this.patchData.commitUpdates(K)}patch(K,w){return this.patchData.patch(K,w)}update(K){return this.patchData.update(K)}createPatchFromCache(K){return this.patchData.createPatchFromCache(K)}delete(K,w){return this.deleteData.delete(K,w)}deleteByHref(K,w){return this.deleteData.deleteByHref(K,w)}removeMultiple(K){const w=K.map(q=>({op:"remove",path:`/bitstreams/${q.id}`})),Q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,l.s)(q=>(0,p.Uh)(q))).subscribe(q=>{const ee=new S._x(Q,q,w);(0,p.Uh)(this.responseMsToLive)&&(ee.responseMsToLive=this.responseMsToLive),this.requestService.send(ee)}),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,a.a)(K.map(q=>this.invalidateByHref(q._links.self.href))))}}).\u0275fac=function(K){return new(K||ie)(W.\u0275\u0275inject(b.s),W.\u0275\u0275inject(h.Q),W.\u0275\u0275inject(m.a),W.\u0275\u0275inject(v.q),W.\u0275\u0275inject(y.b),W.\u0275\u0275inject(o.O),W.\u0275\u0275inject(L.o),W.\u0275\u0275inject($.T))},ie.\u0275prov=W.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie);ce=(0,t.__decorate)([(0,re.cQ)(_.a),(0,t.__metadata)("design:paramtypes",[b.s,h.Q,m.a,v.q,y.b,o.O,L.o,$.T])],ce)},93583:(R,c,e)=>{"use strict";e.d(c,{O:()=>L});var T,t=e(70655),n=e(89702),a=e(48358),i=e(49887),d=e(27303),r=e(43036),l=e(65384),p=e(16066),h=e(55624),m=e(68671),_=e(42240),v=e(18005),y=e(96526),O=e(6952),S=e(56190),b=e(14246),o=e(30828),D=e(54254),M=e(1411),C=e(98678);const g=(0,n.P1)(m.v,j=>j.bitstreamFormats),U=(0,n.P1)(g,j=>j.selectedBitstreamFormats);let L=((T=class extends b.t{constructor($,z,re,W,ie,ce){super("bitstreamformats",$,z,re,W),this.requestService=$,this.rdbService=z,this.objectCache=re,this.halService=W,this.notificationsService=ie,this.store=ce,this.linkPath="bitstreamformats",this.findAllData=new D.k(this.linkPath,$,z,re,W,this.responseMsToLive),this.deleteData=new o.R(this.linkPath,$,z,re,W,ie,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint($){return this.getBrowseEndpoint().pipe((0,a.U)(z=>this.getIDHref(z,$)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat($){const z=this.requestService.generateRequestId();return this.getUpdateEndpoint($.id).pipe((0,i.x)(),(0,a.U)(re=>new y.an(z,re,$)),(0,S.wG)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(z)}createBitstreamFormat($){const z=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,a.U)(re=>new y.xo(z,re,$)),(0,S.wG)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(z)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,d.b)($=>this.requestService.removeByHrefSubstring($)))}getSelectedBitstreamFormats(){return this.store.pipe((0,n.Ys)(U))}selectBitstreamFormat($){this.store.dispatch(new r.YM($))}deselectBitstreamFormat($){this.store.dispatch(new r.qZ($))}deselectAllBitstreamFormats(){this.store.dispatch(new r.sT)}findByBitstream($){return this.findByHref($._links.format.href)}findAll($,z,re,...W){return this.findAllData.findAll($,z,re,...W)}delete($,z){return this.deleteData.delete($,z)}deleteByHref($,z){return this.deleteData.deleteByHref($,z)}}).\u0275fac=function($){return new($||T)(C.\u0275\u0275inject(O.s),C.\u0275\u0275inject(p.Q),C.\u0275\u0275inject(h.a),C.\u0275\u0275inject(v.q),C.\u0275\u0275inject(l.T),C.\u0275\u0275inject(n.yh))},T.\u0275prov=C.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T);L=(0,t.__decorate)([(0,M.cQ)(_.J),(0,t.__metadata)("design:paramtypes",[O.s,p.Q,h.a,v.q,l.T,n.yh])],L)},8830:(R,c,e)=>{"use strict";e.d(c,{b:()=>C});var M,t=e(70655),n=e(48358),a=e(21160),i=e(77176),d=e(45608),r=e(16066),l=e(55624),p=e(37555),h=e(18005),m=e(60012),_=e(96526),v=e(6952),y=e(45132),O=e(14246),S=e(7766),b=e(7404),o=e(1411),D=e(98678);let C=((M=class extends O.t{constructor(g,U,L,j,$){super("bundles",g,U,L,j),this.requestService=g,this.rdbService=U,this.objectCache=L,this.halService=j,this.comparator=$,this.bitstreamsEndpoint="bitstreams",this.patchData=new S.B(this.linkPath,g,U,L,j,$,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(g,U,L=!0,j=!0,...$){return this.findListByHref(g._links.bundles.href,U,L,j,...$)}findByItemAndName(g,U,L=!0,j=!0,...$){return this.findAllByItem(g,{elementsPerPage:9999},L,j,...$).pipe((0,n.U)(z=>{if((0,d.Uh)(z.payload)&&(0,d.Uh)(z.payload.page)){const re=z.payload.page.find(W=>W.name===U);return(0,d.Uh)(re)?new m.N(z.timeCompleted,z.msToLive,z.lastUpdated,y.q$.Success,null,re,200):new m.N(z.timeCompleted,z.msToLive,z.lastUpdated,y.q$.Error,`The bundle with name ${U} was not found.`,null,404)}return z}))}getBitstreamsEndpoint(g,U){return this.getBrowseEndpoint().pipe((0,a.w)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${g}`)),(0,n.U)(L=>U?U.toRestUrl(L):L))}getBitstreams(g,U,...L){const j=this.getBitstreamsEndpoint(g,U);return j.pipe((0,i.q)(1)).subscribe($=>{const z=new _.Gl(this.requestService.generateRequestId(),$);this.requestService.send(z,!0)}),this.rdbService.buildList(j,...L)}commitUpdates(g){this.patchData.commitUpdates(g)}patch(g,U){return this.patchData.patch(g,U)}update(g){return this.patchData.update(g)}createPatchFromCache(g){return this.patchData.createPatchFromCache(g)}}).\u0275fac=function(g){return new(g||M)(D.\u0275\u0275inject(v.s),D.\u0275\u0275inject(r.Q),D.\u0275\u0275inject(l.a),D.\u0275\u0275inject(h.q),D.\u0275\u0275inject(b.o))},M.\u0275prov=D.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M);C=(0,t.__decorate)([(0,o.cQ)(p.c),(0,t.__metadata)("design:paramtypes",[v.s,r.Q,l.a,h.q,b.o])],C)},95445:(R,c,e)=>{"use strict";e.d(c,{W:()=>W});var re,t=e(70655),n=e(78964),a=e(96342),i=e(77007),d=e(77176),r=e(48358),l=e(21160),p=e(45608),h=e(41272),m=e(65384),_=e(16066),v=e(5803),y=e(55624),O=e(71476),S=e(23832),b=e(89290),o=e(18005),D=e(10572),M=e(54140),C=e(50401),T=e(7404),g=e(96526),U=e(6952),L=e(39034),j=e(6144),$=e(1411),z=e(98678);let W=((re=class extends M.C{constructor(ce,ne,K,w,Q,oe,q,ee,J){super("collections",ce,ne,K,w,Q,oe,q),this.requestService=ce,this.rdbService=ne,this.objectCache=K,this.halService=w,this.comparator=Q,this.notificationsService=oe,this.bitstreamDataService=q,this.communityDataService=ee,this.translate=J,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(ce,ne={},K=!0,w=!0,...Q){return ne=Object.assign({},ne,{searchParams:[new v.g("query",ce)]}),this.searchBy("findSubmitAuthorized",ne,K,w,...Q).pipe((0,i.h)(q=>!q.isResponsePending))}getAuthorizedCollectionByEntityType(ce,ne,K={},w=!0,...Q){return K=Object.assign({},K,{searchParams:[new v.g("query",ce),new v.g("entityType",ne)]}),this.searchBy("findSubmitAuthorizedByEntityType",K,!0,w,...Q).pipe((0,i.h)(q=>!q.isResponsePending))}getAuthorizedCollectionByCommunity(ce,ne,K={},w=!0){return K=Object.assign({},K,{searchParams:[new v.g("uuid",ce),new v.g("query",ne)]}),this.searchBy("findSubmitAuthorizedByCommunity",K,w).pipe((0,i.h)(oe=>!oe.isResponsePending))}getAuthorizedCollectionByCommunityAndEntityType(ce,ne,K={},w=!0,...Q){const q=[new v.g("uuid",ce),new v.g("entityType",ne)];return K=Object.assign({},K,{searchParams:q}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",K,!0,w,...Q).pipe((0,i.h)(ee=>!ee.isResponsePending))}hasAuthorizedCollection(){const ne=new j.R;return ne.elementsPerPage=1,this.searchBy("findSubmitAuthorized",ne).pipe((0,i.h)(K=>!K.isResponsePending),(0,d.q)(1),(0,r.U)(K=>K.payload.totalElements>0))}getHarvesterEndpoint(ce){return this.halService.getEndpoint(this.linkPath).pipe((0,l.w)(ne=>this.halService.getEndpoint("harvester",`${ne}/${ce}`)))}getContentSource(ce,ne=!0){const K=this.getHarvesterEndpoint(ce).pipe((0,p.iy)(),(0,d.q)(1));return K.subscribe(w=>{const Q=new g.UU(this.requestService.generateRequestId(),w);this.requestService.send(Q,ne)}),this.rdbService.buildSingle(K)}updateContentSource(ce,ne){const K=this.requestService.generateRequestId(),w=new O.F(b.i).serialize(ne);return this.getHarvesterEndpoint(ce).pipe((0,d.q)(1),(0,r.U)(oe=>{const q=Object.create({});let ee=new n.WM;return ee=ee.append("Content-Type","application/json"),q.headers=ee,new g.d0(K,oe,JSON.stringify(w),q)})).subscribe(oe=>this.requestService.send(oe)),this.rdbService.buildFromRequestUUID(K).pipe((0,D.hC)(),(0,r.U)(oe=>oe.hasFailed?(0,p.Uh)(oe.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===oe.statusCode?this.translate.instant(this.contentSourceError):oe.errorMessage,new h.n(-1)):void 0:oe),(0,p.iy)(),(0,r.U)(oe=>(0,p.UE)(oe.payload)?oe.payload:oe))}getFindByParentHref(ce){return this.halService.getEndpoint("communities").pipe((0,l.w)(ne=>this.halService.getEndpoint("collections",`${ne}/${ce}`)))}findOwningCollectionFor(ce){return this.findByHref(ce._links.owningCollection.href)}findMappedCollectionsFor(ce,ne){return this.findListByHref(ce._links.mappedCollections.href,ne)}getScopeCommunityHref(ce){return this.communityDataService.getEndpoint().pipe((0,r.U)(ne=>this.communityDataService.getIDHref(ne,ce.scopeID)),(0,i.h)(ne=>(0,p.UE)(ne)),(0,d.q)(1))}}).\u0275fac=function(ce){return new(ce||re)(z.\u0275\u0275inject(U.s),z.\u0275\u0275inject(_.Q),z.\u0275\u0275inject(y.a),z.\u0275\u0275inject(o.q),z.\u0275\u0275inject(T.o),z.\u0275\u0275inject(m.T),z.\u0275\u0275inject(L.J),z.\u0275\u0275inject(C.w),z.\u0275\u0275inject(a.sK))},re.\u0275prov=z.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac}),re);W=(0,t.__decorate)([(0,$.cQ)(S.d),(0,t.__metadata)("design:paramtypes",[U.s,_.Q,y.a,o.q,T.o,m.T,L.J,C.w,a.sK])],W)},54140:(R,c,e)=>{"use strict";e.d(c,{C:()=>o});var t=e(21160),n=e(48358),a=e(77007),i=e(49887),d=e(77176),r=e(53426),l=e(45608),p=e(10572),h=e(41121),m=e(65521),_=e(14246),v=e(7766),y=e(30828),O=e(54254),S=e(29908),b=e(74246);class o extends _.t{constructor(M,C,T,g,U,L,j,$){super(M,C,T,g,U),this.linkPath=M,this.requestService=C,this.rdbService=T,this.objectCache=g,this.halService=U,this.comparator=L,this.notificationsService=j,this.bitstreamDataService=$,this.createData=new b.K(this.linkPath,C,T,g,U,j,this.responseMsToLive),this.findAllData=new O.k(this.linkPath,C,T,g,U,this.responseMsToLive),this.searchData=new S.l(this.linkPath,C,T,g,U,this.responseMsToLive),this.patchData=new v.B(this.linkPath,C,T,g,U,L,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new y.R(this.linkPath,C,T,g,U,j,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(M={},C=this.linkPath){if((0,l.xb)(M.scopeID))return this.halService.getEndpoint(C);{const T=this.getScopeCommunityHref(M);return this.createAndSendGetRequest(T,!0),T.pipe((0,t.w)(g=>this.rdbService.buildSingle(g)),(0,p.hC)(),(0,n.U)(g=>{if(g.hasFailed)throw new Error(`The Community with scope ${M.scopeID} couldn't be retrieved`);return g.payload._links[C]}),(0,a.h)(g=>(0,l.UE)(g)),(0,n.U)(g=>g.href),(0,i.x)())}}findByParent(M,C={},...T){const g=this.getFindByParentHref(M).pipe((0,n.U)(U=>this.buildHrefFromFindOptions(U,C)));return this.findListByHref(g,C,!0,!0,...T)}getLogoEndpoint(M){return this.halService.getEndpoint(this.linkPath).pipe((0,n.U)(C=>new m.R(C,M,"logo").toString()))}deleteLogo(M){const C=M.logo;return(0,l.Uh)(C)?C.pipe((0,p.hC)(),(0,t.w)(T=>T.hasFailed?(console.error(`Couldn't retrieve the logo '${M._links.logo.href}' in order to delete it.`),[T]):this.bitstreamDataService.deleteByHref(T.payload._links.self.href))):(0,h.DW)("The given object doesn't have a logo",400)}refreshCache(M){const C=this.parentCommunityUrlLookup(M);(0,l.Uh)(C)&&(0,r.a)([this.findByHref(C).pipe((0,p.hC)()),this.halService.getEndpoint("communities/search/top").pipe((0,d.q)(1))]).subscribe(([T,g])=>{T.hasSucceeded&&(0,l.UE)(T.payload)&&(0,l.UE)(T.payload.id)?this.requestService.setStaleByHrefSubstring(T.payload.id):this.requestService.setStaleByHrefSubstring(g)})}parentCommunityUrlLookup(M){const C=M._links.parentCommunity;return(0,l.UE)(C)?C.href:null}create(M,...C){return this.createData.create(M,...C)}findAll(M,C,T,...g){return this.findAllData.findAll(M,C,T,...g)}searchBy(M,C,T,g,...U){return this.searchData.searchBy(M,C,T,g,...U)}commitUpdates(M){this.patchData.commitUpdates(M)}patch(M,C){return this.patchData.patch(M,C)}update(M){return this.patchData.update(M)}createPatchFromCache(M){return this.patchData.createPatchFromCache(M)}delete(M,C){return this.deleteData.delete(M,C)}deleteByHref(M,C){return this.deleteData.deleteByHref(M,C)}}},50401:(R,c,e)=>{"use strict";e.d(c,{w:()=>M});var D,t=e(70655),n=e(48358),a=e(21160),i=e(77007),d=e(77176),r=e(65384),l=e(16066),p=e(55624),h=e(49977),m=e(18005),_=e(54140),v=e(7404),y=e(6952),O=e(39034),S=e(45608),b=e(1411),o=e(98678);let M=((D=class extends _.C{constructor(T,g,U,L,j,$,z){super("communities",T,g,U,L,j,$,z),this.requestService=T,this.rdbService=g,this.objectCache=U,this.halService=L,this.comparator=j,this.notificationsService=$,this.bitstreamDataService=z,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(T={},...g){return this.getEndpoint().pipe((0,n.U)(U=>`${U}/search/top`),(0,a.w)(U=>this.findListByHref(U,T,!0,!0,...g)))}getFindByParentHref(T){return this.halService.getEndpoint(this.linkPath).pipe((0,a.w)(g=>this.halService.getEndpoint("subcommunities",`${g}/${T}`)))}getScopeCommunityHref(T){return this.getEndpoint().pipe((0,n.U)(g=>this.getIDHref(g,T.scopeID)),(0,i.h)(g=>(0,S.UE)(g)),(0,d.q)(1))}}).\u0275fac=function(T){return new(T||D)(o.\u0275\u0275inject(y.s),o.\u0275\u0275inject(l.Q),o.\u0275\u0275inject(p.a),o.\u0275\u0275inject(m.q),o.\u0275\u0275inject(v.o),o.\u0275\u0275inject(r.T),o.\u0275\u0275inject(O.J))},D.\u0275prov=o.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D);M=(0,t.__decorate)([(0,b.cQ)(h.v),(0,t.__metadata)("design:paramtypes",[y.s,l.Q,p.a,m.q,v.o,r.T,O.J])],M)},73194:(R,c,e)=>{"use strict";e.d(c,{i:()=>_});var m,t=e(70655),n=e(16066),a=e(55624),i=e(18005),d=e(6952),r=e(21247),l=e(14246),p=e(1411),h=e(98678);let _=((m=class extends l.t{constructor(y,O,S,b){super("properties",y,O,S,b),this.requestService=y,this.rdbService=O,this.objectCache=S,this.halService=b}findByPropertyName(y){return this.findById(y)}}).\u0275fac=function(y){return new(y||m)(h.\u0275\u0275inject(d.s),h.\u0275\u0275inject(n.Q),h.\u0275\u0275inject(a.a),h.\u0275\u0275inject(i.q))},m.\u0275prov=h.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m);_=(0,t.__decorate)([(0,p.cQ)(r.o),(0,t.__metadata)("design:paramtypes",[d.s,n.Q,a.a,i.q])],_)},80852:(R,c,e)=>{"use strict";e.d(c,{F:()=>l});var t=e(62948),n=e(71476),a=e(89290);class i{}var d=e(37196),r=e(98678);let l=(()=>{class p extends d.f8{parse(m,_){const v=_.payload,y=new n.F(a.i).deserialize(v);let O=[];return v._embedded&&v._embedded.harvestermetadata&&v._embedded.harvestermetadata.configs&&(O=new n.F(i).serializeArray(v._embedded.harvestermetadata.configs)),y.metadataConfigs=O,this.addToObjectCache(y,m,_),new t.tp(_.statusCode,y._links.self)}}return p.\u0275fac=function(){let h;return function(_){return(h||(h=r.\u0275\u0275getInheritedFactory(p)))(_||p)}}(),p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},204:(R,c,e)=>{"use strict";e.d(c,{v:()=>l});var t=e(55152),n=e(65804),a=e(38666);class i{constructor(h){this.modelType=h}serialize(h){return d((0,a.Serialize)(h,this.modelType))}serializeArray(h){return d((0,a.Serialize)(h,this.modelType))}deserialize(h){if(Array.isArray(h))throw new Error("Expected a single model, use deserializeArray() instead");return(0,a.Deserialize)(h,this.modelType)}deserializeArray(h){if(!Array.isArray(h))throw new Error("Expected an Array, use deserialize() instead");return(0,a.Deserialize)(h,this.modelType)}}function d(p){const h={};for(const[m,_]of Object.entries(p))null!==_&&(h[m]=_);return h}var r=e(98678);let l=(()=>{class p{diff(m,_){const v=new i((0,n.w2)(m.type)),y=new i((0,n.w2)(_.type));return(0,t.qu)(v.serialize(m),y.serialize(_))}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},7404:(R,c,e)=>{"use strict";e.d(c,{o:()=>d});var t=e(55152),n=e(62574),a=e.n(n),i=e(98678);let d=(()=>{class r{diff(p,h){return(0,t.qu)(this.filterUUIDsFromMetadata(p.metadata),this.filterUUIDsFromMetadata(h.metadata)).map(m=>Object.assign({},m,{path:"/metadata"+m.path}))}filterUUIDsFromMetadata(p){const h=a()(p);for(const m of Object.keys(h))for(const _ of h[m])_.uuid=void 0;return h}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275prov=i.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})()},6008:(R,c,e)=>{"use strict";e.d(c,{j:()=>r});var t=e(55624),n=e(62948),a=e(32357),i=e(45608),d=e(98678);let r=(()=>{class l extends a.ry{constructor(h){super(),this.objectCache=h,this.toCache=!0}parse(h,m){let _;_=(0,i.Uh)(m.payload)&&(0,i.Uh)(m.payload.page)&&0===m.payload.page.totalElements?{page:[]}:this.process(m.payload,h);let v=_;if((0,i.xI)(_))return new n.k([],m.statusCode,m.statusText,void 0);(0,i.Uh)(_.page)?v=_.page:Array.isArray(_)||(v=[_]);const y=v.map(O=>O._links.self.href);return new n.k(y,m.statusCode,m.statusText,this.processPageInfo(m.payload))}}return l.\u0275fac=function(h){return new(h||l)(d.\u0275\u0275inject(t.a))},l.\u0275prov=d.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac}),l})()},91179:(R,c,e)=>{"use strict";e.d(c,{D:()=>_});var m,t=e(70655),n=e(16066),a=e(55624),i=e(22537),d=e(18005),r=e(6952),l=e(14246),p=e(1411),h=e(98678);let _=((m=class extends l.t{constructor(y,O,S,b){super("dso",y,O,S,b,void 0,(o,D)=>o.replace(/{\?uuid}/,`?uuid=${D}`)),this.requestService=y,this.rdbService=O,this.objectCache=S,this.halService=b}}).\u0275fac=function(y){return new(y||m)(h.\u0275\u0275inject(r.s),h.\u0275\u0275inject(n.Q),h.\u0275\u0275inject(a.a),h.\u0275\u0275inject(d.q))},m.\u0275prov=h.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m);_=(0,t.__decorate)([(0,p.cQ)(i.i),(0,t.__metadata)("design:paramtypes",[r.s,n.Q,a.a,d.q])],_)},37196:(R,c,e)=>{"use strict";e.d(c,{P3:()=>y,f8:()=>b});var t=e(45608),n=e(71476),a=e(87483),i=e(55624),d=e(20942),r=e(65804),l=e(76774),p=e(62948),h=e(89333),m=e(9717),_=e(65521),v=e(98678);function y(o){return(0,t.Uh)(o)&&(0,t.Uh)(o._links)&&(0,t.Uh)(o._links.self)&&(0,t.Uh)(o._links.self.href)}const S=o=>o.split("?").map(D=>D.split("&")).reduce((D,M)=>[...D,...M]);let b=(()=>{class o{constructor(M){this.objectCache=M,this.serializerConstructor=n.F}parse(M,C){let T;C=this.ensureSelfLink(M,C),M.method===h.a.GET&&(T=(0,m.z2)(M.href));const g=this.process(C.payload,M,T);return(0,t.Uh)(g)?y(g)?new p.tp(C.statusCode,g._links.self):new p.tp(C.statusCode,void 0,g):new p.tp(C.statusCode)}process(M,C,T){const g=(0,m.jP)(C.href);if((0,t.UE)(M)){if((0,t.xI)(M)||"object"!=typeof M)return M;if(function O(o){return(0,t.Uh)(o.page)&&(0,t.Uh)(o.page.size)&&(0,t.Uh)(o.page.totalElements)&&(0,t.Uh)(o.page.totalPages)&&(0,t.Uh)(o.page.number)}(M))return this.processPaginatedList(M,C,T);if(Array.isArray(M))return this.processArray(M,C);if(y(M)){const L=this.deserialize(M);return(0,t.UE)(M._embedded)&&Object.keys(M._embedded).filter(j=>M._embedded.hasOwnProperty(j)).forEach(j=>{let $=M._links[j].href;const z=g.find(re=>re.name===j);(0,t.Uh)(z)&&($=new _.R($,`?size=${z.size}`).toString()),this.process(M._embedded[j],C,$)}),this.addToObjectCache(L,C,M,T),L}const U={};return Object.keys(M).filter(L=>M.hasOwnProperty(L)).filter(L=>(0,t.Uh)(M[L])).forEach(L=>{U[L]=this.process(M[L],C)}),U}}ensureSelfLink(M,C){const T=(0,m.z2)(M.href);if(M.method===h.a.GET&&(0,t.Uh)(C)&&(0,t.Uh)(C.payload)&&(0,t.Uh)(C.payload._links))if((0,t.xI)(C.payload._links.self)||(0,t.xI)(C.payload._links.self.href))console.warn(`The response for '${M.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),C.payload._links=Object.assign({},C.payload._links,{self:{href:T}});else{const g=S(T),U=S(C.payload._links.self.href);g[0]===U[0]&&(g.some(L=>!U.includes(L))||U.some(L=>!g.includes(L)))&&(console.warn(`The response for '${T}' has the self link '${C.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),C.payload._links=Object.assign({},C.payload._links,{self:{href:T}}))}return C}processPaginatedList(M,C,T){const g=this.processPageInfo(M);let U=M._embedded;(0,t.xI)(U)?U=[]:Array.isArray(U)||(U=this.flattenSingleKeyObject(U));const L=this.processArray(U,C),j=(0,d.b)(g,L,!0,M._links);return this.addToObjectCache(j,C,M,T),j}processArray(M,C){let T=[];return M.forEach(g=>{T=[...T,this.process(g,C)]}),T}deserialize(M){const C=M.type,T=this.getConstructorFor(C);return(0,t.Uh)(T)?new this.serializerConstructor(T).deserialize(M):(console.warn("cannot deserialize type "+C),null)}getConstructorFor(M){return(0,t.Uh)(M)?(0,r.w2)(M):null}addToObjectCache(M,C,T,g){if(!y(M)){const U=(0,t.Uh)(T)&&(0,t.Uh)(T.type)?T.type:"object";let L;return L=(0,t.Uh)(T._embedded)?JSON.stringify(Object.assign({},T,{_embedded:"..."})):JSON.stringify(T),void console.warn(`Can't cache incomplete ${U}: ${JSON.stringify(M)}, parsed from (partial) response: ${L}`)}g===M._links.self.href&&(g=void 0),this.objectCache.add(M,(0,t.Uh)(C.responseMsToLive)?C.responseMsToLive:l.N.cache.msToLive.default,C.uuid,g)}processPageInfo(M){if((0,t.Uh)(M.page)){const C=new n.F(a.S).deserialize(M.page);return C.currentPage>=0&&Object.assign(C,{currentPage:C.currentPage+1}),C}}flattenSingleKeyObject(M){const C=Object.keys(M);if(1!==C.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(M)}`);return M[C[0]]}isSuccessStatus(M){return M>=200&&M<300}}return o.\u0275fac=function(M){return new(M||o)(v.\u0275\u0275inject(i.a))},o.\u0275prov=v.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},84461:(R,c,e)=>{"use strict";e.d(c,{q:()=>l});var t=e(37196),n=e(45608),a=e(65804),i=e(62948),d=e(76774),r=e(98678);let l=(()=>{class p extends t.f8{parse(m,_){try{_=this.ensureSelfLink(m,_);const v=this.process(_.payload,m);if((0,n.Uh)(v)){const y=v.type;let O;return(0,n.Uh)(y)&&(O=(0,a.w2)(y)),(0,t.P3)(v)&&(0,n.Uh)(O)?new i.tp(_.statusCode,v._links.self):new i.tp(_.statusCode,void 0,v)}return new i.tp(_.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${m.href}`),new i.tp(_.statusCode,void 0,{_links:_.payload._links})}}deserialize(m){const _=m.type;if((0,n.Uh)(_)){const v=(0,a.w2)(_);if((0,n.Uh)(v))return new this.serializerConstructor(v).deserialize(m)}return m}addToObjectCache(m,_,v,y){if(!(0,t.P3)(m)){const O=(0,n.Uh)(v)&&(0,n.Uh)(v.type)?v.type:"object";let S;return S=(0,n.Uh)(v._embedded)?JSON.stringify(Object.assign({},v,{_embedded:"..."})):JSON.stringify(v),void console.warn(`Can't cache incomplete ${O}: ${JSON.stringify(m)}, parsed from (partial) response: ${S}`)}(0,n.Uh)(this.getConstructorFor(m.type))&&this.objectCache.add(m,(0,n.Uh)(_.responseMsToLive)?_.responseMsToLive:d.N.cache.msToLive.default,_.uuid,y)}}return p.\u0275fac=function(){let h;return function(_){return(h||(h=r.\u0275\u0275getInheritedFactory(p)))(_||p)}}(),p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},86435:(R,c,e)=>{"use strict";e.d(c,{k:()=>S});var t=e(6952),n=e(16066),a=e(18005),i=e(55624),d=e(21160),r=e(48358),l=e(77007),p=e(77176),h=e(10572),m=e(55491),_=e(23684),v=e(29908),y=e(54254),O=e(98678);let S=(()=>{class b extends _.B{constructor(D,M,C,T,g){super("entitytypes",D,M,C,T),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T,this.relationshipTypeService=g,this.findAllData=new y.k(this.linkPath,D,M,C,T,this.responseMsToLive),this.searchData=new v.l(this.linkPath,D,M,C,T,this.responseMsToLive)}getBrowseEndpoint(D,M){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(D){return this.halService.getEndpoint(this.linkPath).pipe((0,d.w)(M=>this.halService.getEndpoint("relationshiptypes",`${M}/${D}`)))}isLeftType(D,M){return D.leftType.pipe((0,h.xw)(),(0,h.xe)(),(0,r.U)(C=>C.uuid===M.uuid))}getAllAuthorizedRelationshipType(D={}){return this.searchBy("findAllByAuthorizedCollection",D).pipe((0,l.h)(C=>!C.isResponsePending))}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,r.U)(M=>{let C;return C=!!M.payload&&M.payload.page.length>1,C}))}getAllAuthorizedRelationshipTypeImport(D={}){return this.searchBy("findAllByAuthorizedExternalSource",D).pipe((0,l.h)(C=>!C.isResponsePending))}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,r.U)(M=>{let C;return C=!!M.payload&&M.payload.page.length>1,C}))}getEntityTypeRelationships(D,M=!0,C=!0,...T){const g=this.getRelationshipTypesEndpoint(D);return this.relationshipTypeService.findListByHref(g,void 0,M,C,...T)}getEntityTypeByLabel(D){return this.halService.getEndpoint(this.linkPath).pipe((0,p.q)(1),(0,d.w)(M=>this.findByHref(M+"/label/"+D)))}findAll(D,M,C,...T){return this.findAllData.findAll(D,M,C,...T)}searchBy(D,M,C,T,...g){return this.searchData.searchBy(D,M,C,T,...g)}}return b.\u0275fac=function(D){return new(D||b)(O.\u0275\u0275inject(t.s),O.\u0275\u0275inject(n.Q),O.\u0275\u0275inject(i.a),O.\u0275\u0275inject(a.q),O.\u0275\u0275inject(m.X))},b.\u0275prov=O.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})()},63794:(R,c,e)=>{"use strict";e.d(c,{m:()=>S});var t=e(6952),n=e(18005),a=e(96526),i=e(77007),d=e(48358),r=e(66154),l=e(45608),p=e(14760),h=e(10572),m=e(62948),_=e(98678);let v=(()=>{class b{parse(D,M){const C=M.payload,T=Object.assign(new p.Y,C);return new m.tp(M.statusCode,void 0,T)}}return b.\u0275fac=function(D){return new(D||b)},b.\u0275prov=_.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var y=e(16066),O=e(78964);let S=(()=>{class b{constructor(D,M,C){this.requestService=D,this.rdbService=M,this.halService=C,this.linkPath="registrations",this.searchByTokenPath="/search/findByToken?token="}getRegistrationEndpoint(){return this.halService.getEndpoint(this.linkPath)}getTokenSearchEndpoint(D){return this.halService.getEndpoint(this.linkPath).pipe((0,i.h)(M=>(0,l.UE)(M)),(0,d.U)(M=>`${M}${this.searchByTokenPath}${D}`))}registerEmail(D,M=null,C){const T=new p.Y;T.email=D;const g=this.requestService.generateRequestId(),U=this.getRegistrationEndpoint(),L=Object.create({});let j=new O.WM;return M&&(j=j.append("x-recaptcha-token",M)),L.headers=j,(0,l.Uh)(C)&&(L.params=C?new O.LE({fromString:"accountRequestType="+C}):new O.LE),U.pipe((0,r.s)($=>(0,l.Uh)($)),(0,d.U)($=>{const z=new a.xo(g,$,T,L);this.requestService.send(z)})).subscribe(),this.rdbService.buildFromRequestUUID(g).pipe((0,h.hC)())}searchByToken(D){const M=this.requestService.generateRequestId(),C=this.getTokenSearchEndpoint(D).pipe((0,r.s)(T=>(0,l.Uh)(T)));return C.subscribe(T=>{const g=new a.Gl(M,T);Object.assign(g,{getResponseParser:()=>v}),this.requestService.send(g,!0)}),this.rdbService.buildSingle(C).pipe((0,d.U)(T=>T.hasSucceeded&&(0,l.Uh)(T.payload)?Object.assign(T,{payload:Object.assign(T.payload,{token:D})}):T))}}return b.\u0275fac=function(D){return new(D||b)(_.\u0275\u0275inject(t.s),_.\u0275\u0275inject(y.Q),_.\u0275\u0275inject(n.q))},b.\u0275prov=_.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},74304:(R,c,e)=>{"use strict";e.d(c,{G:()=>y});var t=e(6952),n=e(16066),a=e(55624),i=e(18005),d=e(48358),r=e(21160),l=e(49887),p=e(77176),h=e(45608),m=e(14246),_=e(29908),v=e(98678);let y=(()=>{class O extends m.t{constructor(b,o,D,M){super("externalsources",b,o,D,M),this.requestService=b,this.rdbService=o,this.objectCache=D,this.halService=M,this.searchData=new _.l(this.linkPath,b,o,D,M,this.responseMsToLive)}getBrowseEndpoint(b={},o=this.linkPath){return this.halService.getEndpoint(o)}getEntriesEndpoint(b){return this.getBrowseEndpoint().pipe((0,d.U)(o=>this.getIDHref(o,b)),(0,r.w)(o=>this.halService.getEndpoint("entries",o)))}getExternalSourceEntries(b,o,D=!0,M=!0,...C){const T=this.getEntriesEndpoint(b).pipe((0,h.iy)(),(0,l.x)(),(0,d.U)(g=>(0,h.Uh)(o)?o.toRestUrl(g):g),(0,p.q)(1));return this.hasCachedErrorResponse(T).pipe((0,r.w)(g=>this.findListByHref(T,void 0,!g,M,...C)))}searchBy(b,o,D,M,...C){return this.searchData.searchBy(b,o,D,M,...C)}}return O.\u0275fac=function(b){return new(b||O)(v.\u0275\u0275inject(t.s),v.\u0275\u0275inject(n.Q),v.\u0275\u0275inject(a.a),v.\u0275\u0275inject(i.q))},O.\u0275prov=v.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},90811:(R,c,e)=>{"use strict";e.d(c,{L:()=>l});var t=e(83046),n=e(62948),a=e(71476),i=e(37196),d=e(57924),r=e(98678);let l=(()=>{class p extends i.f8{parse(m,_){const v=_.payload._embedded.facets,O=new a.F(t.B).deserializeArray(v),S={self:_.payload._links.self};O.forEach(o=>{S[o.name]={href:o._links.self.href}});const b=Object.assign(new d.M,{filters:O,_links:S});return this.addToObjectCache(b,m,_),new n.tp(_.statusCode,b._links.self)}}return p.\u0275fac=function(){let h;return function(_){return(h||(h=r.\u0275\u0275getInheritedFactory(p)))(_||p)}}(),p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},59710:(R,c,e)=>{"use strict";e.d(c,{N:()=>l});var t=e(24034),n=e(62948),a=e(71476),i=e(53053),d=e(37196),r=e(98678);let l=(()=>{class p extends d.f8{parse(m,_){const v=_.payload,y=new a.F(i.i).deserialize(v);return y.pageInfo=this.processPageInfo(v),y.page=new a.F(t.G).deserializeArray(v._embedded.values),this.addToObjectCache(y,m,_),new n.tp(_.statusCode,y._links.self)}}return p.\u0275fac=function(){let h;return function(_){return(h||(h=r.\u0275\u0275getInheritedFactory(p)))(_||p)}}(),p.\u0275prov=r.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},35794:(R,c,e)=>{"use strict";e.d(c,{_:()=>z});var t=e(70655),n=e(9237),a=e(15132),i=e(6952),d=e(16066),r=e(55624),l=e(18005),p=e(19427),h=e(46533),m=e(48358),_=e(9249),v=e(21160),y=e(45608),O=e(5803);class S{constructor(W,ie,ce){this.objectUrl=W,this.ePersonUuid=ie,this.featureId=ce}}var $,b=e(53426),o=e(10572),T=e(6144),g=e(23684),U=e(29908),L=e(1411),j=e(98678);let z=(($=class extends g.B{constructor(W,ie,ce,ne,K){super("authorizations",W,ie,ce,ne),this.requestService=W,this.rdbService=ie,this.objectCache=ce,this.halService=ne,this.siteService=K,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new U.l(this.linkPath,W,ie,ce,ne,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(W,ie,ce,ne=!0,K=!0){return this.searchByObject(W,ie,ce,{},ne,K,(0,h.l)("feature")).pipe((0,o.hC)(),(0,m.U)(w=>401!==w.statusCode&&(0,y.Uh)(w.payload)&&(0,y.UE)(w.payload.page)?w.payload.page:[]),(0,_.K)(()=>(0,n.of)([])),(re=W,W=>W.pipe((0,v.w)(ie=>(0,y.UE)(ie)?(0,b.a)([...ie.filter(ce=>(0,y.Uh)(ce.feature)).map(ce=>ce.feature.pipe((0,o.Gp)()))]):(0,n.of)([])),(0,m.U)(ie=>ie.filter(ce=>ce.id===re).length>0))));var re}searchByObject(W,ie,ce,ne={},K=!0,w=!0,...Q){const oe=(0,n.of)(ie).pipe((0,v.w)(ee=>(0,y.xI)(ee)?this.siteService.find().pipe((0,m.U)(J=>J.self)):(0,n.of)(ee))),q=oe.pipe((0,m.U)(ee=>new S(ee,ce,W)),(0,v.w)(ee=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(ee.objectUrl,ne,ee.ePersonUuid,ee.featureId),K,w,...Q)));return this.addDependency(q,oe),q}createSearchOptions(W,ie={},ce,ne){let K=[];return(0,y.UE)(ie.searchParams)&&(K=[...ie.searchParams]),K.push(new O.g("uri",W)),(0,y.Uh)(ne)&&K.push(new O.g("feature",ne)),(0,y.Uh)(ce)&&K.push(new O.g("eperson",ce)),Object.assign(new T.R,ie,{searchParams:[...K]})}searchBy(W,ie,ce,ne,...K){return this.searchData.searchBy(W,ie,ce,ne,...K)}}).\u0275fac=function(W){return new(W||$)(j.\u0275\u0275inject(i.s),j.\u0275\u0275inject(d.Q),j.\u0275\u0275inject(r.a),j.\u0275\u0275inject(l.q),j.\u0275\u0275inject(p.a))},$.\u0275prov=j.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac}),$);z=(0,t.__decorate)([(0,L.cQ)(a.e),(0,t.__metadata)("design:paramtypes",[i.s,d.Q,r.a,l.q,p.a])],z)},53896:(R,c,e)=>{"use strict";e.d(c,{E:()=>p});var t=e(24049),n=e(35794),a=e(38123),i=e(9237),d=e(80978),r=e(98678),l=e(67522);let p=(()=>{class h extends t.C{constructor(_,v,y){super(_,v,y),this.authorizationService=_,this.router=v,this.authService=y}getFeatureID(_,v){return(0,i.of)(d.i.CanManageGroups)}}return h.\u0275fac=function(_){return new(_||h)(r.\u0275\u0275inject(n._),r.\u0275\u0275inject(l.F0),r.\u0275\u0275inject(a.e8))},h.\u0275prov=r.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},24049:(R,c,e)=>{"use strict";e.d(c,{C:()=>a});var t=e(48358),n=e(20056);class a extends n.I{getFeatureIDs(d,r){return this.getFeatureID(d,r).pipe((0,t.U)(l=>[l]))}}},73737:(R,c,e)=>{"use strict";e.d(c,{X:()=>p});var t=e(24049),n=e(80978),a=e(35794),i=e(9237),d=e(38123),r=e(98678),l=e(67522);let p=(()=>{class h extends t.C{constructor(_,v,y){super(_,v,y),this.authorizationService=_,this.router=v,this.authService=y}getFeatureID(_,v){return(0,i.of)(n.i.AdministratorOf)}}return h.\u0275fac=function(_){return new(_||h)(r.\u0275\u0275inject(a._),r.\u0275\u0275inject(l.F0),r.\u0275\u0275inject(d.e8))},h.\u0275prov=r.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},33281:(R,c,e)=>{"use strict";e.d(c,{C:()=>p});var t=e(24049),n=e(35794),a=e(9237),i=e(80978),d=e(38123),r=e(98678),l=e(67522);let p=(()=>{class h extends t.C{constructor(_,v,y){super(_,v,y),this.authorizationService=_,this.router=v,this.authService=y}getFeatureID(_,v){return(0,a.of)(i.i.EPersonRegistration)}}return h.\u0275fac=function(_){return new(_||h)(r.\u0275\u0275inject(n._),r.\u0275\u0275inject(l.F0),r.\u0275\u0275inject(d.e8))},h.\u0275prov=r.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},20056:(R,c,e)=>{"use strict";e.d(c,{I:()=>d});var t=e(53426),n=e(9237),a=e(21160),i=e(78944);class d{constructor(l,p,h){this.authorizationService=l,this.router=p,this.authService=h}canActivate(l,p){return(0,t.a)(this.getFeatureIDs(l,p),this.getObjectUrl(l,p),this.getEPersonUuid(l,p)).pipe((0,a.w)(([h,m,_])=>(0,t.a)(...h.map(v=>this.authorizationService.isAuthorized(v,m,_)))),(0,i.uB)(this.router,this.authService,p.url))}getObjectUrl(l,p){return(0,n.of)(void 0)}getEPersonUuid(l,p){return(0,n.of)(void 0)}}},80978:(R,c,e)=>{"use strict";e.d(c,{i:()=>t});var t=(()=>{return(n=t||(t={})).LoginOnBehalfOf="loginOnBehalfOf",n.AdministratorOf="administratorOf",n.CanDelete="canDelete",n.CanEditMetadata="canEditMetadata",n.WithdrawItem="withdrawItem",n.ReinstateItem="reinstateItem",n.EPersonRegistration="epersonRegistration",n.CanManageGroups="canManageGroups",n.CanManageGroup="canManageGroup",n.IsCollectionAdmin="isCollectionAdmin",n.IsCommunityAdmin="isCommunityAdmin",n.CanChangePassword="canChangePassword",n.CanDownload="canDownload",n.CanRequestACopy="canRequestACopy",n.CanManageVersions="canManageVersions",n.CanManageBitstreamBundles="canManageBitstreamBundles",n.CanManageRelationships="canManageRelationships",n.CanManageMappings="canManageMappings",n.CanManagePolicies="canManagePolicies",n.CanMakePrivate="canMakePrivate",n.CanMove="canMove",n.CanEditVersion="canEditVersion",n.CanDeleteVersion="canDeleteVersion",n.CanCreateVersion="canCreateVersion",n.CanViewUsageStatistics="canViewUsageStatistics",n.CanSendFeedback="canSendFeedback",n.CanClaimItem="canClaimItem",n.CanSynchronizeWithORCID="canSynchronizeWithORCID",n.CanSubmit="canSubmit",n.CanEditItem="canEditItem",n.CanRegisterDOI="canRegisterDOI",n.CanSubscribe="canSubscribeDso",t;var n})()},6144:(R,c,e)=>{"use strict";e.d(c,{R:()=>t});class t{}},29442:(R,c,e)=>{"use strict";e.d(c,{N:()=>ie,S:()=>ce});var W,t=e(70655),n=e(78964),a=e(77007),i=e(48358),d=e(49887),r=e(21160),l=e(77176),p=e(66154),h=e(45608),m=e(65384),_=e(1081),v=e(16066),y=e(55624),O=e(18005),S=e(92866),b=e(65521),o=e(7404),D=e(96526),M=e(6952),C=e(8830),T=e(27153),g=e(56190),U=e(14246),L=e(7766),j=e(30828),$=e(74246),z=e(1411),re=e(98678);class ie extends U.t{constructor(K,w,Q,oe,q,ee,J,Ee,Oe,Re=((ve,Pe)=>`${ve}/${Pe}`)){super(K,w,Q,oe,q,void 0,Re),this.linkPath=K,this.requestService=w,this.rdbService=Q,this.objectCache=oe,this.halService=q,this.notificationsService=ee,this.comparator=J,this.browseService=Ee,this.bundleService=Oe,this.constructIdEndpoint=Re,this.createData=new $.K(this.linkPath,w,Q,oe,q,ee,this.responseMsToLive),this.patchData=new L.B(this.linkPath,w,Q,oe,q,J,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new j.R(this.linkPath,w,Q,oe,q,ee,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(K={},w=this.linkPath){let Q="dc.date.issued";return K.sort&&K.sort.field&&(Q=K.sort.field),this.browseService.getBrowseURLFor(Q,w).pipe((0,a.h)(oe=>(0,h.UE)(oe)),(0,i.U)(oe=>new b.R(oe,`?scope=${K.scopeID}`).toString()),(0,d.x)())}getMappedCollectionsEndpoint(K,w){return this.halService.getEndpoint(this.linkPath).pipe((0,i.U)(Q=>this.getIDHref(Q,K)),(0,i.U)(Q=>`${Q}/mappedCollections${w?`/${w}`:""}`))}removeMappingFromCollection(K,w){return this.getMappedCollectionsEndpoint(K,w).pipe((0,h.iy)(),(0,d.x)(),(0,i.U)(Q=>new D.jx(this.requestService.generateRequestId(),Q)),(0,g.wG)(this.requestService),(0,r.w)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)))}mapToCollection(K,w){return this.getMappedCollectionsEndpoint(K).pipe((0,h.iy)(),(0,d.x)(),(0,i.U)(Q=>{const oe=Object.create({});let q=new n.WM;return q=q.append("Content-Type","text/uri-list"),oe.headers=q,new D.xo(this.requestService.generateRequestId(),Q,w,oe)}),(0,g.wG)(this.requestService),(0,r.w)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)))}setWithDrawn(K,w){const Q={op:"replace",path:"/withdrawn",value:w};return this.requestService.removeByHrefSubstring("/discover"),this.patch(K,[Q])}setDiscoverable(K,w){const Q={op:"replace",path:"/discoverable",value:w};return this.requestService.removeByHrefSubstring("/discover"),this.patch(K,[Q])}getBundlesEndpoint(K){return this.halService.getEndpoint(this.linkPath).pipe((0,r.w)(w=>this.halService.getEndpoint("bundles",`${w}/${K}`)))}getBundles(K,w){const Q=this.getBundlesEndpoint(K).pipe((0,i.U)(oe=>w?w.toRestUrl(oe):oe));return Q.pipe((0,l.q)(1)).subscribe(oe=>{const q=new D.Gl(this.requestService.generateRequestId(),oe);this.requestService.send(q)}),this.rdbService.buildList(Q)}createBundle(K,w,Q){const oe=this.requestService.generateRequestId(),q=this.getBundlesEndpoint(K),ee={name:w,metadata:Q||{}};return q.pipe((0,l.q)(1)).subscribe(J=>{const Ee=Object.create({});let Oe=new n.WM;Oe=Oe.append("Content-Type","application/json"),Ee.headers=Oe;const Re=new D.xo(oe,J,JSON.stringify(ee),Ee);this.requestService.send(Re)}),this.rdbService.buildFromRequestUUID(oe)}getIdentifiersEndpoint(K){return this.halService.getEndpoint(this.linkPath).pipe((0,r.w)(w=>this.halService.getEndpoint("identifiers",`${w}/${K}`)))}getMoveItemEndpoint(K,w){return this.halService.getEndpoint(this.linkPath).pipe((0,i.U)(Q=>this.getIDHref(Q,K)),(0,i.U)(Q=>`${Q}/owningCollection?inheritPolicies=${w}`))}moveToCollection(K,w,Q){const oe=Object.create({});let q=new n.WM;q=q.append("Content-Type","text/uri-list"),oe.headers=q;const ee=this.requestService.generateRequestId();return this.getMoveItemEndpoint(K,Q).pipe((0,p.s)(Ee=>(0,h.Uh)(Ee)),(0,i.U)(Ee=>{const Oe=new D.an(ee,Ee,w._links.self.href,oe);return Object.assign(Oe,{getResponseParser:()=>T.o}),Oe})).subscribe(Ee=>{this.requestService.send(Ee)}),this.rdbService.buildFromRequestUUID(ee)}importExternalSourceEntry(K,w){const Q=Object.create({});let oe=new n.WM;oe=oe.append("Content-Type","text/uri-list"),Q.headers=oe;const q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.U)(J=>`${J}?owningCollection=${w}`)).pipe((0,p.s)(J=>(0,h.Uh)(J)),(0,i.U)(J=>{const Ee=new D.xo(q,J,K._links.self.href,Q);this.requestService.send(Ee)})).subscribe(),this.rdbService.buildFromRequestUUID(q)}getBitstreamsEndpoint(K){return this.halService.getEndpoint(this.linkPath).pipe((0,r.w)(w=>this.halService.getEndpoint("bitstreams",`${w}/${K}`)))}invalidateItemCache(K){this.requestService.setStaleByHrefSubstring("item/"+K)}commitUpdates(K){this.patchData.commitUpdates(K)}patch(K,w){return this.patchData.patch(K,w)}update(K){return this.patchData.update(K)}createPatchFromCache(K){return this.patchData.createPatchFromCache(K)}delete(K,w){return this.deleteData.delete(K,w)}deleteByHref(K,w){return this.deleteData.deleteByHref(K,w)}create(K,...w){return this.createData.create(K,...w)}}let ce=((W=class extends ie{constructor(K,w,Q,oe,q,ee,J,Ee){super("items",K,w,Q,oe,q,ee,J,Ee),this.requestService=K,this.rdbService=w,this.objectCache=Q,this.halService=oe,this.notificationsService=q,this.comparator=ee,this.browseService=J,this.bundleService=Ee}}).\u0275fac=function(K){return new(K||W)(re.\u0275\u0275inject(M.s),re.\u0275\u0275inject(v.Q),re.\u0275\u0275inject(y.a),re.\u0275\u0275inject(O.q),re.\u0275\u0275inject(m.T),re.\u0275\u0275inject(o.o),re.\u0275\u0275inject(_.I),re.\u0275\u0275inject(C.b))},W.\u0275prov=re.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac}),W);ce=(0,t.__decorate)([(0,z.cQ)(S.B),(0,t.__metadata)("design:paramtypes",[M.s,v.Q,y.a,O.q,m.T,o.o,_.I,C.b])],ce)},84803:(R,c,e)=>{"use strict";e.d(c,{w:()=>b});var t=e(29442),n=e(7404),a=e(6952),i=e(16066),d=e(55624),r=e(18005),l=e(65384),p=e(1081),h=e(95445),m=e(21160),_=e(8830),v=e(14246),y=e(74246),O=e(98678);class S extends v.t{constructor(D,M,C,T,g,U){super("itemtemplates",D,M,C,T,void 0),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T,this.notificationsService=g,this.collectionService=U,this.createData=new y.K(void 0,D,M,C,T,g,this.responseMsToLive)}getIDHrefObs(D){return this.collectionService.getIDHrefObs(D).pipe((0,m.w)(M=>this.halService.getEndpoint("itemtemplate",M)))}createTemplate(D,M){return this.createData.createOnEndpoint(D,this.getIDHrefObs(M))}}let b=(()=>{class o extends t.N{constructor(M,C,T,g,U,L,j,$,z){super("itemtemplates",M,C,T,g,U,L,j,$),this.requestService=M,this.rdbService=C,this.objectCache=T,this.halService=g,this.notificationsService=U,this.comparator=L,this.browseService=j,this.bundleService=$,this.collectionService=z,this.byCollection=new S(M,C,T,g,U,z)}findByCollectionID(M,C=!0,T=!0,...g){return this.byCollection.findById(M,C,T,...g)}createByCollectionID(M,C){return this.byCollection.createTemplate(M,C)}getCollectionEndpoint(M){return this.byCollection.getIDHrefObs(M)}}return o.\u0275fac=function(M){return new(M||o)(O.\u0275\u0275inject(a.s),O.\u0275\u0275inject(i.Q),O.\u0275\u0275inject(d.a),O.\u0275\u0275inject(r.q),O.\u0275\u0275inject(l.T),O.\u0275\u0275inject(n.o),O.\u0275\u0275inject(p.I),O.\u0275\u0275inject(_.b),O.\u0275\u0275inject(h.W))},o.\u0275prov=O.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})()},69552:(R,c,e)=>{"use strict";e.d(c,{P:()=>re});var t=e(74304),n=e(57066),a=e(93591),i=e(48490),d=e(1828),r=e(73522),l=e(77025),p=e(42878);const m={connector:()=>new d.x};var y=e(64793),O=e(68839),S=e(80863),b=e(14111),D=e(77176),M=e(48358),C=e(9302),T=e(49887),g=e(40772),U=e(92527),L=e(45180),j=e(10572),$=e(6952),z=e(98678);let re=(()=>{class W{constructor(ce,ne,K){this.externalSourceService=ce,this.searchService=ne,this.requestService=K,this.singleResultOptions=Object.assign(new L.r,{id:"single-result-options",pageSize:1})}getLocalResults(ce,ne,K=!0){const w=Object.assign(new g.t({}),ne,{fixedFilter:ce.filter,configuration:ce.searchConfiguration});return K&&(this.searchConfig=w),this.searchService.search(w).pipe(function v(W,ie){const ce=(0,i.m)(W)?W:()=>W;return(0,i.m)(ie)?function _(W,ie=m){const{connector:ce}=ie;return(0,l.e)((ne,K)=>{const w=ce();(0,r.Xf)(W(function h(W){return new p.y(ie=>W.subscribe(ie))}(w))).subscribe(K),K.add(ne.subscribe(w))})}(ie,{connector:ce}):ne=>new a.c(ne,ce)}(()=>new U.t(1),Q=>Q.pipe((0,y.o)(oe=>oe.isLoading),function o(...W){const ie=(0,S.yG)(W);return(0,l.e)((ce,ne)=>{(0,O.u)()((0,b.D)([ce,...W],ie)).subscribe(ne)})}(Q.pipe((0,D.q)(1))))))}getTotalLocalResults(ce,ne){return this.getLocalResults(ce,Object.assign(new g.t({}),ne,{pagination:this.singleResultOptions}),!1).pipe((0,j.g1)(),(0,j.xe)(),(0,M.U)(K=>K.totalElements),(0,C.O)(0))}getTotalExternalResults(ce,ne){return this.externalSourceService.getExternalSourceEntries(ce.id,Object.assign(new g.t({}),ne,{pagination:this.singleResultOptions})).pipe((0,j.g1)(),(0,j.xe)(),(0,M.U)(K=>K.totalElements),(0,C.O)(0),(0,T.x)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(ce=>this.requestService.removeByHrefSubstring(ce))}}return W.\u0275fac=function(ce){return new(ce||W)(z.\u0275\u0275inject(t.G),z.\u0275\u0275inject(n.o),z.\u0275\u0275inject($.s))},W.\u0275prov=z.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac}),W})()},54916:(R,c,e)=>{"use strict";e.d(c,{c:()=>C});var M,t=e(70655),n=e(45608),a=e(6952),i=e(16066),d=e(18005),r=e(36581),l=e(77176),p=e(5803),h=e(6144),m=e(29908),_=e(49998),v=e(74246),y=e(65384),O=e(55624),S=e(30828),b=e(14246),o=e(1411),D=e(98678);let C=((M=class extends b.t{constructor(g,U,L,j,$){super("metadatafields",g,U,L,j),this.requestService=g,this.rdbService=U,this.objectCache=L,this.halService=j,this.notificationsService=$,this.searchBySchemaLinkPath="bySchema",this.searchByFieldNameLinkPath="byFieldName",this.createData=new v.K(this.linkPath,g,U,L,j,$,this.responseMsToLive),this.searchData=new m.l(this.linkPath,g,U,L,j,this.responseMsToLive),this.putData=new _.E(this.linkPath,g,U,L,j,this.responseMsToLive),this.deleteData=new S.R(this.linkPath,g,U,L,j,$,this.responseMsToLive,this.constructIdEndpoint)}findBySchema(g,U={},L=!0,j=!0,...$){const z=Object.assign(new h.R,U,{searchParams:[new p.g("schema",g.prefix)]});return this.searchBy(this.searchBySchemaLinkPath,z,L,j,...$)}searchByFieldNameParams(g,U,L,j,$,z={},re=!0,W=!0,...ie){const ce=Object.assign(new h.R,z,{searchParams:[new p.g("schema",(0,n.Uh)(g)?g:""),new p.g("element",(0,n.Uh)(U)?U:""),new p.g("qualifier",(0,n.Uh)(L)?L:""),new p.g("query",(0,n.Uh)(j)?j:""),new p.g("exactName",(0,n.Uh)($)?$:"")]});return this.searchBy(this.searchByFieldNameLinkPath,ce,re,W,...ie)}findByExactFieldName(g){return this.searchByFieldNameParams(null,null,null,null,g,null)}clearRequests(){this.getBrowseEndpoint().pipe((0,l.q)(1)).subscribe(g=>{this.requestService.setStaleByHrefSubstring(g)})}delete(g,U){return this.deleteData.delete(g,U)}deleteByHref(g,U){return this.deleteData.deleteByHref(g,U)}put(g){return this.putData.put(g)}create(g,...U){return this.createData.create(g,...U)}searchBy(g,U,L,j,...$){return this.searchData.searchBy(g,U,L,j,...$)}}).\u0275fac=function(g){return new(g||M)(D.\u0275\u0275inject(a.s),D.\u0275\u0275inject(i.Q),D.\u0275\u0275inject(O.a),D.\u0275\u0275inject(d.q),D.\u0275\u0275inject(y.T))},M.\u0275prov=D.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),M);C=(0,t.__decorate)([(0,o.cQ)(r.A),(0,t.__metadata)("design:paramtypes",[a.s,i.Q,O.a,d.q,y.T])],C)},2034:(R,c,e)=>{"use strict";e.d(c,{$:()=>D});var o,t=e(70655),n=e(65384),a=e(16066),i=e(55624),d=e(45575),r=e(18005),l=e(6952),p=e(45608),h=e(27303),m=e(49998),_=e(74246),v=e(54254),y=e(14246),O=e(30828),S=e(1411),b=e(98678);let D=((o=class extends y.t{constructor(C,T,g,U,L){super("metadataschemas",C,T,g,U),this.requestService=C,this.rdbService=T,this.objectCache=g,this.halService=U,this.notificationsService=L,this.createData=new _.K(this.linkPath,C,T,g,U,L,this.responseMsToLive),this.putData=new m.E(this.linkPath,C,T,g,U,this.responseMsToLive),this.deleteData=new O.R(this.linkPath,C,T,g,U,L,this.responseMsToLive,this.constructIdEndpoint),this.findAllData=new v.k(this.linkPath,C,T,g,U,this.responseMsToLive)}createOrUpdateMetadataSchema(C){return(0,p.Uh)(C.id)?this.putData.put(C):this.createData.create(C)}clearRequests(){return this.getBrowseEndpoint().pipe((0,h.b)(C=>this.requestService.removeByHrefSubstring(C)))}findAll(C,T,g,...U){return this.findAllData.findAll(C,T,g,...U)}delete(C,T){return this.deleteData.delete(C,T)}deleteByHref(C,T){return this.deleteData.deleteByHref(C,T)}}).\u0275fac=function(C){return new(C||o)(b.\u0275\u0275inject(l.s),b.\u0275\u0275inject(a.Q),b.\u0275\u0275inject(i.a),b.\u0275\u0275inject(r.q),b.\u0275\u0275inject(n.T))},o.\u0275prov=b.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o);D=(0,t.__decorate)([(0,S.cQ)(d.B),(0,t.__metadata)("design:paramtypes",[l.s,a.Q,i.a,r.q,n.T])],D)},51424:(R,c,e)=>{"use strict";e.d(c,{B:()=>p});var t=e(62948),n=e(71476),a=e(45608),i=e(75156),d=e(57512),r=e(37196),l=e(98678);let p=(()=>{class h extends r.f8{parse(_,v){const O=v.payload._embedded.searchResult||{_embedded:{objects:[]}},S=O._embedded.objects.map(M=>M.hitHighlights).map(M=>{const C={};if(M)for(const T of Object.keys(M)){const g=Object.assign(new d.DA,{value:M[T].join("..."),language:null});C[T]=[g]}return C}),b=O._embedded.objects.filter(M=>(0,a.Uh)(M._embedded)).map(M=>M._embedded.indexableObject).map(M=>this.process(M,_)).map(M=>M._links.self.href).reduce((M,C)=>[...M,...C],[]),o=O._embedded.objects.filter(M=>(0,a.Uh)(M._embedded)).map((M,C)=>Object.assign({},M,{indexableObject:b[C],hitHighlights:S[C],_embedded:this.filterEmbeddedObjects(M)}));O.objects=o;const D=new n.F(i.L).deserialize(O);return D.pageInfo=this.processPageInfo(O),this.addToObjectCache(D,_,v),new t.tp(v.statusCode,D._links.self)}filterEmbeddedObjects(_){const v=["submitter","item","workspaceitem","workflowitem"];return _._embedded.indexableObject&&_._embedded.indexableObject._embedded?Object.assign({},_._embedded,{indexableObject:Object.assign({},_._embedded.indexableObject,{_embedded:Object.keys(_._embedded.indexableObject._embedded).filter(y=>v.includes(y)).reduce((y,O)=>(y[O]=_._embedded.indexableObject._embedded[O],y),{})})}):_}}return h.\u0275fac=function(){let m;return function(v){return(m||(m=l.\u0275\u0275getInheritedFactory(h)))(v||h)}}(),h.\u0275prov=l.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})()},69805:(R,c,e)=>{"use strict";e.d(c,{m:()=>t});var t=(()=>{return(n=t||(t={}))[n.UPDATE=0]="UPDATE",n[n.ADD=1]="ADD",n[n.REMOVE=2]="REMOVE",t;var n})()},22590:(R,c,e)=>{"use strict";e.d(c,{CB:()=>h,Cf:()=>i,Fm:()=>_,M0:()=>d,No:()=>l,O3:()=>p,SM:()=>r,Vi:()=>n,Y7:()=>m,cT:()=>v,gI:()=>a});var t=e(49754);const n={INITIALIZE_FIELDS:(0,t.d)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,t.d)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,t.d)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,t.d)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,t.d)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,t.d)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,t.d)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,t.d)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,t.d)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,t.d)("dspace/core/cache/object-updates/REMOVE_FIELD")};class a{constructor(O,S,b,o){this.type=n.INITIALIZE_FIELDS,this.payload={url:O,fields:S,lastModified:b,patchOperationService:o}}}class i{constructor(O,S,b){this.type=n.ADD_FIELD,this.payload={url:O,field:S,changeType:b}}}class d{constructor(O,S,b,o){this.type=n.SELECT_VIRTUAL_METADATA,this.payload={url:O,source:S,uuid:b,select:o}}}class r{constructor(O,S,b){this.type=n.SET_EDITABLE_FIELD,this.payload={url:O,uuid:S,editable:b}}}class l{constructor(O,S,b){this.type=n.SET_VALID_FIELD,this.payload={url:O,uuid:S,isValid:b}}}class p{constructor(O,S,b=!1){this.type=n.DISCARD,this.payload={url:O,notification:S,discardAll:b}}}class h{constructor(O){this.type=n.REINSTATE,this.payload={url:O}}}class m{constructor(O){this.type=n.REMOVE,this.payload={url:O}}}class _{constructor(){this.type=n.REMOVE_ALL}}class v{constructor(O,S){this.type=n.REMOVE_FIELD,this.payload={url:O,uuid:S}}}},2538:(R,c,e)=>{"use strict";e.d(c,{F:()=>i,Q:()=>p});var t=e(22590),n=e(45608),a=e(69805);const i="/trash",d={editable:!1,isNew:!1,isValid:!0},r={editable:!0,isNew:!0,isValid:void 0},l=Object.create(null);function p(U=l,L){switch(L.type){case t.Vi.INITIALIZE_FIELDS:return function h(U,L){const j=L.payload.url,z=L.payload.lastModified,re=L.payload.patchOperationService,W=function g(U){const L=U.map($=>$.uuid),j={};return L.forEach($=>j[$]=d),j}(L.payload.fields),ie=Object.assign({},U[j],{fieldStates:W},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:z},{patchOperationService:re});return Object.assign({},U,{[j]:ie})}(U,L);case t.Vi.ADD_FIELD:return function m(U,L){const j=L.payload.url,$=L.payload.field,z=L.payload.changeType,re=U[j]||{fieldUpdates:{}};let W=re.fieldStates;z===a.m.ADD&&(W=Object.assign({},{[$.uuid]:r},re.fieldStates));let ie=re.fieldUpdates[$.uuid]||{};const ce=function M(U,L){return(0,n.xI)(L)?U:(0,n.xI)(U)?L:U.valueOf()>L.valueOf()?U:L}(ie.changeType,z);ie=Object.assign({},{field:$,changeType:ce});const ne=Object.assign({},re.fieldUpdates,{[$.uuid]:ie}),K=Object.assign({},re,{fieldStates:W},{fieldUpdates:ne});return Object.assign({},U,{[j]:K})}(U,L);case t.Vi.SELECT_VIRTUAL_METADATA:return function _(U,L){const j=L.payload.url,$=L.payload.source,W=U[j]||{},ie=Object.assign({},W.virtualMetadataSources[$],{[L.payload.uuid]:L.payload.select}),ce=Object.assign({},W.virtualMetadataSources,{[$]:ie}),ne=Object.assign({},W,{virtualMetadataSources:ce});return Object.assign({},U,{[j]:ne})}(U,L);case t.Vi.DISCARD:return function v(U,L){if(L.payload.discardAll){let j=Object.assign({},U);return Object.keys(U).filter($=>!$.endsWith(i)).forEach($=>{j=y($,j)}),j}return y(L.payload.url,U)}(U,L);case t.Vi.REINSTATE:return function O(U,L){const j=L.payload.url,z=Object.assign({},U,{[j]:U[j+i]});return delete z[j+i],z}(U,L);case t.Vi.REMOVE:return function S(U,L){return function b(U,L){const j=Object.assign({},U);return delete j[L+i],j}(U,L.payload.url)}(U,L);case t.Vi.REMOVE_ALL:return function o(U){const L=Object.assign({},U);return Object.keys(U).filter(j=>j.endsWith(i)).forEach(j=>{delete L[j]}),L}(U);case t.Vi.REMOVE_FIELD:return function D(U,L){const j=L.payload.url,$=L.payload.uuid;let z=U[j];if((0,n.Uh)(z)){const re=Object.assign({},z.fieldUpdates);(0,n.Uh)(re[$])&&delete re[$];const W=Object.assign({},z.fieldStates);(0,n.Uh)(W[$])&&(W[$].isNew?delete W[$]:W[$]=Object.assign({},W[$],{editable:!1,isValid:!0})),z=Object.assign({},U[j],{fieldUpdates:re,fieldStates:W})}return Object.assign({},U,{[j]:z})}(U,L);case t.Vi.SET_EDITABLE_FIELD:return function C(U,L){const j=L.payload.url,$=L.payload.uuid,re=U[j],ie=Object.assign({},re.fieldStates[$],{editable:L.payload.editable}),ce=Object.assign({},re.fieldStates,{[$]:ie}),ne=Object.assign({},re,{fieldStates:ce});return Object.assign({},U,{[j]:ne})}(U,L);case t.Vi.SET_VALID_FIELD:return function T(U,L){const j=L.payload.url,$=L.payload.uuid,re=U[j],ie=Object.assign({},re.fieldStates[$],{isValid:L.payload.isValid}),ce=Object.assign({},re.fieldStates,{[$]:ie}),ne=Object.assign({},re,{fieldStates:ce});return Object.assign({},U,{[j]:ne})}(U,L);default:return U}}function y(U,L){const j=L[U],$={};Object.keys(j.fieldStates).forEach(re=>{const W=j.fieldStates[re];W.isNew||($[re]=Object.assign({},W,{editable:!1,isValid:!0}))});const z=Object.assign({},j,{fieldUpdates:{},fieldStates:$});return Object.assign({},L,{[U]:z},{[U+i]:j})}},5453:(R,c,e)=>{"use strict";e.d(c,{d:()=>b});var t=e(89702),n=e(68671),a=e(2538),i=e(22590),d=e(21160),r=e(48358),l=e(77007),p=e(49887),h=e(45608),m=e(69805),_=e(98678);function y(o){return(0,t.P1)(function v(){return(0,t.P1)(n.v,o=>o["cache/object-updates"])}(),D=>D[o])}let b=(()=>{class o{constructor(M,C){this.store=M,this.injector=C}initialize(M,C,T,g){this.store.dispatch(new i.gI(M,C,T,g))}saveFieldUpdate(M,C,T){this.store.dispatch(new i.Cf(M,C,T))}getObjectEntry(M){return this.store.pipe((0,t.Ys)(y(M)))}getFieldState(M,C){return this.store.pipe((0,t.Ys)(function O(o,D){return(0,t.P1)(y(o),M=>M.fieldStates[D])}(M,C)))}getFieldUpdates(M,C,T){return this.getObjectEntry(M).pipe((0,d.w)(U=>{const L={};return(0,h.Uh)(U)&&Object.keys(T?U.fieldUpdates:U.fieldStates).forEach(j=>{L[j]=U.fieldUpdates[j]}),this.getFieldUpdatesExclusive(M,C).pipe((0,r.U)(j=>(Object.keys(j).forEach($=>{L[$]=j[$]}),L)))}))}getFieldUpdatesExclusive(M,C){return this.getObjectEntry(M).pipe((0,h.tz)(),(0,r.U)(g=>{const U={};for(const L of C){let j=g.fieldUpdates[L.uuid];(0,h.xb)(j)&&(j={field:L,changeType:void 0}),U[L.uuid]=j}return U}))}isEditable(M,C){return this.getFieldState(M,C).pipe((0,l.h)(g=>(0,h.Uh)(g)),(0,r.U)(g=>g.editable),(0,p.x)())}isValid(M,C){return this.getFieldState(M,C).pipe((0,l.h)(g=>(0,h.Uh)(g)),(0,r.U)(g=>g.isValid),(0,p.x)())}isValidPage(M){return this.getObjectEntry(M).pipe((0,r.U)(T=>Object.values(T.fieldStates).findIndex(g=>!g.isValid)<0),(0,p.x)())}saveAddFieldUpdate(M,C){this.saveFieldUpdate(M,C,m.m.ADD)}saveRemoveFieldUpdate(M,C){this.saveFieldUpdate(M,C,m.m.REMOVE)}saveChangeFieldUpdate(M,C){this.saveFieldUpdate(M,C,m.m.UPDATE)}isSelectedVirtualMetadata(M,C,T){return this.store.pipe((0,t.Ys)(function S(o,D){return(0,t.P1)(y(o),M=>M.virtualMetadataSources[D])}(M,C)),(0,r.U)(g=>g&&g[T]))}setSelectedVirtualMetadata(M,C,T,g){this.store.dispatch(new i.M0(M,C,T,g))}setEditableFieldUpdate(M,C,T){this.store.dispatch(new i.SM(M,C,T))}setValidFieldUpdate(M,C,T){this.store.dispatch(new i.No(M,C,T))}discardFieldUpdates(M,C){this.store.dispatch(new i.O3(M,C))}discardAllFieldUpdates(M,C){this.store.dispatch(new i.O3(M,C,!0))}reinstateFieldUpdates(M){this.store.dispatch(new i.CB(M))}removeSingleFieldUpdate(M,C){this.store.dispatch(new i.cT(M,C))}getUpdatedFields(M,C){return this.getObjectEntry(M).pipe((0,r.U)(g=>{const U=[];return Object.keys(g.fieldStates).forEach(L=>{const j=g.fieldUpdates[L];if((0,h.xI)(j)||j.changeType!==m.m.REMOVE){let $;$=(0,h.UE)(j)?j.field:C.find(z=>z.uuid===L),U.push($)}}),U}))}hasUpdates(M){return this.getObjectEntry(M).pipe((0,r.U)(C=>(0,h.Uh)(C)&&(0,h.UE)(C.fieldUpdates)))}isReinstatable(M){return this.hasUpdates(M+a.F)}getLastModified(M){return this.getObjectEntry(M).pipe((0,r.U)(C=>C.lastModified))}createPatch(M){return this.getObjectEntry(M).pipe((0,r.U)(C=>{let T=[];return(0,h.Uh)(C.patchOperationService)&&(T=this.injector.get(C.patchOperationService).fieldUpdatesToPatchOperations(C.fieldUpdates)),T}))}}return o.\u0275fac=function(M){return new(M||o)(_.\u0275\u0275inject(t.yh),_.\u0275\u0275inject(_.Injector))},o.\u0275prov=_.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})()},20942:(R,c,e)=>{"use strict";e.d(c,{b:()=>_,l:()=>v});var m,t=e(70655),n=e(87483),a=e(45608),i=e(65804),d=e(23589),r=e(26523),l=e(3798),p=e(38666),h=e(99449);const _=(y,O,S=!1,b)=>{const o=new v;let D;return(0,a.xI)(y)&&(y=new n.S),o.pageInfo=y,(0,a.xb)(O)?D=[]:(D=O.map(M=>(0,a.Uh)(M)&&(0,a.Uh)(M._links)&&(0,a.Uh)(M._links.self)?M._links.self:null),D.every(M=>(0,a.xI)(M))&&(D=void 0)),o._links=Object.assign({},b,y._links,{page:D}),(!S||(0,a.o8)(D))&&(o.page=O),o};let v=((m=class extends h.X{constructor(){super(...arguments),this.type=d.j}get elementsPerPage(){return(0,a.Uh)(this.pageInfo)&&(0,a.Uh)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(O){this.pageInfo.elementsPerPage=O}get totalElements(){return(0,a.Uh)(this.pageInfo)&&(0,a.Uh)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(O){this.pageInfo.totalElements=O}get totalPages(){return(0,a.Uh)(this.pageInfo)&&(0,a.Uh)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(O){this.pageInfo.totalPages=O}get currentPage(){return(0,a.Uh)(this.pageInfo)&&(0,a.Uh)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(O){this.pageInfo.currentPage=O}get first(){if((0,a.Uh)(this._links.first)&&(0,a.Uh)(this._links.first.href))return this._links.first.href}set first(O){this._links.first={href:O},this.pageInfo._links.first={href:O}}get prev(){if((0,a.Uh)(this._links.prev)&&(0,a.Uh)(this._links.prev.href))return this._links.prev.href}set prev(O){this._links.prev={href:O},this.pageInfo._links.prev={href:O}}get next(){if((0,a.Uh)(this._links.next)&&(0,a.Uh)(this._links.next.href))return this._links.next.href}set next(O){this._links.next={href:O},this.pageInfo._links.next={href:O}}get last(){if((0,a.Uh)(this._links.last)&&(0,a.Uh)(this._links.last.href))return this._links.last.href}set last(O){this._links.last={href:O},this.pageInfo._links.last={href:O}}get self(){return this._links.self.href}set self(O){this._links.self={href:O},this.pageInfo._links.self={href:O}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}}).type=d.j,m);(0,t.__decorate)([l.OJ,(0,t.__metadata)("design:type",Object)],v.prototype,"type",void 0),(0,t.__decorate)([p.autoserialize,(0,t.__metadata)("design:type",r._)],v.prototype,"objectType",void 0),(0,t.__decorate)([p.autoserialize,(0,t.__metadata)("design:type",n.S)],v.prototype,"pageInfo",void 0),(0,t.__decorate)([p.deserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"_links",void 0),v=(0,t.__decorate)([i.KB],v)},23589:(R,c,e)=>{"use strict";e.d(c,{j:()=>n});const n=new(e(26523)._)("paginated-list")},97920:(R,c,e)=>{"use strict";e.d(c,{n:()=>b});var S,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(24320),l=e(21160),p=e(39034),h=e(14246),m=e(54254),_=e(1411),v=e(30828),y=e(65384),O=e(98678);let b=((S=class extends h.t{constructor(D,M,C,T,g,U){super("processes",D,M,C,T),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T,this.bitstreamDataService=g,this.notificationsService=U,this.findAllData=new m.k(this.linkPath,D,M,C,T,this.responseMsToLive),this.deleteData=new v.R(this.linkPath,D,M,C,T,U,this.responseMsToLive,this.constructIdEndpoint)}getFilesEndpoint(D){return this.getBrowseEndpoint().pipe((0,l.w)(M=>this.halService.getEndpoint("files",`${M}/${D}`)))}getFiles(D){const M=this.getFilesEndpoint(D);return this.bitstreamDataService.findListByHref(M)}findAll(D,M,C,...T){return this.findAllData.findAll(D,M,C,...T)}delete(D,M){return this.deleteData.delete(D,M)}deleteByHref(D,M){return this.deleteData.deleteByHref(D,M)}}).\u0275fac=function(D){return new(D||S)(O.\u0275\u0275inject(n.s),O.\u0275\u0275inject(a.Q),O.\u0275\u0275inject(i.a),O.\u0275\u0275inject(d.q),O.\u0275\u0275inject(p.J),O.\u0275\u0275inject(y.T))},S.\u0275prov=O.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S);b=(0,t.__decorate)([(0,_.cQ)(r.d),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q,p.J,y.T])],b)},75286:(R,c,e)=>{"use strict";e.d(c,{As:()=>D,BW:()=>M,Q_:()=>T,UY:()=>g,rI:()=>C});var o,t=e(70655),n=e(16066),a=e(55624),i=e(18005),d=e(77176),r=e(48358),l=e(65521),p=e(96526),h=e(6952),m=e(40731),_=e(45608),v=e(10572),y=e(14246),O=e(54254),S=e(1411),b=e(98678);const D="metadata-import",M="metadata-export",C="import",T="export";let g=((o=class extends y.t{constructor(L,j,$,z){super("scripts",L,j,$,z),this.requestService=L,this.rdbService=j,this.objectCache=$,this.halService=z,this.findAllData=new O.k(this.linkPath,L,j,$,z,this.responseMsToLive)}invoke(L,j,$){const z=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,d.q)(1),(0,r.U)(re=>new l.R(re,L,"processes").toString()),(0,r.U)(re=>{const W=this.getInvocationFormData(j,$);return new p.xO(z,re,W)})).subscribe(re=>this.requestService.send(re)),this.rdbService.buildFromRequestUUID(z)}getInvocationFormData(L,j){const $=new FormData;return $.set("properties",JSON.stringify(L)),j.forEach(z=>{$.append("file",z)}),$}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,v.hC)(),(0,r.U)(j=>(0,_.Uh)(j.payload)))}findAll(L,j,$,...z){return this.findAllData.findAll(L,j,$,...z)}}).\u0275fac=function(L){return new(L||o)(b.\u0275\u0275inject(h.s),b.\u0275\u0275inject(n.Q),b.\u0275\u0275inject(a.a),b.\u0275\u0275inject(i.q))},o.\u0275prov=b.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o);g=(0,t.__decorate)([(0,S.cQ)(m.x),(0,t.__metadata)("design:paramtypes",[h.s,n.Q,a.a,i.q])],g)},84332:(R,c,e)=>{"use strict";e.d(c,{U:()=>et});var Ee,t=e(70655),n=e(78964),a=e(89702),i=e(53426),d=e(9237),r=e(48358),l=e(77176),p=e(49887),h=e(21160),m=e(27303),_=e(77007),v=e(9302),y=e(69637),O=e(58079),S=e(39100),b=e(45608),o=e(84329),D=e(46533),M=e(16066),C=e(5803),T=e(55624),g=e(18005),U=e(56035),L=e(65602),j=e(10572),$=e(29442),z=e(96526),re=e(6952),W=e(45132),ie=e(56190),ce=e(6144),ne=e(29908),K=e(49998),w=e(14246),Q=e(1411),oe=e(87899),q=e(13228),ee=e(50904),J=e(98678);const Oe=Ze=>Ze.relationshipLists,Re=Ze=>(0,S.GY)(Ze,Oe),Pe=Ze=>tt=>tt.pipe((0,j.Gp)(),(0,r.U)(yt=>yt.uuid===Ze.uuid));let et=((Ee=class extends w.t{constructor(tt,yt,Ne,mt,Dt,At,Jt){super("relationships",tt,yt,mt,Ne,9e5),this.requestService=tt,this.rdbService=yt,this.halService=Ne,this.objectCache=mt,this.itemService=Dt,this.appStore=At,this.paginatedRelationsToItems=Jt,this.searchData=new ne.l(this.linkPath,tt,yt,mt,Ne,this.responseMsToLive),this.putData=new K.E(this.linkPath,tt,yt,mt,Ne,this.responseMsToLive)}getRelationshipEndpoint(tt){return this.getBrowseEndpoint().pipe((0,r.U)(yt=>`${yt}/${tt}`))}deleteRelationship(tt,yt){return this.getRelationshipEndpoint(tt).pipe((0,b.iy)(),(0,l.q)(1),(0,p.x)(),(0,r.U)(Ne=>new z.jx(this.requestService.generateRequestId(),Ne+"?copyVirtualMetadata="+yt)),(0,ie.wG)(this.requestService),(0,h.w)(Ne=>this.rdbService.buildFromRequestUUID(Ne.uuid)),(0,j.hC)(),(0,m.b)(()=>this.refreshRelationshipItemsInCacheByRelationship(tt)))}addRelationship(tt,yt,Ne,mt,Dt){const At=Object.create({});let Jt=new n.WM;return Jt=Jt.append("Content-Type","text/uri-list"),At.headers=Jt,this.halService.getEndpoint(this.linkPath).pipe((0,b.iy)(),(0,l.q)(1),(0,r.U)($t=>`${$t}?relationshipType=${tt}`),(0,r.U)($t=>(0,b.UE)(mt)?`${$t}&leftwardValue=${mt}`:$t),(0,r.U)($t=>(0,b.UE)(Dt)?`${$t}&rightwardValue=${Dt}`:$t),(0,r.U)($t=>new z.xo(this.requestService.generateRequestId(),$t,`${yt.self} \n ${Ne.self}`,At)),(0,ie.wG)(this.requestService),(0,h.w)($t=>this.rdbService.buildFromRequestUUID($t.uuid)),(0,j.hC)(),(0,m.b)(()=>this.refreshRelationshipItemsInCache(yt)),(0,m.b)(()=>this.refreshRelationshipItemsInCache(Ne)))}refreshRelationshipItemsInCacheByRelationship(tt){this.findById(tt,!0,!1,(0,D.l)("leftItem"),(0,D.l)("rightItem")).pipe((0,j.xw)(),(0,j.xe)(),(0,h.w)(yt=>(0,i.a)(yt.leftItem.pipe((0,j.xw)(),(0,j.xe)()),yt.rightItem.pipe((0,j.xw)(),(0,j.xe)()))),(0,l.q)(1)).subscribe(([yt,Ne])=>{this.refreshRelationshipItemsInCache(yt),this.refreshRelationshipItemsInCache(Ne)})}refreshRelationshipItemsInCache(tt){this.objectCache.remove(tt._links.self.href),this.requestService.removeByHrefSubstring(tt.uuid),(0,i.a)([this.objectCache.hasByHref$(tt._links.self.href),this.requestService.hasByHref$(tt.self)]).pipe((0,_.h)(([yt,Ne])=>!yt&&!Ne),(0,l.q)(1)).subscribe(()=>this.itemService.findByHref(tt._links.self.href))}getItemRelationshipsArray(tt,...yt){return this.findListByHref(tt._links.relationships.href,void 0,!0,!1,...yt).pipe((0,j.xw)(),(0,j.xe)(),(0,r.U)(Ne=>Ne.page),(0,b.tz)(),(0,p.x)((0,O.be)()))}getRelationshipTypeLabelsByItem(tt){return this.getItemRelationshipsArray(tt,(0,D.l)("leftItem"),(0,D.l)("rightItem"),(0,D.l)("relationshipType")).pipe((0,h.w)(yt=>(0,i.a)(yt.map(Ne=>this.getRelationshipTypeLabelByRelationshipAndItem(Ne,tt)))),(0,r.U)(yt=>Array.from(new Set(yt))))}getRelationshipTypeLabelByRelationshipAndItem(tt,yt){return tt.leftItem.pipe((0,j.xw)(),(0,r.U)(Ne=>Ne.payload),(0,h.w)(Ne=>tt.relationshipType.pipe((0,j.xw)(),(0,r.U)(mt=>mt.payload),(0,r.U)(mt=>Ne.uuid===yt.uuid?mt.leftwardType:mt.rightwardType))))}getRelatedItems(tt){return this.getItemRelationshipsArray(tt,(0,D.l)("leftItem"),(0,D.l)("rightItem"),(0,D.l)("relationshipType")).pipe((0,O._U)(tt.uuid))}getRelatedItemsByLabel(tt,yt,Ne){let mt=(0,oe.IX)(Ne.fetchThumbnail);return mt.push((0,D.l)("relationshipType")),this.getItemRelationshipsByLabel(tt,yt,Ne,!0,!0,...mt).pipe(this.paginatedRelationsToItems(tt.uuid))}getItemRelationshipsByLabel(tt,yt,Ne,mt=!0,Dt=!0,...At){let Jt=new ce.R;Ne&&(Jt=Object.assign(new ce.R,Ne));const $t=[new C.g("label",yt),new C.g("dso",tt.id)];return Jt.searchParams=Jt.searchParams?[...Jt.searchParams,...$t]:$t,this.searchBy("byLabel",Jt,mt,Dt,...At)}getRelationshipsByRelatedItemIds(tt,yt){return this.getItemRelationshipsArray(tt,(0,D.l)("leftItem"),(0,D.l)("rightItem")).pipe((0,h.w)(Ne=>(0,i.a)(Ne.map(mt=>{const Dt=this.isItemInUUIDArray(mt.leftItem,yt),At=this.isItemInUUIDArray(mt.rightItem,yt);return(0,i.a)([Dt,At]).pipe((0,_.h)(([Jt,$t])=>Jt||$t),(0,r.U)(()=>mt),(0,v.O)(void 0))}))),(0,r.U)(Ne=>Ne.filter(mt=>(0,b.Uh)(mt))))}isItemInUUIDArray(tt,yt){return tt.pipe((0,j.xw)(),(0,r.U)(Ne=>Ne.payload),(0,r.U)(Ne=>yt.includes(Ne.uuid)))}getRelationshipByItemsAndLabel(tt,yt,Ne,mt){return this.getItemRelationshipsByLabel(tt,Ne,mt,!0,!1,(0,D.l)("relationshipType"),(0,D.l)("leftItem"),(0,D.l)("rightItem")).pipe((0,j.xw)(),(0,y.z)(Dt=>Dt.payload.page),(0,y.z)(Dt=>(0,i.a)([this.itemService.findByHref(Dt._links.leftItem.href).pipe(Pe(yt)),this.itemService.findByHref(Dt._links.rightItem.href).pipe(Pe(yt))]).pipe((0,r.U)(([At,Jt])=>At||Jt),(0,r.U)(At=>At?Dt:void 0))),(0,_.h)(Dt=>(0,b.Uh)(Dt)),(0,l.q)(1))}setNameVariant(tt,yt,Ne){this.appStore.dispatch(new o.Yj(tt,yt,Ne))}getNameVariant(tt,yt){return this.appStore.pipe((0,a.Ys)(((Ze,tt)=>(0,S.GY)(tt,Re(Ze)))(tt,yt)))}removeNameVariant(tt,yt){this.appStore.dispatch(new o.Cg(tt,yt))}getNameVariantsByListID(tt){return this.appStore.pipe((0,a.Ys)(Re(tt)))}updateNameVariant(tt,yt,Ne,mt){return this.getRelationshipByItemsAndLabel(tt,yt,Ne).pipe((0,h.w)(Dt=>Dt.relationshipType.pipe((0,j.xw)(),(0,j.xe)(),(0,r.U)(At=>({relation:Dt,type:At})))),(0,h.w)(Dt=>{const{relation:At,type:Jt}=Dt;let $t;return $t=Object.assign(new U.W,At,Ne===Jt.leftwardType?{rightwardValue:mt}:{leftwardValue:mt}),this.update($t)}))}isLeftItem(tt,yt){return tt.leftItem.pipe((0,j.xw)(),(0,j.xe)(),(0,_.h)(Ne=>(0,b.Uh)(Ne)&&(0,b.UE)(Ne.uuid)),(0,r.U)(Ne=>Ne.uuid===yt.uuid))}updatePlace(tt){let yt;yt=Object.assign(new U.W,tt.relationship,tt.useLeftItem?{rightPlace:tt.newIndex}:{leftPlace:tt.newIndex});const Ne=this.update(yt);return Ne.pipe((0,_.h)(mt=>mt.state===W.q$.ResponsePending),(0,l.q)(1)).subscribe(mt=>{mt.state===W.q$.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(tt.relationship.id)}),Ne}update(tt){return this.putData.put(tt)}searchByItemsAndType(tt,yt,Ne,mt){const Dt=[{fieldName:"typeId",fieldValue:tt},{fieldName:"focusItem",fieldValue:yt},{fieldName:"relationshipLabel",fieldValue:Ne},{fieldName:"size",fieldValue:mt.length},{fieldName:"embed",fieldValue:"leftItem"},{fieldName:"embed",fieldValue:"rightItem"}];return mt.forEach(At=>{Dt.push({fieldName:"relatedItem",fieldValue:At})}),this.searchBy("byItemsAndType",{searchParams:Dt})}searchBy(tt,yt,Ne,mt,...Dt){return this.searchData.searchBy(tt,yt,Ne,mt,...Dt)}resolveMetadataRepresentation(tt,yt,Ne){return tt.isVirtual?this.findById(tt.virtualValue,!0,!1,(0,D.l)("leftItem"),(0,D.l)("rightItem")).pipe((0,j.xw)(),(0,h.w)(mt=>(0,i.a)(mt.payload.leftItem,mt.payload.rightItem).pipe((0,_.h)(([Dt,At])=>Dt.hasCompleted&&At.hasCompleted),(0,r.U)(([Dt,At])=>Dt.hasSucceeded&&At.hasSucceeded?At.hasSucceeded&&Dt.payload.id===yt.id?At.payload:At.payload.id===yt.id?Dt.payload:void 0:null),(0,r.U)(Dt=>(0,b.Uh)(Dt)?Object.assign(new ee.A(tt),Dt):Object.assign(new q.S(Ne),tt))))):(0,d.of)(Object.assign(new q.S(Ne),tt))}}).\u0275fac=function(tt){return new(tt||Ee)(J.\u0275\u0275inject(re.s),J.\u0275\u0275inject(M.Q),J.\u0275\u0275inject(g.q),J.\u0275\u0275inject(T.a),J.\u0275\u0275inject($.S),J.\u0275\u0275inject(a.yh),J.\u0275\u0275inject(O.bg))},Ee.\u0275prov=J.\u0275\u0275defineInjectable({token:Ee,factory:Ee.\u0275fac}),Ee);et=(0,t.__decorate)([(0,Q.cQ)(L.Y),(0,t.__metadata)("design:paramtypes",[re.s,M.Q,g.q,T.a,$.S,a.yh,Function])],et)},55491:(R,c,e)=>{"use strict";e.d(c,{X:()=>g});var C,t=e(70655),n=e(53426),a=e(21160),i=e(69637),d=e(91519),r=e(48358),l=e(45608),p=e(46533),h=e(16066),m=e(18005),_=e(83124),v=e(10572),y=e(6952),O=e(23684),S=e(54254),b=e(29908),o=e(55624),D=e(1411),M=e(98678);const T=(U,L)=>U.hasSucceeded&&U.payload.label===L;let g=((C=class extends O.B{constructor(L,j,$,z){super("relationshiptypes",L,j,$,z),this.requestService=L,this.rdbService=j,this.objectCache=$,this.halService=z,this.searchData=new b.l(this.linkPath,L,j,$,z,this.responseMsToLive),this.findAllData=new S.k(this.linkPath,L,j,$,z,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(L,j,$){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,p.l)("leftType"),(0,p.l)("rightType")).pipe((0,v.xw)(),(0,a.w)(z=>z.payload.page),(0,i.z)(z=>z.leftwardType===L?this.checkType(z,j,$):z.rightwardType===L?this.checkType(z,$,j):[null]),(0,d.q)(),(0,r.U)(z=>{const re=z.find(W=>(0,l.Uh)(W));return(0,l.Uh)(re)?re:null}))}checkType(L,j,$){return(0,n.a)([L.leftType.pipe((0,v.hC)()),L.rightType.pipe((0,v.hC)())]).pipe((0,r.U)(([z,re])=>T(z,j)&&T(re,$)?L:null))}searchByEntityType(L,j=!0,$=!0,...z){return this.searchData.searchBy("byEntityType",{searchParams:[{fieldName:"type",fieldValue:L},{fieldName:"size",fieldValue:100}]},j,$,...z).pipe((0,v.xw)(),(0,v.xe)())}}).\u0275fac=function(L){return new(L||C)(M.\u0275\u0275inject(y.s),M.\u0275\u0275inject(h.Q),M.\u0275\u0275inject(o.a),M.\u0275\u0275inject(m.q))},C.\u0275prov=M.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C);g=(0,t.__decorate)([(0,D.cQ)(_.b),(0,t.__metadata)("design:paramtypes",[y.s,h.Q,o.a,m.q])],g)},60012:(R,c,e)=>{"use strict";e.d(c,{N:()=>n});var t=e(45132);class n{constructor(i,d,r,l,p,h,m){this.timeCompleted=i,this.msToLive=d,this.lastUpdated=r,this.state=l,this.errorMessage=p,this.payload=h,this.statusCode=m}get isRequestPending(){return(0,t.tj)(this.state)}get isResponsePending(){return(0,t.vs)(this.state)}get isError(){return(0,t.VZ)(this.state)}get isSuccess(){return(0,t.d6)(this.state)}get isErrorStale(){return(0,t.IZ)(this.state)}get isSuccessStale(){return(0,t.BD)(this.state)}get isLoading(){return(0,t.hg)(this.state)}get hasFailed(){return(0,t.uw)(this.state)}get hasSucceeded(){return(0,t.F0)(this.state)}get hasCompleted(){return(0,t.wJ)(this.state)}get isStale(){return(0,t._T)(this.state)}get hasNoContent(){return 204===this.statusCode}}},45132:(R,c,e)=>{"use strict";e.d(c,{BD:()=>r,F0:()=>m,IZ:()=>d,VZ:()=>a,_T:()=>v,d6:()=>i,hg:()=>p,q$:()=>t,tj:()=>n,uw:()=>h,vs:()=>l,wJ:()=>_});var t=(()=>{return(y=t||(t={})).RequestPending="RequestPending",y.ResponsePending="ResponsePending",y.Error="Error",y.Success="Success",y.ErrorStale="ErrorStale",y.SuccessStale="SuccessStale",t;var y})();const n=y=>y===t.RequestPending,a=y=>y===t.Error,i=y=>y===t.Success,d=y=>y===t.ErrorStale,r=y=>y===t.SuccessStale,l=y=>y===t.ResponsePending,p=y=>n(y)||l(y),h=y=>{if(!p(y))return a(y)||d(y)},m=y=>{if(!p(y))return i(y)||r(y)},_=y=>!p(y),v=y=>r(y)||d(y)},26263:(R,c,e)=>{"use strict";e.d(c,{Ku:()=>r,NH:()=>i,S1:()=>n,YT:()=>h,_9:()=>d,eu:()=>p,kg:()=>l});var t=e(49754);const n={CONFIGURE:(0,t.d)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,t.d)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,t.d)("dspace/core/data/request/SUCCESS"),ERROR:(0,t.d)("dspace/core/data/request/ERROR"),STALE:(0,t.d)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,t.d)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,t.d)("dspace/core/data/request/REMOVE")};class a{constructor(){this.lastUpdated=(new Date).getTime()}}class i extends a{constructor(v){super(),this.type=n.CONFIGURE,this.payload=v}}class d extends a{constructor(v){super(),this.type=n.EXECUTE,this.payload=v}}class r extends a{constructor(v,y,O,S){super(),this.type=n.SUCCESS,this.payload={uuid:v,timeCompleted:(new Date).getTime(),statusCode:y,link:O,unCacheableObject:S}}}class l extends a{constructor(v,y,O){super(),this.type=n.ERROR,this.payload={uuid:v,timeCompleted:(new Date).getTime(),statusCode:y,errorMessage:O}}}class p extends a{constructor(v){super(),this.type=n.STALE,this.payload={uuid:v}}}class h{constructor(v){this.type=n.RESET_TIMESTAMPS,this.payload=v}}},96526:(R,c,e)=>{"use strict";e.d(c,{OR:()=>ce,UU:()=>J,Fo:()=>ee,Vb:()=>Oe,jx:()=>z,Xe:()=>K,Gl:()=>U,fT:()=>T,xO:()=>j,w1:()=>Pe,_x:()=>ie,xo:()=>L,an:()=>$,Wd:()=>Q,c:()=>oe,Ai:()=>q,X0:()=>w,zP:()=>ve,Pv:()=>Re,d0:()=>Ee});var t=e(84461),n=e(73716),a=e(89333),i=e(74614),d=e(80852),r=e(76774);class l{constructor(Ze,tt,yt=a.a.GET,Ne,mt){this.uuid=Ze,this.href=tt,this.method=yt,this.body=Ne,this.options=mt,this.responseMsToLive=r.N.cache.msToLive.default,this.isMultipart=!1}}class p extends l{}var h=e(37196),m=e(55624),_=e(45608),v=e(1591),y=e(79567),O=e(45097),S=e(74347),b=e(11308),o=e(67461),D=e(18654),M=e(98678);let C=(()=>{class et extends h.f8{constructor(tt){super(tt),this.objectCache=tt}deserialize(tt){const yt=tt.browseType;if(tt.type===b.S.value&&(0,_.Uh)(yt)){let Ne;if(yt===v.B.value)Ne=new this.serializerConstructor(O.q);else if(yt===y.E.value)Ne=new this.serializerConstructor(S.R);else{if(yt!==D.C.value)throw new Error("An error occurred while retrieving the browse definitions.");Ne=new this.serializerConstructor(o.w)}return Ne.deserialize(tt)}throw new Error("An error occurred while retrieving the browse definitions.")}}return et.\u0275fac=function(tt){return new(tt||et)(M.\u0275\u0275inject(m.a))},et.\u0275prov=M.\u0275\u0275defineInjectable({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();var T=(()=>{return(et=T||(T={})).UUID="uuid",et.HANDLE="handle",T;var et})();class g extends p{getResponseParser(){return h.f8}}class U extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.GET,yt,Ne),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}}class L extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.POST,yt),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}}class j extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.POST,yt),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne,this.isMultipart=!0}}class $ extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.PUT,yt),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}}class z extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.DELETE,yt),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}}class ie extends g{constructor(Ze,tt,yt,Ne){super(Ze,tt,a.a.PATCH,yt),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}}class ce extends g{getResponseParser(){return C}}class K extends U{getResponseParser(){return t.q}}class w extends U{constructor(Ze,tt){super(Ze,tt)}getResponseParser(){return n.pw}}class Q extends z{constructor(Ze,tt){super(Ze,tt),this.uuid=Ze,this.href=tt}getResponseParser(){return n.pw}}class oe extends ie{constructor(Ze,tt,yt){super(Ze,tt,yt),this.uuid=Ze,this.href=tt,this.body=yt}getResponseParser(){return n.pw}}class q extends L{constructor(Ze,tt,yt,Ne){super(Ze,tt,yt,Ne),this.uuid=Ze,this.href=tt,this.body=yt,this.options=Ne}getResponseParser(){return n.pw}}class ee extends L{constructor(Ze,tt,yt,Ne){super(Ze,tt,yt,Ne),this.body=yt,this.options=Ne}}class J extends U{constructor(Ze,tt){super(Ze,tt)}getResponseParser(){return d.F}}class Ee extends ${constructor(Ze,tt,yt,Ne){super(Ze,tt,yt,Ne),this.body=yt,this.options=Ne}getResponseParser(){return d.F}}class Oe extends z{constructor(Ze,tt,yt){super(Ze,tt),this.resourceID=yt}}class Re extends L{constructor(Ze,tt,yt,Ne){super(Ze,tt,yt,Ne),this.body=yt,this.options=Ne}getResponseParser(){return i.T}}class ve extends z{constructor(Ze,tt,yt,Ne){super(Ze,tt,yt,Ne),this.body=yt,this.options=Ne}getResponseParser(){return i.T}}class Pe extends U{constructor(){super(...arguments),this.responseMsToLive=1e4}}},6952:(R,c,e)=>{"use strict";e.d(c,{s:()=>ie});var t=e(78964),n=e(89702),a=e(14111),i=e(77176),d=e(48358),r=e(27303),l=e(21160),p=e(69637),h=e(66154),m=e(91519),_=e(77007),v=e(62574),y=e.n(v),O=e(45608),S=e(55624),b=e(9717),o=e(26263),D=e(70438),M=e(89333),C=e(68671),T=e(45132),g=e(98678),U=e(4802);const L=(0,n.P1)(C.v,ce=>ce["data/request"]),W=ce=>{if((0,O.xI)(ce))return!1;if((0,T.hg)(ce.state))return!0;if((0,T._T)(ce.state))return!1;{const ne=ce.response.timeCompleted+ce.request.responseMsToLive;return!((new Date).getTime()>ne)}};let ie=(()=>{class ce{constructor(K,w,Q,oe){this.objectCache=K,this.uuidService=w,this.store=Q,this.indexStore=oe,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(K){if(K.method!==M.a.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(K.href))return!0;let w=!1;return this.getByHref(K.href).pipe((0,i.q)(1)).subscribe(Q=>{w=(0,O.Uh)(Q)&&(0,T.hg)(Q.state)}),w}getByUUID(K){return this.store.pipe((0,n.Ys)((ce=>(0,n.P1)(L,ne=>(0,O.Uh)(ne)?ne[ce]:void 0))(K)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return K=>K.pipe((0,d.U)(w=>((0,O.Uh)(w)&&(0,O.Uh)(w.request)&&(0,O.Uh)(w.request.options)&&(0,O.Uh)(w.request.options.headers)&&((w=y()(w)).request.options.headers=Object.assign(new t.WM,w.request.options.headers)),w)))}checkStale(){return K=>K.pipe((0,r.b)(w=>{(0,O.Uh)(w)&&(0,O.Uh)(w.request)&&!(0,T._T)(w.state)&&!W(w)&&this.store.dispatch(new o.eu(w.request.uuid))}))}getByHref(K){return this.store.pipe((0,n.Ys)((ce=>(0,n.P1)(b.mv,L,(ne,K)=>{let w;if((0,O.Uh)(ne))return w=ne[(0,b.z2)(ce)],(0,O.Uh)(K)?K[w]:void 0}))(K)),this.fixRequestHeaders(),this.checkStale())}send(K,w=!1){return w&&K.method!==M.a.GET&&console.warn(`${JSON.stringify(K,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(K,w)&&(this.dispatchRequest(K),K.method===M.a.GET&&this.trackRequestsOnTheirWayToTheStore(K),!0)}uriEncodeBody(K){let w="";return(0,O.UE)(K)&&"object"==typeof K&&Object.keys(K).forEach(Q=>{const oe=encodeURIComponent(Q);if(Array.isArray(K[Q]))for(const q of K[Q]){const J=`${oe}=${encodeURIComponent(q)}`;w=(0,O.xb)(w)?w.concat(J):w.concat("&",J)}else{const ee=`${oe}=${encodeURIComponent(K[Q])}`;w=(0,O.xb)(w)?w.concat(ee):w.concat("&",ee)}}),w}removeByHrefSubstring(K){return this.setStaleByHrefSubstring(K)}setStaleByHrefSubstring(K){const w=this.store.pipe((0,n.Ys)(((ce,ne)=>(0,n.P1)(ce,K=>((ce,ne)=>{let K=[];return(0,O.UE)(ce)&&(K=Object.keys(ce).filter(w=>w.includes(ne)).map(w=>ce[w])),K})(K,ne)))(b.mv,K)),(0,i.q)(1));return w.subscribe(Q=>{for(const oe of Q)this.store.dispatch(new o.eu(oe))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(Q=>Q.indexOf(K)<0),w.pipe((0,l.w)(Q=>(0,O.xb)(Q)?[!0]:(0,a.D)(Q).pipe((0,p.z)(oe=>this.getByUUID(oe)),(0,d.U)(oe=>(0,O.xI)(oe)||(0,T._T)(oe.state)),(0,h.s)(oe=>!0===oe),(0,m.q)(),(0,d.U)(()=>!0))))}setStaleByUUID(K){return this.store.dispatch(new o.eu(K)),this.getByUUID(K).pipe((0,d.U)(w=>(0,T._T)(w.state)),(0,_.h)(w=>w),(0,i.q)(1))}setStaleByHref(K){const w=this.getByHref(K);return w.pipe((0,d.U)(Q=>Q.request.uuid),(0,i.q)(1)).subscribe(Q=>{this.store.dispatch(new o.eu(Q))}),w.pipe((0,d.U)(Q=>(0,T._T)(Q.state)),(0,_.h)(Q=>Q),(0,i.q)(1))}shouldDispatchRequest(K,w){if(K.method!==M.a.GET)return!0;if(this.isPending(K))return!1;if(w){const Q=(0,b.z2)(K.href);if(!0===this.hasByHref(Q))return!1;{let oe=!1;return this.objectCache.getByHref(Q).subscribe(q=>{oe=this.hasByUUID(q.requestUUIDs[0])}).unsubscribe(),!oe}}return!0}dispatchRequest(K){this.store.dispatch(new o.NH(K)),this.store.dispatch(new o._9(K.uuid))}trackRequestsOnTheirWayToTheStore(K){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,K.href],this.getByHref(K.href).pipe((0,_.h)(w=>(0,O.Uh)(w)&&(0,O.Uh)(w.request)&&w.request.uuid===K.uuid),(0,i.q)(1)).subscribe(w=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(Q=>Q!==K.href)})}commit(K){this.store.dispatch(new D.aH(K))}hasByHref(K,w=!0){let Q=!1;return this.hasByHref$(K,w).subscribe(oe=>Q=oe).unsubscribe(),Q}hasByHref$(K,w=!0){return this.getByHref(K).pipe((0,d.U)(Q=>w?W(Q):(0,O.Uh)(Q)))}hasByUUID(K,w=!0){let Q=!1;return this.hasByUUID$(K,w).subscribe(oe=>Q=oe).unsubscribe(),Q}hasByUUID$(K,w=!0){return this.getByUUID(K).pipe((0,d.U)(Q=>w?W(Q):(0,O.Uh)(Q)))}}return ce.\u0275fac=function(K){return new(K||ce)(g.\u0275\u0275inject(S.a),g.\u0275\u0275inject(U._),g.\u0275\u0275inject(n.yh),g.\u0275\u0275inject(n.yh))},ce.\u0275prov=g.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},89333:(R,c,e)=>{"use strict";e.d(c,{a:()=>t});var t=(()=>{return(n=t||(t={})).GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",n.OPTIONS="OPTIONS",n.HEAD="HEAD",n.PATCH="PATCH",t;var n})()},26994:(R,c,e)=>{"use strict";e.d(c,{d:()=>S});var O,t=e(70655),n=e(92905),a=e(6952),i=e(16066),d=e(18005),r=e(9237),l=e(9249),p=e(48358),h=e(23684),m=e(55624),_=e(1411),v=e(10572),y=e(98678);let S=((O=class extends h.B{constructor(o,D,M,C){super("",o,D,M,C,216e5),this.requestService=o,this.rdbService=D,this.objectCache=M,this.halService=C}checkServerAvailability(){return this.findRoot().pipe((0,l.K)(o=>(console.error(o),(0,r.of)(!1))),(0,v.hC)(),(0,p.U)(o=>200===o.statusCode))}findRoot(o=!0,D=!0,...M){return this.findByHref(this.halService.getRootHref(),o,D,...M)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}}).\u0275fac=function(o){return new(o||O)(y.\u0275\u0275inject(a.s),y.\u0275\u0275inject(i.Q),y.\u0275\u0275inject(m.a),y.\u0275\u0275inject(d.q))},O.\u0275prov=y.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O);S=(0,t.__decorate)([(0,_.cQ)(n.D),(0,t.__metadata)("design:paramtypes",[a.s,i.Q,m.a,d.q])],S)},92905:(R,c,e)=>{"use strict";e.d(c,{D:()=>n});const n=new(e(26523)._)("root")},99867:(R,c,e)=>{"use strict";e.d(c,{g:()=>p});var t=e(45608),n=e(75156),a=e(62948),i=e(71476),d=e(57512),r=e(37196),l=e(98678);let p=(()=>{class h extends r.f8{parse(_,v){const O=v.payload._embedded.searchResult||{_embedded:{objects:[]}};O.appliedFilters=v.payload.appliedFilters,O.sort=v.payload.sort,O.scope=v.payload.scope,O.configuration=v.payload.configuration;const S=O._embedded.objects.map(M=>M.hitHighlights).map(M=>{const C={};if(M)for(const T of Object.keys(M)){const g=Object.assign(new d.DA,{value:M[T].join("..."),language:null});C[T]=[g]}return C}),b=O._embedded.objects.filter(M=>(0,t.Uh)(M._embedded)).map(M=>M._embedded.indexableObject).map(M=>this.process(M,_)).map(M=>M._links.self.href).reduce((M,C)=>[...M,C],[]),o=O._embedded.objects.filter(M=>(0,t.Uh)(M._embedded)).map((M,C)=>Object.assign({},M,{indexableObject:b[C],hitHighlights:S[C]}));O.objects=o;const D=new i.F(n.L).deserialize(O);return D.pageInfo=this.processPageInfo(O),this.addToObjectCache(D,_,v),new a.tp(v.statusCode,D._links.self)}}return h.\u0275fac=function(){let m;return function(v){return(m||(m=l.\u0275\u0275getInheritedFactory(h)))(v||h)}}(),h.\u0275prov=l.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})()},19427:(R,c,e)=>{"use strict";e.d(c,{a:()=>O});var y,t=e(70655),n=e(48358),a=e(16066),i=e(18005),d=e(10572),r=e(14537),l=e(6952),p=e(23684),h=e(54254),m=e(55624),_=e(1411),v=e(98678);let O=((y=class extends p.B{constructor(b,o,D,M){super("sites",b,o,D,M),this.requestService=b,this.rdbService=o,this.objectCache=D,this.halService=M,this.findAllData=new h.k(this.linkPath,b,o,D,M,this.responseMsToLive)}find(){return this.findAll().pipe((0,d.xw)(),(0,n.U)(b=>b.payload),(0,n.U)(b=>b.page[0]))}findAll(b,o,D,...M){return this.findAllData.findAll(b,o,D,...M)}}).\u0275fac=function(b){return new(b||y)(v.\u0275\u0275inject(l.s),v.\u0275\u0275inject(a.Q),v.\u0275\u0275inject(m.a),v.\u0275\u0275inject(i.q))},y.\u0275prov=v.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y);O=(0,t.__decorate)([(0,_.cQ)(r.E),(0,t.__metadata)("design:paramtypes",[l.s,a.Q,m.a,i.q])],O)},27153:(R,c,e)=>{"use strict";e.d(c,{o:()=>a});var t=e(62948),n=e(98678);let a=(()=>{class i{parse(r,l){return new t.iq(l.statusCode>=200&&l.statusCode<300,l.statusCode,l.statusText)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},84837:(R,c,e)=>{"use strict";e.d(c,{C:()=>b});var S,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(14246),l=e(54254),p=e(1411),h=e(65384),m=e(74246),_=e(57923),v=e(49998),y=e(29908),O=e(98678);let b=((S=class extends r.t{constructor(D,M,C,T,g){super("systemwidealerts",D,M,C,T),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T,this.notificationsService=g,this.findAllData=new l.k(this.linkPath,D,M,C,T,this.responseMsToLive),this.createData=new m.K(this.linkPath,D,M,C,T,g,this.responseMsToLive),this.putData=new v.E(this.linkPath,D,M,C,T,this.responseMsToLive),this.searchData=new y.l(this.linkPath,D,M,C,T,this.responseMsToLive)}findAll(D,M,C,...T){return this.findAllData.findAll(D,M,C,...T)}create(D,...M){return this.createData.create(D,...M)}put(D){return this.putData.put(D)}searchBy(D,M,C,T,...g){return this.searchData.searchBy(D,M,C,T,...g)}}).\u0275fac=function(D){return new(D||S)(O.\u0275\u0275inject(n.s),O.\u0275\u0275inject(a.Q),O.\u0275\u0275inject(i.a),O.\u0275\u0275inject(d.q),O.\u0275\u0275inject(h.T))},S.\u0275prov=O.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S);b=(0,t.__decorate)([(0,p.cQ)(_.s),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q,h.T])],b)},43550:(R,c,e)=>{"use strict";e.d(c,{_:()=>M});var D,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(27164),l=e(51275),p=e(46533),h=e(10572),m=e(21160),_=e(48358),v=e(45608),y=e(7766),O=e(204),S=e(14246),b=e(1411),o=e(98678);let M=((D=class extends S.t{constructor(T,g,U,L,j){super("versions",T,g,U,L),this.requestService=T,this.rdbService=g,this.objectCache=U,this.halService=L,this.comparator=j,this.patchData=new y.B(this.linkPath,T,g,U,L,j,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(T,g=!1,U=!0){return(0,v.UE)(T)?this.findById(T.id,g,U,(0,p.l)("versionhistory")).pipe((0,h.Gp)(),(0,m.w)(L=>L.versionhistory),(0,h.Gp)()):r.E}getHistoryIdFromVersion(T){return this.getHistoryFromVersion(T).pipe((0,_.U)(g=>g.id))}patch(T,g){return this.patchData.patch(T,g)}update(T){return this.patchData.update(T)}commitUpdates(T){this.patchData.commitUpdates(T)}createPatchFromCache(T){return this.patchData.createPatchFromCache(T)}}).\u0275fac=function(T){return new(T||D)(o.\u0275\u0275inject(n.s),o.\u0275\u0275inject(a.Q),o.\u0275\u0275inject(i.a),o.\u0275\u0275inject(d.q),o.\u0275\u0275inject(O.v))},D.\u0275prov=o.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D);M=(0,t.__decorate)([(0,b.cQ)(l.q),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q,O.v])],M)},33895:(R,c,e)=>{"use strict";e.d(c,{Q:()=>j});var L,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(78964),l=e(96526),p=e(9237),h=e(40772),m=e(21160),_=e(48358),v=e(77176),y=e(77007),O=e(23337),S=e(46533),b=e(43550),o=e(10572),D=e(45180),M=e(45608),C=e(56190),T=e(14246),g=e(1411),U=e(98678);let j=((L=class extends T.t{constructor(z,re,W,ie,ce){super("versionhistories",z,re,W,ie),this.requestService=z,this.rdbService=re,this.objectCache=W,this.halService=ie,this.versionDataService=ce,this.versionsEndpoint="versions"}getBrowseEndpoint(z={},re){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(z){return this.getBrowseEndpoint().pipe((0,m.w)(re=>this.halService.getEndpoint(this.versionsEndpoint,`${re}/${z}`)))}getVersions(z,re,W=!0,ie=!0,...ce){const ne=this.getVersionsEndpoint(z).pipe((0,_.U)(K=>re?re.toRestUrl(K):K));return this.versionDataService.findListByHref(ne,void 0,W,ie,...ce)}createVersion(z,re){const W=Object.create({});let ie=new r.WM;return ie=ie.append("Content-Type","text/uri-list"),W.headers=ie,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,v.q)(1),(0,_.U)(ce=>re?.length>0?`${ce}?summary=${re}`:`${ce}`),(0,_.U)(ce=>new l.xo(this.requestService.generateRequestId(),ce,z,W)),(0,C.wG)(this.requestService),(0,m.w)(ce=>this.rdbService.buildFromRequestUUID(ce.uuid)),(0,o.hC)())}getLatestVersionFromHistory$(z){const re=Object.assign(new D.r,{id:"item-newest-version-options",currentPage:1,pageSize:1}),W=new h.t({pagination:re});return this.getVersions(z.id,W,!1,!0,(0,S.l)("item")).pipe((0,o.g1)(),(0,o.xe)(),(0,M.tz)(),(0,y.h)(ie=>ie.page.length>0),(0,_.U)(ie=>ie.page[0]))}getLatestVersion$(z){return z.id?this.versionDataService.findById(z.id,!1,!0,(0,S.l)("versionhistory")).pipe((0,o.Gp)(),(0,m.w)(re=>re.versionhistory),(0,o.Gp)(),(0,m.w)(re=>this.getLatestVersionFromHistory$(re))):(0,p.of)(null)}isLatest$(z){return z?this.getLatestVersion$(z).pipe((0,v.q)(1),(0,m.w)(re=>(0,p.of)(z.version===re.version))):(0,p.of)(null)}hasDraftVersion$(z){return this.versionDataService.findByHref(z,!0,!0,(0,S.l)("versionhistory")).pipe((0,o.hC)(),(0,m.w)(re=>re.hasSucceeded&&!re.hasNoContent?(0,p.of)(re).pipe((0,o.Gp)(),(0,m.w)(W=>this.versionDataService.getHistoryFromVersion(W)),(0,_.U)(W=>!!W&&W.draftVersion)):(0,p.of)(!1)))}getLatestVersionItemFromHistory$(z){return this.getLatestVersionFromHistory$(z).pipe((0,m.w)(re=>re.item),(0,o.Gp)())}getVersionHistoryFromVersion$(z){return this.versionDataService.getHistoryIdFromVersion(z).pipe((0,v.q)(1),(0,m.w)(re=>this.findById(re)),(0,o.Gp)())}invalidateVersionHistoryCache(z){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+z)}}).\u0275fac=function(z){return new(z||L)(U.\u0275\u0275inject(n.s),U.\u0275\u0275inject(a.Q),U.\u0275\u0275inject(i.a),U.\u0275\u0275inject(d.q),U.\u0275\u0275inject(b._))},L.\u0275prov=U.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac}),L);j=(0,t.__decorate)([(0,g.cQ)(O.h),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q,b._])],j)},62460:(R,c,e)=>{"use strict";e.d(c,{Q:()=>_});var m,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(26711),l=e(1411),p=e(14246),h=e(98678);let _=((m=class extends p.t{constructor(y,O,S,b){super("workflowactions",y,O,S,b),this.requestService=y,this.rdbService=O,this.objectCache=S,this.halService=b,this.linkPath="workflowactions"}}).\u0275fac=function(y){return new(y||m)(h.\u0275\u0275inject(n.s),h.\u0275\u0275inject(a.Q),h.\u0275\u0275inject(i.a),h.\u0275\u0275inject(d.q))},m.\u0275prov=h.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m);_=(0,t.__decorate)([(0,l.cQ)(r.j),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q])],_)},49281:(R,c,e)=>{"use strict";e.d(c,{Y:()=>h});var t=e(99911),n=e(48358),a=e(9249),i=e(78964),d=e(89333),r=e(45608),l=e(98678);const p="application/json; charset=utf-8";let h=(()=>{class m{constructor(v){this.http=v}get(v){const y={observe:"response",headers:new i.WM({"Content-Type":p})};return this.http.get(v,y).pipe((0,n.U)(O=>({payload:O.body,statusCode:O.status,statusText:O.statusText})),(0,a.K)(O=>(console.log("Error: ",O),(0,t._)({statusCode:O.status,statusText:O.statusText,message:(0,r.Uh)(O.error)&&(0,r.UE)(O.error.message)?O.error.message:O.message}))))}request(v,y,O,S,b){const o={};return o.body=O,v===d.a.POST&&(0,r.UE)(O)&&(0,r.UE)(O.name)&&(o.body=this.buildFormData(O)),o.observe="response",S&&S.responseType&&(o.responseType=S.responseType),o.headers=(0,r.xI)(S)||(0,r.xI)(S.headers)?new i.WM:S.headers,S&&S.params&&(o.params=S.params),S&&S.withCredentials&&(o.withCredentials=S.withCredentials),!o.headers.has("Content-Type")&&!b&&(o.headers=o.headers.set("Content-Type",p)),this.http.request(v,y,o).pipe((0,n.U)(D=>({payload:D.body,headers:D.headers,statusCode:D.status,statusText:D.statusText})),(0,a.K)(D=>(0,r.Uh)(D.status)?(0,t._)({statusCode:D.status,statusText:D.statusText,message:(0,r.Uh)(D.error)&&(0,r.UE)(D.error.message)?D.error.message:D.message}):(0,t._)(D)))}buildFormData(v){const y=new FormData;if(y.append("name",v.name),v.metadata)for(const O of Object.keys(v.metadata))for(const S of v.allMetadataValues(O))y.append(O,S);return y}}return m.\u0275fac=function(v){return new(v||m)(l.\u0275\u0275inject(i.eN))},m.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},71476:(R,c,e)=>{"use strict";e.d(c,{F:()=>n});var t=e(38666);class n{constructor(i){this.modelType=i}serialize(i){return(0,t.Serialize)(i,this.modelType)}serializeArray(i){return(0,t.Serialize)(i,this.modelType)}deserialize(i){if(Array.isArray(i))throw new Error("Expected a single model, use deserializeArray() instead");return(0,t.Deserialize)(i,this.modelType)}deserializeArray(i){if(!Array.isArray(i))throw new Error("Expected an Array, use deserialize() instead");return(0,t.Deserialize)(i,this.modelType)}}},783:(R,c,e)=>{"use strict";e.d(c,{A:()=>i});var t=e(9237),n=e(78944),a=e(76774);class i{constructor(r){this.router=r}canActivate(r,l){return a.N.info.enableEndUserAgreement?this.hasAccepted().pipe((0,n.R5)(this.router,l.url)):(0,t.of)(!0)}}},2485:(R,c,e)=>{"use strict";e.d(c,{J:()=>r});var t=e(783),n=e(9237),a=e(26112),i=e(98678),d=e(67522);let r=(()=>{class l extends t.A{constructor(h,m){super(m),this.endUserAgreementService=h,this.router=m}hasAccepted(){return(0,n.of)(this.endUserAgreementService.isCookieAccepted())}}return l.\u0275fac=function(h){return new(h||l)(i.\u0275\u0275inject(a.u4),i.\u0275\u0275inject(d.F0))},l.\u0275prov=i.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac}),l})()},38043:(R,c,e)=>{"use strict";e.d(c,{J:()=>l});var t=e(9237),n=e(783),a=e(26112),i=e(76774),d=e(98678),r=e(67522);let l=(()=>{class p extends n.A{constructor(m,_){super(_),this.endUserAgreementService=m,this.router=_}hasAccepted(){return i.N.info.enableEndUserAgreement?this.endUserAgreementService.hasCurrentUserAcceptedAgreement(!0):(0,t.of)(!0)}}return p.\u0275fac=function(m){return new(m||p)(d.\u0275\u0275inject(a.u4),d.\u0275\u0275inject(r.F0))},p.\u0275prov=d.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},26112:(R,c,e)=>{"use strict";e.d(c,{DJ:()=>v,u4:()=>y});var t=e(38123),n=e(53929),a=e(9237),i=e(21160),d=e(48358),r=e(77176),l=e(45608),p=e(75195),h=e(10572),m=e(98678);const _="hasAgreedEndUser",v="dspace.agreements.end-user";let y=(()=>{class O{constructor(b,o,D){this.cookie=b,this.authService=o,this.ePersonService=D}hasCurrentUserOrCookieAcceptedAgreement(b){return this.isCookieAccepted()?(0,a.of)(!0):this.hasCurrentUserAcceptedAgreement(b)}hasCurrentUserAcceptedAgreement(b){return this.authService.isAuthenticated().pipe((0,i.w)(o=>o?this.authService.getAuthenticatedUserFromStore().pipe((0,d.U)(D=>(0,l.Uh)(D)&&D.hasMetadata(v)&&"true"===D.firstMetadata(v).value)):(0,a.of)(b)))}setUserAcceptedAgreement(b){return this.authService.isAuthenticated().pipe((0,i.w)(o=>o?this.authService.getAuthenticatedUserFromStore().pipe((0,r.q)(1),(0,i.w)(D=>{const M={value:String(b)};let C;return C=D.hasMetadata(v)?{op:"replace",path:`/metadata/${v}/0`,value:M}:{op:"add",path:`/metadata/${v}`,value:[M]},this.ePersonService.patch(D,[C])}),(0,h.hC)(),(0,d.U)(D=>D.hasSucceeded)):(this.setCookieAccepted(b),(0,a.of)(!0))),(0,r.q)(1))}isCookieAccepted(){return!0===this.cookie.get(_)}setCookieAccepted(b){this.cookie.set(_,b)}removeCookieAccepted(){this.cookie.remove(_)}}return O.\u0275fac=function(b){return new(b||O)(m.\u0275\u0275inject(n.N),m.\u0275\u0275inject(t.e8),m.\u0275\u0275inject(p.k))},O.\u0275prov=m.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},75195:(R,c,e)=>{"use strict";e.d(c,{k:()=>K});var ie,t=e(70655),n=e(89702),a=e(48358),i=e(77176),d=e(66154),r=e(35094),l=e(45608),p=e(65384),h=e(16066),m=e(5803),_=e(55624),v=e(7404),y=e(20942),O=e(60012),S=e(96526),b=e(6952),o=e(18005),D=e(10572),M=e(99558),C=e(87483),T=e(6144),g=e(74246),U=e(14246),L=e(29908),j=e(7766),$=e(30828),z=e(1411),re=e(66421),W=e(98678);const ne=(0,n.P1)(w=>w.epeopleRegistry,w=>w.editEPerson);let K=((ie=class extends U.t{constructor(Q,oe,q,ee,J,Ee,Oe){super("epersons",Q,oe,q,ee),this.requestService=Q,this.rdbService=oe,this.objectCache=q,this.halService=ee,this.comparator=J,this.notificationsService=Ee,this.store=Oe,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new g.K(this.linkPath,Q,oe,q,ee,Ee,this.responseMsToLive),this.searchData=new L.l(this.linkPath,Q,oe,q,ee,this.responseMsToLive),this.patchData=new j.B(this.linkPath,Q,oe,q,ee,J,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new $.R(this.linkPath,Q,oe,q,ee,Ee,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Q,oe,q={},ee){switch(Q){case"metadata":default:return this.getEpeopleByMetadata(oe.trim(),q,ee);case"email":return this.getEPersonByEmail(oe.trim()).pipe((0,a.U)(J=>{if(J.hasSucceeded){let Ee;return Ee=204===J.statusCode||(0,l.xI)(J.payload)?[]:[J.payload],new O.N(J.timeCompleted,J.msToLive,J.lastUpdated,J.state,J.errorMessage,(0,y.b)(new C.S({elementsPerPage:q.elementsPerPage,totalElements:Ee.length,totalPages:Ee.length,currentPage:1}),Ee),J.statusCode)}return J}))}}getEPersonByEmail(Q,oe=!0,q=!0,...ee){const J=new T.R;J.searchParams=[new m.g("email",encodeURIComponent(Q))];const Ee=this.searchData.getSearchByHref(this.searchByEmailPath,J,...ee);return this.findByHref(Ee,oe,q,...ee)}getEpeopleByMetadata(Q,oe,q=!0,ee=!0,...J){const Ee=[new m.g("query",encodeURIComponent(Q))];return this.getEPeopleBy(Ee,this.searchByMetadataPath,oe,q,ee,...J)}getEPeopleBy(Q,oe,q,ee=!0,J=!0,...Ee){let Oe=new T.R;return q&&(Oe=Object.assign(new T.R,q)),Oe.searchParams=Oe.searchParams?[...Oe.searchParams,...Q]:Q,this.searchBy(oe,Oe,ee,J,...Ee)}searchNonMembers(Q,oe,q,ee=!0,J=!0,...Ee){const Oe=[new m.g("query",Q),new m.g("group",oe)];let Re=new T.R;return q&&(Re=Object.assign(new T.R,q)),Re.searchParams=Re.searchParams?[...Re.searchParams,...Oe]:Oe,this.searchBy("isNotMemberOf",Re,ee,J,...Ee)}updateEPerson(Q){const oe=this.requestService.generateRequestId();return this.findByHref(Q._links.self.href,!0,!1).pipe((0,D.xw)(),(0,D.xe)(),(0,i.q)(1)).subscribe(ee=>{const J=this.generateOperations(ee,Q),Ee=new S._x(oe,Q._links.self.href,J);return this.requestService.send(Ee)}),this.rdbService.buildFromRequestUUID(oe)}generateOperations(Q,oe){let q=this.comparator.diff(Q,oe).filter(ee=>"replace"===ee.op);return(0,l.Uh)(Q.email)&&Q.email!==oe.email&&(q=[...q,{op:"replace",path:"/email",value:oe.email}]),(0,l.Uh)(Q.requireCertificate)&&Q.requireCertificate!==oe.requireCertificate&&(q=[...q,{op:"replace",path:"/certificate",value:oe.requireCertificate}]),(0,l.Uh)(Q.canLogIn)&&Q.canLogIn!==oe.canLogIn&&(q=[...q,{op:"replace",path:"/canLogIn",value:oe.canLogIn}]),q}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,i.q)(1)).subscribe(Q=>{this.requestService.removeByHrefSubstring(Q)})}clearLinkRequests(Q){this.requestService.setStaleByHrefSubstring(Q)}getActiveEPerson(){return this.store.pipe((0,n.Ys)(ne))}cancelEditEPerson(){this.store.dispatch(new r.$O)}editEPerson(Q){this.store.dispatch(new r.io(Q))}deleteEPerson(Q){return this.delete(Q.id)}startEditingNewEPerson(Q){return this.getActiveEPerson().pipe((0,i.q)(1)).subscribe(oe=>{Q===oe?this.cancelEditEPerson():this.editEPerson(Q)}),(0,re.EP)(Q.id)}getEPeoplePageRouterLink(){return(0,re.b6)()}createEPersonForToken(Q,oe){const q=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,a.U)(J=>`${J}?token=${oe}`)).pipe((0,d.s)(J=>(0,l.Uh)(J))).subscribe(J=>{const Ee=new S.xo(q,J,Q);this.requestService.send(Ee)}),this.rdbService.buildFromRequestUUID(q)}patchPasswordWithToken(Q,oe,q){const ee=this.requestService.generateRequestId(),J=Object.assign({op:"add",path:"/password",value:{new_password:q}});return this.halService.getEndpoint(this.linkPath).pipe((0,a.U)(Oe=>this.getIDHref(Oe,Q)),(0,a.U)(Oe=>`${Oe}?token=${oe}`)).pipe((0,d.s)(Oe=>(0,l.Uh)(Oe))).subscribe(Oe=>{const Re=new S._x(ee,Oe,[J]);this.requestService.send(Re)}),this.rdbService.buildFromRequestUUID(ee)}create(Q,...oe){return this.createData.create(Q,...oe)}searchBy(Q,oe,q,ee,...J){return this.searchData.searchBy(Q,oe,q,ee,...J)}createPatchFromCache(Q){return this.patchData.createPatchFromCache(Q)}patch(Q,oe){return this.patchData.patch(Q,oe)}update(Q){return this.patchData.update(Q)}commitUpdates(Q){this.patchData.commitUpdates(Q)}delete(Q,oe){return this.deleteData.delete(Q,oe)}deleteByHref(Q,oe){return this.deleteData.deleteByHref(Q,oe)}}).\u0275fac=function(Q){return new(Q||ie)(W.\u0275\u0275inject(b.s),W.\u0275\u0275inject(h.Q),W.\u0275\u0275inject(_.a),W.\u0275\u0275inject(o.q),W.\u0275\u0275inject(v.o),W.\u0275\u0275inject(p.T),W.\u0275\u0275inject(n.yh))},ie.\u0275prov=W.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac}),ie);K=(0,t.__decorate)([(0,z.cQ)(M.U),(0,t.__metadata)("design:paramtypes",[b.s,h.Q,_.a,o.q,v.o,p.T,n.yh])],K)},30303:(R,c,e)=>{"use strict";e.d(c,{O:()=>ce});var re,t=e(70655),n=e(78964),a=e(89702),i=e(60276),d=e(77176),r=e(54320),l=e(65384),p=e(16066),h=e(5803),m=e(55624),_=e(7404),v=e(96526),y=e(6952),O=e(18005),S=e(10572),b=e(85571),o=e(25056),D=e(8842),M=e(6144),C=e(74246),T=e(14246),g=e(29908),U=e(7766),L=e(30828),j=e(1411),$=e(66421),z=e(98678);const ie=(0,a.P1)(ne=>ne.groupRegistry,ne=>ne.editGroup);let ce=((re=class extends T.t{constructor(K,w,Q,oe,q,ee,J,Ee){super("groups",K,w,Q,oe),this.requestService=K,this.rdbService=w,this.objectCache=Q,this.halService=oe,this.comparator=q,this.notificationsService=ee,this.nameService=J,this.store=Ee,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new C.K(this.linkPath,K,w,Q,oe,ee,this.responseMsToLive),this.searchData=new g.l(this.linkPath,K,w,Q,oe,this.responseMsToLive),this.patchData=new U.B(this.linkPath,K,w,Q,oe,q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new L.R(this.linkPath,K,w,Q,oe,ee,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(K,w,Q=!0,oe=!0,...q){const ee=[new h.g("query",K)];let J=new M.R;return w&&(J=Object.assign(new M.R,w)),J.searchParams=J.searchParams?[...J.searchParams,...ee]:ee,this.searchBy("byMetadata",J,Q,oe,...q)}searchNonMemberGroups(K,w,Q,oe=!0,q=!0,...ee){const J=[new h.g("query",K),new h.g("group",w)];let Ee=new M.R;return Q&&(Ee=Object.assign(new M.R,Q)),Ee.searchParams=Ee.searchParams?[...Ee.searchParams,...J]:J,this.searchBy("isNotMemberOf",Ee,oe,q,...ee)}addSubGroupToGroup(K,w){const Q=this.requestService.generateRequestId(),oe=Object.create({});let q=new n.WM;q=q.append("Content-Type","text/uri-list"),oe.headers=q;const ee=new v.xo(Q,K.self+"/"+this.subgroupsEndpoint,w.self,oe);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,i.$)(this.invalidateByHref(K._links.self.href),this.requestService.setStaleByHrefSubstring(K._links.subgroups.href).pipe((0,d.q)(1))))}deleteSubGroupFromGroup(K,w){const Q=this.requestService.generateRequestId(),oe=new v.jx(Q,K.self+"/"+this.subgroupsEndpoint+"/"+w.id);return this.requestService.send(oe),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,i.$)(this.invalidateByHref(K._links.self.href),this.requestService.setStaleByHrefSubstring(K._links.subgroups.href).pipe((0,d.q)(1))))}addMemberToGroup(K,w){const Q=this.requestService.generateRequestId(),oe=Object.create({});let q=new n.WM;q=q.append("Content-Type","text/uri-list"),oe.headers=q;const ee=new v.xo(Q,K.self+"/"+this.ePersonsEndpoint,w.self,oe);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,i.$)(this.invalidateByHref(w._links.self.href),this.requestService.setStaleByHrefSubstring(w._links.groups.href).pipe((0,d.q)(1)),this.requestService.setStaleByHrefSubstring(K._links.epersons.href).pipe((0,d.q)(1))))}deleteMemberFromGroup(K,w){const Q=this.requestService.generateRequestId(),oe=new v.jx(Q,K.self+"/"+this.ePersonsEndpoint+"/"+w.id);return this.requestService.send(oe),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,i.$)(this.invalidateByHref(w._links.self.href),this.requestService.setStaleByHrefSubstring(w._links.groups.href).pipe((0,d.q)(1)),this.requestService.setStaleByHrefSubstring(K._links.epersons.href).pipe((0,d.q)(1))))}getActiveGroup(){return this.store.pipe((0,a.Ys)(ie))}cancelEditGroup(){this.store.dispatch(new r.Bb)}editGroup(K){this.store.dispatch(new r.c4(K))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,d.q)(1)).subscribe(K=>{this.requestService.removeByHrefSubstring(K)})}clearGroupLinkRequests(K){this.requestService.setStaleByHrefSubstring(K)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(K){return this.getActiveGroup().pipe((0,d.q)(1)).subscribe(w=>{K===w?this.cancelEditGroup():this.editGroup(K)}),this.getGroupEditPageRouterLinkWithID(K.id)}getGroupEditPageRouterLink(K){return(0,$.EV)(K.id)}getGroupEditPageRouterLinkWithID(K){return(0,$.EV)(K)}getUUIDFromString(K){let w="";const Q=K.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Q&&(w=Q[0]),w}createComcolGroup(K,w,Q){const oe=this.requestService.generateRequestId(),q=Object.assign(new b.Z,{metadata:{"dc.description":[{value:`${this.nameService.getName(K)} ${w} group`}]}});this.requestService.send(new v.Fo(oe,Q,JSON.stringify(q)));const ee=this.rdbService.buildFromRequestUUID(oe).pipe((0,S.hC)());return ee.subscribe(J=>{J.hasSucceeded&&this.requestService.removeByHrefSubstring(Q)}),ee}deleteComcolGroup(K){const w=this.requestService.generateRequestId();this.requestService.send(new v.jx(w,K));const Q=this.rdbService.buildFromRequestUUID(w).pipe((0,S.hC)());return Q.subscribe(oe=>{oe.hasSucceeded&&this.requestService.removeByHrefSubstring(K)}),Q}create(K,...w){return this.createData.create(K,...w)}searchBy(K,w,Q,oe,...q){return this.searchData.searchBy(K,w,Q,oe,...q)}createPatchFromCache(K){return this.patchData.createPatchFromCache(K)}patch(K,w){return this.patchData.patch(K,w)}update(K){return this.patchData.update(K)}commitUpdates(K){this.patchData.commitUpdates(K)}delete(K,w){return this.deleteData.delete(K,w)}deleteByHref(K,w){return this.deleteData.deleteByHref(K,w)}}).\u0275fac=function(K){return new(K||re)(z.\u0275\u0275inject(y.s),z.\u0275\u0275inject(p.Q),z.\u0275\u0275inject(m.a),z.\u0275\u0275inject(O.q),z.\u0275\u0275inject(_.o),z.\u0275\u0275inject(l.T),z.\u0275\u0275inject(D._),z.\u0275\u0275inject(a.yh))},re.\u0275prov=z.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac}),re);ce=(0,t.__decorate)([(0,j.cQ)(o.o),(0,t.__metadata)("design:paramtypes",[y.s,p.Q,m.a,O.q,_.o,l.T,D._,a.yh])],ce)},88539:(R,c,e)=>{"use strict";e.d(c,{T:()=>h});var p,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(61750),r=e(99558),l=e(25056);let h=((p=class extends d.t{get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return[this.constructor.name,...super.getRenderTypes()]}}).type=r.U,p);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"handle",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"netid",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"lastActive",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],h.prototype,"canLogIn",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"email",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],h.prototype,"requireCertificate",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],h.prototype,"selfRegistered",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"password",void 0),(0,t.__decorate)([(0,i.p4)(l.o,!0),(0,t.__metadata)("design:type",a.y)],h.prototype,"groups",void 0),h=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(d.t)],h)},99558:(R,c,e)=>{"use strict";e.d(c,{U:()=>n});const n=new(e(26523)._)("eperson")},85571:(R,c,e)=>{"use strict";e.d(c,{Z:()=>_});var m,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(61750),r=e(22537),l=e(99558),p=e(25056),h=e(3798);let _=((m=class extends d.t{}).type=p.o,m);(0,t.__decorate)([h.OJ,(0,n.autoserializeAs)("name"),(0,t.__metadata)("design:type",String)],_.prototype,"_name",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"handle",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],_.prototype,"permanent",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(p.o,!0),(0,t.__metadata)("design:type",a.y)],_.prototype,"subgroups",void 0),(0,t.__decorate)([(0,i.p4)(l.U,!0),(0,t.__metadata)("design:type",a.y)],_.prototype,"epersons",void 0),(0,t.__decorate)([(0,i.p4)(r.i),(0,t.__metadata)("design:type",a.y)],_.prototype,"object",void 0),_=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(d.t)],_)},25056:(R,c,e)=>{"use strict";e.d(c,{o:()=>n});const n=new(e(26523)._)("group")},67984:(R,c,e)=>{"use strict";e.d(c,{w:()=>n});const n=new(e(26523)._)("workflowitem")},87589:(R,c,e)=>{"use strict";e.d(c,{J:()=>b});var t=e(70655);const a=new(e(26523)._)("feedback");var S,i=e(6952),d=e(16066),r=e(89702),l=e(55624),p=e(18005),h=e(65384),m=e(10572),_=e(14246),v=e(74246),y=e(1411),O=e(98678);let b=((S=class extends _.t{constructor(D,M,C,T,g,U){super("feedbacks",D,M,T,g),this.requestService=D,this.rdbService=M,this.store=C,this.objectCache=T,this.halService=g,this.notificationsService=U,this.createData=new v.K(this.linkPath,D,M,T,g,U,this.responseMsToLive)}getFeedback(D){return this.findById(D).pipe((0,m.xw)(),(0,m.xe)())}create(D,...M){return this.createData.create(D,...M)}}).\u0275fac=function(D){return new(D||S)(O.\u0275\u0275inject(i.s),O.\u0275\u0275inject(d.Q),O.\u0275\u0275inject(r.yh),O.\u0275\u0275inject(l.a),O.\u0275\u0275inject(p.q),O.\u0275\u0275inject(h.T))},S.\u0275prov=O.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S);b=(0,t.__decorate)([(0,y.cQ)(a),(0,t.__metadata)("design:paramtypes",[i.s,d.Q,r.yh,l.a,p.q,h.T])],b)},99408:(R,c,e)=>{"use strict";e.d(c,{LI:()=>S,gg:()=>O,v0:()=>b});var t=e(10572),n=e(45608),a=e(35103),i=e(73194),d=e(77176),r=e(48358),l=e(21160),p=e(35841),h=e(53426),m=e(9237),_=e(53929),v=e(10844),y=e(98678);const O="_GRECAPTCHA",S="google-recaptcha";let b=(()=>{class o{constructor(M,C,T,g,U){this.cookieService=M,this._document=C,this._window=T,this.configService=U,this.captchaVersionSubject$=new p.X(null),this.captchaKeySubject$=new p.X(null),this.captchaModeSubject$=new p.X(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=g.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,d.q)(1),(0,t.hC)(),(0,r.U)(j=>j.hasSucceeded&&j.payload&&(0,n.UE)(j.payload.values)&&"true"===j.payload.values[0].toLowerCase())).subscribe(j=>{j&&this.loadRecaptchaProperties()})}captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}loadRecaptchaProperties(){const M=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,t.hC)()),C=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,t.hC)()),T=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,t.hC)());(0,h.a)([C,T,M]).subscribe(([g,U,L])=>{if(this.cookieService.get("klaro-anonymous")&&this.cookieService.get("klaro-anonymous")[S]&&L.hasSucceeded&&g.hasSucceeded&&(0,n.UE)(g.payload?.values)&&(0,n.UE)(L.payload?.values)){const j=L.payload?.values[0],$=g.payload?.values[0];let z;switch(this.captchaKeySubject$.next(j),this.captchaVersionSubject$.next($),$){case"v3":L.hasSucceeded&&(0,n.UE)(L.payload?.values)&&(z=this.buildCaptchaUrl(j),this.captchaModeSubject$.next("invisible"));break;case"v2":U.hasSucceeded&&(0,n.UE)(U.payload?.values)&&(z=this.buildCaptchaUrl(),this.captchaModeSubject$.next(U.payload?.values[0]))}z&&this.loadScript(z)}})}getRecaptchaToken(M){return this.captchaKey().pipe((0,l.w)(C=>grecaptcha.execute(C,{action:M})))}executeRecaptcha(){return(0,m.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(M){const C="https://www.google.com/recaptcha/api.js";return M?`${C}?render=${M}`:C}loadScript(M){return new Promise((C,T)=>{const g=this.renderer.createElement("script");g.type="text/javascript",g.src=M,g.text="",g.onload=C,g.onerror=T,this.renderer.appendChild(this._document.head,g)})}}return o.\u0275fac=function(M){return new(M||o)(y.\u0275\u0275inject(_.N),y.\u0275\u0275inject(a.K0),y.\u0275\u0275inject(v.DC),y.\u0275\u0275inject(y.RendererFactory2),y.\u0275\u0275inject(i.i))},o.\u0275prov=y.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})()},72921:(R,c,e)=>{"use strict";e.d(c,{R:()=>a,m:()=>n});var t=e(49754);const n={ADD_TO_HISTORY:(0,t.d)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,t.d)("dspace/history/GET_HISTORY")};class a{constructor(d){this.type=n.ADD_TO_HISTORY,this.payload={url:d}}}},95912:(R,c,e)=>{"use strict";e.d(c,{s:()=>t});var t=(()=>{return(n=t||(t={})).OBJECT="object/uuid-to-self-link",n.REQUEST="get-request/href-to-uuid",n.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t;var n})()},80135:(R,c,e)=>{"use strict";e.d(c,{BF:()=>n,Ke:()=>d,q5:()=>a,zc:()=>i});var t=e(49754);const n={ADD:(0,t.d)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,t.d)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,t.d)("dspace/core/index/REMOVE_BY_SUBSTRING")};class a{constructor(l,p,h){this.type=n.ADD,this.payload={name:l,key:p,value:h}}}class i{constructor(l,p){this.type=n.REMOVE_BY_VALUE,this.payload={name:l,value:p}}}class d{constructor(l,p){this.type=n.REMOVE_BY_SUBSTRING,this.payload={name:l,value:p}}}},9717:(R,c,e)=>{"use strict";e.d(c,{AS:()=>v,Be:()=>y,eY:()=>O,jP:()=>l,mv:()=>m,z2:()=>r});var t=e(89702),n=e(45608),a=e(68671),i=e(65521),d=e(95912);const r=S=>{if((0,n.UE)(S))try{const b=new URL(S);if((0,n.UE)(b.search)){const o=b.search.split(/[?|&]/).filter(M=>(0,n.UE)(M)).filter(M=>!(M.startsWith("embed=")||M.startsWith("embed.size=")));let D="";return(0,n.UE)(o)&&(D=`?${o.join("&")}`),S=new i.R(b.origin,b.pathname,D).toString()}}catch{}return S},l=S=>{if((0,n.UE)(S))try{const b=new URL(S);if((0,n.UE)(b.search))return b.search.split(/[?|&]/).filter(o=>(0,n.UE)(o)).map(o=>o.match(/^embed.size=([^=]+)=(\d+)$/)).filter(o=>(0,n.Uh)(o)&&(0,n.Uh)(o[1])&&(0,n.Uh)(o[2])).map(o=>({name:o[1],size:Number(o[2])}))}catch{}return[]},p=(0,t.P1)(a.v,S=>S.index),h=(0,t.P1)(p,S=>S[d.s.OBJECT]),m=(0,t.P1)(p,S=>S[d.s.REQUEST]),_=(0,t.P1)(p,S=>S[d.s.ALTERNATIVE_OBJECT_LINK]),v=S=>(0,t.P1)(h,b=>(0,n.Uh)(b)?b[S]:void 0),y=S=>(0,t.P1)(m,b=>(0,n.Uh)(b)?b[r(S)]:void 0),O=S=>(0,t.P1)(_,b=>(0,n.Uh)(b)?b[S]:void 0)},78187:(R,c,e)=>{"use strict";e.d(c,{w:()=>h});var t=e(1267),n=e(45608),a=e(710),i=e(22726),d=e(31042),r=e(97686),l=e(98678),p=e(89702);let h=(()=>{class m{constructor(v){this.store=v}add(v,y,O=!1,S=!1){this.store.dispatch(new t.dx(v.rootElement,v.subRootElement,v.path,this.prepareValue(y,S,O)))}replace(v,y,O=!1){(0,n.xI)(y)||"object"==typeof y&&(0,n.xI)(y.value)?this.remove(v):this.store.dispatch(new t.Gn(v.rootElement,v.subRootElement,v.path,this.prepareValue(y,O,!1)))}move(v,y){this.store.dispatch(new t.sD(v.rootElement,v.subRootElement,y,v.path))}remove(v){this.store.dispatch(new t.yL(v.rootElement,v.subRootElement,v.path))}prepareValue(v,y,O){let S=null;return(0,n.Uh)(v)&&(y?S=v:Array.isArray(v)?(S=[],v.forEach(b=>{S.push("object"==typeof b?this.prepareObjectValue(b):new d.u(b))})):S="object"==typeof v?this.prepareObjectValue(v):new d.u(v)),O&&!Array.isArray(S)?[S]:S}prepareObjectValue(v){let y=Object.create({});return(0,n.xb)(v)||v instanceof d.u?y=v:v instanceof Date?y=new d.u((0,a.iV)(v)):v instanceof i.j?y=this.prepareAuthorityValue(v):v instanceof r.Z?y=new d.u(v.value,v.language):v.hasOwnProperty("authority")?y=new d.u(v.value,v.language,v.authority):(0,a.UV)(v)?y=new d.u((0,a.UW)(v)):v.hasOwnProperty("value")?y=new d.u(v.value):Object.keys(v).forEach(O=>{y[O]="object"==typeof v[O]?this.prepareObjectValue(v[O]):v[O]}),y}prepareAuthorityValue(v){let y;return y=(0,n.UE)(v.authority)?new d.u(v.value,v.language,v.authority):new d.u(v.value,v.language),y}}return m.\u0275fac=function(v){return new(v||m)(l.\u0275\u0275inject(p.yh))},m.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},1267:(R,c,e)=>{"use strict";e.d(c,{Gn:()=>_,PS:()=>i,Qh:()=>v,RR:()=>r,bu:()=>a,dx:()=>l,eB:()=>d,nQ:()=>n,sD:()=>h,yL:()=>m});var t=e(49754);const n={NEW_JSON_PATCH_ADD_OPERATION:(0,t.d)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,t.d)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,t.d)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,t.d)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,t.d)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,t.d)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,t.d)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,t.d)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,t.d)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,t.d)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class a{constructor(O,S){this.type=n.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:O,resourceId:S}}}class i{constructor(O,S){this.type=n.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:O,resourceId:S}}}class d{constructor(O,S,b){this.type=n.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:O,resourceId:S,startTime:b}}}class r{constructor(O,S){this.type=n.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:O,resourceId:S}}}class l{constructor(O,S,b,o){this.type=n.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:O,resourceId:S,path:b,value:o}}}class h{constructor(O,S,b,o){this.type=n.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:O,resourceId:S,from:b,path:o}}}class m{constructor(O,S,b){this.type=n.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:O,resourceId:S,path:b}}}class _{constructor(O,S,b,o){this.type=n.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:O,resourceId:S,path:b,value:o}}}class v{constructor(){this.type=n.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},73873:(R,c,e)=>{"use strict";e.d(c,{OL:()=>o,Yk:()=>S});var t=e(45608),n=e(53929),a=e(76774),i=e(38123),d=e(53426),r=e(9237),l=e(77176),p=e(69637),h=e(48358),m=e(10844),_=e(74997),v=e(35103),y=e(98678),O=e(96342);const S="dsLanguage";var b=(()=>{return(D=b||(b={}))[D.UI=0]="UI",D[D.EPERSON=1]="EPERSON",D[D.BROWSER=2]="BROWSER",b;var D})();let o=(()=>{class D{constructor(C,T,g,U,L,j){this._window=C,this.cookie=T,this.translate=g,this.authService=U,this.routeService=L,this.document=j,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let C=this.getLanguageCodeFromCookie();return((0,t.xb)(C)||void 0===a.N.languages.find(T=>T.code===C&&T.active))&&(C=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():a.N.defaultLanguage),C}getLanguageCodeList(){return(0,d.a)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,l.q)(1),(0,p.z)(([T,g])=>(0,r.of)([]).pipe((0,h.U)(L=>{const j=[];return this.translate.currentLang&&j.push(...this.setQuality([this.translate.currentLang],b.UI,!1)),(0,t.UE)(L)&&j.push(...L),navigator.languages&&j.push(...this.setQuality(Object.assign([],navigator.languages),b.BROWSER,!(0,t.xb)(this.translate.currentLang))),j}))))}getLanguageCodeFromCookie(){return this.cookie.get(S)}saveLanguageCodeToCookie(C){this.cookie.set(S,C)}setCurrentLanguageCode(C){(0,t.xb)(C)&&(C=this.getCurrentLanguageCode()),this.translate.use(C),this.saveLanguageCodeToCookie(C),this.document.documentElement.lang=C}setQuality(C,T,g){const U=[];let L=0;const j=C.length>10?C.length:10;let $;switch(T){case b.EPERSON:$=2;break;case b.BROWSER:$=g?10:1;break;default:$=1}return C.forEach(z=>{let re=z+";q=",W=(j-L++)/j;W=C.length>10?W.toFixed(2):W,re+=W/$,U.push(re)}),U}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,l.q)(1)).subscribe(C=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(C)})}}return D.\u0275fac=function(C){return new(C||D)(y.\u0275\u0275inject(m.DC),y.\u0275\u0275inject(n.N),y.\u0275\u0275inject(O.sK),y.\u0275\u0275inject(i.e8),y.\u0275\u0275inject(_.MZ),y.\u0275\u0275inject(v.K0))},D.\u0275prov=y.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})()},84977:(R,c,e)=>{"use strict";e.d(c,{Cq:()=>i,ce:()=>a,j9:()=>n});var t=e(49754);const n={ADD:(0,t.d)("dspace/meta-tag/ADD"),CLEAR:(0,t.d)("dspace/meta-tag/CLEAR")};class a{constructor(r){this.type=n.ADD,this.payload=r}}class i{constructor(){this.type=n.CLEAR}}},62404:(R,c,e)=>{"use strict";e.d(c,{b:()=>v});var _,t=e(70655),n=e(38666),a=e(45608),i=e(18035),d=e(65804),r=e(26523),l=e(3798),p=e(36581),h=e(42878),m=e(45575);let v=((_=class extends i.J{toString(O="."){let S=this.element;return(0,a.UE)(this.qualifier)&&(S+=O+this.qualifier),S}getRenderTypes(){return[this.constructor]}}).type=p.A,_);(0,t.__decorate)([l.OJ,n.autoserialize,(0,t.__metadata)("design:type",r._)],v.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],v.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"element",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"qualifier",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"scopeNote",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"_links",void 0),(0,t.__decorate)([(0,d.p4)(m.B),(0,t.__metadata)("design:type",h.y)],v.prototype,"schema",void 0),v=(0,t.__decorate)([d.KB],v)},36581:(R,c,e)=>{"use strict";e.d(c,{A:()=>n});const n=new(e(26523)._)("metadatafield")},10417:(R,c,e)=>{"use strict";e.d(c,{B:()=>h});var p,t=e(70655),n=e(38666),a=e(18035),i=e(65804),d=e(26523),r=e(3798),l=e(45575);let h=((p=class extends a.J{getRenderTypes(){return[this.constructor]}}).type=l.B,p);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],h.prototype,"id",void 0),(0,t.__decorate)([r.OJ,n.autoserialize,(0,t.__metadata)("design:type",d._)],h.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"prefix",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"namespace",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([i.KB],h)},45575:(R,c,e)=>{"use strict";e.d(c,{B:()=>n});const n=new(e(26523)._)("metadataschema")},97011:(R,c,e)=>{"use strict";e.d(c,{D:()=>oe});var t=e(67522),n=e(35841),a=e(53426),i=e(9237),d=e(34146),r=e(27164),l=e(77007),p=e(48358),h=e(77176),m=e(21160),_=e(69637),v=e(45608),y=e(8842),O=e(39034),S=e(93583),b=e(13005),o=e(10572),D=e(26994),M=e(71213),C=e(8830),T=e(46533),g=e(65521),U=e(89702),L=e(84977),j=e(68671),$=e(35794),z=e(80978);const re=q=>ee=>ee.pipe((0,m.w)(J=>(0,v.Uh)(J)?q.isAuthorized(z.i.CanDownload,J.self).pipe((0,p.U)(Ee=>Ee?J:null)):(0,i.of)(null)));var W=e(16441),ie=e(98678),ce=e(96342),ne=e(91823),K=e(69175);const w=(0,U.P1)(j.v,q=>q.metaTag),Q=(0,U.P1)(w,q=>q.tagsInUse);let oe=(()=>{class q{constructor(J,Ee,Oe,Re,ve,Pe,et,Ze,tt,yt,Ne,mt,Dt){this.router=J,this.translate=Ee,this.meta=Oe,this.title=Re,this.dsoNameService=ve,this.bundleDataService=Pe,this.bitstreamDataService=et,this.bitstreamFormatDataService=Ze,this.rootService=tt,this.store=yt,this.hardRedirectService=Ne,this.appConfig=mt,this.authorizationService=Dt,this.currentObject=new n.X(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,l.h)(J=>J instanceof t.m2),(0,p.U)(()=>this.router.routerState.root),(0,p.U)(J=>({params:(J=this.getCurrentRoute(J)).params,data:J.data}))).subscribe(J=>{this.processRouteChange(J)})}processRouteChange(J){if(this.clearMetaTags(),(0,v.Uh)(J.data.value.dso)&&(0,v.Uh)(J.data.value.dso.payload)&&(this.currentObject.next(J.data.value.dso.payload),this.setDSOMetaTags()),J.data.value.title){const Ee=this.translate.get("repository.title.prefix"),Oe=this.translate.get(J.data.value.title,J.data.value);(0,a.a)([Ee,Oe]).pipe((0,h.q)(1)).subscribe(([Re,ve])=>{this.addMetaTag("title",Re+ve),this.title.setTitle(Re+ve)})}J.data.value.description&&this.translate.get(J.data.value.description).pipe((0,h.q)(1)).subscribe(Ee=>{this.addMetaTag("description",Ee)})}getCurrentRoute(J){for(;J.firstChild;)J=J.firstChild;return J}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const J=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",J),this.title.setTitle(J)}setDescriptionTag(){const J=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",J)}setCitationTitleTag(){const J=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",J)}setCitationAuthorTags(){const J=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",J)}setCitationPublicationDateTag(){const J=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",J)}setCitationISSNTag(){const J=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",J)}setCitationISBNTag(){const J=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",J)}setCitationLanguageTag(){const J=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",J)}setCitationDissertationNameTag(){const J=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",J)}setCitationPublisherTag(){const J=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",J):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",J):this.addMetaTag("citation_publisher",J)}setCitationKeywordsTag(){const J=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",J)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof b.c){let J=this.getMetaTagValue("dc.identifier.uri");(0,v.xI)(J)&&(J=new g.R(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",J)}}setCitationPdfUrlTag(){this.currentObject.value instanceof b.c&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,(0,T.l)("primaryBitstream"),(0,T.l)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,T.l)("format"))).pipe((0,o.Gp)(),(0,m.w)(Ee=>Ee.primaryBitstream.pipe((0,o.hC)(),(0,p.U)(Oe=>(0,v.Uh)(Oe.payload)?Oe.payload:null),re(this.authorizationService),(0,p.U)(Oe=>[Ee,Oe]))),(0,m.w)(([Ee,Oe])=>(0,v.Uh)(Oe)?[(0,M.gs)(Oe)]:Ee.bitstreams.pipe((0,o.hC)(),(0,m.w)(Re=>(0,v.Uh)(Re.payload)&&1===Re.payload.totalElements?this.getBitLinkIfDownloadable(Re.payload.page[0],Re):this.getFirstAllowedFormatBitstreamLink(Re)))),(0,h.q)(1)).subscribe(Ee=>{this.addMetaTag("citation_pdf_url",new g.R(this.hardRedirectService.getCurrentOrigin(),Ee).toString())})}getBitLinkIfDownloadable(J,Ee){return(0,i.of)(J).pipe(re(this.authorizationService),(0,m.w)(Oe=>(0,v.Uh)(Oe)?[(0,M.gs)(Oe)]:this.getFirstAllowedFormatBitstreamLink(Ee)))}getFirstAllowedFormatBitstreamLink(J){return(0,v.Uh)(J.payload)&&(0,v.UE)(J.payload.page)?(0,d.z)(...J.payload.page.map(Ee=>Ee.format.pipe((0,o.Gp)(),(0,p.U)(Oe=>[Ee,Oe])))).pipe((0,_.z)(([Ee,Oe])=>(0,i.of)(Ee).pipe(re(this.authorizationService),(0,p.U)(Re=>[Re,Oe]))),(0,l.h)(([Ee,Oe])=>(0,v.Uh)(Oe)&&(0,v.Uh)(Ee)&&this.CITATION_PDF_URL_MIMETYPES.includes(Oe.mimetype)),(0,h.q)(1),(0,p.U)(([Ee])=>(0,M.gs)(Ee))):r.E}setGenerator(){this.rootService.findRoot().pipe((0,o.Gp)()).subscribe(J=>{this.meta.addTag({name:"Generator",content:J.dspaceVersion})})}hasType(J){return this.currentObject.value.hasMetadata("dc.type",{value:J,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(J){return this.currentObject.value.firstMetadataValue(J)}getFirstMetaTagValue(J){return this.currentObject.value.firstMetadataValue(J)}getMetaTagValuesAndCombine(J){return this.getMetaTagValues([J]).join("; ")}getMetaTagValues(J){return this.currentObject.value.allMetadataValues(J)}addMetaTag(J,Ee){Ee&&(this.meta.addTag({name:J,content:Ee}),this.storeTag(J))}addMetaTags(J,Ee){for(const Oe of Ee)this.addMetaTag(J,Oe)}storeTag(J){this.store.dispatch(new L.ce(J))}clearMetaTags(){this.store.pipe((0,U.Ys)(Q),(0,h.q)(1)).subscribe(J=>{for(const Ee of J)this.meta.removeTag("name='"+Ee+"'");this.store.dispatch(new L.Cq)})}}return q.\u0275fac=function(J){return new(J||q)(ie.\u0275\u0275inject(t.F0),ie.\u0275\u0275inject(ce.sK),ie.\u0275\u0275inject(ne.h_),ie.\u0275\u0275inject(ne.Dx),ie.\u0275\u0275inject(y._),ie.\u0275\u0275inject(C.b),ie.\u0275\u0275inject(O.J),ie.\u0275\u0275inject(S.O),ie.\u0275\u0275inject(D.d),ie.\u0275\u0275inject(U.yh),ie.\u0275\u0275inject(K.A),ie.\u0275\u0275inject(W.q),ie.\u0275\u0275inject($._))},q.\u0275prov=ie.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),q})()},87971:(R,c,e)=>{"use strict";e.d(c,{g:()=>n});const n=new(e(26523)._)("orcidhistory")},46373:(R,c,e)=>{"use strict";e.d(c,{R:()=>n});const n=new(e(26523)._)("orcidqueue")},90285:(R,c,e)=>{"use strict";e.d(c,{m:()=>v});var t=e(53426),n=e(48358),a=e(21160),i=e(81576),d=e(45608),r=e(10572),l=e(73194),p=e(65521),h=e(10844),m=e(98678),_=e(67522);let v=(()=>{class y{constructor(S,b,o,D){this._window=S,this.configurationService=b,this.researcherProfileService=o,this.router=D}isLinkedToOrcid(S){return S.hasMetadata("dspace.orcid.authenticated")}onlyAdminCanDisconnectProfileFromOrcid(){return this.getOrcidDisconnectionAllowedUsersConfiguration().pipe((0,n.U)(S=>S.hasSucceeded&&S.payload.values.map(b=>b.toLowerCase()).includes("only_admin")))}ownerCanDisconnectProfileFromOrcid(){return this.getOrcidDisconnectionAllowedUsersConfiguration().pipe((0,n.U)(S=>S.hasSucceeded&&S.payload.values.map(b=>b.toLowerCase()).includes("admin_and_owner")))}linkOrcidByItem(S,b){const o=[{path:"/orcid",op:"add",value:b}];return this.researcherProfileService.findById(S.firstMetadata("dspace.object.owner").authority).pipe((0,r.hC)(),(0,a.w)(D=>this.researcherProfileService.patch(D.payload,o)))}unlinkOrcidByItem(S){const b=[{path:"/orcid",op:"remove"}];return this.researcherProfileService.findById(S.firstMetadata("dspace.object.owner").authority).pipe((0,r.hC)(),(0,a.w)(o=>this.researcherProfileService.patch(o.payload,b)))}getOrcidAuthorizeUrl(S){return(0,t.a)([this.configurationService.findByPropertyName("orcid.authorize-url").pipe((0,r.Gp)()),this.configurationService.findByPropertyName("orcid.application-client-id").pipe((0,r.Gp)()),this.configurationService.findByPropertyName("orcid.scope").pipe((0,r.Gp)())]).pipe((0,n.U)(([b,o,D])=>{const M=new p.R(this._window.nativeWindow.origin,encodeURIComponent(this.router.url.split("?")[0]));return b.values[0]+"?client_id="+o.values[0]+"&redirect_uri="+M+"&response_type=code&scope="+D.values.join(" ")}))}getOrcidAuthorizationScopesByItem(S){return(0,d.UE)(S)?S.allMetadataValues("dspace.orcid.scope"):[]}getOrcidAuthorizationScopes(){return this.configurationService.findByPropertyName("orcid.scope").pipe((0,r.hC)(),(0,n.U)(S=>S.hasSucceeded?S.payload.values:[]))}getOrcidDisconnectionAllowedUsersConfiguration(){return this.configurationService.findByPropertyName("orcid.disconnection.allowed-users").pipe((0,r.hC)())}}return y.\u0275fac=function(S){return new(S||y)(m.\u0275\u0275inject(h.DC),m.\u0275\u0275inject(l.i),m.\u0275\u0275inject(i.E),m.\u0275\u0275inject(_.F0))},y.\u0275prov=m.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})()},17842:(R,c,e)=>{"use strict";e.d(c,{p:()=>b});var S,t=e(70655),n=e(78964),a=e(48358),i=e(21160),d=e(16066),r=e(55624),l=e(96526),p=e(6952),h=e(18005),m=e(87971),_=e(56190),v=e(14246),y=e(1411),O=e(98678);let b=((S=class extends v.t{constructor(D,M,C,T){super("orcidhistories",D,M,C,T,1e4),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T}sendToORCID(D){const M=this.requestService.generateRequestId();return this.getEndpoint().pipe((0,a.U)(C=>{const T=Object.create({});let g=new n.WM;return g=g.append("Content-Type","text/uri-list"),T.headers=g,new l.xo(M,C,D._links.self.href,T)}),(0,_.wG)(this.requestService),(0,i.w)(C=>this.rdbService.buildFromRequestUUID(C.uuid)))}}).\u0275fac=function(D){return new(D||S)(O.\u0275\u0275inject(p.s),O.\u0275\u0275inject(d.Q),O.\u0275\u0275inject(r.a),O.\u0275\u0275inject(h.q))},S.\u0275prov=O.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S);b=(0,t.__decorate)([(0,y.cQ)(m.g),(0,t.__metadata)("design:paramtypes",[p.s,d.Q,r.a,h.q])],b)},65570:(R,c,e)=>{"use strict";e.d(c,{I:()=>S});var O,t=e(70655),n=e(6952),a=e(16066),i=e(55624),d=e(18005),r=e(65384),l=e(46373),p=e(5803),h=e(30828),m=e(29908),_=e(14246),v=e(1411),y=e(98678);let S=((O=class extends _.t{constructor(o,D,M,C,T){super("orcidqueues",o,D,M,C,1e4),this.requestService=o,this.rdbService=D,this.objectCache=M,this.halService=C,this.notificationsService=T,this.searchData=new m.l(this.linkPath,o,D,M,C,this.responseMsToLive),this.deleteData=new h.R(this.linkPath,o,D,M,C,T,this.responseMsToLive,this.constructIdEndpoint)}searchByProfileItemId(o,D,M=!0,C=!0){return this.searchData.searchBy("findByProfileItem",{searchParams:[new p.g("profileItemId",o)],elementsPerPage:D.pageSize,currentPage:D.currentPage},M,C)}deleteById(o){return this.deleteData.delete(o.toString())}clearFindByProfileItemRequests(){this.requestService.setStaleByHrefSubstring(this.linkPath+"/search/findByProfileItem")}}).\u0275fac=function(o){return new(o||O)(y.\u0275\u0275inject(n.s),y.\u0275\u0275inject(a.Q),y.\u0275\u0275inject(i.a),y.\u0275\u0275inject(d.q),y.\u0275\u0275inject(r.T))},O.\u0275prov=y.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O);S=(0,t.__decorate)([(0,v.cQ)(l.R),(0,t.__metadata)("design:paramtypes",[n.s,a.Q,i.a,d.q,r.T])],S)},81323:(R,c,e)=>{"use strict";e.d(c,{N:()=>O});var t=e(74997),n=e(45180),a=e(53426),i=e(48358),d=e(77007),r=e(77176),l=e(42281),p=e(45608),h=e(10882),m=e(6144),v=e(98678),y=e(67522);let O=(()=>{class S{constructor(o,D){this.routeService=o,this.router=D,this.defaultSortOptions=new l.o("dc.title",l.S.ASC),this.clearParams={}}getCurrentPagination(o,D){const M=this.routeService.getQueryParameterValue(`${o}.page`),C=this.routeService.getQueryParameterValue(`${o}.rpp`);return(0,a.a)([M,C]).pipe((0,i.U)(([T,g])=>Object.assign(new n.r,D,{currentPage:this.convertToNumeric(T,D.currentPage),pageSize:this.getBestMatchPageSize(g,D)})))}getCurrentSort(o,D,M){!M&&((0,p.xb)(D)||!(0,p.Uh)(D))&&(D=this.defaultSortOptions);const C=this.routeService.getQueryParameterValue(`${o}.sd`),T=this.routeService.getQueryParameterValue(`${o}.sf`);return(0,a.a)([C,T]).pipe((0,i.U)(([g,U])=>new l.o(U||D?.field,l.S[g]||D?.direction)))}getFindListOptions(o,D,M){const C=new n.r;C.currentPage=D.currentPage,C.pageSize=D.elementsPerPage;const T=this.getCurrentPagination(o,C),g=this.getCurrentSort(o,D.sort,M);return(0,a.a)([T,g]).pipe((0,d.h)(([U,L])=>(0,p.Uh)(U)&&(0,p.Uh)(L)),(0,i.U)(([U,L])=>Object.assign(new m.R,D,{sort:L,currentPage:U.currentPage,elementsPerPage:U.pageSize})))}resetPage(o){this.updateRoute(o,{page:1})}updateRoute(o,D,M,C,T){this.updateRouteWithUrl(o,[],D,M,C,T)}updateRouteWithUrl(o,D,M,C,T,g){this.getCurrentRouting(o).subscribe(U=>{const L=this.getParametersWithIdName(o,U),j=this.getParametersWithIdName(o,M);if((0,p.UE)((0,h.e5)(j,L))||(0,p.UE)(C)||(0,p.UE)(this.clearParams)){const $=Object.assign({},this.clearParams,L,j,C);this.router.navigate(D,T?{queryParams:$,queryParamsHandling:"merge",fragment:`p-${o}`,...g}:{queryParams:$,queryParamsHandling:"merge",...g}),this.clearParams={}}})}clearPagination(o){const D={};D[`${o}.page`]=null,D[`${o}.rpp`]=null,D[`${o}.sf`]=null,D[`${o}.sd`]=null,Object.assign(this.clearParams,D)}getPageParam(o){return`${o}.page`}getCurrentRouting(o){return this.getFindListOptions(o,{},!0).pipe((0,r.q)(1),(0,i.U)(D=>({page:D.currentPage,pageSize:D.elementsPerPage,sortField:D.sort.field,sortDirection:D.sort.direction})))}getParametersWithIdName(o,D){const M={};return(0,p.Uh)(D.page)&&(M[`${o}.page`]=`${D.page}`),(0,p.Uh)(D.pageSize)&&(M[`${o}.rpp`]=`${D.pageSize}`),(0,p.Uh)(D.sortField)&&(M[`${o}.sf`]=`${D.sortField}`),(0,p.Uh)(D.sortDirection)&&(M[`${o}.sd`]=`${D.sortDirection}`),M}convertToNumeric(o,D){let M=D;return function _(S){return!Array.isArray(S)&&S-parseFloat(S)+1>=0}(o)&&(M=+o),M}getBestMatchPageSize(o,D){const M=this.convertToNumeric(o,D.pageSize),C=D.pageSizeOptions.map(g=>Math.abs(g-M)),T=Math.min.apply(Math,C);return D.pageSizeOptions[C.indexOf(T)]}}return S.\u0275fac=function(o){return new(o||S)(v.\u0275\u0275inject(t.MZ),v.\u0275\u0275inject(y.F0))},S.\u0275prov=v.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},70240:(R,c,e)=>{"use strict";e.d(c,{T:()=>_});var m,t=e(70655),n=e(42878),a=e(38666),i=e(65804),d=e(26523),r=e(3798),l=e(75172),p=e(99449),h=e(92866);let _=((m=class extends p.X{}).type=l.I,m);(0,t.__decorate)([r.OJ,a.autoserialize,(0,t.__metadata)("design:type",d._)],_.prototype,"type",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"id",void 0),(0,t.__decorate)([(0,a.deserializeAs)("id"),(0,t.__metadata)("design:type",String)],_.prototype,"uuid",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",Boolean)],_.prototype,"visible",void 0),(0,t.__decorate)([a.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(h.B),(0,t.__metadata)("design:type",n.y)],_.prototype,"item",void 0),_=(0,t.__decorate)([i.KB],_)},75172:(R,c,e)=>{"use strict";e.d(c,{I:()=>n});const n=new(e(26523)._)("profile")},81576:(R,c,e)=>{"use strict";e.d(c,{E:()=>ie});var W,t=e(70655),n=e(78964),a=e(67522),i=e(9237),d=e(48358),r=e(66154),l=e(69637),p=e(65384),h=e(16066),m=e(55624),_=e(204),v=e(29442),y=e(6952),O=e(18005),S=e(10572),b=e(70240),o=e(75172),D=e(96526),M=e(45608),C=e(46533),T=e(41121),g=e(14246),U=e(74246),L=e(29908),j=e(7766),$=e(30828),z=e(1411),re=e(98678);let ie=((W=class extends g.t{constructor(ne,K,w,Q,oe,q,ee,J){super("profiles",ne,K,w,Q,1e4),this.requestService=ne,this.rdbService=K,this.objectCache=w,this.halService=Q,this.notificationsService=oe,this.router=q,this.comparator=ee,this.itemService=J,this.createData=new U.K(this.linkPath,ne,K,w,Q,oe,this.responseMsToLive),this.patchData=new j.B(this.linkPath,ne,K,w,Q,ee,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new L.l(this.linkPath,ne,K,w,Q,this.responseMsToLive),this.deleteData=new $.R(this.linkPath,ne,K,w,Q,oe,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(ne){const K=ne.firstMetadata("dspace.object.owner")?.authority;return(0,M.xb)(K)?(0,T.DW)():this.findById(K)}findRelatedItemId(ne){return(ne.item?ne.item:this.itemService.findByHref(ne._links.item.href,!1)).pipe((0,S.hC)(),(0,d.U)(w=>w.hasSucceeded&&w.payload?w.payload.id:null))}setVisibility(ne,K){return this.patch(ne,[{path:"/visible",op:"replace",value:K}])}createFromExternalSource(ne){const K=Object.create({});let w=new n.WM;w=w.append("Content-Type","text/uri-list"),K.headers=w;const Q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,r.s)(q=>(0,M.Uh)(q)),(0,d.U)(q=>this.buildHrefWithParams(q,[],(0,C.l)("item")))).subscribe(q=>{const ee=new D.xo(Q,q,ne,K);this.requestService.send(ee)}),this.rdbService.buildFromRequestUUID(Q,(0,C.l)("item"))}createFromExternalSourceAndReturnRelatedItemId(ne){return this.createFromExternalSource(ne).pipe((0,S.hC)(),(0,l.z)(K=>K.hasSucceeded?this.findRelatedItemId(K.payload):(0,i.of)(null)))}create(ne,...K){return(0,M.xb)(ne)&&(ne=new b.T),this.createData.create(ne,...K)}searchBy(ne,K,w,Q,...oe){return this.searchData.searchBy(ne,K,w,Q,...oe)}getSearchByHref(ne,K,...w){return this.searchData.getSearchByHref(ne,K,...w)}commitUpdates(ne){this.patchData.commitUpdates(ne)}createPatchFromCache(ne){return this.patchData.createPatchFromCache(ne)}patch(ne,K){return this.patchData.patch(ne,K)}update(ne){return this.patchData.update(ne)}delete(ne,K){return this.deleteData.delete(ne,K)}deleteByHref(ne,K){return this.deleteData.deleteByHref(ne,K)}}).\u0275fac=function(ne){return new(ne||W)(re.\u0275\u0275inject(y.s),re.\u0275\u0275inject(h.Q),re.\u0275\u0275inject(m.a),re.\u0275\u0275inject(O.q),re.\u0275\u0275inject(p.T),re.\u0275\u0275inject(a.F0),re.\u0275\u0275inject(_.v),re.\u0275\u0275inject(v.S))},W.\u0275prov=re.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac}),W);ie=(0,t.__decorate)([(0,z.cQ)(o.I),(0,t.__metadata)("design:paramtypes",[y.s,h.Q,m.a,O.q,p.T,a.F0,_.v,v.S])],ie)},51703:(R,c,e)=>{"use strict";e.d(c,{k:()=>T});var t=e(53426),n=e(45608),a=e(10572),i=e(89702),d=e(86275),r=e(48358),l=e(69637),p=e(27303),h=e(65384),m=e(2034),_=e(54916),v=e(5803),y=e(6144),O=e(98678),S=e(96342);const b=g=>g.metadataRegistry,o=(0,i.P1)(b,g=>g.editSchema),D=(0,i.P1)(b,g=>g.selectedSchemas),M=(0,i.P1)(b,g=>g.editField),C=(0,i.P1)(b,g=>g.selectedFields);let T=(()=>{class g{constructor(L,j,$,z,re){this.store=L,this.notificationsService=j,this.translateService=$,this.metadataSchemaService=z,this.metadataFieldService=re}getMetadataSchemas(L={},j=!0,$=!0,...z){return this.metadataSchemaService.findAll(L,j,$,...z)}getMetadataSchemaByPrefix(L,j=!0,$=!0,...z){const re=Object.assign(new y.R,{elementsPerPage:1e4});return this.getMetadataSchemas(re).pipe((0,a.Gp)(),(0,r.U)(W=>W.page),(0,n.iy)(),(0,r.U)(W=>W.filter(ie=>ie.prefix===L)[0]),(0,l.z)(W=>this.metadataSchemaService.findById(`${W.id}`,j,$,...z)))}getMetadataFieldsBySchema(L,j={},$=!0,z=!0,...re){return this.metadataFieldService.findBySchema(L,j,$,z,...re)}editMetadataSchema(L){this.store.dispatch(new d.YJ(L))}cancelEditMetadataSchema(){this.store.dispatch(new d.ZQ)}getActiveMetadataSchema(){return this.store.pipe((0,i.Ys)(o))}selectMetadataSchema(L){this.store.dispatch(new d.c1(L))}deselectMetadataSchema(L){this.store.dispatch(new d.n2(L))}deselectAllMetadataSchema(){this.store.dispatch(new d.$U)}getSelectedMetadataSchemas(){return this.store.pipe((0,i.Ys)(D))}editMetadataField(L){this.store.dispatch(new d.O3(L))}cancelEditMetadataField(){this.store.dispatch(new d.xG)}getActiveMetadataField(){return this.store.pipe((0,i.Ys)(M))}selectMetadataField(L){this.store.dispatch(new d.ux(L))}deselectMetadataField(L){this.store.dispatch(new d.J5(L))}deselectAllMetadataField(){this.store.dispatch(new d.A9)}getSelectedMetadataFields(){return this.store.pipe((0,i.Ys)(C))}createOrUpdateMetadataSchema(L){const j=(0,n.Uh)(L.id);return this.metadataSchemaService.createOrUpdateMetadataSchema(L).pipe((0,a.Gp)(),(0,n.tz)(),(0,p.b)(()=>{this.showNotifications(!0,j,!1,{prefix:L.prefix})}))}deleteMetadataSchema(L){return this.metadataSchemaService.delete(`${L}`)}clearMetadataSchemaRequests(){return this.metadataSchemaService.clearRequests()}createMetadataField(L,j){return L.qualifier||(L.qualifier=null),this.metadataFieldService.create(L,new v.g("schemaId",j.id)).pipe((0,a.Gp)(),(0,n.tz)(),(0,p.b)(()=>{this.showNotifications(!0,!1,!0,{field:L.toString()})}))}updateMetadataField(L){return L.qualifier||(L.qualifier=null),this.metadataFieldService.put(L).pipe((0,a.Gp)(),(0,n.tz)(),(0,p.b)(()=>{this.showNotifications(!0,!0,!0,{field:L.toString()})}))}deleteMetadataField(L){return this.metadataFieldService.delete(`${L}`)}clearMetadataFieldRequests(){this.metadataFieldService.clearRequests()}showNotifications(L,j,$,z){const re="admin.registries.schema.notification",ie=j?"edited":"created";(0,t.a)(this.translateService.get(`${re}.${L?"success":"failure"}`),this.translateService.get(`${re}${$?".field":""}.${ie}`,z)).subscribe(([ne,K])=>{L?this.notificationsService.success(ne,K):this.notificationsService.error(ne,K)})}queryMetadataFields(L,j={},$=!0,z=!0,...re){return this.metadataFieldService.searchByFieldNameParams(null,null,null,L,null,j,$,z,...re)}}return g.\u0275fac=function(L){return new(L||g)(O.\u0275\u0275inject(i.yh),O.\u0275\u0275inject(h.T),O.\u0275\u0275inject(S.sK),O.\u0275\u0275inject(m.$),O.\u0275\u0275inject(_.c))},g.\u0275prov=O.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac}),g})()},29949:(R,c,e)=>{"use strict";e.d(c,{w:()=>d});var t=e(16441),n=e(45608),a=e(98678),i=e(67522);let d=(()=>{class r{constructor(p,h){this.router=p,this.appConfig=h}canActivate(p,h){if((0,n.UE)(p.queryParams.redirect)){const m=p.queryParams.redirect.startsWith(this.appConfig.ui.nameSpace)?p.queryParams.redirect.substring(this.appConfig.ui.nameSpace.length):p.queryParams.redirect;return this.router.parseUrl(m)}return this.router.createUrlTree(["home"])}}return r.\u0275fac=function(p){return new(p||r)(a.\u0275\u0275inject(i.F0),a.\u0275\u0275inject(t.q))},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})()},28452:(R,c,e)=>{"use strict";e.d(c,{K:()=>a});const n={RESOLVED:(0,e(49754).d)("dspace/resolver/RESOLVED")};class a{constructor(d,r){this.type=n.RESOLVED,this.payload={url:d,dso:r}}}},34969:(R,c,e)=>{"use strict";e.d(c,{A:()=>v});var _,t=e(70655),n=e(38666),a=e(65804),i=e(60932),d=e(87622),r=e(3798),l=e(26523),p=e(42878),h=e(25056),m=e(99558);let v=((_=class{}).type=d.A,_);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"name",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"description",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"policyType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"action",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"startDate",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"endDate",void 0),(0,t.__decorate)([r.OJ,n.autoserialize,(0,t.__metadata)("design:type",l._)],v.prototype,"type",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new i.$("resource-policy"),"id"),(0,t.__metadata)("design:type",String)],v.prototype,"uuid",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"_links",void 0),(0,t.__decorate)([(0,a.p4)(m.U),(0,t.__metadata)("design:type",p.y)],v.prototype,"eperson",void 0),(0,t.__decorate)([(0,a.p4)(h.o),(0,t.__metadata)("design:type",p.y)],v.prototype,"group",void 0),v=(0,t.__decorate)([a.KB],v)},87622:(R,c,e)=>{"use strict";e.d(c,{A:()=>n});const n=new(e(26523)._)("resourcepolicy")},35071:(R,c,e)=>{"use strict";e.d(c,{I:()=>re});var z,t=e(70655),n=e(78964),a=e(6952),i=e(18005),d=e(16066),r=e(55624),l=e(65384),p=e(87622),h=e(204),m=e(5803),_=e(45608),v=e(48358),y=e(76215),O=e(10572),S=e(6144),b=e(96526),o=e(27153),D=e(75195),M=e(30303),C=e(14246),T=e(74246),g=e(29908),U=e(7766),L=e(30828),j=e(1411),$=e(98678);let re=((z=class extends C.t{constructor(ie,ce,ne,K,w,Q,oe,q){super("resourcepolicies",ie,ce,ne,K),this.requestService=ie,this.rdbService=ce,this.objectCache=ne,this.halService=K,this.notificationsService=w,this.comparator=Q,this.ePersonService=oe,this.groupService=q,this.searchByEPersonMethod="eperson",this.searchByGroupMethod="group",this.searchByResourceMethod="resource",this.createData=new T.K(this.linkPath,ie,ce,ne,K,w,this.responseMsToLive),this.searchData=new g.l(this.linkPath,ie,ce,ne,K,this.responseMsToLive),this.patchData=new U.B(this.linkPath,ie,ce,ne,K,Q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new L.R(this.linkPath,ie,ce,ne,K,w,this.responseMsToLive,this.constructIdEndpoint)}create(ie,ce,ne,K){const w=[];return w.push(new m.g("resource",ce)),(0,_.UE)(ne)?w.push(new m.g("eperson",ne)):(0,_.UE)(K)&&w.push(new m.g("group",K)),this.createData.create(ie,...w)}delete(ie){return this.deleteData.delete(ie).pipe((0,O.hC)(),(0,v.U)(ce=>ce.hasSucceeded))}update(ie){return this.patchData.update(ie)}getDefaultAccessConditionsFor(ie,ce){return this.findListByHref(ie._links.defaultAccessConditions.href,ce)}searchByEPerson(ie,ce,ne=!0,K=!0,...w){const Q=new S.R;return Q.searchParams=[new m.g("uuid",ie)],(0,_.UE)(ce)&&Q.searchParams.push(new m.g("resource",ce)),this.searchData.searchBy(this.searchByEPersonMethod,Q,ne,K,...w)}searchByGroup(ie,ce,ne=!0,K=!0,...w){const Q=new S.R;return Q.searchParams=[new m.g("uuid",ie)],(0,_.UE)(ce)&&Q.searchParams.push(new m.g("resource",ce)),this.searchData.searchBy(this.searchByGroupMethod,Q,ne,K,...w)}searchByResource(ie,ce,ne=!0,K=!0,...w){const Q=new S.R;return Q.searchParams=[new m.g("uuid",ie)],(0,_.UE)(ce)&&Q.searchParams.push(new m.g("action",ce)),this.searchData.searchBy(this.searchByResourceMethod,Q,ne,K,...w)}updateTarget(ie,ce,ne,K){const Q=("eperson"===K?this.ePersonService:this.groupService).getIDHrefObs(ne),oe=Object.create({});let q=new n.WM;q=q.append("Content-Type","text/uri-list"),oe.headers=q;const ee=this.requestService.generateRequestId();return Q.pipe((0,y.P)()).subscribe(J=>{const Oe=new b.an(ee,ce+"/"+K,J,oe);Object.assign(Oe,{getResponseParser:()=>o.o}),this.requestService.send(Oe)}),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>this.invalidateByHref(ce))}}).\u0275fac=function(ie){return new(ie||z)($.\u0275\u0275inject(a.s),$.\u0275\u0275inject(d.Q),$.\u0275\u0275inject(r.a),$.\u0275\u0275inject(i.q),$.\u0275\u0275inject(l.T),$.\u0275\u0275inject(h.v),$.\u0275\u0275inject(D.k),$.\u0275\u0275inject(M.O))},z.\u0275prov=$.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac}),z);re=(0,t.__decorate)([(0,j.cQ)(p.A),(0,t.__metadata)("design:paramtypes",[a.s,d.Q,r.a,i.q,l.T,h.v,D.k,M.O])],re)},43061:(R,c,e)=>{"use strict";e.d(c,{G:()=>t});var t=(()=>{return(n=t||(t={})).Submitter="submitter",n.Controller="controller",n.Admin="admin",t;var n})()},1053:(R,c,e)=>{"use strict";e.d(c,{N:()=>r});var t=e(9237),n=e(49887),a=e(43061),i=e(95445),d=e(98678);let r=(()=>{class l{constructor(h){this.collectionService=h}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,n.x)())}isController(){return(0,t.of)(!0)}isAdmin(){return(0,t.of)(!1)}checkRole(h){let m;switch(h){case a.G.Submitter:m=this.isSubmitter();break;case a.G.Controller:m=this.isController();break;case a.G.Admin:m=this.isAdmin()}return m}}return l.\u0275fac=function(h){return new(h||l)(d.\u0275\u0275inject(i.W))},l.\u0275prov=d.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac}),l})()},53929:(R,c,e)=>{"use strict";e.d(c,{N:()=>i});var t=e(7754),n=e(1828),a=e(98678);let i=(()=>{class d{constructor(l){this.req=l,this.cookieSource=new n.x,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}}return d.\u0275fac=function(l){return new(l||d)(a.\u0275\u0275inject(t.Z))},d.\u0275prov=a.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d})()},69175:(R,c,e)=>{"use strict";e.d(c,{A:()=>n});var t=e(98678);let n=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=t.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},74770:(R,c,e)=>{"use strict";e.d(c,{U:()=>a});var t=e(98678),n=e(35103);let a=(()=>{class i{constructor(r,l){this.rendererFactory=r,this.document=l}addTag(r){try{const l=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.ViewEncapsulation.None,styles:[],data:{}}),p=l.createElement("link"),h=this.document.head;if(null===h)throw new Error("<head> not found within DOCUMENT.");return Object.keys(r).forEach(m=>l.setAttribute(p,m,r[m])),l.appendChild(h,p),l}catch(l){console.error("Error within linkService : ",l)}}removeTag(r){if(r)try{const l=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.ViewEncapsulation.None,styles:[],data:{}}),p=this.document.head;if(null===p)throw new Error("<head> not found within DOCUMENT.");const h=this.document.querySelectorAll("link["+r+"]");for(const m of h)l.removeChild(p,m)}catch(l){console.log("Error while removing tag "+l.message)}}}return i.\u0275fac=function(r){return new(r||i)(t.\u0275\u0275inject(t.RendererFactory2),t.\u0275\u0275inject(n.K0))},i.\u0275prov=t.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},73357:(R,c,e)=>{"use strict";e.d(c,{V:()=>n});var t=e(98678);let n=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=t.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},35132:(R,c,e)=>{"use strict";e.d(c,{E3:()=>h,Ei:()=>n,Q7:()=>p,Zr:()=>l,bX:()=>a,jr:()=>r,wq:()=>i});var t=e(49754);const n={SET_QUERY_PARAMETERS:(0,t.d)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,t.d)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,t.d)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,t.d)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,t.d)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,t.d)("dspace/core/route/SET_PARAMETER"),RESET:(0,t.d)("dspace/core/route/RESET")};class a{constructor(_){this.type=n.SET_QUERY_PARAMETERS,this.payload=_}}class i{constructor(_){this.type=n.SET_PARAMETERS,this.payload=_}}class r{constructor(_,v){this.type=n.ADD_PARAMETER,this.payload={key:_,value:v}}}class l{constructor(_,v){this.type=n.SET_QUERY_PARAMETER,this.payload={key:_,value:v}}}class p{constructor(_,v){this.type=n.SET_PARAMETER,this.payload={key:_,value:v}}}class h{constructor(){this.type=n.RESET}}},74997:(R,c,e)=>{"use strict";e.d(c,{MZ:()=>T});var t=e(48358),n=e(49887),a=e(77007),i=e(77176),d=e(67522),r=e(53426),l=e(89702),p=e(94667),h=e.n(p),m=e(35132),_=e(68671),v=e(45608);const y=(0,l.P1)(_.v,g=>g.history);var O=e(72921),S=e(98678);const b=(0,l.P1)(_.v,g=>(0,v.Uh)(g)&&(0,v.Uh)(g.route)?g.route.params:void 0);(0,l.P1)(_.v,g=>(0,v.Uh)(g)&&(0,v.Uh)(g.route)?g.route.queryParams:void 0);let T=(()=>{class g{constructor(L,j,$){this.route=L,this.router=j,this.store=$,this.saveRouting()}getQueryParameterValues(L){return this.getQueryParamMap().pipe((0,t.U)(j=>[...j.getAll(L)]),(0,n.x)((j,$)=>JSON.stringify(j)===JSON.stringify($)))}getQueryParameterValue(L){return this.getQueryParamMap().pipe((0,t.U)(j=>j.get(L)),(0,n.x)())}hasQueryParam(L){return this.getQueryParamMap().pipe((0,t.U)(j=>j.has(L)),(0,n.x)())}hasQueryParamWithValue(L,j){return this.getQueryParamMap().pipe((0,t.U)($=>$.getAll(L).indexOf(j)>-1),(0,n.x)())}getRouteParameterValue(L){return this.store.pipe((0,l.Ys)((g=>function C(g,U){return(0,l.P1)(U,L=>{if((0,v.Uh)(L))return L[g]})}(g,b))(L)))}getRouteDataValue(L){return this.route.data.pipe((0,t.U)(j=>j[L]),(0,n.x)())}getQueryParamsWithPrefix(L){return this.getQueryParamMap().pipe((0,t.U)(j=>{const $={};return j.keys.filter(z=>z.startsWith(L)).forEach(z=>{$[z]=[...j.getAll(z)]}),$}),(0,n.x)((j,$)=>JSON.stringify(j)===JSON.stringify($)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,t.U)(L=>{const j=this.router.routerState.snapshot;return h()(L,j.root.queryParamMap)?L:j.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,a.h)(L=>L instanceof d.m2)).subscribe(L=>{this.store.dispatch(new O.R(L.urlAfterRedirects))})}getRouteParams(){let L=this.route;for(;L.firstChild;)L=L.firstChild;return L.params}getHistory(){return this.store.pipe((0,l.Ys)(y))}getCurrentUrl(){return this.getHistory().pipe((0,t.U)(L=>L[L.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,t.U)(L=>L[L.length-2]||""))}addParameter(L,j){this.store.dispatch(new m.jr(L,j))}setParameter(L,j){this.store.dispatch(new m.Q7(L,j))}setQueryParameter(L,j){this.store.dispatch(new m.Zr(L,j))}setCurrentRouteInfo(){(0,r.a)(this.getRouteParams(),this.route.queryParams).pipe((0,i.q)(1)).subscribe(([L,j])=>{this.store.dispatch(new m.wq(L)),this.store.dispatch(new m.bX(j))})}}return g.\u0275fac=function(L){return new(L||g)(S.\u0275\u0275inject(d.gz),S.\u0275\u0275inject(d.F0),S.\u0275\u0275inject(l.yh))},g.\u0275prov=S.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},12857:(R,c,e)=>{"use strict";e.d(c,{N:()=>a});var t=e(7754),n=e(98678);let a=(()=>{class i{constructor(r){this.response=r}setStatus(r,l){return this.response&&(this.response.statusCode=r,l&&(this.response.statusMessage=l)),this}setUnauthorized(r="Unauthorized"){return this.setStatus(401,r)}setForbidden(r="Forbidden"){return this.setStatus(403,r)}setNotFound(r="Not found"){return this.setStatus(404,r)}setInternalServerError(r="Internal Server Error"){return this.setStatus(500,r)}setHeader(r,l){this.response&&this.response.setHeader(r,l)}}return i.\u0275fac=function(r){return new(r||i)(n.\u0275\u0275inject(t.Y,8))},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},10844:(R,c,e)=>{"use strict";e.d(c,{AW:()=>a,DC:()=>n,VC:()=>i});const n=new(e(98678).InjectionToken)("NativeWindowService");class a{get nativeWindow(){return typeof window<"u"&&window}}function i(){return new a}},15132:(R,c,e)=>{"use strict";e.d(c,{e:()=>n});const n=new(e(26523)._)("authorization")},78944:(R,c,e)=>{"use strict";e.d(c,{Gh:()=>h,R5:()=>v,uB:()=>_});var t=e(53426),n=e(22040),a=e(77007),i=e(48358),d=e(98678),r=e(66325),l=e(71213);new d.InjectionToken("redirectOn4xx",{providedIn:"root",factory:()=>h});const h=(y,O)=>S=>S.pipe((0,n.M)(O.isAuthenticated()),(0,a.h)(([b,o])=>{if(b.hasFailed){if(404===b.statusCode||422===b.statusCode)return y.navigateByUrl((0,l.ro)(),{skipLocationChange:!0}),!1;if(403===b.statusCode||401===b.statusCode)return o?(y.navigateByUrl((0,l.dd)(),{skipLocationChange:!0}),!1):(O.setRedirectUrl(y.url),y.navigateByUrl("login"),!1)}return!0}),(0,i.U)(([b])=>b)),_=(y,O,S)=>b=>(0,t.a)(b,O.isAuthenticated()).pipe((0,i.U)(([o,D])=>!!o.some(M=>!0===M)||(D?y.parseUrl((0,l.dd)()):(O.setRedirectUrl(S),y.parseUrl("login"))))),v=(y,O)=>S=>S.pipe((0,i.U)(b=>{const o={redirect:encodeURIComponent(O)};return b||y.createUrlTree([(0,r.ru)()],{queryParams:o})}))},88e3:(R,c,e)=>{"use strict";e.d(c,{A:()=>h});var p,t=e(70655),n=e(38666),a=e(65804),i=e(60932),d=e(3798),r=e(42240),l=e(26523);let h=((p=class{}).type=r.J,p);(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",l._)],h.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"shortDescription",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"description",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"mimetype",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"supportLevel",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],h.prototype,"internal",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],h.prototype,"extensions",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new i.$("bitstream-format"),"id"),(0,t.__metadata)("design:type",String)],h.prototype,"uuid",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"id",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([a.KB],h)},42240:(R,c,e)=>{"use strict";e.d(c,{J:()=>n});const n=new(e(26523)._)("bitstreamformat")},1535:(R,c,e)=>{"use strict";e.d(c,{Z:()=>m});var h,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(42240),r=e(96893),l=e(61750),p=e(37555);let m=((h=class extends l.t{getParentLinkKey(){return"format"}}).type=r.a,h);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],m.prototype,"sizeBytes",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"description",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"bundleName",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(r.a,!1,"thumbnail"),(0,t.__metadata)("design:type",a.y)],m.prototype,"thumbnail",void 0),(0,t.__decorate)([(0,i.p4)(d.J,!1,"format"),(0,t.__metadata)("design:type",a.y)],m.prototype,"format",void 0),(0,t.__decorate)([(0,i.p4)(p.c),(0,t.__metadata)("design:type",a.y)],m.prototype,"bundle",void 0),m=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(l.t)],m)},96893:(R,c,e)=>{"use strict";e.d(c,{a:()=>n});const n=new(e(26523)._)("bitstream")},38715:(R,c,e)=>{"use strict";e.d(c,{D:()=>i});var t=e(70655),n=e(38666),a=e(99449);class i extends a.X{}(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],i.prototype,"id",void 0)},11308:(R,c,e)=>{"use strict";e.d(c,{S:()=>n});const n=new(e(26523)._)("browse")},24347:(R,c,e)=>{"use strict";e.d(c,{g:()=>h});var t=e(70655),n=e(38666),a=e(18035),i=e(65804),d=e(3798),r=e(26523);const l=new r._("browseEntry");var p;let h=((p=class extends a.J{getRenderTypes(){return[this.constructor]}}).type=l,p);(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",r._)],h.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"authority",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"value",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("valueLang"),(0,t.__metadata)("design:type",String)],h.prototype,"language",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("thumbnail"),(0,t.__metadata)("design:type",String)],h.prototype,"thumbnail",void 0),(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",Number)],h.prototype,"count",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([i.KB],h)},6013:(R,c,e)=>{"use strict";e.d(c,{b:()=>m});var h,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(37555),r=e(61750),l=e(96893),p=e(92866);let m=((h=class extends r.t{}).type=d.c,h);(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(l.a),(0,t.__metadata)("design:type",a.y)],m.prototype,"primaryBitstream",void 0),(0,t.__decorate)([(0,i.p4)(l.a,!0),(0,t.__metadata)("design:type",a.y)],m.prototype,"bitstreams",void 0),(0,t.__decorate)([(0,i.p4)(p.B),(0,t.__metadata)("design:type",a.y)],m.prototype,"item",void 0),m=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(r.t)],m)},37555:(R,c,e)=>{"use strict";e.d(c,{c:()=>n});const n=new(e(26523)._)("bundle")},5378:(R,c,e)=>{"use strict";e.d(c,{F:()=>y});var v,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(96893),r=e(23832),l=e(61750),p=e(85878),h=e(87622),m=e(49977),_=e(3798);let y=((v=class extends l.t{get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}}).type=r.d,v);(0,t.__decorate)([_.OJ,n.autoserialize,(0,t.__metadata)("design:type",Number)],y.prototype,"archivedItemsCount",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(p.z),(0,t.__metadata)("design:type",a.y)],y.prototype,"license",void 0),(0,t.__decorate)([(0,i.p4)(d.a),(0,t.__metadata)("design:type",a.y)],y.prototype,"logo",void 0),(0,t.__decorate)([(0,i.p4)(h.A,!0),(0,t.__metadata)("design:type",a.y)],y.prototype,"defaultAccessConditions",void 0),(0,t.__decorate)([(0,i.p4)(m.v,!1),(0,t.__metadata)("design:type",a.y)],y.prototype,"parentCommunity",void 0),y=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(l.t)],y)},23832:(R,c,e)=>{"use strict";e.d(c,{d:()=>n});const n=new(e(26523)._)("collection")},66234:(R,c,e)=>{"use strict";e.d(c,{S:()=>_});var m,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(96893),r=e(23832),l=e(49977),p=e(61750),h=e(3798);let _=((m=class extends p.t{get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}}).type=l.v,m);(0,t.__decorate)([h.OJ,n.autoserialize,(0,t.__metadata)("design:type",Number)],_.prototype,"archivedItemsCount",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(d.a),(0,t.__metadata)("design:type",a.y)],_.prototype,"logo",void 0),(0,t.__decorate)([(0,i.p4)(r.d,!0),(0,t.__metadata)("design:type",a.y)],_.prototype,"collections",void 0),(0,t.__decorate)([(0,i.p4)(l.v,!0),(0,t.__metadata)("design:type",a.y)],_.prototype,"subcommunities",void 0),(0,t.__decorate)([(0,i.p4)(l.v,!1),(0,t.__metadata)("design:type",a.y)],_.prototype,"parentCommunity",void 0),_=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(p.t)],_)},49977:(R,c,e)=>{"use strict";e.d(c,{v:()=>n});const n=new(e(26523)._)("community")},49571:(R,c,e)=>{"use strict";e.d(c,{N:()=>t});var t=(()=>{return(n=t||(t={}))[n.CF_ACCEPTED=600]="CF_ACCEPTED",n[n.CF_UNCERTAIN=500]="CF_UNCERTAIN",n[n.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",n[n.CF_NOTFOUND=300]="CF_NOTFOUND",n[n.CF_FAILED=200]="CF_FAILED",n[n.CF_REJECTED=100]="CF_REJECTED",n[n.CF_NOVALUE=0]="CF_NOVALUE",n[n.CF_UNSET=-1]="CF_UNSET",t;var n})()},21247:(R,c,e)=>{"use strict";e.d(c,{o:()=>n});const n=new(e(26523)._)("property")},97785:(R,c,e)=>{"use strict";e.d(c,{q:()=>n});var t=e(45608);class n{Serialize(i){return(0,t.xb)(i)?"all":i}Deserialize(i){return"all"===i?"":i}}},89290:(R,c,e)=>{"use strict";e.d(c,{i:()=>_,V:()=>m});var t=e(70655),n=e(38666),a=e(65804),i=e(26523);const d=new i._("contentsource");var h,r=e(3798),l=e(99449),p=e(97785),m=(()=>{return(v=m||(m={})).None="NONE",v.Metadata="METADATA_ONLY",v.MetadataAndRef="METADATA_AND_REF",v.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",m;var v})();let _=((h=class extends l.X{constructor(){super(...arguments),this.type=d,this.harvestType=m.None}}).type=d,h);(0,t.__decorate)([r.OJ,(0,t.__metadata)("design:type",i._)],_.prototype,"type",void 0),(0,t.__decorate)([(0,n.deserializeAs)("self"),(0,t.__metadata)("design:type",String)],_.prototype,"uuid",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("oai_source"),(0,t.__metadata)("design:type",String)],_.prototype,"oaiSource",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new p.q,"oai_set_id"),(0,n.serializeAs)(new p.q,"oai_set_id"),(0,t.__metadata)("design:type",String)],_.prototype,"oaiSetId",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("metadata_config_id"),(0,t.__metadata)("design:type",String)],_.prototype,"metadataConfigId",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("harvest_type"),(0,t.__metadata)("design:type",Object)],_.prototype,"harvestType",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("harvest_status"),(0,t.__metadata)("design:type",String)],_.prototype,"harvestStatus",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("harvest_start_time"),(0,t.__metadata)("design:type",String)],_.prototype,"harvestStartTime",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("last_harvested"),(0,t.__metadata)("design:type",String)],_.prototype,"lastHarvested",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("harvest_message"),(0,t.__metadata)("design:type",String)],_.prototype,"message",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),_=(0,t.__decorate)([a.KB],_)},97462:(R,c,e)=>{"use strict";e.d(c,{_:()=>t});var t=(()=>{return(n=t||(t={})).Any="undefined",n.ItemPage="itemPage",n.Search="search",n.Workflow="workflow",n.Workspace="workspace",n.SupervisedItems="supervisedWorkspace",n.AdminMenu="adminMenu",n.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",n.EntitySearchModal="EntitySearchModal",n.AdminSearch="adminSearch",n.AdminWorkflowSearch="adminWorkflowSearch",n.SideBarSearchModal="sideBarSearchModal",n.SideBarSearchModalCurrent="sideBarSearchModalCurrent",n.MyDSpaceArchived="mydspaceArchived",n.MyDSpaceWorkspace="mydspaceWorkspace",n.MyDSpaceWorkflow="mydspaceWorkflow",n.MyDSpaceDeclined="mydspaceDeclined",n.MyDSpaceApproved="mydspaceApproved",n.MyDSpaceWaitingController="mydspaceWaitingController",n.MyDSpaceValidation="mydspaceValidation",n.Bitstream="bitstream",t;var n})()},45664:(R,c,e)=>{"use strict";function t(n,a){n.getValue()!==a&&n.next(a)}e.d(c,{e:()=>t})},37683:(R,c,e)=>{"use strict";e.d(c,{h:()=>t});var t=(()=>{return(n=t||(t={})).BUNDLE="BUNDLE",n.BITSTREAM="BITSTREAM",n.ITEM="ITEM",n.COLLECTION="COLLECTION",n.COMMUNITY="COMMUNITY",n.DSPACEOBJECT="DSPACEOBJECT",t;var n})()},61750:(R,c,e)=>{"use strict";e.d(c,{t:()=>v});var _,t=e(70655),n=e(38666),a=e(45608),i=e(18035),d=e(65804),r=e(3798),l=e(22537),p=e(57512),h=e(71432),m=e(26523);let v=((_=class extends i.J{get self(){return this._links.self.href}set self(O){this._links.self={href:O}}get name(){return(0,a.o8)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(O){(0,a.Uh)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=O),this._name=O}get metadataAsList(){return h.S.toViewModelList(this.metadata)}allMetadata(O,S){return h.S.all(this.metadata,O,S)}allMetadataValues(O,S){return h.S.allValues(this.metadata,O,S)}firstMetadata(O,S){return h.S.first(this.metadata,O,S)}firstMetadataValue(O,S){return h.S.firstValue(this.metadata,O,S)}hasMetadata(O,S){return h.S.has(this.metadata,O,S)}findMetadataSortedByPlace(O){return this.allMetadata(O).sort((S,b)=>(0,a.xI)(S.place)&&(0,a.xI)(b.place)?0:(0,a.xI)(S.place)?-1:(0,a.xI)(b.place)?1:S.place-b.place)}getRenderTypes(){return[this.constructor]}setMetadata(O,S,...b){const o=b.map((D,M)=>{const C=new p.DA;return C.value=D,C.authority=null,C.confidence=-1,C.language=S||null,C.place=M,C});(0,a.xI)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[O]=o}removeMetadata(O){delete this.metadata[O]}}).type=l.i,_);(0,t.__decorate)([r.OJ,(0,n.deserializeAs)("name"),(0,t.__metadata)("design:type",String)],v.prototype,"_name",void 0),(0,t.__decorate)([r.OJ,(0,n.autoserializeAs)(String,"uuid"),(0,t.__metadata)("design:type",String)],v.prototype,"id",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(String),(0,t.__metadata)("design:type",String)],v.prototype,"uuid",void 0),(0,t.__decorate)([r.OJ,n.autoserialize,(0,t.__metadata)("design:type",m._)],v.prototype,"type",void 0),(0,t.__decorate)([r.OJ,(0,n.autoserializeAs)(p.RH),(0,t.__metadata)("design:type",p.Ro)],v.prototype,"metadata",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"_links",void 0),v=(0,t.__decorate)([d.KB],v)},22537:(R,c,e)=>{"use strict";e.d(c,{i:()=>n});const n=new(e(26523)._)("dspaceobject")},45123:(R,c,e)=>{"use strict";e.d(c,{T:()=>m});var t=e(70655),n=e(38666),a=e(18035),i=e(65804),d=e(3798),r=e(26523);const l=new r._("externalSourceEntry");var h,p=e(57512);let m=((h=class extends a.J{getRenderTypes(){return[this.constructor]}}).type=l,h);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"id",void 0),(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",r._)],m.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"display",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"value",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"externalSource",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(p.RH),(0,t.__metadata)("design:type",p.Ro)],m.prototype,"metadata",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),m=(0,t.__decorate)([i.KB],m)},75606:(R,c,e)=>{"use strict";e.d(c,{p:()=>_});var t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(26523);const r=new d._("externalsource");var m,l=e(99449),p=e(42878),h=e(44205);let _=((m=class extends l.X{}).type=r,m);(0,t.__decorate)([i.OJ,n.autoserialize,(0,t.__metadata)("design:type",d._)],_.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"name",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],_.prototype,"hierarchical",void 0),(0,t.__decorate)([(0,a.p4)(h.Z,!0),(0,t.__metadata)("design:type",p.y)],_.prototype,"entityTypes",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),_=(0,t.__decorate)([a.KB],_)},1507:(R,c,e)=>{"use strict";e.d(c,{I:()=>p});var t=e(38123),n=e(77176),a=e(48358),i=e(10844),d=e(65521),r=e(45608),l=e(98678);let p=(()=>{class h{constructor(_,v){this._window=_,this.authService=v}retrieveFileDownloadLink(_){return this.authService.getShortlivedToken().pipe((0,n.q)(1),(0,a.U)(v=>(0,r.Uh)(v)?new d.R(_,`?authentication-token=${v}`).toString():_))}getFileNameFromResponseContentDisposition(_){const v=_.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(v)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}}return h.\u0275fac=function(_){return new(_||h)(l.\u0275\u0275inject(i.DC),l.\u0275\u0275inject(t.e8))},h.\u0275prov=l.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},74347:(R,c,e)=>{"use strict";e.d(c,{R:()=>h});var p,t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(79567),r=e(26523),l=e(2866);let h=((p=class extends l.${constructor(){super(...arguments),this.type=d.E}get self(){return this._links.self.href}getRenderType(){return this.dataType}}).type=d.E,p);(0,t.__decorate)([i.OJ,(0,t.__metadata)("design:type",r._)],h.prototype,"type",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(l.$)],h)},79567:(R,c,e)=>{"use strict";e.d(c,{E:()=>n});const n=new(e(26523)._)("flatBrowse")},18005:(R,c,e)=>{"use strict";e.d(c,{q:()=>y});var t=e(48358),n=e(77176),a=e(21160),i=e(9302),d=e(49887),r=e(6952),l=e(96526),p=e(45608),h=e(66692),m=e(10572),_=e(16066),v=e(98678);let y=(()=>{class O{constructor(b,o){this.requestService=b,this.rdbService=o}getRootHref(){return(new h.J).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(b){const o=new l.Xe(this.requestService.generateRequestId(),b);return this.requestService.send(o,!0),this.rdbService.buildFromHref(b).pipe((0,m.hC)(),(0,t.U)(D=>{if((0,p.Uh)(D.payload))return D.payload._links;console.warn(`No _links section found at ${b}`)}))}getEndpoint(b,o){const D=b.split("/").filter(M=>(0,p.UE)(M));return this.getEndpointAt(o||this.getRootHref(),...D).pipe((0,n.q)(1))}getEndpointAt(b,...o){if((0,p.xb)(o))throw new Error("cant't fetch the URL without the HAL link names");const D=this.getEndpointMapAt(b).pipe((0,t.U)(M=>{const C=o[0];if((0,p.Uh)(M)&&(0,p.Uh)(M[C]))return M[C].href;throw new Error(`${JSON.stringify(M)} doesn't contain the link ${C}`)}));return 1===o.length?D.pipe((0,n.q)(1)):D.pipe((0,a.w)(M=>this.getEndpointAt(M,...o.slice(1))),(0,n.q)(1))}isEnabledOnRestApi(b){return this.getRootEndpointMap().pipe((0,t.U)(o=>(0,p.UE)(o[b])),(0,i.O)(void 0),(0,d.x)())}}return O.\u0275fac=function(b){return new(b||O)(v.\u0275\u0275inject(r.s),v.\u0275\u0275inject(_.Q))},O.\u0275prov=v.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},73604:(R,c,e)=>{"use strict";e.d(c,{g:()=>a});var t=e(70655),n=e(38666);class a{}(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],a.prototype,"_links",void 0)},45097:(R,c,e)=>{"use strict";e.d(c,{q:()=>h});var p,t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(1591),r=e(26523),l=e(38715);let h=((p=class extends l.D{constructor(){super(...arguments),this.type=d.B}get self(){return this._links.self.href}getRenderType(){return"hierarchy"}}).type=d.B,p);(0,t.__decorate)([i.OJ,(0,t.__metadata)("design:type",r._)],h.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"facetType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"vocabulary",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("metadata"),(0,t.__metadata)("design:type",Array)],h.prototype,"metadataKeys",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(l.D)],h)},1591:(R,c,e)=>{"use strict";e.d(c,{B:()=>n});const n=new(e(26523)._)("hierarchicalBrowse")},37164:(R,c,e)=>{"use strict";e.d(c,{q:()=>m});var p,h,t=e(70655),n=e(38666),a=e(65804),i=e(60932),d=e(3798),r=e(26523),l=e(44205);let m=((p=class{}).type=l.Z,h=p);(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",r._)],m.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"label",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new i.$(h.type.value),"id"),(0,t.__metadata)("design:type",String)],m.prototype,"uuid",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),m=h=(0,t.__decorate)([a.KB],m)},44205:(R,c,e)=>{"use strict";e.d(c,{N:()=>a,Z:()=>n});const n=new(e(26523)._)("entitytype"),a="none"},83297:(R,c,e)=>{"use strict";e.d(c,{n:()=>v});var m,_,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(60932),r=e(3798),l=e(26523),p=e(44205),h=e(83124);let v=((m=class{}).type=h.b,_=m);(0,t.__decorate)([r.OJ,n.autoserialize,(0,t.__metadata)("design:type",l._)],v.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"label",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"id",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new d.$(_.type.value),"id"),(0,t.__metadata)("design:type",String)],v.prototype,"uuid",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"leftwardType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],v.prototype,"leftMaxCardinality",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],v.prototype,"leftMinCardinality",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],v.prototype,"rightwardType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],v.prototype,"rightMaxCardinality",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],v.prototype,"rightMinCardinality",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],v.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(p.Z),(0,t.__metadata)("design:type",a.y)],v.prototype,"leftType",void 0),(0,t.__decorate)([(0,i.p4)(p.Z),(0,t.__metadata)("design:type",a.y)],v.prototype,"rightType",void 0),v=_=(0,t.__decorate)([i.KB],v)},83124:(R,c,e)=>{"use strict";e.d(c,{b:()=>n});const n=new(e(26523)._)("relationshiptype")},56035:(R,c,e)=>{"use strict";e.d(c,{W:()=>y});var _,v,t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(60932),r=e(3798),l=e(92866),p=e(26523),h=e(83124),m=e(65602);let y=((_=class{}).type=m.Y,v=_);(0,t.__decorate)([r.OJ,n.autoserialize,(0,t.__metadata)("design:type",p._)],y.prototype,"type",void 0),(0,t.__decorate)([(0,n.deserializeAs)(new d.$(v.type.value),"id"),(0,t.__metadata)("design:type",String)],y.prototype,"uuid",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],y.prototype,"leftPlace",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],y.prototype,"rightPlace",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"leftwardValue",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"rightwardValue",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(l.B),(0,t.__metadata)("design:type",a.y)],y.prototype,"leftItem",void 0),(0,t.__decorate)([(0,i.p4)(l.B),(0,t.__metadata)("design:type",a.y)],y.prototype,"rightItem",void 0),(0,t.__decorate)([(0,i.p4)(h.b),(0,t.__metadata)("design:type",a.y)],y.prototype,"relationshipType",void 0),y=v=(0,t.__decorate)([i.KB],y)},65602:(R,c,e)=>{"use strict";e.d(c,{Y:()=>n});const n=new(e(26523)._)("relationship")},51885:(R,c,e)=>{"use strict";e.d(c,{s:()=>p});var t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(26523);const r=new d._("itemrequest");var l;let p=((l=class{}).type=r,l);(0,t.__decorate)([i.OJ,n.autoserialize,(0,t.__metadata)("design:type",d._)],p.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"token",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],p.prototype,"allfiles",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"requestEmail",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"requestName",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"requestMessage",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"requestDate",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],p.prototype,"acceptRequest",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"decisionDate",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"expires",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"itemId",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"bitstreamId",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],p.prototype,"_links",void 0),p=(0,t.__decorate)([a.KB],p)},13005:(R,c,e)=>{"use strict";e.d(c,{c:()=>b});var S,t=e(70655),n=e(38666),a=e(42878),i=e(45608),d=e(65804),r=e(37555),l=e(23832),p=e(61750),h=e(65602),m=e(92866),_=e(51275),v=e(96893),y=e(3101),O=e(64752);let b=((S=class extends p.t{getRenderTypes(){const D=this.firstMetadataValue("dspace.entity.type");return(0,i.xb)(D)?super.getRenderTypes():[D,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}}).type=m.B,S);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],b.prototype,"handle",void 0),(0,t.__decorate)([(0,n.deserializeAs)(Date),(0,t.__metadata)("design:type",Date)],b.prototype,"lastModified",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(Boolean,"inArchive"),(0,t.__metadata)("design:type",Boolean)],b.prototype,"isArchived",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(Boolean,"discoverable"),(0,t.__metadata)("design:type",Boolean)],b.prototype,"isDiscoverable",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(Boolean,"withdrawn"),(0,t.__metadata)("design:type",Boolean)],b.prototype,"isWithdrawn",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],b.prototype,"_links",void 0),(0,t.__decorate)([(0,d.p4)(l.d),(0,t.__metadata)("design:type",a.y)],b.prototype,"owningCollection",void 0),(0,t.__decorate)([(0,d.p4)(_.q),(0,t.__metadata)("design:type",a.y)],b.prototype,"version",void 0),(0,t.__decorate)([(0,d.p4)(r.c,!0),(0,t.__metadata)("design:type",a.y)],b.prototype,"bundles",void 0),(0,t.__decorate)([(0,d.p4)(h.Y,!0),(0,t.__metadata)("design:type",a.y)],b.prototype,"relationships",void 0),(0,t.__decorate)([(0,d.p4)(v.a,!1,"thumbnail"),(0,t.__metadata)("design:type",a.y)],b.prototype,"thumbnail",void 0),(0,t.__decorate)([(0,d.p4)(y.Q),(0,t.__metadata)("design:type",a.y)],b.prototype,"accessStatus",void 0),(0,t.__decorate)([(0,d.p4)(O.s,!1,"identifiers"),(0,t.__metadata)("design:type",a.y)],b.prototype,"identifiers",void 0),b=(0,t.__decorate)([d.KB,(0,n.inheritSerialization)(p.t)],b)},92866:(R,c,e)=>{"use strict";e.d(c,{B:()=>n});const n=new(e(26523)._)("item")},85878:(R,c,e)=>{"use strict";e.d(c,{z:()=>n});const n=new(e(26523)._)("license")},50904:(R,c,e)=>{"use strict";e.d(c,{A:()=>a});var t=e(13005),n=e(36092);class a extends t.c{constructor(d){super(),this.virtualMetadata=d}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return n.P.Item}getValue(){return this.virtualMetadata.value}}},36092:(R,c,e)=>{"use strict";e.d(c,{P:()=>t});var t=(()=>{return(n=t||(t={})).None="none",n.Item="item",n.AuthorityControlled="authority_controlled",n.PlainText="plain_text",n.BrowseLink="browse_link",t;var n})()},13228:(R,c,e)=>{"use strict";e.d(c,{S:()=>i});var t=e(36092),n=e(45608),a=e(57512);class i extends a.DA{constructor(r,l){super(),this.itemType=r,this.browseDefinition=l}get representationType(){return(0,n.Uh)(this.authority)?t.P.AuthorityControlled:(0,n.Uh)(this.browseDefinition)?t.P.BrowseLink:t.P.PlainText}getValue(){return this.value}}},57512:(R,c,e)=>{"use strict";e.d(c,{DA:()=>l,O_:()=>d,RH:()=>h,Ro:()=>r});var t=e(70655),n=e(40396),a=e(38666),i=e(45608);const d="virtual::";class r{}class l{constructor(){this.uuid=(0,n.Z)()}get isVirtual(){return(0,i.Uh)(this.authority)&&this.authority.startsWith(d)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(d)+d.length)}}(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],l.prototype,"language",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],l.prototype,"value",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",Number)],l.prototype,"place",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],l.prototype,"authority",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",Number)],l.prototype,"confidence",void 0);const h={Serialize(m){const _={};return Object.keys(m).forEach(v=>{_[v]=(0,a.Serialize)(m[v],l)}),_},Deserialize(m){const _={};return Object.keys(m).forEach(v=>{_[v]=(0,a.Deserialize)(m[v],l)}),_}}},71432:(R,c,e)=>{"use strict";e.d(c,{S:()=>l});var t=e(45608),n=e(57512),a=e(13635),i=e.n(a),d=e(51014),r=e.n(d);class l{static all(h,m,_){const v=h instanceof Array?h:[h],y=[];for(const O of v){for(const S of l.resolveKeys(O,m)){const b=O[S];if(b)for(const o of b)l.valueMatches(o,_)&&y.push(o)}if(!(0,t.xb)(y))return y}return y}static allValues(h,m,_){return l.all(h,m,_).map(v=>v.value)}static first(h,m,_){const v=h instanceof Array?h:[h];for(const y of v)for(const O of l.resolveKeys(y,m)){const S=y[O];if(S)return S.find(b=>l.valueMatches(b,_))}}static firstValue(h,m,_){const v=l.first(h,m,_);return(0,t.o8)(v)?void 0:v.value}static has(h,m,_){return(0,t.pT)(l.first(h,m,_))}static valueMatches(h,m){if(!m)return!0;if(m.language&&m.language!==h.language)return!1;if(m.authority&&m.authority!==h.authority)return!1;if(m.value){let _=m.value,v=h.value;return m.ignoreCase&&(_=m.value.toLowerCase(),v=h.value.toLowerCase()),m.substring?v.includes(_):v===_}return!0}static resolveKeys(h={},m){const _=m instanceof Array?m:[m],v=[];for(const y of _)if(y.includes("*")){const O=new RegExp("^"+y.replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const S of Object.keys(h))!v.includes(S)&&O.test(S)&&v.push(S)}else h.hasOwnProperty(y)&&!v.includes(y)&&v.push(y);return v}static toViewModelList(h){let m=[];return Object.keys(h).sort().forEach(_=>{const v=h[_].map((y,O)=>Object.assign({},y,{order:O,key:_}));m=[...m,...v]}),m}static toMetadataMap(h){const m={},_=i()(h,v=>v.key);return Object.keys(_).sort().forEach(v=>{const y=r()(_[v],["order"]);m[v]=y.map(O=>{const S=Object.assign(new n.DA,O);return delete S.order,delete S.key,S})}),m}static setFirstValue(h,m,_){(0,t.UE)(h[m])?h[m][0].value=_:h[m]=[Object.assign(new n.DA,{value:_})]}}},2866:(R,c,e)=>{"use strict";e.d(c,{$:()=>d});var t=e(70655),n=e(38666),i=(e(34364),e(38715));let d=class extends i.D{};(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],d.prototype,"sortOptions",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("order"),(0,t.__metadata)("design:type",String)],d.prototype,"defaultSortOrder",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("metadata"),(0,t.__metadata)("design:type",Array)],d.prototype,"metadataKeys",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"dataType",void 0),d=(0,t.__decorate)([(0,n.inheritSerialization)(i.D)],d)},10572:(R,c,e)=>{"use strict";e.d(c,{r_:()=>o,ig:()=>b,f1:()=>C,g1:()=>ce,mc:()=>z,Ul:()=>K,sJ:()=>ie,hC:()=>T,HW:()=>w,xw:()=>U,Gp:()=>j,A6:()=>$,LQ:()=>re,JV:()=>L,qP:()=>M,xe:()=>D,EB:()=>oe,ZU:()=>Q,Ie:()=>ne});var t=e(2703),n=e(53426),a=e(77025),i=e(34589),d=e(58886),r=e(73522),p=e(3358),h=e(48358),m=e(77007),_=e(77176),v=e(66154),y=e(21160),O=e(45608),S=e(98678);const b=(q,ee)=>function l(q){return(0,a.e)((ee,J)=>{let Ee=!1,Oe=null,Re=null;const ve=()=>{if(Re?.unsubscribe(),Re=null,Ee){Ee=!1;const Pe=Oe;Oe=null,J.next(Pe)}};ee.subscribe((0,d.x)(J,Pe=>{Re?.unsubscribe(),Ee=!0,Oe=Pe,Re=(0,d.x)(J,ve,i.Z),(0,r.Xf)(q(Pe)).subscribe(Re)},()=>{ve(),J.complete()},void 0,()=>{Oe=Re=null}))})}(()=>(0,t.F)(q,ee)),o=new S.InjectionToken("debounceTime",{providedIn:"root",factory:()=>p.b}),D=()=>q=>q.pipe((0,h.U)(ee=>ee.payload)),M=()=>q=>q.pipe((0,h.U)(ee=>ee.page)),C=()=>q=>q.pipe((0,m.h)(ee=>(0,O.Uh)(ee)&&ee.hasCompleted)),T=()=>q=>q.pipe(C(),(0,_.q)(1)),U=()=>q=>q.pipe((0,m.h)(ee=>ee.hasSucceeded),(0,_.q)(1)),L=()=>q=>q.pipe((0,v.s)(ee=>ee.hasSucceeded&&(0,O.UE)(ee.payload))),j=()=>q=>q.pipe(U(),D()),$=()=>q=>q.pipe(L(),D()),z=()=>q=>q.pipe(ce(),D()),re=()=>q=>q.pipe(U(),D(),M()),ie=()=>q=>q.pipe((0,v.s)(ee=>!ee.isLoading)),ce=()=>q=>q.pipe((0,m.h)(ee=>ee.hasSucceeded)),ne=()=>q=>q.pipe((0,m.h)(ee=>ee.hasSucceeded),(0,h.U)(ee=>{const J=ee.payload.page.filter(Oe=>(0,O.Uh)(Oe)).map(Oe=>Oe.indexableObject),Ee=Object.assign(ee.payload,{page:J});return Object.assign(ee,{payload:Ee})})),K=q=>ee=>ee.pipe(D(),M(),(0,h.U)(J=>J.find(Ee=>Ee.id===q)),(0,h.U)(J=>{if((0,O.UE)(J))return J._links;throw new Error(`No metadata browse definition could be found for id '${q}'`)})),w=()=>q=>q.pipe((0,h.U)(ee=>Object.assign(ee,{payload:ee.payload.page.length>0?ee.payload.page[0]:void 0}))),Q=()=>q=>q.pipe((0,O.tz)(),(0,h.U)(ee=>ee.payload.page.filter(J=>(0,O.Uh)(J)))),oe=()=>q=>q.pipe((0,O.tz)(),(0,h.U)(ee=>ee.payload.page.filter(J=>(0,O.Uh)(J))),(0,y.w)(ee=>{const J=ee.map(Ee=>Ee.schema.pipe(j(),(0,h.U)(Oe=>({field:Ee,schema:Oe}))));return(0,O.UE)(J)?(0,n.a)(J):[[]]}),(0,h.U)(ee=>ee.map(J=>J.schema.prefix+"."+J.field.toString())))},87483:(R,c,e)=>{"use strict";e.d(c,{S:()=>i});var t=e(70655),n=e(38666),a=e(45608);class i{constructor(r){(0,a.Uh)(r)&&(this.elementsPerPage=r.elementsPerPage,this.totalElements=r.totalElements,this.totalPages=r.totalPages,this.currentPage=r.currentPage)}get self(){return this._links.self.href}get last(){if((0,a.Uh)(this._links)&&(0,a.Uh)(this._links.last))return this._links.last.href}get next(){if((0,a.Uh)(this._links)&&(0,a.Uh)(this._links.next))return this._links.next.href}get prev(){if((0,a.Uh)(this._links)&&(0,a.Uh)(this._links.prev))return this._links.prev.href}get first(){if((0,a.Uh)(this._links)&&(0,a.Uh)(this._links.first))return this._links.first.href}}(0,t.__decorate)([(0,n.autoserializeAs)(Number,"size"),(0,t.__metadata)("design:type",Number)],i.prototype,"elementsPerPage",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],i.prototype,"totalElements",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],i.prototype,"totalPages",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(Number,"number"),(0,t.__metadata)("design:type",Number)],i.prototype,"currentPage",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],i.prototype,"_links",void 0)},14760:(R,c,e)=>{"use strict";e.d(c,{Y:()=>r});var t=e(70655),n=e(65804);const i=new(e(26523)._)("registration");var d;let r=((d=class{}).type=i,d);r=(0,t.__decorate)([n.KB],r)},56190:(R,c,e)=>{"use strict";e.d(c,{Md:()=>d,WV:()=>i,wG:()=>l});var t=e(69637),n=e(27303),a=e(45608);const i=p=>h=>h.pipe((0,t.z)(m=>p.getByHref(m)),(0,a.tz)()),d=p=>h=>h.pipe((0,t.z)(m=>p.getByUUID(m)),(0,a.tz)()),l=p=>h=>h.pipe((0,n.b)(m=>p.send(m)))},26523:(R,c,e)=>{"use strict";e.d(c,{_:()=>t});class t{constructor(a){this.value=a}}},27496:(R,c,e)=>{"use strict";e.d(c,{U:()=>W});var t=e(53426),n=e(35841),a=e(29054),i=e(9302),d=e(48358),r=e(77007),l=e(77176),p=e(45180),h=e(40772);class m{constructor(ce,ne,K){this.key=ce,this.values=ne,this.operator=K}}var _=e(60012),v=e(37683),y=e(42281),O=e(74997),S=e(10572),b=e(45608),o=e(41121),D=e(81323),M=e(30658),C=e(18005),T=e(6952),g=e(16066),U=e(96526),L=e(65521),j=e(90811),$=e(83046),z=e(98678),re=e(67522);let W=(()=>{class ie{constructor(ne,K,w,Q,oe,q,ee){this.routeService=ne,this.paginationService=K,this.route=w,this.linkService=Q,this.halService=oe,this.requestService=q,this.rdb=ee,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new p.r,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,b.xI)(this._defaults)){const ne=new h.t({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,o.uV)(ne,(new Date).getTime())}return this._defaults}getCurrentConfiguration(ne){return(0,t.a)([this.routeService.getQueryParameterValue("configuration").pipe((0,i.O)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,i.O)(void 0))]).pipe((0,d.U)(([K,w])=>K||w||ne))}getCurrentScope(ne){return this.routeService.getQueryParameterValue("scope").pipe((0,d.U)(K=>K||ne))}getCurrentQuery(ne){return this.routeService.getQueryParameterValue("query").pipe((0,d.U)(K=>K||ne))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,r.h)(ne=>(0,b.UE)(ne)&&(0,b.Uh)(v.h[ne.toUpperCase()])),(0,d.U)(ne=>v.h[ne.toUpperCase()]))}getCurrentPagination(ne,K){return this.paginationService.getCurrentPagination(ne,K)}getCurrentSort(ne,K){return this.paginationService.getCurrentSort(ne,K)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,d.U)(ne=>{if((0,b.UE)(ne)){const K=[];return Object.keys(ne).forEach(w=>{if(w.endsWith(".min")||w.endsWith(".max")){const Q=w.slice(0,-4);(0,b.xI)(K.find(oe=>oe.key===Q))&&K.push(new m(Q,["["+(ne[Q+".min"]?ne[Q+".min"][0]:"*")+" TO "+(ne[Q+".max"]?ne[Q+".max"][0]:"*")+"]"],"equals"))}else K.push(new m(w,ne[w]))}),K}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(ne){return this.routeService.getQueryParameterValue("view").pipe((0,d.U)(K=>K||ne))}getConfigurationSearchConfig(ne,K){return this.getSearchConfigurationFor(K,ne).pipe((0,S.mc)())}getConfigurationSortOptions(ne){return ne.sortOptions.map(K=>({field:K.name,direction:K.sortOrder.toLowerCase()===y.S.ASC.toLowerCase()?y.S.ASC:y.S.DESC}))}setPaginationId(ne){if((0,b.UE)(ne)){const K=this.paginatedSearchOptions.getValue(),w=Object.assign(new h.t({}),K,{pagination:Object.assign({},K.pagination,{id:ne})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=ne,this.paginatedSearchOptions.next(w),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(ne=>ne.filter(K=>(0,b.Uh)(K)).forEach(K=>K.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,S.xw)()).subscribe(ne=>{const K=ne.payload;this.paginatedSearchOptions=new n.X(K),this.searchOptions=new n.X(K),this.setSearchSubscription(this.paginationID,K)})}setSearchSubscription(ne,K){this.unsubscribeFromSearchOptions(ne);const w=[this.subscribeToSearchOptions(K),this.subscribeToPaginatedSearchOptions(ne||K.pagination.id,K)];this.subs.set(this.paginationID,w)}subscribeToSearchOptions(ne){return(0,a.T)(this.getConfigurationPart(ne.configuration),this.getScopePart(ne.scope),this.getQueryPart(ne.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(ne.view)).subscribe(K=>{const w=this.searchOptions.getValue(),Q=Object.assign(new h.t({}),w,K);this.searchOptions.next(Q)})}subscribeToPaginatedSearchOptions(ne,K){return(0,a.T)(this.getConfigurationPart(K.configuration),this.getPaginationPart(ne,K.pagination),this.getSortPart(ne,K.sort),this.getScopePart(K.scope),this.getQueryPart(K.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(K.view)).subscribe(w=>{const Q=this.paginatedSearchOptions.getValue(),oe=Object.assign(new h.t({}),Q,w);this.paginatedSearchOptions.next(oe)})}unsubscribeFromSearchOptions(ne){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(K=>(0,b.Uh)(K)).forEach(K=>K.unsubscribe()),this.subs.delete(ne))}getConfigurationPart(ne){return this.getCurrentConfiguration(ne).pipe((0,d.U)(K=>({configuration:K})))}getScopePart(ne){return this.getCurrentScope(ne).pipe((0,d.U)(K=>({scope:K})))}getQueryPart(ne){return this.getCurrentQuery(ne).pipe((0,d.U)(K=>({query:K})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,d.U)(ne=>({dsoType:ne})))}getPaginationPart(ne,K){return this.getCurrentPagination(ne,K).pipe((0,d.U)(w=>({pagination:w})))}getSortPart(ne,K){return this.getCurrentSort(ne,K).pipe((0,d.U)(w=>({sort:w})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,d.U)(ne=>({filters:ne})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,b.iy)(),(0,d.U)(ne=>({fixedFilter:ne})))}getSearchConfigurationFor(ne,K){const w=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,d.U)(Q=>this.getConfigUrl(Q,ne,K)));return w.pipe((0,l.q)(1)).subscribe(Q=>{const oe=new U.Gl(this.requestService.generateRequestId(),Q);this.requestService.send(oe,!0)}),this.rdb.buildFromHref(w)}getConfigUrl(ne,K,w){const Q=[];return(0,b.UE)(K)&&Q.push(`scope=${K}`),(0,b.UE)(w)&&Q.push(`configuration=${w}`),(0,b.UE)(Q)&&(ne=new L.R(ne,`?${Q.join("&")}`).toString()),ne}getConfig(ne,K){const w=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,d.U)(Q=>this.getConfigUrl(Q,ne,K)));return w.pipe((0,l.q)(1)).subscribe(Q=>{let oe=new U.Gl(this.requestService.generateRequestId(),Q);oe=Object.assign(oe,{getResponseParser:()=>j.L}),this.requestService.send(oe,!0)}),this.rdb.buildFromHref(w).pipe((0,d.U)(Q=>{if(Q.hasSucceeded){let oe;return oe=(0,b.UE)(Q.payload.filters)?Q.payload.filters.map(q=>Object.assign(new $.B,q)):[],new _.N(Q.timeCompleted,Q.msToLive,Q.lastUpdated,Q.state,Q.errorMessage,oe,Q.statusCode)}return Q}))}getViewModePart(ne){return this.getCurrentViewMode(ne).pipe((0,d.U)(K=>({view:K})))}}return ie.\u0275fac=function(ne){return new(ne||ie)(z.\u0275\u0275inject(O.MZ),z.\u0275\u0275inject(D.N),z.\u0275\u0275inject(re.gz),z.\u0275\u0275inject(M.M),z.\u0275\u0275inject(C.q),z.\u0275\u0275inject(T.s),z.\u0275\u0275inject(g.Q))},ie.\u0275prov=z.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac}),ie})()},58055:(R,c,e)=>{"use strict";e.d(c,{Pe:()=>O,j9:()=>v,nJ:()=>S,y5:()=>y});var t=e(53426),n=e(48358),a=e(49887),i=e(98678),d=e(89702),r=e(44868),l=e(45608),p=e(42281),h=e(74997),m=e(45180);const _=D=>D.searchFilter,v=new i.InjectionToken("filterConfig"),y=new i.InjectionToken("inPlaceSearch"),O=new i.InjectionToken("refreshFilters");let S=(()=>{class D{constructor(C,T){this.store=C,this.routeService=T}isFilterActiveWithValue(C,T){return this.routeService.hasQueryParamWithValue(C,T)}isFilterActive(C){return this.routeService.hasQueryParam(C)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(C={}){const T=this.routeService.getQueryParameterValue("page"),g=this.routeService.getQueryParameterValue("pageSize");return(0,t.a)(T,g).pipe((0,n.U)(([U,L])=>Object.assign(new m.r,C,{currentPage:U||1,pageSize:L||C.pageSize})))}getCurrentSort(C){const T=this.routeService.getQueryParameterValue("sortDirection"),g=this.routeService.getQueryParameterValue("sortField");return(0,t.a)(T,g).pipe((0,n.U)(([U,L])=>new p.o(L||C.field,p.S[U]||C.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}getSelectedValuesForFilter(C){const T=this.routeService.getQueryParameterValues(C.paramName),g=this.routeService.getQueryParamsWithPrefix(C.paramName+".").pipe((0,n.U)(U=>[].concat(...Object.values(U))));return(0,t.a)(T,g).pipe((0,n.U)(([U,L])=>(0,l.UE)(U)?U:L))}isCollapsed(C){return this.store.pipe((0,d.Ys)(b(C)),(0,n.U)(T=>!!T&&T.filterCollapsed),(0,a.x)())}getPage(C){return this.store.pipe((0,d.Ys)(b(C)),(0,n.U)(T=>T?T.page:1),(0,a.x)())}collapse(C){this.store.dispatch(new r.sd(C))}expand(C){this.store.dispatch(new r.ZG(C))}toggle(C){this.store.dispatch(new r.EZ(C))}initializeFilter(C){this.store.dispatch(new r.GL(C))}decrementPage(C){this.store.dispatch(new r.WS(C))}incrementPage(C){this.store.dispatch(new r.FR(C))}resetPage(C){this.store.dispatch(new r.Dt(C))}}return D.\u0275fac=function(C){return new(C||D)(i.\u0275\u0275inject(d.yh),i.\u0275\u0275inject(h.MZ))},D.\u0275prov=i.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();function b(D){return function o(D){return(0,d.P1)(_,M=>{if((0,l.Uh)(M))return M[D]})}(D)}},57066:(R,c,e)=>{"use strict";e.d(c,{o:()=>re});var t=e(53426),n=e(48358),a=e(77176),i=e(21160),d=e(60012),r=e(96526),l=e(6952),p=e(18005),h=e(65521),m=e(45608),_=e(99867),v=e(75156),y=e(59710),O=e(40772),S=e(41529),b=e(91179),o=e(16066),D=e(10572),M=e(74997),C=e(73803),T=e(81323),g=e(27496),U=e(45180),L=e(23684),j=e(98678),$=e(37315);class z extends L.B{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(ie,ce,...ne){return super.addEmbedParams(ie,ce,...ne)}}let re=(()=>{class W{constructor(ce,ne,K,w,Q,oe,q,ee){this.routeService=ce,this.requestService=ne,this.rdb=K,this.halService=w,this.dspaceObjectService=Q,this.paginationService=oe,this.searchConfigurationService=q,this.angulartics2=ee,this.searchLinkPath="discover/search/objects",this.parser=_.g,this.request=r.Gl,this.searchDataService=new z}setServiceOptions(ce,ne){ce&&(this.parser=ce),ne&&(this.request=ne)}getEndpoint(ce){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,n.U)(ne=>(0,m.Uh)(ce)?ce.toRestUrl(ne):ne))}search(ce,ne,K=!0,w=!0,...Q){const oe=this.getEndpoint(ce);oe.pipe((0,a.q)(1),(0,n.U)(ee=>{const J=this.searchDataService.addEmbedParams(ee,[],...Q);return(0,m.UE)(J)?new h.R(ee,`?${J.join("&")}`).toString():ee})).subscribe(ee=>{const J=new this.request(this.requestService.generateRequestId(),ee);Object.assign(J,{responseMsToLive:(0,m.Uh)(ne)?ne:J.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:ce}),this.requestService.send(J,K)});const q=oe.pipe((0,i.w)(ee=>this.rdb.buildFromHref(ee)));return this.directlyAttachIndexableObjects(q,K,w,...Q)}searchEntries(ce){const K=this.getEndpoint(ce).pipe((0,i.w)(w=>this.rdb.buildFromHref(w)));return this.directlyAttachIndexableObjects(K)}directlyAttachIndexableObjects(ce,ne=!0,K=!0,...w){return ce.pipe((0,i.w)(Q=>{if((0,m.Uh)(Q.payload)&&(0,m.UE)(Q.payload.page)){const oe=Q.payload.page.map(q=>this.dspaceObjectService.findByHref(q._links.indexableObject.href,ne,K,...w).pipe((0,D.hC)(),(0,D.xe)(),(0,m.tz)(),(0,n.U)(ee=>{const Ee=(0,C.i)(ee.constructor);return Object.assign(new Ee,q,{indexableObject:ee})})));return(0,t.a)(oe).pipe((0,n.U)(q=>{const ee=Object.assign(new v.L,Q.payload,{page:q});return new d.N(Q.timeCompleted,Q.msToLive,Q.lastUpdated,Q.state,Q.errorMessage,ee,Q.statusCode)}))}return[Q]}))}getFacetValuesFor(ce,ne,K,w,Q=!0){let oe,q=[];(0,m.Uh)(w)&&q.push(`prefix=${encodeURIComponent(w)}`),(0,m.Uh)(K)?oe=(K=Object.assign(new O.t({}),K,{pagination:Object.assign({},K.pagination,{currentPage:ne,pageSize:ce.pageSize})})).toRestUrl(ce._links.self.href,q):(q=["page="+(ne-1),`size=${ce.pageSize}`,...q],oe=new h.R(ce._links.self.href,`?${q.join("&")}`).toString());let ee=new this.request(this.requestService.generateRequestId(),oe);return ee=Object.assign(ee,{getResponseParser:()=>y.N}),this.requestService.send(ee,Q),this.rdb.buildFromHref(oe)}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,n.U)(ce=>(0,m.UE)(ce.get("view"))&&(0,m.Uh)(ce.get("view"))?ce.get("view"):S.w.ListElement))}setViewMode(ce,ne){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new U.r).pipe((0,a.q)(1)).subscribe(K=>{let w={page:1};const Q={view:ce};ce===S.w.DetailedListElement?w=Object.assign(w,{pageSize:1}):1===K.pageSize&&(w=Object.assign(w,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,m.Uh)(ne)?ne:[this.getSearchLink()],w,Q)})}trackSearch(ce,ne,K){const w=[],Q=ne.appliedFilters||[];for(let oe=0,q=Q.length;oe<q;oe++)w.push(Q[oe]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:ce,page:{size:ce.pagination.size,totalElements:ne.pageInfo.totalElements,totalPages:ne.pageInfo.totalPages,number:ce.pagination.currentPage},sort:{by:ce.sort.field,order:ce.sort.direction},filters:w,clickedObject:K}})}getSearchLink(){return"/search"}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}}return W.\u0275fac=function(ce){return new(ce||W)(j.\u0275\u0275inject(M.MZ),j.\u0275\u0275inject(l.s),j.\u0275\u0275inject(o.Q),j.\u0275\u0275inject(p.q),j.\u0275\u0275inject(b.D),j.\u0275\u0275inject(T.N),j.\u0275\u0275inject(g.U),j.\u0275\u0275inject($.b))},W.\u0275prov=j.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac}),W})()},97029:(R,c,e)=>{"use strict";e.d(c,{m:()=>n});var t=e(98678);let n=(()=>{class a{constructor(){this.value=0}next(){return++this.value}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=t.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},14537:(R,c,e)=>{"use strict";e.d(c,{E:()=>n});const n=new(e(26523)._)("site")},4802:(R,c,e)=>{"use strict";e.d(c,{_:()=>a});var t=e(40396),n=e(98678);let a=(()=>{class i{generate(){return(0,t.Z)()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},67461:(R,c,e)=>{"use strict";e.d(c,{w:()=>h});var p,t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(18654),r=e(26523),l=e(2866);let h=((p=class extends l.${constructor(){super(...arguments),this.type=d.C}get self(){return this._links.self.href}getRenderType(){return this.dataType}}).type=d.C,p);(0,t.__decorate)([i.OJ,(0,t.__metadata)("design:type",r._)],h.prototype,"type",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(l.$)],h)},18654:(R,c,e)=>{"use strict";e.d(c,{C:()=>n});const n=new(e(26523)._)("valueList")},23337:(R,c,e)=>{"use strict";e.d(c,{h:()=>n});const n=new(e(26523)._)("versionhistory")},51275:(R,c,e)=>{"use strict";e.d(c,{q:()=>n});const n=new(e(26523)._)("version")},41529:(R,c,e)=>{"use strict";e.d(c,{w:()=>t});var t=(()=>{return(n=t||(t={})).ListElement="list",n.GridElement="grid",n.DetailedListElement="detailed",n.StandalonePage="standalone",t;var n})()},80265:(R,c,e)=>{"use strict";e.d(c,{O:()=>h});var p,t=e(70655),n=e(38666),a=e(65804),i=e(3798),d=e(26523),r=e(73604),l=e(22503);let h=((p=class extends r.g{}).type=l._,p);(0,t.__decorate)([i.OJ,n.autoserialize,(0,t.__metadata)("design:type",d._)],h.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],h.prototype,"id",void 0),(0,t.__decorate)([(0,n.autoserializeAs)("report-type"),(0,t.__metadata)("design:type",String)],h.prototype,"reportType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],h.prototype,"points",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],h.prototype,"_links",void 0),h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(r.g)],h)},22503:(R,c,e)=>{"use strict";e.d(c,{_:()=>n});const n=new(e(26523)._)("usagereport")},85691:(R,c,e)=>{"use strict";e.d(c,{S:()=>n});const n=new(e(26523)._)("submissioncclicenseUrl")},62229:(R,c,e)=>{"use strict";e.d(c,{z:()=>n});const n=new(e(26523)._)("submissioncclicense")},63594:(R,c,e)=>{"use strict";e.d(c,{H:()=>y});var t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(96187),r=e(99558),l=e(23832),p=e(61750),h=e(92866),m=e(3798),v=e(64785);let y=class extends p.t{get self(){return this._links.self.href}};(0,t.__decorate)([m.OJ,n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Date)],y.prototype,"lastModified",void 0),(0,t.__decorate)([(0,i.p4)(l.d),(0,t.__metadata)("design:type",Object)],y.prototype,"collection",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",class _{})],y.prototype,"sections",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],y.prototype,"errors",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(h.B),(0,t.__metadata)("design:type",Object)],y.prototype,"item",void 0),(0,t.__decorate)([(0,i.p4)(d.Y.type),(0,t.__metadata)("design:type",Object)],y.prototype,"submissionDefinition",void 0),(0,t.__decorate)([(0,i.p4)(r.U),(0,t.__metadata)("design:type",Object)],y.prototype,"submitter",void 0),(0,t.__decorate)([(0,i.p4)(v.t),(0,t.__metadata)("design:type",a.y)],y.prototype,"supervisionOrders",void 0),y=(0,t.__decorate)([(0,n.inheritSerialization)(p.t)],y)},54384:(R,c,e)=>{"use strict";e.d(c,{p:()=>h});var l,p,t=e(70655),n=e(38666),a=e(65804),i=e(60932),d=e(67984),r=e(63594);let h=((l=class extends r.H{}).type=d.w,p=l);(0,t.__decorate)([(0,n.deserializeAs)(new i.$(p.type.value),"id"),(0,t.__metadata)("design:type",String)],h.prototype,"uuid",void 0),h=p=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(r.H),(0,a.o2)(r.H)],h)},31638:(R,c,e)=>{"use strict";e.d(c,{K:()=>m});var t=e(70655),n=e(38666),a=e(65804),i=e(60932),d=e(63594);const l=new(e(26523)._)("workspaceitem");var p,h;let m=((p=class extends d.H{}).type=l,h=p);(0,t.__decorate)([(0,n.deserializeAs)(new i.$(h.type.value),"id"),(0,t.__metadata)("design:type",String)],m.prototype,"uuid",void 0),m=h=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(d.H),(0,a.o2)(d.H)],m)},23266:(R,c,e)=>{"use strict";e.d(c,{I:()=>v});var _,t=e(70655),n=e(16066),a=e(55624),i=e(18005),d=e(6952),r=e(62229),l=e(23684),p=e(54254),h=e(1411),m=e(98678);let v=((_=class extends l.B{constructor(O,S,b,o){super("submissioncclicenses",O,S,b,o),this.requestService=O,this.rdbService=S,this.objectCache=b,this.halService=o,this.linkPath="submissioncclicenses",this.findAllData=new p.k(this.linkPath,O,S,b,o,this.responseMsToLive)}findAll(O,S,b,...o){return this.findAllData.findAll(O,S,b,...o)}}).\u0275fac=function(O){return new(O||_)(m.\u0275\u0275inject(d.s),m.\u0275\u0275inject(n.Q),m.\u0275\u0275inject(a.a),m.\u0275\u0275inject(i.q))},_.\u0275prov=m.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_);v=(0,t.__decorate)([(0,h.cQ)(r.z),(0,t.__metadata)("design:paramtypes",[d.s,n.Q,a.a,i.q])],v)},29353:(R,c,e)=>{"use strict";e.d(c,{K:()=>S});var O,t=e(70655),n=e(16066),a=e(55624),i=e(18005),d=e(6952),r=e(85691),l=e(21160),p=e(48358),h=e(10572),m=e(23684),_=e(29908),v=e(1411),y=e(98678);let S=((O=class extends m.B{constructor(o,D,M,C){super("submissioncclicenseUrls-search",o,D,M,C),this.requestService=o,this.rdbService=D,this.objectCache=M,this.halService=C,this.searchData=new _.l(this.linkPath,o,D,M,C,this.responseMsToLive,(T,g)=>`${T}/${g}`)}getCcLicenseLink(o,D){return this.searchData.getSearchByHref("rightsByQuestions",{searchParams:[{fieldName:"license",fieldValue:o.id},...o.fields.map(M=>({fieldName:`answer_${M.id}`,fieldValue:D.get(M).id}))]}).pipe((0,l.w)(M=>this.findByHref(M)),(0,h.xw)(),(0,h.xe)(),(0,p.U)(M=>M.url))}searchBy(o,D,M,C,...T){return this.searchData.searchBy(o,D,M,C,...T)}}).\u0275fac=function(o){return new(o||O)(y.\u0275\u0275inject(d.s),y.\u0275\u0275inject(n.Q),y.\u0275\u0275inject(a.a),y.\u0275\u0275inject(i.q))},O.\u0275prov=y.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O);S=(0,t.__decorate)([(0,v.cQ)(r.S),(0,t.__metadata)("design:paramtypes",[d.s,n.Q,a.a,i.q])],S)},11915:(R,c,e)=>{"use strict";e.d(c,{E:()=>j});var t=e(6952),n=e(18005),a=e(29054);function i($,z){return(re,W)=>!$.call(z,re,W)}var d=e(77007),l=e(69637),p=e(77176),h=e(27303),m=e(48358),_=e(66154),v=e(49887),y=e(45608),O=e(68671),S=e(86769);function b($){return(0,S.GY)(O.v,"json/patch",$)}var D=e(1267),M=e(10572);class C{submitJsonPatchOperations(z,re,W){const ie=this.requestService.generateRequestId();let ce=null;const[ne,K]=function r($,z){return re=>[(0,d.h)($,z)(re),(0,d.h)(i($,z))(re)]}(w=>(0,y.UE)(w.body))(z.pipe((0,l.z)(w=>this.store.select(b(re)).pipe((0,p.q)(1),(0,d.h)(Q=>(0,y.o8)(Q)||!Q.commitPending),(0,h.b)(()=>ce=(new Date).getTime()),(0,m.U)(Q=>{const oe=[];return(0,y.UE)(Q)&&((0,y.UE)(W)?(0,y.pT)(Q.children[W])&&(0,y.UE)(Q.children[W].body)&&Q.children[W].body.forEach(q=>{oe.push(q.operation)}):Object.keys(Q.children).filter(q=>Q.children.hasOwnProperty(q)).filter(q=>(0,y.Uh)(Q.children[q])).filter(q=>(0,y.Uh)(Q.children[q].body)).forEach(q=>{Q.children[q].body.forEach(ee=>{oe.push(ee.operation)})})),this.getRequestInstance(ie,w,oe)})))));return(0,a.T)(K.pipe((0,d.h)(w=>(0,y.xb)(w.body)),(0,h.b)(()=>ce=null),(0,m.U)(()=>null)),ne.pipe((0,d.h)(w=>(0,y.UE)(w.body)),(0,h.b)(()=>this.store.dispatch(new D.eB(re,W,ce))),(0,h.b)(w=>this.requestService.send(w)),(0,l.z)(()=>this.rdbService.buildFromRequestUUID(ie).pipe((0,M.hC)(),(0,_.s)(w=>ce<w.timeCompleted),(0,m.U)(w=>{if(w.hasFailed)throw this.store.dispatch(new D.PS(re,W)),new Error(w.errorMessage);if((0,y.Uh)(w.payload)&&(0,y.UE)(w.payload.dataDefinition))return this.store.dispatch(new D.bu(re,W)),w.payload.dataDefinition}),(0,v.x)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new D.Qh)}getRequestInstance(z,re,W){return new this.patchRequestConstructor(z,re,W)}getEndpointByIDHref(z,re){return(0,y.UE)(re)?`${z}/${re}`:`${z}`}jsonPatchByResourceType(z,re,W){const ie=this.halService.getEndpoint(z).pipe((0,d.h)(ce=>(0,y.UE)(ce)),(0,v.x)(),(0,m.U)(ce=>this.getEndpointByIDHref(ce,re)));return this.submitJsonPatchOperations(ie,W)}hasPendingOperations(z){return this.store.select(b(z)).pipe((0,m.U)(re=>!(0,y.xb)(re)&&Object.values(re.children).filter(W=>!(0,y.xb)(W.body)).length>0),(0,v.x)())}jsonPatchByResourceID(z,re,W,ie){const ce=this.halService.getEndpoint(z).pipe((0,d.h)(ne=>(0,y.UE)(ne)),(0,v.x)(),(0,m.U)(ne=>this.getEndpointByIDHref(ne,re)));return this.submitJsonPatchOperations(ce,W,ie)}}var T=e(96526),g=e(16066),U=e(98678),L=e(89702);let j=(()=>{class $ extends C{constructor(re,W,ie,ce){super(),this.requestService=re,this.store=W,this.rdbService=ie,this.halService=ce,this.linkPath="",this.patchRequestConstructor=T.c}}return $.\u0275fac=function(re){return new(re||$)(U.\u0275\u0275inject(t.s),U.\u0275\u0275inject(L.yh),U.\u0275\u0275inject(g.Q),U.\u0275\u0275inject(n.q))},$.\u0275prov=U.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac}),$})()},14677:(R,c,e)=>{"use strict";e.d(c,{O:()=>v});var t=e(9237),n=e(1579),a=e(60012),i=e(94056),d=e(956),r=e(46342),l=e(48358),p=e(18005),h=e(76774),m=e(45132),_=e(98678);let v=(()=>{class y{constructor(S,b,o,D){this.workspaceitemDataService=S,this.workflowItemDataService=b,this.submissionService=o,this.halService=D}getHrefByID(S){const b=this.submissionService.getSubmissionScope()===i.S.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(b.getLinkPath()).pipe((0,l.U)(o=>b.getIDHref(o,encodeURIComponent(S))))}findById(S,b=!0,o=!0,...D){switch(this.submissionService.getSubmissionScope()){case i.S.WorkspaceItem:return this.workspaceitemDataService.findById(S,b,o,...D);case i.S.WorkflowItem:return this.workflowItemDataService.findById(S,b,o,...D);default:const M=(new Date).getTime();return(0,t.of)(new a.N(M,h.N.cache.msToLive.default,M,m.q$.Error,"The request couldn't be sent. Unable to determine the type of submission object",void 0,400))}}}return y.\u0275fac=function(S){return new(S||y)(_.\u0275\u0275inject(r.p),_.\u0275\u0275inject(d.K),_.\u0275\u0275inject(n.b),_.\u0275\u0275inject(p.q))},y.\u0275prov=_.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},73716:(R,c,e)=>{"use strict";e.d(c,{Vv:()=>v,pw:()=>y});var t=e(55152),n=e(6008),a=e(62948),i=e(45608),d=e(32357),r=e(55624),l=e(31042),p=e(54384),h=e(31638),m=e(98678);function v(O,S){let b=O;return(0,i.K0)(O)&&("object"==typeof O&&function _(O){return"object"==typeof O&&O.hasOwnProperty("value")&&O.hasOwnProperty("language")&&O.hasOwnProperty("authority")&&O.hasOwnProperty("confidence")}(O)?b=new l.u(O.value,O.language,O.authority,O.display||O.value,O.place||S,O.confidence,O.otherInformation):Array.isArray(O)?(b=[],O.forEach((o,D)=>{b[D]=v(o,D)})):"object"==typeof O&&(b=Object.create({}),Object.keys(O).forEach(o=>{b[o]=v(O[o])}))),b}let y=(()=>{class O extends d.ry{constructor(b,o){super(),this.objectCache=b,this.dsoParser=o,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(b,o){if(this.dsoParser.parse((0,t.I8)(b),(0,t.I8)(o)),(0,i.UE)(o.payload)&&(0,i.UE)(o.payload._links)&&this.isSuccessStatus(o.statusCode)){const D=this.processResponse(o.payload,b);return new a.tp(o.statusCode,void 0,{dataDefinition:D})}if((0,i.xb)(o.payload)&&this.isSuccessStatus(o.statusCode))return new a.tp(o.statusCode);throw new Error("Unexpected response from server")}processResponse(b,o){const D=this.process(b,o),M=Array.of();return(Array.isArray(D)?D:Array.of(D)).forEach(T=>{if((T instanceof h.K||T instanceof p.p)&&T.sections){const g=Object.create({});Object.keys(T.sections).forEach(U=>{if("object"==typeof T.sections[U]&&(0,i.UE)(T.sections[U])&&(!T.sections[U].hasOwnProperty("files")||(0,i.UE)(T.sections[U].files))){const L=Object.create({});Object.keys(T.sections[U]).forEach(j=>{const $=T.sections[U][j];Array.isArray($)?(L[j]=[],$.forEach((z,re)=>{const W=v(z,re);(0,i.UE)(W)&&L[j].push(W)})):L[j]=$}),g[U]=L}}),T=Object.assign({},T,{sections:g})}M.push(T)}),M}}return O.\u0275fac=function(b){return new(b||O)(m.\u0275\u0275inject(r.a),m.\u0275\u0275inject(n.j))},O.\u0275prov=m.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},53597:(R,c,e)=>{"use strict";e.d(c,{F:()=>O});var t=e(48358),n=e(49887),a=e(77007),i=e(27303),d=e(69637),r=e(6952),l=e(45608),p=e(96526),h=e(18005),m=e(16066),_=e(10572),v=e(65521),y=e(98678);let O=(()=>{class S{constructor(o,D,M){this.rdbService=o,this.requestService=D,this.halService=M,this.linkPath="workspaceitems"}fetchRequest(o){return this.rdbService.buildFromRequestUUID(o).pipe((0,_.hC)(),(0,t.U)(D=>{if(D.hasFailed)throw new Error(D.errorMessage);return(0,l.Uh)(D.payload)?D.payload.dataDefinition:D.payload}),(0,n.x)())}getEndpointByIDHref(o,D,M){let C=(0,l.UE)(D)?`${o}/${D}`:`${o}`;return C=new v.R(C,"?projection=full").toString(),M&&(C=new v.R(C,`&owningCollection=${M}`).toString()),C}deleteById(o,D){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(D||this.linkPath).pipe((0,a.h)(C=>(0,l.UE)(C)),(0,n.x)(),(0,t.U)(C=>this.getEndpointByIDHref(C,o)),(0,t.U)(C=>new p.Wd(M,C)),(0,i.b)(C=>this.requestService.send(C)),(0,d.z)(()=>this.fetchRequest(M)),(0,n.x)())}getDataById(o,D){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(o).pipe((0,t.U)(C=>this.getEndpointByIDHref(C,D)),(0,a.h)(C=>(0,l.UE)(C)),(0,n.x)(),(0,t.U)(C=>new p.X0(M,C)),(0,i.b)(C=>{this.requestService.send(C)}),(0,d.z)(()=>this.fetchRequest(M)),(0,n.x)())}postToEndpoint(o,D,M,C,T){const g=this.requestService.generateRequestId();return this.halService.getEndpoint(o).pipe((0,a.h)(U=>(0,l.UE)(U)),(0,t.U)(U=>this.getEndpointByIDHref(U,M,T)),(0,n.x)(),(0,t.U)(U=>new p.Ai(g,U,D,C)),(0,i.b)(U=>this.requestService.send(U)),(0,d.z)(()=>this.fetchRequest(g)),(0,n.x)())}patchToEndpoint(o,D,M){const C=this.requestService.generateRequestId();return this.halService.getEndpoint(o).pipe((0,a.h)(T=>(0,l.UE)(T)),(0,t.U)(T=>this.getEndpointByIDHref(T,M)),(0,n.x)(),(0,t.U)(T=>new p.c(C,T,D)),(0,i.b)(T=>this.requestService.send(T)),(0,d.z)(()=>this.fetchRequest(C)),(0,n.x)())}}return S.\u0275fac=function(o){return new(o||S)(y.\u0275\u0275inject(m.Q),y.\u0275\u0275inject(r.s),y.\u0275\u0275inject(h.q))},S.\u0275prov=y.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})()},94056:(R,c,e)=>{"use strict";e.d(c,{S:()=>t});var t=(()=>{return(n=t||(t={})).WorkspaceItem="WORKSPACE",n.WorkflowItem="WORKFLOW",t;var n})()},72764:(R,c,e)=>{"use strict";e.d(c,{R1:()=>i,eU:()=>a,kB:()=>n});var t=e(26523);const n=new t._("vocabulary"),a=new t._("vocabularyEntry"),i=new t._("vocabularyEntryDetail")},88666:(R,c,e)=>{"use strict";e.d(c,{w:()=>l});var r,t=e(70655),n=e(38666),a=e(72764),i=e(65804),d=e(22726);let l=((r=class extends d.j{}).type=a.R1,r);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],l.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],l.prototype,"selectable",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],l.prototype,"_links",void 0),l=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(d.j)],l)},22726:(R,c,e)=>{"use strict";e.d(c,{j:()=>m});var h,t=e(70655),n=e(38666),a=e(72764),i=e(65804),d=e(3798),r=e(82882),l=e(45608),p=e(18035);let m=((h=class extends p.J{hasAuthority(){return(0,l.UE)(this.authority)}hasValue(){return(0,l.UE)(this.value)}hasOtherInformation(){return(0,l.UE)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===r.n}getRenderTypes(){return[this.constructor]}}).type=a.eU,h);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"authority",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"display",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"value",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"otherInformation",void 0),(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"type",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),m=(0,t.__decorate)([i.KB],m)},62692:(R,c,e)=>{"use strict";e.d(c,{f:()=>t});class t{constructor(a,i=!1){this.name=a,this.closed=i}}},81257:(R,c,e)=>{"use strict";e.d(c,{I:()=>y});var v,t=e(70655),n=e(14246),a=e(6952),i=e(16066),d=e(55624),r=e(18005),l=e(54254),p=e(29908),h=e(72764),m=e(1411),_=e(98678);let y=((v=class extends n.t{constructor(S,b,o,D){super("vocabularyEntryDetails",S,b,o,D),this.requestService=S,this.rdbService=b,this.objectCache=o,this.halService=D,this.findAllData=new l.k(this.linkPath,S,b,o,D,this.responseMsToLive),this.searchData=new p.l(this.linkPath,S,b,o,D,this.responseMsToLive)}findAll(S,b,o,...D){return this.findAllData.findAll(S,b,o,...D)}searchBy(S,b,o,D,...M){return this.searchData.searchBy(S,b,o,D,...M)}}).\u0275fac=function(S){return new(S||v)(_.\u0275\u0275inject(a.s),_.\u0275\u0275inject(i.Q),_.\u0275\u0275inject(d.a),_.\u0275\u0275inject(r.q))},v.\u0275prov=_.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v);y=(0,t.__decorate)([(0,m.cQ)(h.R1),(0,t.__metadata)("design:paramtypes",[a.s,i.Q,d.a,r.q])],y)},48589:(R,c,e)=>{"use strict";e.d(c,{K:()=>v});var _,t=e(70655),n=e(14246),a=e(6952),i=e(16066),d=e(55624),r=e(18005),l=e(54254),p=e(72764),h=e(1411),m=e(98678);let v=((_=class extends n.t{constructor(O,S,b,o){super("vocabularies",O,S,b,o),this.requestService=O,this.rdbService=S,this.objectCache=b,this.halService=o,this.findAllData=new l.k(this.linkPath,O,S,b,o,this.responseMsToLive)}findAll(O,S,b,...o){return this.findAllData.findAll(O,S,b,...o)}}).\u0275fac=function(O){return new(O||_)(m.\u0275\u0275inject(a.s),m.\u0275\u0275inject(i.Q),m.\u0275\u0275inject(d.a),m.\u0275\u0275inject(r.q))},_.\u0275prov=m.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_);v=(0,t.__decorate)([(0,h.cQ)(p.kB),(0,t.__metadata)("design:paramtypes",[a.s,i.Q,d.a,r.q])],v)},59600:(R,c,e)=>{"use strict";e.d(c,{c:()=>S});var t=e(21160),n=e(48358),a=e(69637),i=e(46533),d=e(6952),r=e(45608),l=e(10572),p=e(5803),h=e(6144);class m extends h.R{constructor(o="",D,M,C,T,g,U){super(),this.query=o,this.filter=D,this.exact=M,this.entryID=C,this.elementsPerPage=T,this.currentPage=g,this.sort=U;const L=[];(0,r.UE)(o)&&L.push(new p.g("query",o)),(0,r.UE)(D)&&L.push(new p.g("filter",D)),(0,r.UE)(M)&&L.push(new p.g("exact",M.toString())),(0,r.UE)(C)&&L.push(new p.g("entryID",C)),this.searchParams=L}}var _=e(87483),v=e(81257),y=e(48589),O=e(98678);let S=(()=>{class b{constructor(D,M,C){this.requestService=D,this.vocabularyDataService=M,this.vocabularyEntryDetailDataService=C,this.searchTopMethod="top"}findVocabularyByHref(D,M=!0,C=!0,...T){return this.vocabularyDataService.findByHref(D,M,C,...T)}findVocabularyById(D,M=!0,C=!0,...T){return this.vocabularyDataService.findById(D,M,C,...T)}findAllVocabularies(D={},M=!0,C=!0,...T){return this.vocabularyDataService.findAll(D,M,C,...T)}getVocabularyEntries(D,M){const C=new m(null,null,null,null,M.elementsPerPage,M.currentPage);return this.findVocabularyById(D.name,!0,!0,(0,i.l)("entries",{findListOptions:C,shouldEmbed:!1})).pipe((0,l.Gp)(),(0,t.w)(T=>T.entries))}getVocabularyEntriesByValue(D,M,C,T){const g=new m(null,D,M,null,T.elementsPerPage,T.currentPage);return this.findVocabularyById(C.name,!0,!0,(0,i.l)("entries",{findListOptions:g,shouldEmbed:!1})).pipe((0,l.Gp)(),(0,t.w)(U=>U.entries))}getVocabularyEntryByValue(D,M){return this.getVocabularyEntriesByValue(D,!0,M,new _.S).pipe((0,l.LQ)(),(0,n.U)(C=>(0,r.UE)(C)?C[0]:null))}getVocabularyEntryByID(D,M){const C=new _.S,T=new m(null,null,null,D,C.elementsPerPage,C.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,i.l)("entries",{findListOptions:T,shouldEmbed:!1})).pipe((0,l.Gp)(),(0,t.w)(g=>g.entries),(0,l.LQ)(),(0,n.U)(g=>(0,r.UE)(g)?g[0]:null))}findEntryDetailByHref(D,M=!0,C=!0,...T){return this.vocabularyEntryDetailDataService.findByHref(D,M,C,...T)}findEntryDetailById(D,M,C=!0,T=!0,g=!0,...U){return this.vocabularyEntryDetailDataService.findById(g?`${M}:${D}`:D,C,T,...U)}getEntryDetailParent(D,M,C=!0,T=!0,...g){const U=`${M}:${D}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,n.U)(L=>`${L}/${U}`),(0,a.z)(L=>this.vocabularyEntryDetailDataService.findByHref(L,C,T,...g)))}getEntryDetailChildren(D,M,C,T=!0,g=!0,...U){const L=new m(null,null,null,null,C.elementsPerPage,C.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,n.U)(j=>`${j}/${M}:${D}/children`),(0,t.w)(j=>this.vocabularyEntryDetailDataService.findListByHref(j,L,T,g,...U)))}searchTopEntries(D,M,C=!0,T=!0,...g){const U=new m(null,null,null,null,M.elementsPerPage,M.currentPage);return U.searchParams=[new p.g("vocabulary",D)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,U,C,T,...g)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}}return b.\u0275fac=function(D){return new(D||b)(O.\u0275\u0275inject(d.s),O.\u0275\u0275inject(y.K),O.\u0275\u0275inject(v.I))},b.\u0275prov=O.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})()},956:(R,c,e)=>{"use strict";e.d(c,{K:()=>T});var C,t=e(70655),n=e(16066),a=e(6952),i=e(54384),d=e(18005),r=e(96526),l=e(65384),p=e(55624),h=e(48358),m=e(66154),_=e(45608),v=e(10572),y=e(5803),O=e(6144),S=e(14246),b=e(29908),o=e(30828),D=e(1411),M=e(98678);let T=((C=class extends S.t{constructor(U,L,j,$,z){super("workspaceitems",U,L,j,$),this.requestService=U,this.rdbService=L,this.objectCache=j,this.halService=$,this.notificationsService=z,this.linkPath="workflowitems",this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new b.l(this.linkPath,U,L,j,$,this.responseMsToLive),this.deleteData=new o.R(this.linkPath,U,L,j,$,z,this.responseMsToLive,this.constructIdEndpoint)}delete(U){return this.deleteWFI(U,!0)}sendBack(U){return this.deleteWFI(U,!1).pipe((0,v.hC)(),(0,h.U)(L=>L.hasSucceeded))}deleteWFI(U,L){const j=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,h.U)(z=>this.deleteData.getIDHref(z,U)),(0,h.U)(z=>z+"?expunge="+L)).pipe((0,m.s)(z=>(0,_.Uh)(z))).subscribe(z=>{const re=new r.Vb(j,z,U);this.requestService.send(re)}),this.rdbService.buildFromRequestUUID(j)}findByItem(U,L=!1,j=!0,$={},...z){const re=new O.R;re.searchParams=[new y.g("uuid",encodeURIComponent(U))];const W=this.searchData.getSearchByHref(this.searchByItemLinkPath,re,...z);return this.findByHref(W,L,j,...z)}searchBy(U,L,j,$,...z){return this.searchData.searchBy(U,L,j,$,...z)}deleteByHref(U,L){return this.deleteData.deleteByHref(U,L)}}).\u0275fac=function(U){return new(U||C)(M.\u0275\u0275inject(a.s),M.\u0275\u0275inject(n.Q),M.\u0275\u0275inject(p.a),M.\u0275\u0275inject(d.q),M.\u0275\u0275inject(l.T))},C.\u0275prov=M.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C);T=(0,t.__decorate)([(0,D.cQ)(i.p.type),(0,t.__metadata)("design:paramtypes",[a.s,n.Q,p.a,d.q,l.T])],T)},46342:(R,c,e)=>{"use strict";e.d(c,{p:()=>b});var S,t=e(70655),n=e(16066),a=e(6952),i=e(18005),d=e(65384),r=e(55624),l=e(31638),p=e(5803),h=e(6144),m=e(14246),_=e(29908),v=e(30828),y=e(1411),O=e(98678);let b=((S=class extends m.t{constructor(D,M,C,T,g){super("workspaceitems",D,M,C,T),this.requestService=D,this.rdbService=M,this.objectCache=C,this.halService=T,this.notificationsService=g,this.searchByItemLinkPath="item",this.searchData=new _.l(this.linkPath,D,M,C,T,this.responseMsToLive),this.deleteData=new v.R(this.linkPath,D,M,C,T,g,this.responseMsToLive,this.constructIdEndpoint)}findByItem(D,M=!1,C=!0,T={},...g){const U=new h.R;U.searchParams=[new p.g("uuid",encodeURIComponent(D))];const L=this.getSearchByHref(this.searchByItemLinkPath,U,...g);return this.findByHref(L,M,C,...g)}getSearchByHref(D,M,...C){return this.searchData.getSearchByHref(D,M,...C)}searchBy(D,M,C,T,...g){return this.searchData.searchBy(D,M,C,T,...g)}delete(D,M){return this.deleteData.delete(D,M)}deleteByHref(D,M){return this.deleteData.deleteByHref(D,M)}}).\u0275fac=function(D){return new(D||S)(O.\u0275\u0275inject(a.s),O.\u0275\u0275inject(n.Q),O.\u0275\u0275inject(r.a),O.\u0275\u0275inject(i.q),O.\u0275\u0275inject(d.T))},S.\u0275prov=O.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S);b=(0,t.__decorate)([(0,y.cQ)(l.K.type),(0,t.__metadata)("design:paramtypes",[a.s,n.Q,r.a,i.q,d.T])],b)},64785:(R,c,e)=>{"use strict";e.d(c,{t:()=>n});const n=new(e(26523)._)("supervisionorder")},59105:(R,c,e)=>{"use strict";e.d(c,{m:()=>z});var $,t=e(70655),n=e(78964),a=e(6952),i=e(18005),d=e(16066),r=e(55624),l=e(65384),p=e(64785),h=e(204),m=e(5803),_=e(45608),v=e(48358),y=e(76215),O=e(10572),S=e(6144),b=e(96526),o=e(27153),D=e(30303),M=e(14246),C=e(74246),T=e(29908),g=e(7766),U=e(30828),L=e(1411),j=e(98678);let z=(($=class extends M.t{constructor(W,ie,ce,ne,K,w,Q){super("supervisionorders",W,ie,ce,ne),this.requestService=W,this.rdbService=ie,this.objectCache=ce,this.halService=ne,this.notificationsService=K,this.comparator=w,this.groupService=Q,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new C.K(this.linkPath,W,ie,ce,ne,K,this.responseMsToLive),this.searchData=new T.l(this.linkPath,W,ie,ce,ne,this.responseMsToLive),this.patchData=new g.B(this.linkPath,W,ie,ce,ne,w,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new U.R(this.linkPath,W,ie,ce,ne,K,this.responseMsToLive,this.constructIdEndpoint)}create(W,ie,ce,ne){const K=[];return K.push(new m.g("uuid",ie)),K.push(new m.g("group",ce)),K.push(new m.g("type",ne)),this.createData.create(W,...K)}delete(W){return this.deleteData.delete(W).pipe((0,O.hC)(),(0,v.U)(ie=>ie.hasSucceeded))}update(W){return this.patchData.update(W)}searchByGroup(W,ie,ce=!0,ne=!0,...K){const w=new S.R;return w.searchParams=[new m.g("uuid",W)],(0,_.UE)(ie)&&w.searchParams.push(new m.g("item",ie)),this.searchData.searchBy(this.searchByGroupMethod,w,ce,ne,...K)}searchByItem(W,ie=!0,ce=!0,...ne){const K=new S.R;return K.searchParams=[new m.g("uuid",W)],this.searchData.searchBy(this.searchByItemMethod,K,ie,ce,...ne)}updateTarget(W,ie,ce,ne){const w=this.groupService.getIDHrefObs(ce),Q=Object.create({});let oe=new n.WM;oe=oe.append("Content-Type","text/uri-list"),Q.headers=oe;const q=this.requestService.generateRequestId();return w.pipe((0,y.P)()).subscribe(ee=>{const Ee=new b.an(q,ie+"/"+ne,ee,Q);Object.assign(Ee,{getResponseParser:()=>o.o}),this.requestService.send(Ee)}),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>this.invalidateByHref(ie))}}).\u0275fac=function(W){return new(W||$)(j.\u0275\u0275inject(a.s),j.\u0275\u0275inject(d.Q),j.\u0275\u0275inject(r.a),j.\u0275\u0275inject(i.q),j.\u0275\u0275inject(l.T),j.\u0275\u0275inject(h.v),j.\u0275\u0275inject(D.O))},$.\u0275prov=j.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac}),$);z=(0,t.__decorate)([(0,L.cQ)(p.t),(0,t.__metadata)("design:paramtypes",[a.s,d.Q,r.a,i.q,l.T,h.v,D.O])],z)},98226:(R,c,e)=>{"use strict";e.d(c,{p:()=>S});var O,t=e(70655),n=e(78964),a=e(16066),i=e(55624),d=e(6952),r=e(18005),l=e(48161),p=e(30595),h=e(5803),m=e(10572),_=e(6144),v=e(1411),y=e(98678);let S=((O=class extends p.C{constructor(o,D,M,C){super("claimedtasks",o,D,M,C,1e3),this.requestService=o,this.rdbService=D,this.objectCache=M,this.halService=C}claimTask(o,D){const M=Object.create({});let C=new n.WM;return C=C.append("Content-Type","text/uri-list"),M.headers=C,this.postToEndpoint(this.linkPath,D,null,M)}submitTask(o,D){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(D),o,this.makeHttpOptions())}returnToPoolTask(o){return this.deleteById(this.linkPath,o,this.makeHttpOptions())}findByItem(o){const D=new _.R;return D.searchParams=[new h.g("uuid",o)],this.searchTask("findByItem",D).pipe((0,m.xw)())}}).\u0275fac=function(o){return new(o||O)(y.\u0275\u0275inject(d.s),y.\u0275\u0275inject(a.Q),y.\u0275\u0275inject(i.a),y.\u0275\u0275inject(r.q))},O.\u0275prov=y.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O);S=(0,t.__decorate)([(0,v.cQ)(l.S),(0,t.__metadata)("design:paramtypes",[d.s,a.Q,i.a,r.q])],S)},7258:(R,c,e)=>{"use strict";e.d(c,{q:()=>l});var r,t=e(70655),n=e(38666),a=e(65804),i=e(48161),d=e(28920);let l=((r=class extends d.A{}).type=i.S,r);l=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(d.A),(0,a.o2)(d.A)],l)},48161:(R,c,e)=>{"use strict";e.d(c,{S:()=>n});const n=new(e(26523)._)("claimedtask")},7306:(R,c,e)=>{"use strict";e.d(c,{d:()=>l});var r,t=e(70655),n=e(38666),a=e(65804),i=e(28116),d=e(28920);let l=((r=class extends d.A{}).type=i.g,r);l=(0,t.__decorate)([a.KB,(0,n.inheritSerialization)(d.A),(0,a.o2)(d.A)],l)},28116:(R,c,e)=>{"use strict";e.d(c,{g:()=>n});const n=new(e(26523)._)("pooltask")},28920:(R,c,e)=>{"use strict";e.d(c,{A:()=>y});var t=e(70655),n=e(38666),a=e(42878),i=e(65804),d=e(99558),r=e(25056),l=e(61750);const h=new(e(26523)._)("taskobject");var v,m=e(67984),_=e(26711);let y=((v=class extends l.t{}).type=h,v);(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],y.prototype,"step",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],y.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(d.U,!1,"owner"),(0,t.__metadata)("design:type",a.y)],y.prototype,"eperson",void 0),(0,t.__decorate)([(0,i.p4)(r.o),(0,t.__metadata)("design:type",a.y)],y.prototype,"group",void 0),(0,t.__decorate)([(0,i.p4)(m.w),(0,t.__metadata)("design:type",Object)],y.prototype,"workflowitem",void 0),(0,t.__decorate)([(0,i.p4)(_.j,!1,"action"),(0,t.__metadata)("design:type",a.y)],y.prototype,"action",void 0),y=(0,t.__decorate)([i.KB,(0,n.inheritSerialization)(l.t)],y)},26711:(R,c,e)=>{"use strict";e.d(c,{j:()=>n});const n=new(e(26523)._)("workflowaction")},3026:(R,c,e)=>{"use strict";e.d(c,{N:()=>O});var y,t=e(70655),n=e(16066),a=e(55624),i=e(6952),d=e(18005),r=e(28116),l=e(30595),p=e(5803),h=e(10572),m=e(6144),_=e(1411),v=e(98678);let O=((y=class extends l.C{constructor(b,o,D,M){super("pooltasks",b,o,D,M,1e3),this.requestService=b,this.rdbService=o,this.objectCache=D,this.halService=M}findByItem(b){const o=new m.R;return o.searchParams=[new p.g("uuid",b)],this.searchTask("findByItem",o).pipe((0,h.hC)())}getPoolTaskEndpointById(b){return this.getEndpointById(b)}}).\u0275fac=function(b){return new(b||y)(v.\u0275\u0275inject(i.s),v.\u0275\u0275inject(n.Q),v.\u0275\u0275inject(a.a),v.\u0275\u0275inject(d.q))},y.\u0275prov=v.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y);O=(0,t.__decorate)([(0,_.cQ)(r.g),(0,t.__metadata)("design:paramtypes",[i.s,n.Q,a.a,d.q])],O)},74614:(R,c,e)=>{"use strict";e.d(c,{T:()=>d});var t=e(32357),n=e(55624),a=e(62948),i=e(98678);let d=(()=>{class r extends t.ry{constructor(p){super(),this.objectCache=p,this.toCache=!1}parse(p,h){if(this.isSuccessStatus(h.statusCode))return new a.tp(h.statusCode);throw new Error("Unexpected response from server")}}return r.\u0275fac=function(p){return new(p||r)(i.\u0275\u0275inject(n.a))},r.\u0275prov=i.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})()},30595:(R,c,e)=>{"use strict";e.d(c,{C:()=>O});var t=e(78964),n=e(77007),a=e(48358),i=e(49887),d=e(27303),r=e(69637),l=e(66154),p=e(96526),h=e(45608);class m{constructor(b,o,D){this.isSuccessful=b,this.statusCode=o,this.errorMessage=D}get hasSucceeded(){return this.isSuccessful}}var _=e(10572),v=e(29908),y=e(14246);class O extends y.t{constructor(b,o,D,M,C,T){super(b,o,D,M,C),this.linkPath=b,this.requestService=o,this.rdbService=D,this.objectCache=M,this.halService=C,this.responseMsToLive=T,this.searchData=new v.l(this.linkPath,o,D,M,C,this.responseMsToLive)}getEndpointByIDHref(b,o){return(0,h.UE)(o)?`${b}/${o}`:`${b}`}postToEndpoint(b,o,D,M){const C=this.requestService.generateRequestId();return this.halService.getEndpoint(b).pipe((0,n.h)(T=>(0,h.UE)(T)),(0,a.U)(T=>this.getEndpointByIDHref(T,D)),(0,i.x)(),(0,a.U)(T=>new p.Pv(C,T,o,M)),(0,d.b)(T=>this.requestService.send(T)),(0,r.z)(T=>this.fetchRequest(C)),(0,i.x)())}deleteById(b,o,D){const M=this.requestService.generateRequestId();return this.getEndpointById(o,b).pipe((0,a.U)(C=>new p.zP(M,C,null,D)),(0,d.b)(C=>this.requestService.send(C)),(0,r.z)(C=>this.fetchRequest(M)),(0,i.x)())}getEndpointById(b,o){return this.halService.getEndpoint(o||this.linkPath).pipe((0,n.h)(D=>(0,h.UE)(D)),(0,i.x)(),(0,a.U)(D=>this.getEndpointByIDHref(D,b)))}searchTask(b,o={},...D){return this.searchData.getSearchByHref(b,o,...D).pipe((0,l.s)(C=>(0,h.Uh)(C)),(0,r.z)(C=>this.findByHref(C,!1,!0).pipe((0,_.f1)(),(0,d.b)(()=>this.requestService.setStaleByHrefSubstring(C)))))}fetchRequest(b){return this.rdbService.buildFromRequestUUID(b).pipe((0,_.hC)(),(0,a.U)(o=>o.hasFailed?new m(!1,o.statusCode,o.errorMessage):new m(!0,o.statusCode)))}makeHttpOptions(){const b=Object.create({});let o=new t.WM;return o=o.append("Content-Type","application/x-www-form-urlencoded"),b.headers=o,b}searchBy(b,o,D,M,...C){return this.searchData.searchBy(b,o,D,M,...C)}}},66692:(R,c,e)=>{"use strict";e.d(c,{J:()=>a});var t=e(65521),n=e(76774);class a extends t.R{constructor(...d){super(n.N.rest.baseUrl,"/api",...d)}}},65521:(R,c,e)=>{"use strict";e.d(c,{R:()=>n});var t=e(45608);class n{constructor(...i){this.parts=i}toString(){if((0,t.xb)(this.parts))return"";{let i=this.parts.join("/");return i=i.replace(/:\//g,"://"),i=i.replace(/([^:\s])\/+/g,"$1/"),i=i.replace(/\/($|\?|&|#[^!])/g,"$1"),i=i.replace(/(\?.+)\?/g,"$1&"),i}}}},3798:(R,c,e)=>{"use strict";e.d(c,{J:()=>d,OJ:()=>l,Qe:()=>h,pm:()=>r});var t=e(45608);const n=new Map,a=new Map;function i(_,v,y){const O=y.find(S=>{if(_[S]===v[S]||(0,t.xI)(_[S])&&(0,t.xI)(v[S]))return!1;if((0,t.xI)(_[S])||(0,t.xI)(v[S]))return!0;const b=function m(_,v){return(a.get(_)||new Map).get(v)}(_.constructor,S);return(0,t.Uh)(b)?!i(_[S],v[S],b):_[S]instanceof d?!_[S].equals(v[S]):"object"==typeof _[S]?!i(_[S],v[S],Object.keys(_)):_[S]!==v[S]});return(0,t.xI)(O)}class d{equals(v){if((0,t.xI)(v))return!1;if(this===v)return!0;const y=p(this.constructor);return i(this,v,Object.keys(this).filter(S=>!y.includes(S)))}}function r(_){return function(y){const O=p(_)||[],S=p(y)||[];n.set(y,[...S,...O]);const b=a.get(y)||new Map,o=a.get(_)||new Map;Array.from(o.keys()).filter(D=>!Array.from(b.keys()).includes(D)).forEach(D=>{h(...o.get(D))(new y,D)})}}function l(_,v){if(!_)return;let y=n.get(_.constructor);(0,t.xb)(y)&&(y=[]),n.set(_.constructor,[...y,v])}function p(_){return n.get(_)||[]}function h(..._){return function(y,O){if(!y)return;let S=a.get(y.constructor);(0,t.xb)(S)&&(S=new Map),S.set(O,_),a.set(y.constructor,S)}}},99820:(R,c,e)=>{"use strict";e.d(c,{VY:()=>a,aj:()=>n,ew:()=>t});const t="X-XSRF-TOKEN",n="DSPACE-XSRF-TOKEN",a="XSRF-TOKEN"},69598:(R,c,e)=>{"use strict";e.d(c,{h:()=>a,v:()=>n});const n={SET:(0,e(49754).d)("dspace/core/correlationId/SET")};class a{constructor(d){this.payload=d,this.type=n.SET}}},62583:(R,c,e)=>{"use strict";e.d(c,{_:()=>o});var t=e(75286),n=e(5476),a=e(10572),i=e(48358),d=e(65384),r=e(45608),l=e(73194),p=e(74423),h=e(6699),m=e(98678),_=e(96342),v=e(67522),y=e(35103);function O(D,M){if(1&D&&(m.\u0275\u0275elementStart(0,"option",9),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275elementEnd()),2&D){const C=M.$implicit;m.\u0275\u0275property("value",C),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(2,2,"curation-task.task."+C+".label")," ")}}function S(D,M){1&D&&(m.\u0275\u0275elementStart(0,"div",3)(1,"label",10),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(4,"input",11),m.\u0275\u0275elementStart(5,"small",12),m.\u0275\u0275text(6),m.\u0275\u0275pipe(7,"translate"),m.\u0275\u0275elementEnd()()),2&D&&(m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(3,2,"curation.form.handle.label")),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(7,4,"curation.form.handle.hint")))}let o=(()=>{class D{constructor(C,T,g,U,L,j,$){this.scriptDataService=C,this.configurationDataService=T,this.notificationsService=g,this.translateService=U,this.handleService=L,this.router=j,this.cdr=$,this.subs=[]}ngOnDestroy(){this.subs.forEach(C=>C.unsubscribe())}ngOnInit(){this.form=new n.nJ({task:new n.p4(""),handle:new n.p4("")}),this.config=this.configurationDataService.findByPropertyName("plugin.named.org.dspace.curate.CurationTask"),this.subs.push(this.config.pipe((0,a.Gp)()).subscribe(C=>{this.tasks=C.values.filter(T=>(0,r.UE)(T)&&T.includes("=")).map(T=>T.split("=")[1].trim()),this.form.get("task").patchValue(this.tasks[0]),this.cdr.detectChanges()}))}hasHandleValue(){return(0,r.Uh)(this.dsoHandle)}submit(){const C=this.form.get("task").value;let T;T=this.hasHandleValue()?this.handleService.normalizeHandle(this.dsoHandle).pipe((0,i.U)(g=>((0,r.xb)(g)&&this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.invalid-handle")),g))):this.handleService.normalizeHandle(this.form.get("handle").value).pipe((0,i.U)(g=>(0,r.xb)(g)?"all":g)),this.subs.push(T.subscribe(g=>{(0,r.Uh)(g)&&this.subs.push(this.scriptDataService.invoke("curate",[{name:"-t",value:C},{name:"-i",value:g}],[]).pipe((0,a.hC)()).subscribe(U=>{U.hasSucceeded?(this.notificationsService.success(this.translateService.get("curation.form.submit.success.head"),this.translateService.get("curation.form.submit.success.content")),this.router.navigateByUrl((0,p.Ah)(U.payload.processId))):this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.content"))}))}))}}return D.\u0275fac=function(C){return new(C||D)(m.\u0275\u0275directiveInject(t.UY),m.\u0275\u0275directiveInject(l.i),m.\u0275\u0275directiveInject(d.T),m.\u0275\u0275directiveInject(_.sK),m.\u0275\u0275directiveInject(h.n),m.\u0275\u0275directiveInject(v.F0),m.\u0275\u0275directiveInject(m.ChangeDetectorRef))},D.\u0275cmp=m.\u0275\u0275defineComponent({type:D,selectors:[["ds-curation-form"]],inputs:{dsoHandle:"dsoHandle"},decls:13,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row","mb-2"],[1,"col-12","col-sm-6"],["for","task",1,"font-weight-bold"],["id","task","formControlName","task",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-sm-6",4,"ngIf"],["type","submit",1,"btn","btn-default","btn-primary"],[3,"value"],["for","handle",1,"font-weight-bold"],["id","handle","formControlName","handle",1,"form-control"],[1,"text-muted"]],template:function(C,T){1&C&&(m.\u0275\u0275elementStart(0,"form",0),m.\u0275\u0275listener("ngSubmit",function(){return T.submit()}),m.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),m.\u0275\u0275text(5),m.\u0275\u0275pipe(6,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"select",5),m.\u0275\u0275template(8,O,3,4,"option",6),m.\u0275\u0275elementEnd()(),m.\u0275\u0275template(9,S,8,6,"div",7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"button",8),m.\u0275\u0275text(11),m.\u0275\u0275pipe(12,"translate"),m.\u0275\u0275elementEnd()()()),2&C&&(m.\u0275\u0275property("formGroup",T.form),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(6,5,"curation.form.task-select.label")),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngForOf",T.tasks),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!T.hasHandleValue()),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(12,7,"curation.form.submit")))},dependencies:[y.sg,y.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,_.X$],encapsulation:2}),D})()},19039:(R,c,e)=>{"use strict";e.r(c),e.d(c,{FooterComponent:()=>S});var t=e(45608),n=e(76774),a=e(35794),i=e(80978),d=e(98678),r=e(81640),l=e(35103),p=e(67522),h=e(96342);function m(b,o){1&b&&(d.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h5",14),d.\u0275\u0275text(5,"Footer Content"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"ul",15)(7,"li")(8,"a",16),d.\u0275\u0275text(9,"Lorem ipsum"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(10,"li")(11,"a",16),d.\u0275\u0275text(12,"Ut facilisis"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(13,"li")(14,"a",16),d.\u0275\u0275text(15,"Aenean sit"),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275elementStart(16,"div",13)(17,"h5",14),d.\u0275\u0275text(18,"Footer Content"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"ul",15)(20,"li")(21,"a",16),d.\u0275\u0275text(22,"Suspendisse potenti"),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275elementStart(23,"div",17)(24,"h5",14),d.\u0275\u0275text(25,"Footer Content"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(26,"p"),d.\u0275\u0275text(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),d.\u0275\u0275elementEnd()()()()())}function _(b,o){1&b&&(d.\u0275\u0275elementStart(0,"li")(1,"a",18),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),2&b&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"footer.link.privacy-policy")))}function v(b,o){1&b&&(d.\u0275\u0275elementStart(0,"li")(1,"a",19),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),2&b&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"footer.link.end-user-agreement")))}function y(b,o){1&b&&(d.\u0275\u0275elementStart(0,"li")(1,"a",20),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),2&b&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"footer.link.feedback")))}const O=function(b){return{year:b}};let S=(()=>{class b{constructor(D,M){this.cookies=D,this.authorizationService=M,this.dateObj=Date.now(),this.showTopFooter=!1,this.showPrivacyPolicy=n.N.info.enablePrivacyStatement,this.showEndUserAgreement=n.N.info.enableEndUserAgreement,this.showSendFeedback$=this.authorizationService.isAuthorized(i.i.CanSendFeedback)}showCookieSettings(){return(0,t.Uh)(this.cookies)&&this.cookies.showSettings(),!1}}return b.\u0275fac=function(D){return new(D||b)(d.\u0275\u0275directiveInject(r.D,8),d.\u0275\u0275directiveInject(a._))},b.\u0275cmp=d.\u0275\u0275defineComponent({type:b,selectors:[["ds-footer"]],decls:23,vars:24,consts:[[1,"text-lg-start"],["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"m-0"],["href","http://www.dspace.org/",1,"text-white"],["href","https://www.lyrasis.org/",1,"text-white"],[1,"footer-info","list-unstyled","small","d-flex","justify-content-center","mb-0"],["href","javascript:void(0);",1,"text-white",3,"click"],[4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/privacy",1,"text-white"],["routerLink","info/end-user-agreement",1,"text-white"],["routerLink","info/feedback",1,"text-white"]],template:function(D,M){1&D&&(d.\u0275\u0275elementStart(0,"footer",0),d.\u0275\u0275template(1,m,28,0,"div",1),d.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5),d.\u0275\u0275text(6),d.\u0275\u0275pipe(7,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275text(8),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275pipe(10,"date"),d.\u0275\u0275elementStart(11,"a",6),d.\u0275\u0275text(12),d.\u0275\u0275pipe(13,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(14,"ul",7)(15,"li")(16,"a",8),d.\u0275\u0275listener("click",function(){return M.showCookieSettings()}),d.\u0275\u0275text(17),d.\u0275\u0275pipe(18,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275template(19,_,4,3,"li",9),d.\u0275\u0275template(20,v,4,3,"li",9),d.\u0275\u0275template(21,y,4,3,"li",9),d.\u0275\u0275pipe(22,"async"),d.\u0275\u0275elementEnd()()()()),2&D&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",M.showTopFooter),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(7,8,"footer.link.dspace")),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(9,10,"footer.copyright",d.\u0275\u0275pureFunction1(22,O,d.\u0275\u0275pipeBind2(10,13,M.dateObj,"y")))," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(13,16,"footer.link.lyrasis")),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(18,18,"footer.link.cookies")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",M.showPrivacyPolicy),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",M.showEndUserAgreement),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",d.\u0275\u0275pipeBind1(22,20,M.showSendFeedback$)))},dependencies:[l.O5,p.rH,l.Ov,l.uU,h.X$],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}']}),b})()},62612:(R,c,e)=>{"use strict";e.d(c,{k:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"FooterComponent"}importThemedComponent(p){return e(71169)(`./${p}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,19039))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-footer"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},58640:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ForbiddenComponent:()=>r});var t=e(38123),n=e(12857),a=e(98678),i=e(67522),d=e(96342);let r=(()=>{class l{constructor(h,m){this.authService=h,this.responseService=m,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}}return l.\u0275fac=function(h){return new(h||l)(a.\u0275\u0275directiveInject(t.e8),a.\u0275\u0275directiveInject(n.N))},l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-forbidden"]],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(h,m){1&h&&(a.\u0275\u0275elementStart(0,"div",0)(1,"h1"),a.\u0275\u0275text(2,"403"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"h2")(4,"small"),a.\u0275\u0275text(5),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(7,"br"),a.\u0275\u0275elementStart(8,"p"),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(11,"br"),a.\u0275\u0275elementStart(12,"p",1)(13,"a",2),a.\u0275\u0275text(14),a.\u0275\u0275pipe(15,"translate"),a.\u0275\u0275elementEnd()()()),2&h&&(a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(6,3,"403.forbidden")),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(10,5,"403.help")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(15,7,"403.link.home-page")))},dependencies:[i.rH,d.X$]}),l})()},47552:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HeaderNavbarWrapperComponent:()=>m});var t=e(45608),n=e(29306),a=e(82126),i=e(98678),d=e(89702),r=e(35103),l=e(4546),p=e(46194);const h=function(_){return{open:_}};let m=(()=>{class _{constructor(y,O){this.store=y,this.menuService=O,this.isOpen=!1,this.menuID=a.z.PUBLIC}ngOnInit(){this.isNavBarCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.sub=this.isNavBarCollapsed.subscribe(y=>this.isOpen=!y)}ngOnDestroy(){(0,t.Uh)(this.sub)&&this.sub.unsubscribe()}}return _.\u0275fac=function(y){return new(y||_)(i.\u0275\u0275directiveInject(d.yh),i.\u0275\u0275directiveInject(n.h))},_.\u0275cmp=i.\u0275\u0275defineComponent({type:_,selectors:[["ds-header-navbar-wrapper"]],hostVars:2,hostBindings:function(y,O){2&y&&i.\u0275\u0275classProp("open",O.isOpen)},decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(y,O){1&y&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275pipe(1,"async"),i.\u0275\u0275element(2,"ds-themed-header")(3,"ds-themed-navbar"),i.\u0275\u0275elementEnd()),2&y&&i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(3,h,!i.\u0275\u0275pipeBind1(1,1,O.isNavBarCollapsed)))},dependencies:[r.mk,l.n,p.i,r.Ov],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]}),_})()},15658:(R,c,e)=>{"use strict";e.d(c,{x:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(p){return e(7942)(`./${p}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,47552))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-header-navbar-wrapper"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},11075:(R,c,e)=>{"use strict";e.d(c,{H:()=>l});var t=e(19515),n=e(48358),a=e(98678),i=e(35103),d=e(96342);function r(p,h){if(1&p){const m=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div")(1,"a",1),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(m);const v=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(v.onClick())}),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275element(4,"i",2),a.\u0275\u0275elementEnd()()}2&p&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(3,4,"nav.context-help-toggle")),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(2,2,"nav.context-help-toggle")))}let l=(()=>{class p{constructor(m,_){this.elRef=m,this.contextHelpService=_,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,n.U)(m=>m>0)),this.subscriptions.push(this.buttonVisible$.subscribe(m=>{m?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}}return p.\u0275fac=function(m){return new(m||p)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(t.p))},p.\u0275cmp=a.\u0275\u0275defineComponent({type:p,selectors:[["ds-context-help-toggle"]],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","button",3,"title","click"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(m,_){1&m&&(a.\u0275\u0275template(0,r,5,6,"div",0),a.\u0275\u0275pipe(1,"async")),2&m&&a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(1,1,_.buttonVisible$))},dependencies:[i.O5,i.Ov,d.X$],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]}),p})()},15222:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HeaderComponent:()=>S});var t=e(29306),n=e(82126),a=e(79849),i=e(98678),d=e(35103),r=e(65706),l=e(67522),p=e(46683),h=e(5009),m=e(4989),_=e(55520),v=e(11075),y=e(96342);function O(b,o){if(1&b){const D=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",6)(1,"button",7),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(D);const C=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(C.toggleNavbar())}),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275element(3,"span",8),i.\u0275\u0275elementEnd()()}2&b&&(i.\u0275\u0275advance(1),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(2,1,"nav.toggle")))}let S=(()=>{class b{constructor(D,M){this.menuService=D,this.windowService=M,this.menuID=n.z.PUBLIC}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm()}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}}return b.\u0275fac=function(D){return new(D||b)(i.\u0275\u0275directiveInject(t.h),i.\u0275\u0275directiveInject(a.I))},b.\u0275cmp=i.\u0275\u0275defineComponent({type:b,selectors:[["ds-header"]],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","pl-2",4,"ngIf"],[1,"pl-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"navbar-toggler-icon","fas","fa-bars","fa-fw"]],template:function(D,M){1&D&&(i.\u0275\u0275elementStart(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),i.\u0275\u0275element(4,"img",3),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"nav",4),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275element(8,"ds-themed-search-navbar")(9,"ds-themed-lang-switch")(10,"ds-context-help-toggle")(11,"ds-themed-auth-nav-menu")(12,"ds-impersonate-navbar"),i.\u0275\u0275template(13,O,4,3,"div",5),i.\u0275\u0275pipe(14,"async"),i.\u0275\u0275elementEnd()()()()),2&D&&(i.\u0275\u0275advance(4),i.\u0275\u0275attribute("alt",i.\u0275\u0275pipeBind1(5,3,"menu.header.image.logo")),i.\u0275\u0275advance(2),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(7,5,"nav.user.description")),i.\u0275\u0275advance(7),i.\u0275\u0275property("ngIf",i.\u0275\u0275pipeBind1(14,7,M.isXsOrSm$)))},dependencies:[d.O5,r.M2,l.rH,p.j,h.$,m.$,_.A,v.H,d.Ov,y.X$],styles:["header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}@media screen and (max-width: 576px){.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height-xs)}}.navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:none!important}.navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{line-height:1.5}.navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}.navbar-toggler[_ngcontent-%COMP%]:hover, .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]}),b})()},46194:(R,c,e)=>{"use strict";e.d(c,{i:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"HeaderComponent"}importThemedComponent(p){return e(73632)(`./${p}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,15222))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-header"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},13853:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HomeNewsComponent:()=>n});var t=e(98678);let n=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ds-home-news"]],decls:20,vars:0,consts:[[1,"jumbotron","jumbotron-fluid","mt-ncs"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-3"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"]],template:function(d,r){1&d&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),t.\u0275\u0275text(5,"DSpace 7"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",4),t.\u0275\u0275text(7,"DSpace is the world leading open source repository platform that enables organisations to:"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(8,"ul")(9,"li"),t.\u0275\u0275text(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"li"),t.\u0275\u0275text(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"li"),t.\u0275\u0275text(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"p"),t.\u0275\u0275text(16,"Join an international community of "),t.\u0275\u0275elementStart(17,"a",5),t.\u0275\u0275text(18,"leading institutions using DSpace"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(19,". "),t.\u0275\u0275elementEnd()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.jumbotron[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]}),a})()},66325:(R,c,e)=>{"use strict";e.d(c,{$w:()=>a,HJ:()=>i,dP:()=>n,ru:()=>d});var t=e(71213);const n="end-user-agreement",a="privacy",i="feedback";function d(){return function p(h){return`${(0,t.lz)()}/${h}`}(n)}},29211:(R,c,e)=>{"use strict";e.d(c,{E:()=>l}),e(13005);var n=e(98678),a=e(35103),i=e(96342);function d(p,h){if(1&p&&(n.\u0275\u0275elementStart(0,"tr",4)(1,"td"),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"td"),n.\u0275\u0275text(4),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(5,"td"),n.\u0275\u0275text(6),n.\u0275\u0275elementEnd()()),2&p){const m=h.$implicit,_=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(_.key),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(m.value),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(m.language)}}function r(p,h){if(1&p&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,d,7,3,"tr",3),n.\u0275\u0275elementContainerEnd()),2&p){const m=h.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",m.value)}}let l=(()=>{class p{ngOnInit(){this.metadata=this.item.metadata}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=n.\u0275\u0275defineComponent({type:p,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(m,_){1&m&&(n.\u0275\u0275elementStart(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"th",1),n.\u0275\u0275text(7),n.\u0275\u0275pipe(8,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"th",1),n.\u0275\u0275text(10),n.\u0275\u0275pipe(11,"translate"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(12,"tbody"),n.\u0275\u0275template(13,r,2,1,"ng-container",2),n.\u0275\u0275pipe(14,"keyvalue"),n.\u0275\u0275elementEnd()()),2&m&&(n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(5,4,"item.edit.modify.overview.field")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(8,6,"item.edit.modify.overview.value")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(11,8,"item.edit.modify.overview.language")),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind1(14,10,_.metadata)))},dependencies:[a.sg,a.Nd,i.X$],encapsulation:2}),p})()},15463:(R,c,e)=>{"use strict";e.d(c,{Oo:()=>a,TO:()=>i,TP:()=>l,Tt:()=>d,UZ:()=>O,dZ:()=>h,fL:()=>S,lA:()=>_,ni:()=>m,tn:()=>r});var t=e(65521),n=e(45608);const a="items";function i(){return`/${a}`}function d(b){return p(b.firstMetadataValue("dspace.entity.type"),b.uuid)}function r(b){return new t.R(d(b),_).toString()}function l(b){return new t.R(d(b),_,v).toString()}function p(b,o){return(0,n.UE)(b)?new t.R("/entities",encodeURIComponent(b.toLowerCase()),o).toString():new t.R(i(),o).toString()}function h(b,o){return new t.R(p(b,o),_).toString()}function m(b){return new t.R(i(),y,b).toString()}const _="edit",v="versionhistory",y="version",O="bitstreams/new",S="orcid"},55799:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ItemPageTitleFieldComponent:()=>l}),e(13005);var n=e(8842),a=e(98678),i=e(35103),d=e(96342);function r(p,h){if(1&p&&(a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&p){const m=h.ngIf;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,m.toLowerCase()+".page.titleprefix")," ")}}let l=(()=>{class p{constructor(m){this.dsoNameService=m}}return p.\u0275fac=function(m){return new(m||p)(a.\u0275\u0275directiveInject(n._))},p.\u0275cmp=a.\u0275\u0275defineComponent({type:p,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(m,_){1&m&&(a.\u0275\u0275elementStart(0,"h1",0),a.\u0275\u0275template(1,r,3,3,"div",1),a.\u0275\u0275elementStart(2,"span",2),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()),2&m&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",_.item.firstMetadataValue("dspace.entity.type")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(_.dsoNameService.getName(_.item)))},dependencies:[i.O5,d.X$],encapsulation:2}),p})()},33994:(R,c,e)=>{"use strict";e.d(c,{i:()=>r});var t=e(4682),a=(e(13005),e(98678));function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(h){return e(49519)(`./${h}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,55799))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=a.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-item-page-title-field"]],inputs:{item:"item"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},58079:(R,c,e)=>{"use strict";e.d(c,{Rh:()=>_,Sv:()=>O,_U:()=>y,be:()=>v,bg:()=>m});var t=e(60276),n=e(53426),a=e(69637),i=e(48358),d=e(49887),r=e(21160),l=e(10572),p=e(45608);const m=new(e(98678).InjectionToken)("paginatedRelationsToItems",{providedIn:"root",factory:()=>O}),_=S=>(b,o)=>{if(!Array.isArray(b)||!Array.isArray(o))return!1;const D=b.map(S),M=o.map(S);return D.length===M.length&&D.every(C=>M.includes(C))&&M.every(C=>D.includes(C))},v=()=>_(S=>(0,p.Uh)(S)?S.id:void 0),y=S=>b=>b.pipe((0,a.z)(o=>(0,t.$)(...o.map(D=>(0,n.a)(D.leftItem,D.rightItem)))),(0,i.U)(o=>o.filter(([D,M])=>D.hasSucceeded&&M.hasSucceeded).map(([D,M])=>D.payload.id===S?M.payload:M.payload.id===S?D.payload:void 0).filter(D=>(0,p.Uh)(D))),(0,d.x)(v())),O=S=>b=>b.pipe((0,l.hC)(),(0,r.w)(o=>(0,n.a)(o.payload.page.map(D=>(0,n.a)([D.leftItem.pipe((0,l.hC)(),(0,i.U)(M=>M.hasSucceeded?M.payload:null)),D.rightItem.pipe((0,l.hC)(),(0,i.U)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,i.U)(D=>D.map(([M,C])=>(0,p.Uh)(M)&&M.id===S?C:(0,p.Uh)(C)&&C.id===S?M:void 0).filter(M=>(0,p.Uh)(M))),(0,d.x)(v()),(0,i.U)(D=>Object.assign(o,{payload:Object.assign(o.payload,{page:D})})))))},72910:(R,c,e)=>{"use strict";e.d(c,{D:()=>i});var t=e(65384),n=e(98678),a=e(96342);let i=(()=>{class d{constructor(l,p){this.notificationsService=l,this.translateService=p}static msg(l){return"item.version.create.notification."+l}notifyCreateNewVersion(l){const p=l?.payload?.version;l.hasSucceeded?this.notificationsService.success(null,this.translateService.get(d.msg("success"),{version:p})):this.notificationsService.error(null,this.translateService.get(d.msg(422===l?.statusCode?"inProgress":"failure")))}}return d.\u0275fac=function(l){return new(l||d)(n.\u0275\u0275inject(t.T),n.\u0275\u0275inject(a.sK))},d.\u0275prov=n.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},64398:(R,c,e)=>{"use strict";e.d(c,{u:()=>v});var t=e(98678),n=e(35841),a=e(65706),i=e(35103),d=e(5476),r=e(2594),l=e(96342);const p=function(y){return{version:y}};function h(y,O){if(1&y&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const S=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"item.version.create.modal.text.startingFrom",t.\u0275\u0275pureFunction1(4,p,S.versionNumber))," ")}}function m(y,O){if(1&y){const S=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",2),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"button",3),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(S);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onModalClose())}),t.\u0275\u0275elementStart(5,"span",4),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",5)(8,"p",6),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275template(11,h,3,6,"span",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",8)(13,"label",9),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"input",10),t.\u0275\u0275listener("ngModelChange",function(o){t.\u0275\u0275restoreView(S);const D=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(D.newVersionSummary=o)})("keyup.enter",function(){t.\u0275\u0275restoreView(S);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onModalSubmit())}),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(18,"div",11)(19,"button",12),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(S);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onModalClose())}),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275element(21,"i",13),t.\u0275\u0275text(22),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(S);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onModalSubmit())}),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275element(26,"i",15),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()()()}if(2&y){const S=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,10,"item.version.create.modal.header")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(10,12,"item.version.create.modal.text")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!S.firstVersion),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(15,14,"item.version.create.modal.form.summary.label"),":"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(17,16,"item.version.create.modal.form.summary.placeholder")),t.\u0275\u0275property("ngModel",S.newVersionSummary),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(20,18,"item.version.create.modal.button.cancel.tooltip")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(23,20,"item.version.create.modal.button.cancel")," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(25,22,"item.version.create.modal.button.confirm.tooltip")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(28,24,"item.version.create.modal.button.confirm")," ")}}function _(y,O){1&y&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",5)(4,"p"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",16),t.\u0275\u0275element(8,"ds-loading",17),t.\u0275\u0275elementEnd()()),2&y&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,3,"item.version.create.modal.submitted.header")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,5,"item.version.create.modal.submitted.text")),t.\u0275\u0275advance(3),t.\u0275\u0275property("showMessage",!1))}let v=(()=>{class y{constructor(S){this.activeModal=S,this.firstVersion=!0,this.createVersionEvent=new t.EventEmitter}ngOnInit(){this.submitted$=new n.X(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}}return y.\u0275fac=function(S){return new(S||y)(t.\u0275\u0275directiveInject(a.Kz))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["waiting",""],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[4,"ngIf"],[1,"form-group"],["for","summary"],["type","text","id","summary",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"title","click"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"title","click"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(S,b){if(1&S&&(t.\u0275\u0275template(0,m,29,26,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,_,9,7,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)),2&S){const o=t.\u0275\u0275reference(3);t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(1,2,b.submitted$))("ngIfElse",o)}},dependencies:[i.O5,d.Fj,d.JJ,d.On,r.LoadingComponent,i.Ov,l.X$]}),y})()},73262:(R,c,e)=>{"use strict";e.d(c,{v:()=>M});var t=e(53426),n=e(76215),a=e(48358),i=(()=>{return(C=i||(i={})).Workspace="workspace",C.SupervisedItems="supervisedWorkspace",C.Workflow="workflow",i;var C})(),d=e(1053),r=e(27496),l=e(45180),p=e(42281),h=e(74997),m=e(81323),_=e(30658),v=e(18005),y=e(6952),O=e(16066),S=e(97462),b=e(98678),o=e(67522);const D=new Map([[i.Workspace,S._.Workspace],[i.SupervisedItems,S._.SupervisedItems],[i.Workflow,S._.Workflow]]);let M=(()=>{class C extends r.U{constructor(g,U,L,j,$,z,re,W){super(U,L,j,$,z,re,W),this.roleService=g,this.routeService=U,this.paginationService=L,this.route=j,this.linkService=$,this.halService=z,this.requestService=re,this.rdb=W,this.defaultPagination=Object.assign(new l.r,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new p.o("dc.date.issued",p.S.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.a)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,n.P)(),(0,a.U)(([g,U,L])=>{const j=[];return g&&j.push(i.Workspace),(U||L)&&(j.push(i.SupervisedItems),j.push(i.Workflow)),j}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,n.P)(),(0,a.U)(g=>{const U=[];return g.forEach(L=>{const j=L,$=`mydspace.show.${j}`,z=D.get(L);U.push({value:j,label:$,context:z})}),U}))}}return C.\u0275fac=function(g){return new(g||C)(b.\u0275\u0275inject(d.N),b.\u0275\u0275inject(h.MZ),b.\u0275\u0275inject(m.N),b.\u0275\u0275inject(o.gz),b.\u0275\u0275inject(_.M),b.\u0275\u0275inject(v.q),b.\u0275\u0275inject(y.s),b.\u0275\u0275inject(O.Q))},C.\u0275prov=b.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})()},55963:(R,c,e)=>{"use strict";e.r(c),e.d(c,{MYDSPACE_ROUTE:()=>v,MyDSpacePageComponent:()=>O,SEARCH_CONFIG_SERVICE:()=>y});var t=e(98678),n=e(77176),a=e(57066),i=e(51424),d=e(73262),r=e(41529),l=e(96526),p=e(43061);function h(S,b){1&S&&t.\u0275\u0275element(0,"ds-my-dspace-new-submission")}function m(S,b){if(1&S&&(t.\u0275\u0275element(0,"ds-themed-search",3),t.\u0275\u0275pipe(1,"async")),2&S){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("configuration",o.configuration)("configurationList",t.\u0275\u0275pipeBind1(1,4,o.configurationList$))("context",o.context)("viewModeList",o.viewModeList)}}const _=function(S){return[S]},v="/mydspace",y=new t.InjectionToken("searchConfigurationService");let O=(()=>{class S{constructor(o,D){this.service=o,this.searchConfigService=D,this.roleTypeEnum=p.G,this.viewModeList=[r.w.ListElement,r.w.DetailedListElement],this.service.setServiceOptions(i.B,l.w1)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,n.q)(1)).subscribe(o=>{this.configuration=o[0].value,this.context=o[0].context})}}return S.\u0275fac=function(o){return new(o||S)(t.\u0275\u0275directiveInject(a.o),t.\u0275\u0275directiveInject(y))},S.\u0275cmp=t.\u0275\u0275defineComponent({type:S,selectors:[["ds-my-dspace-page"]],features:[t.\u0275\u0275ProvidersFeature([{provide:y,useClass:d.v}])],decls:3,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(o,D){1&o&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,h,1,0,"ds-my-dspace-new-submission",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,m,2,6,"ds-themed-search",2)),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("dsShowOnlyForRole",t.\u0275\u0275pureFunction1(2,_,D.roleTypeEnum.Submitter)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.configuration&&D.context))},styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0}),S})()},70116:(R,c,e)=>{"use strict";e.d(c,{o:()=>p});var t=e(76215),n=e(48358),a=e(45608),i=e(55963),d=e(73262),r=e(98678),l=e(67522);let p=(()=>{class h{constructor(_,v){this.configurationService=_,this.router=v}canActivate(_,v){return this.configurationService.getAvailableConfigurationTypes().pipe((0,t.P)(),(0,n.U)(y=>this.validateConfigurationParam(_.queryParamMap.get("configuration"),y)))}validateConfigurationParam(_,v){const y=v[0];return!((0,a.xb)(_)||!v.includes(_))||(this.router.navigate([i.MYDSPACE_ROUTE],{queryParams:{configuration:y}}),!1)}}return h.\u0275fac=function(_){return new(_||h)(r.\u0275\u0275inject(d.v),r.\u0275\u0275inject(l.F0))},h.\u0275prov=r.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})()},24486:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ExpandableNavbarSectionComponent:()=>b});var t=e(35054),n=e(29306),a=e(17605),i=e(76215),d=e(79849),r=e(82126),l=e(98678),p=e(35103),h=e(67522),m=e(41966);function _(o,D){1&o&&l.\u0275\u0275elementContainer(0)}function v(o,D){1&o&&l.\u0275\u0275elementContainer(0)}function y(o,D){if(1&o&&(l.\u0275\u0275elementStart(0,"li"),l.\u0275\u0275template(1,v,1,0,"ng-container",3),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275elementEnd()),2&o){const M=D.$implicit,C=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(1),l.\u0275\u0275property("ngComponentOutlet",l.\u0275\u0275pipeBind1(2,2,C.sectionMap$).get(M.id).component)("ngComponentOutletInjector",l.\u0275\u0275pipeBind1(3,4,C.sectionMap$).get(M.id).injector)}}function O(o,D){if(1&o){const M=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"ul",5),l.\u0275\u0275listener("click",function(T){l.\u0275\u0275restoreView(M);const g=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(g.deactivateSection(T))}),l.\u0275\u0275template(1,y,4,6,"li",6),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementEnd()}if(2&o){const M=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("@slide",void 0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",l.\u0275\u0275pipeBind1(2,2,M.subSections$))}}function S(o,D){if(1&o){const M=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",1),l.\u0275\u0275listener("keyup.enter",function(T){const U=l.\u0275\u0275restoreView(M).ngVar,L=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(U?L.deactivateSection(T):L.activateSection(T))})("keyup.space",function(T){const U=l.\u0275\u0275restoreView(M).ngVar,L=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(U?L.deactivateSection(T):L.activateSection(T))})("keydown.space",function(T){return T.preventDefault()})("mouseenter",function(T){l.\u0275\u0275restoreView(M);const g=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(g.activateSection(T))})("mouseleave",function(T){l.\u0275\u0275restoreView(M);const g=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(g.deactivateSection(T))}),l.\u0275\u0275elementStart(1,"a",2),l.\u0275\u0275listener("click",function(T){l.\u0275\u0275restoreView(M);const g=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(g.toggleSection(T))}),l.\u0275\u0275template(2,_,1,0,"ng-container",3),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275pipe(4,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(5,O,3,4,"ul",4),l.\u0275\u0275pipe(6,"async"),l.\u0275\u0275elementEnd()}if(2&o){const M=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275classProp("disabled",null==M.section.model?null:M.section.model.disabled),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngComponentOutlet",l.\u0275\u0275pipeBind1(3,5,M.sectionMap$).get(M.section.id).component)("ngComponentOutletInjector",l.\u0275\u0275pipeBind1(4,7,M.sectionMap$).get(M.section.id).injector),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(6,9,M.active))}}let b=(()=>{class o extends t.h{constructor(M,C,T,g){super(M,C,T),this.menuService=C,this.injector=T,this.windowService=g,this.menuID=r.z.PUBLIC}ngOnInit(){super.ngOnInit()}activateSection(M){this.windowService.isXsOrSm().pipe((0,i.P)()).subscribe(C=>{C||super.activateSection(M)})}deactivateSection(M){this.windowService.isXsOrSm().pipe((0,i.P)()).subscribe(C=>{C||super.deactivateSection(M)})}toggleSection(M){M.preventDefault(),this.windowService.isXsOrSm().pipe((0,i.P)()).subscribe(C=>{C&&super.toggleSection(M)})}}return o.\u0275fac=function(M){return new(M||o)(l.\u0275\u0275directiveInject("sectionDataProvider"),l.\u0275\u0275directiveInject(n.h),l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(d.I))},o.\u0275cmp=l.\u0275\u0275defineComponent({type:o,selectors:[["ds-expandable-navbar-section"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","nav-item dropdown expandable-navbar-section text-md-center",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave",4,"ngVar"],[1,"nav-item","dropdown","expandable-navbar-section","text-md-center",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave"],["href","javascript:void(0);","routerLinkActive","active","id","browseDropdown","data-toggle","dropdown",1,"nav-link","dropdown-toggle",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","m-0 shadow-none border-top-0 dropdown-menu show",3,"click",4,"ngIf"],[1,"m-0","shadow-none","border-top-0","dropdown-menu","show",3,"click"],[4,"ngFor","ngForOf"]],template:function(M,C){1&M&&(l.\u0275\u0275template(0,S,7,11,"div",0),l.\u0275\u0275pipe(1,"async")),2&M&&l.\u0275\u0275property("ngVar",l.\u0275\u0275pipeBind1(1,1,C.active))},dependencies:[p.$G,p.sg,p.O5,h.Od,m.g,p.Ov],styles:[".expandable-navbar-section[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;justify-content:center}.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-expandable-navbar-bg);overflow:hidden;min-width:100%;border-top-left-radius:0;border-top-right-radius:0}.dropdown-menu[_ngcontent-%COMP%]     a.nav-link{color:var(--ds-expandable-navbar-link-color)!important}.dropdown-menu[_ngcontent-%COMP%]     a.nav-link{padding-right:var(--bs-spacer);padding-left:var(--bs-spacer);white-space:nowrap}.dropdown-menu[_ngcontent-%COMP%]     a.nav-link:hover, .dropdown-menu[_ngcontent-%COMP%]     a.nav-link:focus{color:var(--ds-expandable-navbar-link-color-hover)!important}@media screen and (max-width: 768px){.dropdown-toggle[_ngcontent-%COMP%]:after{float:right;margin-top:calc(var(--bs-spacer) / 2)}.dropdown-menu[_ngcontent-%COMP%]{border:0}}"],data:{animation:[a.JD]}}),o})()},35054:(R,c,e)=>{"use strict";e.d(c,{h:()=>m});var p,t=e(70655),n=e(98678),a=e(76588),i=e(29306),d=e(52799),r=e(82126),l=e(35103);function h(_,v){1&_&&n.\u0275\u0275elementContainer(0)}let m=((p=class extends a.q{constructor(v,y,O){super(v,y,O),this.menuService=y,this.injector=O,this.menuID=r.z.PUBLIC}ngOnInit(){super.ngOnInit()}}).\u0275fac=function(v){return new(v||p)(n.\u0275\u0275directiveInject("sectionDataProvider"),n.\u0275\u0275directiveInject(i.h),n.\u0275\u0275directiveInject(n.Injector))},p.\u0275cmp=n.\u0275\u0275defineComponent({type:p,selectors:[["ds-navbar-section"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:4,vars:6,consts:[[1,"nav-item","navbar-section","text-md-center"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(v,y){1&v&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,h,1,0,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementEnd()),2&v&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngComponentOutlet",n.\u0275\u0275pipeBind1(2,2,y.sectionMap$).get(y.section.id).component)("ngComponentOutletInjector",n.\u0275\u0275pipeBind1(3,4,y.sectionMap$).get(y.section.id).injector))},dependencies:[l.$G,l.Ov],styles:[".navbar-section[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}"]}),p);m=(0,t.__decorate)([(0,d.h)(r.z.PUBLIC,!1),(0,t.__metadata)("design:paramtypes",[Object,i.h,n.Injector])],m)},78297:(R,c,e)=>{"use strict";e.r(c),e.d(c,{NavbarComponent:()=>T});var t=e(17605),n=e(48674),a=e(29306),i=e(79849),d=e(1081),r=e(35794),l=e(82126),p=e(34216),h=e(89702),m=e(36533),_=e(98678),v=e(67522),y=e(35103),O=e(65706),S=e(73466),b=e(96342);function o(g,U){1&g&&(_.\u0275\u0275elementStart(0,"li"),_.\u0275\u0275element(1,"ds-themed-user-menu",7),_.\u0275\u0275elementEnd()),2&g&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("inExpandableNavbar",!0))}function D(g,U){1&g&&_.\u0275\u0275elementContainer(0)}function M(g,U){if(1&g&&(_.\u0275\u0275elementStart(0,"li"),_.\u0275\u0275template(1,D,1,0,"ng-container",8),_.\u0275\u0275pipe(2,"async"),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275elementEnd()),2&g){const L=U.$implicit,j=_.\u0275\u0275nextContext();let $,z;_.\u0275\u0275advance(1),_.\u0275\u0275property("ngComponentOutlet",null==($=_.\u0275\u0275pipeBind1(2,2,j.sectionMap$).get(L.id))?null:$.component)("ngComponentOutletInjector",null==(z=_.\u0275\u0275pipeBind1(3,4,j.sectionMap$).get(L.id))?null:z.injector)}}const C=function(g){return{open:g}};let T=(()=>{class g extends n.M{constructor(L,j,$,z,re,W,ie,ce){super(L,j,re,W,ie),this.menuService=L,this.injector=j,this.windowService=$,this.browseService=z,this.authorizationService=re,this.route=W,this.themeService=ie,this.store=ce,this.menuID=l.z.PUBLIC}ngOnInit(){super.ngOnInit(),this.isXsOrSm$=this.windowService.isXsOrSm(),this.isAuthenticated$=this.store.pipe((0,h.Ys)(m.$8))}}return g.\u0275fac=function(L){return new(L||g)(_.\u0275\u0275directiveInject(a.h),_.\u0275\u0275directiveInject(_.Injector),_.\u0275\u0275directiveInject(i.I),_.\u0275\u0275directiveInject(d.I),_.\u0275\u0275directiveInject(r._),_.\u0275\u0275directiveInject(v.gz),_.\u0275\u0275directiveInject(p.fY),_.\u0275\u0275directiveInject(h.yh))},g.\u0275cmp=_.\u0275\u0275defineComponent({type:g,selectors:[["ds-navbar"]],features:[_.\u0275\u0275InheritDefinitionFeature],decls:15,vars:25,consts:[["role","navigation",1,"navbar","navbar-light","navbar-expand-md","p-md-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"reset-padding-md","w-100"],["id","collapsingNav"],[1,"navbar-nav","navbar-navigation","mr-auto","shadow-none"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(L,j){1&L&&(_.\u0275\u0275elementStart(0,"nav",0),_.\u0275\u0275pipe(1,"async"),_.\u0275\u0275pipe(2,"async"),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275pipe(4,"translate"),_.\u0275\u0275elementStart(5,"div",1),_.\u0275\u0275pipe(6,"async"),_.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"ul",4),_.\u0275\u0275template(10,o,2,1,"li",5),_.\u0275\u0275pipe(11,"async"),_.\u0275\u0275pipe(12,"async"),_.\u0275\u0275template(13,M,4,6,"li",6),_.\u0275\u0275pipe(14,"async"),_.\u0275\u0275elementEnd()()()()()),2&L&&(_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(23,C,!_.\u0275\u0275pipeBind1(1,7,j.menuCollapsed)))("@slideMobileNav",_.\u0275\u0275pipeBind1(2,9,j.windowService.isXsOrSm())?_.\u0275\u0275pipeBind1(3,11,j.menuCollapsed)?"collapsed":"expanded":"default"),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(4,13,"nav.main.description")),_.\u0275\u0275advance(5),_.\u0275\u0275classProp("container",!_.\u0275\u0275pipeBind1(6,15,j.isXsOrSm$)),_.\u0275\u0275advance(5),_.\u0275\u0275property("ngIf",_.\u0275\u0275pipeBind1(11,17,j.isXsOrSm$)&&_.\u0275\u0275pipeBind1(12,19,j.isAuthenticated$)),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngForOf",_.\u0275\u0275pipeBind1(14,21,j.sections)))},dependencies:[y.mk,y.$G,y.sg,y.O5,O.M2,S.A,y.Ov,b.X$],styles:["nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline}@media screen and (max-width: 767.98px){.navbar[_ngcontent-%COMP%]{width:100%;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}.navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){.reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -2);margin-right:calc(var(--bs-spacer) / -2)}}@media screen and (max-width: 767.98px){.navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}.navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}.navbar-nav[_ngcontent-%COMP%]     a.nav-link{color:var(--ds-navbar-link-color)}.navbar-nav[_ngcontent-%COMP%]     a.nav-link:hover, .navbar-nav[_ngcontent-%COMP%]     a.nav-link:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[t.DE]}}),g})()},4546:(R,c,e)=>{"use strict";e.d(c,{n:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"NavbarComponent"}importThemedComponent(p){return e(67309)(`./${p}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,78297))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-navbar"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},92413:(R,c,e)=>{"use strict";e.r(c),e.d(c,{PageErrorComponent:()=>i});var t=e(98678),n=e(67522),a=e(96342);let i=(()=>{class d{constructor(l){this.activatedRoute=l,this.activatedRoute.queryParams.subscribe(p=>{this.status=p.status,this.code=p.code})}}return d.\u0275fac=function(l){return new(l||d)(t.\u0275\u0275directiveInject(n.gz))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-page-error"]],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(l,p){1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h1",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h2")(4,"small"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(7,"br"),t.\u0275\u0275elementStart(8,"p"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"br"),t.\u0275\u0275elementStart(12,"p",2)(13,"a",3),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()()()),2&l&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(p.status),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,"error-page.description."+p.status)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,6,"error-page."+p.code)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,8,p.status+".link.home-page")))},dependencies:[a.X$]}),d})()},44010:(R,c,e)=>{"use strict";e.r(c),e.d(c,{PageInternalServerErrorComponent:()=>i});var t=e(12857),n=e(98678),a=e(96342);let i=(()=>{class d{constructor(l){this.responseService=l,this.responseService.setInternalServerError()}}return d.\u0275fac=function(l){return new(l||d)(n.\u0275\u0275directiveInject(t.N))},d.\u0275cmp=n.\u0275\u0275defineComponent({type:d,selectors:[["ds-page-internal-server-error"]],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(l,p){1&l&&(n.\u0275\u0275elementStart(0,"div",0)(1,"h1"),n.\u0275\u0275text(2,"500"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"h2")(4,"small"),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275element(7,"br"),n.\u0275\u0275elementStart(8,"p"),n.\u0275\u0275text(9),n.\u0275\u0275pipe(10,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(11,"br"),n.\u0275\u0275elementStart(12,"p",1)(13,"a",2),n.\u0275\u0275text(14),n.\u0275\u0275pipe(15,"translate"),n.\u0275\u0275elementEnd()()()),2&l&&(n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(6,3,"500.page-internal-server-error")," "),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(10,5,"500.help")),n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(15,7,"500.link.home-page")))},dependencies:[a.X$]}),d})()},44903:(R,c,e)=>{"use strict";e.r(c),e.d(c,{PageNotFoundComponent:()=>r});var t=e(12857),n=e(38123),a=e(98678),i=e(67522),d=e(96342);let r=(()=>{class l{constructor(h,m){this.authservice=h,this.responseService=m,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}}return l.\u0275fac=function(h){return new(h||l)(a.\u0275\u0275directiveInject(n.e8),a.\u0275\u0275directiveInject(t.N))},l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-pagenotfound"]],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(h,m){1&h&&(a.\u0275\u0275elementStart(0,"div",0)(1,"h1"),a.\u0275\u0275text(2,"404"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"h2")(4,"small"),a.\u0275\u0275text(5),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(7,"br"),a.\u0275\u0275elementStart(8,"p"),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(11,"br"),a.\u0275\u0275elementStart(12,"p",1)(13,"a",2),a.\u0275\u0275text(14),a.\u0275\u0275pipe(15,"translate"),a.\u0275\u0275elementEnd()()()),2&h&&(a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(6,3,"404.page-not-found")),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(10,5,"404.help")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(15,7,"404.link.home-page")))},dependencies:[i.rH,d.X$]}),l})()},74423:(R,c,e)=>{"use strict";e.d(c,{Ah:()=>i,dz:()=>a,gm:()=>n});var t=e(65521);const n="processes",a=()=>`/${n}`,i=d=>new t.R(a(),d).toString()},2910:(R,c,e)=>{"use strict";e.d(c,{N:()=>t});class t{}},35399:(R,c,e)=>{"use strict";e.d(c,{A:()=>_});var t=e(70655),n=e(26523);const a=new n._("processOutput");var m,i=e(38666),d=e(24320),r=e(3798),l=e(65804),p=e(42878),h=e(40731);let _=((m=class{}).type=d.d,m);(0,t.__decorate)([r.OJ,i.autoserialize,(0,t.__metadata)("design:type",n._)],_.prototype,"type",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"processId",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"userId",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"startTime",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"endTime",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"scriptName",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",Number)],_.prototype,"processStatus",void 0),(0,t.__decorate)([i.autoserialize,(0,t.__metadata)("design:type",Array)],_.prototype,"parameters",void 0),(0,t.__decorate)([i.deserialize,(0,t.__metadata)("design:type",Object)],_.prototype,"_links",void 0),(0,t.__decorate)([(0,l.p4)(h.x),(0,t.__metadata)("design:type",p.y)],_.prototype,"script",void 0),(0,t.__decorate)([(0,l.p4)(a),(0,t.__metadata)("design:type",p.y)],_.prototype,"output",void 0),_=(0,t.__decorate)([l.KB],_)},24320:(R,c,e)=>{"use strict";e.d(c,{d:()=>n});const n=new(e(26523)._)("process")},23229:(R,c,e)=>{"use strict";e.d(c,{X:()=>p});var l,t=e(70655),n=e(38666),a=e(40731),i=e(65804),d=e(3798),r=e(26523);let p=((l=class{}).type=a.x,l);(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",r._)],p.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"id",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"name",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"description",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],p.prototype,"parameters",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],p.prototype,"_links",void 0),p=(0,t.__decorate)([i.KB],p)},40731:(R,c,e)=>{"use strict";e.d(c,{x:()=>n});const n=new(e(26523)._)("script")},26316:(R,c,e)=>{"use strict";e.d(c,{n:()=>h});var t=e(9237),n=e(48358),a=e(57066),i=e(45608),d=e(40772),r=e(10572),l=e(41121),p=e(98678);let h=(()=>{class m{constructor(v){this.searchService=v}hasProfilesToSuggest(v){return this.searchForSuggestions(v).pipe((0,r.hC)(),(0,n.U)(y=>(0,i.UE)(y)&&y.hasSucceeded&&y.payload?.page?.length>0))}searchForSuggestions(v){const y=this.personQueryData(v);return(0,i.xb)(y)?(0,t.of)((0,l.Wt)()):this.lookup(y)}lookup(v){return(0,i.xb)(v)?(0,t.of)((0,l.Wt)()):this.searchService.search(new d.t({configuration:"eperson_claims",query:v}),null,!1,!0)}personQueryData(v){return v&&v.email?"person.email:"+v.email:null}}return m.\u0275fac=function(v){return new(v||m)(p.\u0275\u0275inject(a.o))},m.\u0275prov=p.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},87653:(R,c,e)=>{"use strict";e.r(c),e.d(c,{RegisterEmailFormComponent:()=>oe,TYPE_REQUEST_FORGOT:()=>w,TYPE_REQUEST_REGISTER:()=>Q});var t=e(63794),n=e(65384),a=e(5476),i=e(73194),d=e(10572),r=e(45608),l=e(35841),p=e(53426),h=e(21160),m=e(9237),_=e(48358),v=e(77176),y=e(9302),O=e(99408),S=e(60987),b=e(53929),o=e(98678),D=e(96342),M=e(67522),C=e(81640),T=e(35103),g=e(76320),U=e(87586);function L(q,ee){if(1&q&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(2,2,J.MESSAGE_PREFIX+".info.maildomain")," ",J.validMailDomains.join(", ")," ")}}function j(q,ee){if(1&q&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&q){const J=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,J.MESSAGE_PREFIX+".email.error.required")," ")}}const $=function(q){return{domains:q}};function z(q,ee){if(1&q&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementContainerEnd()),2&q){const J=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,J.MESSAGE_PREFIX+".email.error.not-valid-domain",o.\u0275\u0275pureFunction1(4,$,J.validMailDomains.join(", ")))," ")}}function re(q,ee){if(1&q&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275template(3,z,3,6,"ng-container",1),o.\u0275\u0275elementEnd()),2&q){const J=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,2,J.MESSAGE_PREFIX+".email.error.not-email-form")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",J.validMailDomains.length>0)}}function W(q,ee){if(1&q&&(o.\u0275\u0275elementStart(0,"div",13),o.\u0275\u0275template(1,j,3,3,"span",1),o.\u0275\u0275template(2,re,4,4,"span",1),o.\u0275\u0275elementEnd()),2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",J.email.errors&&J.email.errors.required),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",J.email.errors&&(J.email.errors.pattern&&J.typeRequest===J.TYPE_REQUEST_REGISTER||J.email.errors.email))}}function ie(q,ee){if(1&q){const J=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ds-alert",14),o.\u0275\u0275element(1,"p",15),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementStart(3,"p",16)(4,"a",17),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(J);const Oe=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Oe.klaroService.showSettings())}),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()()()}if(2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275property("type",J.AlertTypeEnum.Warning),o.\u0275\u0275advance(1),o.\u0275\u0275property("innerHTML",o.\u0275\u0275pipeBind1(2,3,J.MESSAGE_PREFIX+".google-recaptcha.must-accept-cookies"),o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,5,J.MESSAGE_PREFIX+".google-recaptcha.open-cookie-settings"))}}function ce(q,ee){if(1&q){const J=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",18)(1,"ds-google-recaptcha",19),o.\u0275\u0275listener("executeRecaptcha",function(Oe){o.\u0275\u0275restoreView(J);const Re=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Re.register(Oe))})("checkboxChecked",function(Oe){o.\u0275\u0275restoreView(J);const Re=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Re.onCheckboxChecked(Oe))})("showNotification",function(Oe){o.\u0275\u0275restoreView(J);const Re=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Re.showNotification(Oe))}),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()()}if(2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("captchaMode",o.\u0275\u0275pipeBind1(2,1,J.googleRecaptchaService.captchaMode()))}}function ne(q,ee){if(1&q){const J=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"button",20),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(J);const Oe=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Oe.register())}),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("disabled",J.form.invalid||J.registrationVerification&&!J.isRecaptchaCookieAccepted()||J.disableUntilChecked),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(3,2,J.MESSAGE_PREFIX+".submit")," ")}}function K(q,ee){if(1&q){const J=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",20),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(J);const Oe=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Oe.executeRecaptcha())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}if(2&q){const J=o.\u0275\u0275nextContext();o.\u0275\u0275property("disabled",J.form.invalid),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,2,J.MESSAGE_PREFIX+".submit")," ")}}const w="forgot",Q="register";let oe=(()=>{class q{constructor(J,Ee,Oe,Re,ve,Pe,et,Ze,tt,yt,Ne){this.epersonRegistrationService=J,this.notificationService=Ee,this.translateService=Oe,this.router=Re,this.formBuilder=ve,this.configService=Pe,this.googleRecaptchaService=et,this.cookieService=Ze,this.klaroService=tt,this.changeDetectorRef=yt,this.notificationsService=Ne,this.typeRequest=null,this.AlertTypeEnum=S.N,this.registrationVerification=!1,this.checkboxCheckedSubject$=new l.X(!1),this.disableUntilChecked=!0,this.TYPE_REQUEST_REGISTER=Q,this.subscriptions=[]}captchaVersion(){return this.googleRecaptchaService.captchaVersion()}captchaMode(){return this.googleRecaptchaService.captchaMode()}ngOnDestroy(){this.subscriptions.forEach(J=>J.unsubscribe())}ngOnInit(){const J=[a.kI.required,a.kI.email,a.kI.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")];this.form=this.formBuilder.group({email:new a.p4("",{validators:J})}),this.validMailDomains=[],this.typeRequest===Q&&this.subscriptions.push(this.configService.findByPropertyName("authentication-password.domain.valid").pipe((0,d.mc)()).subscribe(Ee=>{this.validMailDomains=Ee.values;for(const Oe of Ee.values)0!==this.validMailDomains.length&&(this.form.get("email").setValidators([...J,a.kI.pattern(this.validMailDomains.map(Re=>"(^.*"+Re.replace(new RegExp("\\.","g"),"\\.")+"$)").join("|"))]),this.form.updateValueAndValidity());this.changeDetectorRef.detectChanges()})),this.subscriptions.push(this.configService.findByPropertyName("registration.verification.enabled").pipe((0,d.Gp)(),(0,_.U)(Ee=>"true"===Ee?.values[0].toLowerCase())).subscribe(Ee=>{this.registrationVerification=Ee})),this.subscriptions.push(this.disableUntilCheckedFcn().subscribe(Ee=>{this.disableUntilChecked=Ee,this.changeDetectorRef.detectChanges()}))}executeRecaptcha(){this.googleRecaptchaService.executeRecaptcha()}register(J){this.form.invalid||(this.registrationVerification?this.subscriptions.push((0,p.a)([this.captchaVersion(),this.captchaMode()]).pipe((0,h.w)(([Ee,Oe])=>"v3"===Ee?this.googleRecaptchaService.getRecaptchaToken("register_email"):"v2"===Ee&&"checkbox"===Oe?(0,m.of)(this.googleRecaptchaService.getRecaptchaTokenResponse()):"v2"===Ee&&"invisible"===Oe?(0,m.of)(J):(console.error(`Invalid reCaptcha configuration: version = ${Ee}, mode = ${Oe}`),void this.showNotification("error"))),(0,v.q)(1)).subscribe(Ee=>{(0,r.UE)(Ee)?this.registration(Ee):(console.error("reCaptcha error"),this.showNotification("error"))})):this.registration())}registration(J=null){let Ee=this.epersonRegistrationService.registerEmail(this.email.value,J||null,this.typeRequest);this.subscriptions.push(Ee.subscribe(Oe=>{Oe.hasSucceeded?(this.notificationService.success(this.translateService.get(`${this.MESSAGE_PREFIX}.success.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.success.content`,{email:this.email.value})),this.router.navigate(["/home"])):this.notificationService.error(this.translateService.get(`${this.MESSAGE_PREFIX}.error.head`),422===Oe.statusCode?this.translateService.get(`${this.MESSAGE_PREFIX}.error.maildomain`,{domains:this.validMailDomains.join(", ")}):this.translateService.get(`${this.MESSAGE_PREFIX}.error.content`,{email:this.email.value}))}))}isRecaptchaCookieAccepted(){const J=this.cookieService.get("klaro-anonymous");return!!(0,r.UE)(J)&&J[O.LI]}disableUntilCheckedFcn(){const J=this.checkboxCheckedSubject$.asObservable();return(0,p.a)([this.captchaVersion(),this.captchaMode(),J]).pipe((0,h.w)(([Ee,Oe,Re])=>(0,m.of)("v2"===Ee&&"checkbox"===Oe&&!Re)),(0,y.O)(!0))}get email(){return this.form.get("email")}onCheckboxChecked(J){this.checkboxCheckedSubject$.next(J)}showNotification(J){const Ee=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.title"),Oe=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.error"),Re=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.expired");switch(J){case"expired":this.notificationsService.warning(Ee,Re);break;case"error":this.notificationsService.error(Ee,Oe);break;default:console.warn(`Unimplemented notification '${J}' from reCaptcha service`)}}}return q.\u0275fac=function(J){return new(J||q)(o.\u0275\u0275directiveInject(t.m),o.\u0275\u0275directiveInject(n.T),o.\u0275\u0275directiveInject(D.sK),o.\u0275\u0275directiveInject(M.F0),o.\u0275\u0275directiveInject(a.QS),o.\u0275\u0275directiveInject(i.i),o.\u0275\u0275directiveInject(O.v0),o.\u0275\u0275directiveInject(b.N),o.\u0275\u0275directiveInject(C.D,8),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(n.T))},q.\u0275cmp=o.\u0275\u0275defineComponent({type:q,selectors:[["ds-register-email-form"]],inputs:{MESSAGE_PREFIX:"MESSAGE_PREFIX",typeRequest:"typeRequest"},decls:28,vars:28,consts:[[1,"container"],[4,"ngIf"],[3,"formGroup"],[1,"form-group"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["type","text","id","email","formControlName","email",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],[3,"type",4,"ngIf"],["class","my-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["v2Invisible",""],[1,"invalid-feedback","show-feedback"],[3,"type"],[1,"m-0",3,"innerHTML"],[1,"m-0"],["href","javascript:void(0);",3,"click"],[1,"my-3"],[3,"captchaMode","executeRecaptcha","checkboxChecked","showNotification"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(J,Ee){if(1&J&&(o.\u0275\u0275elementStart(0,"div",0)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,L,3,4,"p",1),o.\u0275\u0275elementStart(8,"form",2)(9,"div",3)(10,"div",4)(11,"div",5)(12,"label",6),o.\u0275\u0275text(13),o.\u0275\u0275pipe(14,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(15,"input",7),o.\u0275\u0275template(16,W,3,2,"div",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"div",5),o.\u0275\u0275text(18),o.\u0275\u0275pipe(19,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275template(20,ie,7,7,"ds-alert",9),o.\u0275\u0275template(21,ce,3,3,"div",10),o.\u0275\u0275pipe(22,"async"),o.\u0275\u0275template(23,ne,4,4,"ng-container",11),o.\u0275\u0275pipe(24,"async"),o.\u0275\u0275pipe(25,"async"),o.\u0275\u0275template(26,K,3,4,"ng-template",null,12,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()()),2&J){const Oe=o.\u0275\u0275reference(27);o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,14,Ee.MESSAGE_PREFIX+".header")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,16,Ee.MESSAGE_PREFIX+".info")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",0!=Ee.validMailDomains.length&&Ee.typeRequest===Ee.TYPE_REQUEST_REGISTER),o.\u0275\u0275advance(1),o.\u0275\u0275classMap("ng-invalid"),o.\u0275\u0275property("formGroup",Ee.form),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(14,18,Ee.MESSAGE_PREFIX+".email")),o.\u0275\u0275advance(2),o.\u0275\u0275property("className",Ee.email.invalid&&(Ee.email.dirty||Ee.email.touched)?"form-control is-invalid":"form-control"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Ee.email.invalid&&(Ee.email.dirty||Ee.email.touched)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(19,20,Ee.MESSAGE_PREFIX+".email.hint")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",Ee.registrationVerification&&!Ee.isRecaptchaCookieAccepted()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Ee.isRecaptchaCookieAccepted()&&"v2"===o.\u0275\u0275pipeBind1(22,22,Ee.googleRecaptchaService.captchaVersion())),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!("v2"===o.\u0275\u0275pipeBind1(24,24,Ee.googleRecaptchaService.captchaVersion())&&"invisible"===o.\u0275\u0275pipeBind1(25,26,Ee.googleRecaptchaService.captchaMode())))("ngIfElse",Oe)}},dependencies:[T.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,g.C,U.w,T.Ov,D.X$],encapsulation:2}),q})()},42877:(R,c,e)=>{"use strict";e.r(c),e.d(c,{RootComponent:()=>K});var t=e(48358),n=e(9302),a=e(9237),i=e(53426),d=e(97011),r=e(10844),l=e(38123),p=e(11221),h=e(29306),m=e(79849),_=e(90016),v=e(76774),y=e(17605),O=e(82126),S=e(71213),b=e(45608),o=e(98678),D=e(96342),M=e(89702),C=e(67522),T=e(35103),g=e(87657),U=e(45947),L=e(15658),j=e(21779),$=e(62612),z=e(49594),re=e(83897);function W(w,Q){1&w&&(o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275element(1,"ds-themed-loading",8),o.\u0275\u0275elementEnd()),2&w&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("showMessage",!1))}function ie(w,Q){1&w&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275element(1,"ds-themed-loading",8),o.\u0275\u0275elementEnd()),2&w&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("showMessage",!1))}const ce=function(w,Q){return{collapsedSidebarWidth:w,totalSidebarWidth:Q}},ne=function(w,Q){return{value:w,params:Q}};let K=(()=>{class w{constructor(oe,q,ee,J,Ee,Oe,Re,ve,Pe,et){this._window=oe,this.translate=q,this.store=ee,this.metadata=J,this.angulartics2DSpace=Ee,this.authService=Oe,this.router=Re,this.cssService=ve,this.menuService=Pe,this.windowService=et,this.theme=(0,a.of)({}),this.notificationOptions=v.N.notifications}ngOnInit(){this.sidebarVisible=this.menuService.isMenuVisibleWithVisibleSections(O.z.ADMIN),this.collapsedSidebarWidth=this.cssService.getVariable("--ds-collapsed-sidebar-width").pipe((0,b.tz)()),this.totalSidebarWidth=this.cssService.getVariable("--ds-total-sidebar-width").pipe((0,b.tz)());const oe=this.menuService.isMenuCollapsed(O.z.ADMIN);this.slideSidebarOver=(0,i.a)([oe,this.windowService.isXsOrSm()]).pipe((0,t.U)(([q,ee])=>q||ee),(0,n.O)(!0)),this.router.url===(0,S.Tt)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const oe=document.getElementById("main-content");oe&&(oe.tabIndex=-1,oe.focus())}}return w.\u0275fac=function(oe){return new(oe||w)(o.\u0275\u0275directiveInject(r.DC),o.\u0275\u0275directiveInject(D.sK),o.\u0275\u0275directiveInject(M.yh),o.\u0275\u0275directiveInject(d.D),o.\u0275\u0275directiveInject(_.T),o.\u0275\u0275directiveInject(l.e8),o.\u0275\u0275directiveInject(C.F0),o.\u0275\u0275directiveInject(p.I),o.\u0275\u0275directiveInject(h.h),o.\u0275\u0275directiveInject(m.I))},w.\u0275cmp=o.\u0275\u0275defineComponent({type:w,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},decls:20,vars:25,consts:[["id","skip-to-main-content",1,"btn","btn-primary",3,"click"],[1,"outer-wrapper"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(oe,q){1&oe&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return q.skipToMainContent()}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",1),o.\u0275\u0275pipe(4,"async"),o.\u0275\u0275pipe(5,"async"),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275pipe(7,"async"),o.\u0275\u0275element(8,"ds-themed-admin-sidebar"),o.\u0275\u0275elementStart(9,"div",2),o.\u0275\u0275element(10,"ds-system-wide-alert-banner")(11,"ds-themed-header-navbar-wrapper")(12,"ds-themed-breadcrumbs"),o.\u0275\u0275elementStart(13,"main",3),o.\u0275\u0275template(14,W,2,1,"div",4),o.\u0275\u0275elementStart(15,"div"),o.\u0275\u0275element(16,"router-outlet"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(17,"ds-themed-footer"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(18,"ds-notifications-board",5),o.\u0275\u0275template(19,ie,2,1,"div",6)),2&oe&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,9,"root.skip-to-content"),"\n"),o.\u0275\u0275advance(2),o.\u0275\u0275classProp("d-none",q.shouldShowFullscreenLoader),o.\u0275\u0275property("@slideSidebarPadding",o.\u0275\u0275pureFunction2(22,ne,o.\u0275\u0275pipeBind1(4,11,q.sidebarVisible)?o.\u0275\u0275pipeBind1(5,13,q.slideSidebarOver)?"shown":"expanded":"hidden",o.\u0275\u0275pureFunction2(19,ce,o.\u0275\u0275pipeBind1(6,15,q.collapsedSidebarWidth),o.\u0275\u0275pipeBind1(7,17,q.totalSidebarWidth)))),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngIf",q.shouldShowRouteLoader),o.\u0275\u0275advance(1),o.\u0275\u0275classProp("d-none",q.shouldShowRouteLoader),o.\u0275\u0275advance(3),o.\u0275\u0275property("options",q.notificationOptions),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",q.shouldShowFullscreenLoader))},dependencies:[T.O5,C.lC,g.Z,U.P,L.x,j.$,$.k,z.d,re.e,T.Ov,D.X$],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[y.Fc]}}),w})()},58773:(R,c,e)=>{"use strict";e.r(c),e.d(c,{SearchNavbarComponent:()=>m});var t=e(57066),n=e(17605),a=e(98678),i=e(5476),d=e(67522),r=e(35392),l=e(96342),p=e(7027);const h=["searchInput"];let m=(()=>{class _{constructor(y,O,S){this.formBuilder=y,this.router=O,this.searchService=S,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(y){this.collapse();const O=Object.assign({},y),S=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(S,{queryParams:O,queryParamsHandling:"merge"})}}return _.\u0275fac=function(y){return new(y||_)(a.\u0275\u0275directiveInject(i.QS),a.\u0275\u0275directiveInject(d.F0),a.\u0275\u0275directiveInject(t.o))},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["ds-search-navbar"]],viewQuery:function(y,O){if(1&y&&a.\u0275\u0275viewQuery(h,5),2&y){let S;a.\u0275\u0275queryRefresh(S=a.\u0275\u0275loadQuery())&&(O.searchField=S.first)}},decls:13,vars:23,consts:[["id","search-navbar-container",3,"title","dsClickOutside"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"formGroup","ngSubmit"],["name","query","formControlName","query","type","text",1,"bg-transparent","position-absolute","form-control","dropdown-menu-right","pl-1","pr-4",3,"placeholder","tabIndex"],["searchInput",""],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(y,O){1&y&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275listener("dsClickOutside",function(){return O.collapse()}),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275elementStart(2,"div",1)(3,"form",2),a.\u0275\u0275listener("ngSubmit",function(){return O.onSubmit(O.searchForm.value)}),a.\u0275\u0275element(4,"input",3,4),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275pipe(7,"translate"),a.\u0275\u0275pipe(8,"dsBrowserOnly"),a.\u0275\u0275elementStart(9,"button",5),a.\u0275\u0275listener("click",function(){return O.searchExpanded?O.onSubmit(O.searchForm.value):O.expand()}),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275pipe(11,"dsBrowserOnly"),a.\u0275\u0275element(12,"em",6),a.\u0275\u0275elementEnd()()()()),2&y&&(a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(1,11,"nav.search")),a.\u0275\u0275advance(3),a.\u0275\u0275property("formGroup",O.searchForm),a.\u0275\u0275advance(1),a.\u0275\u0275classProp("display",O.searchExpanded?"inline-block":"none"),a.\u0275\u0275propertyInterpolate("placeholder",O.searchExpanded?a.\u0275\u0275pipeBind1(7,15,"nav.search"):""),a.\u0275\u0275property("@toggleAnimation",O.isExpanded)("tabIndex",O.searchExpanded?0:-1),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(6,13,"nav.search"))("data-test",a.\u0275\u0275pipeBind1(8,17,"header-search-box")),a.\u0275\u0275advance(5),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(10,19,"nav.search.button"))("data-test",a.\u0275\u0275pipeBind1(11,21,"header-search-icon")))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,r._,l.X$,p.g],styles:["input[type=text][_ngcontent-%COMP%]{background-color:#fff!important}input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.5 * var(--bs-font-size-base));border-color:var(--ds-header-icon-color)}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{border:0!important}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[n.WP]}}),_})()},55520:(R,c,e)=>{"use strict";e.d(c,{A:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(p){return e(1741)(`./${p}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,58773))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-search-navbar"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},62467:(R,c,e)=>{"use strict";e.d(c,{x:()=>Ge});var t=e(32210),n=e(27193),a=e(710),i=e(98678),d=e(35103),r=e(5476),l=e(65706),p=e(96342);let h=(()=>{class qe{transform(it){if(!it)return null;const ht=new Date(it);return{year:ht.getFullYear(),month:ht.getMonth()+1,day:ht.getDate()}}}return qe.\u0275fac=function(it){return new(it||qe)},qe.\u0275pipe=i.\u0275\u0275definePipe({name:"toDate",type:qe,pure:!1}),qe})();const m=["ngForm"];function _(qe,gt){1&qe&&(i.\u0275\u0275elementStart(0,"div",5),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&qe&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,1,"access-control-no-access-conditions-warning-message")," "))}function v(qe,gt){if(1&qe&&(i.\u0275\u0275elementStart(0,"option",17),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&qe){const it=gt.$implicit;i.\u0275\u0275property("value",it.name),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",it.name," ")}}function y(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18)(1,"label",8),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",14)(5,"input",19,20),i.\u0275\u0275listener("ngModelChange",function(St){i.\u0275\u0275restoreView(it);const It=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275resetView(It.startDate=St)}),i.\u0275\u0275pipe(7,"toDate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"div",21)(9,"button",22),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(it);const St=i.\u0275\u0275reference(6);return i.\u0275\u0275resetView(St.toggle())}),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(10,"small",12),i.\u0275\u0275text(11),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementEnd()()}if(2&qe){const it=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const ht=i.\u0275\u0275reference(1);i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate1("for","accesscontrolstartdate-",it.id,""),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,8,"access-control-option-start-date")," "),i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate1("id","accesscontrolstartdate-",it.id,"")("name","startDate-",it.id,""),i.\u0275\u0275property("ngModel",it.startDate)("maxDate",i.\u0275\u0275pipeBind1(7,10,it.maxStartDate)),i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",ht.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(12,12,"access-control-option-start-date-note")," ")}}function O(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18)(1,"label",8),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",14)(5,"input",19,23),i.\u0275\u0275listener("ngModelChange",function(St){i.\u0275\u0275restoreView(it);const It=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275resetView(It.endDate=St)}),i.\u0275\u0275pipe(7,"toDate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"div",21)(9,"button",22),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(it);const St=i.\u0275\u0275reference(6);return i.\u0275\u0275resetView(St.toggle())}),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(10,"small",12),i.\u0275\u0275text(11),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementEnd()()}if(2&qe){const it=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const ht=i.\u0275\u0275reference(1);i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate1("for","accesscontrolenddate-",it.id,""),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,8,"access-control-option-end-date")," "),i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate1("id","accesscontrolenddate-",it.id,"")("name","endDate-",it.id,""),i.\u0275\u0275property("ngModel",it.endDate)("maxDate",i.\u0275\u0275pipeBind1(7,10,it.maxEndDate)),i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",ht.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(12,12,"access-control-option-end-date-note")," ")}}function S(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",6)(2,"div",7)(3,"div")(4,"label",8),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"select",9),i.\u0275\u0275listener("ngModelChange",function(St){const Yt=i.\u0275\u0275restoreView(it).$implicit;return i.\u0275\u0275resetView(Yt.itemName=St)})("ngModelChange",function(St){const Yt=i.\u0275\u0275restoreView(it).$implicit,en=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(en.accessControlChanged(Yt,St))}),i.\u0275\u0275element(8,"option",10),i.\u0275\u0275template(9,v,2,2,"option",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(10,"small",12),i.\u0275\u0275text(11),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(13,y,13,14,"div",13),i.\u0275\u0275template(14,O,13,14,"div",13),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(15,"div")(16,"label"),i.\u0275\u0275text(17,"\xa0"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(18,"div",14)(19,"button",15),i.\u0275\u0275listener("click",function(){const It=i.\u0275\u0275restoreView(it).$implicit,Yt=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(Yt.removeAccessControlItem(It.id))}),i.\u0275\u0275element(20,"i",16),i.\u0275\u0275elementEnd()()()(),i.\u0275\u0275elementContainerEnd()}if(2&qe){const it=gt.$implicit,ht=i.\u0275\u0275nextContext(),St=i.\u0275\u0275reference(1);i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate1("ngModelGroup","access-control-item-",it.id,""),i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate1("for","accesscontroloption-",it.id,""),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(6,12,"access-control-option-label")," "),i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate1("id","accesscontroloption-",it.id,"")("name","itemName-",it.id,""),i.\u0275\u0275property("disabled",St.disabled)("ngModel",it.itemName),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",ht.dropdownOptions),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(12,14,"access-control-option-note")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",it.hasStartDate),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",it.hasEndDate),i.\u0275\u0275advance(5),i.\u0275\u0275property("disabled",St.disabled||1===ht.form.accessControls.length)}}let b=(()=>{class qe{constructor(){this.dropdownOptions=[],this.form={accessControls:[o()]},this.formDisabled=!0,this.disable=()=>{this.ngForm.form.disable(),this.formDisabled=!0},this.enable=()=>{this.ngForm.form.enable(),this.formDisabled=!1}}ngOnInit(){this.disable()}get allControlsAreEmpty(){return this.form.accessControls.every(it=>null===it.itemName||""===it.itemName)}get showWarning(){return"replace"===this.mode&&this.allControlsAreEmpty&&!this.formDisabled}addAccessControlItem(it=null){this.form.accessControls=[...this.form.accessControls,{...o(),itemName:it}]}removeAccessControlItem(it){this.form.accessControls=this.form.accessControls.filter(ht=>ht.id!==it)}getValue(){return this.form.accessControls.filter(it=>null!==it.itemName&&""!==it.itemName).map(it=>({name:it.itemName,startDate:it.startDate?(0,a.iV)(it.startDate):null,endDate:it.endDate?(0,a.iV)(it.endDate):null}))}reset(){this.form.accessControls=[],this.addAccessControlItem(),this.disable()}accessControlChanged(it,ht){const St=this.dropdownOptions.find(It=>It.name===ht);it.startDate=null,it.endDate=null,it.hasStartDate=St?.hasStartDate||!1,it.hasEndDate=St?.hasEndDate||!1,it.maxStartDate=St?.maxStartDate||null,it.maxEndDate=St?.maxEndDate||null}trackById(it,ht){return ht.id}}return qe.\u0275fac=function(it){return new(it||qe)},qe.\u0275cmp=i.\u0275\u0275defineComponent({type:qe,selectors:[["ds-access-control-array-form"]],viewQuery:function(it,ht){if(1&it&&i.\u0275\u0275viewQuery(m,7),2&it){let St;i.\u0275\u0275queryRefresh(St=i.\u0275\u0275loadQuery())&&(ht.ngForm=St.first)}},inputs:{dropdownOptions:"dropdownOptions",mode:"mode",type:"type"},exportAs:["accessControlArrayForm"],decls:8,vars:8,consts:[["ngForm","ngForm"],["class","alert alert-warning",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-outline-primary","mt-3",3,"id","disabled","click"],[1,"fas","fa-plus"],[1,"alert","alert-warning"],[1,"access-control-item","mt-3",3,"ngModelGroup"],[1,"d-flex","flex-column"],[3,"for"],[1,"form-control",3,"id","disabled","ngModel","name","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],["class","mt-3",4,"ngIf"],[1,"input-group"],["type","button",1,"btn","btn-outline-danger",3,"disabled","click"],[1,"fas","fa-trash"],[3,"value"],[1,"mt-3"],["placeholder","yyyy-mm-dd","ngbDatepicker","","placement","top-start top-end bottom-start bottom-end",1,"form-control",3,"id","ngModel","name","maxDate","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","fas","fa-calendar",3,"disabled","click"],["d1","ngbDatepicker"]],template:function(it,ht){if(1&it&&(i.\u0275\u0275elementStart(0,"form",null,0),i.\u0275\u0275template(2,_,3,3,"div",1),i.\u0275\u0275template(3,S,21,16,"ng-container",2),i.\u0275\u0275elementStart(4,"button",3),i.\u0275\u0275listener("click",function(){return ht.addAccessControlItem()}),i.\u0275\u0275element(5,"i",4),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd()()),2&it){const St=i.\u0275\u0275reference(1);i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",ht.showWarning),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",ht.form.accessControls)("ngForTrackBy",ht.trackById),i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate1("id","add-btn-",ht.type,""),i.\u0275\u0275property("disabled",St.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(7,6,"access-control-add-more")," ")}},dependencies:[d.sg,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.Mq,r.F,l.J4,p.X$,h],styles:[".access-control-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 50px;grid-gap:10px;padding-bottom:15px;border-bottom:2px dotted gray}"]}),qe})();const o=()=>({id:D(),itemName:null,startDate:null,hasStartDate:!1,maxStartDate:null,endDate:null,hasEndDate:!1,maxEndDate:null}),D=()=>Math.floor(1e6*Math.random());var M=e(68945),C=e(91416),T=e(48358),g=e(77176),U=e(35841),L=e(97462),j=e(45180),z=(e(13005),e(39034)),re=e(81323),W=e(45608),ie=e(10572),ce=e(12955);const ne=function(qe){return{repeatable:!0,listId:qe}};function K(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"ds-viewable-collection",10),i.\u0275\u0275listener("pageChange",function(St){i.\u0275\u0275restoreView(it);const It=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(It.loadForPage(St))}),i.\u0275\u0275elementEnd()}if(2&qe){const it=i.\u0275\u0275nextContext().ngIf,ht=i.\u0275\u0275nextContext();i.\u0275\u0275property("config",ht.paginationConfig)("context",ht.context)("objects",it)("selectable",!0)("selectionConfig",i.\u0275\u0275pureFunction1(6,ne,ht.LIST_ID))("showPaginator",!0)}}function w(qe,gt){1&qe&&(i.\u0275\u0275elementStart(0,"div",11),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&qe&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,1,"access-control-select-bitstreams-modal.no-items")," "))}function Q(qe,gt){if(1&qe&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,K,1,8,"ds-viewable-collection",8),i.\u0275\u0275template(2,w,3,3,"div",9),i.\u0275\u0275elementContainerEnd()),2&qe){const it=gt.ngIf;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",it.payload.page.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",it&&0===it.payload.page.length)}}const oe="item-access-control-select-bitstreams";let q=(()=>{class qe{constructor(it,ht,St,It){this.bitstreamService=it,this.paginationService=ht,this.translateService=St,this.activeModal=It,this.LIST_ID=oe,this.selectedBitstreams=[],this.data$=new U.X(null),this.pageSize=5,this.context=L._.Bitstream}ngOnInit(){this.loadForPage(1),this.paginationConfig=new j.r,this.paginationConfig.id="iacsbm",this.paginationConfig.currentPage=1,(0,W.Uh)(this.pageSize)&&(this.paginationConfig.pageSize=this.pageSize)}loadForPage(it){this.bitstreamService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:it},!1).pipe((0,ie.hC)()).subscribe(this.data$)}}return qe.\u0275fac=function(it){return new(it||qe)(i.\u0275\u0275directiveInject(z.J),i.\u0275\u0275directiveInject(re.N),i.\u0275\u0275directiveInject(p.sK),i.\u0275\u0275directiveInject(l.Kz))},qe.\u0275cmp=i.\u0275\u0275defineComponent({type:qe,selectors:[["ds-item-access-control-select-bitstreams-modal"]],inputs:{item:"item",selectedBitstreams:"selectedBitstreams"},decls:14,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"config","context","objects","selectable","selectionConfig","showPaginator","pageChange",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[3,"config","context","objects","selectable","selectionConfig","showPaginator","pageChange"],["role","alert",1,"alert","alert-info","w-100"]],template:function(it,ht){1&it&&(i.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"button",2),i.\u0275\u0275listener("click",function(){return ht.activeModal.dismiss("Cross click")}),i.\u0275\u0275elementStart(5,"span",3),i.\u0275\u0275text(6,"\xd7"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(7,"div",4),i.\u0275\u0275template(8,Q,3,2,"ng-container",5),i.\u0275\u0275pipe(9,"async"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(10,"div",6)(11,"button",7),i.\u0275\u0275listener("click",function(){return ht.activeModal.close("Close click")}),i.\u0275\u0275text(12),i.\u0275\u0275pipe(13,"translate"),i.\u0275\u0275elementEnd()()),2&it&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,3,"access-control-select-bitstreams-modal.title")," "),i.\u0275\u0275advance(6),i.\u0275\u0275property("ngIf",i.\u0275\u0275pipeBind1(9,5,ht.data$)),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(13,7,"access-control-select-bitstreams-modal.close")," "))},dependencies:[d.O5,ce.c,d.Ov,p.X$]}),qe})();var Ze,ee=e(70655),J=e(16066),Ee=e(55624),Oe=e(18005),Re=e(6952),ve=e(10102),Pe=e(1411),et=e(13604);let tt=((Ze=class extends ve.o{constructor(gt,it,ht,St){super("bulkaccessconditionoptions",gt,it,ht,St),this.requestService=gt,this.rdbService=it,this.objectCache=ht,this.halService=St}}).\u0275fac=function(gt){return new(gt||Ze)(i.\u0275\u0275inject(Re.s),i.\u0275\u0275inject(J.Q),i.\u0275\u0275inject(Ee.a),i.\u0275\u0275inject(Oe.q))},Ze.\u0275prov=i.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze);tt=(0,ee.__decorate)([(0,Pe.cQ)(et.l9),(0,ee.__metadata)("design:paramtypes",[Re.s,J.Q,Ee.a,Oe.q])],tt);var yt=e(60987),mt=e(87586),Dt=e(1599);const At=["bitstreamAccessCmp"],Jt=["itemAccessCmp"];function $t(qe,gt){if(1&qe&&i.\u0275\u0275element(0,"ds-alert",29),2&qe){const it=i.\u0275\u0275nextContext();i.\u0275\u0275property("type",it.AlertType.Info)("content",it.titleMessage)}}function lt(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",36),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(it);const St=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(St.openSelectBitstreamsModal(St.itemRD.payload))}),i.\u0275\u0275element(1,"i",37),i.\u0275\u0275elementEnd()}if(2&qe){const it=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("disabled",!it.state.bitstream.toggleStatus||"selected"!==it.state.bitstream.changesLimit)}}function Ht(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",9)(1,"div",30),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",30)(5,"div",12)(6,"input",31),i.\u0275\u0275listener("ngModelChange",function(St){i.\u0275\u0275restoreView(it);const It=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(It.state.bitstream.changesLimit=St)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"label",32),i.\u0275\u0275text(8),i.\u0275\u0275pipe(9,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(10,"div",12)(11,"input",33),i.\u0275\u0275listener("ngModelChange",function(St){i.\u0275\u0275restoreView(it);const It=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(It.state.bitstream.changesLimit=St)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(12,"label",34),i.\u0275\u0275text(13),i.\u0275\u0275pipe(14,"translate"),i.\u0275\u0275template(15,lt,2,1,"button",35),i.\u0275\u0275elementEnd()()()()}if(2&qe){const it=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,9,"access-control-limit-to-specific")," "),i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",!it.state.bitstream.toggleStatus)("ngModel",it.state.bitstream.changesLimit),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(9,11,"access-control-process-all-bitstreams")," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("disabled",!it.state.bitstream.toggleStatus)("ngModel",it.state.bitstream.changesLimit),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate2(" ",it.state.bitstream.selectedBitstreams.length," ",i.\u0275\u0275pipeBind1(14,13,"access-control-bitstreams-selected")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",it.itemRD)}}function Qe(qe,gt){1&qe&&i.\u0275\u0275element(0,"hr")}function ft(qe,gt){if(1&qe){const it=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",38)(1,"button",39),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(it);const St=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(St.reset())}),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"button",40),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(it);const St=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(St.submit())}),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd()()}if(2&qe){const it=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,3,"access-control-cancel")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("disabled",!it.state.item.toggleStatus&&!it.state.bitstream.toggleStatus),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(6,5,"access-control-execute")," ")}}const Je=function(){return[]};let Ge=(()=>{class qe{constructor(it,ht,St,It,Yt){this.bulkAccessConfigService=it,this.bulkAccessControlService=ht,this.selectableListService=St,this.modalService=It,this.cdr=Yt,this.showLimitToSpecificBitstreams=!1,this.titleMessage="",this.showSubmit=!0,this.AlertType=yt.N,this.state={item:{toggleStatus:!1,accessMode:"replace"},bitstream:{toggleStatus:!1,accessMode:"replace",changesLimit:"all",selectedBitstreams:[]}},this.dropdownData$=this.bulkAccessConfigService.findByName("default").pipe((0,ie.hC)(),(0,T.U)(en=>en.hasSucceeded?en.payload:null),(0,t.d)(1))}getFormValue(){return console.log({bitstream:this.bitstreamAccessCmp.getValue(),item:this.itemAccessCmp.getValue(),state:this.state}),{bitstream:this.bitstreamAccessCmp.getValue(),item:this.itemAccessCmp.getValue(),state:this.state}}reset(){this.bitstreamAccessCmp.reset(),this.itemAccessCmp.reset(),this.state={item:{toggleStatus:!1,accessMode:"replace"},bitstream:{toggleStatus:!1,accessMode:"replace",changesLimit:"all",selectedBitstreams:[]}}}submit(){const it=this.bitstreamAccessCmp.getValue(),ht=this.itemAccessCmp.getValue(),{file:St}=this.bulkAccessControlService.createPayloadFile({bitstreamAccess:it,itemAccess:ht,state:this.state});this.bulkAccessControlService.executeScript([this.itemRD.payload.uuid],St).pipe((0,g.q)(1)).subscribe(It=>{console.log("success",It)})}handleStatusChange(it,ht){"bitstream"===it?ht?this.bitstreamAccessCmp.enable():this.bitstreamAccessCmp.disable():"item"===it&&(ht?this.itemAccessCmp.enable():this.itemAccessCmp.disable())}openSelectBitstreamsModal(it){const ht=this.modalService.open(q);ht.componentInstance.selectedBitstreams=this.state.bitstream.selectedBitstreams,ht.componentInstance.item=it,ht.closed.pipe((0,n.b)(()=>this.selectableListService.getSelectableList(oe)),(0,g.q)(1)).subscribe(St=>{this.state.bitstream.selectedBitstreams=St?.selection||[],this.cdr.detectChanges()})}ngOnDestroy(){this.selectableListService.deselectAll(oe)}}return qe.\u0275fac=function(it){return new(it||qe)(i.\u0275\u0275directiveInject(tt),i.\u0275\u0275directiveInject(M.h),i.\u0275\u0275directiveInject(C.w),i.\u0275\u0275directiveInject(l.FF),i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},qe.\u0275cmp=i.\u0275\u0275defineComponent({type:qe,selectors:[["ds-access-control-form-container"]],viewQuery:function(it,ht){if(1&it&&(i.\u0275\u0275viewQuery(At,7),i.\u0275\u0275viewQuery(Jt,7)),2&it){let St;i.\u0275\u0275queryRefresh(St=i.\u0275\u0275loadQuery())&&(ht.bitstreamAccessCmp=St.first),i.\u0275\u0275queryRefresh(St=i.\u0275\u0275loadQuery())&&(ht.itemAccessCmp=St.first)}},inputs:{showLimitToSpecificBitstreams:"showLimitToSpecificBitstreams",titleMessage:"titleMessage",itemRD:"itemRD",showSubmit:"showSubmit"},exportAs:["dsAccessControlForm"],decls:66,vars:56,consts:[[1,"container"],[1,"card","border-0"],[1,"card-body"],[3,"type","content",4,"ngIf"],[1,"row","mt-5"],[1,"col-12","col-md-6","border-right","d-flex","flex-column","justify-content-between"],[1,"d-flex","align-items-center"],[1,"mb-0","mr-4"],[3,"ngModel","ngModelChange"],[1,"row","mt-3"],[1,"col-12","col-md-3"],[1,"col-12","col-md-8"],[1,"form-check"],["type","radio","name","itemMode","id","itemReplace","value","replace",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","itemReplace",1,"form-check-label"],["type","radio","name","itemMode","id","itemAdd","value","add",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","itemAdd",1,"form-check-label"],[1,"mt-3"],[3,"type","mode","dropdownOptions"],["itemAccessCmp",""],[1,"col-12","col-md-6","d-flex","flex-column","justify-content-between"],["class","row mt-3",4,"ngIf"],["type","radio","name","bitstreamMode","id","bitstreamReplace","value","replace",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","bitstreamReplace",1,"form-check-label"],["type","radio","name","bitstreamMode","id","bitstreamAdd","value","add",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","bitstreamAdd",1,"form-check-label"],["bitstreamAccessCmp",""],[4,"ngIf"],["class","d-flex justify-content-end",4,"ngIf"],[3,"type","content"],[1,"col-12"],["type","radio","name","changesLimit","id","processAll","value","all",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","processAll",1,"form-check-label"],["type","radio","name","changesLimit","id","processSelected","value","selected",1,"form-check-input","mt-2",3,"disabled","ngModel","ngModelChange"],["for","processSelected",1,"form-check-label"],["class","btn btn-outline-dark border-0","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","border-0",3,"disabled","click"],[1,"fa","fa-search"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-primary","mr-3",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(it,ht){if(1&it&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),i.\u0275\u0275template(3,$t,1,2,"ds-alert",3),i.\u0275\u0275elementStart(4,"div",4)(5,"div",5)(6,"div")(7,"div",6)(8,"h4",7),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"ui-switch",8),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.item.toggleStatus=It})("ngModelChange",function(It){return ht.handleStatusChange("item",It)}),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(12,"div",9)(13,"div",10),i.\u0275\u0275text(14),i.\u0275\u0275pipe(15,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(16,"div",11)(17,"div",12)(18,"input",13),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.item.accessMode=It}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(19,"label",14),i.\u0275\u0275text(20),i.\u0275\u0275pipe(21,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(22,"div",12)(23,"input",15),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.item.accessMode=It}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(24,"label",16),i.\u0275\u0275text(25),i.\u0275\u0275pipe(26,"translate"),i.\u0275\u0275elementEnd()()()()(),i.\u0275\u0275elementStart(27,"div")(28,"h5",17),i.\u0275\u0275text(29),i.\u0275\u0275pipe(30,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(31,"ds-access-control-array-form",18,19),i.\u0275\u0275pipe(33,"async"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(34,"div",20)(35,"div")(36,"div",6)(37,"h4",7),i.\u0275\u0275text(38),i.\u0275\u0275pipe(39,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(40,"ui-switch",8),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.bitstream.toggleStatus=It})("ngModelChange",function(It){return ht.handleStatusChange("bitstream",It)}),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(41,Ht,16,15,"div",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(42,"div",9)(43,"div",10),i.\u0275\u0275text(44),i.\u0275\u0275pipe(45,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(46,"div",11)(47,"div",12)(48,"input",22),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.bitstream.accessMode=It}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(49,"label",23),i.\u0275\u0275text(50),i.\u0275\u0275pipe(51,"translate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(52,"div",12)(53,"input",24),i.\u0275\u0275listener("ngModelChange",function(It){return ht.state.bitstream.accessMode=It}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(54,"label",25),i.\u0275\u0275text(55),i.\u0275\u0275pipe(56,"translate"),i.\u0275\u0275elementEnd()()()(),i.\u0275\u0275elementStart(57,"div")(58,"h5",17),i.\u0275\u0275text(59),i.\u0275\u0275pipe(60,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(61,"ds-access-control-array-form",18,26),i.\u0275\u0275pipe(63,"async"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275template(64,Qe,1,0,"hr",27),i.\u0275\u0275template(65,ft,7,7,"div",28),i.\u0275\u0275elementEnd()()()),2&it){let St,It;i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",ht.titleMessage),i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(10,30,"access-control-item-header-toggle")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",ht.state.item.toggleStatus),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(15,32,"access-control-mode")," "),i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",!ht.state.item.toggleStatus)("ngModel",ht.state.item.accessMode),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(21,34,"access-control-replace-all")," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("disabled",!ht.state.item.toggleStatus)("ngModel",ht.state.item.accessMode),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(26,36,"access-control-add-to-existing")," "),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(30,38,"access-control-access-conditions")),i.\u0275\u0275advance(2),i.\u0275\u0275property("type","item")("mode",ht.state.item.accessMode)("dropdownOptions",(null==(St=i.\u0275\u0275pipeBind1(33,40,ht.dropdownData$))?null:St.itemAccessConditionOptions)||i.\u0275\u0275pureFunction0(54,Je)),i.\u0275\u0275advance(7),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(39,42,"access-control-bitstream-header-toggle")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",ht.state.bitstream.toggleStatus),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",ht.showLimitToSpecificBitstreams),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(45,44,"access-control-mode")," "),i.\u0275\u0275advance(4),i.\u0275\u0275property("disabled",!ht.state.bitstream.toggleStatus)("ngModel",ht.state.bitstream.accessMode),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(51,46,"access-control-replace-all")," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("disabled",!ht.state.bitstream.toggleStatus)("ngModel",ht.state.bitstream.accessMode),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(56,48,"access-control-add-to-existing")," "),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(60,50,"access-control-access-conditions")),i.\u0275\u0275advance(2),i.\u0275\u0275property("type","bitstream")("mode",ht.state.bitstream.accessMode)("dropdownOptions",(null==(It=i.\u0275\u0275pipeBind1(63,52,ht.dropdownData$))?null:It.bitstreamAccessConditionOptions)||i.\u0275\u0275pureFunction0(55,Je)),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",ht.showSubmit),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",ht.showSubmit)}},dependencies:[d.O5,r.Fj,r._,r.JJ,r.On,mt.w,Dt.o,b,d.Ov,p.X$]}),qe})()},68945:(R,c,e)=>{"use strict";e.d(c,{h:()=>m});var t=e(48358),n=e(75286),a=e(10572),i=e(45608),d=e(74423),r=e(65384),l=e(98678),p=e(67522),h=e(96342);let m=(()=>{class v{constructor(O,S,b,o){this.notificationsService=O,this.router=S,this.scriptService=b,this.translationService=o}createPayloadFile(O){const S=_(O),b=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),o=new File([b],"data.json",{type:"application/json"});return{url:URL.createObjectURL(o),file:o}}executeScript(O,S){console.log("execute",{uuids:O,file:S});const b=[{name:"-f",value:S.name}];return O.forEach(o=>{b.push({name:"-u",value:o})}),this.scriptService.invoke("bulk-access-control",b,[S]).pipe((0,a.hC)(),(0,t.U)(o=>{if(o.hasSucceeded){const D=this.translationService.get("process.new.notification.success.title"),M=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(D,M),(0,i.UE)(o.payload)&&this.router.navigateByUrl((0,d.Ah)(o.payload.processId)),!0}{const D=this.translationService.get("process.new.notification.error.title"),M=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(D,M),!1}}))}}return v.\u0275fac=function(O){return new(O||v)(l.\u0275\u0275inject(r.T),l.\u0275\u0275inject(p.F0),l.\u0275\u0275inject(n.UY),l.\u0275\u0275inject(h.sK))},v.\u0275prov=l.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const _=v=>{let y={};const S=v.state.bitstream.toggleStatus;if(v.state.item.toggleStatus&&(y.item={mode:v.state.item.accessMode,accessConditions:v.itemAccess}),S){const b={uuid:[]};S&&"selected"===v.state.bitstream.changesLimit&&(b.uuid=v.state.bitstream.selectedBitstreams.map(o=>o.id)),y.bitstream={constraints:b,mode:v.state.bitstream.accessMode,accessConditions:v.bitstreamAccess}}return y}},60987:(R,c,e)=>{"use strict";e.d(c,{N:()=>t});var t=(()=>{return(n=t||(t={})).Success="alert-success",n.Error="alert-danger",n.Info="alert-info",n.Warning="alert-warning",t;var n})()},87586:(R,c,e)=>{"use strict";e.d(c,{w:()=>m});var t=e(98678),n=e(79601),a=e(58106),i=e(35103),d=e(96342);function r(_,v){if(1&_&&(t.\u0275\u0275element(0,"span",4),t.\u0275\u0275pipe(1,"translate")),2&_){const y=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(1,1,y.content),t.\u0275\u0275sanitizeHtml)}}function l(_,v){if(1&_){const y=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",5),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(y);const S=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(S.dismiss())}),t.\u0275\u0275elementStart(1,"span",6),t.\u0275\u0275text(2,"\xd7"),t.\u0275\u0275elementEnd()()}}function p(_,v){if(1&_&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,r,2,3,"span",2),t.\u0275\u0275projection(2),t.\u0275\u0275template(3,l,3,0,"button",3),t.\u0275\u0275elementEnd()),2&_){const y=t.\u0275\u0275nextContext();t.\u0275\u0275classMapInterpolate1("alert ",y.type," alert-dismissible fade show w-100 p-3"),t.\u0275\u0275property("@enterLeave",y.animate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",y.content),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",y.dismissible)}}const h=["*"];let m=(()=>{class _{constructor(y){this.cdr=y,this.dismissible=!1,this.close=new t.EventEmitter,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}}return _.\u0275fac=function(y){return new(y||_)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},_.\u0275cmp=t.\u0275\u0275defineComponent({type:_,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},ngContentSelectors:h,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(y,O){1&y&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,p,4,6,"div",0)),2&y&&t.\u0275\u0275property("ngIf",!O.dismissed)},dependencies:[i.O5,d.X$],styles:[".close:focus{outline:none!important}\n"],encapsulation:2,data:{animation:[(0,n.X$)("enterLeave",[a.Ij,a.gm])]}}),_})()},58106:(R,c,e)=>{"use strict";e.d(c,{Ic:()=>m,Ij:()=>r,Ji:()=>p,U6:()=>h,Vr:()=>a,eP:()=>n,gm:()=>d});var t=e(79601);const n=(0,t.SB)("fadeIn",(0,t.oB)({opacity:1})),a=(0,t.eR)("* => fadeIn",[(0,t.oB)({opacity:0}),(0,t.jt)(300,(0,t.oB)({opacity:1}))]),i=(0,t.eR)(":enter",[(0,t.oB)({opacity:0}),(0,t.jt)(300,(0,t.oB)({opacity:1}))]),d=(0,t.SB)("fadeOut",(0,t.oB)({opacity:0})),r=(0,t.eR)("fadeIn => fadeOut",[(0,t.oB)({opacity:1}),(0,t.jt)(400,(0,t.oB)({opacity:0}))]),l=(0,t.eR)(":leave",[(0,t.oB)({opacity:0}),(0,t.jt)(300,(0,t.oB)({opacity:1}))]),p=(0,t.X$)("fadeIn",[i]),h=(0,t.X$)("fadeOut",[l]),m=(0,t.X$)("fadeInOut",[i,l])},82069:(R,c,e)=>{"use strict";e.d(c,{X:()=>n});var t=e(79601);const n=(0,t.X$)("focusShadow",[(0,t.SB)("focus",(0,t.oB)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,t.SB)("blur",(0,t.oB)({boxShadow:"none"})),(0,t.eR)("focus <=> blur",[(0,t.jt)("250ms")])]);(0,t.X$)("focusBackground",[(0,t.SB)("focus",(0,t.oB)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,t.SB)("blur",(0,t.oB)({backgroundColor:"transparent"})),(0,t.eR)("focus <=> blur",[(0,t.jt)("250ms")])])},83143:(R,c,e)=>{"use strict";e.d(c,{z:()=>n});var t=e(79601);const n=(0,t.X$)("pushInOut",[(0,t.SB)("expanded",(0,t.oB)({left:"100%"})),(0,t.SB)("collapsed",(0,t.oB)({left:0})),(0,t.eR)("expanded <=> collapsed",(0,t.jt)(250))])},48884:(R,c,e)=>{"use strict";e.d(c,{U1:()=>_,W7:()=>n,Y0:()=>d,pt:()=>a,un:()=>i});var t=e(79601);const n=(0,t.SB)("rotateIn",(0,t.oB)({opacity:1,transform:"rotate(0deg)"})),a=(0,t.eR)("* => rotateIn",[(0,t.oB)({opacity:0,transform:"rotate(5deg)"}),(0,t.jt)("400ms ease-in-out")]),i=(0,t.SB)("rotateOut",(0,t.oB)({opacity:0,transform:"rotate(5deg)"})),d=(0,t.eR)("rotateIn => rotateOut",[(0,t.oB)({opacity:1,transform:"rotate(0deg)"}),(0,t.jt)("400ms ease-in-out")]),_=((0,t.X$)("rotateIn",[a]),(0,t.X$)("rotateOut",[d]),(0,t.X$)("rotateInOut",[a,d]),(0,t.X$)("rotate",[(0,t.SB)("expanded",(0,t.oB)({transform:"rotate(90deg)"})),(0,t.SB)("collapsed",(0,t.oB)({transform:"rotate(0deg)"})),(0,t.eR)("expanded <=> collapsed",[(0,t.jt)("200ms")])]))},17605:(R,c,e)=>{"use strict";e.d(c,{DE:()=>a,Fc:()=>p,JD:()=>n,WP:()=>h,t6:()=>l});var t=e(79601);const n=(0,t.X$)("slide",[(0,t.SB)("expanded",(0,t.oB)({height:"*"})),(0,t.SB)("collapsed",(0,t.oB)({height:0})),(0,t.SB)("void",(0,t.oB)({height:0})),(0,t.SB)("*",(0,t.oB)({height:"*"})),(0,t.eR)(":enter",[(0,t.jt)("200ms")]),(0,t.eR)(":leave",[(0,t.jt)("200ms")]),(0,t.eR)("expanded <=> collapsed",(0,t.jt)(250))]),a=(0,t.X$)("slideMobileNav",[(0,t.SB)("expanded",(0,t.oB)({height:"auto","min-height":"100vh"})),(0,t.SB)("collapsed",(0,t.oB)({height:0})),(0,t.eR)("expanded <=> collapsed",(0,t.jt)("300ms"))]),i=(0,t.oB)({marginLeft:"-{{ sidebarWidth }}"}),d=(0,t.oB)({marginLeft:"0"}),r={params:{sidebarWidth:"*"}},l=(0,t.X$)("slideSidebar",[(0,t.eR)("expanded => collapsed",(0,t.ru)([(0,t.IO)("@*",(0,t.pV)()),(0,t.IO)(".sidebar-collapsible",d,r),(0,t.IO)(".sidebar-collapsible",(0,t.jt)("300ms ease-in-out",i))])),(0,t.eR)("collapsed => expanded",(0,t.ru)([(0,t.IO)("@*",(0,t.pV)()),(0,t.IO)(".sidebar-collapsible",i),(0,t.IO)(".sidebar-collapsible",(0,t.jt)("300ms ease-in-out",d),r)]))]),p=(0,t.X$)("slideSidebarPadding",[(0,t.SB)("hidden",(0,t.oB)({paddingLeft:0})),(0,t.SB)("shown",(0,t.oB)({paddingLeft:"{{ collapsedSidebarWidth }}"}),{params:{collapsedSidebarWidth:"*"}}),(0,t.SB)("expanded",(0,t.oB)({paddingLeft:"{{ totalSidebarWidth }}"}),{params:{totalSidebarWidth:"*"}}),(0,t.eR)("hidden <=> shown",[(0,t.jt)("200ms")]),(0,t.eR)("hidden <=> expanded",[(0,t.jt)("200ms")]),(0,t.eR)("shown <=> expanded",[(0,t.jt)("200ms")])]),h=(0,t.X$)("toggleAnimation",[(0,t.SB)("collapsed",(0,t.oB)({width:"0",opacity:"0"})),(0,t.SB)("expanded",(0,t.oB)({width:"250px",opacity:"1"})),(0,t.eR)("* => collapsed",(0,t.ru)([(0,t.jt)("300ms ease-in-out",(0,t.oB)({width:"30px"})),(0,t.jt)("300ms ease-in",(0,t.oB)({opacity:"0"}))])),(0,t.eR)("* => expanded",(0,t.ru)([(0,t.jt)("300ms ease-out",(0,t.oB)({opacity:"1"})),(0,t.jt)("300ms ease-in-out",(0,t.oB)({width:"250px"}))]))])},91027:(R,c,e)=>{"use strict";e.r(c),e.d(c,{AuthNavMenuComponent:()=>j});var t=e(9237),n=e(77007),a=e(48358),i=e(89702),d=e(58106),r=e(79849),l=e(39100),p=e(45608),h=e(36533),m=e(38123),_=e(98678),v=e(35103),y=e(65706),O=e(67522),S=e(73466),b=e(14372),o=e(96342),D=e(7027);const M=function($){return{"pl-3 pr-3":$}};function C($,z){if(1&$&&(_.\u0275\u0275elementStart(0,"li",3),_.\u0275\u0275listener("click",function(W){return W.stopPropagation()}),_.\u0275\u0275elementStart(1,"div",4,5)(3,"a",6),_.\u0275\u0275listener("click",function(W){return W.preventDefault()}),_.\u0275\u0275pipe(4,"translate"),_.\u0275\u0275pipe(5,"dsBrowserOnly"),_.\u0275\u0275text(6),_.\u0275\u0275pipe(7,"translate"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(8,"div",7),_.\u0275\u0275pipe(9,"async"),_.\u0275\u0275pipe(10,"translate"),_.\u0275\u0275element(11,"ds-themed-log-in",8),_.\u0275\u0275elementEnd()()()),2&$){const re=_.\u0275\u0275nextContext();_.\u0275\u0275advance(1),_.\u0275\u0275property("@fadeInOut",void 0),_.\u0275\u0275advance(2),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(4,7,"nav.login"))("data-test",_.\u0275\u0275pipeBind1(5,9,"login-menu")),_.\u0275\u0275advance(3),_.\u0275\u0275textInterpolate(_.\u0275\u0275pipeBind1(7,11,"nav.login")),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(17,M,_.\u0275\u0275pipeBind1(9,13,re.loading))),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(10,15,"nav.login")),_.\u0275\u0275advance(3),_.\u0275\u0275property("isStandalonePage",!1)}}function T($,z){1&$&&(_.\u0275\u0275elementStart(0,"li",9)(1,"a",10),_.\u0275\u0275text(2),_.\u0275\u0275pipe(3,"translate"),_.\u0275\u0275elementStart(4,"span",11),_.\u0275\u0275text(5,"(current)"),_.\u0275\u0275elementEnd()()()),2&$&&(_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1(" ",_.\u0275\u0275pipeBind1(3,1,"nav.login"),""))}function g($,z){1&$&&(_.\u0275\u0275elementStart(0,"li",9)(1,"div",4)(2,"a",12),_.\u0275\u0275listener("click",function(W){return W.preventDefault()}),_.\u0275\u0275pipe(3,"translate"),_.\u0275\u0275pipe(4,"translate"),_.\u0275\u0275pipe(5,"dsBrowserOnly"),_.\u0275\u0275element(6,"i",13),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(7,"div",14),_.\u0275\u0275pipe(8,"translate"),_.\u0275\u0275element(9,"ds-themed-user-menu"),_.\u0275\u0275elementEnd()()()),2&$&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("@fadeInOut",void 0),_.\u0275\u0275advance(1),_.\u0275\u0275property("title",_.\u0275\u0275pipeBind1(4,7,"nav.user-profile-menu-and-logout")),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(3,5,"nav.user-profile-menu-and-logout"))("data-test",_.\u0275\u0275pipeBind1(5,9,"user-menu")),_.\u0275\u0275advance(5),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(8,11,"nav.user-profile-menu-and-logout")))}function U($,z){1&$&&(_.\u0275\u0275elementStart(0,"li",9)(1,"a",15),_.\u0275\u0275pipe(2,"translate"),_.\u0275\u0275pipe(3,"translate"),_.\u0275\u0275element(4,"i",16),_.\u0275\u0275elementStart(5,"span",11),_.\u0275\u0275text(6,"(current)"),_.\u0275\u0275elementEnd()()()),2&$&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("title",_.\u0275\u0275pipeBind1(3,4,"nav.logout")),_.\u0275\u0275attribute("aria-label",_.\u0275\u0275pipeBind1(2,2,"nav.logout")))}const L=function($){return{"mr-auto":$}};let j=(()=>{class ${constructor(re,W,ie){this.store=re,this.windowService=W,this.authService=ie,this.showAuth=(0,t.of)(!1),this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,i.Ys)(h.$8)),this.loading=this.store.pipe((0,i.Ys)(h.EC)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,i.Ys)(l.$y),(0,n.h)(re=>(0,p.pT)(re)&&(0,p.pT)(re.state)),(0,a.U)(re=>!re.state.url.startsWith(m._e)&&!re.state.url.startsWith(m.Lx)))}}return $.\u0275fac=function(re){return new(re||$)(_.\u0275\u0275directiveInject(i.yh),_.\u0275\u0275directiveInject(r.I),_.\u0275\u0275directiveInject(m.e8))},$.\u0275cmp=_.\u0275\u0275defineComponent({type:$,selectors:[["ds-auth-nav-menu"]],decls:16,vars:29,consts:[[1,"navbar-nav",3,"ngClass"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["loginDrop",""],["href","javascript:void(0);","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["ngbDropdownMenu","",1,"loginDropdownMenu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["routerLink","/login","routerLinkActive","active",1,"loginLink","px-0.5"],[1,"sr-only"],["href","javascript:void(0);","role","button","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"title","click"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["ngbDropdownMenu","",1,"logoutDropdownMenu"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(re,W){1&re&&(_.\u0275\u0275elementStart(0,"ul",0),_.\u0275\u0275pipe(1,"async"),_.\u0275\u0275template(2,C,12,19,"li",1),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275pipe(4,"async"),_.\u0275\u0275pipe(5,"async"),_.\u0275\u0275template(6,T,6,3,"li",2),_.\u0275\u0275pipe(7,"async"),_.\u0275\u0275pipe(8,"async"),_.\u0275\u0275template(9,g,10,13,"li",2),_.\u0275\u0275pipe(10,"async"),_.\u0275\u0275pipe(11,"async"),_.\u0275\u0275pipe(12,"async"),_.\u0275\u0275template(13,U,7,6,"li",2),_.\u0275\u0275pipe(14,"async"),_.\u0275\u0275pipe(15,"async"),_.\u0275\u0275elementEnd()),2&re&&(_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(27,L,_.\u0275\u0275pipeBind1(1,5,W.isXsOrSm$))),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngIf",!_.\u0275\u0275pipeBind1(3,7,W.isAuthenticated)&&!_.\u0275\u0275pipeBind1(4,9,W.isXsOrSm$)&&_.\u0275\u0275pipeBind1(5,11,W.showAuth)),_.\u0275\u0275advance(4),_.\u0275\u0275property("ngIf",!_.\u0275\u0275pipeBind1(7,13,W.isAuthenticated)&&_.\u0275\u0275pipeBind1(8,15,W.isXsOrSm$)),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngIf",_.\u0275\u0275pipeBind1(10,17,W.isAuthenticated)&&!_.\u0275\u0275pipeBind1(11,19,W.isXsOrSm$)&&_.\u0275\u0275pipeBind1(12,21,W.showAuth)),_.\u0275\u0275advance(4),_.\u0275\u0275property("ngIf",_.\u0275\u0275pipeBind1(14,23,W.isAuthenticated)&&_.\u0275\u0275pipeBind1(15,25,W.isXsOrSm$)))},dependencies:[v.mk,v.O5,y.jt,y.iD,y.Vi,O.rH,O.Od,S.A,b.i,v.Ov,o.X$,D.g],styles:[".loginDropdownMenu[_ngcontent-%COMP%], .logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}.loginDropdownMenu[_ngcontent-%COMP%]{min-height:260px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"],data:{animation:[d.Ic,d.U6]}}),$})()},46683:(R,c,e)=>{"use strict";e.d(c,{j:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(p){return e(40140)(`./${p}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,91027))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-auth-nav-menu"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},73466:(R,c,e)=>{"use strict";e.d(c,{A:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["inExpandableNavbar"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(p){return e(26313)(`./${p}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,36081))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},36081:(R,c,e)=>{"use strict";e.r(c),e.d(c,{UserMenuComponent:()=>o});var t=e(89702),n=e(36533),a=e(55963),i=e(38123),d=e(71213),r=e(8842),l=e(98678),p=e(35103),h=e(67522),m=e(87657),_=e(57231),v=e(96342);function y(D,M){1&D&&l.\u0275\u0275element(0,"ds-themed-loading")}function O(D,M){1&D&&l.\u0275\u0275element(0,"ds-log-out",6)}const S=function(D){return[D]};function b(D,M){if(1&D&&(l.\u0275\u0275elementStart(0,"div")(1,"span",1),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275element(4,"br"),l.\u0275\u0275elementStart(5,"span",2),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"async"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(8,"a",3),l.\u0275\u0275text(9),l.\u0275\u0275pipe(10,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"a",3),l.\u0275\u0275text(12),l.\u0275\u0275pipe(13,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"a",3),l.\u0275\u0275text(15),l.\u0275\u0275pipe(16,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(17,"div",4),l.\u0275\u0275template(18,O,1,0,"ds-log-out",5),l.\u0275\u0275elementEnd()),2&D){const C=l.\u0275\u0275nextContext();let T;l.\u0275\u0275advance(1),l.\u0275\u0275classProp("pl-0",C.inExpandableNavbar),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",C.dsoNameService.getName(l.\u0275\u0275pipeBind1(3,14,C.user$)),""),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(null==(T=l.\u0275\u0275pipeBind1(7,16,C.user$))?null:T.email),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass",C.inExpandableNavbar?"nav-item nav-link":"dropdown-item")("routerLink",l.\u0275\u0275pureFunction1(24,S,C.profileRoute)),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(10,18,"nav.profile")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass",C.inExpandableNavbar?"nav-item nav-link":"dropdown-item")("routerLink",l.\u0275\u0275pureFunction1(26,S,C.mydspaceRoute)),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(13,20,"nav.mydspace")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass",C.inExpandableNavbar?"nav-item nav-link":"dropdown-item")("routerLink",l.\u0275\u0275pureFunction1(28,S,C.subscriptionsRoute)),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(16,22,"nav.subscriptions")),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",!C.inExpandableNavbar)}}let o=(()=>{class D{constructor(C,T,g){this.store=C,this.authService=T,this.dsoNameService=g,this.inExpandableNavbar=!1,this.mydspaceRoute=a.MYDSPACE_ROUTE,this.profileRoute=(0,d.cU)(),this.subscriptionsRoute=(0,d.AZ)()}ngOnInit(){this.loading$=this.store.pipe((0,t.Ys)(n.EC)),this.user$=this.authService.getAuthenticatedUserFromStore()}}return D.\u0275fac=function(C){return new(C||D)(l.\u0275\u0275directiveInject(t.yh),l.\u0275\u0275directiveInject(i.e8),l.\u0275\u0275directiveInject(r._))},D.\u0275cmp=l.\u0275\u0275defineComponent({type:D,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},decls:4,vars:6,consts:[[4,"ngIf"],[1,"dropdown-item-text"],[1,"text-muted"],["routerLinkActive","active",3,"ngClass","routerLink"],[1,"dropdown-divider"],["data-test","log-out-component",4,"ngIf"],["data-test","log-out-component"]],template:function(C,T){1&C&&(l.\u0275\u0275template(0,y,1,0,"ds-themed-loading",0),l.\u0275\u0275pipe(1,"async"),l.\u0275\u0275template(2,b,19,30,"div",0),l.\u0275\u0275pipe(3,"async")),2&C&&(l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(1,2,T.loading$)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(3,4,T.loading$)))},dependencies:[p.mk,p.O5,h.rH,h.Od,m.Z,_.P,p.Ov,v.X$]}),D})()},29941:(R,c,e)=>{"use strict";e.r(c),e.d(c,{BrowseByComponent:()=>re});var t=e(98678),n=e(42281),a=e(58106),i=e(35841),d=e(53426),r=e(86937),l=e(81323),p=e(41529),h=e(74997),m=e(48358),_=e(45608),v=e(96342),y=e(70643),O=e(35103),S=e(64719),b=e(87657),o=e(12955),D=e(41966);function M(W,ie){1&W&&t.\u0275\u0275elementContainer(0)}function C(W,ie){if(1&W&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"ds-themed-results-back-button",8),t.\u0275\u0275elementEnd()),2&W){const ce=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("back",ce.back)("buttonLabel",ce.buttonLabel)}}function T(W,ie){if(1&W){const ce=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,C,2,2,"div",5),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementStart(3,"ds-viewable-collection",6),t.\u0275\u0275listener("prev",function(){t.\u0275\u0275restoreView(ce);const K=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(K.goPrev())})("next",function(){t.\u0275\u0275restoreView(ce);const K=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(K.goNext())}),t.\u0275\u0275elementEnd()()}if(2&W){const ce=t.\u0275\u0275nextContext().ngVar,ne=t.\u0275\u0275nextContext();t.\u0275\u0275property("@fadeIn",void 0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,6,ne.shouldDisplayResetButton$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("config",ne.paginationConfig)("sortConfig",ne.sortConfig)("showPaginator",ne.showPaginator)("objects",ce)}}function g(W,ie){1&W&&(t.\u0275\u0275element(0,"ds-themed-loading",9),t.\u0275\u0275pipe(1,"translate")),2&W&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.browse-by"))}function U(W,ie){1&W&&(t.\u0275\u0275element(0,"ds-error",9),t.\u0275\u0275pipe(1,"translate")),2&W&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"error.browse-by"))}function L(W,ie){if(1&W&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275element(1,"ds-themed-results-back-button",8),t.\u0275\u0275elementEnd()),2&W){const ce=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("back",ce.back)("buttonLabel",ce.buttonLabel)}}function j(W,ie){if(1&W&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,L,2,2,"div",10),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementStart(3,"div",11),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()),2&W){const ce=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,2,ce.shouldDisplayResetButton$)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"browse.empty")," ")}}const $=function(W){return{"sr-only":W}};function z(W,ie){if(1&W&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"h3",1),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,M,1,0,"ng-container",2),t.\u0275\u0275template(5,T,4,8,"div",3),t.\u0275\u0275template(6,g,2,3,"ds-themed-loading",4),t.\u0275\u0275template(7,U,2,3,"ds-error",4),t.\u0275\u0275template(8,j,6,6,"div",3),t.\u0275\u0275elementContainerEnd()),2&W){const ce=ie.ngVar,ne=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(10,$,ne.parentname)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,8,ne.title)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngComponentOutlet",ne.getStartsWithComponent())("ngComponentOutletInjector",ne.objectInjector),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==ce?null:ce.hasSucceeded)&&!(null!=ce&&ce.isLoading)&&(null==ce||null==ce.payload?null:ce.payload.page.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!ce||(null==ce?null:ce.isLoading)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==ce?null:ce.hasFailed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=ce&&ce.isLoading)&&0===(null==ce||null==ce.payload?null:ce.payload.page.length))}}let re=(()=>{class W{constructor(ce,ne,K,w){this.injector=ce,this.paginationService=ne,this.translateService=K,this.routeService=w,this.viewMode=p.w.ListElement,this.type=r.C4.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.sortDirections=n.S,this.previousPage$=new i.X("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}doPageSizeChange(ce){this.paginationService.updateRoute(this.paginationConfig.id,{pageSize:ce})}doSortDirectionChange(ce){this.paginationService.updateRoute(this.paginationConfig.id,{sortDirection:ce})}getStartsWithComponent(){return(0,r.a5)(this.type)}ngOnInit(){this.objectInjector=t.Injector.create({providers:[{provide:"startsWithOptions",useFactory:()=>this.startsWithOptions,deps:[]},{provide:"paginationId",useFactory:()=>this.paginationConfig?.id,deps:[]}],parent:this.injector});const ce=this.routeService.getQueryParameterValue("startsWith"),ne=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,d.a)([ce,ne]).pipe((0,m.U)(([K,w])=>(0,_.Uh)(K)||(0,_.Uh)(w))),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return W.\u0275fac=function(ce){return new(ce||W)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(l.N),t.\u0275\u0275directiveInject(v.sK),t.\u0275\u0275directiveInject(h.MZ))},W.\u0275cmp=t.\u0275\u0275defineComponent({type:W,selectors:[["ds-browse-by"]],inputs:{title:"title",parentname:"parentname",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},decls:2,vars:3,consts:[[4,"ngVar"],[3,"ngClass"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[4,"ngIf"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"config","sortConfig","showPaginator","objects","prev","next"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(ce,ne){1&ce&&(t.\u0275\u0275template(0,z,9,12,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&ce&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,ne.objects$))},dependencies:[y.i,O.mk,O.$G,O.O5,S.q,b.Z,o.c,D.g,O.Ov,v.X$],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[a.Ji,a.Ic]}}),W})()},92924:(R,c,e)=>{"use strict";e.d(c,{v:()=>m}),e(29941),e(94474);var a=e(35103),i=e(57999),d=e(76814),r=e(99927),l=e(94427),p=e(98678);let m=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275mod=p.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=p.\u0275\u0275defineInjector({imports:[d.I,r.f,l.y,a.ez,i.m]}),_})()},94474:(R,c,e)=>{"use strict";e.d(c,{h:()=>r});var t=e(98678),n=e(4682);function i(l,p){}e(86937);const d=["*"];let r=(()=>{class l extends n.F{constructor(){super(...arguments),this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.inAndOutputNames=["title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(h){return e(45285)(`./${h}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,29941))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=t.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-browse-by"]],inputs:{title:"title",parentname:"parentname",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,i,0,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",null,1),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd())},encapsulation:2}),l})()},52972:(R,c,e)=>{"use strict";e.r(c),e.d(c,{CollectionDropdownComponent:()=>W});var t=e(98678),n=e(5476),a=e(35841),i=e(14111),d=e(9237),r=e(3358),l=e(49887),p=e(9302),h=e(21160),m=e(69637),_=e(48358),v=e(32543),y=e(77176),O=e(45608),S=e(95445),b=e(46533),o=e(10572),D=e(8842),M=e(35103),C=e(60235),T=e(87657),g=e(96342);function U(ie,ce){if(1&ie&&(t.\u0275\u0275elementStart(0,"div",5)(1,"input",6,7),t.\u0275\u0275listener("click",function(K){return K.stopPropagation()}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&ie){const ne=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(3,2,"submission.sections.general.search-collection")),t.\u0275\u0275property("formControl",ne.searchField)}}function L(ie,ce){1&ie&&(t.\u0275\u0275elementStart(0,"li",8),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&ie&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"submission.sections.general.no-collection")," "))}function j(ie,ce){if(1&ie&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275text(1),t.\u0275\u0275element(2,"i",15),t.\u0275\u0275elementEnd()),2&ie){const ne=ce.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",ne.name," ")}}function $(ie,ce){if(1&ie){const ne=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",10),t.\u0275\u0275listener("click",function(){const Q=t.\u0275\u0275restoreView(ne).$implicit,oe=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(oe.onSelect(Q))}),t.\u0275\u0275elementStart(1,"div",11),t.\u0275\u0275template(2,j,3,1,"div",12),t.\u0275\u0275elementStart(3,"div",13),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()()}if(2&ie){const ne=ce.$implicit;t.\u0275\u0275propertyInterpolate("title",ne.collection.name),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",ne.communities),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(ne.collection.name)}}function z(ie,ce){if(1&ie&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,$,5,3,"li",9),t.\u0275\u0275elementContainerEnd()),2&ie){const ne=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",ne.searchListCollection)}}function re(ie,ce){1&ie&&(t.\u0275\u0275elementStart(0,"button",8),t.\u0275\u0275element(1,"ds-themed-loading",16),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&ie&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(2,1,"loading.default")))}let W=(()=>{class ie{constructor(ne,K,w,Q){this.changeDetectorRef=ne,this.collectionDataService=K,this.el=w,this.dsoNameService=Q,this.searchField=new n.p4,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.EventEmitter,this.isLoading=new a.X(!1),this.searchComplete=new t.EventEmitter,this.theOnlySelectable=new t.EventEmitter}onMousewheel(ne){ne.wheelDelta>0&&this.scrollableTop&&ne.preventDefault(),ne.wheelDelta<0&&this.scrollableBottom&&ne.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,r.b)(500),(0,l.x)(),(0,p.O)("")).subscribe(ne=>{(0,O.Uh)(ne)&&ne!==this.currentQuery&&(this.resetPagination(),this.currentQuery=ne,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(ne){this.scrollableBottom=ne.target.scrollTop+ne.target.clientHeight===ne.target.scrollHeight,this.scrollableTop=0===ne.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(ne){this.isLoading.next(!0),this.selectionChange.emit(ne)}populateCollectionList(ne,K){this.isLoading.next(!0);const w={elementsPerPage:10,currentPage:K};let Q;Q=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(ne,this.entityType,w,!0,(0,b.l)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(ne,w,!0,!0,(0,b.l)("parentCommunity")),this.searchListCollection$=Q.pipe((0,o.hC)(),(0,h.w)(oe=>(this.searchComplete.emit(),oe.hasSucceeded&&oe.payload.totalElements>0?(this.searchListCollection.length>=oe.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(oe),(0,i.D)(oe.payload.page).pipe((0,m.z)(q=>q.parentCommunity.pipe((0,o.Gp)(),(0,_.U)(ee=>({communities:[{id:ee.id,name:this.dsoNameService.getName(ee)}],collection:{id:q.id,uuid:q.id,name:this.dsoNameService.getName(q)}})))),(0,v.u)((q,ee)=>[...q,ee],[]))):(this.hasNextPage=!1,(0,d.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(oe=>{this.searchListCollection.push(...oe),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(ne=>(0,O.Uh)(ne)).forEach(ne=>ne.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(ne){this.isLoading.next(ne)}emitSelectionEvents(ne){if(1===ne.payload.totalElements){const K=ne.payload.page[0];ne.payload.page[0].parentCommunity.pipe((0,o.Gp)(),(0,y.q)(1)).subscribe(w=>{this.theOnlySelectable.emit({communities:[{id:w.id,name:this.dsoNameService.getName(w),uuid:w.id}],collection:{id:K.id,uuid:K.id,name:this.dsoNameService.getName(K)}})})}}}return ie.\u0275fac=function(ne){return new(ne||ie)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(S.W),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(D._))},ie.\u0275cmp=t.\u0275\u0275defineComponent({type:ie,selectors:[["ds-collection-dropdown"]],hostBindings:function(ne,K){1&ne&&t.\u0275\u0275listener("mousewheel",function(Q){return K.onMousewheel(Q)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},decls:8,vars:13,consts:[["class","form-group w-100 pr-2 pl-2",4,"ngIf"],[1,"dropdown-divider"],["aria-labelledby","dropdownMenuButton","infiniteScroll","",1,"scrollable-menu","p-0",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow","scroll","scrolled"],["class","dropdown-item disabled",4,"ngIf"],[4,"ngIf"],[1,"form-group","w-100","pr-2","pl-2"],["type","search",1,"form-control","w-100",3,"placeholder","formControl","click"],["searchFieldEl",""],[1,"dropdown-item","disabled"],["class","dropdown-item collection-item",3,"title","click",4,"ngFor","ngForOf"],[1,"dropdown-item","collection-item",3,"title","click"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[3,"message"]],template:function(ne,K){1&ne&&(t.\u0275\u0275template(0,U,4,4,"div",0),t.\u0275\u0275element(1,"div",1),t.\u0275\u0275elementStart(2,"ul",2),t.\u0275\u0275listener("scroll",function(Q){return K.onScroll(Q)})("scrolled",function(){return K.onScrollDown()}),t.\u0275\u0275template(3,L,3,3,"li",3),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275template(5,z,2,1,"ng-container",4),t.\u0275\u0275template(6,re,3,3,"button",3),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()),2&ne&&(t.\u0275\u0275property("ngIf",K.searchField),t.\u0275\u0275advance(2),t.\u0275\u0275property("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==(null==K.searchListCollection?null:K.searchListCollection.length)&&!t.\u0275\u0275pipeBind1(4,9,K.isLoading)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==K.searchListCollection?null:K.searchListCollection.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(7,11,K.isLoading)))},dependencies:[M.sg,M.O5,n.Fj,n.JJ,C.Ry,n.oH,T.Z,M.Ov,g.X$],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{left:0!important}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}"]}),ie})()},19829:(R,c,e)=>{"use strict";e.d(c,{t:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.searchComplete=new n.EventEmitter,this.theOnlySelectable=new n.EventEmitter,this.selectionChange=new n.EventEmitter,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(p){return e(13007)(`./${p}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,52972))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},80180:(R,c,e)=>{"use strict";e.d(c,{Z:()=>_});var t=e(44423),n=e(48358),a=e(77176),i=e(10572),d=e(45608),r=e(54140),l=e(65384),p=e(98678),h=e(67522),m=e(96342);let _=(()=>{class v{constructor(O,S,b,o,D){this.dsoDataService=O,this.router=S,this.route=b,this.notificationsService=o,this.translate=D}ngOnInit(){this.dsoRD$=this.route.parent.data.pipe((0,n.U)(O=>O.dso))}onSubmit(O){var S=this;const b=O.uploader,o=O.deleteLogo,D=(0,d.Uh)(b)&&b.queue.length>0;D&&this.dsoDataService.getLogoEndpoint(O.dso.uuid).pipe((0,a.q)(1)).subscribe(M=>{b.options.url=M,b.uploadAll()}),(0,d.xb)(O.operations)||this.dsoDataService.patch(O.dso,O.operations).pipe((0,i.hC)()).subscribe(function(){var M=(0,t.Z)(function*(C){C.hasSucceeded?(!D&&!o&&(yield S.router.navigate([S.frontendURL+O.dso.uuid])),S.notificationsService.success(null,S.translate.get(`${S.type.value}.edit.notifications.success`))):S.notificationsService.error(null,S.translate.get(403===C.statusCode?`${S.type.value}.edit.notifications.unauthorized`:`${S.type.value}.edit.notifications.error`))});return function(C){return M.apply(this,arguments)}}())}navigateToHomePage(){this.dsoRD$.pipe((0,i.xw)(),(0,a.q)(1)).subscribe(O=>{this.router.navigate([this.frontendURL+O.payload.id])})}}return v.\u0275fac=function(O){return new(O||v)(p.\u0275\u0275directiveInject(r.C),p.\u0275\u0275directiveInject(h.F0),p.\u0275\u0275directiveInject(h.gz),p.\u0275\u0275directiveInject(l.T),p.\u0275\u0275directiveInject(m.sK))},v.\u0275cmp=p.\u0275\u0275defineComponent({type:v,selectors:[["ds-comcol-metadata"]],decls:0,vars:0,template:function(O,S){},encapsulation:2}),v})()},10825:(R,c,e)=>{"use strict";e.d(c,{g:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["id","contentType"]}getComponentName(){return"ComcolPageBrowseByComponent"}importThemedComponent(p){return e(1266)(`./${p}/app/shared/comcol-page-browse-by/comcol-page-browse-by.component`)}importUnthemedComponent(){return e.e(22).then(e.bind(e,60022))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},74487:(R,c,e)=>{"use strict";e.d(c,{v:()=>p});var t=e(98678),n=e(35103),a=e(96342);function i(h,m){if(1&h&&(t.\u0275\u0275elementStart(0,"h2"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&h){const _=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,_.title))}}function d(h,m){if(1&h&&t.\u0275\u0275element(0,"div",4),2&h){const _=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("innerHtml",_.content,t.\u0275\u0275sanitizeHtml)}}function r(h,m){if(1&h&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&h){const _=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(_.content)}}function l(h,m){if(1&h&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,i,3,3,"h2",2),t.\u0275\u0275template(2,d,1,1,"div",3),t.\u0275\u0275template(3,r,2,1,"div",2),t.\u0275\u0275elementEnd()),2&h){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",_.title),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",_.hasInnerHtml),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!_.hasInnerHtml)}}let p=(()=>{class h{}return h.\u0275fac=function(_){return new(_||h)},h.\u0275cmp=t.\u0275\u0275defineComponent({type:h,selectors:[["ds-comcol-page-content"]],inputs:{title:"title",content:"content",hasInnerHtml:"hasInnerHtml"},decls:1,vars:1,consts:[["class","content-with-optional-title mb-2",4,"ngIf"],[1,"content-with-optional-title","mb-2"],[4,"ngIf"],[3,"innerHtml",4,"ngIf"],[3,"innerHtml"]],template:function(_,v){1&_&&t.\u0275\u0275template(0,l,4,3,"div",0),2&_&&t.\u0275\u0275property("ngIf",v.content)},dependencies:[n.O5,a.X$]}),h})()},87635:(R,c,e)=>{"use strict";e.d(c,{g:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["title","content"]}getComponentName(){return"ComcolPageHandleComponent"}importThemedComponent(p){return e(13922)(`./${p}/app/shared/comcol/comcol-page-handle/comcol-page-handle.component`)}importUnthemedComponent(){return e.e(8903).then(e.bind(e,8903))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-comcol-page-handle"]],inputs:{title:"title",content:"content"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},22369:(R,c,e)=>{"use strict";e.d(c,{U:()=>i});var t=e(98678),n=e(35103);function a(d,r){if(1&d&&(t.\u0275\u0275elementStart(0,"h1"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&d){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(l.name)}}let i=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-comcol-page-header"]],inputs:{name:"name"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(l,p){1&l&&t.\u0275\u0275template(0,a,2,1,"h1",0),2&l&&t.\u0275\u0275property("ngIf",p.name)},dependencies:[n.O5]}),d})()},62832:(R,c,e)=>{"use strict";e.d(c,{e:()=>d}),e(1535);var n=e(98678),a=e(35103);function i(r,l){if(1&r){const p=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",1)(1,"img",2),n.\u0275\u0275listener("error",function(m){n.\u0275\u0275restoreView(p);const _=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(_.errorHandler(m))}),n.\u0275\u0275elementEnd()()}if(2&r){const p=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("src",p.logo._links.content.href,n.\u0275\u0275sanitizeUrl),n.\u0275\u0275attribute("alt",p.alternateText?p.alternateText:null)}}let d=(()=>{class r{constructor(){this.holderSource="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2293%22%20height%3D%22120%22%20viewBox%3D%220%200%2093%20120%22%20preserveAspectRatio%3D%22none%22%3E%3C!--%0ASource%20URL%3A%20holder.js%2F93x120%3Ftext%3DNo%20Thumbnail%0ACreated%20with%20Holder.js%202.8.2.%0ALearn%20more%20at%20http%3A%2F%2Fholderjs.com%0A(c)%202012-2015%20Ivan%20Malopinsky%20-%20http%3A%2F%2Fimsky.co%0A--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C!%5BCDATA%5B%23holder_1543e460b05%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%5D%5D%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1543e460b05%22%3E%3Crect%20width%3D%2293%22%20height%3D%22120%22%20fill%3D%22%23EEEEEE%22%2F%3E%3Cg%3E%3Ctext%20x%3D%2235.6171875%22%20y%3D%2257%22%3ENo%3C%2Ftext%3E%3Ctext%20x%3D%2210.8125%22%20y%3D%2272%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}errorHandler(p){p.currentTarget.src=this.holderSource}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-comcol-page-logo"]],inputs:{logo:"logo",alternateText:"alternateText"},decls:1,vars:1,consts:[["class","dso-logo mb-3",4,"ngIf"],[1,"dso-logo","mb-3"],[1,"img-fluid",3,"src","error"]],template:function(p,h){1&p&&n.\u0275\u0275template(0,i,2,2,"div",0),2&p&&n.\u0275\u0275property("ngIf",h.logo)},dependencies:[a.O5]}),r})()},74207:(R,c,e)=>{"use strict";e.d(c,{Y:()=>h});var t=e(98678),a=(e(61750),e(8842)),i=e(65706),d=e(35103),r=e(96342);function l(m,_){if(1&m&&t.\u0275\u0275element(0,"i"),2&m){const v=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(v.confirmIcon)}}const p=function(m){return{dsoName:m}};let h=(()=>{class m{constructor(v,y){this.activeModal=v,this.dsoNameService=y,this.brandColor="primary",this.response=new t.EventEmitter}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}}return m.\u0275fac=function(v){return new(v||m)(t.\u0275\u0275directiveInject(i.Kz),t.\u0275\u0275directiveInject(a._))},m.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",dso:"dso"},outputs:{response:"response"},decls:20,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(v,y){1&v&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"button",1),t.\u0275\u0275listener("click",function(){return y.close()}),t.\u0275\u0275elementStart(5,"span",2),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",3)(8,"p"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",4)(12,"button",5),t.\u0275\u0275listener("click",function(){return y.cancelPressed()}),t.\u0275\u0275element(13,"i",6),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"button",7),t.\u0275\u0275listener("click",function(){return y.confirmPressed()}),t.\u0275\u0275template(17,l,1,3,"i",8),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()()),2&v&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind2(3,8,y.headerLabel,t.\u0275\u0275pureFunction1(20,p,y.dsoNameService.getName(y.dso)))," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(10,11,y.infoLabel,t.\u0275\u0275pureFunction1(22,p,y.dsoNameService.getName(y.dso)))),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(15,14,y.cancelLabel,t.\u0275\u0275pureFunction1(24,p,y.dsoNameService.getName(y.dso)))," "),t.\u0275\u0275advance(2),t.\u0275\u0275classMapInterpolate1("confirm btn btn-",y.brandColor,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",y.confirmIcon),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(19,17,y.confirmLabel,t.\u0275\u0275pureFunction1(26,p,y.dsoNameService.getName(y.dso)))," "))},dependencies:[d.O5,r.X$],encapsulation:2}),m})()},29219:(R,c,e)=>{"use strict";e.d(c,{$:()=>C});var t=e(35841),n=e(53426),a=e(49887),i=e(69637),d=e(48358),r=e(19515),l=e(45608),p=e(98678),h=e(96342),m=e(35103),_=e(65706);const v=["tooltip"];function y(T,g){if(1&T&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275elementStart(1,"a",6),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd()),2&T){const U=p.\u0275\u0275nextContext().$implicit;p.\u0275\u0275advance(1),p.\u0275\u0275propertyInterpolate("href",U.href,p.\u0275\u0275sanitizeUrl),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(U.text)}}function O(T,g){if(1&T&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275text(1),p.\u0275\u0275elementContainerEnd()),2&T){const U=p.\u0275\u0275nextContext().$implicit;p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",U," ")}}function S(T,g){if(1&T&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275template(1,y,3,2,"ng-container",5),p.\u0275\u0275template(2,O,2,1,"ng-container",5),p.\u0275\u0275elementContainerEnd()),2&T){const U=g.$implicit;p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",U.href),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",void 0===U.href)}}function b(T,g){if(1&T&&(p.\u0275\u0275elementStart(0,"div",3),p.\u0275\u0275template(1,S,3,2,"ng-container",4),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275elementEnd()),2&T){const U=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",p.\u0275\u0275pipeBind1(2,1,U.parsedContent$))}}const o=function(T,g){return{"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":T,"ds-context-help-icon-left":g}};function D(T,g){if(1&T){const U=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"i",7,8),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(U);const j=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(j.onClick())}),p.\u0275\u0275elementEnd()}if(2&T){const U=p.\u0275\u0275nextContext(),L=p.\u0275\u0275reference(1);p.\u0275\u0275property("ngClass",p.\u0275\u0275pureFunction2(3,o,"left"!==U.iconPlacement,"left"===U.iconPlacement))("ngbTooltip",L)("placement",U.tooltipPlacement)}}function M(T,g){1&T&&p.\u0275\u0275elementContainer(0)}let C=(()=>{class T{constructor(U,L){this.translateService=U,this.contextHelpService=L,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new t.X(!1),this.content$=new t.X(void 0),this.subs=[]}set dontParseLinks(U){this.dontParseLinks$.next(U)}set content(U){this.content$.next(U)}ngOnInit(){this.parsedContent$=(0,n.a)([this.content$.pipe((0,a.x)(),(0,i.z)(U=>this.translateService.get(U))),this.dontParseLinks$.pipe((0,a.x)())]).pipe((0,d.U)(([U,L])=>L?[U]:this.parseLinks(U))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip(U){this.tooltip=U,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,l.tz)()).subscribe(L=>{L.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!L.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks(U){const j=/^\[([^\]]*)\]\(([^\)]*)\)$/;return U.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map($=>{const z=$.match(j);return null===z?$:{href:z[2],text:z[1]}})}clearSubs(){this.subs.forEach(U=>U.unsubscribe()),this.subs=[]}}return T.\u0275fac=function(U){return new(U||T)(p.\u0275\u0275directiveInject(h.sK),p.\u0275\u0275directiveInject(r.p))},T.\u0275cmp=p.\u0275\u0275defineComponent({type:T,selectors:[["ds-context-help-wrapper"]],viewQuery:function(U,L){if(1&U&&p.\u0275\u0275viewQuery(v,5),2&U){let j;p.\u0275\u0275queryRefresh(j=p.\u0275\u0275loadQuery())&&(L.setTooltip=j.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},decls:5,vars:4,consts:[["help",""],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click"],["tooltip","ngbTooltip"]],template:function(U,L){1&U&&(p.\u0275\u0275template(0,b,3,3,"ng-template",null,0,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(2,D,2,6,"i",1),p.\u0275\u0275pipe(3,"async"),p.\u0275\u0275template(4,M,1,0,"ng-container",2)),2&U&&(p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",p.\u0275\u0275pipeBind1(3,2,L.shouldShowIcon$)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngTemplateOutlet",L.templateRef))},dependencies:[m.mk,m.sg,m.O5,m.tP,_._L,m.Ov],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]}),T})()},90314:(R,c,e)=>{"use strict";e.d(c,{E_:()=>l,IG:()=>p,Ts:()=>n,Y2:()=>d,bZ:()=>h,ee:()=>a,ux:()=>i});var t=e(49754);const n={CONTEXT_HELP_TOGGLE_ICONS:(0,t.d)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,t.d)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,t.d)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,t.d)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,t.d)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,t.d)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class a{constructor(){this.type=n.CONTEXT_HELP_TOGGLE_ICONS}}class i{constructor(_){this.type=n.CONTEXT_HELP_ADD,this.model=_}}class d{constructor(_){this.type=n.CONTEXT_HELP_REMOVE,this.id=_}}class r{constructor(_){this.id=_}}class l extends r{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_TOGGLE_TOOLTIP}}class p extends r{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_SHOW_TOOLTIP}}class h extends r{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_HIDE_TOOLTIP}}},44193:(R,c,e)=>{"use strict";e.d(c,{A:()=>i});var t=e(29219),n=e(19515),a=e(98678);let i=(()=>{class d{constructor(l,p,h,m){this.templateRef=l,this.viewContainerRef=p,this.componentFactoryResolver=h,this.contextHelpService=m,this.mostRecentId=void 0}ngOnChanges(){if(this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper){const l=this.componentFactoryResolver.resolveComponentFactory(t.$);this.wrapper=this.viewContainerRef.createComponent(l)}this.wrapper.instance.templateRef=this.templateRef,this.wrapper.instance.content=this.dsContextHelp.content,this.wrapper.instance.id=this.dsContextHelp.id,this.wrapper.instance.tooltipPlacement=this.dsContextHelp.tooltipPlacement,this.wrapper.instance.iconPlacement=this.dsContextHelp.iconPlacement}ngOnDestroy(){this.clearMostRecentId()}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}}return d.\u0275fac=function(l){return new(l||d)(a.\u0275\u0275directiveInject(a.TemplateRef),a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(n.p))},d.\u0275dir=a.\u0275\u0275defineDirective({type:d,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},features:[a.\u0275\u0275NgOnChangesFeature]}),d})()},19515:(R,c,e)=>{"use strict";e.d(c,{p:()=>h});var t=e(89702),n=e(90314),a=e(48358),i=e(98678);const d=(0,t.ZF)("contextHelp"),r=(0,t.P1)(d,m=>m.allIconsVisible),p=(0,t.P1)(d,m=>m.models);let h=(()=>{class m{constructor(v){this.store=v}shouldShowIcons$(){return this.store.pipe((0,t.Ys)(r))}getContextHelp$(v){return this.store.pipe((0,t.Ys)((m=>(0,t.P1)(d,_=>_.models[m]))(v)))}tooltipCount$(){return this.store.pipe((0,t.Ys)(p)).pipe((0,a.U)(v=>Object.keys(v).length))}toggleIcons(){this.store.dispatch(new n.ee)}add(v){this.store.dispatch(new n.ux(v))}remove(v){this.store.dispatch(new n.Y2(v))}toggleTooltip(v){this.store.dispatch(new n.E_(v))}showTooltip(v){this.store.dispatch(new n.IG(v))}hideTooltip(v){this.store.dispatch(new n.bZ(v))}}return m.\u0275fac=function(v){return new(v||m)(i.\u0275\u0275inject(t.yh))},m.\u0275prov=i.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},81640:(R,c,e)=>{"use strict";e.d(c,{D:()=>n});var t=e(98678);let n=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=t.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},710:(R,c,e)=>{"use strict";e.d(c,{iV:()=>v,UW:()=>b,UV:()=>_,qb:()=>o,bj:()=>O,Ks:()=>D});var t=e(65416);function n(M,C){if(C.length<M)throw new TypeError(M+" argument"+(M>1?"s":"")+" required, but only "+C.length+" present")}function a(M){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(M)}function d(M){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(M)}var p=e(90537),h=e.n(p),m=e(45608);function _(M){return h()(M)&&M.hasOwnProperty("day")&&M.hasOwnProperty("month")&&M.hasOwnProperty("year")}function v(M){const C=M instanceof Date?M:y("string"==typeof M?O(M):M);return(0,t.formatInTimeZone)(C,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function y(M){return new Date(Date.UTC(M.year,M.month-1,M.day))}function O(M){return function S(M){return(0,m.xI)(M)&&(M=new Date),{year:M.getUTCFullYear(),month:M.getUTCMonth()+1,day:M.getUTCDate()}}(new Date(M))}function b(M){const C=M instanceof Date?M:y(M);return(0,t.formatInTimeZone)(C,"UTC","yyyy-MM-dd")}function o(M){return!(0,m.xI)(M)&&function l(M){if(n(1,arguments),!function i(M){return n(1,arguments),M instanceof Date||"object"===a(M)&&"[object Date]"===Object.prototype.toString.call(M)}(M)&&"number"!=typeof M)return!1;var C=function r(M){n(1,arguments);var C=Object.prototype.toString.call(M);return M instanceof Date||"object"===d(M)&&"[object Date]"===C?new Date(M.getTime()):"number"==typeof M||"[object Number]"===C?new Date(M):(("string"==typeof M||"[object String]"===C)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(M);return!isNaN(Number(C))}(new Date(M))}function D(M){return o(M)?new Date(M).getUTCFullYear():null}},78154:(R,c,e)=>{"use strict";e.d(c,{N:()=>p});var t=e(98678),n=e(35103),a=e(65706),i=e(96342);function d(h,m){if(1&h&&(t.\u0275\u0275elementStart(0,"div",5)(1,"span",6),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&h){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,_.label)," ")}}const r=[[["",8,"selection"]],[["",8,"menu"]]],l=[".selection",".menu"];let p=(()=>{class h{constructor(){this.toggled=new t.EventEmitter,this.close=new t.EventEmitter}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275cmp=t.\u0275\u0275defineComponent({type:h,selectors:[["ds-select"]],inputs:{label:"label",disabled:"disabled"},outputs:{toggled:"toggled",close:"close"},ngContentSelectors:l,decls:8,vars:2,consts:[["ngbDropdown","",1,"btn-group",3,"openChange"],["class","input-group-prepend",4,"ngIf"],["aria-describedby","dsSelectMenuLabel","id","dsSelectMenuButton","ngbDropdownToggle","",1,"btn","btn-outline-primary","selection",3,"disabled","blur","click"],["ngbDropdownMenu","","id","dsSelectDropdownMenu","aria-labelledby","dsSelectMenuButton",1,"dropdown-menu"],["aria-labelledby","dropdownMenuButton"],[1,"input-group-prepend"],["id","dsSelectMenuLabel",1,"input-group-text"]],template:function(_,v){1&_&&(t.\u0275\u0275projectionDef(r),t.\u0275\u0275elementStart(0,"div")(1,"div",0),t.\u0275\u0275listener("openChange",function(O){return v.toggled.emit(O)}),t.\u0275\u0275template(2,d,4,3,"div",1),t.\u0275\u0275elementStart(3,"button",2),t.\u0275\u0275listener("blur",function(O){return v.close.emit(O)})("click",function(O){return v.close.emit(O)}),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",3)(6,"div",4),t.\u0275\u0275projection(7,1),t.\u0275\u0275elementEnd()()()()),2&_&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",v.label),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",v.disabled))},dependencies:[n.O5,a.jt,a.iD,a.Vi,i.X$]}),h})()},28252:(R,c,e)=>{"use strict";e.d(c,{M:()=>w});var t=e(9237),n=e(53426),a=e(80978),i=e(29306),d=e(35794),r=e(13005),l=e(10572),p=e(21160),h=e(48358),m=e(91179),_=e(65521),v=e(27303),y=e(9302),O=e(43550),S=e(33895),b=e(46342),o=e(29442),D=e(72910),M=e(64398),C=e(98678),T=e(65706),g=e(67522);let U=(()=>{class Q{constructor(q,ee,J,Ee,Oe,Re,ve){this.modalService=q,this.versionService=ee,this.versionHistoryService=J,this.itemVersionShared=Ee,this.router=Oe,this.workspaceItemDataService=Re,this.itemService=ve}openCreateVersionModal(q){const ee=q,J=ee._links.version.href,Ee=this.modalService.open(M.u);this.versionService.findByHref(J).pipe((0,l.hC)()).subscribe(Oe=>{Ee.componentInstance.firstVersion=Oe.hasNoContent,Ee.componentInstance.versionNumber=Oe.hasNoContent?void 0:Oe.payload.version}),Ee.componentInstance.createVersionEvent.pipe((0,p.w)(Oe=>this.versionHistoryService.createVersion(ee._links.self.href,Oe)),(0,l.hC)(),(0,v.b)(()=>Ee.close()),(0,v.b)(Oe=>{this.itemVersionShared.notifyCreateNewVersion(Oe)}),(0,l.Gp)(),(0,p.w)(Oe=>this.itemService.findByHref(Oe._links.item.href)),(0,l.Gp)(),(0,p.w)(Oe=>this.workspaceItemDataService.findByItem(Oe.uuid,!0,!1)),(0,l.Gp)()).subscribe(Oe=>{this.router.navigateByUrl("workspaceitems/"+Oe.id+"/edit")})}isNewVersionButtonDisabled(q){return this.versionHistoryService.hasDraftVersion$(q._links.version.href).pipe((0,h.U)(ee=>Boolean(ee)),(0,y.O)(!0))}getVersioningTooltipMessage(q,ee,J){return this.isNewVersionButtonDisabled(q).pipe((0,p.w)(Ee=>(0,t.of)(Ee?ee:J)))}}return Q.\u0275fac=function(q){return new(q||Q)(C.\u0275\u0275inject(T.FF),C.\u0275\u0275inject(O._),C.\u0275\u0275inject(S.Q),C.\u0275\u0275inject(D.D),C.\u0275\u0275inject(g.F0),C.\u0275\u0275inject(b.p),C.\u0275\u0275inject(o.S))},Q.\u0275prov=C.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();var L=e(45608),j=e(82126),$=e(27696),z=e(71213),re=e(81576),W=e(65384),ie=e(51603),ce=e(66234),ne=e(5378),K=e(96342);let w=(()=>{class Q{constructor(q,ee,J,Ee,Oe,Re,ve,Pe){this.dSpaceObjectDataService=q,this.menuService=ee,this.authorizationService=J,this.modalService=Ee,this.dsoVersioningModalService=Oe,this.researcherProfileService=Re,this.notificationsService=ve,this.translate=Pe}resolve(q,ee){let J=q.params.id;return(0,L.xI)(J)&&(0,L.Uh)(q.queryParams.scope)&&(J=q.queryParams.scope),(0,L.xI)(J)?(0,t.of)({...q.data?.menu}):this.dSpaceObjectDataService.findById(J,!0,!1).pipe((0,l.hC)(),(0,p.w)(Ee=>{if(Ee.hasSucceeded){const Oe=Ee.payload;return(0,n.a)(this.getDsoMenus(Oe,q,ee)).pipe((0,h.U)(Re=>[].concat.apply([],Re)),(0,h.U)(Re=>this.addDsoUuidToMenuIDs(Re,Oe)),(0,h.U)(Re=>({...q.data?.menu,[j.z.DSO_EDIT]:Re})))}return(0,t.of)({...q.data?.menu})}))}getDsoMenus(q,ee,J){return[this.getItemMenu(q),this.getComColMenu(q),this.getCommonMenu(q,J)]}getCommonMenu(q,ee){return(0,n.a)([this.authorizationService.isAuthorized(a.i.CanEditMetadata,q.self)]).pipe((0,h.U)(([J])=>[{id:"edit-dso",active:!1,visible:J,model:{type:$.U.LINK,text:this.getDsoType(q)+".page.edit",link:new _.R((0,z.Y4)(q),"edit","metadata").toString()},icon:"pencil-alt",index:2}]))}getItemMenu(q){return q instanceof r.c?(0,n.a)([this.authorizationService.isAuthorized(a.i.CanCreateVersion,q.self),this.dsoVersioningModalService.isNewVersionButtonDisabled(q),this.dsoVersioningModalService.getVersioningTooltipMessage(q,"item.page.version.hasDraft","item.page.version.create"),this.authorizationService.isAuthorized(a.i.CanSynchronizeWithORCID,q.self),this.authorizationService.isAuthorized(a.i.CanClaimItem,q.self)]).pipe((0,h.U)(([ee,J,Ee,Oe,Re])=>{const ve="person"===this.getDsoType(q);return[{id:"orcid-dso",active:!1,visible:ve&&Oe,model:{type:$.U.LINK,text:"item.page.orcid.tooltip",link:new _.R((0,z.Y4)(q),"orcid").toString()},icon:"orcid fab fa-lg",index:0},{id:"version-dso",active:!1,visible:ee,model:{type:$.U.ONCLICK,text:Ee,disabled:J,function:()=>{this.dsoVersioningModalService.openCreateVersionModal(q)}},icon:"code-branch",index:1},{id:"claim-dso",active:!1,visible:ve&&Re,model:{type:$.U.ONCLICK,text:"item.page.claim.button",function:()=>{this.claimResearcher(q)}},icon:"hand-paper",index:3}]})):(0,t.of)([])}getComColMenu(q){return q instanceof ce.S||q instanceof ne.F?(0,n.a)([this.authorizationService.isAuthorized(a.i.CanSubscribe,q.self)]).pipe((0,h.U)(([ee])=>[{id:"subscribe",active:!1,visible:ee,model:{type:$.U.ONCLICK,text:"subscriptions.tooltip",function:()=>{this.modalService.open(ie.W).componentInstance.dso=q}},icon:"bell",index:4}])):(0,t.of)([])}claimResearcher(q){this.researcherProfileService.createFromExternalSourceAndReturnRelatedItemId(q.self).subscribe(ee=>{(0,L.UE)(ee)?(this.notificationsService.success(this.translate.get("researcherprofile.success.claim.title"),this.translate.get("researcherprofile.success.claim.body")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.menuService.hideMenuSection(j.z.DSO_EDIT,"claim-dso-"+q.uuid)):this.notificationsService.error(this.translate.get("researcherprofile.error.claim.title"),this.translate.get("researcherprofile.error.claim.body"))})}getDsoType(q){const ee=q.getRenderTypes()[0];return"string"==typeof ee||ee instanceof String?ee.toLowerCase():q.type.toString().toLowerCase()}addDsoUuidToMenuIDs(q,ee){return q.map(J=>(Object.assign(J,{id:J.id+"-"+ee.uuid}),(0,L.Uh)(J.parentID)&&Object.assign(J,{parentID:J.parentID+"-"+ee.uuid}),J))}}return Q.\u0275fac=function(q){return new(q||Q)(C.\u0275\u0275inject(m.D),C.\u0275\u0275inject(i.h),C.\u0275\u0275inject(d._),C.\u0275\u0275inject(T.FF),C.\u0275\u0275inject(U),C.\u0275\u0275inject(re.E),C.\u0275\u0275inject(W.T),C.\u0275\u0275inject(K.sK))},Q.\u0275prov=C.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},56080:(R,c,e)=>{"use strict";e.d(c,{g:()=>_});var t=e(35794),n=e(48674),a=e(29306),i=e(34216),d=e(82126),r=e(98678),l=e(67522),p=e(35103);function h(v,y){1&v&&r.\u0275\u0275elementContainer(0)}function m(v,y){if(1&v&&(r.\u0275\u0275elementStart(0,"div",2),r.\u0275\u0275template(1,h,1,0,"ng-container",3),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()),2&v){const O=y.$implicit,S=r.\u0275\u0275nextContext();let b,o;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngComponentOutlet",null==(b=r.\u0275\u0275pipeBind1(2,2,S.sectionMap$).get(O.id))?null:b.component)("ngComponentOutletInjector",null==(o=r.\u0275\u0275pipeBind1(3,4,S.sectionMap$).get(O.id))?null:o.injector)}}let _=(()=>{class v extends n.M{constructor(O,S,b,o,D){super(O,S,b,o,D),this.menuService=O,this.injector=S,this.authorizationService=b,this.route=o,this.themeService=D,this.menuID=d.z.DSO_EDIT}}return v.\u0275fac=function(O){return new(O||v)(r.\u0275\u0275directiveInject(a.h),r.\u0275\u0275directiveInject(r.Injector),r.\u0275\u0275directiveInject(t._),r.\u0275\u0275directiveInject(l.gz),r.\u0275\u0275directiveInject(i.fY))},v.\u0275cmp=r.\u0275\u0275defineComponent({type:v,selectors:[["ds-dso-edit-menu"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ml-1",4,"ngFor","ngForOf"],[1,"ml-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(O,S){1&O&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,m,4,6,"div",1),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275elementEnd()),2&O&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,1,S.sections)))},dependencies:[p.$G,p.sg,p.Ov]}),v})()},87478:(R,c,e)=>{"use strict";e.d(c,{$:()=>z});var t=e(46182),n=e(57066),a=e(95445),i=e(10572),d=e(48358),r=e(42237),l=e(20942),p=e(46533),h=e(60012),m=e(45608),_=e(65384),v=e(8842),y=e(98678),O=e(96342),S=e(35103),b=e(5476),o=e(60235),D=e(87657),M=e(35534),C=e(60786);const T=function(re){return{type:re}};function g(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"button",9),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext(2);y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",y.\u0275\u0275pipeBind2(2,1,"dso-selector.no-results",y.\u0275\u0275pureFunction1(4,T,ie.typesString))," ")}}const U=function(re){return{"bg-primary":re}};function L(re,W){if(1&re){const ie=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"button",10,11),y.\u0275\u0275listener("click",function(){const K=y.\u0275\u0275restoreView(ie).$implicit,w=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(w.onClick(K))}),y.\u0275\u0275element(2,"ds-listable-object-component-loader",12),y.\u0275\u0275elementEnd()}if(2&re){const ie=W.$implicit,ce=y.\u0275\u0275nextContext(2);y.\u0275\u0275propertyInterpolate("title",ce.getName(ie)),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(6,U,ie.id===ce.currentDSOId)),y.\u0275\u0275advance(2),y.\u0275\u0275property("object",ie)("viewMode",ce.viewMode)("linkType",ce.linkTypes.None)("context",ce.getContext(ie.id))}}function j(re,W){if(1&re&&(y.\u0275\u0275elementContainerStart(0),y.\u0275\u0275template(1,g,3,6,"button",7),y.\u0275\u0275pipe(2,"async"),y.\u0275\u0275template(3,L,3,8,"button",8),y.\u0275\u0275pipe(4,"async"),y.\u0275\u0275elementContainerEnd()),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",0==y.\u0275\u0275pipeBind1(2,2,ie.listEntries$).length),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",y.\u0275\u0275pipeBind1(4,4,ie.listEntries$))}}function $(re,W){1&re&&(y.\u0275\u0275elementStart(0,"button",13),y.\u0275\u0275element(1,"ds-themed-loading",14),y.\u0275\u0275elementEnd()),2&re&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("showMessage",!1))}let z=(()=>{class re extends t.O{constructor(ie,ce,ne,K,w){super(ie,ne,K,w),this.searchService=ie,this.collectionDataService=ce,this.notifcationsService=ne,this.translate=K,this.dsoNameService=w}getCurrentDSOQuery(){return this.currentDSOId}search(ie,ce,ne=!0){let K=null;const w={currentPage:ce,elementsPerPage:this.defaultPagination.pageSize};return K=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(ie,this.entityType,w):this.collectionDataService.getAuthorizedCollection(ie,w,ne,!1,(0,p.l)("parentCommunity")),K.pipe((0,i.hC)(),(0,d.U)(Q=>Object.assign(new h.N(null,null,null,null),Q,{payload:(0,m.Uh)(Q.payload)?(0,l.b)(Q.payload.pageInfo,Q.payload.page.map(oe=>Object.assign(new r.o,{indexableObject:oe}))):null})))}}return re.\u0275fac=function(ie){return new(ie||re)(y.\u0275\u0275directiveInject(n.o),y.\u0275\u0275directiveInject(a.W),y.\u0275\u0275directiveInject(_.T),y.\u0275\u0275directiveInject(O.sK),y.\u0275\u0275directiveInject(v._))},re.\u0275cmp=y.\u0275\u0275defineComponent({type:re,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},features:[y.\u0275\u0275InheritDefinitionFeature],decls:9,vars:15,consts:[[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"placeholder","formControl","click","keyup.enter"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title","click"],["listEntryElement",""],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry"],[3,"showMessage"]],template:function(ie,ce){1&ie&&(y.\u0275\u0275elementStart(0,"div",0)(1,"input",1),y.\u0275\u0275listener("click",function(K){return K.stopPropagation()})("keyup.enter",function(){return ce.selectSingleResult()}),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(3,"div",2),y.\u0275\u0275elementStart(4,"div",3)(5,"div",4),y.\u0275\u0275listener("scrolled",function(){return ce.onScrollDown()}),y.\u0275\u0275template(6,j,5,6,"ng-container",5),y.\u0275\u0275pipe(7,"async"),y.\u0275\u0275template(8,$,2,1,"button",6),y.\u0275\u0275elementEnd()()),2&ie&&(y.\u0275\u0275advance(1),y.\u0275\u0275propertyInterpolate("placeholder",y.\u0275\u0275pipeBind2(2,8,"dso-selector.placeholder",y.\u0275\u0275pureFunction1(13,T,ce.typesString))),y.\u0275\u0275property("formControl",ce.input),y.\u0275\u0275advance(4),y.\u0275\u0275property("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer",".scrollable-menu")("fromRoot",!0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(7,11,ce.listEntries$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",ce.loading))},dependencies:[S.mk,S.sg,S.O5,b.Fj,b.JJ,o.Ry,b.oH,D.Z,M.p,C.P,S.Ov,O.X$],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]}),re})()},46182:(R,c,e)=>{"use strict";e.d(c,{O:()=>q});var t=e(98678),n=e(5476),a=e(35841),i=e(9237),d=e(53426),r=e(3358),l=e(9302),p=e(27303),h=e(21160),m=e(48358),_=e(57066),v=e(64455),y=e(40772),O=e(41529),S=e(97462),b=e(10572),o=e(45608),D=e(20942),M=e(65384),C=e(8842),T=e(28143),g=e(91957),U=e(32588),L=e(96342),j=e(35103),$=e(60235),z=e(87657),re=e(35534),W=e(60786);const ie=["listEntryElement"],ce=function(ee){return{type:ee}};function ne(ee,J){if(1&ee&&(t.\u0275\u0275elementStart(0,"button",9),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&ee){const Ee=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"dso-selector.no-results",t.\u0275\u0275pureFunction1(4,ce,Ee.typesString))," ")}}const K=function(ee){return{"bg-primary":ee}};function w(ee,J){if(1&ee){const Ee=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",10,11),t.\u0275\u0275listener("click",function(){const ve=t.\u0275\u0275restoreView(Ee).$implicit,Pe=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(Pe.onClick(ve))}),t.\u0275\u0275element(2,"ds-listable-object-component-loader",12),t.\u0275\u0275elementEnd()}if(2&ee){const Ee=J.$implicit,Oe=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("title",Oe.getName(Ee)),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,K,Ee.id===Oe.currentDSOId)),t.\u0275\u0275advance(2),t.\u0275\u0275property("object",Ee)("viewMode",Oe.viewMode)("linkType",Oe.linkTypes.None)("context",Oe.getContext(Ee.id))}}function Q(ee,J){if(1&ee&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ne,3,6,"button",7),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,w,3,8,"button",8),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementContainerEnd()),2&ee){const Ee=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==t.\u0275\u0275pipeBind1(2,2,Ee.listEntries$).length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(4,4,Ee.listEntries$))}}function oe(ee,J){1&ee&&(t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275element(1,"ds-themed-loading",14),t.\u0275\u0275elementEnd()),2&ee&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("showMessage",!1))}let q=(()=>{class ee{constructor(Ee,Oe,Re,ve){this.searchService=Ee,this.notifcationsService=Oe,this.translate=Re,this.dsoNameService=ve,this.viewMode=O.w.ListElement,this.onSelect=new t.EventEmitter,this.input=new n.p4,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new a.X(null),this.currentPage$=new a.X(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=v.m,this.subs=[]}ngOnInit(){let Ee;this.typesString=this.types.map(Oe=>Oe.toString().toLowerCase()).join(", "),Ee=(0,o.UE)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,b.Gp)()):(0,i.of)((0,D.b)(void 0,[])),this.subs.push((0,d.a)(Ee,this.input.valueChanges.pipe((0,r.b)(this.debounceTime),(0,l.O)(""),(0,p.b)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,h.w)(([Oe,Re,ve])=>(this.loading=!0,1===ve&&this.listEntries$.next(null),this.search(Re,ve).pipe((0,m.U)(Pe=>(Pe.hasSucceeded?Pe.payload.page=[...(0,o.xb)(Re)&&1===ve?Oe.page:[],...Pe.payload.page.filter(et=>(0,o.UE)(Re)||et.indexableObject.id!==this.currentDSOId)]:Pe.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),Pe.errorMessage),Pe)))))).subscribe(Oe=>{this.updateList(Oe)}))}updateList(Ee){this.loading=!1;const Oe=this.listEntries$.getValue();Ee.hasSucceeded?((0,o.xI)(Oe)?this.listEntries$.next(Ee.payload.page):this.listEntries$.next([...Oe,...Ee.payload.page]),this.hasNextPage=Ee.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,o.xI)(Oe)?[]:this.listEntries$.getValue(),new T.h(g.k.Error,"dso-selector.results-could-not-be-retrieved",U.k.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(Ee,Oe,Re=!0){let ve=Ee?null:this.sort;return this.searchService.search(new y.t({query:Ee,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:Oe}),sort:ve}),null,Re).pipe((0,b.hC)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(Ee){return Ee===this.currentDSOId?S._.SideBarSearchModalCurrent:S._.SideBarSearchModal}ngOnDestroy(){this.subs.filter(Ee=>(0,o.Uh)(Ee)).forEach(Ee=>Ee.unsubscribe())}onClick(Ee){(0,o.Uh)(Ee.indexableObject)?this.onSelect.emit(Ee.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,b.hC)()).subscribe(Oe=>{this.updateList(Oe)}))}getName(Ee){return(0,o.Uh)(Ee.indexableObject)?this.dsoNameService.getName(Ee.indexableObject):null}}return ee.\u0275fac=function(Ee){return new(Ee||ee)(t.\u0275\u0275directiveInject(_.o),t.\u0275\u0275directiveInject(M.T),t.\u0275\u0275directiveInject(L.sK),t.\u0275\u0275directiveInject(C._))},ee.\u0275cmp=t.\u0275\u0275defineComponent({type:ee,selectors:[["ds-dso-selector"]],viewQuery:function(Ee,Oe){if(1&Ee&&t.\u0275\u0275viewQuery(ie,5),2&Ee){let Re;t.\u0275\u0275queryRefresh(Re=t.\u0275\u0275loadQuery())&&(Oe.listElements=Re)}},inputs:{currentDSOId:"currentDSOId",types:"types",sort:"sort"},outputs:{onSelect:"onSelect"},decls:9,vars:15,consts:[[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"placeholder","formControl","click","keyup.enter"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title","click"],["listEntryElement",""],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry"],[3,"showMessage"]],template:function(Ee,Oe){1&Ee&&(t.\u0275\u0275elementStart(0,"div",0)(1,"input",1),t.\u0275\u0275listener("click",function(ve){return ve.stopPropagation()})("keyup.enter",function(){return Oe.selectSingleResult()}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(3,"div",2),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4),t.\u0275\u0275listener("scrolled",function(){return Oe.onScrollDown()}),t.\u0275\u0275template(6,Q,5,6,"ng-container",5),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275template(8,oe,2,1,"button",6),t.\u0275\u0275elementEnd()()),2&Ee&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind2(2,8,"dso-selector.placeholder",t.\u0275\u0275pureFunction1(13,ce,Oe.typesString))),t.\u0275\u0275property("formControl",Oe.input),t.\u0275\u0275advance(4),t.\u0275\u0275property("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer",".scrollable-menu")("fromRoot",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(7,11,Oe.listEntries$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",Oe.loading))},dependencies:[j.mk,j.sg,j.O5,n.Fj,n.JJ,$.Ry,n.oH,z.Z,re.p,W.P,j.Ov,L.X$],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]}),ee})()},58622:(R,c,e)=>{"use strict";e.r(c),e.d(c,{CreateCollectionParentSelectorComponent:()=>y});var t=e(37683),n=e(18453),a=e(42620),i=e(42281),d=e(76774),r=e(98678),l=e(65706),p=e(67522),h=e(35103),m=e(46182),_=e(96342);function v(O,S){if(1&O&&(r.\u0275\u0275elementStart(0,"h5",6),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementEnd()),2&O){const b=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(2,1,b.header))}}let y=(()=>{class O extends n.q{constructor(b,o,D){super(b,o),this.activeModal=b,this.route=o,this.router=D,this.objectType=t.h.COLLECTION,this.selectorTypes=[t.h.COMMUNITY],this.action=n.i.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new i.o(d.N.comcolSelectionSort.sortField,d.N.comcolSelectionSort.sortDirection)}navigate(b){const o={queryParams:{[a.Cp]:b.uuid}};this.router.navigate([(0,a.E1)()],o)}}return O.\u0275fac=function(b){return new(b||O)(r.\u0275\u0275directiveInject(l.Kz),r.\u0275\u0275directiveInject(p.gz),r.\u0275\u0275directiveInject(p.F0))},O.\u0275cmp=r.\u0275\u0275defineComponent({type:O,selectors:[["ds-create-collection-parent-selector"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(b,o){1&b&&(r.\u0275\u0275elementStart(0,"div")(1,"div",0),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"button",1),r.\u0275\u0275listener("click",function(){return o.close()}),r.\u0275\u0275elementStart(5,"span",2),r.\u0275\u0275text(6,"\xd7"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(7,"div",3),r.\u0275\u0275template(8,v,3,3,"h5",4),r.\u0275\u0275elementStart(9,"ds-dso-selector",5),r.\u0275\u0275listener("onSelect",function(M){return o.selectObject(M)}),r.\u0275\u0275elementEnd()()()),2&b&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,5,"dso-selector."+o.action+"."+o.objectType.toString().toLowerCase()+".head")," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngIf",o.header),r.\u0275\u0275advance(1),r.\u0275\u0275property("currentDSOId",null==o.dsoRD?null:o.dsoRD.payload.uuid)("types",o.selectorTypes)("sort",o.defaultSort))},dependencies:[h.O5,m.O,_.X$],encapsulation:2}),O})()},89221:(R,c,e)=>{"use strict";e.d(c,{i:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(p){return e(50470)(`./${p}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,58622))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-create-collection-parent-selector"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},18174:(R,c,e)=>{"use strict";e.r(c),e.d(c,{CreateCommunityParentSelectorComponent:()=>v});var t=e(37683),n=e(45608),a=e(18453),i=e(25584),d=e(42281),r=e(76774),l=e(98678),p=e(65706),h=e(67522),m=e(46182),_=e(96342);let v=(()=>{class y extends a.q{constructor(S,b,o){super(S,b),this.activeModal=S,this.route=b,this.router=o,this.objectType=t.h.COMMUNITY,this.selectorTypes=[t.h.COMMUNITY],this.action=a.i.CREATE,this.defaultSort=new d.o(r.N.comcolSelectionSort.sortField,r.N.comcolSelectionSort.sortDirection)}navigate(S){let b={};(0,n.Uh)(S)&&(b={queryParams:{[i.jI]:S.uuid}}),this.router.navigate([(0,i.wH)()],b)}}return y.\u0275fac=function(S){return new(S||y)(l.\u0275\u0275directiveInject(p.Kz),l.\u0275\u0275directiveInject(h.gz),l.\u0275\u0275directiveInject(h.F0))},y.\u0275cmp=l.\u0275\u0275defineComponent({type:y,selectors:[["ds-create-community-parent-selector"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2"],[3,"currentDSOId","types","sort","onSelect"]],template:function(S,b){1&S&&(l.\u0275\u0275elementStart(0,"div")(1,"div",0),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementStart(4,"button",1),l.\u0275\u0275listener("click",function(){return b.close()}),l.\u0275\u0275elementStart(5,"span",2),l.\u0275\u0275text(6,"\xd7"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(7,"div",3)(8,"button",4),l.\u0275\u0275listener("click",function(){return b.selectObject(void 0)}),l.\u0275\u0275text(9),l.\u0275\u0275pipe(10,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"h3",5),l.\u0275\u0275element(12,"hr"),l.\u0275\u0275elementStart(13,"div",6)(14,"span",7),l.\u0275\u0275text(15),l.\u0275\u0275pipe(16,"translate"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(17,"h5",8),l.\u0275\u0275text(18),l.\u0275\u0275pipe(19,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"ds-dso-selector",9),l.\u0275\u0275listener("onSelect",function(D){return b.selectObject(D)}),l.\u0275\u0275elementEnd()()()),2&S&&(l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind1(3,7,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),l.\u0275\u0275advance(7),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(10,9,"dso-selector.create.community.top-level")),l.\u0275\u0275advance(6),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(16,11,"dso-selector.create.community.or-divider")),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(19,13,"dso-selector.create.community.sub-level")),l.\u0275\u0275advance(2),l.\u0275\u0275property("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[m.O,_.X$],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]}),y})()},4549:(R,c,e)=>{"use strict";e.d(c,{e:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(p){return e(76971)(`./${p}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,18174))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-create-community-parent-selector"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},2055:(R,c,e)=>{"use strict";e.r(c),e.d(c,{CreateItemParentSelectorComponent:()=>v});var t=e(37683),n=e(18453),a=e(42281),i=e(76774),d=e(98678),r=e(65706),l=e(67522),p=e(35103),h=e(87478),m=e(96342);function _(y,O){if(1&y&&(d.\u0275\u0275elementStart(0,"h5",6),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&y){const S=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,S.header))}}let v=(()=>{class y extends n.q{constructor(S,b,o){super(S,b),this.activeModal=S,this.route=b,this.router=o,this.objectType=t.h.ITEM,this.selectorTypes=[t.h.COLLECTION],this.action=n.i.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new a.o(i.N.comcolSelectionSort.sortField,i.N.comcolSelectionSort.sortDirection)}navigate(S){const b={queryParams:{collection:S.uuid}};this.entityType&&(b.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],b)}}return y.\u0275fac=function(S){return new(S||y)(d.\u0275\u0275directiveInject(r.Kz),d.\u0275\u0275directiveInject(l.gz),d.\u0275\u0275directiveInject(l.F0))},y.\u0275cmp=d.\u0275\u0275defineComponent({type:y,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},features:[d.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","entityType","types","onSelect"],[1,"px-2"]],template:function(S,b){1&S&&(d.\u0275\u0275elementStart(0,"div")(1,"div",0),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementStart(4,"button",1),d.\u0275\u0275listener("click",function(){return b.close()}),d.\u0275\u0275elementStart(5,"span",2),d.\u0275\u0275text(6,"\xd7"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(7,"div",3),d.\u0275\u0275template(8,_,3,3,"h5",4),d.\u0275\u0275elementStart(9,"ds-authorized-collection-selector",5),d.\u0275\u0275listener("onSelect",function(D){return b.selectObject(D)}),d.\u0275\u0275elementEnd()()()),2&S&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",b.header),d.\u0275\u0275advance(1),d.\u0275\u0275property("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("entityType",b.entityType)("types",b.selectorTypes))},dependencies:[p.O5,h.$,m.X$],encapsulation:2}),y})()},42553:(R,c,e)=>{"use strict";e.d(c,{g:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(p){return e(48345)(`./${p}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,2055))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-create-item-parent-selector"]],inputs:{entityType:"entityType"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},18453:(R,c,e)=>{"use strict";e.d(c,{i:()=>d,q:()=>r});var t=e(45608),n=e(98678),a=e(65706),i=e(67522),d=(()=>{return(l=d||(d={})).CREATE="create",l.EDIT="edit",l.EXPORT_METADATA="export-metadata",l.IMPORT_BATCH="import-batch",l.SET_SCOPE="set-scope",l.EXPORT_BATCH="export-batch",d;var l})();let r=(()=>{class l{constructor(h,m){this.activeModal=h,this.route=m}ngOnInit(){const h=this.findRouteData(m=>(0,t.Uh)(m.data.dso),this.route.root.snapshot);(0,t.Uh)(h)&&(this.dsoRD=h.data.dso)}findRouteData(h,...m){const _=m.find(h);if((0,t.Uh)(_))return _;{const v=m.map(y=>y.children).reduce((y,O)=>[...y,...O]);return(0,t.UE)(v)?this.findRouteData(h,...v):void 0}}selectObject(h){this.close(),this.navigate(h)}close(){this.activeModal.close()}}return l.\u0275fac=function(h){return new(h||l)(n.\u0275\u0275directiveInject(a.Kz),n.\u0275\u0275directiveInject(i.gz))},l.\u0275cmp=n.\u0275\u0275defineComponent({type:l,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",header:"header"},decls:0,vars:0,template:function(h,m){},encapsulation:2}),l})()},77102:(R,c,e)=>{"use strict";e.r(c),e.d(c,{EditCollectionSelectorComponent:()=>y});var t=e(37683),n=e(18453),a=e(42620),i=e(42281),d=e(76774),r=e(98678),l=e(65706),p=e(67522),h=e(35103),m=e(46182),_=e(96342);function v(O,S){if(1&O&&(r.\u0275\u0275elementStart(0,"h5",6),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementEnd()),2&O){const b=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(2,1,b.header))}}let y=(()=>{class O extends n.q{constructor(b,o,D){super(b,o),this.activeModal=b,this.route=o,this.router=D,this.objectType=t.h.COLLECTION,this.selectorTypes=[t.h.COLLECTION],this.action=n.i.EDIT,this.defaultSort=new i.o(d.N.comcolSelectionSort.sortField,d.N.comcolSelectionSort.sortDirection)}navigate(b){this.router.navigate([(0,a.Ou)(b.uuid)])}}return O.\u0275fac=function(b){return new(b||O)(r.\u0275\u0275directiveInject(l.Kz),r.\u0275\u0275directiveInject(p.gz),r.\u0275\u0275directiveInject(p.F0))},O.\u0275cmp=r.\u0275\u0275defineComponent({type:O,selectors:[["ds-edit-collection-selector"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(b,o){1&b&&(r.\u0275\u0275elementStart(0,"div")(1,"div",0),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"button",1),r.\u0275\u0275listener("click",function(){return o.close()}),r.\u0275\u0275elementStart(5,"span",2),r.\u0275\u0275text(6,"\xd7"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(7,"div",3),r.\u0275\u0275template(8,v,3,3,"h5",4),r.\u0275\u0275elementStart(9,"ds-dso-selector",5),r.\u0275\u0275listener("onSelect",function(M){return o.selectObject(M)}),r.\u0275\u0275elementEnd()()()),2&b&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,5,"dso-selector."+o.action+"."+o.objectType.toString().toLowerCase()+".head")," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngIf",o.header),r.\u0275\u0275advance(1),r.\u0275\u0275property("currentDSOId",null==o.dsoRD?null:o.dsoRD.payload.uuid)("types",o.selectorTypes)("sort",o.defaultSort))},dependencies:[h.O5,m.O,_.X$],encapsulation:2}),O})()},41280:(R,c,e)=>{"use strict";e.d(c,{A:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(p){return e(42864)(`./${p}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,77102))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-edit-collection-selector"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},81443:(R,c,e)=>{"use strict";e.r(c),e.d(c,{EditCommunitySelectorComponent:()=>y});var t=e(37683),n=e(18453),a=e(25584),i=e(42281),d=e(76774),r=e(98678),l=e(65706),p=e(67522),h=e(35103),m=e(46182),_=e(96342);function v(O,S){if(1&O&&(r.\u0275\u0275elementStart(0,"h5",6),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementEnd()),2&O){const b=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(2,1,b.header))}}let y=(()=>{class O extends n.q{constructor(b,o,D){super(b,o),this.activeModal=b,this.route=o,this.router=D,this.objectType=t.h.COMMUNITY,this.selectorTypes=[t.h.COMMUNITY],this.action=n.i.EDIT,this.defaultSort=new i.o(d.N.comcolSelectionSort.sortField,d.N.comcolSelectionSort.sortDirection)}navigate(b){this.router.navigate([(0,a.xm)(b.uuid)])}}return O.\u0275fac=function(b){return new(b||O)(r.\u0275\u0275directiveInject(l.Kz),r.\u0275\u0275directiveInject(p.gz),r.\u0275\u0275directiveInject(p.F0))},O.\u0275cmp=r.\u0275\u0275defineComponent({type:O,selectors:[["ds-edit-community-selector"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(b,o){1&b&&(r.\u0275\u0275elementStart(0,"div")(1,"div",0),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"button",1),r.\u0275\u0275listener("click",function(){return o.close()}),r.\u0275\u0275elementStart(5,"span",2),r.\u0275\u0275text(6,"\xd7"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(7,"div",3),r.\u0275\u0275template(8,v,3,3,"h5",4),r.\u0275\u0275elementStart(9,"ds-dso-selector",5),r.\u0275\u0275listener("onSelect",function(M){return o.selectObject(M)}),r.\u0275\u0275elementEnd()()()),2&b&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,5,"dso-selector."+o.action+"."+o.objectType.toString().toLowerCase()+".head")," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngIf",o.header),r.\u0275\u0275advance(1),r.\u0275\u0275property("currentDSOId",null==o.dsoRD?null:o.dsoRD.payload.uuid)("types",o.selectorTypes)("sort",o.defaultSort))},dependencies:[h.O5,m.O,_.X$],encapsulation:2}),O})()},22119:(R,c,e)=>{"use strict";e.d(c,{p:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(p){return e(59258)(`./${p}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,81443))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-edit-community-selector"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},35057:(R,c,e)=>{"use strict";e.r(c),e.d(c,{EditItemSelectorComponent:()=>_});var t=e(37683),n=e(18453),a=e(15463),i=e(98678),d=e(65706),r=e(67522),l=e(35103),p=e(46182),h=e(96342);function m(v,y){if(1&v&&(i.\u0275\u0275elementStart(0,"h5",6),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&v){const O=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,O.header))}}let _=(()=>{class v extends n.q{constructor(O,S,b){super(O,S),this.activeModal=O,this.route=S,this.router=b,this.objectType=t.h.ITEM,this.selectorTypes=[t.h.ITEM],this.action=n.i.EDIT}navigate(O){this.router.navigate([(0,a.tn)(O)])}}return v.\u0275fac=function(O){return new(O||v)(i.\u0275\u0275directiveInject(d.Kz),i.\u0275\u0275directiveInject(r.gz),i.\u0275\u0275directiveInject(r.F0))},v.\u0275cmp=i.\u0275\u0275defineComponent({type:v,selectors:[["ds-edit-item-selector"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:10,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","onSelect"],[1,"px-2"]],template:function(O,S){1&O&&(i.\u0275\u0275elementStart(0,"div")(1,"div",0),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementStart(4,"button",1),i.\u0275\u0275listener("click",function(){return S.close()}),i.\u0275\u0275elementStart(5,"span",2),i.\u0275\u0275text(6,"\xd7"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(7,"div",3),i.\u0275\u0275template(8,m,3,3,"h5",4),i.\u0275\u0275elementStart(9,"ds-dso-selector",5),i.\u0275\u0275listener("onSelect",function(o){return S.selectObject(o)}),i.\u0275\u0275elementEnd()()()),2&O&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1("",i.\u0275\u0275pipeBind1(3,4,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),i.\u0275\u0275advance(6),i.\u0275\u0275property("ngIf",S.header),i.\u0275\u0275advance(1),i.\u0275\u0275property("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes))},dependencies:[l.O5,p.O,h.X$],encapsulation:2}),v})()},45968:(R,c,e)=>{"use strict";e.d(c,{z:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(p){return e(21554)(`./${p}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,35057))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-edit-item-selector"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},52244:(R,c,e)=>{"use strict";e.d(c,{P:()=>L});var t=e(9237),n=e(21160),a=e(48358),i=e(75286),d=e(5378),r=e(37683),l=e(2910),p=e(74207),h=e(45608),m=e(65384),_=e(41121),v=e(18453),y=e(10572),O=e(74423),S=e(35794),b=e(80978),o=e(98678),D=e(65706),M=e(67522),C=e(96342),T=e(35103),g=e(46182);function U(j,$){if(1&j&&(o.\u0275\u0275elementStart(0,"h5",6),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&j){const z=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,1,z.header))}}let L=(()=>{class j extends v.q{constructor(z,re,W,ie,ce,ne,K,w){super(z,re),this.activeModal=z,this.route=re,this.router=W,this.notificationsService=ie,this.translationService=ce,this.scriptDataService=ne,this.authorizationDataService=K,this.modalService=w,this.objectType=r.h.DSPACEOBJECT,this.selectorTypes=[r.h.COLLECTION],this.action=v.i.EXPORT_BATCH}navigate(z){if(z instanceof d.F){const re=this.modalService.open(p.Y);re.componentInstance.dso=z,re.componentInstance.headerLabel="confirmation-modal.export-batch.header",re.componentInstance.infoLabel="confirmation-modal.export-batch.info",re.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",re.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",re.componentInstance.confirmIcon="fas fa-file-export";const W=re.componentInstance.response.pipe((0,n.w)(ie=>{if(ie)return this.startScriptNotifyAndRedirect(z).pipe((0,n.w)(ne=>(0,t.of)(ne)));this.modalService.open(j).componentInstance.dsoRD=(0,_.AC)(z)}));return W.subscribe(),W}return(0,t.of)(!1)}startScriptNotifyAndRedirect(z){const re=[Object.assign(new l.N,{name:"--id",value:z.uuid}),Object.assign(new l.N,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(b.i.AdministratorOf).pipe((0,n.w)(()=>this.scriptDataService.invoke(i.Q_,re,[])),(0,y.hC)(),(0,a.U)(W=>{if(W.hasSucceeded){const ie=this.translationService.get("process.new.notification.success.title"),ce=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ie,ce),(0,h.UE)(W.payload)&&this.router.navigateByUrl((0,O.Ah)(W.payload.processId)),!0}{const ie=this.translationService.get("process.new.notification.error.title"),ce=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ie,ce),!1}}))}}return j.\u0275fac=function(z){return new(z||j)(o.\u0275\u0275directiveInject(D.Kz),o.\u0275\u0275directiveInject(M.gz),o.\u0275\u0275directiveInject(M.F0),o.\u0275\u0275directiveInject(m.T),o.\u0275\u0275directiveInject(C.sK),o.\u0275\u0275directiveInject(i.UY),o.\u0275\u0275directiveInject(S._),o.\u0275\u0275directiveInject(D.FF))},j.\u0275cmp=o.\u0275\u0275defineComponent({type:j,selectors:[["ds-export-metadata-selector"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(z,re){1&z&&(o.\u0275\u0275elementStart(0,"div")(1,"div",0),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementStart(4,"button",1),o.\u0275\u0275listener("click",function(){return re.close()}),o.\u0275\u0275elementStart(5,"span",2),o.\u0275\u0275text(6,"\xd7"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(7,"div",3),o.\u0275\u0275template(8,U,3,3,"h5",4),o.\u0275\u0275elementStart(9,"ds-dso-selector",5),o.\u0275\u0275listener("onSelect",function(ie){return re.selectObject(ie)}),o.\u0275\u0275elementEnd()()()),2&z&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1("",o.\u0275\u0275pipeBind1(3,5,"dso-selector."+re.action+"."+re.objectType.toString().toLowerCase()+".head")," "),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",re.header),o.\u0275\u0275advance(1),o.\u0275\u0275property("currentDSOId",null==re.dsoRD?null:re.dsoRD.payload.uuid)("types",re.selectorTypes)("sort",re.defaultSort))},dependencies:[T.O5,g.O,C.X$],encapsulation:2}),j})()},63100:(R,c,e)=>{"use strict";e.d(c,{T:()=>j});var t=e(9237),n=e(21160),a=e(48358),i=e(75286),d=e(5378),r=e(66234),l=e(37683),p=e(2910),h=e(74207),m=e(45608),_=e(65384),v=e(41121),y=e(18453),O=e(10572),S=e(74423),b=e(35794),o=e(80978),D=e(98678),M=e(65706),C=e(67522),T=e(96342),g=e(35103),U=e(46182);function L($,z){if(1&$&&(D.\u0275\u0275elementStart(0,"h5",6),D.\u0275\u0275text(1),D.\u0275\u0275pipe(2,"translate"),D.\u0275\u0275elementEnd()),2&$){const re=D.\u0275\u0275nextContext();D.\u0275\u0275advance(1),D.\u0275\u0275textInterpolate(D.\u0275\u0275pipeBind1(2,1,re.header))}}let j=(()=>{class $ extends y.q{constructor(re,W,ie,ce,ne,K,w,Q){super(re,W),this.activeModal=re,this.route=W,this.router=ie,this.notificationsService=ce,this.translationService=ne,this.scriptDataService=K,this.authorizationDataService=w,this.modalService=Q,this.objectType=l.h.DSPACEOBJECT,this.selectorTypes=[l.h.COLLECTION,l.h.COMMUNITY],this.action=y.i.EXPORT_METADATA}navigate(re){if(re instanceof d.F||re instanceof r.S){const W=this.modalService.open(h.Y);W.componentInstance.dso=re,W.componentInstance.headerLabel="confirmation-modal.export-metadata.header",W.componentInstance.infoLabel="confirmation-modal.export-metadata.info",W.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",W.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",W.componentInstance.confirmIcon="fas fa-file-export";const ie=W.componentInstance.response.pipe((0,n.w)(ce=>{if(ce)return this.startScriptNotifyAndRedirect(re).pipe((0,n.w)(K=>(0,t.of)(K)));this.modalService.open($).componentInstance.dsoRD=(0,v.AC)(re)}));return ie.subscribe(),ie}return(0,t.of)(!1)}startScriptNotifyAndRedirect(re){const W=[Object.assign(new p.N,{name:"-i",value:re.uuid})];return this.authorizationDataService.isAuthorized(o.i.AdministratorOf).pipe((0,n.w)(ie=>(ie&&W.push(Object.assign(new p.N,{name:"-a"})),this.scriptDataService.invoke(i.BW,W,[]))),(0,O.hC)(),(0,a.U)(ie=>{if(ie.hasSucceeded){const ce=this.translationService.get("process.new.notification.success.title"),ne=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ce,ne),(0,m.UE)(ie.payload)&&this.router.navigateByUrl((0,S.Ah)(ie.payload.processId)),!0}{const ce=this.translationService.get("process.new.notification.error.title"),ne=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ce,ne),!1}}))}}return $.\u0275fac=function(re){return new(re||$)(D.\u0275\u0275directiveInject(M.Kz),D.\u0275\u0275directiveInject(C.gz),D.\u0275\u0275directiveInject(C.F0),D.\u0275\u0275directiveInject(_.T),D.\u0275\u0275directiveInject(T.sK),D.\u0275\u0275directiveInject(i.UY),D.\u0275\u0275directiveInject(b._),D.\u0275\u0275directiveInject(M.FF))},$.\u0275cmp=D.\u0275\u0275defineComponent({type:$,selectors:[["ds-export-metadata-selector"]],features:[D.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(re,W){1&re&&(D.\u0275\u0275elementStart(0,"div")(1,"div",0),D.\u0275\u0275text(2),D.\u0275\u0275pipe(3,"translate"),D.\u0275\u0275elementStart(4,"button",1),D.\u0275\u0275listener("click",function(){return W.close()}),D.\u0275\u0275elementStart(5,"span",2),D.\u0275\u0275text(6,"\xd7"),D.\u0275\u0275elementEnd()()(),D.\u0275\u0275elementStart(7,"div",3),D.\u0275\u0275template(8,L,3,3,"h5",4),D.\u0275\u0275elementStart(9,"ds-dso-selector",5),D.\u0275\u0275listener("onSelect",function(ce){return W.selectObject(ce)}),D.\u0275\u0275elementEnd()()()),2&re&&(D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate1("",D.\u0275\u0275pipeBind1(3,5,"dso-selector."+W.action+"."+W.objectType.toString().toLowerCase()+".head")," "),D.\u0275\u0275advance(6),D.\u0275\u0275property("ngIf",W.header),D.\u0275\u0275advance(1),D.\u0275\u0275property("currentDSOId",null==W.dsoRD?null:W.dsoRD.payload.uuid)("types",W.selectorTypes)("sort",W.defaultSort))},dependencies:[g.O5,U.O,T.X$],encapsulation:2}),$})()},6465:(R,c,e)=>{"use strict";e.d(c,{w:()=>v});var t=e(98678),n=e(5378),a=e(37683),i=e(18453),d=e(9237),r=e(65706),l=e(67522),p=e(35103),h=e(46182),m=e(96342);function _(y,O){if(1&y&&(t.\u0275\u0275elementStart(0,"h5",6),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const S=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,S.header))}}let v=(()=>{class y extends i.q{constructor(S,b){super(S,b),this.activeModal=S,this.route=b,this.objectType=a.h.DSPACEOBJECT,this.selectorTypes=[a.h.COLLECTION],this.action=i.i.IMPORT_BATCH,this.response=new t.EventEmitter}navigate(S){return S instanceof n.F?(this.response.emit(S),(0,d.of)(null)):(this.response.emit(null),(0,d.of)(null))}}return y.\u0275fac=function(S){return new(S||y)(t.\u0275\u0275directiveInject(r.Kz),t.\u0275\u0275directiveInject(l.gz))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["ds-import-batch-selector"]],outputs:{response:"response"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","px-2",4,"ngIf"],[3,"currentDSOId","types","sort","onSelect"],[1,"px-2"]],template:function(S,b){1&S&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"button",1),t.\u0275\u0275listener("click",function(){return b.close()}),t.\u0275\u0275elementStart(5,"span",2),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",3),t.\u0275\u0275template(8,_,3,3,"h5",4),t.\u0275\u0275elementStart(9,"ds-dso-selector",5),t.\u0275\u0275listener("onSelect",function(D){return b.selectObject(D)}),t.\u0275\u0275elementEnd()()()),2&S&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",b.header),t.\u0275\u0275advance(1),t.\u0275\u0275property("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[p.O5,h.O,m.X$],encapsulation:2}),y})()},45608:(R,c,e)=>{"use strict";e.d(c,{Ft:()=>n,K0:()=>a,UE:()=>m,Uh:()=>l,iy:()=>_,o8:()=>i,pT:()=>d,tz:()=>p,xI:()=>r,xb:()=>h});var t=e(77007);function n(O){return null===O}function a(O){return null!==O}function i(O){return void 0===O}function d(O){return void 0!==O}function r(O){return i(O)||n(O)}function l(O){return d(O)&&a(O)}const p=()=>O=>O.pipe((0,t.h)(S=>l(S)));function h(O){if(r(O))return!0;if("number"==typeof O.size)return!O.size;const S=typeof O;if("object"===S){const b=O.size;if("number"==typeof b)return!b}if("number"==typeof O.length&&"function"!==S)return!O.length;if("object"===S){if(0===Object.keys(O).length)return!0;const b=O.length;if("number"==typeof b)return!b}return!1}function m(O){return!h(O)}const _=()=>O=>O.pipe((0,t.h)(S=>m(S)))},61062:(R,c,e)=>{"use strict";e.d(c,{c:()=>b});var t=e(98678),n=e(35841),a=e(45608),i=e(21160),d=e(32543),r=e(9302),l=e(86435),p=e(10572),h=e(35103),m=e(60235),_=e(87657),v=e(96342);function y(o,D){1&o&&(t.\u0275\u0275elementStart(0,"button",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"submission.sections.general.no-entity")," "))}function O(o,D){if(1&o){const M=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",4),t.\u0275\u0275listener("click",function(){const g=t.\u0275\u0275restoreView(M).$implicit,U=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(U.onSelect(g))}),t.\u0275\u0275elementStart(1,"ul",5)(2,"li",6),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()()}if(2&o){const M=D.$implicit;t.\u0275\u0275propertyInterpolate("title",M.label),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,2,M.label.toLowerCase()+".listelement.badge"))}}function S(o,D){1&o&&(t.\u0275\u0275elementStart(0,"button",3),t.\u0275\u0275element(1,"ds-themed-loading",7),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(2,1,"loading.default")))}let b=(()=>{class o{constructor(M,C,T){this.changeDetectorRef=M,this.entityTypeService=C,this.el=T,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.EventEmitter,this.isLoadingList=new n.X(!1),this.subs=[]}onMousewheel(M){M.wheelDelta>0&&this.scrollableTop&&M.preventDefault(),M.wheelDelta<0&&this.scrollableBottom&&M.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(M){this.scrollableBottom=M.target.scrollTop+M.target.clientHeight===M.target.scrollHeight,this.scrollableTop=0===M.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(M){this.selectionChange.emit(M)}populateEntityList(M){this.isLoadingList.next(!0);const C={elementsPerPage:10,currentPage:M};let T;T=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(C):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(C),this.searchListEntity$=T.pipe((0,p.JV)(),(0,i.w)(g=>(this.searchListEntity.length+C.elementsPerPage>=g.payload.totalElements&&(this.hasNextPage=!1),g.payload.page)),(0,d.u)((g,U)=>[...g,U],[]),(0,r.O)([])),this.subs.push(this.searchListEntity$.subscribe(g=>{this.searchListEntity.push(...g)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(M){this.isLoadingList.next(M)}ngOnDestroy(){this.subs.filter(M=>(0,a.Uh)(M)).forEach(M=>M.unsubscribe())}}return o.\u0275fac=function(M){return new(M||o)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(l.k),t.\u0275\u0275directiveInject(t.ElementRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,C){1&M&&t.\u0275\u0275listener("mousewheel",function(g){return C.onMousewheel(g)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},decls:6,vars:12,consts:[["aria-labelledby","dropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow","scroll","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item entity-item",3,"title","click",4,"ngFor","ngForOf"],[1,"dropdown-item","disabled"],[1,"dropdown-item","entity-item",3,"title","click"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],[3,"message"]],template:function(M,C){1&M&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("scroll",function(g){return C.onScroll(g)})("scrolled",function(){return C.onScrollDown()}),t.\u0275\u0275template(1,y,3,3,"button",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,O,5,4,"button",2),t.\u0275\u0275template(4,S,3,3,"button",1),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()),2&M&&(t.\u0275\u0275property("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==(null==C.searchListEntity?null:C.searchListEntity.length)&&!t.\u0275\u0275pipeBind1(2,8,C.isLoadingList)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",C.searchListEntity),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,10,C.isLoadingList)))},dependencies:[h.sg,h.O5,m.Ry,_.Z,h.Ov,v.X$],styles:[".list-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.entity-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{left:0!important}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}"]}),o})()},94520:(R,c,e)=>{"use strict";e.d(c,{W:()=>C});var t=e(98678),n=e(35841),a=e(48358),i=e(24112),d=e.n(i),r=e(45180),l=e(45608),p=e(8842),h=e(99558),m=e(25056),_=e(58106),v=e(10572),y=e(81323),O=e(6144),S=e(1411);function b(T,g){if(1&T){const U=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-eperson-search-box",3),t.\u0275\u0275listener("search",function(j){t.\u0275\u0275restoreView(U);const $=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView($.onSearch(j))}),t.\u0275\u0275elementEnd()}}function o(T,g){if(1&T){const U=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-group-search-box",3),t.\u0275\u0275listener("search",function(j){t.\u0275\u0275restoreView(U);const $=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView($.onSearch(j))}),t.\u0275\u0275elementEnd()}}function D(T,g){if(1&T){const U=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr"),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"td"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"td"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"td",7)(7,"button",9),t.\u0275\u0275listener("click",function(){const $=t.\u0275\u0275restoreView(U).$implicit,z=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(z.emitSelect($))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()()}if(2&T){const U=g.$implicit,L=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("table-primary",t.\u0275\u0275pipeBind1(1,5,L.isSelected(U))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(U.id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(L.dsoNameService.getName(U)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function M(T,g){if(1&T&&(t.\u0275\u0275elementStart(0,"ds-pagination",4),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"th"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"th"),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"tbody"),t.\u0275\u0275template(16,D,10,9,"tr",8),t.\u0275\u0275pipe(17,"async"),t.\u0275\u0275elementEnd()()()()),2&T){const U=t.\u0275\u0275nextContext();let L,j;t.\u0275\u0275property("paginationOptions",U.paginationOptions)("collectionSize",null==(L=t.\u0275\u0275pipeBind1(1,8,U.getList()))||null==L.payload?null:L.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==(j=t.\u0275\u0275pipeBind1(17,16,U.getList()))||null==j.payload?null:j.payload.page)}}let C=(()=>{class T{constructor(U,L,j){this.dsoNameService=U,this.parentInjector=L,this.paginationService=j,this.isListOfEPerson=!0,this.select=new t.EventEmitter,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new r.r,this.list$=new n.X({}),this.entrySelectedId=new n.X(""),this.subs=[]}ngOnInit(){const L=(0,S.p)(this.isListOfEPerson?h.U:m.o);this.dataService=t.Injector.create({providers:[],parent:this.parentInjector}).get(L),this.paginationOptions.id=d()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}emitSelect(U){this.select.emit(U),this.entrySelectedId.next(U.id)}getList(){return this.list$.asObservable()}isSelected(U){return this.entrySelectedId.asObservable().pipe((0,a.U)(L=>(0,l.UE)(L)&&L===U.id))}onSearch(U){this.currentSearchQuery=U.query,this.currentSearchScope=U.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(U,L){(0,l.Uh)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(j=>{const $=Object.assign({},new O.R,{elementsPerPage:j.pageSize,currentPage:j.currentPage}),z=this.isListOfEPerson?this.dataService.searchByScope(U,L,$):this.dataService.searchGroups(L,$);this.subs.push(z.pipe((0,v.hC)()).subscribe(re=>{(0,l.Uh)(this.list$)&&this.list$.next(re)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(U=>(0,l.Uh)(U)).forEach(U=>U.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}}return T.\u0275fac=function(U){return new(U||T)(t.\u0275\u0275directiveInject(p._),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(y.N))},T.\u0275cmp=t.\u0275\u0275defineComponent({type:T,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(U,L){if(1&U&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,b,1,0,"ds-eperson-search-box",1),t.\u0275\u0275template(2,o,1,0,"ds-group-search-box",1),t.\u0275\u0275template(3,M,18,18,"ds-pagination",2),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&U){let j;t.\u0275\u0275property("@fadeInOut",void 0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",L.isListOfEPerson),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!L.isListOfEPerson),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(j=t.\u0275\u0275pipeBind1(4,4,L.getList()))||null==j.payload?null:j.payload.totalElements)>0)}},data:{animation:[_.Ic]}}),T})()},64719:(R,c,e)=>{"use strict";e.d(c,{q:()=>d});var t=e(60987),n=e(98678),a=e(96342),i=e(87586);let d=(()=>{class r{constructor(p){this.translate=p,this.message="Error...",this.AlertTypeEnum=t.N}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(p=>{this.message=p}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}}return r.\u0275fac=function(p){return new(p||r)(n.\u0275\u0275directiveInject(a.sK))},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-error"]],inputs:{message:"message"},decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(p,h){1&p&&(n.\u0275\u0275elementStart(0,"ds-alert",0),n.\u0275\u0275element(1,"span",1),n.\u0275\u0275elementEnd()),2&p&&(n.\u0275\u0275property("type",h.AlertTypeEnum.Error)("dismissible",!1),n.\u0275\u0275advance(1),n.\u0275\u0275property("innerHTML",h.message,n.\u0275\u0275sanitizeHtml))},dependencies:[i.w]}),r})()},52545:(R,c,e)=>{"use strict";e.r(c),e.d(c,{FileDownloadLinkComponent:()=>o}),e(1535);var n=e(71213),a=e(35794),i=e(80978),d=e(45608),r=e(48358),l=e(53426),p=e(9237),m=(e(13005),e(98678)),_=e(35103),v=e(67522);function y(D,M){1&D&&(m.\u0275\u0275elementStart(0,"span",4),m.\u0275\u0275element(1,"i",5),m.\u0275\u0275elementEnd())}function O(D,M){1&D&&m.\u0275\u0275elementContainer(0)}function S(D,M){1&D&&m.\u0275\u0275projection(0)}const b=["*"];let o=(()=>{class D{constructor(C){this.authorizationService=C,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(i.i.CanDownload,(0,d.UE)(this.bitstream)?this.bitstream.self:void 0);const C=this.authorizationService.isAuthorized(i.i.CanRequestACopy,(0,d.UE)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,l.a)([this.canDownload$,C]).pipe((0,r.U)(([T,g])=>this.getBitstreamPath(T,g)))}else this.bitstreamPath$=(0,p.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,p.of)(!0)}getBitstreamPath(C,T){return!C&&T&&(0,d.Uh)(this.item)?(0,n.gL)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,n.gs)(this.bitstream),queryParams:{}}}}return D.\u0275fac=function(C){return new(C||D)(m.\u0275\u0275directiveInject(a._))},D.\u0275cmp=m.\u0275\u0275defineComponent({type:D,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},ngContentSelectors:b,decls:8,vars:12,consts:[[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["class","pr-1",4,"ngIf"],[4,"ngTemplateOutlet"],["content",""],[1,"pr-1"],[1,"fas","fa-lock"]],template:function(C,T){if(1&C&&(m.\u0275\u0275projectionDef(),m.\u0275\u0275elementStart(0,"a",0),m.\u0275\u0275pipe(1,"async"),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275template(3,y,2,0,"span",1),m.\u0275\u0275pipe(4,"async"),m.\u0275\u0275template(5,O,1,0,"ng-container",2),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,S,1,0,"ng-template",null,3,m.\u0275\u0275templateRefExtractor)),2&C){const g=m.\u0275\u0275reference(7);let U,L;m.\u0275\u0275property("routerLink",null==(U=m.\u0275\u0275pipeBind1(1,6,T.bitstreamPath$))?null:U.routerLink)("queryParams",null==(L=m.\u0275\u0275pipeBind1(2,8,T.bitstreamPath$))?null:L.queryParams)("target",T.isBlank?"_blank":"_self")("ngClass",T.cssClasses),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",!m.\u0275\u0275pipeBind1(4,10,T.canDownload$)),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngTemplateOutlet",g)}},dependencies:[_.mk,_.O5,_.tP,v.rH,_.Ov]}),D})()},50122:(R,c,e)=>{"use strict";e.d(c,{t:()=>l});var t=e(4682),i=(e(1535),e(13005),e(98678));function d(p,h){}const r=["*"];let l=(()=>{class p extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(m){return e(27935)(`./${m}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,52545))}}return p.\u0275fac=function(){let h;return function(_){return(h||(h=i.\u0275\u0275getInheritedFactory(p)))(_||p)}}(),p.\u0275cmp=i.\u0275\u0275defineComponent({type:p,selectors:[["ds-themed-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},features:[i.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:r,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,_){1&m&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275template(0,d,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementStart(2,"div",null,1),i.\u0275\u0275projection(4),i.\u0275\u0275elementEnd())},encapsulation:2}),p})()},82882:(R,c,e)=>{"use strict";e.d(c,{Q:()=>t,n:()=>n});const t="RELATION",n="#PLACEHOLDER_PARENT_METADATA_VALUE#"},83064:(R,c,e)=>{"use strict";e.d(c,{H:()=>O,t:()=>y});var t=e(98678),a=(e(26533),e(45608)),i=e(5737),d=e(35103),r=e(94667),l=e.n(r),p=e(5476),h=e(61738);function m(S,b){1&S&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"*"),t.\u0275\u0275elementEnd())}const _=function(S,b){return[S,b]};function v(S,b){if(1&S&&(t.\u0275\u0275elementStart(0,"legend",6),t.\u0275\u0275text(1),t.\u0275\u0275template(2,m,2,0,"span",7),t.\u0275\u0275elementEnd()),2&S){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("id","legend_"+o.model.id)("ngClass",t.\u0275\u0275pureFunction2(4,_,o.getClass("element","label"),o.getClass("grid","label"))),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.model.placeholder," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.model.required)}}const y="-";let O=(()=>{class S extends i.LvC{constructor(o,D,M,C){super(o,D),this.layoutService=o,this.validationService=D,this.renderer=M,this._document=C,this.bindId=!0,this.selected=new t.EventEmitter,this.remove=new t.EventEmitter,this.blur=new t.EventEmitter,this.change=new t.EventEmitter,this.focus=new t.EventEmitter,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.yearPlaceholder="year",this.monthPlaceholder="month",this.dayPlaceholder="day",this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const o=new Date;if(this.initialYear=o.getUTCFullYear(),this.initialMonth=o.getUTCMonth()+1,this.initialDay=o.getUTCDate(),this.model&&null!==this.model.value){const D=this.model.value.toString().split(y);D.length>0&&(this.initialYear=parseInt(D[0],10),this.year=this.initialYear,this.disabledMonth=!1),D.length>1&&(this.initialMonth=parseInt(D[1],10),this.month=this.initialMonth,this.disabledDay=!1),D.length>2&&(this.initialDay=parseInt(D[2],10),this.day=this.initialDay)}this.maxYear=o.getUTCFullYear()+100}onBlur(o){this.blur.emit()}onChange(o){switch(o.field){case"year":null!==o.value?this.year=o.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==o.value?this.month=o.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==o.value?o.value:void 0}if(!this.disabledDay){const C=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay(C),this.day>this.maxDay&&(this.day=this.maxDay)}(0,a.Uh)(this.year)&&"year"===o.field?this.disabledMonth=!1:(0,a.Uh)(this.month)&&"month"===o.field&&(this.disabledDay=!1);let D=null;if((0,a.Uh)(this.year)){let M=this.year.toString();for(;M.length<4;)M="0"+M;D=M}if((0,a.Uh)(this.month)){const M=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();D+=y+M}if((0,a.Uh)(this.day)){const M=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();D+=y+M}this.model.value=D,this.change.emit(D)}onTabKeydown(o){o.preventDefault();const D=this._document.activeElement;D.blur();const M=this.selectedFieldIndex(D);if(M<0)return;let C=M+1;C<this.fields.length&&this.focusInput(this.fields[C])}onShiftTabKeyDown(o){o.preventDefault();const D=this._document.activeElement;D.blur();let C=this.selectedFieldIndex(D)-1;C>=0&&this.focusInput(this.fields[C])}selectedFieldIndex(o){return this.fields.findIndex(D=>l()(o.id,this.model.id.concat(D)))}focusInput(o){const D=this._document.getElementById(this.model.id.concat(o));D&&((0,a.Uh)(this.year)&&l()(o,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,a.Uh)(this.year)&&l()(o,"_month")?this.disabledMonth=!1:(0,a.Uh)(this.month)&&l()(o,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(D).focus()},100))}onFocus(o){this.focus.emit(o)}getLastDay(o){return o.setMonth(o.getMonth()+1,0),o.getDate()}}return S.\u0275fac=function(o){return new(o||S)(t.\u0275\u0275directiveInject(i.vnf),t.\u0275\u0275directiveInject(i.fhz),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(d.K0))},S.\u0275cmp=t.\u0275\u0275defineComponent({type:S,selectors:[["ds-date-picker"]],hostBindings:function(o,D){1&o&&t.\u0275\u0275listener("keydown.tab",function(C){return D.onTabKeydown(C)})("keydown.shift.tab",function(C){return D.onShiftTabKeyDown(C)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:7,vars:29,consts:[[1,"d-flex"],[3,"id","ngClass",4,"ngIf"],["tabindex","1",3,"id","disabled","min","max","name","size","ngModel","value","invalid","placeholder","ngModelChange","blur","change","focus"],["tabindex","2",3,"id","min","max","name","size","ngModel","value","placeholder","disabled","ngModelChange","blur","change","focus"],["tabindex","3",3,"id","min","max","name","size","ngModel","value","placeholder","disabled","ngModelChange","blur","change","focus"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(o,D){1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"fieldset",0),t.\u0275\u0275template(2,v,3,7,"legend",1),t.\u0275\u0275elementStart(3,"ds-number-picker",2),t.\u0275\u0275listener("ngModelChange",function(C){return D.initialYear=C})("blur",function(C){return D.onBlur(C)})("change",function(C){return D.onChange(C)})("focus",function(C){return D.onFocus(C)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ds-number-picker",3),t.\u0275\u0275listener("ngModelChange",function(C){return D.initialMonth=C})("blur",function(C){return D.onBlur(C)})("change",function(C){return D.onChange(C)})("focus",function(C){return D.onFocus(C)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"ds-number-picker",4),t.\u0275\u0275listener("ngModelChange",function(C){return D.initialDay=C})("blur",function(C){return D.onBlur(C)})("change",function(C){return D.onChange(C)})("focus",function(C){return D.onFocus(C)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(6,"div",5)),2&o&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!D.model.repeatable),t.\u0275\u0275advance(1),t.\u0275\u0275property("id",D.model.id+"_year")("disabled",D.model.disabled)("min",D.minYear)("max",D.maxYear)("name","year")("size",4)("ngModel",D.initialYear)("value",D.year)("invalid",D.showErrorMessages)("placeholder",D.yearPlaceholder),t.\u0275\u0275advance(1),t.\u0275\u0275property("id",D.model.id+"_month")("min",D.minMonth)("max",D.maxMonth)("name","month")("size",6)("ngModel",D.initialMonth)("value",D.month)("placeholder",D.monthPlaceholder)("disabled",!D.year||D.model.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("id",D.model.id+"_day")("min",D.minDay)("max",D.maxDay)("name","day")("size",2)("ngModel",D.initialDay)("value",D.day)("placeholder",D.dayPlaceholder)("disabled",!D.month||D.model.disabled))},dependencies:[d.mk,d.O5,p.JJ,p.On,h.g],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial}"]}),S})()},26533:(R,c,e)=>{"use strict";e.d(c,{L:()=>l,R:()=>p});var t=e(70655),n=e(5737),a=e(35841),i=e(1828),d=e(45608),r=e(57512);const l="DATE";class p extends n.x7Z{constructor(m,_){super(m,_),this.type=l,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=m.legend,this.metadataValue=m.metadataValue,this.typeBindRelations=m.typeBindRelations?m.typeBindRelations:[],this.hiddenUpdates=new a.X(this.hidden),this.repeatable=m.repeatable;const v=this.getRootParent(this);v&&(0,d.pT)(v.hidden)&&(v.hidden=this.hidden)}getRootParent(m){return(0,d.xb)(m)||(0,d.xb)(m.parent)?m:this.getRootParent(m.parent)}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",i.x)],p.prototype,"hiddenUpdates",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],p.prototype,"typeBindRelations",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],p.prototype,"type",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",r.DA)],p.prototype,"metadataValue",void 0)},57359:(R,c,e)=>{"use strict";e.d(c,{O:()=>d,W:()=>i});var t=e(70655),n=e(5737),a=e(66144);const i="EMPTY";class d extends a.u{constructor(l,p){super(l,p),this.type=i,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=l.hasSelectableMetadata,this.value=l.value}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],d.prototype,"hasSelectableMetadata",void 0)},66144:(R,c,e)=>{"use strict";e.d(c,{u:()=>p});var t=e(70655),n=e(5737),a=e(1828),i=e(62692),d=e(45608),r=e(31042),l=e(17568);class p extends n.b1u{constructor(m,_){super(m,_),this.typeBindHidden=!1,this.repeatable=m.repeatable,this.metadataFields=m.metadataFields,this.hint=m.hint,this.readOnly=m.readOnly,this.disabled=m.readOnly,this.value=m.value,this.relationship=m.relationship,this.submissionId=m.submissionId,this.hasSelectableMetadata=m.hasSelectableMetadata,this.metadataValue=m.metadataValue,this.place=m.place,this.isModelOfInnerForm=!!(0,d.Uh)(m.isModelOfInnerForm)&&m.isModelOfInnerForm,this.hideErrorMessages=m.hideErrorMessages,this.language=m.language,this.language||(m.value instanceof r.u?this.language=m.value.language:Array.isArray(m.value)&&m.value[0].language&&(this.language=m.value[0].language)),this.languageCodes=m.languageCodes,this.languageUpdates=new a.x,this.languageUpdates.subscribe(v=>{this.language=v}),this.typeBindRelations=m.typeBindRelations?m.typeBindRelations:[],this.vocabularyOptions=m.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,d.Uh)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(m){this._language=m}get languageCodes(){return this._languageCodes}set languageCodes(m){this._languageCodes=m,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",i.f)],p.prototype,"vocabularyOptions",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],p.prototype,"_languageCodes",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],p.prototype,"_language",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",a.x)],p.prototype,"languageUpdates",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],p.prototype,"place",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],p.prototype,"typeBindRelations",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Object)],p.prototype,"typeBindHidden",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",l.u)],p.prototype,"relationship",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],p.prototype,"repeatable",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],p.prototype,"metadataFields",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],p.prototype,"submissionId",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],p.prototype,"hasSelectableMetadata",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",r.u)],p.prototype,"metadataValue",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],p.prototype,"isModelOfInnerForm",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],p.prototype,"hideErrorMessages",void 0)},77846:(R,c,e)=>{"use strict";e.d(c,{v:()=>d});var t=e(70655),n=e(5737),a=e(17568),i=e(45608);class d extends n.RRz{constructor(l,p){super(l,p),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,i.Uh)(l.notRepeatable)&&(this.notRepeatable=l.notRepeatable),(0,i.Uh)(l.required)&&(this.required=l.required),(0,i.Uh)(l.showButtons)&&(this.showButtons=l.showButtons),this.submissionId=l.submissionId,this.relationshipConfig=l.relationshipConfig,this.metadataKey=l.metadataKey,this.metadataFields=l.metadataFields,this.hasSelectableMetadata=l.hasSelectableMetadata,this.isDraggable=l.isDraggable,this.typeBindRelations=l.typeBindRelations?l.typeBindRelations:[],this.isInlineGroupArray=!!l.isInlineGroupArray&&l.isInlineGroupArray}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Object)],d.prototype,"notRepeatable",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Object)],d.prototype,"required",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"submissionId",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",a.u)],d.prototype,"relationshipConfig",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"metadataKey",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],d.prototype,"metadataFields",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],d.prototype,"hasSelectableMetadata",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],d.prototype,"isDraggable",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Object)],d.prototype,"showButtons",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],d.prototype,"typeBindRelations",void 0)},13235:(R,c,e)=>{"use strict";e.d(c,{D:()=>i});var t=e(70655),n=e(5737),a=e(66144);class i extends a.u{constructor(r,l){super(r,l),this.type=n.Pdh,this.cols=r.cols,this.rows=r.rows,this.wrap=r.wrap}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],i.prototype,"cols",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],i.prototype,"rows",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],i.prototype,"wrap",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Object)],i.prototype,"type",void 0)},45736:(R,c,e)=>{"use strict";e.d(c,{R:()=>r});var t=e(70655),n=e(1828),a=e(5737),i=e(62692),d=e(45608);class r extends a.jbD{constructor(p,h){super(p,h),this.isListGroup=!0,this.vocabularyOptions=p.vocabularyOptions,this.groupLength=p.groupLength||5,this._value=[],this.repeatable=p.repeatable,this.required=p.required,this.hint=p.hint,this.valueUpdates=new n.x,this.valueUpdates.subscribe(m=>this.value=m),this.valueUpdates.next(p.value),this.typeBindRelations=p.typeBindRelations?p.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,d.Uh)(this.vocabularyOptions.name)}get value(){return this._value}set value(p){p&&(this._value=Array.isArray(p)?p:this.value.concat([p]))}}(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",i.f)],r.prototype,"vocabularyOptions",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",Boolean)],r.prototype,"repeatable",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",Number)],r.prototype,"groupLength",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",Array)],r.prototype,"_value",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",Array)],r.prototype,"typeBindRelations",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",Boolean)],r.prototype,"required",void 0),(0,t.__decorate)([(0,a.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"hint",void 0)},19584:(R,c,e)=>{"use strict";e.d(c,{s:()=>d});var t=e(70655),n=e(5737),a=e(62692),i=e(45608);class d extends n.TJt{constructor(l,p){super(l,p),this.isListGroup=!0,this.vocabularyOptions=l.vocabularyOptions,this.groupLength=l.groupLength||5,this.repeatable=l.repeatable,this.required=l.required,this.hint=l.hint,this.value=l.value}get hasAuthority(){return this.vocabularyOptions&&(0,i.Uh)(this.vocabularyOptions.name)}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",a.f)],d.prototype,"vocabularyOptions",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],d.prototype,"repeatable",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],d.prototype,"groupLength",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Boolean)],d.prototype,"required",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"hint",void 0)},53104:(R,c,e)=>{"use strict";e.d(c,{S:()=>i,z:()=>d});var t=e(70655),n=e(5737),a=e(93025);const i="LOOKUP_NAME";class d extends a.Z{constructor(l,p){super(l,p),this.type=i,this.separator=l.separator||",",this.placeholder=l.firstPlaceholder||"form.last-name",this.secondPlaceholder=l.secondPlaceholder||"form.first-name"}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"separator",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"secondPlaceholder",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0)},93025:(R,c,e)=>{"use strict";e.d(c,{Z:()=>d,d:()=>i});var t=e(70655),n=e(5737),a=e(66144);const i="LOOKUP";class d extends a.u{constructor(l,p){super(l,p),this.type=i,this.autoComplete=n.dd1,this.maxOptions=l.maxOptions||10,this.value=l.value}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],d.prototype,"maxOptions",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0)},36650:(R,c,e)=>{"use strict";e.d(c,{n:()=>i,o:()=>d});var t=e(70655),n=e(5737),a=e(66144);const i="ONEBOX";class d extends a.u{constructor(l,p){super(l,p),this.type=i,this.autoComplete=n.dd1,this.minChars=l.minChars||3}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],d.prototype,"minChars",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0)},34439:(R,c,e)=>{"use strict";e.d(c,{E:()=>r});var t=e(70655),n=e(5737),a=e(66144),i=e(45608),d=e(82882);class r extends a.u{constructor(p,h){super(p,h),this.type=d.Q,this.submissionId=p.submissionId,this.formConfiguration=p.formConfiguration,this.mandatoryField=p.mandatoryField,this.relationFields=p.relationFields,this.scopeUUID=p.scopeUUID,this.submissionScope=p.submissionScope,this.value=p.value||[]}isEmpty(){const p=this.getGroupValue();return 1===p.length&&(0,i.Ft)(p[0][this.mandatoryField])}getGroupValue(){if((0,i.xb)(this.value)){const p=Object.create({});return p[this.mandatoryField]=null,this.relationFields.forEach(h=>{p[h]=null}),[p]}return this.value}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"submissionId",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],r.prototype,"formConfiguration",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"mandatoryField",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Array)],r.prototype,"relationFields",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"scopeUUID",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"submissionScope",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],r.prototype,"type",void 0)},75316:(R,c,e)=>{"use strict";e.d(c,{c:()=>d,v:()=>i});var t=e(70655),n=e(5737),a=e(66144);const i="SCROLLABLE_DROPDOWN";class d extends a.u{constructor(l,p){super(l,p),this.type=i,this.autoComplete=n.dd1,this.vocabularyOptions=l.vocabularyOptions,this.maxOptions=l.maxOptions||10}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],d.prototype,"maxOptions",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0)},64324:(R,c,e)=>{"use strict";e.d(c,{D:()=>i,M:()=>d});var t=e(70655),n=e(5737),a=e(66144);const i="TAG";class d extends a.u{constructor(l,p){super(l,p),this.type=i,this.autoComplete=n.dd1,this.minChars=l.minChars||3,this.value=l.value||[]}}(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",Number)],d.prototype,"minChars",void 0),(0,t.__decorate)([(0,n.BgY)(),(0,t.__metadata)("design:type",String)],d.prototype,"type",void 0)},84329:(R,c,e)=>{"use strict";e.d(c,{Cg:()=>d,Ju:()=>n,Yj:()=>i});var t=e(49754);const n={SET_NAME_VARIANT:(0,t.d)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,t.d)("dspace/name-variant/REMOVE_NAME_VARIANT")};class a{constructor(l,p){this.payload={listID:l,itemID:p}}}class i extends a{constructor(l,p,h){super(l,p),this.type=n.SET_NAME_VARIANT,this.payload.nameVariant=h}}class d extends a{constructor(l,p){super(l,p),this.type=n.REMOVE_NAME_VARIANT}}},39492:(R,c,e)=>{"use strict";e.d(c,{J9:()=>r,Jg:()=>a,_k:()=>i,g:()=>n});var t=e(49754);const n={ADD_RELATIONSHIP:(0,t.d)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,t.d)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,t.d)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,t.d)("dspace/relationship/UPDATE_RELATIONSHIP")};class a{constructor(p,h,m,_,v){this.type=n.ADD_RELATIONSHIP,this.payload={item1:p,item2:h,relationshipType:m,submissionId:_,nameVariant:v}}}class i{constructor(p,h,m,_,v){this.type=n.UPDATE_NAME_VARIANT,this.payload={item1:p,item2:h,relationshipType:m,submissionId:_,nameVariant:v}}}class r{constructor(p,h,m,_){this.type=n.REMOVE_RELATIONSHIP,this.payload={item1:p,item2:h,relationshipType:m,submissionId:_}}}},87893:(R,c,e)=>{"use strict";e.d(c,{c:()=>zt});var t=e(5737),n=e(90537),a=e.n(n),i=e(14090),d=e.n(i),r=e(77019),l=e.n(r),p=e(45608),h=e(64324),m=(()=>{return(on=m||(m={})).WorkspaceItem="SUBMISSION",on.WorkflowItem="WORKFLOW",m;var on})(),_=e(98678),v=e(24112),y=e.n(v);class O extends t.S_O{constructor(){super(...arguments),this.isRowGroup=!0}}var S=e(70655),b=e(99043),o=e(38666),D=e(17568);class M{}(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"hints",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"label",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Array)],M.prototype,"languageCodes",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"mandatoryMessage",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"mandatory",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Boolean)],M.prototype,"repeatable",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Object)],M.prototype,"input",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Array)],M.prototype,"selectableMetadata",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",D.u)],M.prototype,"selectableRelationship",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Array)],M.prototype,"rows",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"scope",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",String)],M.prototype,"style",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Array)],M.prototype,"typeBind",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Object)],M.prototype,"value",void 0),(0,S.__decorate)([o.autoserialize,(0,S.__metadata)("design:type",Object)],M.prototype,"visibility",void 0);var C=e(31042),T=e(77846);function g(on,ke,xe,we){(0,p.Ft)(on.layout)?(on.layout={},on.layout[ke]={},on.layout[ke][xe]=we):(0,p.o8)(on.layout[ke])?(on.layout[ke]={},on.layout[ke][xe]=we):on.layout[ke][xe]=(0,p.o8)(on.layout[ke][xe])?we:on.layout[ke][xe].concat(` ${we}`)}var U=e(62692),L=(()=>{return(on=L||(L={})).Date="date",on.Dropdown="dropdown",on.RelationGroup="group",on.List="list",on.Lookup="lookup",on.LookupName="lookup-name",on.LookupRelation="lookup-relation",on.Onebox="onebox",on.Name="name",on.Series="series",on.Tag="tag",on.Textarea="textarea",L;var on})(),j=e(710),$=e(94056);const z=new _.InjectionToken("submissionId"),re=new _.InjectionToken("configData"),W=new _.InjectionToken("initFormValues"),ie=new _.InjectionToken("parserOptions"),ce=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let ne=class{constructor(ke,xe,we,pt){this.submissionId=ke,this.configData=xe,this.initFormValues=we,this.parserOptions=pt}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==L.List&&this.configData.input.type!==L.Tag){let we,ke=0,xe=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(we=this.configData.selectableMetadata[0].metadata);let pt=!0;this.configData.input.type===L.Onebox&&this.configData?.selectableMetadata?.length>1&&(pt=!1);const bt={id:y()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:we,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,p.UE)(this.configData.selectableMetadata),isDraggable:pt,typeBindRelations:(0,p.UE)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Xt;if(0===ke)Xt=this.modelFactory(),ke++;else{const Qt=this.getInitValueCount(ke-1);let Gt=null;Qt>0&&(Gt=this.getInitFieldValue(ke-1,xe++),xe===Qt&&(xe=0,ke++)),Xt=this.modelFactory(Gt,!1)}return g(Xt,"element","host","col"),(Xt.hasLanguages||(0,p.UE)(Xt.relationship))&&g(Xt,"grid","control","col"),[Xt]}};return new T.v(bt,{grid:{group:"form-row"}})}{const ke=this.modelFactory(this.getInitFieldValue());return ke.submissionId=this.submissionId,(ke.hasLanguages||(0,p.UE)(ke.relationship))&&g(ke,"grid","control","col"),ke}}setVocabularyOptions(ke){(0,p.UE)(this.configData.selectableMetadata)&&(0,p.UE)(this.configData.selectableMetadata[0].controlledVocabulary)&&(ke.vocabularyOptions=new U.f(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(ke,xe,we=!1,pt){if((0,p.UE)(xe)){if(pt)return ke.value=this.getInitGroupValues(),void(Array.isArray(ke.value)&&ke.value.length>0&&ke.value[0].language&&(ke.language=ke.value[0].language));(0,j.UV)(xe)?ke.value=xe:"object"==typeof xe?(ke.metadataValue=xe,ke.language=xe.language,ke.place=xe.place,ke.value=we?xe:xe.value):we?ke.value=new C.u(xe):"string"==typeof xe&&(ke.value=xe)}return ke}getInitValueCount(ke=0,xe){const we=xe||this.getAllFieldIds();if((0,p.UE)(this.initFormValues)&&(0,p.K0)(we)&&1===we.length&&this.initFormValues.hasOwnProperty(we[0]))return this.initFormValues[we[0]].length;if((0,p.UE)(this.initFormValues)&&(0,p.K0)(we)&&we.length>1){const pt=[];return we.forEach(bt=>{this.initFormValues.hasOwnProperty(bt)&&pt.push(this.initFormValues[bt].length)}),pt[ke]}return 0}getInitGroupValues(){const ke=this.getAllFieldIds();if((0,p.UE)(this.initFormValues)&&(0,p.K0)(ke)&&1===ke.length&&this.initFormValues.hasOwnProperty(ke[0]))return this.initFormValues[ke[0]]}getInitFieldValues(ke){if((0,p.UE)(this.initFormValues)&&(0,p.K0)(ke)&&this.initFormValues.hasOwnProperty(ke))return this.initFormValues[ke]}getInitFieldValue(ke=0,xe=0,we){const pt=we||this.getAllFieldIds();if((0,p.UE)(this.initFormValues)&&(0,p.K0)(pt)&&1===pt.length&&this.initFormValues.hasOwnProperty(pt[ke])&&this.initFormValues[pt[ke]].length>xe)return this.initFormValues[pt[ke]][xe];if((0,p.UE)(this.initFormValues)&&(0,p.K0)(pt)&&pt.length>1){const bt=[];return pt.forEach(wt=>{if(this.initFormValues.hasOwnProperty(wt)){const Xt=Object.assign(new C.u,this.initFormValues[wt][xe]);Xt.metadata=wt,bt.push(Xt)}}),bt[ke]}return null}getInitArrayIndex(){const ke=this.getAllFieldIds();if((0,p.UE)(this.initFormValues)&&(0,p.K0)(ke)&&1===ke.length&&this.initFormValues.hasOwnProperty(ke))return this.initFormValues[ke].length;if((0,p.UE)(this.initFormValues)&&(0,p.K0)(ke)&&ke.length>1){let xe=0;return ke.forEach(we=>{this.initFormValues.hasOwnProperty(we)&&(xe+=this.initFormValues[we].length)}),0===xe?1:xe}return 1}getFieldId(){const ke=this.getAllFieldIds();return(0,p.K0)(ke)?ke[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const ke=[];return this.configData.selectableMetadata.forEach(xe=>ke.push(xe.metadata)),ke}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(ke,xe=!0,we=!1,pt=!0,bt=!0){const wt=Object.create(null);return this.fieldId=ke||this.getFieldId(),wt.name=this.fieldId,wt.id=this.fieldId.replace(/\./g,"_"),wt.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),wt.disabled=wt.readOnly,(0,p.Uh)(this.configData.selectableRelationship)&&(wt.relationship=Object.assign(new D.u,this.configData.selectableRelationship)),wt.repeatable=this.configData.repeatable,wt.metadataFields=this.getAllFieldIds()||[],wt.hasSelectableMetadata=(0,p.UE)(this.configData.selectableMetadata),wt.submissionId=this.submissionId,this.setLabel(wt,xe),bt&&(wt.hint=this.configData.hints||"&nbsp;"),wt.placeholder=this.configData.label,this.configData.mandatory&&pt&&this.markAsRequired(wt),this.hasRegex()&&this.addPatternValidator(wt),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(wt.languageCodes=this.configData.languageCodes),(0,p.UE)(this.configData.typeBind)&&(wt.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),wt}isFieldReadOnly(ke,xe,we){return(0,p.UE)(we)&&(0,p.UE)(xe)&&(0,p.UE)(ke)&&(we===$.S.WorkspaceItem&&ke.main===b.x.READONLY||ke.other===b.x.READONLY&&we===$.S.WorkflowItem)}getTypeBindRelations(ke,xe){const we=[];return ke.forEach(pt=>{we.push({id:xe,value:pt})}),[{match:t._Vz,operator:t.F8e,when:we}]}hasRegex(){return(0,p.Uh)(this.configData.input.regex)}addPatternValidator(ke){const xe=this.configData.input.regex.match(ce);let we;we=null!=xe&&xe.length>3?new RegExp(xe[2],xe[3]):new RegExp(this.configData.input.regex),ke.validators=Object.assign({},ke.validators,{pattern:we}),ke.errorMessages=Object.assign({},ke.errorMessages,{pattern:"error.validation.pattern"})}markAsRequired(ke){ke.required=!0,ke.validators=Object.assign({},ke.validators,{required:null}),ke.errorMessages=Object.assign({},ke.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(ke,xe=!0,we=!1){xe&&(ke.label=we?"&nbsp;":this.configData.label)}setOptions(ke){(0,p.pT)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(ke.options=[],this.configData.selectableMetadata.forEach((xe,we)=>{0===we&&(ke.value=xe.metadata),ke.options.push({label:xe.label,value:xe.metadata})}))}};ne=(0,S.__decorate)([(0,S.__param)(0,(0,_.Inject)(z)),(0,S.__param)(1,(0,_.Inject)(re)),(0,S.__param)(2,(0,_.Inject)(W)),(0,S.__param)(3,(0,_.Inject)(ie)),(0,S.__metadata)("design:paramtypes",[String,M,Object,Object])],ne);var K=e(26533),w=e(83064);class Q extends ne{modelFactory(ke,xe){let we=!1;const pt=this.initModel(null,!1,!0);if(pt.legend=this.configData.label,pt.disabled=pt.readOnly,pt.toggleIcon="fas fa-calendar",this.setValues(pt,ke),(0,p.UE)(pt.value)){const wt=pt.value.toString();if(wt.length>=4){const Xt=wt.split(w.t);if(Xt.length<4)for(let Qt=0;Qt<Xt.length;Qt++)Xt[Qt].length!==(0===Qt?4:2)&&(we=!0)}}const bt=new K.R(pt);return bt.malformedDate=we,bt}}var oe=e(75316);let q=class extends ne{constructor(ke,xe,we,pt){super(ke,xe,we,pt)}modelFactory(ke,xe){const we=this.initModel(null,xe);let pt;if((0,p.UE)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(we),(0,p.UE)(ke)&&(we.value=ke),pt={element:{control:"col"},grid:{host:"col"}},new oe.c(we,pt);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};q=(0,S.__decorate)([(0,S.__param)(0,(0,_.Inject)(z)),(0,S.__param)(1,(0,_.Inject)(re)),(0,S.__param)(2,(0,_.Inject)(W)),(0,S.__param)(3,(0,_.Inject)(ie)),(0,S.__metadata)("design:paramtypes",[String,M,Object,Object])],q);var ee=e(34439),J=e(82882);class Ee extends ne{modelFactory(ke,xe){const we=this.initModel(null,xe);if(we.submissionId=this.submissionId,we.scopeUUID=this.parserOptions.collectionUUID,we.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${we.name}`);we.formConfiguration=this.configData.rows,we.relationFields=[],this.configData.rows.forEach(wt=>{wt.fields.forEach(Xt=>{Xt.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?we.mandatoryField=this.configData.selectableMetadata[0].metadata:we.relationFields.push(Xt.selectableMetadata[0].metadata)})}),(0,p.UE)(this.getInitGroupValues())&&(we.value=[],this.getInitFieldValues(we.mandatoryField).forEach((Xt,Qt)=>{const Gt=Object.create(null);[we.mandatoryField].concat(we.relationFields).forEach(fn=>{const ct=this.getInitFieldValue(0,Qt,[fn]);Gt[fn]=(0,p.UE)(ct)?ct:J.n}),we.value.push(Gt)}));const bt=new ee.E(we,{element:{container:"mb-3"}});return bt.name=this.getFieldId(),bt}}var Oe=e(45736),Re=e(19584);class ve extends ne{modelFactory(ke,xe){const we=this.initModel(null,xe);let pt;return we.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,p.UE)(this.getInitGroupValues())&&(we.value=[],this.getInitGroupValues().forEach(bt=>{if(bt instanceof C.u)we.value.push(bt);else{const wt=new C.u(bt);we.value.push(wt)}})),this.setVocabularyOptions(we)),we.repeatable?(we.group=[],pt=new Oe.R(we)):(we.options=[],pt=new Re.s(we)),pt}}var Pe=e(93025);class et extends ne{modelFactory(ke,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const we=this.initModel(null,xe);return this.setVocabularyOptions(we),this.setValues(we,ke,!0),new Pe.Z(we)}}}var Ze=e(53104);class tt extends ne{modelFactory(ke,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const we=this.initModel(null,xe);return this.setVocabularyOptions(we),this.setValues(we,ke,!0),new Ze.z(we)}}}var yt=e(1828);class At extends t.S_O{constructor(ke,xe){super(ke,xe),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=ke.readOnly,this.required=ke.required,this.language=ke.language,this.languageCodes=ke.languageCodes,this.languageUpdates=new yt.x,this.languageUpdates.subscribe(we=>{this.language=we}),this.hint=ke.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(ke){this._language=ke}get languageCodes(){return this._languageCodes}set languageCodes(ke){this._languageCodes=ke,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",String)],At.prototype,"_language",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Array)],At.prototype,"_languageCodes",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",yt.x)],At.prototype,"languageUpdates",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Object)],At.prototype,"hasLanguages",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],At.prototype,"readOnly",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",String)],At.prototype,"hint",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],At.prototype,"required",void 0);var Jt=e(66144),$t=e(36650);class lt extends ne{modelFactory(ke,xe){if(this.configData.selectableMetadata.length>1){const we={element:{control:"form-row",hint:"ds-form-qualdrop-hint"}},pt={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pr-0"}},bt={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 pl-0"}},wt=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Xt=Object.create(null);Xt.id=wt.replace(/\./g,"_")+"_QUALDROP_GROUP",Xt.group=[],Xt.legend=this.configData.label,Xt.hint=this.configData.hints,this.setLabel(Xt,xe),Xt.required=(0,p.UE)(this.configData.mandatory);const Qt=this.initModel(wt+"_QUALDROP_VALUE",xe,!1,!1);Qt.hint=null,this.setValues(Qt,ke);const Gt=this.initModel(wt+"_QUALDROP_METADATA",xe,!1,!1);return Gt.hint=null,this.setOptions(Gt),(0,p.UE)(ke)&&(Gt.value=ke.metadata),Gt.disabled=Qt.readOnly,Xt.readOnly=Gt.disabled&&Qt.readOnly,Xt.group.push(new t.nMt(Gt,pt)),Xt.group.push(new Jt.u(Qt,bt)),new At(Xt,we)}if(this.configData.selectableMetadata[0].controlledVocabulary){const we=this.initModel(null,xe);return this.setVocabularyOptions(we),this.setValues(we,ke,!0),new $t.o(we)}{const we=this.initModel(null,xe);return this.setValues(we,ke),new Jt.u(we)}}}var Ht=e(57512);const Qe="_CONCAT_GROUP";class Ge extends t.S_O{constructor(ke,xe){super(ke,xe),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=ke.separator+" ",this.relationship=ke.relationship,this.repeatable=ke.repeatable,this.required=ke.required,this.hint=ke.hint,this.metadataFields=ke.metadataFields,this.submissionId=ke.submissionId,this.hasSelectableMetadata=ke.hasSelectableMetadata,this.metadataValue=ke.metadataValue,this.valueUpdates=new yt.x,this.valueUpdates.subscribe(we=>this.value=we),this.typeBindRelations=ke.typeBindRelations?ke.typeBindRelations:[],this.readOnly=ke.disabled}get value(){const[ke,xe]=this.group.map(we=>"string"==typeof we.value?Object.assign(new C.u,{value:we.value,display:we.value}):we.value);return(0,p.UE)(ke)&&(0,p.UE)(ke.value)&&(0,p.UE)(xe)&&(0,p.UE)(xe.value)?Object.assign(new C.u,ke,{value:ke.value+this.separator+xe.value}):(0,p.UE)(ke)&&(0,p.UE)(ke.value)?Object.assign(new C.u,ke):(0,p.UE)(xe)&&(0,p.UE)(xe.value)?Object.assign(new C.u,xe):null}set value(ke){let xe,we;we="string"==typeof ke?ke:ke.value,(0,p.xI)(we)&&(we=""),xe=[...we.split(this.separator),null].map(pt=>Object.assign(new C.u,ke,{display:pt,value:pt})),this.get(0).value=xe[0].value?xe[0]:void 0,this.get(1).value=xe[1].value?xe[1]:void 0}}(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",String)],Ge.prototype,"separator",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Object)],Ge.prototype,"hasLanguages",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Array)],Ge.prototype,"typeBindRelations",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Object)],Ge.prototype,"typeBindHidden",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",D.u)],Ge.prototype,"relationship",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],Ge.prototype,"repeatable",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],Ge.prototype,"required",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",String)],Ge.prototype,"hint",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Array)],Ge.prototype,"metadataFields",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",String)],Ge.prototype,"submissionId",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],Ge.prototype,"hasSelectableMetadata",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Ht.DA)],Ge.prototype,"metadataValue",void 0),(0,S.__decorate)([(0,t.BgY)(),(0,S.__metadata)("design:type",Boolean)],Ge.prototype,"readOnly",void 0);let qe=class extends ne{constructor(ke,xe,we,pt,bt,wt=null,Xt=null){super(ke,xe,we,pt),this.separator=bt,this.firstPlaceholder=wt,this.secondPlaceholder=Xt,this.separator=bt,this.firstPlaceholder=wt,this.secondPlaceholder=Xt}modelFactory(ke,xe){let we,pt;const bt=this.configData.selectableMetadata[0].metadata;pt={grid:{host:"col-sm-6"}};const wt=bt.replace(/\./g,"_")+Qe,Xt=this.initModel(wt,xe,!1,!0);Xt.group=[],Xt.separator=this.separator;const Qt=this.initModel(bt+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),Gt=this.initModel(bt+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Qt.hideErrorMessages=!0,Gt.hideErrorMessages=!0,(0,p.xI)(Xt.hint)&&(0,p.Uh)(Qt.hint)&&(0,p.xI)(Gt.hint)&&(Xt.hint=Qt.hint,Qt.hint=void 0),this.configData.mandatory&&(Xt.required=!0,Qt.required=!0),Xt.disabled=Qt.readOnly,(0,p.UE)(this.firstPlaceholder)&&(Qt.placeholder=this.firstPlaceholder),(0,p.UE)(this.secondPlaceholder)&&(Gt.placeholder=this.secondPlaceholder);const dn=this.configData.label.split("/");2===dn.length&&(Qt.placeholder=dn[0],Gt.placeholder=dn[1]);const fn=new Jt.u(Qt,pt),ct=new Jt.u(Gt,pt);Xt.group.push(fn),Xt.group.push(ct),we={element:{control:"form-row"}};const Mt=new Ge(Xt,we);return Mt.name=this.getFieldId(),(0,p.UE)(ke)&&(Mt.value=ke),Mt}};qe=(0,S.__decorate)([(0,S.__param)(0,(0,_.Inject)(z)),(0,S.__param)(1,(0,_.Inject)(re)),(0,S.__param)(2,(0,_.Inject)(W)),(0,S.__param)(3,(0,_.Inject)(ie)),(0,S.__metadata)("design:paramtypes",[String,M,Object,Object,String,String,String])],qe);let gt=class extends qe{constructor(ke,xe,we,pt){super(ke,xe,we,pt,",","form.last-name","form.first-name")}};gt=(0,S.__decorate)([(0,S.__param)(0,(0,_.Inject)(z)),(0,S.__param)(1,(0,_.Inject)(re)),(0,S.__param)(2,(0,_.Inject)(W)),(0,S.__param)(3,(0,_.Inject)(ie)),(0,S.__metadata)("design:paramtypes",[String,M,Object,Object])],gt);let it=class extends qe{constructor(ke,xe,we,pt){super(ke,xe,we,pt,";")}};it=(0,S.__decorate)([(0,S.__param)(0,(0,_.Inject)(z)),(0,S.__param)(1,(0,_.Inject)(re)),(0,S.__param)(2,(0,_.Inject)(W)),(0,S.__param)(3,(0,_.Inject)(ie)),(0,S.__metadata)("design:paramtypes",[String,M,Object,Object])],it);class ht extends ne{modelFactory(ke,xe){const we=this.initModel(null,xe);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(we),this.setValues(we,ke,null,!0),new h.M(we)}}var St=e(13235),It=e(76774);class Yt extends ne{modelFactory(ke,xe){const we=this.initModel(null,xe);let pt;return pt={element:{label:"col-form-label"}},we.rows=10,we.spellCheck=It.N.form.spellCheck,this.setValues(we,ke),new St.D(we,pt)}}var en=e(57359);class Tt extends ne{modelFactory(ke,xe){const we=this.initModel(null,xe);return this.setValues(we,ke,!0),new en.O(we)}}const Mn=[z,re,W,ie];class xn{static getProvider(ke){switch(ke){case L.Date:return{provide:ne,useClass:Q,deps:[...Mn]};case L.Dropdown:return{provide:ne,useClass:q,deps:[...Mn]};case L.RelationGroup:return{provide:ne,useClass:Ee,deps:[...Mn]};case L.List:return{provide:ne,useClass:ve,deps:[...Mn]};case L.Lookup:return{provide:ne,useClass:et,deps:[...Mn]};case L.LookupName:return{provide:ne,useClass:tt,deps:[...Mn]};case L.Onebox:return{provide:ne,useClass:lt,deps:[...Mn]};case L.Name:return{provide:ne,useClass:gt,deps:[...Mn]};case L.Series:return{provide:ne,useClass:it,deps:[...Mn]};case L.Tag:return{provide:ne,useClass:ht,deps:[...Mn]};case L.Textarea:return{provide:ne,useClass:Yt,deps:[...Mn]};case void 0:return{provide:ne,useClass:Tt,deps:[...Mn]};default:return}}}let Rt=(()=>{class on{constructor(xe){this.parentInjector=xe}parse(xe,we,pt,bt,wt,Xt,Qt){let Gt=null,dn=null;const fn={id:y()("df-row-group-config-"),group:[]},ct=this.filterScopedFields(we.fields,wt),Mt=" col-sm-"+Math.trunc(12/ct.length),vt={readOnly:Xt,submissionScope:wt,collectionUUID:pt,typeField:Qt};if(ct.forEach(Bt=>{const je=(Bt.style||Mt)+" d-flex flex-column justify-content-start",be=xn.getProvider(Bt.input.type);if(!be)throw new Error(`unknown form control model type "${Bt.input.type}" defined for Input field with label "${Bt.label}".`);if(Gt=_.Injector.create({providers:[be,{provide:z,useValue:xe},{provide:re,useValue:Bt},{provide:W,useValue:bt},{provide:ie,useValue:vt}],parent:this.parentInjector}).get(ne).parse(),Gt){if(Gt.type===t.i9b||Gt.type===J.Q)return void(we.fields.length>1?(g(Gt,"grid","host",je),fn.group.push(Gt)):dn=Gt);Array.isArray(Gt)?Gt.forEach(ot=>{dn=ot}):(g(Gt,"grid","host",je),fn.group.push(Gt)),Gt=null}}),fn&&!(0,p.xb)(fn.group)){const je=new O(fn,{element:{control:"form-row"}});Array.isArray(dn)?dn.push(je):dn=je}return dn}checksFieldScope(xe,we,pt){return(0,p.xb)(xe)||!this.isHidden(pt,xe,we)}isHidden(xe,we,pt){return(0,p.UE)(we)&&(0,p.xb)(xe)&&(pt===$.S.WorkspaceItem&&we!==m.WorkspaceItem||pt===$.S.WorkflowItem&&we!==m.WorkflowItem)}filterScopedFields(xe,we){const pt=[];return xe.forEach(bt=>{this.checksFieldScope(bt.scope,we,bt.visibility)&&pt.push(bt)}),pt}}return on.\u0275fac=function(xe){return new(xe||on)(_.\u0275\u0275inject(_.Injector))},on.\u0275prov=_.\u0275\u0275defineInjectable({token:on,factory:on.\u0275fac,providedIn:"root"}),on})();var sn=e(73194),jt=e(10572);let zt=(()=>{class on extends t.w1X{constructor(xe,we,pt,bt){super(xe,we),this.rowParser=pt,this.configService=bt,this.formModels=new Map,this.formGroups=new Map,(0,p.Uh)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(xe,we,pt,bt){return{$event:{value:pt.value,autoSave:!1},context:pt?.parent instanceof t.NJD?pt?.parent:null,control:xe,group:we,model:pt,type:bt}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(xe){this.typeBindModel=xe}findById(xe,we,pt=null){let bt=null;const wt=(Xt,Qt,Gt)=>{for(const dn of Qt){if(dn.id===Xt){bt=this.isArrayGroup(dn)&&(0,p.K0)(Gt)?dn.get(Gt):dn;break}if(this.isConcatGroup(dn)&&dn.id.match(new RegExp(Xt+Qe))){bt=dn;break}if(this.isGroup(dn)&&wt(Xt,dn.group,Gt),this.isArrayGroup(dn)&&((0,p.Ft)(Gt)||dn.size>Gt)){const fn=(0,p.Ft)(Gt)?0:Gt;wt(Xt,dn.get(fn).group,fn)}}};return wt(xe,we,pt),bt}clearAllModelsValue(xe){const we=pt=>{for(const bt of pt)this.isGroup(bt)?we(bt.group):this.isArrayGroup(bt)?we(bt.groupFactory()):bt.hasOwnProperty("valueChanges")&&(bt.value=void 0)};we(xe)}getValueFromModel(xe){let we=Object.create({});const pt=(Xt,Qt)=>{if(Array.isArray(Xt))return Xt.concat(Qt)},bt=(Xt,Qt,Gt)=>{const dn=Xt.hasLanguages?Xt.language:null;if(Xt?.metadataValue?.authority?.includes(Ht.O_))return Xt.metadataValue;if(d()(Qt))return new C.u(Qt,dn,null,null,Gt);if((0,j.UV)(Qt))return new C.u((0,j.UW)(Qt));if(a()(Qt)){const fn=Qt.authority||Qt.id||null,ct=Gt||Qt.place;return(0,j.UV)(Qt)?new C.u(Qt,dn,fn,Qt,ct):new C.u(Qt.value,dn,fn,Qt.display,ct,Qt.confidence)}},wt=(Xt,Qt=0)=>{let Gt=Object.create({});for(const dn of Xt){if(this.isRowGroup(dn)&&!this.isCustomOrListGroup(dn)){Gt=l()(Gt,wt(dn.group),pt);continue}if(this.isGroup(dn)&&!this.isCustomOrListGroup(dn)){Gt[dn.name]=wt(dn.group);continue}if(this.isRowArrayGroup(dn)){for(const ct of dn.groups)Gt=l()(Gt,wt(ct.group,ct.index),pt);continue}if(this.isArrayGroup(dn)){Gt[dn.name]=[];for(const ct of dn.groups)Gt[dn.name].push(wt(ct.group,ct.index));continue}let fn;if(fn=this.isQualdropGroup(dn)?dn.qualdropId:dn.name,this.isRelationGroup(dn))dn.getGroupValue().forEach((Mt,Ve)=>{Object.keys(Mt).forEach(Bt=>{const je=bt(dn,Mt[Bt],Ve);(0,p.UE)(je)&&je.hasValue()&&(Gt.hasOwnProperty(Bt)?Gt[Bt].push(je):Gt[Bt]=[je])})});else if((0,p.pT)(dn.value)&&(0,p.UE)(dn.value)){const ct=[];(Array.isArray(dn.value)?dn.value:[dn.value]).forEach(Ve=>{ct.push(bt(dn,Ve,Qt))}),Gt[fn]=fn&&Gt.hasOwnProperty(fn)&&(0,p.K0)(Gt[fn])?Gt[fn].concat(ct):(0,p.UE)(ct)?ct:null}}return Gt};return we=wt(xe),we}modelFromConfiguration(xe,we,pt,bt={},wt,Xt=!1,Qt=null,Gt=!1){let dn=[];const fn="string"==typeof we?JSON.parse(we,t.WMN):we;return fn.rows&&!(0,p.xb)(fn.rows)&&fn.rows.forEach(ct=>{const Mt=this.rowParser.parse(xe,ct,pt,bt,wt,Xt,this.getTypeField());(0,p.K0)(Mt)&&(Array.isArray(Mt)?dn=dn.concat(Mt):dn.push(Mt))}),(0,p.xI)(Qt)&&(Qt=this.findById(this.typeField,dn)),(0,p.Uh)(Qt)&&this.setTypeBindModel(Qt),dn}isModelInCustomGroup(xe){return this.isCustomGroup(xe.parent)}hasArrayGroupValue(xe){return xe&&(this.isListGroup(xe)||xe.type===h.D)}hasMappedGroupValue(xe){return this.isQualdropGroup(xe.parent)||this.isRelationGroup(xe.parent)}isGroup(xe){return xe&&(xe.type===t.Qam||xe.type===t.aTt)}isQualdropGroup(xe){return xe&&xe.type===t.Qam&&(0,p.Uh)(xe.qualdropId)}isCustomGroup(xe){return xe&&xe.type===t.Qam&&!0===xe.isCustomGroup}isConcatGroup(xe){return this.isCustomGroup(xe)&&-1!==xe.id.indexOf(Qe)}isRowGroup(xe){return xe&&xe.type===t.Qam&&!0===xe.isRowGroup}isCustomOrListGroup(xe){return xe&&(this.isCustomGroup(xe)||this.isListGroup(xe))}isListGroup(xe){return xe&&(xe.type===t.aTt&&!0===xe.isListGroup||xe.type===t.e6P&&!0===xe.isListGroup)}isRelationGroup(xe){return xe&&xe.type===J.Q}isRowArrayGroup(xe){return xe.type===t.i9b&&!0===xe.isRowArray}isArrayGroup(xe){return xe.type===t.i9b}isInputModel(xe){return xe.type===t.X9S}getFormControlById(xe,we,pt,bt=0){const wt=this.findById(xe,pt,bt);return(0,p.UE)(wt)?we.get(this.getPath(wt)):null}getFormControlByModel(xe,we){return(0,p.UE)(we)?xe.get(this.getPath(we)):null}getId(xe){let we;return this.isArrayGroup(xe)?xe.index.toString():(we=this.isModelInCustomGroup(xe)?xe.parent:xe,we.id!==we.name?we.name:we.id)}removeFormModel(xe){this.formModels.has(xe)&&this.formModels.delete(xe)}addFormGroups(xe,we){this.formGroups.set(xe,we)}removeFormGroup(xe){this.formGroups.has(xe)&&this.formGroups.delete(xe)}getMetadataIdsFromEvent(xe){let we=xe.model;for(;we.parent;)we=we.parent;const pt=(wt,Xt=0)=>{let Qt=Object.create({});for(const Gt of wt){if(this.isRowGroup(Gt)&&!this.isCustomOrListGroup(Gt)){Qt=l()(Qt,pt(Gt.group));continue}if(this.isGroup(Gt)&&!this.isCustomOrListGroup(Gt)){Qt[Gt.name]=pt(Gt.group);continue}if(this.isRowArrayGroup(Gt)){for(const fn of Gt.groups)Qt=l()(Qt,pt(fn.group,fn.index));continue}if(this.isArrayGroup(Gt)){Qt[Gt.name]=[];for(const fn of Gt.groups)Qt[Gt.name].push(pt(fn.group,fn.index));continue}let dn;dn=this.isQualdropGroup(Gt)?Gt.qualdropId:Gt.name,this.isRelationGroup(Gt)?Gt.getGroupValue().forEach((ct,Mt)=>{Object.keys(ct).forEach(Ve=>{Qt[Ve]=!0})}):Qt[dn]=!0}return Qt},bt=pt([we]);return Object.keys(bt)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,jt.hC)()).subscribe(xe=>{if(!xe.hasSucceeded)return void(this.typeField="dc_type");const we=xe.payload.values[0];this.typeField=(0,p.xb)(we)?"dc_type":we.replace(/\./g,"_")})}getTypeField(){return(0,p.Uh)(this.configService)&&(0,p.xI)(this.typeField)?this.setTypeBindFieldFromConfig():(0,p.xI)(this.typeField)&&(this.typeField="dc_type"),this.typeField}}return on.\u0275fac=function(xe){return new(xe||on)(_.\u0275\u0275inject(t.rJA),_.\u0275\u0275inject(t.fhz),_.\u0275\u0275inject(Rt),_.\u0275\u0275inject(sn.i,8))},on.\u0275prov=_.\u0275\u0275defineInjectable({token:on,factory:on.\u0275fac}),on})()},97686:(R,c,e)=>{"use strict";e.d(c,{Z:()=>t});class t{constructor(a,i){this.value=a,this.language=i}}},31042:(R,c,e)=>{"use strict";e.d(c,{u:()=>d});var t=e(45608),n=e(49571),a=e(57512),i=e(82882);class d{constructor(l=null,p=null,h=null,m=null,_=0,v=null,y=null,O=null){this.value=(0,t.K0)(l)?"string"==typeof l?l.trim():l:null,this.language=p,this.authority=h,this.display=m||l,this.confidence=v,this.confidence=null==h||!(0,t.xb)(v)&&-1!==v?(0,t.UE)(v)?v:n.N.CF_UNSET:n.N.CF_ACCEPTED,this.place=_,(0,t.UE)(O)&&(this.metadata=O),this.otherInformation=y}hasAuthority(){return(0,t.UE)(this.authority)}hasAuthorityToGenerate(){return(0,t.UE)(this.authority)&&this.authority.startsWith(d.AUTHORITY_GENERATE)}hasValue(){return(0,t.UE)(this.value)}hasOtherInformation(){return(0,t.UE)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===i.n}get isVirtual(){return(0,t.Uh)(this.authority)&&this.authority.startsWith(a.O_)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(a.O_)+a.O_.length)}toString(){return this.display||this.value}}d.AUTHORITY_SPLIT="::",d.AUTHORITY_GENERATE="will be generated"+d.AUTHORITY_SPLIT},17568:(R,c,e)=>{"use strict";e.d(c,{u:()=>n});class n{get metadataField(){return"relation."+this.relationshipType}}},64405:(R,c,e)=>{"use strict";e.d(c,{A4:()=>p,Ag:()=>l,QQ:()=>d,S$:()=>h,Zn:()=>a,j4:()=>n,q0:()=>i,y5:()=>m,yf:()=>r});var t=e(49754);const n={FORM_INIT:(0,t.d)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,t.d)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,t.d)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,t.d)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,t.d)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,t.d)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,t.d)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,t.d)("dspace/form/FORM_CLEAR_ERRORS")};class a{constructor(v,y,O){this.type=n.FORM_INIT,this.payload={formId:v,formData:y,valid:O}}}class i{constructor(v,y){this.type=n.FORM_CHANGE,this.payload={formId:v,formData:y}}}class d{constructor(v,y){this.type=n.FORM_ADD_TOUCHED,this.payload={formId:v,touched:y}}}class r{constructor(v){this.type=n.FORM_REMOVE,this.payload={formId:v}}}class l{constructor(v,y){this.type=n.FORM_STATUS_CHANGE,this.payload={formId:v,valid:y}}}class p{constructor(v,y,O,S){this.type=n.FORM_ADD_ERROR,this.payload={formId:v,fieldId:y,fieldIndex:O,errorMessage:S}}}class h{constructor(v,y,O){this.type=n.FORM_REMOVE_ERROR,this.payload={formId:v,fieldId:y,fieldIndex:O}}}class m{constructor(v){this.type=n.FORM_CLEAR_ERRORS,this.payload={formId:v}}}},82485:(R,c,e)=>{"use strict";e.d(c,{U:()=>C});var t=e(77007),n=e(48358),a=e(49887),i=e(98678),d=e(54385),r=e.n(d),l=e(87893),p=e(45608),h=e(4786);function m(T,g){if(1&T){const U=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",7)(1,"button",8),i.\u0275\u0275listener("click",function(j){i.\u0275\u0275restoreView(U);const $=i.\u0275\u0275nextContext(),z=$.context,re=$.index,W=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(W.removeItem(j,z,re))}),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementStart(4,"span"),i.\u0275\u0275element(5,"i",9),i.\u0275\u0275elementEnd()()()}2&T&&(i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate("title",i.\u0275\u0275pipeBind1(2,2,"form.remove")),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(3,4,"form.remove")))}function _(T,g){if(1&T){const U=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"button",12),i.\u0275\u0275listener("click",function(j){i.\u0275\u0275restoreView(U);const $=i.\u0275\u0275nextContext().$implicit,z=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(z.insertItem(j,$.context,$.context.groups.length))}),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementStart(5,"span"),i.\u0275\u0275element(6,"i",13),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd()()()()}2&T&&(i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("title",i.\u0275\u0275pipeBind1(3,3,"form.add")),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(4,5,"form.add")),i.\u0275\u0275advance(5),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(8,7,"form.add"),""))}function v(T,g){if(1&T){const U=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",7)(1,"div",14)(2,"button",15),i.\u0275\u0275listener("click",function(j){i.\u0275\u0275restoreView(U);const $=i.\u0275\u0275nextContext(),z=$.context,re=$.index,W=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(W.removeItem(j,z,re))}),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementStart(5,"span"),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd()()()()}if(2&T){const U=i.\u0275\u0275nextContext(),L=U.$implicit,j=U.context,$=U.index,z=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("title",i.\u0275\u0275pipeBind1(3,4,"form.discard")),i.\u0275\u0275property("disabled",1===L.context.groups.length||z.isItemReadOnly(j,$)),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(4,6,"form.discard")),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,8,"form.discard"))}}function y(T,g){if(1&T&&(i.\u0275\u0275template(0,m,6,6,"div",5),i.\u0275\u0275template(1,_,9,9,"div",6),i.\u0275\u0275template(2,v,8,10,"div",5)),2&T){const U=g.$implicit,L=g.index,j=g.context,$=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngIf",!j.notRepeatable&&!$.isVirtual(j,L)&&1!==U.context.groups.length&&!$.isItemReadOnly(j,L)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!j.notRepeatable&&L===U.context.groups.length-1&&!$.isItemReadOnly(j,L)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",j.notRepeatable&&j.showButtons&&U.context.groups.length>1)}}function O(T,g){1&T&&i.\u0275\u0275projection(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function S(T,g){if(1&T){const U=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",20),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(U);const j=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(j.reset())}),i.\u0275\u0275element(1,"i",21),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd()}if(2&T){const U=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,1,U.cancelLabel)," ")}}function b(T,g){if(1&T){const U=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",22),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(U);const j=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(j.onSubmit())}),i.\u0275\u0275pipe(1,"async"),i.\u0275\u0275element(2,"i",23),i.\u0275\u0275text(3),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementEnd()}if(2&T){const U=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("disabled",!i.\u0275\u0275pipeBind1(1,2,U.isValid())),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(4,4,U.submitLabel)," ")}}function o(T,g){if(1&T&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275element(1,"hr"),i.\u0275\u0275elementStart(2,"div",16)(3,"div",17),i.\u0275\u0275projection(4,2),i.\u0275\u0275template(5,S,4,3,"button",18),i.\u0275\u0275projection(6,3),i.\u0275\u0275template(7,b,5,6,"button",19),i.\u0275\u0275projection(8,4),i.\u0275\u0275elementEnd()()()),2&T){const U=i.\u0275\u0275nextContext();i.\u0275\u0275advance(5),i.\u0275\u0275property("ngIf",U.displayCancel),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",U.displaySubmit)}}const D=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],M=["[additional]","*","[before]","[between]","[after]"];let C=(()=>{class T{constructor(U,L,j){this.formService=U,this.changeDetectorRef=L,this.formBuilderService=j,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new i.EventEmitter,this.change=new i.EventEmitter,this.focus=new i.EventEmitter,this.customEvent=new i.EventEmitter,this.addArrayItem=new i.EventEmitter,this.removeArrayItem=new i.EventEmitter,this.cancel=new i.EventEmitter,this.submitForm=new i.EventEmitter,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(U=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,U)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,t.h)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,t.h)(U=>!!U&&((0,p.UE)(U.errors)||(0,p.UE)(this.formErrors))),(0,n.U)(U=>U.errors),(0,a.x)()).subscribe(U=>{const{formGroup:L,formModel:j}=this;U.filter($=>-1===r()(this.formErrors,{fieldId:$.fieldId,fieldIndex:$.fieldIndex})).forEach($=>{const{fieldId:z}=$,{fieldIndex:re}=$;let W;if(W=this.formBuilderService.getFormControlById(z,this.parentFormModel?L.parent:L,j,re),W){const ie=this.formBuilderService.findById(z,j);this.formService.addErrorToField(W,ie,$.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter($=>-1===r()(U,{fieldId:$.fieldId,fieldIndex:$.fieldIndex})).forEach($=>{const{fieldId:z}=$,{fieldIndex:re}=$;let W;if(W=this.formBuilderService.getFormControlById(z,this.parentFormModel?L.parent:L,j,re),W){const ie=this.formBuilderService.findById(z,j);this.formService.removeErrorFromField(W,ie,$.message)}}),this.formErrors=U,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(U=>(0,p.Uh)(U)).forEach(U=>U.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(U=>{!Object.is(U,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(U)}))}onBlur(U){this.blur.emit(U);const L=U.control,j=U.context&&U.context.index?U.context.index:0;L.valid?this.formService.removeError(this.formId,U.model.name,j):this.formService.addControlErrors(L,this.formId,U.model.name,j)}onCustomEvent(U){this.customEvent.emit(U)}onFocus(U){this.formService.setTouched(this.formId,this.formModel,U),this.focus.emit(U)}onChange(U){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(U),U.control.valid&&this.formService.removeError(this.formId,U.model.id,U.context&&U.context.index?U.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(U,L){return U.groups[L].group[0].readOnly}removeItem(U,L,j){const $=this.formGroup.get(this.formBuilderService.getPath(L)),z=this.getEvent(U,L,j,"remove");this.formBuilderService.isQualdropGroup(z.model)&&this.removeArrayItem.emit(z),this.formBuilderService.removeFormArrayGroup(j,$,L),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(z.model)||this.removeArrayItem.emit(z)}insertItem(U,L,j){const $=this.formGroup.get(this.formBuilderService.getPath(L));this.formBuilderService.insertFormArrayGroup(j,$,L),this.addArrayItem.emit(this.getEvent(U,L,j,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(U,L){const $=U.groups[L].group[0].metadataValue;return(0,p.UE)($)&&$.isVirtual}getEvent(U,L,j,$){const z=L.groups[j],re=z.context;let W=this.formGroup.get(re.id);if((0,p.Ft)(W))for(const ne of Object.keys(this.formGroup.controls))if(W=this.formGroup.controls[ne].get(re.id),(0,p.K0)(W))break;return{$event:U,context:z,control:W.controls[j],group:W,model:z.group[0],type:$}}}return T.\u0275fac=function(U){return new(U||T)(i.\u0275\u0275directiveInject(h.o),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(l.c))},T.\u0275cmp=i.\u0275\u0275defineComponent({type:T,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],ngContentSelectors:M,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"formId","formGroup","formModel","formLayout","change","dfBlur","dfChange","dfFocus","ngbEvent"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"title","click"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"title","disabled","click"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"]],template:function(U,L){1&U&&(i.\u0275\u0275projectionDef(D),i.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),i.\u0275\u0275listener("change",function($){return $.stopPropagation()})("dfBlur",function($){return L.onBlur($)})("dfChange",function($){return L.onChange($)})("dfFocus",function($){return L.onFocus($)})("ngbEvent",function($){return L.onCustomEvent($)}),i.\u0275\u0275template(3,y,3,3,"ng-template",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275projection(4),i.\u0275\u0275template(5,O,1,0,"ng-content",4),i.\u0275\u0275template(6,o,9,2,"div",4),i.\u0275\u0275elementEnd()()),2&U&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("formGroup",L.formGroup),i.\u0275\u0275advance(1),i.\u0275\u0275property("formId",L.formId)("formGroup",L.formGroup)("formModel",L.formModel)("formLayout",L.formLayout),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!L.displaySubmit&&!L.displayCancel),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",L.displaySubmit||L.displayCancel))},styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]}),T})()},4786:(R,c,e)=>{"use strict";e.d(c,{o:()=>b});var t=e(77007),n=e(48358),a=e(49887),i=e(5476),d=e(89702);const r=o=>o.forms;function l(o){return(0,d.P1)(r,D=>D[o])}var p=e(87893),h=e(5737),m=e(45608),_=e(24112),v=e.n(_),y=e(64405),O=e(76774),S=e(98678);let b=(()=>{class o{constructor(M,C){this.formBuilderService=M,this.store=C}isValid(M){return this.store.pipe((0,d.Ys)(l(M)),(0,t.h)(C=>(0,m.pT)(C)),(0,n.U)(C=>C.valid),(0,a.x)())}getFormData(M){return this.store.pipe((0,d.Ys)(l(M)),(0,t.h)(C=>(0,m.pT)(C)),(0,n.U)(C=>C.data),(0,a.x)())}getFormTouchedState(M){return this.store.pipe((0,d.Ys)(l(M)),(0,t.h)(C=>(0,m.pT)(C)),(0,n.U)(C=>C.touched),(0,a.x)())}getFormErrors(M){return this.store.pipe((0,d.Ys)(l(M)),(0,t.h)(C=>(0,m.pT)(C)),(0,n.U)(C=>C.errors),(0,a.x)())}isFormInitialized(M){return this.store.pipe((0,d.Ys)(l(M)),(0,a.x)(),(0,n.U)(C=>(0,m.pT)(C)))}getUniqueId(M){return v()()+"_"+M}validateAllFormFields(M){Object.keys(M.controls).forEach(C=>{const T=M.get(C);T instanceof i.p4?(T.markAsTouched({onlySelf:!0}),T.markAsDirty({onlySelf:!0})):(T instanceof i.nJ||T instanceof i.vC)&&this.validateAllFormFields(T)})}hasValidationErrors(M){let C=!1;const T=Object.keys(M.controls);for(const g of T){const U=M.get(g);if(U instanceof i.p4?C=!U.valid&&U.touched:(U instanceof i.nJ||U instanceof i.vC)&&(C=this.hasValidationErrors(U)),C)break}return C}addControlErrors(M,C,T,g){Object.keys(M.errors).filter(L=>!0===M.errors[L]).map(L=>`error.validation.${L}`).forEach(L=>this.addError(C,T,g,L))}addErrorToField(M,C,T){const g={},U=this.getValidatorNameFromMap(T);let L=T;C.errorMessages||(C.errorMessages={}),(0,m.xb)(C.errorMessages[U])?C.errorMessages[U]=T:L=C.errorMessages[U],M.hasError(U)||(g[U]=!0,M.setErrors(g)),M instanceof i.nJ&&C instanceof h.S_O&&this.formBuilderService.isConcatGroup(C)&&C.group.forEach(j=>{this.addErrorToField(M.controls[j.id],j,T)}),M.markAsTouched()}removeErrorFromField(M,C,T){const g={},U=this.getValidatorNameFromMap(T);M.hasError(U)&&(g[U]=null,M.setErrors(g)),M instanceof i.nJ&&C instanceof h.S_O&&this.formBuilderService.isConcatGroup(C)&&C.group.forEach(L=>{this.removeErrorFromField(M.controls[L.id],L,T)}),M.markAsUntouched()}resetForm(M,C,T){this.formBuilderService.clearAllModelsValue(C),M.reset(),this.store.dispatch(new y.q0(T,M.value))}getValidatorNameFromMap(M){if(M.includes(".")){const C=M.split(".");C&&C.length>0&&(M=this.getValidatorNameFromMap(C[C.length-1]))}return O.N.form.validatorMap.hasOwnProperty(M)?O.N.form.validatorMap[M]:M}initForm(M,C,T){this.store.dispatch(new y.Zn(M,this.formBuilderService.getValueFromModel(C),T))}setStatusChanged(M,C){this.store.dispatch(new y.Ag(M,C))}getForm(M){return this.store.pipe((0,d.Ys)(l(M)))}removeForm(M){this.store.dispatch(new y.yf(M))}changeForm(M,C){this.store.dispatch(new y.q0(M,this.formBuilderService.getValueFromModel(C)))}setTouched(M,C,T){const g=this.formBuilderService.getMetadataIdsFromEvent(T);this.store.dispatch(new y.QQ(M,g))}addError(M,C,T,g){const U=C.replace(/\./g,"_");this.store.dispatch(new y.A4(M,U,T,g))}removeError(M,C,T){const g=C.replace(/\./g,"_");this.store.dispatch(new y.S$(M,g,T))}}return o.\u0275fac=function(M){return new(M||o)(S.\u0275\u0275inject(p.c),S.\u0275\u0275inject(d.yh))},o.\u0275prov=S.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})()},61738:(R,c,e)=>{"use strict";e.d(c,{g:()=>r});var t=e(98678),n=e(5476),a=e(45608),i=e(35103);const d=function(l){return{"is-invalid":l}};let r=(()=>{class l{constructor(h,m){this.fb=h,this.cd=m,this.selected=new t.EventEmitter,this.remove=new t.EventEmitter,this.blur=new t.EventEmitter,this.change=new t.EventEmitter,this.focus=new t.EventEmitter}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(h){this.value?h.max&&(this.value=this.value>this.max?this.max:this.value):h.value&&null===h.value.currentValue?this.value=null:h.invalid&&(this.invalid=h.invalid.currentValue)}changeValue(h=!1){if((0,a.xb)(this.value))this.value=this.startValue;else{this.startValue=this.value;let m=this.value;h?m-=this.step:m+=this.step,this.value=m>=this.min&&m<=this.max?m:m>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(h){try{const m=Number.parseInt(h.target.value,10);this.value=m>=this.min&&m<=this.max?m:null===h.target.value||""===h.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(h){this.blur.emit(h)}onFocus(h){this.value&&(this.startValue=this.value),this.focus.emit(h)}writeValue(h){this.startValue=h||this.min}registerOnChange(h){}registerOnTouched(h){}emitChange(){this.change.emit({field:this.name,value:this.value})}}return l.\u0275fac=function(h){return new(h||l)(t.\u0275\u0275directiveInject(n.QS),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[t.\u0275\u0275ProvidersFeature([{provide:n.JU,useExisting:l,multi:!0}]),t.\u0275\u0275NgOnChangesFeature],decls:10,vars:14,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","mr-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"disabled","click"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title","ngModelChange","blur","change","focus"],[1,"chevron","bottom"]],template:function(h,m){1&h&&(t.\u0275\u0275elementStart(0,"div",0)(1,"button",1),t.\u0275\u0275listener("click",function(){return m.toggleUp()}),t.\u0275\u0275element(2,"span",2),t.\u0275\u0275elementStart(3,"span",3),t.\u0275\u0275text(4,"Increment"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"input",4),t.\u0275\u0275listener("ngModelChange",function(v){return m.value=v})("blur",function(v){return m.onBlur(v),v.stopPropagation()})("change",function(v){return m.update(v),v.stopPropagation()})("focus",function(v){return m.onFocus(v),v.stopPropagation()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",1),t.\u0275\u0275listener("click",function(){return m.toggleDown()}),t.\u0275\u0275element(7,"span",5),t.\u0275\u0275elementStart(8,"span",3),t.\u0275\u0275text(9,"Decrement"),t.\u0275\u0275elementEnd()()()),2&h&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",m.disabled),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("id",m.id),t.\u0275\u0275propertyInterpolate("maxlength",m.size),t.\u0275\u0275propertyInterpolate("size",m.size),t.\u0275\u0275propertyInterpolate("placeholder",m.placeholder),t.\u0275\u0275propertyInterpolate("title",m.placeholder),t.\u0275\u0275property("name",m.name)("ngModel",m.value)("readonly",m.disabled)("disabled",m.disabled)("ngClass",t.\u0275\u0275pureFunction1(12,d,m.invalid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",m.disabled))},dependencies:[i.mk,n.Fj,n.JJ,n.nD,n.On],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#066;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']}),l})()},76320:(R,c,e)=>{"use strict";e.d(c,{C:()=>l});var t=e(98678),n=e(73194),a=e(10572),i=e(10844),d=e(45608),r=e(35103);let l=(()=>{class p{constructor(m,_){this._window=m,this.configService=_,this.executeRecaptcha=new t.EventEmitter,this.checkboxChecked=new t.EventEmitter,this.showNotification=new t.EventEmitter,this.dataCallbackFcn=v=>{switch(this.captchaMode){case"invisible":this.executeRecaptcha.emit(v);break;case"checkbox":this.checkboxChecked.emit((0,d.UE)(v));break;default:console.error(`Invalid reCaptcha mode '${this.captchaMode}`),this.showNotification.emit("error")}},this.expiredCallbackFcn=()=>{this.checkboxChecked.emit(!1),this.showNotification.emit("expired")},this.errorCallbackFcn=()=>{this.showNotification.emit("error")}}ngOnInit(){this.recaptchaKey$=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,a.Gp)()),this._window.nativeWindow.dataCallback=this.dataCallbackFcn,this._window.nativeWindow.expiredCallback=this.expiredCallbackFcn,this._window.nativeWindow.errorCallback=this.errorCallbackFcn}}return p.\u0275fac=function(m){return new(m||p)(t.\u0275\u0275directiveInject(i.DC),t.\u0275\u0275directiveInject(n.i))},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["ds-google-recaptcha"]],inputs:{captchaMode:"captchaMode"},outputs:{executeRecaptcha:"executeRecaptcha",checkboxChecked:"checkboxChecked",showNotification:"showNotification"},decls:2,vars:7,consts:[[1,"g-recaptcha"]],template:function(m,_){if(1&m&&(t.\u0275\u0275element(0,"div",0),t.\u0275\u0275pipe(1,"async")),2&m){let v;t.\u0275\u0275attribute("data-callback","dataCallback")("data-expired-callback","expiredCallback")("data-error-callback","errorCallback")("data-sitekey",null==(v=t.\u0275\u0275pipeBind1(1,5,_.recaptchaKey$))?null:v.values[0])("data-size","invisible"===_.captchaMode?"invisible":null)}},dependencies:[r.Ov]}),p})()},6699:(R,c,e)=>{"use strict";e.d(c,{n:()=>_});var t=e(45608),n=e(73194),a=e(10572),i=e(48358),d=e(77176),r=e(9237),l=e(98678);const m=/^([^\/]+\/[^\/]+)$/;let _=(()=>{class v{constructor(O){this.configurationService=O}normalizeHandle(O){return(0,t.xI)(O)?(0,r.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,a.hC)(),(0,i.U)(S=>{if(S.hasSucceeded)return S.payload.values.length>=1?S.payload.values[0]:void 0}),(0,i.U)(S=>{let b;return b=O.match((v=>{const y=v?.replace(/\/$/,"");return new RegExp(`(${y?y+"|":""}handle)/([^/]+/[^/]+)$`)})(S)),((0,t.xb)(b)||b.length<3)&&(b=O.match(m)),(0,t.xb)(b)||b.length<2?null:b[b.length-1]}),(0,d.q)(1))}}return v.\u0275fac=function(O){return new(O||v)(l.\u0275\u0275inject(n.i))},v.\u0275prov=l.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},53444:(R,c,e)=>{"use strict";e.d(c,{D:()=>a,L:()=>n});const n={RESIZE:(0,e(49754).d)("dspace/host-window/RESIZE")};class a{constructor(d,r){this.type=n.RESIZE,this.payload={width:d,height:r}}}},79849:(R,c,e)=>{"use strict";e.d(c,{I:()=>v,o:()=>h});var t=e(53426),n=e(77007),a=e(48358),i=e(49887),d=e(89702),r=e(45608),l=e(11221),p=e(98678),h=(()=>{return(y=h||(h={}))[y.XS=0]="XS",y[y.SM=1]="SM",y[y.MD=2]="MD",y[y.LG=3]="LG",y[y.XL=4]="XL",h;var y})();const _=(0,d.P1)(y=>y.hostWindow,y=>y.width);let v=(()=>{class y{constructor(S,b){this.store=S,this.variableService=b,this.breakPoints={},b.getAllVariables().subscribe(o=>{this.breakPoints.XL_MIN=parseInt(o["--bs-xl-min"],10),this.breakPoints.LG_MIN=parseInt(o["--bs-lg-min"],10),this.breakPoints.MD_MIN=parseInt(o["--bs-md-min"],10),this.breakPoints.SM_MIN=parseInt(o["--bs-sm-min"],10)})}getWidthObs(){return this.store.pipe((0,d.Ys)(_),(0,n.h)(S=>(0,r.Uh)(S)))}get widthCategory(){return this.getWidthObs().pipe((0,a.U)(S=>S<this.breakPoints.SM_MIN?h.XS:S>=this.breakPoints.SM_MIN&&S<this.breakPoints.MD_MIN?h.SM:S>=this.breakPoints.MD_MIN&&S<this.breakPoints.LG_MIN?h.MD:S>=this.breakPoints.LG_MIN&&S<this.breakPoints.XL_MIN?h.LG:h.XL),(0,i.x)())}isXs(){return this.widthCategory.pipe((0,a.U)(S=>S===h.XS),(0,i.x)())}isSm(){return this.widthCategory.pipe((0,a.U)(S=>S===h.SM),(0,i.x)())}isMd(){return this.widthCategory.pipe((0,a.U)(S=>S===h.MD),(0,i.x)())}isLg(){return this.widthCategory.pipe((0,a.U)(S=>S===h.LG),(0,i.x)())}isXl(){return this.widthCategory.pipe((0,a.U)(S=>S===h.XL),(0,i.x)())}isXsOrSm(){return(0,t.a)(this.isXs(),this.isSm()).pipe((0,a.U)(([S,b])=>S||b),(0,i.x)())}}return y.\u0275fac=function(S){return new(S||y)(p.\u0275\u0275inject(d.yh),p.\u0275\u0275inject(l.I))},y.\u0275prov=p.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})()},60786:(R,c,e)=>{"use strict";e.d(c,{P:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d){this.elementRef=d}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ElementRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsHoverClass",""]],hostBindings:function(d,r){1&d&&t.\u0275\u0275listener("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{hoverClass:["dsHoverClass","hoverClass"]}}),a})()},4989:(R,c,e)=>{"use strict";e.d(c,{$:()=>m});var t=e(89702),n=e(38123),a=e(48358),i=e(36533),d=e(98678),r=e(35103),l=e(65706),p=e(96342);function h(_,v){if(1&_){const y=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ul",1)(1,"li",2)(2,"button",3),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(y);const S=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(S.stopImpersonating())}),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275element(4,"i",4),d.\u0275\u0275elementEnd()()()}2&_&&(d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate("ngbTooltip",d.\u0275\u0275pipeBind1(3,1,"nav.stop-impersonating")))}let m=(()=>{class _{constructor(y,O,S){this.elRef=y,this.store=O,this.authService=S,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,t.Ys)(i.$8)).pipe((0,a.U)(y=>y&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(y=>{y?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}}return _.\u0275fac=function(y){return new(y||_)(d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(t.yh),d.\u0275\u0275directiveInject(n.e8))},_.\u0275cmp=d.\u0275\u0275defineComponent({type:_,selectors:[["ds-impersonate-navbar"]],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"ngbTooltip","click"],[1,"fa","fa-user-secret"]],template:function(y,O){1&y&&(d.\u0275\u0275template(0,h,5,3,"ul",0),d.\u0275\u0275pipe(1,"async")),2&y&&d.\u0275\u0275property("ngIf",d.\u0275\u0275pipeBind1(1,1,O.isImpersonating$))},dependencies:[r.O5,l._L,r.Ov,p.X$],encapsulation:2}),_})()},47513:(R,c,e)=>{"use strict";e.d(c,{Q:()=>b});var t=e(98678),n=e(5476),a=e(26172),i=e(41529),d=e(64455),r=e(45608),l=e(8842),p=e(35103),h=e(35534),m=e(80632),_=e(35392);function v(o,D){if(1&o){const M=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"button",8,9),t.\u0275\u0275listener("click",function(){const g=t.\u0275\u0275restoreView(M).$implicit,U=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(U.onClickSuggestion(g))}),t.\u0275\u0275element(3,"ds-listable-object-component-loader",10),t.\u0275\u0275elementEnd()()}if(2&o){const M=D.$implicit,C=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("object",M)("viewMode",C.viewMode)("linkType",C.linkTypes.None)}}const y=function(o){return{"is-invalid":o}},O=function(){return{standalone:!0}},S=function(o){return{show:o}};let b=(()=>{class o extends a.o{constructor(M){super(),this.dsoNameService=M,this.viewMode=i.w.ListElement,this.linkTypes=d.m,this.suggestions=[]}onSubmit(M){(0,r.Uh)(M)&&(this.value=this.dsoNameService.getName(M),this.currentObject=M,this.submitSuggestion.emit(M))}onClickSuggestion(M){return this.value=this.dsoNameService.getName(M),this.currentObject=M,this.clickSuggestion.emit(M),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}return o.\u0275fac=function(M){return new(M||o)(t.\u0275\u0275directiveInject(l._))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ds-dso-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[t.\u0275\u0275ProvidersFeature([{provide:n.JU,useExisting:(0,t.forwardRef)(()=>o),multi:!0}]),t.\u0275\u0275InheritDefinitionFeature],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input","mb-2",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"object","viewMode","linkType"]],template:function(M,C){1&M&&(t.\u0275\u0275elementStart(0,"form",0,1),t.\u0275\u0275listener("ngSubmit",function(){return C.onSubmit(C.currentObject)})("keydown.arrowdown",function(g){return C.shiftFocusDown(g)})("keydown.arrowup",function(g){return C.shiftFocusUp(g)})("keydown.esc",function(){return C.close()})("dsClickOutside",function(){return C.close()}),t.\u0275\u0275elementStart(2,"input",2,3),t.\u0275\u0275listener("ngModelChange",function(g){return C.value=g})("onDebounce",function(g){return C.find(g)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"input",4),t.\u0275\u0275elementStart(5,"div",5),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementStart(7,"div",6),t.\u0275\u0275template(8,v,4,3,"div",7),t.\u0275\u0275elementEnd()()()),2&M&&(t.\u0275\u0275property("action",C.action,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",C.value)("name",C.name)("ngClass",t.\u0275\u0275pureFunction1(11,y,!C.valid))("dsDebounce",C.debounceTime)("placeholder",C.placeholder)("ngModelOptions",t.\u0275\u0275pureFunction0(13,O)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,S,t.\u0275\u0275pipeBind1(6,9,C.show)&&C.isNotEmpty(C.suggestions))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",C.suggestions))},dependencies:[p.mk,p.sg,n._Y,n.Fj,n.JJ,n.JL,n.On,n.F,h.p,m.q,_._,p.Ov],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),o})()},10949:(R,c,e)=>{"use strict";e.d(c,{g:()=>S});var t=e(98678),n=e(5476),a=e(26172),i=e(35103),d=e(80632),r=e(35392),l=e(96342);function p(b,o){1&b&&t.\u0275\u0275elementContainer(0)}function h(b,o){if(1&b&&(t.\u0275\u0275elementStart(0,"label",10)(1,"span",11),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,p,1,0,"ng-container",12),t.\u0275\u0275elementEnd()),2&b){const D=t.\u0275\u0275nextContext(),M=t.\u0275\u0275reference(5);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",D.label," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",M)}}const m=function(b){return{"is-invalid":b}},_=function(){return{standalone:!0}};function v(b,o){if(1&b){const D=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",13,14),t.\u0275\u0275listener("ngModelChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.value=C)})("onDebounce",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.find(C))}),t.\u0275\u0275elementEnd()}if(2&b){const D=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngModel",D.value)("name",D.name)("ngClass",t.\u0275\u0275pureFunction1(6,m,!D.valid))("dsDebounce",D.debounceTime)("placeholder",D.placeholder)("ngModelOptions",t.\u0275\u0275pureFunction0(8,_))}}function y(b,o){if(1&b){const D=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"a",15,16),t.\u0275\u0275listener("click",function(){const T=t.\u0275\u0275restoreView(D).$implicit,g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.onClickSuggestion(T))}),t.\u0275\u0275element(3,"span",17),t.\u0275\u0275elementEnd()()}if(2&b){const D=o.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("innerHTML",D.displayValue,t.\u0275\u0275sanitizeHtml)}}const O=function(b){return{show:b}};let S=(()=>{class b extends a.o{constructor(){super(...arguments),this.suggestions=[]}onSubmit(D){this.value=D,this.submitSuggestion.emit(D)}onClickSuggestion(D){return this.value=D.value,this.clickSuggestion.emit(D),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}return b.\u0275fac=function(){let o;return function(M){return(o||(o=t.\u0275\u0275getInheritedFactory(b)))(M||b)}}(),b.\u0275cmp=t.\u0275\u0275defineComponent({type:b,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[t.\u0275\u0275ProvidersFeature([{provide:n.JU,useExisting:(0,t.forwardRef)(()=>b),multi:!0}]),t.\u0275\u0275InheritDefinitionFeature],decls:15,vars:12,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],[1,"form-group","mb-0"],["class","mb-0",4,"ngIf","ngIfElse"],["searchInput",""],[1,"d-none"],["type","submit"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0"],[1,"font-weight-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","onDebounce"],["inputField",""],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:function(D,M){if(1&D&&(t.\u0275\u0275elementStart(0,"form",0,1),t.\u0275\u0275listener("ngSubmit",function(){return M.onSubmit(M.value)})("keydown",function(T){return M.onKeydown(T)})("keydown.arrowdown",function(T){return M.shiftFocusDown(T)})("keydown.arrowup",function(T){return M.shiftFocusUp(T)})("keydown.esc",function(){return M.close()})("dsClickOutside",function(){return M.close()}),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275template(3,h,4,2,"label",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,v,2,9,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"label",5),t.\u0275\u0275element(7,"input",6),t.\u0275\u0275elementStart(8,"span"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",7),t.\u0275\u0275pipe(12,"async"),t.\u0275\u0275elementStart(13,"div",8),t.\u0275\u0275template(14,y,4,1,"div",9),t.\u0275\u0275elementEnd()()()),2&D){const C=t.\u0275\u0275reference(5);t.\u0275\u0275property("action",M.action,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",M.label)("ngIfElse",C),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,6,"search.filters.search.submit")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(10,O,t.\u0275\u0275pipeBind1(12,8,M.show)&&M.isNotEmpty(M.suggestions))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",M.suggestions)}},dependencies:[i.mk,i.sg,i.O5,i.tP,n._Y,n.Fj,n.JJ,n.JL,n.On,n.F,d.q,r._,i.Ov,l.X$],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),b})()},26172:(R,c,e)=>{"use strict";e.d(c,{o:()=>O});var t=e(98678),n=e(35841),a=e(45608),i=e(35103),d=e(5476),r=e(80632),l=e(35392);const p=["inputField"],h=["suggestion"];function m(S,b){if(1&S){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"a",8,9),t.\u0275\u0275listener("click",function(){const C=t.\u0275\u0275restoreView(o).$implicit,T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onClickSuggestion(C.value))}),t.\u0275\u0275element(3,"span",10),t.\u0275\u0275elementEnd()()}if(2&S){const o=b.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("innerHTML",o.displayValue,t.\u0275\u0275sanitizeHtml)}}const _=function(S){return{"is-invalid":S}},v=function(){return{standalone:!0}},y=function(S){return{show:S}};let O=(()=>{class S{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.EventEmitter,this.clickSuggestion=new t.EventEmitter,this.typeSuggestion=new t.EventEmitter,this.findSuggestions=new t.EventEmitter,this.show=new n.X(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=o=>{},this.propagateTouch=o=>{}}ngOnChanges(o){(0,a.Uh)(o.suggestions)&&this.show.next((0,a.UE)(o.suggestions.currentValue)&&!o.suggestions.firstChange)}shiftFocusUp(o){o.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(o){o.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(o){"Enter"!==o.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(o){return(0,a.UE)(o)}onSubmit(o){}onClickSuggestion(o){}find(o){this.blockReopen||(this.findSuggestions.emit(o),this.typeSuggestion.emit(o)),this.blockReopen=!1}registerOnChange(o){this.propagateChange=o}registerOnTouched(o){this.propagateTouch=o}setDisabledState(o){this.disabled=o}writeValue(o){this.value=o}get value(){return this._value}set value(o){this._value=o,this.propagateChange(this._value)}}return S.\u0275fac=function(o){return new(o||S)},S.\u0275cmp=t.\u0275\u0275defineComponent({type:S,selectors:[["ds-input-suggestions"]],viewQuery:function(o,D){if(1&o&&(t.\u0275\u0275viewQuery(p,5),t.\u0275\u0275viewQuery(h,5)),2&o){let M;t.\u0275\u0275queryRefresh(M=t.\u0275\u0275loadQuery())&&(D.queryInput=M.first),t.\u0275\u0275queryRefresh(M=t.\u0275\u0275loadQuery())&&(D.resultViews=M)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},features:[t.\u0275\u0275NgOnChangesFeature],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:function(o,D){1&o&&(t.\u0275\u0275elementStart(0,"form",0,1),t.\u0275\u0275listener("ngSubmit",function(){return D.onSubmit(D.value)})("keydown",function(C){return D.onKeydown(C)})("keydown.arrowdown",function(C){return D.shiftFocusDown(C)})("keydown.arrowup",function(C){return D.shiftFocusUp(C)})("keydown.esc",function(){return D.close()})("dsClickOutside",function(){return D.close()}),t.\u0275\u0275elementStart(2,"input",2,3),t.\u0275\u0275listener("ngModelChange",function(C){return D.value=C})("onDebounce",function(C){return D.find(C)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"input",4),t.\u0275\u0275elementStart(5,"div",5),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementStart(7,"div",6),t.\u0275\u0275template(8,m,4,1,"div",7),t.\u0275\u0275elementEnd()()()),2&o&&(t.\u0275\u0275property("action",D.action,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",D.value)("name",D.name)("ngClass",t.\u0275\u0275pureFunction1(11,_,!D.valid))("dsDebounce",D.debounceTime)("placeholder",D.placeholder)("ngModelOptions",t.\u0275\u0275pureFunction0(13,v)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,y,t.\u0275\u0275pipeBind1(6,9,D.show)&&D.isNotEmpty(D.suggestions))),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",D.suggestions))},dependencies:[i.mk,i.sg,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,r.q,l._,i.Ov],encapsulation:2}),S})()},82603:(R,c,e)=>{"use strict";e.r(c),e.d(c,{LangSwitchComponent:()=>h});var t=e(76774),n=e(73873),a=e(98678),i=e(96342),d=e(35103),r=e(65706);function l(m,_){if(1&m){const v=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li",6,7),a.\u0275\u0275listener("keyup.enter",function(){const S=a.\u0275\u0275restoreView(v).$implicit,b=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(b.useLang(S))})("click",function(){const S=a.\u0275\u0275restoreView(v).$implicit,b=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(b.useLang(S))}),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()}if(2&m){const v=_.$implicit,y=a.\u0275\u0275nextContext(2);a.\u0275\u0275classProp("active",v===y.translate.currentLang),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",y.langLabel(v)," ")}}function p(m,_){if(1&m&&(a.\u0275\u0275elementStart(0,"div",1)(1,"a",2),a.\u0275\u0275listener("click",function(y){return y.preventDefault()}),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275element(4,"i",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"ul",4),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275template(7,l,3,3,"li",5),a.\u0275\u0275elementEnd()()),2&m){const v=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(3,6,"nav.language")),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(2,4,"nav.language")),a.\u0275\u0275advance(4),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(6,8,"nav.language")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",v.translate.getLangs())}}let h=(()=>{class m{constructor(v,y,O){this.el=v,this.translate=y,this.localeService=O}ngOnInit(){this.activeLangs=t.N.languages.filter(v=>!0===v.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(v=>v.code===this.translate.currentLang).label}langLabel(v){return this.activeLangs.find(y=>y.code===v).label}useLang(v){this.localeService.setCurrentLanguageCode(v),this.localeService.refreshAfterChangeLanguage()}}return m.\u0275fac=function(v){return new(v||m)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(i.sK),a.\u0275\u0275directiveInject(n.OL))},m.\u0275cmp=a.\u0275\u0275defineComponent({type:m,selectors:[["ds-lang-switch"]],decls:1,vars:1,consts:[["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","button","data-toggle","dropdown","ngbDropdownToggle","","tabindex","0",3,"title","click"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item","tabindex","0",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0",1,"dropdown-item",3,"keyup.enter","click"],["langSelect",""]],template:function(v,y){1&v&&a.\u0275\u0275template(0,p,8,10,"div",0),2&v&&a.\u0275\u0275property("ngIf",y.moreThanOneLanguage)},dependencies:[d.sg,d.O5,r.jt,r.iD,r.Vi,i.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]}),m})()},5009:(R,c,e)=>{"use strict";e.d(c,{$:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{getComponentName(){return"LangSwitchComponent"}importThemedComponent(p){return e(86251)(`./${p}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,82603))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-lang-switch"]],features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},2594:(R,c,e)=>{"use strict";e.r(c),e.d(c,{LoadingComponent:()=>p});var t=e(45608),n=e(98678),a=e(96342),i=e(35103);function d(h,m){if(1&h&&(n.\u0275\u0275elementStart(0,"label"),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&h){const _=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(_.message)}}function r(h,m){if(1&h&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275template(1,d,2,1,"label",0),n.\u0275\u0275elementStart(2,"div",2),n.\u0275\u0275element(3,"span",3)(4,"span",4)(5,"span",5)(6,"span",6)(7,"span",7)(8,"span",8)(9,"span",9)(10,"span",10)(11,"span",11)(12,"span",12),n.\u0275\u0275elementEnd()()),2&h){const _=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",_.showMessage&&_.message)}}function l(h,m){if(1&h&&(n.\u0275\u0275elementStart(0,"div",13)(1,"span",14),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd()()),2&h){const _=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(_.message)}}let p=(()=>{class h{constructor(_){this.translate=_,this.showMessage=!0,this.spinner=!1}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("loading.default").subscribe(_=>{this.message=_}))}ngOnDestroy(){(0,t.Uh)(this.subscription)&&this.subscription.unsubscribe()}}return h.\u0275fac=function(_){return new(_||h)(n.\u0275\u0275directiveInject(a.sK))},h.\u0275cmp=n.\u0275\u0275defineComponent({type:h,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},decls:2,vars:2,consts:[[4,"ngIf"],["class","spinner spinner-border","role","status",4,"ngIf"],[1,"loader"],[1,"l-1"],[1,"l-2"],[1,"l-3"],[1,"l-4"],[1,"l-5"],[1,"l-6"],[1,"l-7"],[1,"l-8"],[1,"l-9"],[1,"l-10"],["role","status",1,"spinner","spinner-border"],[1,"sr-only"]],template:function(_,v){1&_&&(n.\u0275\u0275template(0,r,13,1,"div",0),n.\u0275\u0275template(1,l,3,1,"div",1)),2&_&&(n.\u0275\u0275property("ngIf",!v.spinner),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",v.spinner))},dependencies:[i.O5],styles:[".loader[_ngcontent-%COMP%]{margin:0 25px}span[_ngcontent-%COMP%]{display:block;margin:0 auto}span[class*=l-][_ngcontent-%COMP%]{height:4px;width:4px;background:#000;display:inline-block;margin:12px 2px;border-radius:100%;-webkit-border-radius:100%;-moz-border-radius:100%;-webkit-animation:_ngcontent-%COMP%_loader 2s infinite;-webkit-animation-timing-function:cubic-bezier(.03,.615,.995,.415);-webkit-animation-fill-mode:both;-moz-animation:loader 2s infinite;-moz-animation-timing-function:cubic-bezier(.03,.615,.995,.415);-moz-animation-fill-mode:both;-ms-animation:loader 2s infinite;-ms-animation-timing-function:cubic-bezier(.03,.615,.995,.415);-ms-animation-fill-mode:both;animation:_ngcontent-%COMP%_loader 2s infinite;animation-timing-function:cubic-bezier(.03,.615,.995,.415);animation-fill-mode:both}span.l-1[_ngcontent-%COMP%]{animation-delay:1s;-ms-animation-delay:1s;-moz-animation-delay:1s}span.l-2[_ngcontent-%COMP%]{animation-delay:.9s;-ms-animation-delay:.9s;-moz-animation-delay:.9s}span.l-3[_ngcontent-%COMP%]{animation-delay:.8s;-ms-animation-delay:.8s;-moz-animation-delay:.8s}span.l-4[_ngcontent-%COMP%]{animation-delay:.7s;-ms-animation-delay:.7s;-moz-animation-delay:.7s}span.l-5[_ngcontent-%COMP%]{animation-delay:.6s;-ms-animation-delay:.6s;-moz-animation-delay:.6s}span.l-6[_ngcontent-%COMP%]{animation-delay:.5s;-ms-animation-delay:.5s;-moz-animation-delay:.5s}span.l-7[_ngcontent-%COMP%]{animation-delay:.4s;-ms-animation-delay:.4s;-moz-animation-delay:.4s}span.l-8[_ngcontent-%COMP%]{animation-delay:.3s;-ms-animation-delay:.3s;-moz-animation-delay:.3s}span.l-9[_ngcontent-%COMP%]{animation-delay:.2s;-ms-animation-delay:.2s;-moz-animation-delay:.2s}span.l-9[_ngcontent-%COMP%]{animation-delay:.1s;-ms-animation-delay:.1s;-moz-animation-delay:.1s}span.l-10[_ngcontent-%COMP%]{animation-delay:0s;-ms-animation-delay:0s;-moz-animation-delay:0s}@keyframes _ngcontent-%COMP%_loader{0%{transform:translate(-30px);opacity:0}25%{opacity:1}50%{transform:translate(30px);opacity:0}to{opacity:0}}.spinner[_ngcontent-%COMP%]{color:var(--bs-gray-600)}"]}),h})()},87657:(R,c,e)=>{"use strict";e.d(c,{Z:()=>r});var t=e(4682),n=e(34216),a=e(98678);function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(h,m,_){super(h,m,_),this.resolver=h,this.cdr=m,this.themeService=_,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(h){return e(65645)(`./${h}/app/shared/loading/loading.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,2594))}}return l.\u0275fac=function(h){return new(h||l)(a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(n.fY))},l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},59954:(R,c,e)=>{"use strict";e.d(c,{B:()=>d});var t=e(98678),n=e(81156),a=e(35103);function i(r,l){1&r&&t.\u0275\u0275elementContainer(0)}let d=(()=>{class r{constructor(p){this.injector=p}ngOnInit(){this.objectInjector=t.Injector.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,n.H)(this.authMethod.authMethodType)}}return r.\u0275fac=function(p){return new(p||r)(t.\u0275\u0275directiveInject(t.Injector))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(p,h){1&p&&t.\u0275\u0275template(0,i,1,0,"ng-container",0),2&p&&t.\u0275\u0275property("ngComponentOutlet",h.getAuthMethodContent())("ngComponentOutletInjector",h.objectInjector)},dependencies:[a.$G],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important}[_nghost-%COMP%]     .card-header button{width:100%}"]}),r})()},65329:(R,c,e)=>{"use strict";e.r(c),e.d(c,{LogInComponent:()=>S});var t=e(48358),n=e(89702),a=e(36533),i=e(45608),d=e(38123),r=e(81156),l=e(98678),p=e(35103),h=e(87657),m=e(59954);function _(b,o){1&b&&l.\u0275\u0275element(0,"ds-themed-loading",2)}function v(b,o){1&b&&l.\u0275\u0275element(0,"div",7)}function y(b,o){if(1&b&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275element(1,"ds-log-in-container",5),l.\u0275\u0275template(2,v,1,0,"div",6),l.\u0275\u0275elementContainerEnd()),2&b){const D=o.$implicit,M=o.last,C=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("authMethod",D)("isStandalonePage",C.isStandalonePage),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!M)}}function O(b,o){if(1&b&&(l.\u0275\u0275elementStart(0,"div",3),l.\u0275\u0275template(1,y,3,3,"ng-container",4),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementEnd()),2&b){const D=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",l.\u0275\u0275pipeBind1(2,1,D.authMethods))}}let S=(()=>{class b{constructor(D,M){this.store=D,this.authService=M}ngOnInit(){this.authMethods=this.store.pipe((0,n.Ys)(a.jd),(0,t.U)(D=>D.filter(M=>void 0!==(0,r.H)(M.authMethodType)).sort((M,C)=>M.position-C.position))),this.loading=this.store.pipe((0,n.Ys)(a.EC)),this.isAuthenticated=this.store.pipe((0,n.Ys)(a.$8)),this.store.pipe((0,n.Ys)(a.Kv)).subscribe(D=>{(0,i.Uh)(D)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}}return b.\u0275fac=function(D){return new(D||b)(l.\u0275\u0275directiveInject(n.yh),l.\u0275\u0275directiveInject(d.e8))},b.\u0275cmp=l.\u0275\u0275defineComponent({type:b,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(D,M){1&D&&(l.\u0275\u0275template(0,_,1,0,"ds-themed-loading",0),l.\u0275\u0275pipe(1,"async"),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275template(3,O,3,3,"div",1),l.\u0275\u0275pipe(4,"async"),l.\u0275\u0275pipe(5,"async")),2&D&&(l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(1,2,M.loading)||l.\u0275\u0275pipeBind1(2,4,M.isAuthenticated)),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(4,6,M.loading)&&!l.\u0275\u0275pipeBind1(5,8,M.isAuthenticated)))},dependencies:[p.sg,p.O5,h.Z,m.B,p.Ov],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0}),b})()},81156:(R,c,e)=>{"use strict";e.d(c,{H:()=>a,J:()=>n});const t=new Map;function n(i){return function(r){r&&t.set(i,r)}}function a(i){return t.get(i)}},14372:(R,c,e)=>{"use strict";e.d(c,{i:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(p){return e(77138)(`./${p}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,65329))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},57231:(R,c,e)=>{"use strict";e.d(c,{P:()=>_});var t=e(89702),n=e(48829),a=e(36533),i=e(58106),d=e(98678),r=e(67522),l=e(35103),p=e(96342),h=e(7027);function m(v,y){if(1&v&&(d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"async"),d.\u0275\u0275elementEnd()),2&v){const O=d.\u0275\u0275nextContext();d.\u0275\u0275property("@fadeOut",void 0),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,2,O.error))}}let _=(()=>{class v{constructor(O,S){this.router=O,this.store=S}ngOnInit(){this.error=this.store.pipe((0,t.Ys)(a.Ky))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new n.Hj)}}return v.\u0275fac=function(O){return new(O||v)(d.\u0275\u0275directiveInject(r.F0),d.\u0275\u0275directiveInject(t.yh))},v.\u0275cmp=d.\u0275\u0275defineComponent({type:v,selectors:[["ds-log-out"]],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(O,S){1&O&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275template(1,m,3,4,"div",1),d.\u0275\u0275pipe(2,"async"),d.\u0275\u0275elementStart(3,"button",2),d.\u0275\u0275listener("click",function(){return S.logOut()}),d.\u0275\u0275pipe(4,"dsBrowserOnly"),d.\u0275\u0275element(5,"i",3),d.\u0275\u0275text(6),d.\u0275\u0275pipe(7,"translate"),d.\u0275\u0275elementEnd()()),2&O&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",d.\u0275\u0275pipeBind1(2,3,S.error)),d.\u0275\u0275advance(2),d.\u0275\u0275attribute("data-test",d.\u0275\u0275pipeBind1(4,5,"logout-button")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(7,7,"logout.form.submit"),""))},dependencies:[l.O5,l.Ov,p.X$,h.g],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[i.U6]}}),v})()},82126:(R,c,e)=>{"use strict";e.d(c,{z:()=>t});var t=(()=>{return(n=t||(t={})).ADMIN="admin-sidebar",n.PUBLIC="public",n.DSO_EDIT="dso-edit",t;var n})()},27696:(R,c,e)=>{"use strict";e.d(c,{U:()=>t});var t=(()=>{return(n=t||(t={}))[n.TEXT=0]="TEXT",n[n.LINK=1]="LINK",n[n.ALTMETRIC=2]="ALTMETRIC",n[n.SEARCH=3]="SEARCH",n[n.ONCLICK=4]="ONCLICK",n[n.EXTERNAL=5]="EXTERNAL",t;var n})()},91871:(R,c,e)=>{"use strict";e.d(c,{W:()=>a,x:()=>n});const t=new Map;function n(i){return function(r){r&&t.set(i,r)}}function a(i){return t.get(i)}},52799:(R,c,e)=>{"use strict";e.d(c,{g:()=>d,h:()=>i});var t=e(23539),n=e(45608);const a=new Map;function i(r,l,p=t.t0){return function(m){m&&(a.get(r)||a.set(r,new Map),a.get(r).get(l)||a.get(r).set(l,new Map),a.get(r).get(l).set(p,m))}}function d(r,l,p){const h=a.get(r).get(l).get(p);return(0,n.Uh)(h)?h:a.get(r).get(l).get(t.t0)}},20349:(R,c,e)=>{"use strict";e.d(c,{x:()=>t});class t{constructor(){this.shouldPersistOnRouteChange=!1}}},76588:(R,c,e)=>{"use strict";e.d(c,{q:()=>h});var t=e(98678),n=e(29306),a=e(91871),i=e(45608),d=e(35841),r=e(49887),l=e(21160),p=e(20349);let h=(()=>{class m{constructor(v,y,O){this.section=v,this.menuService=y,this.injector=O,this.sectionMap$=new d.X(new Map),this.subs=[]}ngOnInit(){this.active=this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,r.x)()),this.initializeInjectorData()}toggleSection(v){v.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(v){v.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(v){v.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,l.w)(v=>v)).subscribe(v=>{this.updateSectionMap(v.id,this.getItemModelInjector(v.model),this.getMenuItemComponent(v.model))}))}updateSectionMap(v,y,O){const S=this.sectionMap$.getValue();S.set(v,{injector:y,component:O}),this.sectionMap$.next(S)}getMenuItemComponent(v){return(0,i.xI)(v)&&(v=this.section.model),(0,a.W)(v.type)}getItemModelInjector(v){return(0,i.xI)(v)&&(v=this.section.model),t.Injector.create({providers:[{provide:"itemModelProvider",useFactory:()=>v,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(v=>(0,i.Uh)(v)).forEach(v=>v.unsubscribe())}}return m.\u0275fac=function(v){return new(v||m)(t.\u0275\u0275directiveInject(p.x),t.\u0275\u0275directiveInject(n.h),t.\u0275\u0275directiveInject(t.Injector))},m.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["ds-menu-section"]],decls:0,vars:0,template:function(v,y){},encapsulation:2}),m})()},96713:(R,c,e)=>{"use strict";e.d(c,{$h:()=>v,DP:()=>y,G$:()=>o,Hq:()=>i,Hs:()=>m,Jt:()=>O,KT:()=>D,S0:()=>b,W0:()=>d,XF:()=>S,Zg:()=>l,Zu:()=>p,gi:()=>h,mk:()=>n,tv:()=>a,uk:()=>r});var t=e(49754);const n={COLLAPSE_MENU:(0,t.d)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,t.d)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,t.d)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,t.d)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,t.d)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,t.d)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,t.d)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,t.d)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,t.d)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,t.d)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,t.d)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,t.d)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,t.d)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,t.d)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,t.d)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class a{constructor(C){this.type=n.COLLAPSE_MENU,this.menuID=C}}class i{constructor(C){this.type=n.EXPAND_MENU,this.menuID=C}}class d{constructor(C){this.type=n.TOGGLE_MENU,this.menuID=C}}class r{constructor(C){this.type=n.SHOW_MENU,this.menuID=C}}class l{constructor(C){this.type=n.HIDE_MENU,this.menuID=C}}class p{constructor(C){this.type=n.COLLAPSE_MENU_PREVIEW,this.menuID=C}}class h{constructor(C){this.type=n.EXPAND_MENU_PREVIEW,this.menuID=C}}class m{constructor(){this.type=n.REINIT_MENUS}}class _{constructor(C,T){this.menuID=C,this.id=T}}class v extends _{constructor(C,T){super(C,T.id),this.type=n.ADD_SECTION,this.section=T}}class y extends _{constructor(C,T){super(C,T),this.type=n.REMOVE_SECTION}}class O extends _{constructor(C,T){super(C,T),this.type=n.HIDE_SECTION}}class S extends _{constructor(C,T){super(C,T),this.type=n.SHOW_SECTION}}class b extends _{constructor(C,T){super(C,T),this.type=n.ACTIVATE_SECTION}}class o extends _{constructor(C,T){super(C,T),this.type=n.DEACTIVATE_SECTION}}class D extends _{constructor(C,T){super(C,T),this.type=n.TOGGLE_ACTIVE_SECTION}}},48674:(R,c,e)=>{"use strict";e.d(c,{M:()=>S});var t=e(98678),n=e(35841),a=e(9237),i=e(29306),d=e(21160),r=e(69637),l=e(48358),p=e(49887),h=e(45608),m=e(52799),_=e(35794),v=e(80978),y=e(34216),O=e(67522);let S=(()=>{class b{constructor(D,M,C,T,g){this.menuService=D,this.injector=M,this.authorizationService=C,this.route=T,this.themeService=g,this.sectionMap$=new n.X(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,d.w)(D=>D),(0,r.z)(D=>D.id.includes("statistics")?this.getAuthorizedStatistics(D):(0,a.of)(D)),(0,h.iy)(),(0,d.w)(D=>this.getSectionComponent(D).pipe((0,l.U)(M=>({section:D,component:M})))),(0,p.x)((D,M)=>D.section.id===M.section.id&&D.component.prototype===M.component.prototype)).subscribe(({section:D,component:M})=>{const C=this.sectionMap$.getValue();C.set(D.id,{injector:this.getSectionDataInjector(D),component:M}),this.sectionMap$.next(C)}))}getActivatedRoute(D){return D.children.length>0?this.getActivatedRoute(D.firstChild):D}getAuthorizedStatistics(D){return this.activatedRouteLastChild.data.pipe((0,d.w)(M=>this.authorizationService.isAuthorized(v.i.CanViewUsageStatistics,this.getObjectUrl(M)).pipe((0,l.U)(C=>C?D:{}))))}getObjectUrl(D){return(D.site?D.site:D.dso?.payload)?._links?.self?.href}toggle(D){D.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(D){D.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(D){D.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(D){D.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(D){D.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(D,M){(0,h.Uh)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(D,M)}getSectionComponent(D){return this.menuService.hasSubSections(this.menuID,D.id).pipe((0,l.U)(M=>(0,m.g)(this.menuID,M,this.themeService.getThemeName())))}getSectionDataInjector(D){return t.Injector.create({providers:[{provide:"sectionDataProvider",useFactory:()=>D,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(D=>(0,h.Uh)(D)).forEach(D=>D.unsubscribe())}}return b.\u0275fac=function(D){return new(D||b)(t.\u0275\u0275directiveInject(i.h),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(_._),t.\u0275\u0275directiveInject(O.gz),t.\u0275\u0275directiveInject(y.fY))},b.\u0275cmp=t.\u0275\u0275defineComponent({type:b,selectors:[["ds-menu"]],decls:0,vars:0,template:function(D,M){},encapsulation:2}),b})()},72588:(R,c,e)=>{"use strict";e.d(c,{$:()=>ce}),e(76588),e(48674);var v,a=e(96342),i=e(67522),d=e(70655),r=e(27696),p=e(91871),h=e(45608),m=e(98678),_=e(35103);const y=function(ne){return{disabled:ne}};let O=((v=class{constructor(K,w){this.router=w,this.item=K}ngOnInit(){this.hasLink=(0,h.UE)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(K){K.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),K.stopPropagation()}}).\u0275fac=function(K){return new(K||v)(m.\u0275\u0275directiveInject("itemModelProvider"),m.\u0275\u0275directiveInject(i.F0))},v.\u0275cmp=m.\u0275\u0275defineComponent({type:v,selectors:[["ds-link-menu-item"]],decls:4,vars:12,consts:[["href","javascript:void(0);",1,"nav-item","nav-link",3,"ngClass","title","routerLink","queryParams","click","keyup.space","keyup.enter"]],template:function(K,w){1&K&&(m.\u0275\u0275elementStart(0,"a",0),m.\u0275\u0275listener("click",function(oe){return oe.stopPropagation()})("keyup.space",function(oe){return w.navigate(oe)})("keyup.enter",function(oe){return w.navigate(oe)}),m.\u0275\u0275pipe(1,"translate"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()),2&K&&(m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(10,y,!w.hasLink||w.item.disabled))("title",m.\u0275\u0275pipeBind1(1,6,w.item.text))("routerLink",w.getRouterLink())("queryParams",w.item.queryParams),m.\u0275\u0275attribute("aria-disabled",!w.hasLink||w.item.disabled),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(3,8,w.item.text)))},dependencies:[i.rH,_.mk,a.X$],encapsulation:2}),v);var b;O=(0,d.__decorate)([(0,p.x)(r.U.LINK),(0,d.__metadata)("design:paramtypes",[class l{constructor(){this.type=r.U.LINK}},i.F0])],O);let o=((b=class{constructor(K){this.item=K}}).\u0275fac=function(K){return new(K||b)(m.\u0275\u0275directiveInject("itemModelProvider"))},b.\u0275cmp=m.\u0275\u0275defineComponent({type:b,selectors:[["ds-text-menu-item"]],decls:3,vars:5,template:function(K,w){1&K&&(m.\u0275\u0275elementStart(0,"span"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275elementEnd()),2&K&&(m.\u0275\u0275classProp("disabled",w.item.disabled),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(2,3,w.item.text)))},dependencies:[a.X$],encapsulation:2}),b);var M;function C(ne,K){if(1&ne){const w=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"a",2),m.\u0275\u0275listener("click",function(oe){m.\u0275\u0275restoreView(w);const q=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(q.activate(oe))})("keyup.space",function(oe){m.\u0275\u0275restoreView(w);const q=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(q.activate(oe))})("keyup.enter",function(oe){m.\u0275\u0275restoreView(w);const q=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(q.activate(oe))}),m.\u0275\u0275pipe(1,"translate"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()}if(2&ne){const w=m.\u0275\u0275nextContext();m.\u0275\u0275property("title",m.\u0275\u0275pipeBind1(1,2,w.item.text)),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(3,4,w.item.text))}}function T(ne,K){if(1&ne&&(m.\u0275\u0275elementStart(0,"span",3),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275elementEnd()),2&ne){const w=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(2,1,w.item.text))}}o=(0,d.__decorate)([(0,p.x)(r.U.TEXT),(0,d.__metadata)("design:paramtypes",[class S{constructor(){this.type=r.U.TEXT}}])],o);let g=((M=class{constructor(K){this.item=K}activate(K){this.item.disabled||(K.preventDefault(),this.item.function(),K.stopPropagation())}}).\u0275fac=function(K){return new(K||M)(m.\u0275\u0275directiveInject("itemModelProvider"))},M.\u0275cmp=m.\u0275\u0275defineComponent({type:M,selectors:[["ds-onclick-menu-item"]],decls:2,vars:2,consts:[["href","javascript:void(0);","class","nav-item nav-link","role","button",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["href","javascript:void(0);","role","button",1,"nav-item","nav-link",3,"title","click","keyup.space","keyup.enter"],[1,"nav-item","nav-link","disabled"]],template:function(K,w){1&K&&(m.\u0275\u0275template(0,C,4,6,"a",0),m.\u0275\u0275template(1,T,3,3,"span",1)),2&K&&(m.\u0275\u0275property("ngIf",!w.item.disabled),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",w.item.disabled))},dependencies:[_.O5,a.X$],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),M);var L;g=(0,d.__decorate)([(0,p.x)(r.U.ONCLICK),(0,d.__metadata)("design:paramtypes",[class D{constructor(){this.type=r.U.ONCLICK}}])],g);const j=function(ne){return{disabled:ne}};let $=((L=class{constructor(K){this.item=K}ngOnInit(){this.hasLink=(0,h.UE)(this.item.href)}get href(){if(this.hasLink)return this.item.href}}).\u0275fac=function(K){return new(K||L)(m.\u0275\u0275directiveInject("itemModelProvider"))},L.\u0275cmp=m.\u0275\u0275defineComponent({type:L,selectors:[["ds-external-link-menu-item"]],decls:4,vars:11,consts:[[1,"nav-item","nav-link",3,"ngClass","href","title","click"]],template:function(K,w){1&K&&(m.\u0275\u0275elementStart(0,"a",0),m.\u0275\u0275listener("click",function(oe){return oe.stopPropagation()}),m.\u0275\u0275pipe(1,"translate"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()),2&K&&(m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(9,j,!w.hasLink))("href",w.href,m.\u0275\u0275sanitizeUrl)("title",m.\u0275\u0275pipeBind1(1,5,w.item.text)),m.\u0275\u0275attribute("aria-disabled",!w.hasLink),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(3,7,w.item.text)))},dependencies:[_.mk,a.X$],encapsulation:2}),L);$=(0,d.__decorate)([(0,p.x)(r.U.EXTERNAL),(0,d.__metadata)("design:paramtypes",[class U{constructor(){this.type=r.U.EXTERNAL}}])],$);const re=[o,O,g,$],W=[a.aw,i.Bz,_.ez],ie=[];let ce=(()=>{class ne{}return ne.\u0275fac=function(w){return new(w||ne)},ne.\u0275mod=m.\u0275\u0275defineNgModule({type:ne}),ne.\u0275inj=m.\u0275\u0275defineInjector({providers:[...ie,...re],imports:[W]}),ne})()},29306:(R,c,e)=>{"use strict";e.d(c,{h:()=>g});var t=e(89702),n=e(39100),a=e(53426),i=e(48358),d=e(49887),r=e(21160),l=e(77007),p=e(77176),h=e(96713),m=e(45608),_=e(82126),v=e(67522),y=e(58079),O=e(98678);function S(U,L){return(0,t.P1)(L,j=>{if((0,m.Uh)(j))return j[U]})}const b=U=>U.menus,o=U=>(0,n.GY)(U,b),D=U=>(0,m.Uh)(U)?U.sections:{},C=U=>U.sectionToSubsectionIndex,T=U=>S(U,C);let g=(()=>{class U{constructor(j,$,z){this.store=j,this.route=$,this.router=z}getMenu(j){return this.store.pipe((0,t.Ys)(o(j)))}getMenuTopSections(j,$=!0){return this.store.pipe((0,t.Ys)(o(j)),(0,t.Ys)(D),(0,i.U)(z=>Object.values(z)),(0,d.x)((0,y.be)()),(0,i.U)(z=>z.filter(re=>(0,m.xI)(re.parentID)).filter(re=>!$||re.visible)))}getSubSectionsByParentID(j,$,z=!0){return this.store.pipe((0,t.Ys)(o(j)),(0,t.Ys)(T($)),(0,i.U)(re=>(0,m.UE)(re)?re:[]),(0,r.w)(re=>(0,a.a)(re.map(W=>this.getMenuSection(j,W)))),(0,i.U)(re=>re.filter(W=>(0,m.Uh)(W)&&(!z||W.visible))))}hasSubSections(j,$){return this.store.pipe((0,t.Ys)(o(j)),(0,t.Ys)(T($)),(0,i.U)(z=>(0,m.UE)(z)))}getMenuSection(j,$){return this.store.pipe((0,t.Ys)(o(j)),(0,t.Ys)((U=>S(U,D))($)))}getNonPersistentMenuSections(j){return this.getMenu(j).pipe((0,i.U)($=>Object.values($.sections).filter(z=>!z.shouldPersistOnRouteChange)))}addSection(j,$){this.store.dispatch(new h.$h(j,$))}removeSection(j,$){this.store.dispatch(new h.DP(j,$))}isMenuCollapsed(j){return this.getMenu(j).pipe((0,i.U)($=>(0,m.Uh)($)?$.collapsed:void 0))}isMenuPreviewCollapsed(j){return this.getMenu(j).pipe((0,i.U)($=>(0,m.Uh)($)?$.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(j){return(0,a.a)([this.isMenuVisible(j),this.menuHasVisibleSections(j)]).pipe((0,i.U)(([$,z])=>$&&z))}isMenuVisible(j){return this.getMenu(j).pipe((0,i.U)($=>(0,m.Uh)($)?$.visible:void 0))}menuHasVisibleSections(j){return this.getMenu(j).pipe((0,i.U)($=>(0,m.Uh)($)?Object.values($.sections).some(z=>z.visible&&void 0===z.parentID):void 0))}expandMenu(j){this.store.dispatch(new h.Hq(j))}collapseMenu(j){this.store.dispatch(new h.tv(j))}expandMenuPreview(j){this.store.dispatch(new h.gi(j))}collapseMenuPreview(j){this.store.dispatch(new h.Zu(j))}toggleMenu(j){this.store.dispatch(new h.W0(j))}showMenu(j){this.store.dispatch(new h.uk(j))}showMenuSection(j,$){this.store.dispatch(new h.XF(j,$))}hideMenu(j){this.store.dispatch(new h.Zg(j))}hideMenuSection(j,$){this.store.dispatch(new h.Jt(j,$))}toggleActiveSection(j,$){this.store.dispatch(new h.KT(j,$))}activateSection(j,$){this.store.dispatch(new h.S0(j,$))}deactivateSection(j,$){this.store.dispatch(new h.G$(j,$))}isSectionActive(j,$){return this.getMenuSection(j,$).pipe((0,m.tz)(),(0,i.U)(z=>z.active))}isSectionVisible(j,$){return this.getMenuSection(j,$).pipe((0,i.U)(z=>z.visible))}listenForRouteChanges(){this.router.events.pipe((0,l.h)(j=>j instanceof v.m2)).subscribe(()=>{Object.values(_.z).forEach(j=>{this.buildRouteMenuSections(j)})})}buildRouteMenuSections(j){this.getNonPersistentMenuSections(j).pipe((0,i.U)($=>$.map(z=>z.id)),(0,p.q)(1)).subscribe($=>{this.resolveRouteMenuSections(this.route.root,j).forEach(re=>{const W=$.indexOf(re.id);W>-1?$.splice(W,1):this.addSection(j,re)}),$.forEach(re=>{this.removeSection(j,re)})})}resolveRouteMenuSections(j,$){const z=j.snapshot.data,re=j.snapshot.params,W=(0,m.xI)(j.firstChild);if((0,m.Uh)(z)&&(0,m.Uh)(z.menu)&&(0,m.Uh)(z.menu[$])){let ie=z.menu[$];if(ie=this.resolveSubstitutions(ie,re),Array.isArray(ie)||(ie=[ie]),W)return[...ie];{const ce=this.resolveRouteMenuSections(j.firstChild,$);return[...ie.filter(ne=>!ce.map(K=>K.id).includes(ne.id)),...ce]}}return W?[]:this.resolveRouteMenuSections(j.firstChild,$)}resolveSubstitutions(j,$){let z;return(0,m.xb)($)?z=j:"string"==typeof j?(z=j,Object.entries($).forEach(([re,W])=>z=z.replaceAll(`:${re}`,W))):Array.isArray(j)?(z=[],j.forEach((re,W)=>{z[W]=this.resolveSubstitutions(j[W],$)})):"object"==typeof j?(z={},Object.keys(j).forEach(re=>{z[re]=this.resolveSubstitutions(j[re],$)})):z=j,z}}return U.\u0275fac=function(j){return new(j||U)(O.\u0275\u0275inject(t.yh),O.\u0275\u0275inject(v.gz),O.\u0275\u0275inject(v.F0))},U.\u0275prov=O.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac}),U})()},52153:(R,c,e)=>{"use strict";e.d(c,{n:()=>d});var t=e(98678),n=e(35103);function a(r,l){if(1&r&&(t.\u0275\u0275elementStart(0,"h2",4),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const p=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(p.label)}}const i=["*"];let d=(()=>{class r{constructor(){this.hideIfNoTextContent=!0}}return r.\u0275fac=function(p){return new(p||r)},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},ngContentSelectors:i,decls:5,vars:3,consts:[[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],["content",""],[1,"simple-view-element-header"]],template:function(p,h){if(1&p&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,a,2,1,"h2",1),t.\u0275\u0275elementStart(2,"div",2,3),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd()()),2&p){const m=t.\u0275\u0275reference(3);t.\u0275\u0275classProp("d-none",h.hideIfNoTextContent&&0===m.textContent.trim().length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",h.label)}},dependencies:[n.O5],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]}),r})()},22985:(R,c,e)=>{"use strict";e.d(c,{G:()=>r});var t=e(99682),n=e(66814),a=e(45608),i=e(34216),d=e(98678);let r=(()=>{class l{constructor(h,m,_){this.componentFactoryResolver=h,this.themeService=m,this.getMetadataRepresentationComponent=_,this.inAndOutputNames=["context","mdRepresentation"]}get mdRepresentation(){return this._mdRepresentation}set mdRepresentation(h){this._mdRepresentation=h,(0,a.Uh)(this.compRef?.instance)&&(this.compRef.instance.mdRepresentation=h)}ngOnInit(){this.instantiateComponent()}ngOnChanges(h){(0,a.xI)(this.compRef)?this.instantiateComponent(h):this.inAndOutputNames.some(m=>(0,a.Uh)(h[m]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(h))}instantiateComponent(h){const m=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()),_=this.mdRepDirective.viewContainerRef;_.clear(),this.compRef=_.createComponent(m),(0,a.Uh)(h)?this.ngOnChanges(h):this.connectInputsAndOutputs()}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,a.UE)(this.inAndOutputNames)&&(0,a.Uh)(this.compRef)&&(0,a.Uh)(this.compRef.instance)&&this.inAndOutputNames.filter(h=>void 0!==this[h]).forEach(h=>{this.compRef.instance[h]=this[h]})}}return l.\u0275fac=function(h){return new(h||l)(d.\u0275\u0275directiveInject(d.ComponentFactoryResolver),d.\u0275\u0275directiveInject(i.fY),d.\u0275\u0275directiveInject(t.Wd))},l.\u0275cmp=d.\u0275\u0275defineComponent({type:l,selectors:[["ds-metadata-representation-loader"]],viewQuery:function(h,m){if(1&h&&d.\u0275\u0275viewQuery(n.g,7),2&h){let _;d.\u0275\u0275queryRefresh(_=d.\u0275\u0275loadQuery())&&(m.mdRepDirective=_.first)}},inputs:{mdRepresentation:"mdRepresentation",context:"context"},features:[d.\u0275\u0275NgOnChangesFeature],decls:1,vars:0,consts:[["dsMetadataRepresentation",""]],template:function(h,m){1&h&&d.\u0275\u0275elementContainer(0,0)},dependencies:[n.g],encapsulation:2}),l})()},99682:(R,c,e)=>{"use strict";e.d(c,{Bu:()=>h,Wd:()=>d});var t=e(36092),n=e(45608),a=e(98678),i=e(23539);const d=new a.InjectionToken("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>m}),r=new Map,l="Publication",p=t.P.PlainText;function h(_,v,y=i.QC,O=i.t0){return function(b){if((0,n.xI)(r.get(_))&&r.set(_,new Map),(0,n.xI)(r.get(_).get(v))&&r.get(_).set(v,new Map),(0,n.xI)(r.get(_).get(v).get(y))&&r.get(_).get(v).set(y,new Map),(0,n.Uh)(r.get(_).get(v).get(y).get(O)))throw new Error(`There can't be more than one component to render Entity of type "${_}" in MetadataRepresentation "${v}" with context "${y}"`);r.get(_).get(v).get(y).set(O,b)}}function m(_,v,y=i.QC,O=i.t0){const S=r.get(_);if((0,n.Uh)(S)){const b=S.get(v);if((0,n.Uh)(b)){const o=b.get(y);if((0,n.Uh)(o)){const D=(0,i.An)(o,O);if((0,n.Uh)(D))return D;if((0,n.Uh)(o.get(i.t0)))return o.get(i.t0)}if((0,n.Uh)(b.get(i.QC))&&(0,n.Uh)(b.get(i.QC).get(i.t0)))return b.get(i.QC).get(i.t0)}if((0,n.Uh)(S.get(p))&&(0,n.Uh)(S.get(p).get(i.QC))&&(0,n.Uh)(S.get(p).get(i.QC).get(i.t0)))return S.get(p).get(i.QC).get(i.t0)}return r.get(l).get(p).get(i.QC).get(i.t0)}},66814:(R,c,e)=>{"use strict";e.d(c,{g:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d){this.viewContainerRef=d}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ViewContainerRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsMetadataRepresentation",""]]}),a})()},28117:(R,c,e)=>{"use strict";e.d(c,{P:()=>_});var t=e(65384),n=e(57066),a=e(6952),i=e(77176),d=e(48161),r=e(11471),l=e(45608),p=e(98678),h=e(67522),m=e(96342);let _=(()=>{class v extends r.z{constructor(O,S,b,o,D,M){super(d.S,O,S,b,o,D,M),this.injector=O,this.router=S,this.notificationsService=b,this.translate=o,this.searchService=D,this.requestService=M,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,i.q)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(O){this.object=O}initReloadAnchor(){(0,l.xb)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(O=>O.unsubscribe())}}return v.\u0275fac=function(O){return new(O||v)(p.\u0275\u0275directiveInject(p.Injector),p.\u0275\u0275directiveInject(h.F0),p.\u0275\u0275directiveInject(t.T),p.\u0275\u0275directiveInject(m.sK),p.\u0275\u0275directiveInject(n.o),p.\u0275\u0275directiveInject(a.s))},v.\u0275cmp=p.\u0275\u0275defineComponent({type:v,selectors:[["ds-claimed-task-action-abstract"]],features:[p.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(O,S){},encapsulation:2}),v})()},95101:(R,c,e)=>{"use strict";e.d(c,{Tc:()=>i,fi:()=>r,w1:()=>d,xl:()=>l});var t=e(45608);const n=new Map,a=new Map;function i(p){return function(m){if(!(0,t.xI)(n.get(p)))throw new Error(`There can't be more than one component to render ClaimedTaskActions for option "${p}"`);n.set(p,m)}}function d(p){return function(m){if(!(0,t.xI)(a.get(p)))throw new Error(`There can't be more than one component to render AdvancedClaimedTaskActions for option "${p}"`);a.set(p,m)}}function r(p){return n.get(p)}function l(p){return a.get(p)}},55911:(R,c,e)=>{"use strict";e.d(c,{c:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d){this.viewContainerRef=d}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ViewContainerRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsClaimedTaskActions",""]]}),a})()},94428:(R,c,e)=>{"use strict";e.d(c,{i:()=>L});var t=e(98678),n=e(77176),a=e(27303),i=e(46342),d=e(98226),r=e(3026),l=e(956),p=e(29442),h=e(13005),m=e(7306),_=e(7258),v=e(31638),y=e(54384);class O{getConstructor($){switch($){case h.c.type:return p.S;case v.K.type:return i.p;case y.p.type:return l.K;case _.q.type:return d.p;case m.d.type:return r.N;default:return}}}var S=e(41272),b=e(65384),o=e(6952),D=e(35841),M=e(57066),C=e(10572),T=e(26523),g=e(67522),U=e(96342);let L=(()=>{class j{constructor(z,re,W,ie,ce,ne,K){this.objectType=z,this.injector=re,this.router=W,this.notificationsService=ie,this.translate=ce,this.searchService=ne,this.requestService=K,this.processCompleted=new t.EventEmitter,this.processing$=new D.X(!1);const w=new O;this.objectDataService=re.get(w.getConstructor(z))}reload(){this.router.navigated=!1;const z=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,n.q)(1),(0,a.b)(re=>this.requestService.removeByHrefSubstring(re))).subscribe(()=>this.router.navigateByUrl(z))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,C.xw)()).subscribe(z=>{this.initObjects(z.payload)})}handleActionResponse(z){z?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new S.n(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new S.n(2e4,!0))}}return j.\u0275fac=function(z){return new(z||j)(t.\u0275\u0275directiveInject(T._),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(b.T),t.\u0275\u0275directiveInject(U.sK),t.\u0275\u0275directiveInject(M.o),t.\u0275\u0275directiveInject(o.s))},j.\u0275cmp=t.\u0275\u0275defineComponent({type:j,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(z,re){},encapsulation:2}),j})()},11471:(R,c,e)=>{"use strict";e.d(c,{z:()=>D});var t=e(77176),n=e(21160),a=e(27303),i=e(48358),d=e(60012),r=e(41272),l=e(65384),p=e(6952),h=e(57066),m=e(9237),_=e(10572),v=e(73803),y=e(94428),O=e(98678),S=e(26523),b=e(67522),o=e(96342);let D=(()=>{class M extends y.i{constructor(T,g,U,L,j,$,z){super(T,g,U,L,j,$,z),this.objectType=T,this.injector=g,this.router=U,this.notificationsService=L,this.translate=j,this.searchService=$,this.requestService=z}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.q)(1),(0,n.w)(T=>T.hasSucceeded?this._reloadObject().pipe((0,a.b)(g=>{this.processing$.next(!1),this.handleReloadableActionResponse(T.hasSucceeded,g)})):(this.processing$.next(!1),this.handleReloadableActionResponse(T.hasSucceeded,null),(0,m.of)(null))))}handleReloadableActionResponse(T,g){T?(g?this.processCompleted.emit({result:T,reloadedObject:g}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new r.n(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new r.n(2e4,!0))}initReloadAnchor(){}convertReloadedObject(T){const g=(0,v.i)(T.constructor);return Object.assign(new g,T,{indexableObject:T})}_reloadObject(){return this.reloadObjectExecution().pipe((0,n.w)(T=>T instanceof d.N?(0,m.of)(T).pipe((0,_.hC)(),(0,i.U)(g=>g.payload)):(0,m.of)(T))).pipe((0,i.U)(T=>T&&this.convertReloadedObject(T)))}}return M.\u0275fac=function(T){return new(T||M)(O.\u0275\u0275directiveInject(S._),O.\u0275\u0275directiveInject(O.Injector),O.\u0275\u0275directiveInject(b.F0),O.\u0275\u0275directiveInject(l.T),O.\u0275\u0275directiveInject(o.sK),O.\u0275\u0275directiveInject(h.o),O.\u0275\u0275directiveInject(p.s))},M.\u0275cmp=O.\u0275\u0275defineComponent({type:M,selectors:[["ds-mydspace-reloadable-actions"]],features:[O.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(T,g){},encapsulation:2}),M})()},36753:(R,c,e)=>{"use strict";e.d(c,{$:()=>a});var t=e(98678),n=e(35103);let a=(()=>{class i{constructor(r){this.ngFor=r,this.ngFor.ngForTrackBy=(l,p)=>p?p.id:void 0}}return i.\u0275fac=function(r){return new(r||i)(t.\u0275\u0275directiveInject(n.sg,1))},i.\u0275dir=t.\u0275\u0275defineDirective({type:i,selectors:[["","ngForTrackById",""]]}),i})()},54998:(R,c,e)=>{"use strict";e.d(c,{B:()=>a,E:()=>n});const n=(0,e(49754).d)("dspace/ngrx/NO_OP_ACTION");class a{constructor(){this.type=n}}},49754:(R,c,e)=>{"use strict";e.d(c,{d:()=>a});const t={};function a(i){if(t[i])throw new Error(`Action type "${i}" is not unique"`);return t[i]=!0,i}},46958:(R,c,e)=>{"use strict";e.d(c,{G:()=>t,p:()=>n});var t=(()=>{return(a=t||(t={})).Fade="fade",a.FromTop="fromTop",a.FromRight="fromRight",a.FromBottom="fromBottom",a.FromLeft="fromLeft",a.Rotate="rotate",a.Scale="scale",t;var a})(),n=(()=>{return(a=n||(n={})).In="In",a.Out="Out",n;var a})()},41272:(R,c,e)=>{"use strict";e.d(c,{n:()=>n});var t=e(46958);class n{constructor(i=5e3,d=!0,r=t.G.Scale){this.timeOut=i,this.clickToClose=d,this.animate=r}}},91957:(R,c,e)=>{"use strict";e.d(c,{k:()=>t});var t=(()=>{return(n=t||(t={})).Success="alert-success",n.Error="alert-danger",n.Info="alert-info",n.Warning="alert-warning",t;var n})()},71430:(R,c,e)=>{"use strict";e.d(c,{c:()=>St});var t=e(9237),n=e(42878),a=e(98678),i=e(79601),d=e(65384);const r=(0,i.SB)("scaleIn",(0,i.oB)({opacity:1,transform:"scale(1)"})),l=(0,i.eR)("* => scaleIn",[(0,i.oB)({opacity:0,transform:"scale(0)"}),(0,i.jt)("400ms ease-in-out")]),p=(0,i.SB)("scaleOut",(0,i.oB)({opacity:0,transform:"scale(0)"})),h=(0,i.eR)("scaleIn => scaleOut",[(0,i.oB)({opacity:1,transform:"scale(1)"}),(0,i.jt)("400ms ease-in-out")]);(0,i.X$)("scaleIn",[l]),(0,i.X$)("scaleOut",[h]),(0,i.X$)("scaleInOut",[l,h]);var y=e(48884);const O=(0,i.SB)("fromBottomIn",(0,i.oB)({opacity:1,transform:"translateY(0)"})),S=(0,i.eR)("* => fromBottomIn",[(0,i.oB)({opacity:0,transform:"translateY(5%)"}),(0,i.jt)("400ms ease-in-out")]),b=(0,i.SB)("fromBottomOut",(0,i.oB)({opacity:0,transform:"translateY(-5%)"})),o=(0,i.eR)("fromBottomIn => fromBottomOut",[(0,i.oB)({opacity:1,transform:"translateY(0)"}),(0,i.jt)("300ms ease-in-out")]),T=((0,i.X$)("fromBottomIn",[S]),(0,i.X$)("fromBottomOut",[o]),(0,i.X$)("fromBottomInOut",[S,o]),(0,i.SB)("fromRightIn",(0,i.oB)({opacity:1,transform:"translateX(0)"}))),g=(0,i.eR)("* => fromRightIn",[(0,i.oB)({opacity:0,transform:"translateX(5%)"}),(0,i.jt)("400ms ease-in-out")]),U=(0,i.SB)("fromRightOut",(0,i.oB)({opacity:0,transform:"translateX(-5%)"})),L=(0,i.eR)("fromRightIn => fromRightOut",[(0,i.oB)({opacity:1,transform:"translateX(0)"}),(0,i.jt)("300ms ease-in-out")]),re=((0,i.X$)("fromRightIn",[g]),(0,i.X$)("fromRightOut",[L]),(0,i.X$)("fromRightInOut",[g,L]),(0,i.SB)("fromLeftIn",(0,i.oB)({opacity:1,transform:"translateX(0)"}))),W=(0,i.eR)("* => fromLeftIn",[(0,i.oB)({opacity:0,transform:"translateX(-5%)"}),(0,i.jt)("400ms ease-in-out")]),ie=(0,i.SB)("fromLeftOut",(0,i.oB)({opacity:0,transform:"translateX(5%)"})),ce=(0,i.eR)("fromLeftIn => fromLeftOut",[(0,i.oB)({opacity:1,transform:"translateX(0)"}),(0,i.jt)("300ms ease-in-out")]),Q=((0,i.X$)("fromLeftIn",[W]),(0,i.X$)("fromLeftOut",[ce]),(0,i.X$)("fromLeftInOut",[W,ce]),(0,i.SB)("fromTopIn",(0,i.oB)({opacity:1,transform:"translateY(0)"}))),oe=(0,i.eR)("* => fromTopIn",[(0,i.oB)({opacity:0,transform:"translateY(-5%)"}),(0,i.jt)("400ms ease-in-out")]),q=(0,i.SB)("fromTopOut",(0,i.oB)({opacity:0,transform:"translateY(5%)"})),ee=(0,i.eR)("fromTopIn => fromTopOut",[(0,i.oB)({opacity:1,transform:"translateY(0)"}),(0,i.jt)("300ms ease-in-out")]);(0,i.X$)("fromTopIn",[oe]),(0,i.X$)("fromTopOut",[ee]),(0,i.X$)("fromTopInOut",[oe,ee]);var Re=e(58106),ve=e(46958),Pe=e(45608),et=e(77007),Ze=e(76215),tt=e(91823),yt=e(35103);const Ne=function(It){return{width:It}};function mt(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275element(1,"span",10),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(1,Ne,en.progressWidth+"%"))}}function Dt(It,Yt){if(1&It){const en=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",11),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(en);const Mn=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(Mn.remove())}),a.\u0275\u0275elementStart(1,"span",12),a.\u0275\u0275text(2,"\xd7"),a.\u0275\u0275elementEnd()()}}function At(It,Yt){1&It&&a.\u0275\u0275elementContainer(0)}function Jt(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",16),a.\u0275\u0275template(1,At,1,0,"ng-container",17),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",en.title)}}function $t(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",16),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,en.title))}}function lt(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",13)(1,"strong"),a.\u0275\u0275template(2,Jt,2,1,"div",14),a.\u0275\u0275template(3,$t,3,3,"ng-template",null,15,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()),2&It){const en=a.\u0275\u0275reference(4),Tt=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",Tt.titleIsTemplate)("ngIfElse",en)}}function Ht(It,Yt){1&It&&a.\u0275\u0275elementContainer(0)}function Qe(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",20),a.\u0275\u0275template(1,Ht,1,0,"ng-container",17),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",en.content)}}function ft(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",20),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,1,en.content))}}function Je(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275template(1,Qe,2,1,"div",18),a.\u0275\u0275template(2,ft,3,3,"ng-template",null,19,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275reference(3),Tt=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.contentIsTemplate)("ngIfElse",en)}}function Ge(It,Yt){1&It&&a.\u0275\u0275elementContainer(0)}function qe(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",23),a.\u0275\u0275template(1,Ge,1,0,"ng-container",17),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",en.content)}}function gt(It,Yt){if(1&It&&a.\u0275\u0275element(0,"div",24),2&It){const en=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("innerHTML",en.content,a.\u0275\u0275sanitizeHtml)}}function it(It,Yt){if(1&It&&(a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275template(1,qe,2,1,"div",21),a.\u0275\u0275template(2,gt,1,1,"ng-template",null,22,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&It){const en=a.\u0275\u0275reference(3),Tt=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.contentIsTemplate)("ngIfElse",en)}}const ht=function(It,Yt,en,Tt){return{"fas fa-2x":!0,"fa-check-circle":It,"fa-times-circle":Yt,"fa-exclamation-triangle":en,"fa-info-circle":Tt}};let St=(()=>{class It{constructor(en,Tt,Mn,xn){this.notificationService=en,this.domSanitizer=Tt,this.cdr=Mn,this.zone=xn,this.notification=null,this.isPaused$=(0,t.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,et.h)(qn=>!qn),(0,Ze.P)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+ve.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(en,Tt){if(en instanceof a.TemplateRef)this[Tt]=en;else if("title"===Tt||"content"===Tt&&!this.html){let Mn=null;(0,Pe.UE)(en)&&("string"==typeof en?Mn=(0,t.of)(en):en instanceof n.y?Mn=en:"object"==typeof en&&(0,Pe.UE)(en.value)&&(Mn=(0,t.of)(en.value))),this[Tt]=Mn}else this[Tt]=this.domSanitizer.bypassSecurityTrustHtml(en);this[Tt+"IsTemplate"]=en instanceof a.TemplateRef}setAnimationOut(){this.animate=this.notification.options.animate+ve.p.Out,this.cdr.detectChanges()}}return It.\u0275fac=function(en){return new(en||It)(a.\u0275\u0275directiveInject(d.T),a.\u0275\u0275directiveInject(tt.H7),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.NgZone))},It.\u0275cmp=a.\u0275\u0275defineComponent({type:It,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},decls:11,vars:15,consts:[["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","close pt-0 pr-1 pl-0 pb-0","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 mr-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-left",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","pt-0","pr-1","pl-0","pb-0",3,"click"],["aria-hidden","true"],[1,"p-2","mr-3"],["class","notification-title pl-1",4,"ngIf","ngIfElse"],["regularTitle",""],[1,"notification-title","pl-1"],[4,"ngTemplateOutlet"],["class","notification-content pl-1",4,"ngIf","ngIfElse"],["regularContent",""],[1,"notification-content","pl-1"],["class","notification-html pl-1",4,"ngIf","ngIfElse"],["regularHtml",""],[1,"notification-html","pl-1"],[1,"notification-html","pl-1",3,"innerHTML"]],template:function(en,Tt){1&en&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,mt,2,3,"div",1),a.\u0275\u0275template(2,Dt,3,0,"button",2),a.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"div",5),a.\u0275\u0275element(6,"i",6),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"div",7),a.\u0275\u0275template(8,lt,5,2,"div",8),a.\u0275\u0275template(9,Je,4,2,"div",8),a.\u0275\u0275template(10,it,4,2,"div",8),a.\u0275\u0275elementEnd()()()),2&en&&(a.\u0275\u0275classMapInterpolate1("notification alert ",Tt.notification.type," alert-dismissible m-3 shadow"),a.\u0275\u0275property("@enterLeave",Tt.animate),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.showProgressBar),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.notification.options.clickToClose),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction4(10,ht,"alert-success"==Tt.notification.type,"alert-danger"==Tt.notification.type,"alert-warning"==Tt.notification.type,"alert-info"==Tt.notification.type)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",Tt.title),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.content&&!Tt.html),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",Tt.content&&Tt.html))},dependencies:[yt.mk,yt.O5,yt.tP,yt.PC,yt.Ov],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.close{outline:none!important}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.X$)("enterLeave",[Re.Vr,Re.eP,Re.Ij,Re.gm,S,O,o,b,g,T,L,U,W,re,ce,ie,oe,Q,ee,q,y.W7,y.pt,y.un,y.Y0,r,l,p,h])]},changeDetection:0}),It})()},49594:(R,c,e)=>{"use strict";e.d(c,{d:()=>_});var t=e(89702),n=e(35841),a=e(44242),i=e.n(a),d=e(65384);const r=v=>v.notifications;var l=e(98678),p=e(35103),h=e(71430);function m(v,y){if(1&v&&l.\u0275\u0275element(0,"ds-notification",2),2&v){const O=y.$implicit,S=l.\u0275\u0275nextContext();l.\u0275\u0275property("notification",O)("isPaused$",S.isPaused$)}}let _=(()=>{class v{constructor(O,S,b){this.service=O,this.store=S,this.cdr=b,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new n.X(!1)}set options(O){this.attachChanges(O)}ngOnInit(){this.sub=this.store.pipe((0,t.Ys)(r)).subscribe(O=>{0===O.length?this.notifications=[]:O.length>this.notifications.length?i()(O,this.notifications).forEach(b=>{this.add(b)}):i()(this.notifications,O).forEach(b=>{this.notifications=this.notifications.filter(o=>o.id!==b.id)}),this.cdr.detectChanges()})}add(O){this.block(O)?this.service.remove(O):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,O))}block(O){const S=O.html?this.checkHtml:this.checkStandard;let b;return this.notifications.forEach(o=>{if(S(o,O))return!0}),this.notifications.length>0&&this.notifications.forEach(o=>{if(S(o,O))return!0}),this.notifications.length>0&&(b=this.notifications[0],S(b,O))}checkStandard(O,S){return O.type===S.type&&O.title===S.title&&O.content===S.content}checkHtml(O,S){return!!O.html&&O.type===S.type&&O.title===S.title&&O.content===S.content&&O.html===S.html}attachChanges(O){Object.keys(O).forEach(S=>{this.hasOwnProperty(S)&&(this[S]=O[S])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return v.\u0275fac=function(O){return new(O||v)(l.\u0275\u0275directiveInject(d.T),l.\u0275\u0275directiveInject(t.yh),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},v.\u0275cmp=l.\u0275\u0275defineComponent({type:v,selectors:[["ds-notifications-board"]],inputs:{options:"options"},decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"ngClass","mouseenter","mouseleave"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(O,S){1&O&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275listener("mouseenter",function(){return S.isPaused$.next(!0)})("mouseleave",function(){return S.isPaused$.next(!1)}),l.\u0275\u0275template(1,m,1,2,"ds-notification",1),l.\u0275\u0275elementEnd()),2&O&&(l.\u0275\u0275property("ngClass",S.position),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",S.notifications))},dependencies:[p.mk,p.sg,h.c],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0}),v})()},57201:(R,c,e)=>{"use strict";e.d(c,{S5:()=>i,T2:()=>a,WW:()=>d,o0:()=>n});var t=e(49754);const n={NEW_NOTIFICATION:(0,t.d)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,t.d)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,t.d)("dspace/notifications/REMOVE_NOTIFICATION")};class a{constructor(l){this.type=n.NEW_NOTIFICATION,this.payload=l}}class i{constructor(l){this.payload=l,this.type=n.REMOVE_ALL_NOTIFICATIONS}}class d{constructor(l){this.type=n.REMOVE_NOTIFICATION,this.payload=l}}},65384:(R,c,e)=>{"use strict";e.d(c,{T:()=>O});var t=e(9237),n=e(76215),a=e(24112),i=e.n(a),d=e(41272),r=e(45608);class l{constructor(b,o,D,M,C,T){this.id=b,this.type=o,this.title=D,this.content=M,this.options=(0,r.xb)(C)?new d.n:C,this.html=T}}var p=e(91957),h=e(57201),m=e(76774),_=e(98678),v=e(89702),y=e(96342);let O=(()=>{class S{constructor(o,D){this.store=o,this.translate=D}add(o){let D;D=new h.T2(o),this.store.dispatch(D)}success(o=(0,t.of)(""),D=(0,t.of)(""),M={},C=!1){const T={...this.getDefaultOptions(),...M},g=new l(i()(),p.k.Success,o,D,T,C);return this.add(g),g}error(o=(0,t.of)(""),D=(0,t.of)(""),M={},C=!1){const T={...this.getDefaultOptions(),...M},g=new l(i()(),p.k.Error,o,D,T,C);return this.add(g),g}info(o=(0,t.of)(""),D=(0,t.of)(""),M={},C=!1){const T={...this.getDefaultOptions(),...M},g=new l(i()(),p.k.Info,o,D,T,C);return this.add(g),g}warning(o=(0,t.of)(""),D=(0,t.of)(""),M=this.getDefaultOptions(),C=!1){const T={...this.getDefaultOptions(),...M},g=new l(i()(),p.k.Warning,o,D,T,C);return this.add(g),g}notificationWithAnchor(o,D,M,C,T,g){this.translate.get(C).pipe((0,n.P)()).subscribe(U=>{const L=`<a class="align-baseline btn btn-link p-0 m-0" href="${M}" >\n                        <strong>${U}</strong>\n                      </a>`,j=Object.create({});j[g]=L,this.translate.get(T,j).pipe((0,n.P)()).subscribe($=>{switch(o){case p.k.Success:this.success(null,$,D,!0);break;case p.k.Error:this.error(null,$,D,!0);break;case p.k.Info:this.info(null,$,D,!0);break;case p.k.Warning:this.warning(null,$,D,!0)}})})}remove(o){const D=new h.WW(o.id);this.store.dispatch(D)}removeAll(){const o=new h.S5;this.store.dispatch(o)}getDefaultOptions(){return new d.n(m.N.notifications.timeOut,m.N.notifications.clickToClose,m.N.notifications.animate)}}return S.\u0275fac=function(o){return new(o||S)(_.\u0275\u0275inject(v.yh),_.\u0275\u0275inject(y.sK))},S.\u0275prov=_.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})()},64455:(R,c,e)=>{"use strict";e.d(c,{m:()=>t});var t=(()=>{return(n=t||(t={}))[n.None=0]="None",n[n.Link=1]="Link",n[n.ExternalLink=2]="ExternalLink",t;var n})()},12955:(R,c,e)=>{"use strict";e.d(c,{c:()=>S});var t=e(98678),n=e(48358),a=e(49887),i=e(45608),d=e(41529),r=e(42139),l=e(35103),p=e(67522),h=e(26650),m=e(62179),_=e(68228);function v(b,o){if(1&b){const D=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-themed-object-list",3),t.\u0275\u0275listener("paginationChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPaginationChange(C))})("pageChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPageChange(C))})("pageSizeChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPageSizeChange(C))})("sortDirectionChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onSortDirectionChange(C))})("deselectObject",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.deselectObject.emit(C))})("selectObject",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.selectObject.emit(C))})("sortFieldChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onSortFieldChange(C))})("importObject",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.importObject.emit(C))})("contentChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.contentChange.emit(C))})("prev",function(){t.\u0275\u0275restoreView(D);const C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.goPrev())})("next",function(){t.\u0275\u0275restoreView(D);const C=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(C.goNext())}),t.\u0275\u0275elementEnd()}if(2&b){const D=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",D.placeholderFontClass)("config",D.config)("sortConfig",D.sortConfig)("objects",D.objects)("hasBorder",D.hasBorder)("hideGear",D.hideGear)("linkType",D.linkType)("context",D.context)("hidePaginationDetail",D.hidePaginationDetail)("showPaginator",D.showPaginator)("showThumbnails",D.showThumbnails)("selectable",D.selectable)("selectionConfig",D.selectionConfig)("importable",D.importable)("importConfig",D.importConfig)}}function y(b,o){if(1&b){const D=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-object-grid",4),t.\u0275\u0275listener("paginationChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPaginationChange(C))})("pageChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPageChange(C))})("pageSizeChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onPageSizeChange(C))})("sortDirectionChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onSortDirectionChange(C))})("sortFieldChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.onSortFieldChange(C))}),t.\u0275\u0275elementEnd()}if(2&b){const D=t.\u0275\u0275nextContext();t.\u0275\u0275property("config",D.config)("sortConfig",D.sortConfig)("objects",D.objects)("hideGear",D.hideGear)("linkType",D.linkType)("context",D.context)("hidePaginationDetail",D.hidePaginationDetail)("showPaginator",D.showPaginator)("showThumbnails",D.showThumbnails)}}function O(b,o){if(1&b){const D=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-object-detail",5),t.\u0275\u0275listener("contentChange",function(C){t.\u0275\u0275restoreView(D);const T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.contentChange.emit(C))}),t.\u0275\u0275elementEnd()}if(2&b){const D=t.\u0275\u0275nextContext();t.\u0275\u0275property("config",D.config)("sortConfig",D.sortConfig)("objects",D.objects)("hideGear",D.hideGear)("linkType",D.linkType)("context",D.context)("hidePaginationDetail",D.hidePaginationDetail)("showPaginator",D.showPaginator)("showThumbnails",D.showThumbnails)}}let S=(()=>{class b{constructor(D,M,C,T,g){this.cdRef=D,this.route=M,this.router=C,this.elementRef=T,this.platformId=g,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new t.EventEmitter,this.deselectObject=new t.EventEmitter,this.selectObject=new t.EventEmitter,this.contentChange=new t.EventEmitter,this.importable=!1,this.importObject=new t.EventEmitter,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.sortFieldChange=new t.EventEmitter,this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.viewModeEnum=d.w}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,n.U)(D=>(0,i.xb)(D?.view)?d.w.ListElement:D.view),(0,a.x)()),this.placeholderFontClass=(0,l.NF)(this.platformId)?(0,r.X)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(D){this.pageChange.emit(D)}onPageSizeChange(D){this.pageSizeChange.emit(D)}onSortDirectionChange(D){this.sortDirectionChange.emit(D)}onSortFieldChange(D){this.sortFieldChange.emit(D)}onPaginationChange(D){this.paginationChange.emit(D)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}}return b.\u0275fac=function(D){return new(D||b)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(p.gz),t.\u0275\u0275directiveInject(p.F0),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.PLATFORM_ID))},b.\u0275cmp=t.\u0275\u0275defineComponent({type:b,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},decls:6,vars:9,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange"]],template:function(D,M){1&D&&(t.\u0275\u0275template(0,v,1,15,"ds-themed-object-list",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,y,1,9,"ds-object-grid",1),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275template(4,O,1,9,"ds-object-detail",2),t.\u0275\u0275pipe(5,"async")),2&D&&(t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,3,M.currentMode$)===M.viewModeEnum.ListElement),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(3,5,M.currentMode$)===M.viewModeEnum.GridElement),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,7,M.currentMode$)===M.viewModeEnum.DetailedListElement))},dependencies:[l.mk,l.O5,h.M,m.B,_.P,l.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),b})()},57610:(R,c,e)=>{"use strict";e.r(c),e.d(c,{AccessStatusBadgeComponent:()=>O});var t=e(48358),n=e(9249),a=e(9237),i=e(45608),d=e(76774),r=e(90053),p=(e(61750),e(92866)),h=e(98678),m=e(35103),_=e(96342);function v(S,b){if(1&S&&(h.\u0275\u0275elementStart(0,"span")(1,"span"),h.\u0275\u0275text(2),h.\u0275\u0275pipe(3,"translate"),h.\u0275\u0275elementEnd()()),2&S){const o=b.ngIf,D=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275classMap("badge badge-secondary access-status-list-element-badge "+D.accessStatusClass),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(3,3,o))}}function y(S,b){if(1&S&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275template(1,v,4,5,"span",0),h.\u0275\u0275pipe(2,"async"),h.\u0275\u0275elementContainerEnd()),2&S){const o=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(2,1,o.accessStatus$))}}let O=(()=>{class S{constructor(o){this.accessStatusDataService=o,this.subs=[]}ngOnInit(){if(this.showAccessStatus=d.N.item.showAccessStatuses,this.object.type.toString()!==p.B.value||!this.showAccessStatus||null==this.object)return;const o=this.object;null==o.accessStatus&&(o.accessStatus=this.accessStatusDataService.findAccessStatusFor(o)),this.accessStatus$=o.accessStatus.pipe((0,t.U)(D=>401!==D.statusCode&&(0,i.Uh)(D.payload)?D.payload:[]),(0,t.U)(D=>(0,i.Uh)(D.status)?D.status:"unknown"),(0,t.U)(D=>`access-status.${D.toLowerCase()}.listelement.badge`),(0,n.K)(()=>(0,a.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,t.U)(D=>D.replace(/\./g,"-"))).subscribe(D=>{this.accessStatusClass=D}))}ngOnDestroy(){this.subs.filter(o=>(0,i.Uh)(o)).forEach(o=>o.unsubscribe())}}return S.\u0275fac=function(o){return new(o||S)(h.\u0275\u0275directiveInject(r.A))},S.\u0275cmp=h.\u0275\u0275defineComponent({type:S,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(o,D){1&o&&h.\u0275\u0275template(0,y,3,3,"ng-container",0),2&o&&h.\u0275\u0275property("ngIf",D.showAccessStatus)},dependencies:[m.O5,m.Ov,_.X$]}),S})()},3101:(R,c,e)=>{"use strict";e.d(c,{Q:()=>n});const n=new(e(26523)._)("accessStatus")},26895:(R,c,e)=>{"use strict";e.d(c,{e:()=>r});var t=e(4682),a=(e(61750),e(98678));function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(h){return e(29381)(`./${h}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,57610))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=a.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-access-status-badge"]],inputs:{object:"object"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},39523:(R,c,e)=>{"use strict";e.r(c),e.d(c,{BadgesComponent:()=>v});var t=e(97462),a=(e(61750),e(98678)),i=e(35103),d=e(50193),r=e(26895),l=e(84273),p=e(7349);function h(y,O){if(1&y&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275element(1,"ds-themed-my-dspace-status-badge",3),a.\u0275\u0275elementContainerEnd()),2&y){const S=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("context",S.context)}}function m(y,O){if(1&y&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275element(1,"ds-themed-access-status-badge",0),a.\u0275\u0275elementContainerEnd()),2&y){const S=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("object",S.object)}}const _=[t._.MyDSpaceArchived,t._.MyDSpaceWorkspace,t._.MyDSpaceWorkflow,t._.MyDSpaceDeclined,t._.MyDSpaceApproved,t._.MyDSpaceWaitingController,t._.MyDSpaceValidation];let v=(()=>{class y{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return _.includes(this.context)}}return y.\u0275fac=function(S){return new(S||y)},y.\u0275cmp=a.\u0275\u0275defineComponent({type:y,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pr-1",3,"object"],[3,"context"]],template:function(S,b){1&S&&(a.\u0275\u0275element(0,"ds-themed-status-badge",0),a.\u0275\u0275template(1,h,2,1,"ng-container",1),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275element(3,"ds-themed-type-badge",2),a.\u0275\u0275template(4,m,2,1,"ng-container",1),a.\u0275\u0275elementEnd()),2&S&&(a.\u0275\u0275property("object",b.object),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",b.isMyDSpaceStatus),a.\u0275\u0275advance(2),a.\u0275\u0275property("object",b.object),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",b.showAccessStatus))},dependencies:[i.O5,d.K,r.e,l.o,p.p]}),y})()},39848:(R,c,e)=>{"use strict";e.r(c),e.d(c,{MyDSpaceStatusBadgeComponent:()=>i});var t=e(97462),n=e(98678),a=e(96342);let i=(()=>{class d{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t._.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t._.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t._.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t._.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t._.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=n.\u0275\u0275defineComponent({type:d,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},decls:4,vars:4,consts:[[3,"className"]],template:function(l,p){1&l&&(n.\u0275\u0275elementStart(0,"div")(1,"span",0),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd()()),2&l&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("className",p.badgeClass),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,2,"mydspace.status."+p.badgeContent)," "))},dependencies:[a.X$]}),d})()},50193:(R,c,e)=>{"use strict";e.d(c,{K:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(p){return e(52614)(`./${p}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,39848))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-my-dspace-status-badge"]],inputs:{context:"context"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},84372:(R,c,e)=>{"use strict";e.r(c),e.d(c,{StatusBadgeComponent:()=>p}),e(61750);var n=e(45608),a=e(98678),i=e(35103),d=e(96342);function r(h,m){1&h&&(a.\u0275\u0275elementStart(0,"div",2)(1,"span",3),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),2&h&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,"item.badge.private")))}function l(h,m){1&h&&(a.\u0275\u0275elementStart(0,"div",4)(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),2&h&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,"item.badge.withdrawn")))}let p=(()=>{class h{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let _=this.object;(0,n.Uh)(_.indexableObject)&&(_=_.indexableObject);const v=(0,n.Uh)(_);this.privateBadge=v&&(0,n.Uh)(_.isDiscoverable)&&!_.isDiscoverable,this.withdrawnBadge=v&&(0,n.Uh)(_.isWithdrawn)&&_.isWithdrawn}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275cmp=a.\u0275\u0275defineComponent({type:h,selectors:[["ds-status-badge"]],inputs:{object:"object"},decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","badge-danger"],[1,"withdrawn-badge"],[1,"badge","badge-warning"]],template:function(_,v){1&_&&(a.\u0275\u0275template(0,r,4,3,"div",0),a.\u0275\u0275template(1,l,4,3,"div",1)),2&_&&(a.\u0275\u0275property("ngIf",v.privateBadge),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",v.withdrawnBadge))},dependencies:[i.O5,d.X$],encapsulation:2}),h})()},7349:(R,c,e)=>{"use strict";e.d(c,{p:()=>r});var t=e(4682),a=(e(61750),e(98678));function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(h){return e(15371)(`./${h}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,84372))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=a.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-status-badge"]],inputs:{object:"object"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},88948:(R,c,e)=>{"use strict";e.d(c,{k:()=>r});var t=e(4682),a=(e(61750),e(98678));function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(h){return e(60544)(`./${h}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,39523))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=a.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},84273:(R,c,e)=>{"use strict";e.d(c,{o:()=>r});var t=e(4682),a=(e(61750),e(98678));function i(l,p){}const d=["*"];let r=(()=>{class l extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(h){return e(84012)(`./${h}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,18765))}}return l.\u0275fac=function(){let p;return function(m){return(p||(p=a.\u0275\u0275getInheritedFactory(l)))(m||l)}}(),l.\u0275cmp=a.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-type-badge"]],inputs:{object:"object"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,m){1&h&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,i,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"div",null,1),a.\u0275\u0275projection(4),a.\u0275\u0275elementEnd())},encapsulation:2}),l})()},18765:(R,c,e)=>{"use strict";e.r(c),e.d(c,{TypeBadgeComponent:()=>p}),e(61750);var n=e(45608),a=e(47045),i=e(98678),d=e(35103),r=e(96342);function l(h,m){if(1&h&&(i.\u0275\u0275elementStart(0,"span")(1,"span",1),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd()()),2&h){const _=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,1,_.typeMessage))}}let p=(()=>{class h{set object(_){this._object=_;const v=this._object.getRenderTypes();if(!(0,n.xb)(v.length)){const y=v[0];if(y instanceof Function){const O=(0,a.l_)(_.type);this._typeMessage=(0,n.Uh)(O)?`${O.toLowerCase()}.listelement.badge`:`${y.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${y.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275cmp=i.\u0275\u0275defineComponent({type:h,selectors:[["ds-type-badge"]],inputs:{object:"object"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","badge-info"]],template:function(_,v){1&_&&i.\u0275\u0275template(0,l,4,3,"span",0),2&_&&i.\u0275\u0275property("ngIf",v.typeMessage)},dependencies:[d.O5,r.X$],encapsulation:2}),h})()},72782:(R,c,e)=>{"use strict";e.d(c,{J:()=>n});var t=e(65946);class n extends t.l{}},42237:(R,c,e)=>{"use strict";e.d(c,{o:()=>d});var t=e(70655),n=e(65946),a=e(5378),i=e(73803);let d=class extends n.l{};d=(0,t.__decorate)([(0,i.D)(a.F)],d)},28819:(R,c,e)=>{"use strict";e.d(c,{o:()=>d});var t=e(70655),n=e(66234),a=e(65946),i=e(73803);let d=class extends a.l{};d=(0,t.__decorate)([(0,i.D)(n.S)],d)},841:(R,c,e)=>{"use strict";e.d(c,{C:()=>i});var t=e(98678),a=(e(18035),e(96342));let i=(()=>{class d{constructor(){this.importObject=new t.EventEmitter}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},decls:4,vars:3,consts:[[1,"mr-2"],[1,"btn","btn-outline-primary","btn-sm","float-left",3,"title","click"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(l,p){1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"button",1),t.\u0275\u0275listener("click",function(){return p.importObject.emit(p.object)}),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"i",2),t.\u0275\u0275elementEnd()()),2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(2,1,null==p.importConfig?null:p.importConfig.buttonLabel)))},dependencies:[a.X$],encapsulation:2}),d})()},122:(R,c,e)=>{"use strict";e.d(c,{T:()=>r});var t=e(70655),n=e(65946),a=e(13005),i=e(3798),d=e(73803);let r=class extends n.l{getRenderTypes(){return this.indexableObject.getRenderTypes().map(p=>"string"==typeof p?p+"SearchResult":this.constructor)}};r=(0,t.__decorate)([(0,d.D)(a.c),(0,i.pm)(n.l)],r)},18035:(R,c,e)=>{"use strict";e.d(c,{J:()=>n});var t=e(3798);class n extends t.J{}},35534:(R,c,e)=>{"use strict";e.d(c,{p:()=>_});var t=e(98678),n=e(53426),a=e(9237),i=e(77176),r=(e(18035),e(23539)),l=e(15706),p=e(45608),h=e(34216);function m(v,y){}let _=(()=>{class v{constructor(O,S){this.cdr=O,this.themeService=S,this.showLabel=!0,this.contentChange=new t.EventEmitter,this.subs=[],this.inAndOutputNames=["object","index","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.object)}ngOnChanges(O){(0,p.xI)(this.compRef)?this.instantiateComponent(this.object,O):this.inAndOutputNames.some(S=>(0,p.Uh)(O[S]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(O))}ngOnDestroy(){this.subs.filter(O=>(0,p.Uh)(O)).forEach(O=>O.unsubscribe())}instantiateComponent(O,S){const b=this.getComponent(O.getRenderTypes(),this.viewMode,this.context),o=this.listableObjectDirective.viewContainerRef;o.clear(),this.compRef=o.createComponent(b,{index:0,injector:void 0}),(0,p.Uh)(S)?this.ngOnChanges(S):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,n.a)([(0,a.of)(S),this.compRef.instance.reloadedObject.pipe((0,i.q)(1))]).subscribe(([D,M])=>{M&&(this.compRef.destroy(),this.object=M,this.instantiateComponent(M,D),this.cdr.detectChanges(),this.contentChange.emit(M))})}getComponent(O,S,b){return(0,r.mt)(O,S,b,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,p.UE)(this.inAndOutputNames)&&(0,p.Uh)(this.compRef)&&(0,p.Uh)(this.compRef.instance)&&this.inAndOutputNames.filter(O=>void 0!==this[O]).forEach(O=>{this.compRef.instance[O]=this[O]})}}return v.\u0275fac=function(O){return new(O||v)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(h.fY))},v.\u0275cmp=t.\u0275\u0275defineComponent({type:v,selectors:[["ds-listable-object-component-loader"]],viewQuery:function(O,S){if(1&O&&t.\u0275\u0275viewQuery(l.U,7),2&O){let b;t.\u0275\u0275queryRefresh(b=t.\u0275\u0275loadQuery())&&(S.listableObjectDirective=b.first)}},inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:0,consts:[["dsListableObject",""]],template:function(O,S){1&O&&t.\u0275\u0275template(0,m,0,0,"ng-template",0)},dependencies:[l.U],styles:["[_nghost-%COMP%]{width:100%}"]}),v})()},23539:(R,c,e)=>{"use strict";e.d(c,{An:()=>b,QC:()=>l,d$:()=>v,mt:()=>y,t0:()=>p,tw:()=>m});var t=e(41529),n=e(97462),a=e(45608),i=e(76774),d=e(98678);const r=t.w.ListElement,l=n._.Any,p="*";class h{constructor(D,M,C){this.match=D,this.level=M,this.relevancy=C}isMoreRelevantThan(D){return!!(0,a.xI)(D)||!(D.level>this.level||D.level===this.level&&D.relevancy>this.relevancy)}isLessRelevantThan(D){return!this.isMoreRelevantThan(D)}}const m=new d.InjectionToken("getThemeConfigFor",{providedIn:"root",factory:()=>S}),_=new Map;function v(o,D,M=l,C=p){return function(g){(0,a.xI)(o)||((0,a.xI)(_.get(o))&&_.set(o,new Map),(0,a.xI)(_.get(o).get(D))&&_.get(o).set(D,new Map),(0,a.xI)(_.get(o).get(D).get(M))&&_.get(o).get(D).set(M,new Map),_.get(o).get(D).get(M).set(C,g))}}function y(o,D,M=l,C=p){let T=null;for(const g of o){const U=_.get(g);if((0,a.Uh)(U)){const L=O(U,[D,M,C],[r,l,p]);((0,a.xI)(T)||T.isLessRelevantThan(L))&&(T=L)}}return(0,a.Uh)(T)?T.match:null}function O(o,D,M){let C=o,T=-1,g=0;for(let U=0;U<D.length;U++){let L=M[U]===p?b(C,D[U]):C.get(D[U]);if((0,a.xI)(L)?(L=C.get(M[U]),-1===T&&(T=U)):g++,!(0,a.Uh)(L))return null;if(!(L instanceof Map))return new h(L,T>-1?T:U+1,g);C=L}return null}const S=o=>i.N.themes.find(D=>D.name===o),b=(o,D,M=[])=>{const C=o.get(D);if((0,a.Uh)(C))return C;{const T=S(D);if((0,a.Uh)(T)&&(0,a.UE)(T.extends)){const g=T.extends,U=[...M,D];if(M.includes(g))throw new Error("Theme extension cycle detected: "+[...U,g].join(" -> "));return b(o,g,U)}}}},15706:(R,c,e)=>{"use strict";e.d(c,{U:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d){this.viewContainerRef=d}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ViewContainerRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsListableObject",""]]}),a})()},39468:(R,c,e)=>{"use strict";e.d(c,{i:()=>r});var t=e(98678),n=e(64455),a=e(97462),i=e(41529),d=e(8842);let r=(()=>{class l{constructor(h){this.dsoNameService=h,this.showLabel=!0,this.reloadedObject=new t.EventEmitter,this.linkTypes=n.m,this.viewModes=i.w,this.contexts=a._}}return l.\u0275fac=function(h){return new(h||l)(t.\u0275\u0275directiveInject(d._))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},decls:0,vars:0,template:function(h,m){},encapsulation:2}),l})()},82802:(R,c,e)=>{"use strict";e.d(c,{_:()=>y});var t=e(98678),a=(e(18035),e(91416)),i=e(43535),d=e(77176),r=e(48358),l=e(35103),p=e(5476),h=e(41966);function m(O,S){if(1&O){const b=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",3),t.\u0275\u0275listener("ngModelChange",function(D){t.\u0275\u0275restoreView(b);const M=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(M.selectCheckbox(D))}),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementEnd()}if(2&O){const b=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("name","checkbox"+b.index)("id","object"+b.index)("ngModel",t.\u0275\u0275pipeBind1(1,3,b.selected$))}}function _(O,S){if(1&O){const b=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(b);const D=t.\u0275\u0275nextContext().ngVar,M=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(M.selectRadio(!D))}),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementEnd()}if(2&O){const b=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("name","radio"+b.index)("id","object"+b.index)("checked",t.\u0275\u0275pipeBind1(1,3,b.selected$))}}function v(O,S){if(1&O&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,m,2,5,"input",1),t.\u0275\u0275template(2,_,2,5,"input",2),t.\u0275\u0275elementContainerEnd()),2&O){const b=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",b.selectionConfig.repeatable),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!b.selectionConfig.repeatable)}}let y=(()=>{class O{constructor(b){this.selectionService=b,this.deselectObject=new t.EventEmitter,this.selectObject=new t.EventEmitter}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,i.T)(1)).subscribe(b=>{b?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(b){b?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(b){b&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,d.q)(1),(0,r.U)(D=>D?D.selection:[])).subscribe(D=>{D.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}}return O.\u0275fac=function(b){return new(b||O)(t.\u0275\u0275directiveInject(a.w))},O.\u0275cmp=t.\u0275\u0275defineComponent({type:O,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},decls:2,vars:3,consts:[[4,"ngVar"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"name","id","ngModel","ngModelChange"],["type","radio",1,"form-check-input","mt-2",3,"name","id","checked","click"]],template:function(b,o){1&b&&(t.\u0275\u0275template(0,v,3,2,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&b&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,null==o.selectionService?null:o.selectionService.isObjectSelected(null==o.selectionConfig?null:o.selectionConfig.listId,o.object)))},dependencies:[l.O5,p.Wl,p.JJ,p.On,h.g,l.Ov],encapsulation:2}),O})()},26615:(R,c,e)=>{"use strict";e.d(c,{H:()=>d});var t=e(39468),n=e(71432),a=e(45608),i=e(98678);let d=(()=>{class r extends t.i{ngOnInit(){(0,a.Uh)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(p){return n.S.allValues([this.object.hitHighlights,this.dso.metadata],p)}firstMetadataValue(p){return n.S.firstValue([this.object.hitHighlights,this.dso.metadata],p)}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=i.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=i.\u0275\u0275defineComponent({type:r,selectors:[["ds-search-result-detail-element"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(p,h){},encapsulation:2}),r})()},62179:(R,c,e)=>{"use strict";e.d(c,{B:()=>O});var t=e(98678),n=e(58106),a=e(41529),i=e(35103),d=e(64719),r=e(87657),l=e(78530),p=e(35534),h=e(96342);function m(S,b){if(1&S){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5)(1,"ds-listable-object-component-loader",6),t.\u0275\u0275listener("contentChange",function(M){t.\u0275\u0275restoreView(o);const C=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(C.contentChange.emit(M))}),t.\u0275\u0275elementEnd()()}if(2&S){const o=b.$implicit,D=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("object",o)("viewMode",D.viewMode)("context",D.context)("showThumbnails",D.showThumbnails)}}function _(S,b){if(1&S&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275template(1,m,2,4,"div",4),t.\u0275\u0275elementEnd()),2&S){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("@fadeIn",void 0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==o.objects||null==o.objects.payload?null:o.objects.payload.page)}}function v(S,b){1&S&&(t.\u0275\u0275element(0,"ds-error",7),t.\u0275\u0275pipe(1,"translate")),2&S&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"error.objects"))}function y(S,b){1&S&&(t.\u0275\u0275element(0,"ds-themed-loading",7),t.\u0275\u0275pipe(1,"translate")),2&S&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.objects"))}let O=(()=>{class S{constructor(){this.viewMode=a.w.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new t.EventEmitter,this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.hidePaginationDetail=!0,this.change=new t.EventEmitter,this.pageChange=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.sortFieldChange=new t.EventEmitter}set objects(o){this._objects=o}get objects(){return this._objects}onPageChange(o){this.pageChange.emit(o)}onPageSizeChange(o){this.pageSizeChange.emit(o)}onSortDirectionChange(o){this.sortDirectionChange.emit(o)}onSortFieldChange(o){this.sortFieldChange.emit(o)}onPaginationChange(o){this.paginationChange.emit(o)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}}return S.\u0275fac=function(o){return new(o||S)},S.\u0275cmp=t.\u0275\u0275defineComponent({type:S,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},decls:4,vars:12,consts:[[3,"paginationOptions","pageInfoState","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"object","viewMode","context","showThumbnails","contentChange"],[3,"message"]],template:function(o,D){1&o&&(t.\u0275\u0275elementStart(0,"ds-pagination",0),t.\u0275\u0275listener("pageChange",function(C){return D.onPageChange(C)})("pageSizeChange",function(C){return D.onPageSizeChange(C)})("sortDirectionChange",function(C){return D.onSortDirectionChange(C)})("sortFieldChange",function(C){return D.onSortFieldChange(C)})("paginationChange",function(C){return D.onPaginationChange(C)})("prev",function(){return D.goPrev()})("next",function(){return D.goNext()}),t.\u0275\u0275template(1,_,2,2,"div",1),t.\u0275\u0275template(2,v,2,3,"ds-error",2),t.\u0275\u0275template(3,y,2,3,"ds-themed-loading",2),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275property("paginationOptions",D.config)("pageInfoState",null==D.objects?null:D.objects.payload)("collectionSize",null==D.objects||null==D.objects.payload?null:D.objects.payload.totalElements)("sortOptions",D.sortConfig)("objects",D.objects)("hideGear",D.hideGear)("hidePaginationDetail",D.hidePaginationDetail)("hidePagerWhenSinglePage",D.hidePagerWhenSinglePage)("showPaginator",D.showPaginator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==D.objects?null:D.objects.hasSucceeded),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.objects.hasFailed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.objects.isLoading))},dependencies:[i.sg,i.O5,d.q,r.Z,l.Q,p.p,h.X$],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[n.Ji]}}),S})()},68228:(R,c,e)=>{"use strict";e.d(c,{P:()=>U});var t=e(35841),n=e(53426),a=e(48358),i=e(49887),d=e(9302),r=e(98678),l=e(58106),p=e(45608),h=e(79849),m=e(41529),_=e(35103),v=e(64719),y=e(87657),O=e(78530),S=e(35534),b=e(96342),o=e(7027);function D(L,j){if(1&L&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275pipe(1,"dsBrowserOnly"),r.\u0275\u0275element(2,"ds-listable-object-component-loader",8),r.\u0275\u0275elementEnd()),2&L){const $=j.$implicit,z=r.\u0275\u0275nextContext(3);r.\u0275\u0275attribute("data-test",r.\u0275\u0275pipeBind1(1,6,"grid-object")),r.\u0275\u0275advance(2),r.\u0275\u0275property("object",$)("viewMode",z.viewMode)("context",z.context)("showThumbnails",z.showThumbnails)("linkType",z.linkType)}}function M(L,j){if(1&L&&(r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275template(1,D,3,8,"div",6),r.\u0275\u0275elementEnd()),2&L){const $=j.$implicit;r.\u0275\u0275property("@fadeIn",void 0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",$)}}function C(L,j){if(1&L&&(r.\u0275\u0275elementStart(0,"div",3),r.\u0275\u0275template(1,M,2,2,"div",4),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275elementEnd()),2&L){const $=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,1,$.columns$))}}function T(L,j){1&L&&(r.\u0275\u0275element(0,"ds-error",9),r.\u0275\u0275pipe(1,"translate")),2&L&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"error.objects"))}function g(L,j){1&L&&(r.\u0275\u0275element(0,"ds-themed-loading",9),r.\u0275\u0275pipe(1,"translate")),2&L&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"loading.objects"))}let U=(()=>{class L{constructor($){this.hostWindow=$,this.viewMode=m.w.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new r.EventEmitter,this.pageChange=new r.EventEmitter,this.pageSizeChange=new r.EventEmitter,this.sortDirectionChange=new r.EventEmitter,this.paginationChange=new r.EventEmitter,this.sortFieldChange=new r.EventEmitter,this.prev=new r.EventEmitter,this.next=new r.EventEmitter,this.data={},this._objects$=new t.X(void 0)}set objects($){this._objects$.next($)}get objects(){return this._objects$.getValue()}ngOnInit(){const $=this.hostWindow.widthCategory.pipe((0,a.U)(z=>{switch(z){case h.o.XL:case h.o.LG:return 3;case h.o.MD:case h.o.SM:return 2;default:return 1}}),(0,i.x)()).pipe((0,d.O)(3));this.columns$=(0,n.a)($,this._objects$).pipe((0,a.U)(([z,re])=>{if((0,p.Uh)(re)&&(0,p.Uh)(re.payload)&&(0,p.Uh)(re.payload.page)){const ie=[];return re.payload.page.forEach((ce,ne)=>{const K=ne%z;let w=ie[K];(0,p.xI)(w)&&(w=[]),ie[K]=[...w,ce]}),ie}return[]}))}onPageChange($){this.pageChange.emit($)}onPageSizeChange($){this.pageSizeChange.emit($)}onSortDirectionChange($){this.sortDirectionChange.emit($)}onSortFieldChange($){this.sortFieldChange.emit($)}onPaginationChange($){this.paginationChange.emit($)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}}return L.\u0275fac=function($){return new($||L)(r.\u0275\u0275directiveInject(h.I))},L.\u0275cmp=r.\u0275\u0275defineComponent({type:L,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},decls:4,vars:12,consts:[[3,"paginationOptions","pageInfoState","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function($,z){1&$&&(r.\u0275\u0275elementStart(0,"ds-pagination",0),r.\u0275\u0275listener("pageChange",function(W){return z.onPageChange(W)})("pageSizeChange",function(W){return z.onPageSizeChange(W)})("sortDirectionChange",function(W){return z.onSortDirectionChange(W)})("sortFieldChange",function(W){return z.onSortFieldChange(W)})("paginationChange",function(W){return z.onPaginationChange(W)})("prev",function(){return z.goPrev()})("next",function(){return z.goNext()}),r.\u0275\u0275template(1,C,3,3,"div",1),r.\u0275\u0275template(2,T,2,3,"ds-error",2),r.\u0275\u0275template(3,g,2,3,"ds-themed-loading",2),r.\u0275\u0275elementEnd()),2&$&&(r.\u0275\u0275property("paginationOptions",z.config)("pageInfoState",null==z.objects?null:z.objects.payload)("collectionSize",null==z.objects||null==z.objects.payload?null:z.objects.payload.totalElements)("sortOptions",z.sortConfig)("hideGear",z.hideGear)("objects",z.objects)("hidePagerWhenSinglePage",z.hidePagerWhenSinglePage)("hidePaginationDetail",z.hidePaginationDetail)("showPaginator",z.showPaginator),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==z.objects?null:z.objects.hasSucceeded),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",z.objects.hasFailed),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",z.objects.isLoading))},dependencies:[_.sg,_.O5,v.q,y.Z,O.Q,S.p,_.Ov,b.X$,o.g],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[l.Ji]}}),L})()},52654:(R,c,e)=>{"use strict";e.d(c,{a:()=>z});var M,t=e(70655),n=e(6394),i=(e(5378),e(42237)),d=e(41529),r=e(23539),l=e(45608),p=e(46533),h=e(30658),m=e(56765),_=e(39034),v=e(8842),y=e(98678),O=e(35103),S=e(67522),b=e(18639),o=e(88948),D=e(96342);const C=function(re){return["/collections/",re]};function T(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"a",8),y.\u0275\u0275pipe(1,"translate"),y.\u0275\u0275element(2,"ds-themed-thumbnail",9),y.\u0275\u0275pipe(3,"async"),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();let ce;y.\u0275\u0275property("target",ie.linkType==ie.linkTypes.ExternalLink?"_blank":"_self")("routerLink",y.\u0275\u0275pureFunction1(10,C,ie.dso.id)),y.\u0275\u0275attribute("rel",ie.linkType==ie.linkTypes.ExternalLink?"noopener noreferrer":null)("title",y.\u0275\u0275pipeBind1(1,6,"search.results.view-result")),y.\u0275\u0275advance(2),y.\u0275\u0275property("thumbnail",null==(ce=y.\u0275\u0275pipeBind1(3,8,ie.dso.logo))?null:ce.payload)("limitWidth",!1)}}function g(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"span",10),y.\u0275\u0275element(1,"ds-themed-thumbnail",9),y.\u0275\u0275pipe(2,"async"),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();let ce;y.\u0275\u0275advance(1),y.\u0275\u0275property("thumbnail",null==(ce=y.\u0275\u0275pipeBind1(2,2,ie.dso.logo))?null:ce.payload)("limitWidth",!1)}}function U(re,W){if(1&re&&y.\u0275\u0275element(0,"ds-themed-badges",11),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275property("object",ie.dso)("context",ie.context)}}function L(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"p",12),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(ie.dso.shortDescription)}}function j(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"div",13)(1,"a",14),y.\u0275\u0275text(2),y.\u0275\u0275pipe(3,"translate"),y.\u0275\u0275elementEnd()()),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("target",ie.linkType==ie.linkTypes.ExternalLink?"_blank":"_self")("routerLink",y.\u0275\u0275pureFunction1(6,C,ie.dso.id)),y.\u0275\u0275attribute("rel",ie.linkType==ie.linkTypes.ExternalLink?"noopener noreferrer":null),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(3,4,"search.results.view-result"))}}let z=((M=class extends n.h{constructor(W,ie,ce,ne){super(W,ce,ne),this.dsoNameService=W,this.linkService=ie,this.truncatableService=ce,this.bitstreamDataService=ne}set dso(W){this._dso=W,(0,l.Uh)(this._dso)&&(0,l.xI)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,p.l)("logo"))}get dso(){return this._dso}}).\u0275fac=function(W){return new(W||M)(y.\u0275\u0275directiveInject(v._),y.\u0275\u0275directiveInject(h.M),y.\u0275\u0275directiveInject(m.F),y.\u0275\u0275directiveInject(_.J))},M.\u0275cmp=y.\u0275\u0275defineComponent({type:M,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},features:[y.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(W,ie){1&W&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275template(1,T,4,12,"a",1),y.\u0275\u0275template(2,g,3,4,"span",2),y.\u0275\u0275elementStart(3,"div",3),y.\u0275\u0275template(4,U,1,2,"ds-themed-badges",4),y.\u0275\u0275elementStart(5,"h4",5),y.\u0275\u0275text(6),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(7,L,2,1,"p",6),y.\u0275\u0275template(8,j,4,8,"div",7),y.\u0275\u0275elementEnd(),y.\u0275\u0275projection(9),y.\u0275\u0275elementEnd()),2&W&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType!=ie.linkTypes.None),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType==ie.linkTypes.None),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",ie.showLabel),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(ie.dsoNameService.getName(ie.dso)),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.dso.shortDescription),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType!=ie.linkTypes.None))},dependencies:[O.O5,S.rH,b.z,o.k,O.Ov,D.X$],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),M);z=(0,t.__decorate)([(0,r.d$)(i.o,d.w.GridElement),(0,t.__metadata)("design:paramtypes",[v._,h.M,m.F,_.J])],z)},15353:(R,c,e)=>{"use strict";e.d(c,{g:()=>z});var M,t=e(70655),a=(e(66234),e(6394)),i=e(28819),d=e(41529),r=e(23539),l=e(30658),p=e(56765),h=e(39034),m=e(45608),_=e(46533),v=e(8842),y=e(98678),O=e(35103),S=e(67522),b=e(18639),o=e(88948),D=e(96342);const C=function(re){return["/communities/",re]};function T(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"a",8),y.\u0275\u0275pipe(1,"translate"),y.\u0275\u0275element(2,"ds-themed-thumbnail",9),y.\u0275\u0275pipe(3,"async"),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();let ce;y.\u0275\u0275property("target",ie.linkType==ie.linkTypes.ExternalLink?"_blank":"_self")("routerLink",y.\u0275\u0275pureFunction1(10,C,ie.dso.id)),y.\u0275\u0275attribute("rel",ie.linkType==ie.linkTypes.ExternalLink?"noopener noreferrer":null)("title",y.\u0275\u0275pipeBind1(1,6,"search.results.view-result")),y.\u0275\u0275advance(2),y.\u0275\u0275property("thumbnail",null==(ce=y.\u0275\u0275pipeBind1(3,8,ie.dso.logo))?null:ce.payload)("limitWidth",!1)}}function g(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"span",10),y.\u0275\u0275element(1,"ds-themed-thumbnail",9),y.\u0275\u0275pipe(2,"async"),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();let ce;y.\u0275\u0275advance(1),y.\u0275\u0275property("thumbnail",null==(ce=y.\u0275\u0275pipeBind1(2,2,ie.dso.logo))?null:ce.payload)("limitWidth",!1)}}function U(re,W){if(1&re&&y.\u0275\u0275element(0,"ds-themed-badges",11),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275property("object",ie.dso)("context",ie.context)}}function L(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"p",12),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(ie.dso.shortDescription)}}function j(re,W){if(1&re&&(y.\u0275\u0275elementStart(0,"div",13)(1,"a",14),y.\u0275\u0275text(2),y.\u0275\u0275pipe(3,"translate"),y.\u0275\u0275elementEnd()()),2&re){const ie=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("target",ie.linkType==ie.linkTypes.ExternalLink?"_blank":"_self")("routerLink",y.\u0275\u0275pureFunction1(6,C,ie.dso.id)),y.\u0275\u0275attribute("rel",ie.linkType==ie.linkTypes.ExternalLink?"noopener noreferrer":null),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(3,4,"search.results.view-result"))}}let z=((M=class extends a.h{constructor(W,ie,ce,ne){super(W,ce,ne),this.dsoNameService=W,this.linkService=ie,this.truncatableService=ce,this.bitstreamDataService=ne}set dso(W){this._dso=W,(0,m.Uh)(this._dso)&&(0,m.xI)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,_.l)("logo"))}get dso(){return this._dso}}).\u0275fac=function(W){return new(W||M)(y.\u0275\u0275directiveInject(v._),y.\u0275\u0275directiveInject(l.M),y.\u0275\u0275directiveInject(p.F),y.\u0275\u0275directiveInject(h.J))},M.\u0275cmp=y.\u0275\u0275defineComponent({type:M,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},features:[y.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(W,ie){1&W&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275template(1,T,4,12,"a",1),y.\u0275\u0275template(2,g,3,4,"span",2),y.\u0275\u0275elementStart(3,"div",3),y.\u0275\u0275template(4,U,1,2,"ds-themed-badges",4),y.\u0275\u0275elementStart(5,"h4",5),y.\u0275\u0275text(6),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(7,L,2,1,"p",6),y.\u0275\u0275template(8,j,4,8,"div",7),y.\u0275\u0275elementEnd(),y.\u0275\u0275projection(9),y.\u0275\u0275elementEnd()),2&W&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType!=ie.linkTypes.None),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType==ie.linkTypes.None),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",ie.showLabel),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(ie.dsoNameService.getName(ie.dso)),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.dso.shortDescription),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",ie.linkType!=ie.linkTypes.None))},dependencies:[O.O5,S.rH,b.z,o.k,O.Ov,D.X$],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),M);z=(0,t.__decorate)([(0,r.d$)(i.o,d.w.GridElement),(0,t.__metadata)("design:paramtypes",[v._,l.M,p.F,h.J])],z)},19847:(R,c,e)=>{"use strict";e.d(c,{n:()=>ce});var M,t=e(70655),n=e(82069),a=e(41529),i=e(23539),d=e(6394),r=e(122),l=e(15463),p=e(8842),h=e(56765),m=e(39034),_=e(98678),v=e(35103),y=e(67522),O=e(18639),S=e(38678),b=e(9121),o=e(88948),D=e(96342);const C=function(ne){return[ne]};function T(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"a",11),_.\u0275\u0275pipe(1,"translate"),_.\u0275\u0275elementStart(2,"div"),_.\u0275\u0275element(3,"ds-themed-thumbnail",12),_.\u0275\u0275pipe(4,"async"),_.\u0275\u0275elementEnd()()),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275property("target",w.linkType==w.linkTypes.ExternalLink?"_blank":"_self")("routerLink",_.\u0275\u0275pureFunction1(10,C,w.itemPageRoute)),_.\u0275\u0275attribute("rel",w.linkType==w.linkTypes.ExternalLink?"noopener noreferrer":null)("title",_.\u0275\u0275pipeBind1(1,6,"search.results.view-result")),_.\u0275\u0275advance(3),_.\u0275\u0275property("thumbnail",_.\u0275\u0275pipeBind1(4,8,null==w.dso?null:w.dso.thumbnail))("limitWidth",!1)}}function g(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"span",13)(1,"div"),_.\u0275\u0275element(2,"ds-themed-thumbnail",12),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275elementEnd()()),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275advance(2),_.\u0275\u0275property("thumbnail",_.\u0275\u0275pipeBind1(3,2,null==w.dso?null:w.dso.thumbnail))("limitWidth",!1)}}function U(ne,K){if(1&ne&&_.\u0275\u0275element(0,"ds-themed-badges",14),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275property("object",w.dso)("context",w.context)("showAccessStatus",!0)}}function L(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"span",19),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),2&ne){const w=_.\u0275\u0275nextContext(2);_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate(w.firstMetadataValue("dc.date.issued"))}}function j(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"span"),_.\u0275\u0275text(1,", "),_.\u0275\u0275element(2,"span",20),_.\u0275\u0275elementEnd()),2&ne){const w=K.$implicit;_.\u0275\u0275advance(2),_.\u0275\u0275property("innerHTML",w,_.\u0275\u0275sanitizeHtml)}}const $=function(){return["dc.contributor.author","dc.creator","dc.contributor.*"]};function z(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"ds-truncatable-part",15)(1,"p",16),_.\u0275\u0275template(2,L,2,1,"span",17),_.\u0275\u0275template(3,j,3,1,"span",18),_.\u0275\u0275elementEnd()()),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275property("id",w.dso.id)("minLines",1),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngIf",w.dso.hasMetadata("dc.date.issued")),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngForOf",w.allMetadataValues(_.\u0275\u0275pureFunction0(4,$)))}}function re(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"ds-truncatable-part",15)(1,"p",21),_.\u0275\u0275element(2,"span",20),_.\u0275\u0275elementEnd()()),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275property("id",w.dso.id)("minLines",3),_.\u0275\u0275advance(2),_.\u0275\u0275property("innerHTML",w.firstMetadataValue("dc.description.abstract"),_.\u0275\u0275sanitizeHtml)}}function W(ne,K){if(1&ne&&(_.\u0275\u0275elementStart(0,"div",22)(1,"a",23),_.\u0275\u0275text(2),_.\u0275\u0275pipe(3,"translate"),_.\u0275\u0275elementEnd()()),2&ne){const w=_.\u0275\u0275nextContext();_.\u0275\u0275advance(1),_.\u0275\u0275property("target",w.linkType==w.linkTypes.ExternalLink?"_blank":"_self")("routerLink",_.\u0275\u0275pureFunction1(6,C,w.itemPageRoute)),_.\u0275\u0275attribute("rel",w.linkType==w.linkTypes.ExternalLink?"noopener noreferrer":null),_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate(_.\u0275\u0275pipeBind1(3,4,"search.results.view-result"))}}const ie=["*","*"];let ce=((M=class extends d.h{constructor(K,w,Q){super(K,w,Q),this.dsoNameService=K,this.truncatableService=w,this.bitstreamDataService=Q}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,l.Tt)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}}).\u0275fac=function(K){return new(K||M)(_.\u0275\u0275directiveInject(p._),_.\u0275\u0275directiveInject(h.F),_.\u0275\u0275directiveInject(m.J))},M.\u0275cmp=_.\u0275\u0275defineComponent({type:M,selectors:[["ds-item-search-result-grid-element"]],features:[_.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ie,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(K,w){1&K&&(_.\u0275\u0275projectionDef(ie),_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275pipe(1,"async"),_.\u0275\u0275elementStart(2,"div",1),_.\u0275\u0275projection(3),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(4,T,5,12,"a",2),_.\u0275\u0275template(5,g,4,4,"span",3),_.\u0275\u0275elementStart(6,"div",4),_.\u0275\u0275template(7,U,1,3,"ds-themed-badges",5),_.\u0275\u0275elementStart(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),_.\u0275\u0275element(10,"h4",8),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(11,z,4,5,"ds-truncatable-part",9),_.\u0275\u0275template(12,re,3,3,"ds-truncatable-part",9),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(13,W,4,8,"div",10),_.\u0275\u0275elementEnd(),_.\u0275\u0275projection(14,1),_.\u0275\u0275elementEnd()),2&K&&(_.\u0275\u0275property("@focusShadow",_.\u0275\u0275pipeBind1(1,11,w.isCollapsed$)?"blur":"focus"),_.\u0275\u0275advance(4),_.\u0275\u0275property("ngIf",w.linkType!=w.linkTypes.None),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",w.linkType==w.linkTypes.None),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngIf",w.showLabel),_.\u0275\u0275advance(1),_.\u0275\u0275property("id",w.dso.id),_.\u0275\u0275advance(1),_.\u0275\u0275property("id",w.dso.id)("minLines",3),_.\u0275\u0275advance(1),_.\u0275\u0275property("innerHTML",w.dsoTitle,_.\u0275\u0275sanitizeHtml),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",w.dso.hasMetadata(_.\u0275\u0275pureFunction0(13,$))),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",w.dso.hasMetadata("dc.description.abstract")),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",w.linkType!=w.linkTypes.None))},dependencies:[v.sg,v.O5,y.rH,O.z,S.n,b.L,o.k,v.Ov,D.X$],data:{animation:[n.X]}}),M);ce=(0,t.__decorate)([(0,i.d$)("PublicationSearchResult",a.w.GridElement),(0,i.d$)(r.T,a.w.GridElement),(0,t.__metadata)("design:paramtypes",[p._,h.F,m.J])],ce)},6394:(R,c,e)=>{"use strict";e.d(c,{h:()=>p});var t=e(39034),n=e(71432),a=e(45608),i=e(39468),d=e(56765),r=e(8842),l=e(98678);let p=(()=>{class h extends i.i{constructor(_,v,y){super(_),this.dsoNameService=_,this.truncatableService=v,this.bitstreamDataService=y}ngOnInit(){(0,a.Uh)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(_){return n.S.allValues([this.object.hitHighlights,this.dso.metadata],_)}firstMetadataValue(_){return n.S.firstValue([this.object.hitHighlights,this.dso.metadata],_)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}}return h.\u0275fac=function(_){return new(_||h)(l.\u0275\u0275directiveInject(r._),l.\u0275\u0275directiveInject(d.F),l.\u0275\u0275directiveInject(t.J))},h.\u0275cmp=l.\u0275\u0275defineComponent({type:h,selectors:[["ds-search-result-grid-element"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(_,v){},encapsulation:2}),h})()},64752:(R,c,e)=>{"use strict";e.d(c,{s:()=>n});const n=new(e(26523)._)("identifiers")},28143:(R,c,e)=>{"use strict";e.d(c,{h:()=>l});var r,t=e(70655),n=e(18035),a=e(65804),i=e(32588),d=e(91957);let l=((r=class extends n.J{constructor(h=d.k.Error,m="listable-notification-object.default-message",..._){super(),this.notificationType=h,this.message=m,this.type=i.k,this.renderTypes=_}getRenderTypes(){return[...this.renderTypes,this.constructor]}}).type=i.k,r);l=(0,t.__decorate)([a.KB,(0,t.__metadata)("design:paramtypes",[String,String,String])],l)},32588:(R,c,e)=>{"use strict";e.d(c,{k:()=>n});const n=new(e(26523)._)("listable-notification-object")},64069:(R,c,e)=>{"use strict";e.d(c,{X:()=>d});var t=e(54323),a=(e(50904),e(15463)),i=e(98678);let d=(()=>{class r extends t.S{ngOnInit(){this.itemPageRoute=(0,a.Tt)(this.mdRepresentation)}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=i.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=i.\u0275\u0275defineComponent({type:r,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},features:[i.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(p,h){},encapsulation:2}),r})()},54323:(R,c,e)=>{"use strict";e.d(c,{S:()=>n});var t=e(98678);let n=(()=>{class a{isLink(){return new RegExp(/^https?\/\/.*/).test(this.mdRepresentation.getValue())}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},decls:0,vars:0,template:function(d,r){},encapsulation:2}),a})()},79743:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ObjectListComponent:()=>b});var t=e(98678),n=e(58106),a=e(91416),i=e(41529),d=e(35103),r=e(78530),l=e(35534),p=e(82802),h=e(841),m=e(7027);function _(o,D){if(1&o){const M=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-selectable-list-item-control",8),t.\u0275\u0275listener("deselectObject",function(T){t.\u0275\u0275restoreView(M);const g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.deselectObject.emit(T))})("selectObject",function(T){t.\u0275\u0275restoreView(M);const g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.selectObject.emit(T))}),t.\u0275\u0275elementEnd()}if(2&o){const M=t.\u0275\u0275nextContext(),C=M.index,T=M.$implicit,g=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("index",C)("object",T)("selectionConfig",g.selectionConfig)}}function v(o,D){if(1&o){const M=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-importable-list-item-control",9),t.\u0275\u0275listener("importObject",function(T){t.\u0275\u0275restoreView(M);const g=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(g.importObject.emit(T))}),t.\u0275\u0275elementEnd()}if(2&o){const M=t.\u0275\u0275nextContext().$implicit,C=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("object",M)("importConfig",C.importConfig)}}function y(o,D){if(1&o){const M=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",4),t.\u0275\u0275pipe(1,"dsBrowserOnly"),t.\u0275\u0275template(2,_,1,3,"ds-selectable-list-item-control",5),t.\u0275\u0275template(3,v,1,2,"ds-importable-list-item-control",6),t.\u0275\u0275elementStart(4,"ds-listable-object-component-loader",7),t.\u0275\u0275listener("contentChange",function(T){t.\u0275\u0275restoreView(M);const g=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(g.contentChange.emit(T))}),t.\u0275\u0275elementEnd()()}if(2&o){const M=D.$implicit,C=D.index,T=D.last,g=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("border-bottom",g.hasBorder&&!T),t.\u0275\u0275attribute("data-test",t.\u0275\u0275pipeBind1(1,11,"list-object")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",g.selectable),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",g.importable),t.\u0275\u0275advance(1),t.\u0275\u0275property("object",M)("viewMode",g.viewMode)("index",C)("context",g.context)("linkType",g.linkType)("listID",null==g.selectionConfig?null:g.selectionConfig.listId)}}const O=function(o){return{"ml-4":o}};function S(o,D){if(1&o&&(t.\u0275\u0275elementStart(0,"ul",2),t.\u0275\u0275template(1,y,5,13,"li",3),t.\u0275\u0275elementEnd()),2&o){const M=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,O,M.selectable)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",null==M.objects||null==M.objects.payload?null:M.objects.payload.page)}}let b=(()=>{class o{constructor(M){this.selectionService=M,this.viewMode=i.w.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.EventEmitter,this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.change=new t.EventEmitter,this.pageChange=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.deselectObject=new t.EventEmitter,this.selectObject=new t.EventEmitter,this.importObject=new t.EventEmitter,this.sortFieldChange=new t.EventEmitter}set objects(M){this._objects=M}get objects(){return this._objects}onPageChange(M){this.pageChange.emit(M)}onPageSizeChange(M){this.pageSizeChange.emit(M)}onSortDirectionChange(M){this.sortDirectionChange.emit(M)}onSortFieldChange(M){this.sortFieldChange.emit(M)}onPaginationChange(M){this.paginationChange.emit(M)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}}return o.\u0275fac=function(M){return new(M||o)(t.\u0275\u0275directiveInject(a.w))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},decls:2,vars:10,consts:[[3,"paginationOptions","pageInfoState","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next"],["class","list-unstyled",3,"ngClass",4,"ngIf"],[1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"object","viewMode","index","context","linkType","listID","contentChange"],[3,"index","object","selectionConfig","deselectObject","selectObject"],[3,"object","importConfig","importObject"]],template:function(M,C){1&M&&(t.\u0275\u0275elementStart(0,"ds-pagination",0),t.\u0275\u0275listener("pageChange",function(g){return C.onPageChange(g)})("pageSizeChange",function(g){return C.onPageSizeChange(g)})("sortDirectionChange",function(g){return C.onSortDirectionChange(g)})("sortFieldChange",function(g){return C.onSortFieldChange(g)})("paginationChange",function(g){return C.onPaginationChange(g)})("prev",function(){return C.goPrev()})("next",function(){return C.goNext()}),t.\u0275\u0275template(1,S,2,4,"ul",1),t.\u0275\u0275elementEnd()),2&M&&(t.\u0275\u0275property("paginationOptions",C.config)("pageInfoState",null==C.objects?null:C.objects.payload)("collectionSize",null==C.objects||null==C.objects.payload?null:C.objects.payload.totalElements)("objects",C.objects)("sortOptions",C.sortConfig)("hideGear",C.hideGear)("hidePagerWhenSinglePage",C.hidePagerWhenSinglePage)("hidePaginationDetail",C.hidePaginationDetail)("showPaginator",C.showPaginator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==C.objects?null:C.objects.hasSucceeded))},dependencies:[d.mk,d.sg,d.O5,r.Q,l.p,p._,h.C,m.g],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[n.Ji]}}),o})()},38742:(R,c,e)=>{"use strict";e.d(c,{q:()=>o});var m,t=e(70655),n=e(54599),a=e(42237),i=e(41529),d=e(23539),r=e(98678),l=e(35103),p=e(67522),h=e(88948);function _(D,M){1&D&&r.\u0275\u0275element(0,"div",7)}function v(D,M){if(1&D&&r.\u0275\u0275element(0,"ds-themed-badges",8),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("object",C.dso)("context",C.context)}}const y=function(D){return[D]};function O(D,M){if(1&D&&r.\u0275\u0275element(0,"a",9),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("target",C.linkType==C.linkTypes.ExternalLink?"_blank":"_self")("routerLink",r.\u0275\u0275pureFunction1(4,y,"/collections/"+C.dso.id))("innerHTML",C.dsoTitle,r.\u0275\u0275sanitizeHtml),r.\u0275\u0275attribute("rel",C.linkType==C.linkTypes.ExternalLink?"noopener noreferrer":null)}}function S(D,M){if(1&D&&r.\u0275\u0275element(0,"span",10),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",C.dsoTitle,r.\u0275\u0275sanitizeHtml)}}function b(D,M){if(1&D&&r.\u0275\u0275element(0,"div",11),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",C.firstMetadataValue("dc.description.abstract"),r.\u0275\u0275sanitizeHtml)}}let o=((m=class extends n.c{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}}).\u0275fac=function(){let D;return function(C){return(D||(D=r.\u0275\u0275getInheritedFactory(m)))(C||m)}}(),m.\u0275cmp=r.\u0275\u0275defineComponent({type:m,selectors:[["ds-collection-search-result-list-element"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2 ",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(M,C){1&M&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,_,1,0,"div",1),r.\u0275\u0275elementStart(2,"div",2),r.\u0275\u0275template(3,v,1,2,"ds-themed-badges",3),r.\u0275\u0275template(4,O,1,6,"a",4),r.\u0275\u0275template(5,S,1,1,"span",5),r.\u0275\u0275template(6,b,1,1,"div",6),r.\u0275\u0275elementEnd()()),2&M&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.showThumbnails),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",C.showThumbnails?"col-9":"col-md-12"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.showLabel),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.linkType!=C.linkTypes.None),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.linkType==C.linkTypes.None),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.dso.shortDescription))},dependencies:[l.mk,l.O5,p.rH,h.k],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),m);o=(0,t.__decorate)([(0,d.d$)(a.o,i.w.ListElement)],o)},19255:(R,c,e)=>{"use strict";e.d(c,{K:()=>o});var m,t=e(70655),n=e(54599),a=e(28819),i=e(41529),d=e(23539),r=e(98678),l=e(35103),p=e(67522),h=e(88948);function _(D,M){1&D&&r.\u0275\u0275element(0,"div",7)}function v(D,M){if(1&D&&r.\u0275\u0275element(0,"ds-themed-badges",8),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("object",C.dso)("context",C.context)}}const y=function(D){return[D]};function O(D,M){if(1&D&&r.\u0275\u0275element(0,"a",9),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("target",C.linkType==C.linkTypes.ExternalLink?"_blank":"_self")("routerLink",r.\u0275\u0275pureFunction1(4,y,"/communities/"+C.dso.id))("innerHTML",C.dsoTitle,r.\u0275\u0275sanitizeHtml),r.\u0275\u0275attribute("rel",C.linkType==C.linkTypes.ExternalLink?"noopener noreferrer":null)}}function S(D,M){if(1&D&&r.\u0275\u0275element(0,"span",10),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",C.dsoTitle,r.\u0275\u0275sanitizeHtml)}}function b(D,M){if(1&D&&r.\u0275\u0275element(0,"div",11),2&D){const C=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",C.firstMetadataValue("dc.description.abstract"),r.\u0275\u0275sanitizeHtml)}}let o=((m=class extends n.c{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}}).\u0275fac=function(){let D;return function(C){return(D||(D=r.\u0275\u0275getInheritedFactory(m)))(C||m)}}(),m.\u0275cmp=r.\u0275\u0275defineComponent({type:m,selectors:[["ds-community-search-result-list-element"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:7,vars:6,consts:[[1,"row"],["class","offset-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(M,C){1&M&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,_,1,0,"div",1),r.\u0275\u0275elementStart(2,"div",2),r.\u0275\u0275template(3,v,1,2,"ds-themed-badges",3),r.\u0275\u0275template(4,O,1,6,"a",4),r.\u0275\u0275template(5,S,1,1,"span",5),r.\u0275\u0275template(6,b,1,1,"div",6),r.\u0275\u0275elementEnd()()),2&M&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.showThumbnails),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",C.showThumbnails?"col-9":"col-md-12"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.showLabel),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.linkType!=C.linkTypes.None),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.linkType==C.linkTypes.None),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",C.dso.shortDescription))},dependencies:[l.mk,l.O5,p.rH,h.k],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]}),m);o=(0,t.__decorate)([(0,d.d$)(a.o,i.w.ListElement)],o)},78033:(R,c,e)=>{"use strict";e.d(c,{h:()=>ne});var O,t=e(70655),n=e(23539),a=e(41529),i=e(122),d=e(54599),r=e(15463),l=e(98678),p=e(35103),h=e(67522),m=e(56790),_=e(38678),v=e(9121),y=e(88948);const S=function(K){return[K]};function b(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"a",9),l.\u0275\u0275element(1,"ds-thumbnail",10),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementEnd()),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("target",Q.linkType==Q.linkTypes.ExternalLink?"_blank":"_self")("routerLink",l.\u0275\u0275pureFunction1(7,S,Q.itemPageRoute)),l.\u0275\u0275attribute("rel",Q.linkType==Q.linkTypes.ExternalLink?"noopener noreferrer":null),l.\u0275\u0275advance(1),l.\u0275\u0275property("thumbnail",l.\u0275\u0275pipeBind1(2,5,null==Q.dso?null:Q.dso.thumbnail))("limitWidth",!0)}}function o(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"span",11),l.\u0275\u0275element(1,"ds-thumbnail",10),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementEnd()),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("thumbnail",l.\u0275\u0275pipeBind1(2,2,null==Q.dso?null:Q.dso.thumbnail))("limitWidth",!0)}}function D(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"div",6),l.\u0275\u0275template(1,b,3,9,"a",7),l.\u0275\u0275template(2,o,3,4,"span",8),l.\u0275\u0275elementEnd()),2&K){const Q=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.linkType!=Q.linkTypes.None),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.linkType==Q.linkTypes.None)}}function M(K,w){if(1&K&&l.\u0275\u0275element(0,"ds-themed-badges",12),2&K){const Q=l.\u0275\u0275nextContext();l.\u0275\u0275property("object",Q.dso)("context",Q.context)("showAccessStatus",!0)}}function C(K,w){if(1&K&&l.\u0275\u0275element(0,"a",21),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("target",Q.linkType==Q.linkTypes.ExternalLink?"_blank":"_self")("routerLink",l.\u0275\u0275pureFunction1(4,S,Q.itemPageRoute))("innerHTML",Q.dsoTitle,l.\u0275\u0275sanitizeHtml),l.\u0275\u0275attribute("rel",Q.linkType==Q.linkTypes.ExternalLink?"noopener noreferrer":null)}}function T(K,w){if(1&K&&l.\u0275\u0275element(0,"span",22),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("innerHTML",Q.dsoTitle,l.\u0275\u0275sanitizeHtml)}}function g(K,w){if(1&K&&l.\u0275\u0275element(0,"span",25),2&K){const Q=l.\u0275\u0275nextContext(3);l.\u0275\u0275property("innerHTML",Q.firstMetadataValue("dc.publisher"),l.\u0275\u0275sanitizeHtml)}}function U(K,w){1&K&&(l.\u0275\u0275elementStart(0,"span"),l.\u0275\u0275text(1,", "),l.\u0275\u0275elementEnd())}function L(K,w){if(1&K&&l.\u0275\u0275element(0,"span",26),2&K){const Q=l.\u0275\u0275nextContext(3);l.\u0275\u0275property("innerHTML",Q.firstMetadataValue("dc.date.issued"),l.\u0275\u0275sanitizeHtml)}}function j(K,w){if(1&K&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1," ("),l.\u0275\u0275template(2,g,1,1,"span",23),l.\u0275\u0275template(3,U,2,0,"span",18),l.\u0275\u0275template(4,L,1,1,"span",24),l.\u0275\u0275text(5,") "),l.\u0275\u0275elementContainerEnd()),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",Q.dso.firstMetadataValue("dc.publisher")),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.dso.firstMetadataValue("dc.publisher")&&Q.dso.firstMetadataValue("dc.date.issued")),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.dso.firstMetadataValue("dc.date.issued"))}}function $(K,w){1&K&&(l.\u0275\u0275elementStart(0,"span"),l.\u0275\u0275text(1,"; "),l.\u0275\u0275elementEnd())}function z(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"span")(1,"span",29),l.\u0275\u0275element(2,"span",29),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(3,$,2,0,"span",18),l.\u0275\u0275elementEnd()),2&K){const Q=w.$implicit,oe=w.last;l.\u0275\u0275advance(1),l.\u0275\u0275property("innerHTML",Q,l.\u0275\u0275sanitizeHtml),l.\u0275\u0275advance(1),l.\u0275\u0275property("innerHTML",Q,l.\u0275\u0275sanitizeHtml),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!oe)}}const re=function(){return["dc.contributor.author","dc.creator","dc.contributor.*"]};function W(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"span",27),l.\u0275\u0275template(1,z,4,3,"span",28),l.\u0275\u0275elementEnd()),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",Q.allMetadataValues(l.\u0275\u0275pureFunction0(1,re)))}}function ie(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"div",30)(1,"ds-truncatable-part",17),l.\u0275\u0275element(2,"span",29),l.\u0275\u0275elementEnd()()),2&K){const Q=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275property("id",Q.dso.id)("minLines",3),l.\u0275\u0275advance(1),l.\u0275\u0275property("innerHTML",Q.firstMetadataValue("dc.description.abstract"),l.\u0275\u0275sanitizeHtml)}}function ce(K,w){if(1&K&&(l.\u0275\u0275elementStart(0,"ds-truncatable",13),l.\u0275\u0275template(1,C,1,6,"a",14),l.\u0275\u0275template(2,T,1,1,"span",15),l.\u0275\u0275elementStart(3,"span",16)(4,"ds-truncatable-part",17),l.\u0275\u0275template(5,j,6,3,"ng-container",18),l.\u0275\u0275template(6,W,2,2,"span",19),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(7,ie,3,3,"div",20),l.\u0275\u0275elementEnd()),2&K){const Q=l.\u0275\u0275nextContext();l.\u0275\u0275property("id",Q.dso.id),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.linkType!=Q.linkTypes.None),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.linkType==Q.linkTypes.None),l.\u0275\u0275advance(2),l.\u0275\u0275property("id",Q.dso.id)("minLines",1),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.dso.firstMetadataValue("dc.publisher")||Q.dso.firstMetadataValue("dc.date.issued")),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.dso.allMetadata(l.\u0275\u0275pureFunction0(8,re)).length>0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.dso.firstMetadataValue("dc.description.abstract"))}}let ne=((O=class extends d.c{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,r.Tt)(this.dso)}}).\u0275fac=function(){let K;return function(Q){return(K||(K=l.\u0275\u0275getInheritedFactory(O)))(Q||O)}}(),O.\u0275cmp=l.\u0275\u0275defineComponent({type:O,selectors:[["ds-item-search-result-list-element"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:6,vars:4,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"dont-break-out"],[3,"object","context","showAccessStatus"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],[4,"ngIf"],["class","item-list-authors",4,"ngIf"],["class","item-list-abstract",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],["class","item-list-date",3,"innerHTML",4,"ngIf"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-abstract"]],template:function(w,Q){1&w&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275template(1,D,3,2,"div",1),l.\u0275\u0275elementStart(2,"div",2)(3,"div",3),l.\u0275\u0275template(4,M,1,3,"ds-themed-badges",4),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(5,ce,8,9,"ds-truncatable",5),l.\u0275\u0275elementEnd()()),2&w&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",Q.showThumbnails),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",Q.showThumbnails?"col-9":"col-md-12"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",Q.showLabel),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null!=Q.object))},dependencies:[p.mk,p.sg,p.O5,h.rH,m.ThumbnailComponent,_.n,v.L,y.k,p.Ov],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]}),O);ne=(0,t.__decorate)([(0,n.d$)("PublicationSearchResult",a.w.ListElement),(0,n.d$)(i.T,a.w.ListElement)],ne)},54599:(R,c,e)=>{"use strict";e.d(c,{c:()=>p});var t=e(45608),n=e(39468),a=e(56765),i=e(71432),d=e(8842),r=e(16441),l=e(98678);let p=(()=>{class h extends n.i{constructor(_,v,y){super(v),this.truncatableService=_,this.dsoNameService=v,this.appConfig=y}ngOnInit(){(0,t.Uh)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(_){return i.S.allValues([this.object.hitHighlights,this.dso.metadata],_)}firstMetadataValue(_){return i.S.firstValue([this.object.hitHighlights,this.dso.metadata],_)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}}return h.\u0275fac=function(_){return new(_||h)(l.\u0275\u0275directiveInject(a.F),l.\u0275\u0275directiveInject(d._),l.\u0275\u0275directiveInject(r.q))},h.\u0275cmp=l.\u0275\u0275defineComponent({type:h,selectors:[["ds-search-result-list-element"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(_,v){},encapsulation:2}),h})()},86375:(R,c,e)=>{"use strict";e.d(c,{I9:()=>n,f0:()=>l,gP:()=>r,iZ:()=>i,pI:()=>h,wC:()=>d});var t=e(49754);const n={SELECT:(0,t.d)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,t.d)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,t.d)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,t.d)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,t.d)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,t.d)("dspace/selectable-lists/DESELECT_ALL")};class a{constructor(_,v){this.type=_,this.id=v}}class i extends a{constructor(_,v){super(n.SELECT,_),this.payload=v}}class d extends a{constructor(_,v){super(n.SELECT_SINGLE,_),this.payload={object:v}}}class r extends a{constructor(_,v){super(n.DESELECT_SINGLE,_),this.payload=v}}class l extends a{constructor(_,v){super(n.DESELECT,_),this.payload=v}}class h extends a{constructor(_){super(n.DESELECT_ALL,_)}}},91416:(R,c,e)=>{"use strict";e.d(c,{w:()=>m});var t=e(89702),n=e(48358),a=e(49887),i=e(39100),d=e(86375),r=e(45608),l=e(98678);const p=_=>_.selectableLists;let m=(()=>{class _{constructor(y){this.store=y}getSelectableList(y){return this.store.pipe((0,t.Ys)((_=>(0,i.GY)(_,p))(y)))}selectSingle(y,O){this.store.dispatch(new d.wC(y,O))}select(y,O){this.store.dispatch(new d.iZ(y,O))}deselectSingle(y,O){this.store.dispatch(new d.gP(y,O))}deselect(y,O){this.store.dispatch(new d.f0(y,O))}deselectAll(y){this.store.dispatch(new d.pI(y))}isObjectSelected(y,O){return this.getSelectableList(y).pipe((0,n.U)(S=>(0,r.Uh)(S)&&(0,r.UE)(S.selection)&&(0,r.Uh)(S.selection.find(b=>b.equals(O)))),(0,a.x)())}findSelectedByCondition(y,O){return this.getSelectableList(y).pipe((0,n.U)(S=>(0,r.Uh)(S)&&(0,r.UE)(S.selection)?S.selection.find(b=>O(b)):void 0))}}return _.\u0275fac=function(y){return new(y||_)(l.\u0275\u0275inject(t.yh))},_.\u0275prov=l.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},85927:(R,c,e)=>{"use strict";e.d(c,{l:()=>b});var t=e(54599),n=e(45608),a=e(9237),i=e(56765),d=e(30658),r=e(48358),l=e(66154),p=e(46533),h=e(97462),m=e(8842),_=e(98678),v=e(35103),y=e(9121),O=e(96342);function S(o,D){if(1&o&&(_.\u0275\u0275elementStart(0,"ds-truncatable-part",0),_.\u0275\u0275element(1,"div",4),_.\u0275\u0275elementEnd()),2&o){const M=_.\u0275\u0275nextContext();_.\u0275\u0275property("maxLines",1)("background",M.isCurrent()?"primary":"default")("showToggle",!1),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngClass",M.isCurrent()?"text-light":"text-secondary")("innerHTML",M.description,_.\u0275\u0275sanitizeHtml)}}let b=(()=>{class o extends t.c{constructor(M,C,T){super(M,T,null),this.truncatableService=M,this.linkService=C,this.dsoNameService=T}ngOnInit(){super.ngOnInit(),(0,n.Uh)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===h._.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,r.U)(M=>(0,n.Uh)(M)&&(0,n.Uh)(M.payload)?this.dsoNameService.getName(M.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const M=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,p.l)(M))[M].pipe((0,l.s)(C=>C.hasSucceeded||204===C.statusCode))}return(0,a.of)(void 0)}getDescription(){const M=this.firstMetadataValue("dc.publisher"),C=this.firstMetadataValue("dc.date.issued"),T=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let g="";return((0,n.UE)(M)||(0,n.UE)(C))&&(g+="("),(0,n.UE)(M)&&(g+=M),(0,n.UE)(C)&&((0,n.UE)(M)&&(g+=", "),g+=C),(0,n.UE)(g)&&(g+=") "),(0,n.UE)(T)&&T.forEach((U,L)=>{g+=U,L<T.length-1&&(g+="; ")}),this.undefinedIfEmpty(g)}undefinedIfEmpty(M){return this.defaultIfEmpty(M,void 0)}defaultIfEmpty(M,C){return(0,n.UE)(M)?M:C}}return o.\u0275fac=function(M){return new(M||o)(_.\u0275\u0275directiveInject(i.F),_.\u0275\u0275directiveInject(d.M),_.\u0275\u0275directiveInject(m._))},o.\u0275cmp=_.\u0275\u0275defineComponent({type:o,selectors:[["ds-sidebar-search-list-element"]],features:[_.\u0275\u0275InheritDefinitionFeature],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(M,C){1&M&&(_.\u0275\u0275elementStart(0,"ds-truncatable-part",0),_.\u0275\u0275element(1,"div",1),_.\u0275\u0275pipe(2,"async"),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275pipe(4,"translate"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(5,"ds-truncatable-part",0),_.\u0275\u0275element(6,"div",2),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(7,S,2,5,"ds-truncatable-part",3)),2&M&&(_.\u0275\u0275property("maxLines",1)("background",C.isCurrent()?"primary":"default")("showToggle",!1),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngClass",C.isCurrent()?"text-light":"text-body")("innerHTML",_.\u0275\u0275pipeBind1(2,11,C.parentTitle$&&C.parentTitle$)?_.\u0275\u0275pipeBind1(3,13,C.parentTitle$):_.\u0275\u0275pipeBind1(4,15,"home.breadcrumbs"),_.\u0275\u0275sanitizeHtml),_.\u0275\u0275advance(4),_.\u0275\u0275property("maxLines",1)("background",C.isCurrent()?"primary":"default")("showToggle",!1),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngClass",C.isCurrent()?"text-light":"text-primary")("innerHTML",C.dsoTitle,_.\u0275\u0275sanitizeHtml),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",C.description))},dependencies:[v.mk,v.O5,y.L,v.Ov,O.X$],encapsulation:2}),o})()},26650:(R,c,e)=>{"use strict";e.d(c,{M:()=>d});var t=e(98678),n=e(4682);function a(r,l){}const i=["*"];let d=(()=>{class r extends n.F{constructor(){super(...arguments),this.contentChange=new t.EventEmitter,this.prev=new t.EventEmitter,this.next=new t.EventEmitter,this.change=new t.EventEmitter,this.pageChange=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.deselectObject=new t.EventEmitter,this.selectObject=new t.EventEmitter,this.importObject=new t.EventEmitter,this.sortFieldChange=new t.EventEmitter,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(p){return e(90745)(`./${p}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,79743))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=t.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,a,0,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",null,1),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd())},encapsulation:2}),r})()},96:(R,c,e)=>{"use strict";e.d(c,{v:()=>L});var t=e(30906),n=e(45608),a=e(83231),i=e(35794),d=e(8842),r=e(98678),l=e(35103),p=e(5476),h=e(67522),m=e(64719),_=e(87657),v=e(78530),y=e(41966),O=e(96342);const S=function(j){return["/collections",j]};function b(j,$){if(1&j){const z=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"input",10),r.\u0275\u0275listener("change",function(){const ie=r.\u0275\u0275restoreView(z).$implicit,ce=r.\u0275\u0275nextContext(3);return r.\u0275\u0275resetView(ce.switch(ie.id))}),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"td")(5,"a",11),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()()()}if(2&j){const z=$.$implicit,re=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("name",z.id),r.\u0275\u0275property("ngModel",r.\u0275\u0275pipeBind1(3,4,re.getSelected(z.id))),r.\u0275\u0275advance(3),r.\u0275\u0275property("routerLink",r.\u0275\u0275pureFunction1(6,S,z.id)),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(re.dsoNameService.getName(z))}}function o(j,$){if(1&j&&(r.\u0275\u0275elementStart(0,"ds-pagination",5)(1,"div",6)(2,"table",7)(3,"thead")(4,"tr"),r.\u0275\u0275element(5,"th"),r.\u0275\u0275elementStart(6,"th",8),r.\u0275\u0275text(7),r.\u0275\u0275pipe(8,"translate"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(9,"tbody"),r.\u0275\u0275template(10,b,7,8,"tr",9),r.\u0275\u0275elementEnd()()()()),2&j){const z=r.\u0275\u0275nextContext().ngVar,re=r.\u0275\u0275nextContext();r.\u0275\u0275property("paginationOptions",re.paginationOptions)("sortOptions",re.sortOptions)("pageInfoState",null==z?null:z.payload)("collectionSize",null==z||null==z.payload?null:z.payload.totalElements)("hidePagerWhenSinglePage",!0)("hideGear",!0),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(8,8,"collection.select.table.title")),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",null==z||null==z.payload?null:z.payload.page)}}function D(j,$){1&j&&(r.\u0275\u0275elementStart(0,"div",12),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementEnd()),2&j&&(r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(2,1,"collection.select.empty")," "))}function M(j,$){1&j&&(r.\u0275\u0275element(0,"ds-error",13),r.\u0275\u0275pipe(1,"translate")),2&j&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"error.collections"))}function C(j,$){1&j&&(r.\u0275\u0275element(0,"ds-themed-loading",13),r.\u0275\u0275pipe(1,"translate")),2&j&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"loading.collections"))}const T=function(j,$){return{"btn-danger":j,"btn-primary":$}};function g(j,$){if(1&j){const z=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",14)(1,"button",15),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(z);const W=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(W.onCancel())}),r.\u0275\u0275element(2,"i",16),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"button",17),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(z);const W=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(W.confirmSelected())}),r.\u0275\u0275element(6,"i",18),r.\u0275\u0275text(7),r.\u0275\u0275pipe(8,"translate"),r.\u0275\u0275elementEnd()()}if(2&j){const z=$.ngVar,re=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(4,4,re.cancelButton)," "),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction2(8,T,re.dangerConfirm,!re.dangerConfirm))("disabled",0===(null==z?null:z.length)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(8,6,re.confirmButton)," ")}}function U(j,$){if(1&j&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,o,11,10,"ds-pagination",1),r.\u0275\u0275template(2,D,3,3,"div",2),r.\u0275\u0275template(3,M,2,3,"ds-error",3),r.\u0275\u0275template(4,C,2,3,"ds-themed-loading",3),r.\u0275\u0275template(5,g,9,11,"div",4),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275elementContainerEnd()),2&j){const z=$.ngVar,re=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==z||null==z.payload?null:z.payload.totalElements)>0||(null==z||null==z.payload||null==z.payload.page?null:z.payload.page.length)>0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",0===(null==z||null==z.payload?null:z.payload.totalElements)||0===(null==z||null==z.payload||null==z.payload.page?null:z.payload.page.length)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==z?null:z.hasFailed),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!z||(null==z?null:z.isLoading)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngVar",r.\u0275\u0275pipeBind1(6,5,re.selectedIds$))}}let L=(()=>{class j extends t.a{constructor(z,re,W){super(z,re),this.objectSelectService=z,this.authorizationService=re,this.dsoNameService=W}ngOnInit(){super.ngOnInit(),(0,n.UE)(this.confirmButton)||(this.confirmButton="collection.select.confirm")}}return j.\u0275fac=function(z){return new(z||j)(r.\u0275\u0275directiveInject(a.z),r.\u0275\u0275directiveInject(i._),r.\u0275\u0275directiveInject(d._))},j.\u0275cmp=r.\u0275\u0275defineComponent({type:j,selectors:[["ds-collection-select"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],[3,"paginationOptions","sortOptions","pageInfoState","collectionSize","hidePagerWhenSinglePage","hideGear",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[3,"message",4,"ngIf"],["class","space-children-mr float-right",4,"ngVar"],[3,"paginationOptions","sortOptions","pageInfoState","collectionSize","hidePagerWhenSinglePage","hideGear"],[1,"table-responsive","mt-2"],["id","collection-select",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",1,"collection-checkbox",3,"ngModel","name","change"],[3,"routerLink"],["role","alert",1,"alert","alert-info","w-100"],[3,"message"],[1,"space-children-mr","float-right"],[1,"btn","btn-outline-secondary","collection-cancel",3,"click"],[1,"fas","fa-times"],[1,"btn","collection-confirm",3,"ngClass","disabled","click"],[1,"fas","fa-trash"]],template:function(z,re){1&z&&(r.\u0275\u0275template(0,U,7,7,"ng-container",0),r.\u0275\u0275pipe(1,"async")),2&z&&r.\u0275\u0275property("ngVar",r.\u0275\u0275pipeBind1(1,1,re.dsoRD$))},dependencies:[l.mk,l.sg,l.O5,p.Wl,p.JJ,p.On,h.rH,m.q,_.Z,v.Q,y.g,l.Ov,O.X$],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type, table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-of-type{width:1rem!important}"]}),j})()},96067:(R,c,e)=>{"use strict";e.d(c,{p:()=>w});var t=e(83231),n=e(30906),a=e(45608),i=e(10572),d=e(48358),r=e(15463),l=e(35794),p=e(8842),h=e(98678),m=e(35103),_=e(5476),v=e(67522),y=e(64719),O=e(87657),S=e(78530),b=e(41966),o=e(96342);function D(Q,oe){1&Q&&(h.\u0275\u0275elementStart(0,"th",8),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"translate"),h.\u0275\u0275elementEnd()),2&Q&&(h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(2,1,"item.select.table.collection")))}const M=function(Q){return["/collections",Q]};function C(Q,oe){if(1&Q&&(h.\u0275\u0275elementStart(0,"a",12),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&Q){const q=h.\u0275\u0275nextContext().ngVar,ee=h.\u0275\u0275nextContext(5);h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction1(2,M,null==q?null:q.id)),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",ee.dsoNameService.getName(q)," ")}}function T(Q,oe){if(1&Q&&(h.\u0275\u0275elementStart(0,"span"),h.\u0275\u0275template(1,C,2,4,"a",13),h.\u0275\u0275elementEnd()),2&Q){const q=oe.ngVar;h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",q)}}function g(Q,oe){if(1&Q&&(h.\u0275\u0275elementStart(0,"td"),h.\u0275\u0275template(1,T,2,1,"span",0),h.\u0275\u0275pipe(2,"async"),h.\u0275\u0275elementEnd()),2&Q){const q=h.\u0275\u0275nextContext().$implicit;let ee;h.\u0275\u0275advance(1),h.\u0275\u0275property("ngVar",null==(ee=h.\u0275\u0275pipeBind1(2,1,q.owningCollection))?null:ee.payload)}}const U=function(){return["dc.contributor.author","dc.creator","dc.contributor.*"]};function L(Q,oe){if(1&Q&&(h.\u0275\u0275elementStart(0,"span"),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&Q){const q=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(q.firstMetadataValue(h.\u0275\u0275pureFunction0(1,U)))}}const j=function(Q){return[Q]};function $(Q,oe){if(1&Q){const q=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"input",10),h.\u0275\u0275listener("change",function(){const Ee=h.\u0275\u0275restoreView(q).$implicit,Oe=h.\u0275\u0275nextContext(3);return h.\u0275\u0275resetView(Oe.switch(Ee.id))}),h.\u0275\u0275pipe(3,"async"),h.\u0275\u0275pipe(4,"async"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275template(5,g,3,3,"td",11),h.\u0275\u0275elementStart(6,"td"),h.\u0275\u0275template(7,L,2,2,"span",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"td")(9,"a",12),h.\u0275\u0275pipe(10,"async"),h.\u0275\u0275text(11),h.\u0275\u0275elementEnd()()()}if(2&Q){const q=oe.$implicit,ee=h.\u0275\u0275nextContext(3);h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate("name",q.id),h.\u0275\u0275property("disabled",!h.\u0275\u0275pipeBind1(3,7,ee.canSelect(q)))("ngModel",h.\u0275\u0275pipeBind1(4,9,ee.getSelected(q.id))),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngIf",!ee.hideCollection),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",q.hasMetadata(h.\u0275\u0275pureFunction0(13,U))),h.\u0275\u0275advance(2),h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction1(14,j,h.\u0275\u0275pipeBind1(10,11,ee.itemPageRoutes$)[q.id])),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(ee.dsoNameService.getName(q))}}function z(Q,oe){if(1&Q&&(h.\u0275\u0275elementStart(0,"ds-pagination",4)(1,"div",5)(2,"table",6)(3,"thead")(4,"tr"),h.\u0275\u0275element(5,"th"),h.\u0275\u0275template(6,D,3,3,"th",7),h.\u0275\u0275elementStart(7,"th",8),h.\u0275\u0275text(8),h.\u0275\u0275pipe(9,"translate"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"th",8),h.\u0275\u0275text(11),h.\u0275\u0275pipe(12,"translate"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(13,"tbody"),h.\u0275\u0275template(14,$,12,16,"tr",9),h.\u0275\u0275elementEnd()()()()),2&Q){const q=h.\u0275\u0275nextContext().ngVar,ee=h.\u0275\u0275nextContext();h.\u0275\u0275property("paginationOptions",ee.paginationOptions)("sortOptions",ee.sortOptions)("pageInfoState",null==q?null:q.payload)("collectionSize",null==q||null==q.payload?null:q.payload.totalElements)("hidePagerWhenSinglePage",!0)("hideGear",!0),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngIf",!ee.hideCollection),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(9,10,"item.select.table.author")),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(12,12,"item.select.table.title")),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",null==q||null==q.payload?null:q.payload.page)}}function re(Q,oe){1&Q&&(h.\u0275\u0275elementStart(0,"div",14),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"translate"),h.\u0275\u0275elementEnd()),2&Q&&(h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(2,1,"item.select.empty")," "))}function W(Q,oe){1&Q&&(h.\u0275\u0275element(0,"ds-error",15),h.\u0275\u0275pipe(1,"translate")),2&Q&&h.\u0275\u0275propertyInterpolate("message",h.\u0275\u0275pipeBind1(1,1,"error.items"))}function ie(Q,oe){1&Q&&(h.\u0275\u0275element(0,"ds-themed-loading",15),h.\u0275\u0275pipe(1,"translate")),2&Q&&h.\u0275\u0275propertyInterpolate("message",h.\u0275\u0275pipeBind1(1,1,"loading.items"))}const ce=function(Q,oe){return{"btn-danger":Q,"btn-primary":oe}};function ne(Q,oe){if(1&Q){const q=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div")(1,"button",16),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(q);const J=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(J.onCancel())}),h.\u0275\u0275text(2),h.\u0275\u0275pipe(3,"translate"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"button",17),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(q);const J=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(J.confirmSelected())}),h.\u0275\u0275text(5),h.\u0275\u0275pipe(6,"translate"),h.\u0275\u0275elementEnd()()}if(2&Q){const q=oe.ngVar,ee=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(3,4,ee.cancelButton)),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction2(8,ce,ee.dangerConfirm,!ee.dangerConfirm))("disabled",0===(null==q?null:q.length)),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(6,6,ee.confirmButton)," ")}}function K(Q,oe){if(1&Q&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275template(1,z,15,14,"ds-pagination",1),h.\u0275\u0275template(2,re,3,3,"div",2),h.\u0275\u0275template(3,W,2,3,"ds-error",3),h.\u0275\u0275template(4,ie,2,3,"ds-themed-loading",3),h.\u0275\u0275template(5,ne,7,11,"div",0),h.\u0275\u0275pipe(6,"async"),h.\u0275\u0275elementContainerEnd()),2&Q){const q=oe.ngVar,ee=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",(null==q||null==q.payload?null:q.payload.totalElements)>0),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",0===(null==q||null==q.payload?null:q.payload.totalElements)||0===(null==q||null==q.payload||null==q.payload.page?null:q.payload.page.length)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==q?null:q.hasFailed),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!q||(null==q?null:q.isLoading)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngVar",h.\u0275\u0275pipeBind1(6,5,ee.selectedIds$))}}let w=(()=>{class Q extends n.a{constructor(q,ee,J){super(q,ee),this.objectSelectService=q,this.authorizationService=ee,this.dsoNameService=J,this.hideCollection=!1}ngOnInit(){super.ngOnInit(),(0,a.UE)(this.confirmButton)||(this.confirmButton="item.select.confirm"),this.itemPageRoutes$=this.dsoRD$.pipe((0,a.tz)(),(0,i.mc)(),(0,d.U)(q=>{const ee={};return q.page.forEach(J=>ee[J.uuid]=(0,r.Tt)(J)),ee}))}}return Q.\u0275fac=function(q){return new(q||Q)(h.\u0275\u0275directiveInject(t.z),h.\u0275\u0275directiveInject(l._),h.\u0275\u0275directiveInject(p._))},Q.\u0275cmp=h.\u0275\u0275defineComponent({type:Q,selectors:[["ds-item-select"]],inputs:{hideCollection:"hideCollection"},features:[h.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],[3,"paginationOptions","sortOptions","pageInfoState","collectionSize","hidePagerWhenSinglePage","hideGear",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[3,"message",4,"ngIf"],[3,"paginationOptions","sortOptions","pageInfoState","collectionSize","hidePagerWhenSinglePage","hideGear"],[1,"table-responsive","mt-2"],["id","item-select",1,"table","table-striped","table-hover"],["scope","col",4,"ngIf"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",1,"item-checkbox",3,"disabled","ngModel","name","change"],[4,"ngIf"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[3,"message"],[1,"btn","btn-outline-secondary","item-cancel","float-left",3,"click"],[1,"btn","item-confirm","float-right",3,"ngClass","disabled","click"]],template:function(q,ee){1&q&&(h.\u0275\u0275template(0,K,7,7,"ng-container",0),h.\u0275\u0275pipe(1,"async")),2&q&&h.\u0275\u0275property("ngVar",h.\u0275\u0275pipeBind1(1,1,ee.dsoRD$))},dependencies:[m.mk,m.sg,m.O5,_.Wl,_.JJ,_.On,v.rH,y.q,O.Z,S.Q,b.g,m.Ov,o.X$],encapsulation:2}),Q})()},11997:(R,c,e)=>{"use strict";e.d(c,{F2:()=>i,Gy:()=>d,P4:()=>h,ee:()=>l,ie:()=>r,uZ:()=>p,xZ:()=>n});var t=e(49754);const n={INITIAL_DESELECT:(0,t.d)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,t.d)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,t.d)("dspace/object-select/SELECT"),DESELECT:(0,t.d)("dspace/object-select/DESELECT"),SWITCH:(0,t.d)("dspace/object-select/SWITCH"),RESET:(0,t.d)("dspace/object-select/RESET")};class a{constructor(_,v){this.key=_,this.id=v}}class i extends a{constructor(){super(...arguments),this.type=n.INITIAL_DESELECT}}class d extends a{constructor(){super(...arguments),this.type=n.INITIAL_SELECT}}class r extends a{constructor(){super(...arguments),this.type=n.SELECT}}class l extends a{constructor(){super(...arguments),this.type=n.DESELECT}}class p extends a{constructor(){super(...arguments),this.type=n.SWITCH}}class h extends a{constructor(){super(...arguments),this.type=n.RESET}}},83231:(R,c,e)=>{"use strict";e.d(c,{z:()=>p});var t=e(89702),n=e(11997),a=e(45608),i=e(48358),d=e(98678);const r=_=>_.objectSelection,l=_=>_.objectSelection;let p=(()=>{class _{constructor(y,O){this.store=y,this.appStore=O}getSelected(y,O){return this.store.select(function h(_,v){return function m(_,v){return(0,t.P1)(r,y=>{if((0,a.Uh)(y)&&(0,a.Uh)(y[_]))return y[_][v]})}(_,v)}(y,O)).pipe((0,i.U)(S=>!!S&&S.checked))}getAllSelected(y){return this.appStore.select(l).pipe((0,i.U)(O=>(0,a.Uh)(O[y])?Object.keys(O[y]).filter(S=>O[y][S].checked):[]))}initialSelect(y,O){this.store.dispatch(new n.Gy(y,O))}initialDeselect(y,O){this.store.dispatch(new n.F2(y,O))}select(y,O){this.store.dispatch(new n.ie(y,O))}deselect(y,O){this.store.dispatch(new n.ee(y,O))}switch(y,O){this.store.dispatch(new n.uZ(y,O))}reset(y){this.store.dispatch(new n.P4(y,null))}}return _.\u0275fac=function(y){return new(y||_)(d.\u0275\u0275inject(t.yh),d.\u0275\u0275inject(t.yh))},_.\u0275prov=d.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},30906:(R,c,e)=>{"use strict";e.d(c,{a:()=>l});var t=e(98678),n=e(9302),a=e(77176),i=e(9237),d=e(83231),r=e(35794);let l=(()=>{class p{constructor(m,_){this.objectSelectService=m,this.authorizationService=_,this.cancel=new t.EventEmitter,this.confirm=new t.EventEmitter,this.dangerConfirm=!1}ngOnInit(){this.selectedIds$=this.objectSelectService.getAllSelected(this.key)}ngOnDestroy(){this.objectSelectService.reset(this.key)}switch(m){this.objectSelectService.switch(this.key,m)}getSelected(m){return this.objectSelectService.getSelected(this.key,m)}canSelect(m){return this.featureId?this.authorizationService.isAuthorized(this.featureId,m.self).pipe((0,n.O)(!1)):(0,i.of)(!0)}confirmSelected(){this.selectedIds$.pipe((0,a.q)(1)).subscribe(m=>{this.confirm.emit(m),this.objectSelectService.reset(this.key)})}onCancel(){this.cancel.emit()}}return p.\u0275fac=function(m){return new(m||p)(t.\u0275\u0275directiveInject(d.z),t.\u0275\u0275directiveInject(r._))},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["ds-object-select-abstract"]],inputs:{key:"key",dsoRD$:"dsoRD$",paginationOptions:"paginationOptions",sortOptions:"sortOptions",confirmButton:"confirmButton",featureId:"featureId",cancelButton:"cancelButton",dangerConfirm:"dangerConfirm"},outputs:{cancel:"cancel",confirm:"confirm"},decls:0,vars:0,template:function(m,_){},encapsulation:2}),p})()},10882:(R,c,e)=>{"use strict";e.d(c,{OG:()=>h,e5:()=>m});var t=e(45608),n=e(94667),a=e.n(n),i=e(90537),d=e.n(i),r=e(6102),l=e.n(r);function h(_){if("object"==typeof _){if(0===Object.keys(_).length)return!0;{let y=!0;for(const O in _)if((0,t.UE)(_[O])){y=!1;break}return y}}}function m(_,v){const y=(O,S)=>l()(O,(b,o,D)=>{if(!a()(o,S[D])&&(0,t.UE)(o)){const M=d()(o)&&d()(S[D])?y(o,S[D]):o;h(M)||(b[D]=M)}});return y(_,v)}},42988:(R,c,e)=>{"use strict";e.d(c,{k:()=>v});var t=e(55963),a=(e(27496),e(48358)),i=e(77176),d=e(81323),r=e(98678),l=e(67522),p=e(35103),h=e(5476),m=e(31360);function _(y,O){if(1&y&&(r.\u0275\u0275elementStart(0,"option",3),r.\u0275\u0275pipe(1,"async"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()),2&y){const S=O.$implicit,b=r.\u0275\u0275nextContext();r.\u0275\u0275property("value",S)("selected",S===+r.\u0275\u0275pipeBind1(1,3,b.paginationOptions$).pageSize?"selected":null),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",S," ")}}let v=(()=>{class y{constructor(S,b,o,D){this.route=S,this.router=b,this.paginationService=o,this.searchConfigurationService=D}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,a.U)(S=>S.pagination))}reloadRPP(S){const b=S.target.value;this.paginationOptions$.pipe((0,i.q)(1)).subscribe(o=>{this.paginationService.updateRoute(o.id,{page:1,pageSize:+b})})}}return y.\u0275fac=function(S){return new(S||y)(r.\u0275\u0275directiveInject(l.gz),r.\u0275\u0275directiveInject(l.F0),r.\u0275\u0275directiveInject(d.N),r.\u0275\u0275directiveInject(t.SEARCH_CONFIG_SERVICE))},y.\u0275cmp=r.\u0275\u0275defineComponent({type:y,selectors:[["ds-page-size-selector"]],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"id","label","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(S,b){1&S&&(r.\u0275\u0275elementStart(0,"div",0)(1,"ds-sidebar-dropdown",1),r.\u0275\u0275listener("change",function(D){return b.reloadRPP(D)}),r.\u0275\u0275template(2,_,3,5,"option",2),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()()),2&S&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(3,3,b.paginationOptions$).pageSizeOptions))},dependencies:[p.sg,h.YN,h.Kr,m.N,p.Ov],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]}),y})()},45180:(R,c,e)=>{"use strict";e.d(c,{r:()=>a});var t=e(65706),n=e(98678);let a=(()=>{class i extends t.pM{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}}return i.\u0275fac=function(){let d;return function(l){return(d||(d=n.\u0275\u0275getInheritedFactory(i)))(l||i)}}(),i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},78530:(R,c,e)=>{"use strict";e.d(c,{Q:()=>$});var t=e(98678),n=e(9237),a=e(79849),i=e(42281),d=e(45608),r=e(81323),l=e(48358),p=e(77176),h=e(41529),m=e(35103),_=e(65706),v=e(5732),y=e(96342),O=e(82410);function S(z,re){if(1&z&&(t.\u0275\u0275elementStart(0,"div",9)(1,"span",10),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",11),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()()),2&z){const W=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,2,"pagination.showing.label")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(6,4,"pagination.showing.detail",t.\u0275\u0275pipeBind1(7,7,W.getShowingDetails(W.collectionSize))))}}const b=function(z){return{invisible:z}};function o(z,re){if(1&z){const W=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19),t.\u0275\u0275listener("click",function(){const ne=t.\u0275\u0275restoreView(W).$implicit,K=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(K.doPageSizeChange(ne))}),t.\u0275\u0275element(1,"i",20),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()}if(2&z){const W=re.$implicit,ie=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,b,W!=t.\u0275\u0275pipeBind1(2,2,ie.pageSize$))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",W," ")}}function D(z,re){if(1&z){const W=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19),t.\u0275\u0275listener("click",function(){const ne=t.\u0275\u0275restoreView(W).$implicit,K=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(K.doSortDirectionChange(ne.value))}),t.\u0275\u0275element(1,"i",20),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}if(2&z){const W=re.$implicit,ie=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,b,W.value!==t.\u0275\u0275pipeBind1(2,2,ie.sortDirection$))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"sorting."+W.key)," ")}}function M(z,re){if(1&z&&(t.\u0275\u0275elementStart(0,"div",12,13)(2,"button",14),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275element(5,"i",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",16)(7,"h6",17),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,o,4,6,"button",18),t.\u0275\u0275elementStart(11,"h6",17),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,D,5,8,"button",18),t.\u0275\u0275pipe(15,"dsKeys"),t.\u0275\u0275elementEnd()()),2&z){const W=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(3,6,"pagination.options.description")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(4,8,"pagination.options.description")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,10,"pagination.results-per-page")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",W.pageSizeOptions),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,12,"pagination.sort-direction")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(15,14,W.sortDirections))}}function C(z,re){if(1&z&&(t.\u0275\u0275elementStart(0,"div",4)(1,"div",5),t.\u0275\u0275template(2,S,8,9,"div",6),t.\u0275\u0275elementStart(3,"div",7),t.\u0275\u0275template(4,M,16,16,"div",8),t.\u0275\u0275element(5,"ds-rss"),t.\u0275\u0275elementEnd()()()),2&z){const W=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!W.hidePaginationDetail&&W.collectionSize>0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!W.hideGear)}}function T(z,re){if(1&z){const W=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"ngb-pagination",24),t.\u0275\u0275listener("pageChange",function(ce){t.\u0275\u0275restoreView(W);const ne=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(ne.doPageChange(ce))}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()()}if(2&z){const W=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("boundaryLinks",W.paginationOptions.boundaryLinks)("collectionSize",W.collectionSize)("disabled",W.paginationOptions.disabled)("ellipses",W.paginationOptions.ellipses)("maxSize",W.isXs?5:W.paginationOptions.maxSize)("page",t.\u0275\u0275pipeBind1(2,9,W.currentPage$))("pageSize",t.\u0275\u0275pipeBind1(3,11,W.pageSize$))("rotate",W.paginationOptions.rotate)("size",W.isXs?"sm":W.paginationOptions.size)}}function g(z,re){if(1&z){const W=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",25)(1,"button",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(W);const ce=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(ce.goPrev())}),t.\u0275\u0275element(2,"i",27),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",28),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(W);const ce=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(ce.goNext())}),t.\u0275\u0275elementStart(6,"span",29),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275element(8,"i",30),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()()}if(2&z){const W=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",(null==W.objects||null==W.objects.payload?null:W.objects.payload.currentPage)<=1&&(null==W.paginationOptions?null:W.paginationOptions.currentPage)<=1),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,5,"pagination.previous.button")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",(null==W.objects||null==W.objects.payload?null:W.objects.payload.currentPage)>=(null==W.objects||null==W.objects.payload?null:W.objects.payload.totalPages)||(null==W.paginationOptions?null:W.paginationOptions.currentPage)>=(null==W.objects||null==W.objects.payload?null:W.objects.payload.totalPages)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngbTooltip",(null==W.objects||null==W.objects.payload?null:W.objects.payload.currentPage)>=(null==W.objects||null==W.objects.payload?null:W.objects.payload.totalPages)?t.\u0275\u0275pipeBind1(7,7,"pagination.next.button.disabled.tooltip"):null),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(10,9,"pagination.next.button")," ")}}function U(z,re){if(1&z&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,T,4,13,"div",21),t.\u0275\u0275template(2,g,11,11,"div",22),t.\u0275\u0275elementEnd()),2&z){const W=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",W.showPaginator),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!W.showPaginator)}}function L(z,re){if(1&z&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,C,6,2,"div",2),t.\u0275\u0275projection(2),t.\u0275\u0275template(3,U,3,2,"div",3),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&z){const W=t.\u0275\u0275nextContext();t.\u0275\u0275property("id","p-"+W.id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!W.hidePaginationDetail&&W.collectionSize>0||!W.hideGear),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(4,3,W.shouldShowBottomPager))}}const j=["*"];let $=(()=>{class z{constructor(W,ie,ce){this.cdRef=W,this.paginationService=ie,this.hostWindowService=ce,this.viewMode=h.w.ListElement,this.pageInfoState=void 0,this.showPaginator=!0,this.pageChange=new t.EventEmitter,this.pageSizeChange=new t.EventEmitter,this.sortDirectionChange=new t.EventEmitter,this.sortFieldChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.hidePaginationDetail=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=i.S,this.defaultsortDirection=i.S.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.EventEmitter,this.next=new t.EventEmitter}ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(W=>{this.isXs=W,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnDestroy(){this.subs.filter(W=>(0,d.Uh)(W)).forEach(W=>W.unsubscribe())}initializeConfig(){let W;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,l.U)(ie=>ie.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,l.U)(ie=>ie.pageSize)),W=this.sortOptions?this.sortOptions:new i.o(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,W).pipe((0,l.U)(ie=>ie.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,W).pipe((0,l.U)(ie=>ie.field))}doPageChange(W){this.updateParams({page:W.toString()}),this.emitPaginationChange()}doPageSizeChange(W){this.updateParams({pageId:this.id,page:1,pageSize:W}),this.emitPaginationChange()}doSortDirectionChange(W){this.updateParams({pageId:this.id,page:1,sortDirection:W}),this.emitPaginationChange()}doSortFieldChange(W){this.updateParams({pageId:this.id,page:1,sortField:W}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(W){this.paginationService.updateRoute(this.id,W,{},this.retainScrollPosition)}getShowingDetails(W){let ie=(0,n.of)({range:"null - null",total:null});return W&&(ie=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,l.U)(ce=>{let ne,K;const w=ce.pageSize*ce.currentPage;return ne=ce.pageSize*(ce.currentPage-1)+1,K=W>w?w:W,{range:ne+" - "+K,total:W}}))),ie}checkConfig(W){const ce=["id","currentPage","pageSize","pageSizeOptions"].filter(ne=>!(ne in W));if(0<ce.length)throw new Error("Paginate: Argument is missing the following required properties: "+ce.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,l.U)(W=>this.collectionSize>W.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,l.U)(W=>W||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(W){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,p.q)(1)).subscribe(ie=>{this.updateParams({page:(ie.currentPage+W).toString()})})}}return z.\u0275fac=function(W){return new(W||z)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(r.N),t.\u0275\u0275directiveInject(a.I))},z.\u0275cmp=t.\u0275\u0275defineComponent({type:z,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",pageInfoState:"pageInfoState",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],ngContentSelectors:j,decls:2,vars:3,consts:[[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-right",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-right"],["paginationControls","ngbDropdown"],["id","paginationControls","ngbDropdownToggle","",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","ngbDropdownMenu",""],[1,"dropdown-header"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size","pageChange"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-left",3,"disabled","click"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-right",3,"disabled","click"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(W,ie){1&W&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,L,5,5,"div",0),t.\u0275\u0275pipe(1,"async")),2&W&&t.\u0275\u0275property("ngIf",null==ie.currentPageState||ie.currentPageState==t.\u0275\u0275pipeBind1(1,1,ie.currentPage$))},dependencies:[m.mk,m.sg,m.O5,_.N9,_.jt,_.iD,_.Vi,_._L,v.i,m.Ov,y.X$,O.Q],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]}),z})()},41121:(R,c,e)=>{"use strict";e.d(c,{AC:()=>r,DW:()=>h,Wt:()=>v,Xx:()=>m,uV:()=>l});var t=e(60012),n=e(9237),a=e(76774),i=e(45132);const d=(new Date).getTime();function r(O,S=d){return new t.N(S,a.N.cache.msToLive.default,S,i.q$.Success,void 0,O,200)}function l(O,S){return(0,n.of)(r(O,S))}function h(O,S,b){return(0,n.of)(function p(O,S,b=15778368e5){return new t.N(b,a.N.cache.msToLive.default,b,i.q$.Error,O,void 0,S)}(O,S,b))}function m(O=d){return new t.N(void 0,a.N.cache.msToLive.default,O,i.q$.ResponsePending,void 0,void 0,void 0)}function v(O){return r(void 0,O)}},76814:(R,c,e)=>{"use strict";e.d(c,{I:()=>i});var t=e(35103),n=e(96342),a=e(98678);let i=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=a.\u0275\u0275defineInjector({imports:[t.ez,n.aw]}),d})()},70643:(R,c,e)=>{"use strict";e.d(c,{i:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(p){return e(8817)(`./${p}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return e.e(8592).then(e.bind(e,25880))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},8317:(R,c,e)=>{"use strict";e.d(c,{g:()=>p});var t=e(53426),n=e(77007),a=e(48358),i=e(76215),d=e(45608),r=e(1053),l=e(98678);let p=(()=>{class h{constructor(_,v,y,O){this.roleService=_,this.viewContainer=v,this.changeDetector=y,this.templateRef=O,this.subs=[]}ngOnChanges(_){this.hasRoles(this.dsShowOnlyForRole),_.dsShowOnlyForRole?this.validateOnly():_.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(_=>(0,d.Uh)(_)).forEach(_=>_.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,n.h)(_=>_)).subscribe(_=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,n.h)(_=>!_)).subscribe(_=>{this.showTemplateBlockInView()}))}hasRoles(_){const y=(Array.isArray(_)?_:[_]).map(O=>this.roleService.checkRole(O));return(0,t.a)(y).pipe((0,a.U)(O=>O.includes(!0)),(0,i.P)())}}return h.\u0275fac=function(_){return new(_||h)(l.\u0275\u0275directiveInject(r.N),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(l.TemplateRef))},h.\u0275dir=l.\u0275\u0275defineDirective({type:h,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},features:[l.\u0275\u0275NgOnChangesFeature]}),h})()},5732:(R,c,e)=>{"use strict";e.d(c,{i:()=>o});var t=e(35841),n=e(30303),a=e(73194),i=e(10572),d=e(76774),r=e(27496),l=e(81323),p=e(48358),h=e(21160),m=e(98678),_=e(74770),v=e(67522),y=e(35103),O=e(96342);function S(D,M){if(1&D&&(m.\u0275\u0275elementStart(0,"div",2)(1,"a",3),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275element(4,"i",4),m.\u0275\u0275elementEnd()()),2&D){const C=M.ngIf;m.\u0275\u0275advance(1),m.\u0275\u0275property("href",C,m.\u0275\u0275sanitizeUrl)("title",m.\u0275\u0275pipeBind1(2,3,"feed.description")),m.\u0275\u0275attribute("aria-label",m.\u0275\u0275pipeBind1(3,5,"feed.description"))}}function b(D,M){if(1&D&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,S,5,7,"div",1),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275elementContainerEnd()),2&D){const C=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(2,1,C.route$))}}let o=(()=>{class D{constructor(C,T,g,U,L,j){this.groupDataService=C,this.linkHeadService=T,this.configurationService=g,this.searchConfigurationService=U,this.router=L,this.paginationService=j,this.route$=new t.X(""),this.isEnabled$=new t.X(null),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(C=>{C.unsubscribe()})}ngOnInit(){this.configuration$=this.searchConfigurationService.getCurrentConfiguration("default"),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,i.hC)()).subscribe(C=>{C.hasSucceeded&&this.isEnabled$.next("true"===C.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,i.hC)(),(0,p.U)(C=>C.hasSucceeded?C.payload.values[0]:null),(0,h.w)(C=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,p.U)(T=>({openSearchUri:C,searchOptions:T}))))).subscribe(({openSearchUri:C,searchOptions:T})=>{if(!C)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const g=d.N.rest.baseUrl+this.formulateRoute(this.uuid,C,T.query);this.addLinks(g),this.linkHeadService.addTag({href:d.N.rest.baseUrl+"/"+C+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(g)}))}formulateRoute(C,T,g){let U="?format=atom";return C&&(U+=`&scope=${C}`),U+=g?`&query=${g}`:"&query=*",U="/"+T+U,U}hasRoute(C){return this.router.url.includes(C)}addLinks(C){this.linkHeadService.addTag({href:C,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),C=C.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:C,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}}return D.\u0275fac=function(C){return new(C||D)(m.\u0275\u0275directiveInject(n.O),m.\u0275\u0275directiveInject(_.U),m.\u0275\u0275directiveInject(a.i),m.\u0275\u0275directiveInject(r.U),m.\u0275\u0275directiveInject(v.F0),m.\u0275\u0275directiveInject(l.N))},D.\u0275cmp=m.\u0275\u0275defineComponent({type:D,selectors:[["ds-rss"]],exportAs:["rssComponent"],decls:2,vars:3,consts:[[4,"ngIf"],["class","d-inline-block float-right margin-right",4,"ngIf"],[1,"d-inline-block","float-right","margin-right"],[1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(C,T){1&C&&(m.\u0275\u0275template(0,b,3,3,"ng-container",0),m.\u0275\u0275pipe(1,"async")),2&C&&m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(1,1,T.isEnabled$)&&(T.hasRoute("home")||T.hasRoute("collections")||T.hasRoute("communities")))},dependencies:[y.O5,y.Ov,O.X$],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]}),D})()},27181:(R,c,e)=>{"use strict";e.d(c,{cd:()=>n,i$:()=>i,rG:()=>a,vE:()=>d});var t=e(49754);const n={ADD:(0,t.d)("dspace/css-variables/ADD"),ADD_ALL:(0,t.d)("dspace/css-variables/ADD_ALL"),CLEAR:(0,t.d)("dspace/css-variables/CLEAR")};class a{constructor(l,p){this.type=n.ADD,this.payload={name:l,value:p}}}class i{constructor(l){this.type=n.ADD_ALL,this.payload=l}}class d{constructor(){this.type=n.CLEAR}}},11221:(R,c,e)=>{"use strict";e.d(c,{I:()=>p});var t=e(39100),n=e(89702),a=e(27181),i=e(20942),d=e(45608),r=e(87483),l=e(98678);let p=(()=>{class y{constructor(S){this.store=S,this.isSameDomain=b=>!b.href||0===b.href.indexOf(window.location.origin),this.hasCssRules=b=>{try{return b.cssRules}catch{return!1}},this.isStyleRule=b=>1===b.type}addCSSVariable(S,b){this.store.dispatch(new a.rG(S,b))}addCSSVariables(S){this.store.dispatch(new a.i$(S))}clearCSSVariables(){this.store.dispatch(new a.vE)}getVariable(S){return this.store.pipe((0,n.Ys)(m(S)))}getAllVariables(){return this.store.pipe((0,n.Ys)(h))}searchVariable(S,b){return this.store.pipe((0,n.Ys)(_(S,b)))}getCSSVariablesFromStylesheets(S){return(0,d.UE)(S.styleSheets)?[...S.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((b,o)=>b.concat([...o.cssRules].filter(this.isStyleRule).reduce((D,M)=>[...D,...[...M.style].map(T=>({key:T.trim(),value:M.style.getPropertyValue(T).trim()})).filter(({key:T})=>0===T.indexOf("--"))],[])),[]):[]}}return y.\u0275fac=function(S){return new(S||y)(l.\u0275\u0275inject(n.yh))},y.\u0275prov=l.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const h=y=>y.cssVariables,m=y=>(0,t.GY)(y,h),_=(y,O)=>(0,n.P1)(v(y),S=>{if((0,d.Uh)(S)){const{currentPage:b,pageSize:o}=O,D=(b-1)*o,C=S.slice(D,D+o),T=Math.ceil(S.length/o),g=new r.S({currentPage:b,elementsPerPage:o,totalElements:S.length,totalPages:T});return(0,i.b)(g,C)}}),v=y=>(0,n.P1)(h,O=>{if((0,d.Uh)(O))return Object.keys(O).filter(S=>S.includes(y)).map(S=>({key:S,value:O[S]}))})},40983:(R,c,e)=>{"use strict";e.d(c,{x:()=>m});var t=e(98678),n=e(37683),a=e(18453),i=e(42281),d=e(76774),r=e(65706),l=e(67522),p=e(46182),h=e(96342);let m=(()=>{class _ extends a.q{constructor(y,O){super(y,O),this.activeModal=y,this.route=O,this.objectType=n.h.COMMUNITY,this.selectorTypes=[n.h.COMMUNITY,n.h.COLLECTION],this.action=a.i.SET_SCOPE,this.scopeChange=new t.EventEmitter,this.defaultSort=new i.o(d.N.comcolSelectionSort.sortField,d.N.comcolSelectionSort.sortDirection)}navigate(y){this.scopeChange.emit(y)}}return _.\u0275fac=function(y){return new(y||_)(t.\u0275\u0275directiveInject(r.Kz),t.\u0275\u0275directiveInject(l.gz))},_.\u0275cmp=t.\u0275\u0275defineComponent({type:_,selectors:[["ds-scope-selector-modal"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2"],[3,"currentDSOId","types","sort","onSelect"]],template:function(y,O){1&y&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"button",1),t.\u0275\u0275listener("click",function(){return O.selectObject(void 0)}),t.\u0275\u0275elementStart(5,"span",2),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",3)(8,"button",4),t.\u0275\u0275listener("click",function(){return O.selectObject(void 0)}),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"h3",5),t.\u0275\u0275element(12,"hr"),t.\u0275\u0275elementStart(13,"div",6)(14,"span",7),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"h5",8),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"ds-dso-selector",9),t.\u0275\u0275listener("onSelect",function(b){return O.selectObject(b)}),t.\u0275\u0275elementEnd()()()),2&y&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,7,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,9,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".button")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,11,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".or-divider")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(19,13,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".input-header")),t.\u0275\u0275advance(2),t.\u0275\u0275property("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[p.O,h.X$],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]}),_})()},43105:(R,c,e)=>{"use strict";e.r(c),e.d(c,{SearchFormComponent:()=>C});var t=e(98678),n=e(45608),a=e(57066),i=e(26176),d=e(81323),r=e(27496),l=e(40983),p=e(77176),h=e(35841),m=e(91179),_=e(10572),v=e(8842),y=e(67522),O=e(65706),S=e(35103),b=e(5476),o=e(96342),D=e(7027);function M(T,g){if(1&T){const U=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(U);const j=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(j.openScopeModal())}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}if(2&T){const U=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngbTooltip",U.dsoNameService.getName(t.\u0275\u0275pipeBind1(2,2,U.selectedScope))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",U.dsoNameService.getName(t.\u0275\u0275pipeBind1(4,4,U.selectedScope))||t.\u0275\u0275pipeBind1(5,6,"search.form.scope.all")," ")}}let C=(()=>{class T{constructor(U,L,j,$,z,re,W){this.router=U,this.searchService=L,this.paginationService=j,this.searchConfig=$,this.modalService=z,this.dsoService=re,this.dsoNameService=W,this.scope="",this.selectedScope=new h.X(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.EventEmitter}ngOnChanges(){(0,n.UE)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,_.Gp)()).subscribe(U=>this.selectedScope.next(U))}onSubmit(U){(0,n.UE)(this.scope)&&(U=Object.assign(U,{scope:this.scope})),this.updateSearch(U),this.submitSearch.emit(U)}onScopeChange(U){this.updateSearch({scope:U?U.uuid:void 0})}updateSearch(U){const j=Object.assign({"spc.page":1},U);this.router.navigate(this.getSearchLinkParts(),{queryParams:j,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,i.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(l.x).componentInstance.scopeChange.pipe((0,p.q)(1)).subscribe(L=>{this.selectedScope.next(L),this.onScopeChange(L)})}}return T.\u0275fac=function(U){return new(U||T)(t.\u0275\u0275directiveInject(y.F0),t.\u0275\u0275directiveInject(a.o),t.\u0275\u0275directiveInject(d.N),t.\u0275\u0275directiveInject(r.U),t.\u0275\u0275directiveInject(O.FF),t.\u0275\u0275directiveInject(m.D),t.\u0275\u0275directiveInject(v._))},T.\u0275cmp=t.\u0275\u0275defineComponent({type:T,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},features:[t.\u0275\u0275NgOnChangesFeature],decls:13,vars:16,consts:[["action","/search",3,"ngSubmit"],["form","ngForm"],[1,"form-group","input-group"],["class","input-group-prepend",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"input-group-append"],["type","submit"],[1,"fas","fa-search"],[1,"input-group-prepend"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"ngbTooltip","click"]],template:function(U,L){if(1&U){const j=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",0,1),t.\u0275\u0275listener("ngSubmit",function(){t.\u0275\u0275restoreView(j);const z=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(L.onSubmit(z.value))}),t.\u0275\u0275elementStart(2,"div")(3,"div",2),t.\u0275\u0275template(4,M,6,8,"div",3),t.\u0275\u0275elementStart(5,"input",4),t.\u0275\u0275listener("ngModelChange",function(z){return L.query=z}),t.\u0275\u0275pipe(6,"dsBrowserOnly"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"span",5)(8,"button",6),t.\u0275\u0275pipe(9,"dsBrowserOnly"),t.\u0275\u0275element(10,"i",7),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()()()()()}2&U&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",L.showScopeSelector),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngModel",L.query)("placeholder",L.searchPlaceholder),t.\u0275\u0275attribute("aria-label",L.searchPlaceholder)("data-test",t.\u0275\u0275pipeBind1(6,10,"search-box")),t.\u0275\u0275advance(3),t.\u0275\u0275classMapInterpolate1("search-button btn btn-",L.brandColor,""),t.\u0275\u0275attribute("data-test",t.\u0275\u0275pipeBind1(9,12,"search-button")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,14,"search.form.search"),""))},dependencies:[S.O5,b._Y,b.Fj,b.JJ,b.JL,b.On,b.F,O._L,S.Ov,o.X$,D.g],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]}),T})()},51864:(R,c,e)=>{"use strict";e.d(c,{p:()=>d});var t=e(98678),n=e(4682);function a(r,l){}const i=["*"];let d=(()=>{class r extends n.F{constructor(){super(...arguments),this.submitSearch=new t.EventEmitter,this.inAndOutputNames=["query","inPlaceSearch","scope","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(p){return e(52158)(`./${p}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,43105))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=t.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,a,0,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",null,1),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd())},encapsulation:2}),r})()},57924:(R,c,e)=>{"use strict";e.d(c,{M:()=>p});var t=e(70655),n=e(65804);const i=new(e(26523)._)("discovery-facets");var l,d=e(3798),r=e(38666);let p=((l=class{constructor(){this.type=i}}).type=i,l);(0,t.__decorate)([d.OJ,(0,t.__metadata)("design:type",Object)],p.prototype,"type",void 0),(0,t.__decorate)([r.deserialize,(0,t.__metadata)("design:type",Object)],p.prototype,"_links",void 0),p=(0,t.__decorate)([n.KB],p)},24034:(R,c,e)=>{"use strict";e.d(c,{G:()=>a});var t=e(70655),n=e(38666);class a{}(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],a.prototype,"label",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(String,"label"),(0,t.__metadata)("design:type",String)],a.prototype,"value",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Number)],a.prototype,"count",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],a.prototype,"authorityKey",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],a.prototype,"_links",void 0)},53053:(R,c,e)=>{"use strict";e.d(c,{i:()=>_});var t=e(70655),n=e(65804),a=e(3798);const d=new(e(26523)._)("discovery-facetvalues");var m,r=e(24034),l=e(26811),p=e(38666),h=e(20942);let _=((m=class extends l.O{constructor(){super(...arguments),this.type=d}}).type=d,m);(0,t.__decorate)([a.OJ,(0,t.__metadata)("design:type",Object)],_.prototype,"type",void 0),(0,t.__decorate)([p.autoserialize,(0,t.__metadata)("design:type",String)],_.prototype,"name",void 0),(0,t.__decorate)([(0,p.autoserializeAs)(String,"facetType"),(0,t.__metadata)("design:type",String)],_.prototype,"filterType",void 0),(0,t.__decorate)([p.autoserialize,(0,t.__metadata)("design:type",Number)],_.prototype,"facetLimit",void 0),(0,t.__decorate)([(0,p.autoserializeAs)(r.G,"values"),(0,t.__metadata)("design:type",Array)],_.prototype,"page",void 0),_=(0,t.__decorate)([n.KB,(0,p.inheritSerialization)(h.l),(0,p.inheritSerialization)(l.O)],_)},40772:(R,c,e)=>{"use strict";e.d(c,{t:()=>d});var t=e(45608),n=e(65521),a=e(41529);class i{constructor(l){this.view=a.w.ListElement,this.configuration=l.configuration,this.scope=l.scope,this.query=l.query,this.dsoTypes=l.dsoTypes,this.filters=l.filters,this.fixedFilter=l.fixedFilter}toRestUrl(l,p=[]){return(0,t.UE)(this.configuration)&&p.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,t.UE)(this.fixedFilter)&&p.push(this.encodedFixedFilter),(0,t.UE)(this.query)&&p.push(`query=${encodeURIComponent(this.query)}`),(0,t.UE)(this.scope)&&p.push(`scope=${encodeURIComponent(this.scope)}`),(0,t.UE)(this.dsoTypes)&&this.dsoTypes.forEach(h=>{p.push(`dsoType=${encodeURIComponent(h)}`)}),(0,t.UE)(this.filters)&&this.filters.forEach(h=>{h.values.forEach(m=>{const _=m.includes(",")?`${m}`:m+(h.operator?","+h.operator:"");p.push(`${h.key}=${this.encodeFilterQueryValue(_)}`)})}),(0,t.UE)(p)&&(l=new n.R(l,`?${p.join("&")}`).toString()),l}get encodedFixedFilter(){const l=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,t.Uh)(l)?l[1]+this.encodeFilterQueryValue(l[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(l){const p=l.match(/^(.*)(,\w+)$/);return(0,t.Uh)(p)?encodeURIComponent(p[1])+p[2]:encodeURIComponent(l)}}class d extends i{constructor(l){super(l),this.pagination=l.pagination,this.sort=l.sort,this.view=l.view}toRestUrl(l,p=[]){return(0,t.UE)(this.sort)&&p.push(`sort=${this.sort.field},${this.sort.direction}`),(0,t.UE)(this.pagination)&&(p.push("page="+(this.pagination.currentPage-1)),p.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(l,p)}}},83046:(R,c,e)=>{"use strict";e.d(c,{B:()=>p});var t=e(70655),n=e(38666),a=e(65804),i=e(3798);const r=new(e(26523)._)("discovery-filter");var l;let p=((l=class{constructor(){this.type=r,this.pageSize=5}get paramName(){return"f."+this.name}}).type=r,l);(0,t.__decorate)([i.OJ,(0,t.__metadata)("design:type",Object)],p.prototype,"type",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"name",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(String,"facetType"),(0,t.__metadata)("design:type",String)],p.prototype,"filterType",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],p.prototype,"hasFacets",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(String,"facetLimit"),(0,t.__metadata)("design:type",Object)],p.prototype,"pageSize",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Boolean)],p.prototype,"isOpenByDefault",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"maxValue",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],p.prototype,"minValue",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],p.prototype,"_links",void 0),p=(0,t.__decorate)([a.KB],p)},75156:(R,c,e)=>{"use strict";e.d(c,{L:()=>_});var t=e(70655),n=e(38666),a=e(65946),i=e(20942),d=e(65804);const l=new(e(26523)._)("discovery-objects");var m,p=e(3798),h=e(26811);let _=((m=class extends h.O{constructor(){super(...arguments),this.type=l}}).type=l,m);(0,t.__decorate)([p.OJ,(0,t.__metadata)("design:type",Object)],_.prototype,"type",void 0),(0,t.__decorate)([(0,n.autoserializeAs)(a.l,"objects"),(0,t.__metadata)("design:type",Array)],_.prototype,"page",void 0),_=(0,t.__decorate)([d.KB,(0,n.inheritSerialization)(i.l),(0,n.inheritSerialization)(h.O)],_)},26811:(R,c,e)=>{"use strict";e.d(c,{O:()=>d});var t=e(70655),n=e(38666),a=e(87483),i=e(20942);class d extends i.l{}(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"scope",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"query",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],d.prototype,"appliedFilters",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Object)],d.prototype,"sort",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",String)],d.prototype,"configuration",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",a.S)],d.prototype,"pageInfo",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Array)],d.prototype,"page",void 0),(0,t.__decorate)([n.autoserialize,(0,t.__metadata)("design:type",Object)],d.prototype,"facets",void 0)},65946:(R,c,e)=>{"use strict";e.d(c,{l:()=>m});var t=e(70655),n=e(38666),a=e(65804),i=e(57512),d=e(3798),r=e(18035);const p=new(e(26523)._)("searchresult");var h;let m=((h=class extends r.J{constructor(){super(...arguments),this.type=p}getRenderTypes(){return[this.constructor]}}).type=p,h);(0,t.__decorate)([d.OJ,n.autoserialize,(0,t.__metadata)("design:type",i.Ro)],m.prototype,"hitHighlights",void 0),(0,t.__decorate)([n.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),(0,t.__decorate)([(0,d.Qe)("uuid"),(0,t.__metadata)("design:type",Object)],m.prototype,"indexableObject",void 0),m=(0,t.__decorate)([a.KB],m)},13812:(R,c,e)=>{"use strict";e.d(c,{T:()=>b});var t=e(53426),n=e(75286),a=e(10572),i=e(48358),d=e(80978),r=e(35794),l=e(45608),p=e(74423),h=e(65384),m=e(98678),_=e(96342),v=e(67522),y=e(35103),O=e(65706);function S(o,D){if(1&o){const M=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",1),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(M);const T=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(T.export())}),m.\u0275\u0275pipe(1,"translate"),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275element(4,"i",2),m.\u0275\u0275elementEnd()}if(2&o){const M=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngbTooltip",m.\u0275\u0275pipeBind1(1,3,M.tooltipMsg))("title",m.\u0275\u0275pipeBind1(2,5,M.tooltipMsg)),m.\u0275\u0275attribute("aria-label",m.\u0275\u0275pipeBind1(3,7,M.tooltipMsg))}}let b=(()=>{class o{constructor(M,C,T,g,U){this.scriptDataService=M,this.authorizationDataService=C,this.notificationsService=T,this.translateService=g,this.router=U,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){const M=this.scriptDataService.findById("metadata-export-search").pipe((0,a.hC)(),(0,i.U)(T=>T.isSuccess&&(0,l.Uh)(T.payload))),C=this.authorizationDataService.isAuthorized(d.i.AdministratorOf);this.shouldShowButton$=(0,t.a)([M,C]).pipe((0,i.U)(([T,g])=>T&&g))}export(){const M=[];if((0,l.Uh)(this.searchConfig)&&((0,l.UE)(this.searchConfig.query)&&M.push({name:"-q",value:this.searchConfig.query}),(0,l.UE)(this.searchConfig.scope)&&M.push({name:"-s",value:this.searchConfig.scope}),(0,l.UE)(this.searchConfig.configuration)&&M.push({name:"-c",value:this.searchConfig.configuration}),(0,l.UE)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(C=>{(0,l.Uh)(C.values)&&C.values.forEach(T=>{let g,U;(0,l.Uh)(C.operator)?(g=C.operator,U=T):(g=T.substring(T.lastIndexOf(",")+1),U=T.substring(0,T.lastIndexOf(",")));const L=`${C.key.substring(2)},${g}=${U}`;M.push({name:"-f",value:L})})}),(0,l.UE)(this.searchConfig.fixedFilter))){const T=this.searchConfig.fixedFilter.substring(2).split("=");if(T.length>1){const g=T[0],U=T[1].split(",");U.length>1&&M.push({name:"-f",value:`${g},${U[1]}=${U[0]}`})}}this.scriptDataService.invoke("metadata-export-search",M,[]).pipe((0,a.hC)()).subscribe(C=>{C.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,p.Ah)(C.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}}return o.\u0275fac=function(M){return new(M||o)(m.\u0275\u0275directiveInject(n.UY),m.\u0275\u0275directiveInject(r._),m.\u0275\u0275directiveInject(h.T),m.\u0275\u0275directiveInject(_.sK),m.\u0275\u0275directiveInject(v.F0))},o.\u0275cmp=m.\u0275\u0275defineComponent({type:o,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"ngbTooltip","title","click"],[1,"fas","fa-file-export","fa-fw"]],template:function(M,C){1&M&&(m.\u0275\u0275template(0,S,5,9,"button",0),m.\u0275\u0275pipe(1,"async")),2&M&&m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(1,1,C.shouldShowButton$))},dependencies:[y.O5,O._L,y.Ov,_.X$],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]}),o})()},44868:(R,c,e)=>{"use strict";e.d(c,{Dt:()=>m,EZ:()=>r,FR:()=>h,GL:()=>l,WS:()=>p,ZG:()=>d,l0:()=>n,sd:()=>i});var t=e(49754);const n={COLLAPSE:(0,t.d)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,t.d)("dspace/search-filter/INITIALIZE"),EXPAND:(0,t.d)("dspace/search-filter/EXPAND"),TOGGLE:(0,t.d)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,t.d)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,t.d)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,t.d)("dspace/search-filter/RESET_PAGE")};class a{constructor(v){this.filterName=v}}class i extends a{constructor(){super(...arguments),this.type=n.COLLAPSE}}class d extends a{constructor(){super(...arguments),this.type=n.EXPAND}}class r extends a{constructor(){super(...arguments),this.type=n.TOGGLE}}class l extends a{constructor(v){super(v.name),this.type=n.INITIALIZE,this.initiallyExpanded=v.isOpenByDefault}}class p extends a{constructor(){super(...arguments),this.type=n.DECREMENT_PAGE}}class h extends a{constructor(){super(...arguments),this.type=n.INCREMENT_PAGE}}class m extends a{constructor(){super(...arguments),this.type=n.RESET_PAGE}}},73803:(R,c,e)=>{"use strict";e.d(c,{D:()=>n,i:()=>a});const t=new Map;function n(i){return function(r){r&&t.set(i,r)}}function a(i){return t.get(i)}},52651:(R,c,e)=>{"use strict";e.d(c,{l:()=>d});var t=e(98678),n=e(4682);function a(r,l){}const i=["*"];let d=(()=>{class r extends n.F{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","resultFound","deselectObject","selectObject","trackStatistics","query"],this.resultFound=new t.EventEmitter,this.deselectObject=new t.EventEmitter,this.selectObject=new t.EventEmitter}getComponentName(){return"SearchComponent"}importThemedComponent(p){return e(92790)(`./${p}/app/shared/search/search.component`)}importUnthemedComponent(){return e.e(3326).then(e.bind(e,13326))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=t.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,a,0,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",null,1),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd())},encapsulation:2}),r})()},57999:(R,c,e)=>{"use strict";e.d(c,{m:()=>cl});var M,t=e(35103),n=e(67522),a=e(5476),i=e(68650),d=e(65706),r=e(96342),l=e(60235),p=e(74207),h=e(63100),m=e(52244),_=e(6465),v=e(70655),y=e(41529),O=e(23539),S=e(39468),b=e(13005),o=e(98678),D=e(78033);const C=function(){return{}},T=function(Ke,st){return{indexableObject:Ke,hitHighlights:st}};let g=((M=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(M)))(Se||M)}}(),M.\u0275cmp=o.\u0275\u0275defineComponent({type:M,selectors:[["ds-item-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(st,Se){1&st&&o.\u0275\u0275element(0,"ds-item-search-result-list-element",0),2&st&&o.\u0275\u0275property("showLabel",Se.showLabel)("object",o.\u0275\u0275pureFunction2(4,T,Se.object,o.\u0275\u0275pureFunction0(3,C)))("linkType",Se.linkType)},dependencies:[D.h]}),M);g=(0,v.__decorate)([(0,O.d$)("Publication",y.w.ListElement),(0,O.d$)(b.c,y.w.ListElement)],g),e(82410),e(69721),e(21160);var $=e(48358),z=e(77176),W=(e(26729),e(9237)),ce=(e(54916),e(10572));e(66381);var oe,Q=e(5378);const q=function(Ke){return[Ke]};function ee(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(4,q,"/collections/"+Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.dsoNameService.getName(Se.object)," ")}}function J(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.dsoNameService.getName(Se.object)," ")}}function Ee(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.object.archivedItemsCount)}}function Oe(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.object.shortDescription,"\n")}}let Re=((oe=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(oe)))(Se||oe)}}(),oe.\u0275cmp=o.\u0275\u0275defineComponent({type:oe,selectors:[["ds-collection-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,ee,2,6,"a",1),o.\u0275\u0275template(2,J,2,1,"span",2),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Ee,2,1,"span",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,Oe,2,1,"div",5)),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType==Se.linkTypes.None),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",Se.object.archivedItemsCount>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.object.shortDescription))},dependencies:[t.O5,n.rH]}),oe);Re=(0,v.__decorate)([(0,O.d$)(Q.F,y.w.ListElement)],Re);var et,ve=e(66234),Pe=e(8842);const Ze=function(Ke){return[Ke]};function tt(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(4,Ze,"/communities/"+Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.dsoNameService.getName(Se.object)," ")}}function yt(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.dsoNameService.getName(Se.object)," ")}}function Ne(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.object.archivedItemsCount)}}function mt(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.object.shortDescription,"\n")}}let Dt=((et=class extends S.i{constructor(st){super(st),this.dsoNameService=st}}).\u0275fac=function(st){return new(st||et)(o.\u0275\u0275directiveInject(Pe._))},et.\u0275cmp=o.\u0275\u0275defineComponent({type:et,selectors:[["ds-community-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,tt,2,6,"a",1),o.\u0275\u0275template(2,yt,2,1,"span",2),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Ne,2,1,"span",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,mt,2,1,"div",5)),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType==Se.linkTypes.None),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",Se.object.archivedItemsCount>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.object.shortDescription))},dependencies:[t.O5,n.rH]}),et);Dt=(0,v.__decorate)([(0,O.d$)(ve.S,y.w.ListElement),(0,v.__metadata)("design:paramtypes",[Pe._])],Dt);var Je,At=e(54599),lt=(e(79743),e(26650),e(45608)),Ht=e(46533),Qe=e(30658),ft=e(18639);const Ge=function(Ke){return["/collections/",Ke]};function qe(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",7),o.\u0275\u0275pipe(1,"translate"),o.\u0275\u0275element(2,"ds-themed-thumbnail",8),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft;o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(10,Ge,Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null)("title",o.\u0275\u0275pipeBind1(1,6,"search.results.view-result")),o.\u0275\u0275advance(2),o.\u0275\u0275property("thumbnail",null==(Ft=o.\u0275\u0275pipeBind1(3,8,Se.object.logo))?null:Ft.payload)("limitWidth",!1)}}function gt(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",9),o.\u0275\u0275element(1,"ds-themed-thumbnail",8),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft;o.\u0275\u0275advance(1),o.\u0275\u0275property("thumbnail",null==(Ft=o.\u0275\u0275pipeBind1(2,2,Se.object.logo))?null:Ft.payload)("limitWidth",!1)}}function it(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"p",10),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.object.shortDescription)}}function ht(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",11)(1,"a",12),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(6,Ge,Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,4,"search.results.view-result"))}}let St=((Je=class extends S.i{constructor(st,Se){super(st),this.dsoNameService=st,this.linkService=Se}set object(st){this._object=st,(0,lt.Uh)(this._object)&&(0,lt.xI)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ht.l)("logo"))}get object(){return this._object}}).\u0275fac=function(st){return new(st||Je)(o.\u0275\u0275directiveInject(Pe._),o.\u0275\u0275directiveInject(Qe.M))},Je.\u0275cmp=o.\u0275\u0275defineComponent({type:Je,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,qe,4,12,"a",1),o.\u0275\u0275template(2,gt,3,4,"span",2),o.\u0275\u0275elementStart(3,"div",3)(4,"h4",4),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,it,2,1,"p",5),o.\u0275\u0275template(7,ht,4,8,"div",6),o.\u0275\u0275elementEnd()()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType==Se.linkTypes.None),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(Se.dsoNameService.getName(Se.object)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.object.shortDescription),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None))},dependencies:[t.O5,n.rH,ft.z,t.Ov,r.X$]}),Je);var It;St=(0,v.__decorate)([(0,O.d$)(Q.F,y.w.GridElement),(0,v.__metadata)("design:paramtypes",[Pe._,Qe.M])],St);const Yt=function(Ke){return["/communities/",Ke]};function en(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",7),o.\u0275\u0275pipe(1,"translate"),o.\u0275\u0275element(2,"ds-themed-thumbnail",8),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft;o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(10,Yt,Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null)("title",o.\u0275\u0275pipeBind1(1,6,"search.results.view-result")),o.\u0275\u0275advance(2),o.\u0275\u0275property("thumbnail",null==(Ft=o.\u0275\u0275pipeBind1(3,8,Se.object.logo))?null:Ft.payload)("limitWidth",!1)}}function Tt(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",9),o.\u0275\u0275element(1,"ds-themed-thumbnail",8),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft;o.\u0275\u0275advance(1),o.\u0275\u0275property("thumbnail",null==(Ft=o.\u0275\u0275pipeBind1(2,2,Se.object.logo))?null:Ft.payload)("limitWidth",!1)}}function Mn(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"p",10),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.object.shortDescription)}}function xn(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",11)(1,"a",12),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction1(6,Yt,Se.object.id)),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,4,"search.results.view-result"))}}let qn=((It=class extends S.i{constructor(st,Se){super(st),this.dsoNameService=st,this.linkService=Se}set object(st){this._object=st,(0,lt.Uh)(this._object)&&(0,lt.xI)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ht.l)("logo"))}get object(){return this._object}}).\u0275fac=function(st){return new(st||It)(o.\u0275\u0275directiveInject(Pe._),o.\u0275\u0275directiveInject(Qe.M))},It.\u0275cmp=o.\u0275\u0275defineComponent({type:It,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,en,4,12,"a",1),o.\u0275\u0275template(2,Tt,3,4,"span",2),o.\u0275\u0275elementStart(3,"div",3)(4,"h4",4),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,Mn,2,1,"p",5),o.\u0275\u0275template(7,xn,4,8,"div",6),o.\u0275\u0275elementEnd()()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType==Se.linkTypes.None),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(Se.dsoNameService.getName(Se.object)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.object.shortDescription),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None))},dependencies:[t.O5,n.rH,ft.z,t.Ov,r.X$]}),It);qn=(0,v.__decorate)([(0,O.d$)(ve.S,y.w.GridElement),(0,v.__metadata)("design:paramtypes",[Pe._,Qe.M])],qn),e(68228),e(12955),e(64719),e(2594);var on=e(78530),pt=(e(56790),e(43105),e(51864),e(6394)),wt=(e(20189),e(41966)),Mt=(e(91027),e(46683),e(57231),e(20442),e(21322),e(38678),e(56765)),Ve=e(9121);let vt=(()=>{class Ke{canActivate(Se,Ft){return"object"!=typeof window||!(0,lt.Uh)(window.localStorage)||"true"===window.localStorage.getItem("isAdmin")}canActivateChild(Se,Ft){return this.canActivate(Se,Ft)}}return Ke.\u0275fac=function(Se){return new(Se||Ke)},Ke.\u0275prov=o.\u0275\u0275defineInjectable({token:Ke,factory:Ke.\u0275fac}),Ke})();e(87586);var En,je=e(26615),rn=(e(62179),e(60803),e(24347)),Cn=e(81323),tr=e(81961),hn=e(74997);const cn=function(){return[]};function Pn(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",5),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("target",Se.linkType==Se.linkTypes.ExternalLink?"_blank":"_self")("routerLink",o.\u0275\u0275pureFunction0(8,cn))("queryParams",o.\u0275\u0275pipeBind1(1,6,Se.queryParams$))("queryParamsHandling","merge"),o.\u0275\u0275attribute("rel",Se.linkType==Se.linkTypes.ExternalLink?"noopener noreferrer":null),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",Se.object.value," ")}}function Bn(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.object.value," ")}}let An=((En=class extends S.i{constructor(st,Se,Ft){super(st),this.dsoNameService=st,this.paginationService=Se,this.routeService=Ft}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const st=this.paginationService.getPageParam(tr.BBM_PAGINATION_ID);return this.routeService.getQueryParameterValue(st).pipe((0,$.U)(Se=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[st]:null,[tr.BBM_PAGINATION_ID+".return"]:Se})))}}).\u0275fac=function(st){return new(st||En)(o.\u0275\u0275directiveInject(Pe._),o.\u0275\u0275directiveInject(Cn.N),o.\u0275\u0275directiveInject(hn.MZ))},En.\u0275cmp=o.\u0275\u0275defineComponent({type:En,selectors:[["ds-browse-entry-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],[1,"badge","badge-pill","badge-secondary","align-self-center"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,Pn,3,9,"a",1),o.\u0275\u0275template(2,Bn,2,1,"span",2),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275text(4,"\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"span",4),o.\u0275\u0275text(6),o.\u0275\u0275elementEnd()()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType!=Se.linkTypes.None),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.linkType==Se.linkTypes.None),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(Se.object.count))},dependencies:[t.O5,n.rH,t.Ov]}),En);An=(0,v.__decorate)([(0,O.d$)(rn.g,y.w.ListElement),(0,v.__metadata)("design:paramtypes",[Pe._,Cn.N,hn.MZ])],An),e(80632),e(35392),e(84694),e(26172),e(44934),e(82603);var Br,yr=e(36092),Sn=e(54323),Qn=e(99682),hr=e(18654);function Xr(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",3),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.mdRepresentation.getValue()," ")}}function br(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",4),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("href",Se.mdRepresentation.getValue(),o.\u0275\u0275sanitizeUrl),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.mdRepresentation.getValue()," ")}}function Oi(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span",3),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.mdRepresentation.getValue())}}const Nr=function(Ke){return["/browse/",Ke]};function _i(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(3,Nr,Se.mdRepresentation.browseDefinition.id))("queryParams",Se.getQueryParams()),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.mdRepresentation.getValue()," ")}}let Ri=((Br=class extends Sn.S{getQueryParams(){let st={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===hr.C.value?{value:this.mdRepresentation.getValue()}:st}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Br)))(Se||Br)}}(),Br.\u0275cmp=o.\u0275\u0275defineComponent({type:Br,selectors:[["ds-plain-text-metadata-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,Xr,2,1,"span",0),o.\u0275\u0275template(2,br,2,2,"a",1),o.\u0275\u0275template(3,Oi,2,1,"span",0),o.\u0275\u0275template(4,_i,2,5,"a",2),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","plain_text"==Se.mdRepresentation.representationType&&!Se.isLink()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","plain_text"==Se.mdRepresentation.representationType&&Se.isLink()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","authority_controlled"==Se.mdRepresentation.representationType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","browse_link"==Se.mdRepresentation.representationType))},dependencies:[t.O5,n.rH],encapsulation:2}),Br);var kn;Ri=(0,v.__decorate)([(0,Qn.Bu)("Publication",yr.P.PlainText),(0,Qn.Bu)("Publication",yr.P.AuthorityControlled)],Ri);const hi=function(Ke){return["/browse/",Ke]};function ai(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",1),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(3,hi,Se.mdRepresentation.browseDefinition.id))("queryParams",Se.getQueryParams()),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se.mdRepresentation.getValue()," ")}}let to=((kn=class extends Sn.S{getQueryParams(){let st={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===hr.C.value?{value:this.mdRepresentation.getValue()}:st}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(kn)))(Se||kn)}}(),kn.\u0275cmp=o.\u0275\u0275defineComponent({type:kn,selectors:[["ds-browse-link-metadata-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,ai,2,5,"a",0),o.\u0275\u0275elementStart(2,"b"),o.\u0275\u0275text(3,"(new browse link page)"),o.\u0275\u0275elementEnd()()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","browse_link"==Se.mdRepresentation.representationType))},dependencies:[t.O5,n.rH],encapsulation:2}),kn);to=(0,v.__decorate)([(0,Qn.Bu)("Publication",yr.P.BrowseLink)],to);var qr,Wi=e(35534);let Bi=((qr=class extends Sn.S{constructor(){super(...arguments),this.viewMode=y.w.ListElement}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(qr)))(Se||qr)}}(),qr.\u0275cmp=o.\u0275\u0275defineComponent({type:qr,selectors:[["ds-item-metadata-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(st,Se){1&st&&o.\u0275\u0275element(0,"ds-listable-object-component-loader",0),2&st&&o.\u0275\u0275property("object",Se.mdRepresentation)("viewMode",Se.viewMode)},dependencies:[Wi.p],encapsulation:2}),qr);Bi=(0,v.__decorate)([(0,Qn.Bu)("Publication",yr.P.Item)],Bi),e(68203);var _n=e(86937);let bn=(()=>{class Ke{constructor(Se,Ft,We,at,kt){this.startsWithOptions=Se,this.paginationId=Ft,this.paginationService=We,this.route=at,this.router=kt,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(Se=>{(0,lt.Uh)(Se.startsWith)&&this.setStartsWith(Se.startsWith)})),this.formData=new a.nJ({startsWith:new a.p4})}getStartsWith(){return this.startsWith}setStartsWithEvent(Se){this.startsWith=Se.target.value,this.setStartsWithParam()}setStartsWith(Se){this.startsWith=Se}setStartsWithParam(Se=!0){"-1"===this.startsWith&&(this.startsWith=void 0),Se?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(Se){this.startsWith=Se.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(Se=>(0,lt.Uh)(Se)).forEach(Se=>Se.unsubscribe())}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject("startsWithOptions"),o.\u0275\u0275directiveInject("paginationId"),o.\u0275\u0275directiveInject(Cn.N),o.\u0275\u0275directiveInject(n.gz),o.\u0275\u0275directiveInject(n.F0))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-start-with-abstract"]],decls:0,vars:0,template:function(Se,Ft){},encapsulation:2}),Ke})();var $n;function Mr(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"option",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&Ke){const Se=st.$implicit,Ft=o.\u0275\u0275nextContext();o.\u0275\u0275property("value",Se)("selected",Se===Ft.startsWithYear?"selected":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Se," ")}}function Ur(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"option",5),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke){const Se=st.$implicit,Ft=o.\u0275\u0275nextContext();o.\u0275\u0275property("value",Se)("selected",Se===Ft.startsWithMonth?"selected":null),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,3,"browse.startsWith.months."+Se)," ")}}let Tr=(($n=class extends bn{constructor(st,Se,Ft,We,at){super(st,Se,Ft,We,at),this.startsWithOptions=st,this.paginationId=Se,this.paginationService=Ft,this.route=We,this.router=at,this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(st){this.startsWithYear=+st.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(st){this.startsWithMonth=st.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const st=this.getStartsWithMonth();if(st>0&&(0,lt.Uh)(this.startsWithYear)&&-1!==this.startsWithYear){let Se=""+st;return st<10&&(Se=`0${st}`),`${this.startsWithYear}-${Se}`}return(0,lt.Uh)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(st){if(this.startsWith=st,(0,lt.Uh)(st)&&st.indexOf("-")>-1){const Se=st.split("-");this.startsWithYear=+Se[0];const Ft=+Se[1];this.startsWithMonth=Ft<this.monthOptions.length?this.monthOptions[Ft]:this.monthOptions[0]}else this.startsWithYear=+st}getStartsWithYear(){return this.startsWithYear}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}}).\u0275fac=function(st){return new(st||$n)(o.\u0275\u0275directiveInject("startsWithOptions"),o.\u0275\u0275directiveInject("paginationId"),o.\u0275\u0275directiveInject(Cn.N),o.\u0275\u0275directiveInject(n.gz),o.\u0275\u0275directiveInject(n.F0))},$n.\u0275cmp=o.\u0275\u0275defineComponent({type:$n,selectors:[["ds-starts-with-date"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:25,vars:27,consts:[[1,"w-100",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","font-weight-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-control",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-control",3,"change"],[1,"form-group","input-group","col-12","col-md-6","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return Se.submitForm(Se.formData.value)}),o.\u0275\u0275elementStart(1,"div",1)(2,"span",2),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",3)(6,"select",4),o.\u0275\u0275listener("change",function(We){return Se.setStartsWithYearEvent(We)}),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementStart(8,"option",5),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,Mr,2,3,"option",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(12,"div",3)(13,"select",7),o.\u0275\u0275listener("change",function(We){return Se.setStartsWithMonthEvent(We)}),o.\u0275\u0275pipe(14,"translate"),o.\u0275\u0275template(15,Ur,3,5,"option",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(16,"div",8),o.\u0275\u0275element(17,"input",9),o.\u0275\u0275pipe(18,"translate"),o.\u0275\u0275pipe(19,"translate"),o.\u0275\u0275elementStart(20,"span",10)(21,"button",11),o.\u0275\u0275element(22,"i",12),o.\u0275\u0275text(23),o.\u0275\u0275pipe(24,"translate"),o.\u0275\u0275elementEnd()()()()()),2&st&&(o.\u0275\u0275property("formGroup",Se.formData),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(4,13,"browse.startsWith.jump")," "),o.\u0275\u0275advance(3),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(7,15,"browse.startsWith.choose_year.label")),o.\u0275\u0275advance(2),o.\u0275\u0275property("value",-1)("selected",!Se.startsWithYear),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(10,17,"browse.startsWith.choose_year")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",Se.startsWithOptions),o.\u0275\u0275advance(2),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(14,19,"browse.startsWith.months.none.label")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",Se.monthOptions),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("placeholder",o.\u0275\u0275pipeBind1(18,21,"browse.startsWith.type_date")),o.\u0275\u0275property("value",Se.getStartsWith()?Se.getStartsWith():""),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(19,23,"browse.startsWith.type_date.label")),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(24,25,"browse.startsWith.submit"),""))},dependencies:[t.sg,a._Y,a.YN,a.Kr,a.Fj,a.JJ,a.JL,a.sg,a.u,r.X$],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]}),$n);var Vn;Tr=(0,v.__decorate)([(0,_n.r3)(_n.C4.date),(0,v.__metadata)("design:paramtypes",[Array,String,Cn.N,n.gz,n.F0])],Tr);let Xn=((Vn=class extends bn{getStartsWith(){return(0,lt.Uh)(this.startsWith)?this.startsWith:""}setStartsWithParam(st=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(st)}isSelectedOption(st){return"0"===this.startsWith&&"0-9"===st||st===this.startsWith}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Vn)))(Se||Vn)}}(),Vn.\u0275cmp=o.\u0275\u0275defineComponent({type:Vn,selectors:[["ds-starts-with-text"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:11,vars:11,consts:[[1,"w-100",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","input-group","col-8","col-sm-12","col-md-6"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return Se.submitForm(Se.formData.value)}),o.\u0275\u0275elementStart(1,"div",1)(2,"div",2),o.\u0275\u0275element(3,"input",3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementStart(6,"span",4)(7,"button",5),o.\u0275\u0275element(8,"i",6),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd()()()()()),2&st&&(o.\u0275\u0275property("formGroup",Se.formData),o.\u0275\u0275advance(3),o.\u0275\u0275propertyInterpolate("placeholder",o.\u0275\u0275pipeBind1(5,7,"browse.startsWith.type_text")),o.\u0275\u0275property("value",Se.getStartsWith()),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(4,5,"browse.startsWith.input")),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(10,9,"browse.startsWith.submit"),""))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,r.X$],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]}),Vn);Xn=(0,v.__decorate)([(0,_n.r3)(_n.C4.text)],Xn),e(46182);var rr,li=e(18174),Wr=e(4549),So=e(2055),co=e(42553),Ki=e(58622),ei=e(89221),ko=e(19255),bo=e(38742),Bo=e(35057),no=e(45968),Uo=e(81443),Po=e(22119),mo=e(77102),Mi=e(41280),uo=(e(8317),e(36081),e(52654)),ro=e(15353),_s=(e(42988),e(90321)),Ut=(e(80180),e(96067),e(96),e(10949),e(47513),e(82069)),pn=e(19847);const Ar=["*","*"],ti=function(){return{}},cr=function(Ke,st){return{indexableObject:Ke,hitHighlights:st}};let gi=((rr=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(rr)))(Se||rr)}}(),rr.\u0275cmp=o.\u0275\u0275defineComponent({type:rr,selectors:[["ds-item-grid-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Ar,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(st,Se){1&st&&(o.\u0275\u0275projectionDef(Ar),o.\u0275\u0275elementStart(0,"ds-item-search-result-grid-element",0),o.\u0275\u0275projection(1),o.\u0275\u0275projection(2,1),o.\u0275\u0275elementEnd()),2&st&&o.\u0275\u0275property("showLabel",Se.showLabel)("object",o.\u0275\u0275pureFunction2(4,cr,Se.object,o.\u0275\u0275pureFunction0(3,ti)))("linkType",Se.linkType)},dependencies:[pn.n],data:{animation:[Ut.X]}}),rr);gi=(0,v.__decorate)([(0,O.d$)("Publication",y.w.GridElement),(0,O.d$)(b.c,y.w.GridElement)],gi),e(18765),e(57610),e(22985),e(66814),e(15706);var Yr,Go=e(64069),Yi=(e(14512),e(31360),e(82802),e(841),e(59954),e(89702)),Gr=e(48829),io=e(36533),Qo=e(58106),vo=e(63643),Si=e(81156),Xo=e(97329),bi=e(38123),ls=e(69175),Io=e(71213),xs=e(80978),Zo=e(35794),dr=e(7027);function se(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("@fadeOut",void 0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,o.\u0275\u0275pipeBind1(3,4,Se.error)))}}function he(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",12),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("@fadeOut",void 0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,o.\u0275\u0275pipeBind1(3,4,Se.message)))}}const V=function(Ke){return[Ke]};function De(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"a",10),o.\u0275\u0275pipe(1,"dsBrowserOnly"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(7,V,Se.getRegisterRoute())),o.\u0275\u0275attribute("data-test",o.\u0275\u0275pipeBind1(1,3,"register")),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(3,5,"login.form.new-user")," ")}}let rt=((Yr=class{constructor(st,Se,Ft,We,at,kt,On){this.injectedAuthMethodModel=st,this.isStandalonePage=Se,this.authService=Ft,this.hardRedirectService=We,this.formBuilder=at,this.store=kt,this.authorizationService=On,this.hasError=!1,this.hasMessage=!1,this.authMethod=st}ngOnInit(){this.form=this.formBuilder.group({email:["",a.kI.required],password:["",a.kI.required]}),this.error=this.store.pipe((0,Yi.Ys)(io.Kv),(0,$.U)(st=>(this.hasError=(0,lt.UE)(st),st))),this.message=this.store.pipe((0,Yi.Ys)(io.UR),(0,$.U)(st=>(this.hasMessage=(0,lt.UE)(st),st))),this.canRegister$=this.authorizationService.isAuthorized(xs.i.EPersonRegistration)}getRegisterRoute(){return(0,Io.Le)()}getForgotRoute(){return(0,Io.m3)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new Gr.wO),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const st=this.form.get("email").value,Se=this.form.get("password").value;st.trim(),Se.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new Gr.zn(st,Se)),this.form.reset()}}).\u0275fac=function(st){return new(st||Yr)(o.\u0275\u0275directiveInject("authMethodProvider"),o.\u0275\u0275directiveInject("isStandalonePage"),o.\u0275\u0275directiveInject(bi.e8),o.\u0275\u0275directiveInject(ls.A),o.\u0275\u0275directiveInject(a.QS),o.\u0275\u0275directiveInject(Yi.yh),o.\u0275\u0275directiveInject(Zo._))},Yr.\u0275cmp=o.\u0275\u0275defineComponent({type:Yr,selectors:[["ds-log-in-password"]],decls:31,vars:50,consts:[["novalidate","",1,"form-login",3,"formGroup","ngSubmit"],[1,"sr-only"],["autocomplete","off","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","off","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"disabled"],[1,"fas","fa-sign-in-alt"],[1,"mt-2"],["class","dropdown-item",3,"routerLink",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return Se.submit()}),o.\u0275\u0275elementStart(1,"label",1),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"input",2),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275pipe(7,"dsBrowserOnly"),o.\u0275\u0275elementStart(8,"label",1),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(11,"input",3),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275pipe(13,"translate"),o.\u0275\u0275pipe(14,"dsBrowserOnly"),o.\u0275\u0275template(15,se,4,6,"div",4),o.\u0275\u0275pipe(16,"async"),o.\u0275\u0275template(17,he,4,6,"div",5),o.\u0275\u0275pipe(18,"async"),o.\u0275\u0275elementStart(19,"button",6),o.\u0275\u0275pipe(20,"dsBrowserOnly"),o.\u0275\u0275element(21,"i",7),o.\u0275\u0275text(22),o.\u0275\u0275pipe(23,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(24,"div",8),o.\u0275\u0275template(25,De,4,9,"a",9),o.\u0275\u0275pipe(26,"async"),o.\u0275\u0275elementStart(27,"a",10),o.\u0275\u0275pipe(28,"dsBrowserOnly"),o.\u0275\u0275text(29),o.\u0275\u0275pipe(30,"translate"),o.\u0275\u0275elementEnd()()),2&st&&(o.\u0275\u0275property("formGroup",Se.form),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,18,"login.form.email")),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("placeholder",o.\u0275\u0275pipeBind1(6,22,"login.form.email")),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(5,20,"login.form.email"))("data-test",o.\u0275\u0275pipeBind1(7,24,"email")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(10,26,"login.form.password")),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("placeholder",o.\u0275\u0275pipeBind1(13,30,"login.form.password")),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(12,28,"login.form.password"))("data-test",o.\u0275\u0275pipeBind1(14,32,"password")),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(16,34,Se.error)&&Se.hasError),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(18,36,Se.message)&&Se.hasMessage),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!Se.form.valid),o.\u0275\u0275attribute("data-test",o.\u0275\u0275pipeBind1(20,38,"login-button")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(23,40,"login.form.submit"),""),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(26,42,Se.canRegister$)),o.\u0275\u0275advance(2),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(48,V,Se.getForgotRoute())),o.\u0275\u0275attribute("data-test",o.\u0275\u0275pipeBind1(28,44,"forgot")),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(30,46,"login.form.forgot-password")," "))},dependencies:[t.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,n.rH,t.Ov,r.X$,dr.g],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[Qo.U6]}}),Yr);rt=(0,v.__decorate)([(0,Si.J)(vo.q.Password),(0,v.__metadata)("design:paramtypes",[Xo.H,Boolean,bi.e8,ls.A,a.QS,Yi.yh,Zo._])],rt),e(65329),e(14372);var oo,xt=e(98413),ui=(e(64377),e(42921),e(29211)),Vi=(e(55911),e(4989),e(36753),e(52545)),ra=e(50122),cs=e(52972),Ls=(e(61062),e(62583)),Ui=e(97462),Ni=e(122),Qi=e(85927);function gs(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",4),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-secondary")("innerHTML",Se.description,o.\u0275\u0275sanitizeHtml)}}let Li=((oo=class extends Qi.l{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(oo)))(Se||oo)}}(),oo.\u0275cmp=o.\u0275\u0275defineComponent({type:oo,selectors:[["ds-publication-sidebar-search-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"ds-truncatable-part",0),o.\u0275\u0275element(6,"div",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,gs,2,5,"ds-truncatable-part",3)),2&st&&(o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-body")("innerHTML",o.\u0275\u0275pipeBind1(2,11,Se.parentTitle$&&Se.parentTitle$)?o.\u0275\u0275pipeBind1(3,13,Se.parentTitle$):o.\u0275\u0275pipeBind1(4,15,"home.breadcrumbs"),o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(4),o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-primary")("innerHTML",Se.dsoTitle,o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.description))},dependencies:[t.mk,t.O5,Ve.L,t.Ov,r.X$],encapsulation:2}),oo);Li=(0,v.__decorate)([(0,O.d$)("PublicationSearchResult",y.w.ListElement,Ui._.SideBarSearchModal),(0,O.d$)("PublicationSearchResult",y.w.ListElement,Ui._.SideBarSearchModalCurrent),(0,O.d$)(Ni.T,y.w.ListElement,Ui._.SideBarSearchModal),(0,O.d$)(Ni.T,y.w.ListElement,Ui._.SideBarSearchModalCurrent)],Li);var Jo,Vs=e(42237);function Rr(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",4),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-secondary")("innerHTML",Se.description,o.\u0275\u0275sanitizeHtml)}}let ni=((Jo=class extends Qi.l{getDescription(){return this.firstMetadataValue("dc.description.abstract")}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Jo)))(Se||Jo)}}(),Jo.\u0275cmp=o.\u0275\u0275defineComponent({type:Jo,selectors:[["ds-collection-sidebar-search-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"ds-truncatable-part",0),o.\u0275\u0275element(6,"div",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,Rr,2,5,"ds-truncatable-part",3)),2&st&&(o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-body")("innerHTML",o.\u0275\u0275pipeBind1(2,11,Se.parentTitle$&&Se.parentTitle$)?o.\u0275\u0275pipeBind1(3,13,Se.parentTitle$):o.\u0275\u0275pipeBind1(4,15,"home.breadcrumbs"),o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(4),o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-primary")("innerHTML",Se.dsoTitle,o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.description))},dependencies:[t.mk,t.O5,Ve.L,t.Ov,r.X$],encapsulation:2}),Jo);ni=(0,v.__decorate)([(0,O.d$)(Vs.o,y.w.ListElement,Ui._.SideBarSearchModal),(0,O.d$)(Vs.o,y.w.ListElement,Ui._.SideBarSearchModalCurrent)],ni);var Gn,wo=e(28819);function pa(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",4),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-secondary")("innerHTML",Se.description,o.\u0275\u0275sanitizeHtml)}}let Qs=((Gn=class extends Qi.l{getDescription(){return this.firstMetadataValue("dc.description.abstract")}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Gn)))(Se||Gn)}}(),Gn.\u0275cmp=o.\u0275\u0275defineComponent({type:Gn,selectors:[["ds-collection-sidebar-search-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"ds-truncatable-part",0),o.\u0275\u0275element(1,"div",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"ds-truncatable-part",0),o.\u0275\u0275element(6,"div",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,pa,2,5,"ds-truncatable-part",3)),2&st&&(o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-body")("innerHTML",o.\u0275\u0275pipeBind1(2,11,Se.parentTitle$&&Se.parentTitle$)?o.\u0275\u0275pipeBind1(3,13,Se.parentTitle$):o.\u0275\u0275pipeBind1(4,15,"home.breadcrumbs"),o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(4),o.\u0275\u0275property("maxLines",1)("background",Se.isCurrent()?"primary":"default")("showToggle",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",Se.isCurrent()?"text-light":"text-primary")("innerHTML",Se.dsoTitle,o.\u0275\u0275sanitizeHtml),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.description))},dependencies:[t.mk,t.O5,Ve.L,t.Ov,r.X$],encapsulation:2}),Gn);Qs=(0,v.__decorate)([(0,O.d$)(wo.o,y.w.ListElement,Ui._.SideBarSearchModal),(0,O.d$)(wo.o,y.w.ListElement,Ui._.SideBarSearchModalCurrent)],Qs);var qo,Bs=e(6013);let Ts=((qo=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(qo)))(Se||qo)}}(),qo.\u0275cmp=o.\u0275\u0275defineComponent({type:qo,selectors:[["ds-bundle-list-element"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(Se.dsoNameService.getName(Se.object)))},encapsulation:2}),qo);Ts=(0,v.__decorate)([(0,O.d$)(Bs.b,y.w.ListElement)],Ts),e(87478),e(60786),e(5453),e(57512),e(58773),e(55520);var Es=e(40983),es=(e(78154),e(44193));e(29219),e(5732),e(87657),e(13812),e(55799),e(2571),e(76320);const ye=[e(99408).v0];let _t=(()=>{class Ke{}return Ke.\u0275fac=function(Se){return new(Se||Ke)},Ke.\u0275mod=o.\u0275\u0275defineNgModule({type:Ke}),Ke.\u0275inj=o.\u0275\u0275defineInjector({providers:[...ye],imports:[t.ez]}),Ke})();var Or,an=e(72588),mn=e(28143),zn=e(32588);let wr=((Or=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Or)))(Se||Or)}}(),Or.\u0275cmp=o.\u0275\u0275defineComponent({type:Or,selectors:[["ds-listable-notification-object"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275classMapInterpolate1("alert d-block ",null==Se.object?null:Se.object.notificationType," m-0"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,4,null==Se.object?null:Se.object.message)))},dependencies:[r.X$]}),Or);wr=(0,v.__decorate)([(0,O.d$)(mn.h,y.w.ListElement),(0,O.d$)(zn.k.value,y.w.ListElement)],wr);var Fo,ir=e(19829),ns=(e(52153),e(84372),e(39523),e(88948),e(7349),e(84273),e(50193),e(26895),e(39848),e(20124),e(10844)),Us=e(65521);let Ea=((Fo=class{constructor(st,Se,Ft,We,at,kt){this.injectedAuthMethodModel=st,this.isStandalonePage=Se,this._window=Ft,this.authService=We,this.hardRedirectService=at,this.store=kt,this.authMethod=st}ngOnInit(){this.isAuthenticated=this.store.pipe((0,Yi.Ys)(io.$8)),this.loading=this.store.pipe((0,Yi.Ys)(io.EC)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,z.q)(1)).subscribe(st=>{this.isStandalonePage?(0,lt.xb)(st)&&(st="/"):st=this.hardRedirectService.getCurrentRoute();const Se=new Us.R(this._window.nativeWindow.origin,st).toString();let Ft=this.location;const at=/\?redirectUrl=(.*)/g.exec(this.location),kt=at&&at[1]?at[1]:null;(0,lt.K0)(kt)&&kt!==Se&&(Ft=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${Se}`)),this.hardRedirectService.redirect(Ft)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}}).\u0275fac=function(st){return new(st||Fo)(o.\u0275\u0275directiveInject("authMethodProvider"),o.\u0275\u0275directiveInject("isStandalonePage"),o.\u0275\u0275directiveInject(ns.DC),o.\u0275\u0275directiveInject(bi.e8),o.\u0275\u0275directiveInject(ls.A),o.\u0275\u0275directiveInject(Yi.yh))},Fo.\u0275cmp=o.\u0275\u0275defineComponent({type:Fo,selectors:[["ds-log-in-external-provider"]],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","btn-block","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return Se.redirectToExternalProvider()}),o.\u0275\u0275element(1,"i",1),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(3,1,Se.getButtonLabel()),"\n"))},dependencies:[r.X$]}),Fo);Ea=(0,v.__decorate)([(0,Si.J)(vo.q.Oidc),(0,Si.J)(vo.q.Shibboleth),(0,Si.J)(vo.q.Orcid),(0,v.__metadata)("design:paramtypes",[Xo.H,Boolean,ns.AW,bi.e8,ls.A,Yi.yh])],Ea);var ds=e(95101),ks=e(28117),$i=e(24943),Qr=e(65384),ho=e(57066),yi=e(6952);let ii=(()=>{class Ke extends ks.P{constructor(Se,Ft,We,at,kt,On,Wn){super(Se,Ft,We,at,kt,On),this.injector=Se,this.router=Ft,this.notificationsService=We,this.translate=at,this.searchService=kt,this.requestService=On,this.route=Wn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,ce.Gp)()).subscribe(Se=>{this.workflowTaskPageRoute=(0,$i.PT)(Se.id)}))}openAdvancedClaimedTaskTab(){const Se={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(Se.state={},Se.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],Se)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject(o.Injector),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(ho.o),o.\u0275\u0275directiveInject(yi.s),o.\u0275\u0275directiveInject(n.gz))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(Se,Ft){},encapsulation:2}),Ke})();var Kr=e(62460),No=e(73961),ws=e(956),Co=e(98226);let Ci=(()=>{class Ke extends No.V{constructor(Se,Ft,We,at,kt,On,Wn,_r,fr,sr){super(Se,Ft,We,at,kt,On,fr,sr),this.route=Se,this.workflowItemService=Ft,this.router=We,this.routeService=at,this.notificationsService=kt,this.translationService=On,this.workflowActionService=Wn,this.claimedTaskDataService=_r,this.requestService=fr,this.location=sr}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,ce.Gp)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(Se=>{if(Se){const Ft=this.translationService.get("workflow-item."+this.type+".notification.success.title"),We=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(Ft,We),this.previousPage()}else{const Ft=this.translationService.get("workflow-item."+this.type+".notification.error.title"),We=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(Ft,We)}})}sendRequest(Se){return this.claimedTaskDataService.submitTask(Se,this.createBody()).pipe((0,$.U)(Ft=>Ft.hasSucceeded))}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject(n.gz),o.\u0275\u0275directiveInject(ws.K),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(hn.MZ),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(Kr.Q),o.\u0275\u0275directiveInject(Co.p),o.\u0275\u0275directiveInject(yi.s),o.\u0275\u0275directiveInject(t.Ye))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-advanced-workflow-action"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(Se,Ft){},encapsulation:2}),Ke})();var Eo=e(75195),fo=e(30303),Fs=e(20942),Cs=e(22291);const Ao=function(Ke){return[Ke]},Zi=function(Ke){return{name:Ke}},Rs=function(Ke){return["btn btn-sm",Ke]};function ia(Ke,st){if(1&Ke){const Se=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tr")(1,"td",17),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"td",17)(4,"a",19),o.\u0275\u0275listener("click",function(){const at=o.\u0275\u0275restoreView(Se).$implicit,kt=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(kt.ePersonDataService.startEditingNewEPerson(at))}),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"td",17),o.\u0275\u0275text(7),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275element(9,"br"),o.\u0275\u0275text(10),o.\u0275\u0275pipe(11,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"td",17)(13,"div",20)(14,"button",21),o.\u0275\u0275listener("click",function(){const at=o.\u0275\u0275restoreView(Se).$implicit,kt=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(kt.deleteMemberFromGroup(at))}),o.\u0275\u0275pipe(15,"translate"),o.\u0275\u0275element(16,"i",22),o.\u0275\u0275elementEnd()()()()}if(2&Ke){const Se=st.$implicit,Ft=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(Se.id),o.\u0275\u0275advance(2),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(18,Ao,Ft.ePersonDataService.getEPeoplePageRouterLink())),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Ft.dsoNameService.getName(Se)," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(8,11,Ft.messagePrefix+".table.email"),": ",Se.email?Se.email:"-",""),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(11,13,Ft.messagePrefix+".table.netid"),": ",Se.netid?Se.netid:"-"," "),o.\u0275\u0275advance(4),o.\u0275\u0275propertyInterpolate("title",o.\u0275\u0275pipeBind2(15,15,Ft.messagePrefix+".table.edit.buttons.remove",o.\u0275\u0275pureFunction1(20,Zi,Ft.dsoNameService.getName(Se)))),o.\u0275\u0275property("disabled",Ft.actionConfig.remove.disabled)("ngClass",o.\u0275\u0275pureFunction1(22,Rs,Ft.actionConfig.remove.css)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",Ft.actionConfig.remove.icon)}}function Oa(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"ds-pagination",13),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementStart(3,"div",14)(4,"table",15)(5,"thead")(6,"tr")(7,"th",16),o.\u0275\u0275text(8),o.\u0275\u0275pipe(9,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"th",16),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"th",16),o.\u0275\u0275text(14),o.\u0275\u0275pipe(15,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"th",17),o.\u0275\u0275text(17),o.\u0275\u0275pipe(18,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(19,"tbody"),o.\u0275\u0275template(20,ia,17,24,"tr",18),o.\u0275\u0275pipe(21,"async"),o.\u0275\u0275elementEnd()()()()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft,We;o.\u0275\u0275property("paginationOptions",Se.config)("pageInfoState",o.\u0275\u0275pipeBind1(1,10,Se.ePeopleMembersOfGroup))("collectionSize",null==(Ft=o.\u0275\u0275pipeBind1(2,12,Se.ePeopleMembersOfGroup))?null:Ft.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),o.\u0275\u0275advance(8),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(9,14,Se.messagePrefix+".table.id")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(12,16,Se.messagePrefix+".table.name")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(15,18,Se.messagePrefix+".table.identity")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(18,20,Se.messagePrefix+".table.edit")),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",null==(We=o.\u0275\u0275pipeBind1(21,22,Se.ePeopleMembersOfGroup))?null:We.page)}}function $s(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",23),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,Se.messagePrefix+".no-members-yet")," ")}}function Ma(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,Se.messagePrefix+".search.head")," ")}}function Sa(Ke,st){if(1&Ke){const Se=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tr")(1,"td",17),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"td",17)(4,"a",19),o.\u0275\u0275listener("click",function(){const at=o.\u0275\u0275restoreView(Se).$implicit,kt=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(kt.ePersonDataService.startEditingNewEPerson(at))}),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"td",17),o.\u0275\u0275text(7),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275element(9,"br"),o.\u0275\u0275text(10),o.\u0275\u0275pipe(11,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"td",17)(13,"div",20)(14,"button",21),o.\u0275\u0275listener("click",function(){const at=o.\u0275\u0275restoreView(Se).$implicit,kt=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(kt.addMemberToGroup(at))}),o.\u0275\u0275pipe(15,"translate"),o.\u0275\u0275element(16,"i",22),o.\u0275\u0275elementEnd()()()()}if(2&Ke){const Se=st.$implicit,Ft=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(Se.id),o.\u0275\u0275advance(2),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(18,Ao,Ft.ePersonDataService.getEPeoplePageRouterLink())),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",Ft.dsoNameService.getName(Se)," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(8,11,Ft.messagePrefix+".table.email"),": ",Se.email?Se.email:"-",""),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(11,13,Ft.messagePrefix+".table.netid"),": ",Se.netid?Se.netid:"-"," "),o.\u0275\u0275advance(4),o.\u0275\u0275propertyInterpolate("title",o.\u0275\u0275pipeBind2(15,15,Ft.messagePrefix+".table.edit.buttons.add",o.\u0275\u0275pureFunction1(20,Zi,Ft.dsoNameService.getName(Se)))),o.\u0275\u0275property("disabled",Ft.actionConfig.add.disabled)("ngClass",o.\u0275\u0275pureFunction1(22,Rs,Ft.actionConfig.add.css)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",Ft.actionConfig.add.icon)}}function Zs(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"ds-pagination",13),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementStart(3,"div",14)(4,"table",24)(5,"thead")(6,"tr")(7,"th",16),o.\u0275\u0275text(8),o.\u0275\u0275pipe(9,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"th",16),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"th",16),o.\u0275\u0275text(14),o.\u0275\u0275pipe(15,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"th",17),o.\u0275\u0275text(17),o.\u0275\u0275pipe(18,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(19,"tbody"),o.\u0275\u0275template(20,Sa,17,24,"tr",18),o.\u0275\u0275pipe(21,"async"),o.\u0275\u0275elementEnd()()()()),2&Ke){const Se=o.\u0275\u0275nextContext();let Ft,We;o.\u0275\u0275property("paginationOptions",Se.configSearch)("pageInfoState",o.\u0275\u0275pipeBind1(1,10,Se.ePeopleSearch))("collectionSize",null==(Ft=o.\u0275\u0275pipeBind1(2,12,Se.ePeopleSearch))?null:Ft.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),o.\u0275\u0275advance(8),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(9,14,Se.messagePrefix+".table.id")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(12,16,Se.messagePrefix+".table.name")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(15,18,Se.messagePrefix+".table.identity")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(18,20,Se.messagePrefix+".table.edit")),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",null==(We=o.\u0275\u0275pipeBind1(21,22,Se.ePeopleSearch))?null:We.page)}}function Ds(Ke,st){if(1&Ke&&(o.\u0275\u0275elementStart(0,"div",23),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,Se.messagePrefix+".no-items")," ")}}const oa=function(){return["top","right","bottom"]},rs=function(Ke){return{content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Ke}};var Ro=(()=>{return(Ke=Ro||(Ro={}))[Ke.ActiveGroup=0]="ActiveGroup",Ke[Ke.Members=1]="Members",Ke[Ke.SearchResults=2]="SearchResults",Ro;var Ke})();let xo=(()=>{class Ke extends Cs.O{constructor(Se,Ft,We,at,kt,On,Wn,_r){super(Se,Ft,We,at,kt,On,Wn,_r),this.groupService=Se,this.ePersonDataService=Ft,this.translateService=We,this.notificationsService=at,this.formBuilder=kt,this.paginationService=On,this.router=Wn,this.dsoNameService=_r,this.selectedReviewersUpdated=new o.EventEmitter,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(Se){this.groupId=Se.groupId.currentValue,Se.groupId.currentValue!==Se.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):this.subs.set(Ro.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,ce.Gp)()).subscribe(Ft=>{null!=Ft&&(this.groupDataService.editGroup(Ft),this.groupBeingEdited=Ft,this.retrieveMembers(this.config.currentPage))})))}retrieveMembers(Se){if(this.config.currentPage=Se,null===this.groupId){this.unsubFrom(Ro.Members);const Ft=new Fs.l;Ft.page=this.selectedReviewers,this.ePeopleMembersOfGroup.next(Ft)}else super.retrieveMembers(Se)}deleteMemberFromGroup(Se){const Ft=this.selectedReviewers.indexOf(Se);-1!==Ft&&this.selectedReviewers.splice(Ft,1),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(Se){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(Se),this.selectedReviewersUpdated.emit(this.selectedReviewers)}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject(fo.O),o.\u0275\u0275directiveInject(Eo.k),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(a.QS),o.\u0275\u0275directiveInject(Cn.N),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(Pe._))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},features:[o.\u0275\u0275InheritDefinitionFeature,o.\u0275\u0275NgOnChangesFeature],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[1,"btn-group","edit-field"],[3,"disabled","ngClass","title","click"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(Se,Ft){if(1&Se&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"h3",0),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"h4"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,Oa,22,24,"ds-pagination",1),o.\u0275\u0275pipe(8,"async"),o.\u0275\u0275template(9,$s,3,3,"div",2),o.\u0275\u0275pipe(10,"async"),o.\u0275\u0275pipe(11,"async"),o.\u0275\u0275elementStart(12,"h4",3),o.\u0275\u0275template(13,Ma,3,3,"span",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"form",5),o.\u0275\u0275listener("ngSubmit",function(){return Ft.search(Ft.searchForm.value)}),o.\u0275\u0275elementStart(15,"div",6)(16,"div",7),o.\u0275\u0275element(17,"input",8),o.\u0275\u0275elementStart(18,"span",9)(19,"button",10),o.\u0275\u0275element(20,"i",11),o.\u0275\u0275text(21),o.\u0275\u0275pipe(22,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(23,"div")(24,"button",12),o.\u0275\u0275listener("click",function(){return Ft.clearFormAndResetResult()}),o.\u0275\u0275text(25),o.\u0275\u0275pipe(26,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275template(27,Zs,22,24,"ds-pagination",1),o.\u0275\u0275pipe(28,"async"),o.\u0275\u0275template(29,Ds,3,3,"div",2),o.\u0275\u0275pipe(30,"async"),o.\u0275\u0275elementContainerEnd()),2&Se){let We,at,kt,On;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,10,Ft.messagePrefix+".head")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,12,Ft.messagePrefix+".headMembers")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",(null==(We=o.\u0275\u0275pipeBind1(8,14,Ft.ePeopleMembersOfGroup))?null:We.totalElements)>0),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",null==o.\u0275\u0275pipeBind1(10,16,Ft.ePeopleMembersOfGroup)||0==(null==(at=o.\u0275\u0275pipeBind1(11,18,Ft.ePeopleMembersOfGroup))?null:at.totalElements)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dsContextHelp",o.\u0275\u0275pureFunction1(29,rs,o.\u0275\u0275pureFunction0(28,oa))),o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",Ft.searchForm),o.\u0275\u0275advance(7),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(22,20,Ft.messagePrefix+".search.button"),""),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(26,22,Ft.messagePrefix+".button.see-all")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",(null==(kt=o.\u0275\u0275pipeBind1(28,24,Ft.ePeopleSearch))?null:kt.totalElements)>0),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",0==(null==(On=o.\u0275\u0275pipeBind1(30,26,Ft.ePeopleSearch))?null:On.totalElements)&&Ft.searchDone)}},dependencies:[t.mk,t.sg,t.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,n.rH,on.Q,es.A,t.Ov,r.X$],encapsulation:2}),Ke})();var Do;function aa(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Ji(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function Oo(Ke,st){if(1&Ke){const Se=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ds-reviewers-list",7),o.\u0275\u0275listener("selectedReviewersUpdated",function(We){o.\u0275\u0275restoreView(Se);const at=o.\u0275\u0275nextContext();return at.selectedReviewers=We,o.\u0275\u0275resetView(at.displayError=!1)}),o.\u0275\u0275elementEnd()}if(2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("actionConfig",Se.reviewersListActionConfig)("groupId",Se.groupId)("ngClass",Se.groupId?"reviewersListWithGroup":"")("multipleReviewers",Se.multipleReviewers)}}function Js(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"small",8),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function Hr(Ke,st){if(1&Ke&&(o.\u0275\u0275element(0,"ds-modify-item-overview",9),o.\u0275\u0275pipe(1,"async")),2&Ke){const Se=o.\u0275\u0275nextContext();o.\u0275\u0275property("item",o.\u0275\u0275pipeBind1(1,1,Se.item$))}}const jo="submit_select_reviewer",is="selectrevieweraction";let Os=((Do=class extends Ci{constructor(st,Se,Ft,We,at,kt,On,Wn,_r,fr){super(st,Se,Ft,We,at,kt,On,Wn,_r,fr),this.route=st,this.workflowItemService=Se,this.router=Ft,this.routeService=We,this.notificationsService=at,this.translationService=kt,this.workflowActionService=On,this.claimedTaskDataService=Wn,this.requestService=_r,this.location=fr,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(st=>st.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(st=>{this.groupId=st?st.advancedInfo[0].group:null}))}getType(){return is}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[jo]:!0,eperson:this.selectedReviewers.map(st=>st.id)}}previousPage(){let st=this.previousQueryParameters;(0,lt.Uh)(st)||(st={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:st})}}).\u0275fac=function(st){return new(st||Do)(o.\u0275\u0275directiveInject(n.gz),o.\u0275\u0275directiveInject(ws.K),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(hn.MZ),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(Kr.Q),o.\u0275\u0275directiveInject(Co.p),o.\u0275\u0275directiveInject(yi.s),o.\u0275\u0275directiveInject(t.Ye))},Do.\u0275cmp=o.\u0275\u0275defineComponent({type:Do,selectors:[["ds-advanced-workflow-action-select-reviewer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,aa,3,3,"p",0),o.\u0275\u0275template(2,Ji,3,3,"p",0),o.\u0275\u0275template(3,Oo,1,4,"ds-reviewers-list",1),o.\u0275\u0275template(4,Js,3,3,"small",2),o.\u0275\u0275template(5,Hr,2,3,"ds-modify-item-overview",3),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275elementStart(7,"div",4)(8,"button",5),o.\u0275\u0275listener("click",function(){return Se.previousPage()}),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"button",6),o.\u0275\u0275listener("click",function(){return Se.performAction()}),o.\u0275\u0275text(12),o.\u0275\u0275pipe(13,"translate"),o.\u0275\u0275elementEnd()()()),2&st&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.multipleReviewers),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!Se.multipleReviewers),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",void 0!==Se.groupId),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Se.displayError),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(6,7,Se.item$)),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(10,9,"workflow-item."+Se.getType()+".button.cancel")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(13,11,"workflow-item."+Se.getType()+".button.confirm")," "))},dependencies:[t.mk,t.O5,ui.E,xo,t.Ov,r.X$],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]}),Do);var Wo;Os=(0,v.__decorate)([(0,ds.w1)(is),(0,v.__metadata)("design:paramtypes",[n.gz,ws.K,n.F0,hn.MZ,Qr.T,r.sK,Kr.Q,Co.p,yi.s,t.Ye])],Os);let ya=((Wo=class extends ii{constructor(st,Se,Ft,We,at,kt,On){super(st,Se,Ft,We,at,kt,On),this.injector=st,this.router=Se,this.notificationsService=Ft,this.translate=We,this.searchService=at,this.requestService=kt,this.route=On,this.option=jo,this.workflowType=is}}).\u0275fac=function(st){return new(st||Wo)(o.\u0275\u0275directiveInject(o.Injector),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(ho.o),o.\u0275\u0275directiveInject(yi.s),o.\u0275\u0275directiveInject(n.gz))},Wo.\u0275cmp=o.\u0275\u0275defineComponent({type:Wo,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"ngbTooltip","click"],[1,"fa","fa-user"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return Se.openAdvancedClaimedTaskTab()}),o.\u0275\u0275pipe(1,"translate"),o.\u0275\u0275element(2,"i",1),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275propertyInterpolate("ngbTooltip",o.\u0275\u0275pipeBind1(1,2,"submission.workflow.generic."+Se.option+"-help")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(4,4,"submission.workflow.generic."+Se.option),"\n"))},dependencies:[d._L,r.X$]}),Wo);var lo;function Ms(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function He(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.rating.description")," "))}function fe(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1,"*"),o.\u0275\u0275elementEnd())}function de(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"small",15),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function Te(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"small",15),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}ya=(0,v.__decorate)([(0,ds.Tc)(jo),(0,v.__metadata)("design:paramtypes",[o.Injector,n.F0,Qr.T,r.sK,ho.o,yi.s,n.gz])],ya);const N=function(Ke){return{"is-invalid":Ke}},X=function(Ke){return{"text-danger":Ke}};function G(Ke,st){if(1&Ke){const Se=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"form",7),o.\u0275\u0275listener("ngSubmit",function(){o.\u0275\u0275restoreView(Se);const We=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(We.performAction())}),o.\u0275\u0275elementStart(1,"div",8)(2,"label",9)(3,"span"),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,fe,2,0,"span",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"textarea",10),o.\u0275\u0275text(8,"      "),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(9,de,3,3,"small",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"div",8)(11,"label",12),o.\u0275\u0275text(12),o.\u0275\u0275pipe(13,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"div",13),o.\u0275\u0275element(15,"ngb-rating",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(16,Te,3,3,"small",11),o.\u0275\u0275elementEnd()()}if(2&Ke){const Se=o.\u0275\u0275nextContext().ngVar,Ft=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",Ft.ratingForm),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(5,10,"advanced-workflow-action.rating.form.review.label")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",null==Se?null:Se.descriptionRequired),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(14,N,Ft.isInvalid("review")))("required",null==Se?null:Se.descriptionRequired),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",Ft.isInvalid("review")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),o.\u0275\u0275advance(3),o.\u0275\u0275property("max",null==Se?null:Se.maxValue)("ngClass",o.\u0275\u0275pureFunction1(16,X,Ft.isInvalid("rating"))),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Ft.isInvalid("rating"))}}function le(Ke,st){if(1&Ke&&(o.\u0275\u0275element(0,"ds-modify-item-overview",16),o.\u0275\u0275pipe(1,"async")),2&Ke){const Se=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("item",o.\u0275\u0275pipeBind1(1,1,Se.item$))}}function Me(Ke,st){if(1&Ke){const Se=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,Ms,3,3,"p",1),o.\u0275\u0275template(2,He,3,3,"p",1),o.\u0275\u0275template(3,G,17,18,"form",2),o.\u0275\u0275template(4,le,2,3,"ds-modify-item-overview",3),o.\u0275\u0275pipe(5,"async"),o.\u0275\u0275elementStart(6,"div",4)(7,"button",5),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(Se);const We=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(We.previousPage())}),o.\u0275\u0275text(8),o.\u0275\u0275pipe(9,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"button",6),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(Se);const We=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(We.performAction())}),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd()()()}if(2&Ke){const Se=st.ngVar,Ft=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==Se?null:Se.descriptionRequired),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=Se&&Se.descriptionRequired)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",Ft.ratingForm),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(5,6,Ft.item$)),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(9,8,"workflow-item."+Ft.getType()+".button.cancel")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(12,10,"workflow-item."+Ft.getType()+".button.confirm")," ")}}const Fe="submit_score",Xe="scorereviewaction";let Lt=((lo=class extends Ci{ngOnInit(){super.ngOnInit(),this.ratingForm=new a.nJ({review:new a.p4(""),rating:new a.p4(0,a.kI.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const st={[Fe]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const Se=this.ratingForm.get("review").value;Object.assign(st,{review:Se})}return st}getType(){return Xe}getAdvancedInfo(st){return st?st.advancedInfo[0]:null}isInvalid(st){return this.ratingForm.get(st).touched&&!this.ratingForm.get(st).valid}}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(lo)))(Se||lo)}}(),lo.\u0275cmp=o.\u0275\u0275defineComponent({type:lo,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(st,Se){1&st&&(o.\u0275\u0275template(0,Me,13,12,"div",0),o.\u0275\u0275pipe(1,"async")),2&st&&o.\u0275\u0275property("ngVar",Se.getAdvancedInfo(o.\u0275\u0275pipeBind1(1,1,Se.workflowAction$)))},dependencies:[t.mk,t.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,ui.E,wt.g,d.OC,t.Ov,r.X$]}),lo);var un;Lt=(0,v.__decorate)([(0,ds.w1)(Xe)],Lt);let wn=((un=class extends ii{constructor(st,Se,Ft,We,at,kt,On){super(st,Se,Ft,We,at,kt,On),this.injector=st,this.router=Se,this.notificationsService=Ft,this.translate=We,this.searchService=at,this.requestService=kt,this.route=On,this.option=Fe,this.workflowType=Xe}}).\u0275fac=function(st){return new(st||un)(o.\u0275\u0275directiveInject(o.Injector),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(ho.o),o.\u0275\u0275directiveInject(yi.s),o.\u0275\u0275directiveInject(n.gz))},un.\u0275cmp=o.\u0275\u0275defineComponent({type:un,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"ngbTooltip","click"],[1,"fa","fa-star-half-alt"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return Se.openAdvancedClaimedTaskTab()}),o.\u0275\u0275pipe(1,"translate"),o.\u0275\u0275element(2,"i",1),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275propertyInterpolate("ngbTooltip",o.\u0275\u0275pipeBind1(1,2,"submission.workflow.generic."+Se.option+"-help")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(4,4,"submission.workflow.generic."+Se.option),"\n"))},dependencies:[d._L,r.X$]}),un);wn=(0,v.__decorate)([(0,ds.Tc)(Fe),(0,v.__metadata)("design:paramtypes",[o.Injector,n.F0,Qr.T,r.sK,ho.o,yi.s,n.gz])],wn);var vr,Kn=e(72782);function or(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275element(1,"i",2),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.generic.processing")," "))}function Ko(Ke,st){1&Ke&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275element(1,"i",3),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()),2&Ke&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(3,1,"submission.workflow.tasks.claimed.decline")," "))}const qi="submit_decline_task";let wi=((vr=class extends ks.P{constructor(st,Se,Ft,We,at,kt){super(st,Se,Ft,We,at,kt),this.injector=st,this.router=Se,this.notificationsService=Ft,this.translate=We,this.searchService=at,this.requestService=kt,this.option=qi}reloadObjectExecution(){return(0,W.of)(this.object)}convertReloadedObject(st){return Object.assign(new Kn.J,st,{indexableObject:st})}}).\u0275fac=function(st){return new(st||vr)(o.\u0275\u0275directiveInject(o.Injector),o.\u0275\u0275directiveInject(n.F0),o.\u0275\u0275directiveInject(Qr.T),o.\u0275\u0275directiveInject(r.sK),o.\u0275\u0275directiveInject(ho.o),o.\u0275\u0275directiveInject(yi.s))},vr.\u0275cmp=o.\u0275\u0275defineComponent({type:vr,selectors:[["ds-claimed-task-actions-decline-task"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"disabled","ngbTooltip","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(st,Se){1&st&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return Se.submitTask()}),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275template(3,or,4,3,"span",1),o.\u0275\u0275pipe(4,"async"),o.\u0275\u0275template(5,Ko,4,3,"span",1),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275elementEnd()),2&st&&(o.\u0275\u0275propertyInterpolate("ngbTooltip",o.\u0275\u0275pipeBind1(2,6,"submission.workflow.tasks.claimed.decline_help")),o.\u0275\u0275property("disabled",o.\u0275\u0275pipeBind1(1,4,Se.processing$)),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(4,8,Se.processing$)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!o.\u0275\u0275pipeBind1(6,10,Se.processing$)))},dependencies:[t.O5,d._L,t.Ov,r.X$]}),vr);wi=(0,v.__decorate)([(0,ds.Tc)(qi),(0,v.__metadata)("design:paramtypes",[o.Injector,n.F0,Qr.T,r.sK,ho.o,yi.s])],wi);var zi=e(94520);let Ca=(()=>{class Ke{constructor(Se){this.formBuilder=Se,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new o.EventEmitter,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(Se){const Ft={scope:(0,lt.K0)(Se)?Se.scope:"metadata",query:(0,lt.K0)(Se)?Se.query:""};this.search.emit(Ft)}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject(a.QS))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(Se,Ft){1&Se&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(at){return Ft.submit(Ft.searchForm.value),at.stopImmediatePropagation()}),o.\u0275\u0275elementStart(1,"div")(2,"select",1)(3,"option",2),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"option",3),o.\u0275\u0275text(7),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(9,"div",4)(10,"div",5),o.\u0275\u0275element(11,"input",6),o.\u0275\u0275elementStart(12,"span",7)(13,"button",8),o.\u0275\u0275element(14,"i",9),o.\u0275\u0275text(15),o.\u0275\u0275pipe(16,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(17,"div")(18,"button",10),o.\u0275\u0275listener("click",function(){return Ft.submit(null),Ft.reset()}),o.\u0275\u0275text(19),o.\u0275\u0275pipe(20,"translate"),o.\u0275\u0275elementEnd()()()),2&Se&&(o.\u0275\u0275property("formGroup",Ft.searchForm),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(5,5,Ft.labelPrefix+"search.scope.metadata")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(8,7,Ft.labelPrefix+"search.scope.email")),o.\u0275\u0275advance(8),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(16,9,Ft.labelPrefix+"search.button")," "),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(20,11,Ft.labelPrefix+"button.see-all")," "))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,r.X$],encapsulation:2}),Ke})(),zs=(()=>{class Ke{constructor(Se){this.formBuilder=Se,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new o.EventEmitter,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(Se){const Ft={scope:"",query:(0,lt.K0)(Se)?Se.query:""};this.search.emit(Ft)}}return Ke.\u0275fac=function(Se){return new(Se||Ke)(o.\u0275\u0275directiveInject(a.QS))},Ke.\u0275cmp=o.\u0275\u0275defineComponent({type:Ke,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(Se,Ft){1&Se&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(at){return Ft.submit(Ft.searchForm.value),at.stopImmediatePropagation()}),o.\u0275\u0275elementStart(1,"div",1)(2,"div",2),o.\u0275\u0275element(3,"input",3),o.\u0275\u0275elementStart(4,"span",4)(5,"button",5),o.\u0275\u0275element(6,"i",6),o.\u0275\u0275text(7),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(9,"div")(10,"button",7),o.\u0275\u0275listener("click",function(){return Ft.submit(null),Ft.reset()}),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd()()()),2&Se&&(o.\u0275\u0275property("formGroup",Ft.searchForm),o.\u0275\u0275advance(7),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(8,3,Ft.labelPrefix+"search.button")," "),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(12,5,Ft.labelPrefix+"button.see-all")," "))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,r.X$],encapsulation:2}),Ke})();e(33994);var Ss,Ta=e(1535);let Aa=((Ss=class extends S.i{}).\u0275fac=function(){let Ke;return function(Se){return(Ke||(Ke=o.\u0275\u0275getInheritedFactory(Ss)))(Se||Ss)}}(),Ss.\u0275cmp=o.\u0275\u0275defineComponent({type:Ss,selectors:[["ds-bitstream-list-item"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,template:function(st,Se){1&st&&o.\u0275\u0275text(0),2&st&&o.\u0275\u0275textInterpolate1(" ",Se.object.name," ")}}),Ss);Aa=(0,v.__decorate)([(0,O.d$)(Ta.Z,y.w.ListElement,Ui._.Bitstream)],Aa);var la=e(22413);e(5009),e(73466);const ba=[t.ez,a.u5,l.Rq,d.Oz,d.ZS,d.jF,d.XC,d.HK,a.UX,n.Bz,i._t,_t,an.$,la.JX],xa=[r.aw.forChild({missingTranslationHandler:{provide:r.gC,useClass:xt.n},useDefaultLang:!0})],us=[Ts,Re,Dt,At.c,ko.K,bo.q,St,qn,ro.g,uo.a,pt.h,g,gi,Aa,D.h,pn.n,An,je.H,Tr,Xn,li.CreateCommunityParentSelectorComponent,Wr.e,Ki.CreateCollectionParentSelectorComponent,ei.i,So.CreateItemParentSelectorComponent,co.g,Uo.EditCommunitySelectorComponent,Po.p,mo.EditCollectionSelectorComponent,Mi.A,Bo.EditItemSelectorComponent,no.z,Ri,to,Bi,Sn.S,Go.X,rt,Ea,wi,cs.CollectionDropdownComponent,ir.t,Vi.FileDownloadLinkComponent,ra.t,Ls._,h.T,_.w,m.P,p.Y,Qi.l,Li,ni,Qs,Es.x,wr,ya,wn,zi.W,Ca,zs],La=[Mt.F,vt,_s._];let cl=(()=>{class Ke{static withEntryComponents(){return{ngModule:Ke,providers:us.map(Se=>({provide:Se}))}}}return Ke.\u0275fac=function(Se){return new(Se||Ke)},Ke.\u0275mod=o.\u0275\u0275defineNgModule({type:Ke}),Ke.\u0275inj=o.\u0275\u0275defineInjector({providers:[...La],imports:[ba,xa,t.ez,a.u5,l.Rq,d.Oz,d.ZS,d.jF,d.XC,d.HK,a.UX,n.Bz,i._t,_t,an.$,la.JX,r.aw]}),Ke})();o.\u0275\u0275setComponentScope(zi.W,function(){return[t.sg,t.O5,on.Q,Ca,zs]},function(){return[t.Ov,r.X$]}),o.\u0275\u0275setComponentScope(zi.W,function(){return[t.sg,t.O5,on.Q,Ca,zs]},function(){return[t.Ov,r.X$]})},14512:(R,c,e)=>{"use strict";e.d(c,{R:()=>h});var t=e(8369),n=e(79849),a=e(83143),i=e(48358),d=e(98678),r=e(35103);function l(m,_){1&m&&d.\u0275\u0275elementContainer(0)}const p=["*"];let h=(()=>{class m{constructor(v,y){this.sidebarService=v,this.windowService=y,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,i.U)(v=>v?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}}return m.\u0275fac=function(v){return new(v||m)(d.\u0275\u0275directiveInject(t.P),d.\u0275\u0275directiveInject(n.I))},m.\u0275cmp=d.\u0275\u0275defineComponent({type:m,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},ngContentSelectors:p,decls:9,vars:14,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(v,y){1&v&&(d.\u0275\u0275projectionDef(),d.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),d.\u0275\u0275pipe(3,"async"),d.\u0275\u0275elementStart(4,"div",3),d.\u0275\u0275pipe(5,"async"),d.\u0275\u0275template(6,l,1,0,"ng-container",4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div"),d.\u0275\u0275projection(8),d.\u0275\u0275elementEnd()()()()),2&v&&(d.\u0275\u0275advance(2),d.\u0275\u0275property("@pushInOut",d.\u0275\u0275pipeBind1(3,10,y.isSidebarCollapsed$)?"collapsed":"expanded"),d.\u0275\u0275advance(2),d.\u0275\u0275classMapInterpolate2("col-12 col-md-",y.sideBarWidth," sidebar-content ",d.\u0275\u0275pipeBind1(5,12,y.sidebarClasses),""),d.\u0275\u0275propertyInterpolate1("id","",y.id,"-sidebar-content"),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",y.sidebarContent),d.\u0275\u0275advance(1),d.\u0275\u0275classMapInterpolate1("col-12 col-md-",12-y.sideBarWidth,""))},dependencies:[r.tP,r.Ov],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[a.z]}}),m})()},31360:(R,c,e)=>{"use strict";e.d(c,{N:()=>i});var t=e(98678),n=e(96342);const a=["*"];let i=(()=>{class d{constructor(){this.change=new t.EventEmitter}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{change:"change"},ngContentSelectors:a,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[3,"for"],[1,"form-control",3,"id","change"]],template:function(l,p){1&l&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0)(1,"h4")(2,"label",1),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"select",2),t.\u0275\u0275listener("change",function(m){return p.change.emit(m)}),t.\u0275\u0275projection(6),t.\u0275\u0275elementEnd()()),2&l&&(t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("for",p.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,3,p.label)),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("id",p.id))},dependencies:[n.X$],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]}),d})()},89055:(R,c,e)=>{"use strict";e.d(c,{ZZ:()=>a,kj:()=>n,r6:()=>i});var t=e(49754);const n={COLLAPSE:(0,t.d)("dspace/sidebar/COLLAPSE"),EXPAND:(0,t.d)("dspace/sidebar/EXPAND"),TOGGLE:(0,t.d)("dspace/sidebar/TOGGLE")};class a{constructor(){this.type=n.COLLAPSE}}class i{constructor(){this.type=n.EXPAND}}},8369:(R,c,e)=>{"use strict";e.d(c,{P:()=>h});var t=e(53426),n=e(89702),a=e(89055),i=e(79849),d=e(48358),r=e(98678);const p=(0,n.P1)(m=>m.sidebar,m=>m.sidebarCollapsed);let h=(()=>{class m{constructor(v,y){this.store=v,this.windowService=y,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,n.Ys)(p))}get isCollapsed(){return(0,t.a)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,d.U)(([v,y])=>!v||y))}collapse(){this.store.dispatch(new a.ZZ)}expand(){this.store.dispatch(new a.r6)}}return m.\u0275fac=function(v){return new(v||m)(r.\u0275\u0275inject(n.yh),r.\u0275\u0275inject(i.I))},m.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},86937:(R,c,e)=>{"use strict";e.d(c,{C4:()=>n,a5:()=>i,r3:()=>a});const t=new Map;var n=(()=>{return(d=n||(n={})).text="Text",d.date="Date",n;var d})();function a(d){return function(l){l&&t.set(d,l)}}function i(d){return t.get(d)}},18203:(R,c,e)=>{"use strict";e.d(c,{w:()=>m});var h,t=e(70655),n=e(42878),a=e(38666),i=e(65804),d=e(61750),r=e(25698),l=e(99558),p=e(22537);let m=((h=class extends d.t{}).type=r.N,h);(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"id",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",String)],m.prototype,"subscriptionType",void 0),(0,t.__decorate)([a.autoserialize,(0,t.__metadata)("design:type",Array)],m.prototype,"subscriptionParameterList",void 0),(0,t.__decorate)([a.deserialize,(0,t.__metadata)("design:type",Object)],m.prototype,"_links",void 0),(0,t.__decorate)([(0,i.p4)(l.U),(0,t.__metadata)("design:type",n.y)],m.prototype,"eperson",void 0),(0,t.__decorate)([(0,i.p4)(p.i),(0,t.__metadata)("design:type",n.y)],m.prototype,"resource",void 0),m=(0,t.__decorate)([i.KB,(0,a.inheritSerialization)(d.t)],m)},25698:(R,c,e)=>{"use strict";e.d(c,{N:()=>n});const n=new(e(26523)._)("subscription")},51603:(R,c,e)=>{"use strict";e.d(c,{W:()=>Q});var t=e(98678),n=e(5476),a=e(35841),i=e(32210),d=e(14111),r=e(53426),l=e(77176),p=e(48358),h=e(69637),m=e(27303),_=e(54385),v=e.n(_),S=(e(18203),e(61750),e(70463)),b=e(65384),o=e(10572),D=e(38123),M=e(45608),C=e(8842),T=e(65706),g=e(96342),U=e(35103),L=e(87586),j=e(84273);function $(oe,q){if(1&oe&&t.\u0275\u0275element(0,"ds-themed-type-badge",17),2&oe){const ee=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("object",ee.dso)}}function z(oe,q){if(1&oe&&(t.\u0275\u0275elementStart(0,"span",15),t.\u0275\u0275template(1,$,1,1,"ds-themed-type-badge",16),t.\u0275\u0275elementEnd()),2&oe){const ee=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!ee.dso)}}function re(oe,q){if(1&oe&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275element(1,"input",25),t.\u0275\u0275elementStart(2,"label",26),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&oe){const ee=q.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("id","checkbox-"+ee)("formControlName",ee),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","checkbox-"+ee),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,"subscriptions.modal.new-subscription-form.frequency."+ee))}}function W(oe,q){1&oe&&(t.\u0275\u0275elementStart(0,"ds-alert",27),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&oe&&(t.\u0275\u0275property("type","alert-danger"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"context-menu.actions.subscription.frequency.required")," "))}function ie(oe,q){if(1&oe&&(t.\u0275\u0275elementStart(0,"fieldset",18)(1,"legend",19),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",20),t.\u0275\u0275element(5,"input",21),t.\u0275\u0275template(6,re,5,6,"div",22),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,W,3,4,"ds-alert",23),t.\u0275\u0275elementEnd()),2&oe){const ee=q.$implicit,J=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("formGroupName",ee.key),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,5,"subscriptions.modal.new-subscription-form.type."+ee.key),": "),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",null==ee||null==ee.value?null:ee.value.controls.subscriptionId.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",J.frequencyDefaultValues),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!J.submitted&&(null==ee||null==ee.value||null==ee.value.controls.frequencies.errors?null:ee.value.controls.frequencies.errors.required))}}function ce(oe,q){1&oe&&(t.\u0275\u0275elementStart(0,"p",28),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&oe&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"subscriptions.modal.delete-info")))}function ne(oe,q){1&oe&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",29),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&oe&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"subscriptions.modal.new-subscription-form.processing")," "))}function K(oe,q){1&oe&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&oe&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"subscriptions.modal.new-subscription-form.submit")," "))}function w(oe,q){if(1&oe){const ee=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",1),t.\u0275\u0275listener("ngSubmit",function(){t.\u0275\u0275restoreView(ee);const Ee=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ee.submit())}),t.\u0275\u0275elementStart(1,"div",2)(2,"h4",3),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(ee);const Ee=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ee.activeModal.close())}),t.\u0275\u0275elementStart(6,"span",5),t.\u0275\u0275text(7,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(8,"div",6)(9,"p",7)(10,"strong"),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,z,2,1,"span",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div"),t.\u0275\u0275template(14,ie,8,7,"fieldset",9),t.\u0275\u0275pipe(15,"keyvalue"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(16,ce,3,3,"p",10),t.\u0275\u0275pipe(17,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",11)(19,"button",12),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(ee);const Ee=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ee.activeModal.close())}),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"button",13),t.\u0275\u0275pipe(23,"async"),t.\u0275\u0275template(24,ne,4,3,"span",14),t.\u0275\u0275pipe(25,"async"),t.\u0275\u0275template(26,K,3,3,"span",14),t.\u0275\u0275pipe(27,"async"),t.\u0275\u0275elementEnd()()()}if(2&oe){const ee=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",ee.subscriptionForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,10,"subscriptions.modal.title")),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(ee.dsoNameService.getName(ee.dso)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!ee.dso),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(15,12,null==ee.subscriptionForm?null:ee.subscriptionForm.controls)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(17,14,ee.showDeleteInfo$)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,16,"subscriptions.modal.close")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",t.\u0275\u0275pipeBind1(23,18,ee.processing$)||!ee.isValid),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(25,20,ee.processing$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(27,22,ee.processing$))}}let Q=(()=>{class oe{constructor(ee,J,Ee,Oe,Re,ve,Pe,et){this.formBuilder=ee,this.modalService=J,this.notificationsService=Ee,this.subscriptionService=Oe,this.activeModal=Re,this.authService=ve,this.translate=Pe,this.dsoNameService=et,this.processing$=new a.X(!1),this.showDeleteInfo$=new a.X(!1),this.submitted=!1,this.subscriptionDefaultTypes=["content"],this.frequencyDefaultValues=["D","W","M"],this.isValid=!1,this.updateSubscription=new t.EventEmitter}ngOnInit(){this.authService.getAuthenticatedUserFromStore().pipe((0,l.q)(1),(0,p.U)(ee=>ee.uuid),(0,i.d)()).subscribe(ee=>{this.ePersonId=ee,(0,M.UE)(this.subscription)?this.initFormByGivenSubscription():this.initFormByAllSubscriptions()}),this.subscriptionForm.valueChanges.subscribe(ee=>{let J=!1;for(let Ee of this.frequencyDefaultValues)J=J||ee.content.frequencies[Ee];this.isValid=J})}initFormByAllSubscriptions(){this.subscriptionForm=new n.nJ({});for(let ee of this.subscriptionDefaultTypes){const J=new n.nJ({});J.addControl("subscriptionId",this.formBuilder.control("")),J.addControl("frequencies",this.formBuilder.group({}));for(let Ee of this.frequencyDefaultValues)J.controls.frequencies.addControl(Ee,this.formBuilder.control(!1));this.subscriptionForm.addControl(ee,J)}this.initFormDataBySubscriptions()}initFormByGivenSubscription(){const ee=new n.nJ({});ee.addControl("subscriptionId",this.formBuilder.control(this.subscription.id)),ee.addControl("frequencies",this.formBuilder.group({})),ee.get("frequencies").addValidators(n.kI.required);for(let J of this.frequencyDefaultValues){const Ee=-1!==v()(this.subscription.subscriptionParameterList,["value",J]);ee.controls.frequencies.addControl(J,this.formBuilder.control(Ee))}this.subscriptionForm=this.formBuilder.group({[this.subscription.subscriptionType]:ee})}initFormDataBySubscriptions(){this.processing$.next(!0),this.subscriptionService.getSubscriptionsByPersonDSO(this.ePersonId,this.dso?.uuid).pipe((0,o.Gp)()).subscribe({next:ee=>{if(ee.pageInfo.totalElements>0){this.showDeleteInfo$.next(!0);for(let J of ee.page){const Oe=this.subscriptionForm.get(J.subscriptionType);if((0,M.UE)(Oe)){Oe.controls.subscriptionId.setValue(J.id);for(let Re of J.subscriptionParameterList.filter(ve=>"frequency"===ve.name))Oe.controls.frequencies.controls[Re.value]?.setValue(!0)}}}this.processing$.next(!1)},error:ee=>{this.processing$.next(!1)}})}submit(){this.submitted=!0;const ee=Object.keys(this.subscriptionForm.controls),J=[],Ee=[];ee.forEach(Re=>{const ve=this.subscriptionForm.controls[Re];if(ve.touched&&ve.dirty){const Pe=this.createBody(ve.controls.subscriptionId.value,Re,ve.controls.frequencies);(0,M.UE)(Pe.id)?Ee.push(Pe):(0,M.UE)(Pe.subscriptionParameterList)&&J.push(Pe)}});const Oe=[];(0,M.UE)(J)&&Oe.push((0,d.D)(J).pipe((0,h.z)(Re=>this.subscriptionService.createSubscription(Re,this.ePersonId,this.dso.uuid).pipe((0,o.hC)())),(0,m.b)(Re=>{if(Re.hasSucceeded){const ve=this.translate.instant("subscriptions.modal.create.success",{type:Re.payload.subscriptionType});this.notificationsService.success(null,ve)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.create.error"))}))),(0,M.UE)(Ee)&&Oe.push((0,d.D)(Ee).pipe((0,h.z)(Re=>this.subscriptionService.updateSubscription(Re,this.ePersonId,this.dso.uuid).pipe((0,o.hC)())),(0,m.b)(Re=>{if(Re.hasSucceeded){const ve=this.translate.instant("subscriptions.modal.update.success",{type:Re.payload.subscriptionType});this.notificationsService.success(null,ve),(0,M.UE)(this.subscription)&&this.updateSubscription.emit(Re.payload)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.update.error"))}))),(0,r.a)([...Oe]).subscribe(Re=>{this.activeModal.close()})}createBody(ee,J,Ee){const Oe={id:(0,M.UE)(ee)?ee:null,subscriptionType:J,subscriptionParameterList:[]};for(let Re of this.frequencyDefaultValues)Ee.value[Re]&&Oe.subscriptionParameterList.push({name:"frequency",value:Re});return Oe}}return oe.\u0275fac=function(ee){return new(ee||oe)(t.\u0275\u0275directiveInject(n.QS),t.\u0275\u0275directiveInject(T.FF),t.\u0275\u0275directiveInject(b.T),t.\u0275\u0275directiveInject(S.D),t.\u0275\u0275directiveInject(T.Kz),t.\u0275\u0275directiveInject(D.e8),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(C._))},oe.\u0275cmp=t.\u0275\u0275defineComponent({type:oe,selectors:[["ds-subscription-modal"]],inputs:{dso:"dso",subscription:"subscription"},outputs:{updateSubscription:"updateSubscription"},decls:1,vars:1,consts:[["data-test","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["data-test","subscription-form",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],["class","float-right",4,"ngIf"],["class","form-group form-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"],[4,"ngIf"],[1,"float-right"],[3,"object",4,"ngIf"],[3,"object"],[1,"form-group","form-row",3,"formGroupName"],[1,"col-md-4","col-form-label","float-md-left","pt-0"],[1,"col-md-8"],["type","hidden","formControlName","subscriptionId",3,"value"],["class","form-check","formGroupName","frequencies",4,"ngFor","ngForOf"],[3,"type",4,"ngIf"],["formGroupName","frequencies",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[3,"type"],[1,"text-muted"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(ee,J){1&ee&&t.\u0275\u0275template(0,w,28,24,"form",0),2&ee&&t.\u0275\u0275property("ngIf",J.subscriptionForm)},dependencies:[U.sg,U.O5,n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.sg,n.u,n.x0,L.w,j.o,U.Ov,U.Nd,g.X$]}),oe})()},70463:(R,c,e)=>{"use strict";e.d(c,{D:()=>ie});var W,t=e(70655),n=e(78964),a=e(89702),i=e(77176),d=e(48358),r=e(21160),l=e(77007),p=e(49887),h=e(65384),m=e(16066),_=e(5803),v=e(55624),y=e(7404),O=e(96526),S=e(6144),b=e(6952),o=e(18005),D=e(1411),M=e(25698),C=e(8842),T=e(45608),g=e(10572),U=e(56190),L=e(14246),j=e(30828),$=e(29908),z=e(46533),re=e(98678);let ie=((W=class extends L.t{constructor(ne,K,w,Q,oe,q,ee,J,Ee){super("subscriptions",Q,oe,ee,J),this.comparator=ne,this.http=K,this.notificationsService=w,this.requestService=Q,this.rdbService=oe,this.store=q,this.objectCache=ee,this.halService=J,this.nameService=Ee,this.findByEpersonLinkPath="findByEPerson",this.searchData=new $.l(this.linkPath,Q,oe,ee,J,this.responseMsToLive),this.deleteData=new j.R(this.linkPath,Q,oe,ee,J,w,this.responseMsToLive,this.constructIdEndpoint)}getSubscriptionsByPersonDSO(ne,K){const w=Object.assign(new S.R,{searchParams:[new _.g("resource",K),new _.g("eperson_id",ne)]});return this.searchData.searchBy("findByEPersonAndDso",w,!1,!0)}createSubscription(ne,K,w){return this.halService.getEndpoint(this.linkPath).pipe((0,T.iy)(),(0,i.q)(1),(0,d.U)(Q=>`${Q}?resource=${w}&eperson_id=${K}`),(0,d.U)(Q=>new O.Fo(this.requestService.generateRequestId(),Q,JSON.stringify(ne))),(0,U.wG)(this.requestService),(0,r.w)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)),(0,g.hC)())}updateSubscription(ne,K,w){return this.halService.getEndpoint(this.linkPath).pipe((0,T.iy)(),(0,i.q)(1),(0,d.U)(Q=>`${Q}/${ne.id}?resource=${w}&eperson_id=${K}`),(0,d.U)(Q=>new O.an(this.requestService.generateRequestId(),Q,JSON.stringify(ne))),(0,U.wG)(this.requestService),(0,r.w)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)),(0,g.hC)())}deleteSubscription(ne){return this.halService.getEndpoint(this.linkPath).pipe((0,l.h)(K=>(0,T.UE)(K)),(0,p.x)(),(0,r.w)(K=>this.deleteData.delete(ne)),(0,g.hC)())}findAllSubscriptions(ne){return this.findAllData.findAll(ne,!0,!0,(0,z.l)("resource"),(0,z.l)("eperson"))}findByEPerson(ne,K){const w=Object.assign(new S.R,K,{searchParams:[new _.g("uuid",ne)]});return this.getEndpoint().pipe((0,d.U)(Q=>`${Q}/search/${this.findByEpersonLinkPath}`),(0,r.w)(Q=>this.findListByHref(Q,w,!1,!0,(0,z.l)("resource"),(0,z.l)("eperson"))))}}).\u0275fac=function(ne){return new(ne||W)(re.\u0275\u0275inject(y.o),re.\u0275\u0275inject(n.eN),re.\u0275\u0275inject(h.T),re.\u0275\u0275inject(b.s),re.\u0275\u0275inject(m.Q),re.\u0275\u0275inject(a.yh),re.\u0275\u0275inject(v.a),re.\u0275\u0275inject(o.q),re.\u0275\u0275inject(C._))},W.\u0275prov=re.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac,providedIn:"root"}),W);ie=(0,t.__decorate)([(0,D.cQ)(M.N),(0,t.__metadata)("design:paramtypes",[y.o,n.eN,h.T,b.s,m.Q,a.yh,v.a,o.q,C._])],ie)},17986:(R,c,e)=>{"use strict";e.d(c,{j:()=>n,t:()=>a});const n={SET:(0,e(49754).d)("dspace/theme/SET")};class a{constructor(d){this.type=n.SET,this.payload={name:d}}}},53924:(R,c,e)=>{"use strict";e.d(c,{B:()=>t});const t="base"},34216:(R,c,e)=>{"use strict";e.d(c,{fY:()=>Oe});var t=e(89702),n=e(35841),a=e(9237),i=e(14111),d=e(27193),r=e(27164),l=e(17986),p=e(77176),h=e(77007),m=e(21160),_=e(48358),v=e(77025),y=e(76319),S=e(91519),b=e(71891),o=e(45608),D=e(10572),M=e(71213),C=e(6699),T=e(53426);class g{constructor(ve){this.config=ve}matches(ve,Pe){return(0,a.of)(!0)}}class U extends g{constructor(ve){super(ve),this.config=ve,this.regex=new RegExp(this.config.regex)}matches(ve,Pe){let et;const Ze=(0,M.Y4)(Pe);return(0,o.UE)(Ze)&&(et=Ze.match(this.regex)),(0,o.xI)(et)&&(et=ve.match(this.regex)),(0,a.of)((0,o.Uh)(et))}}class L extends g{constructor(ve,Pe){super(ve),this.config=ve,this.handleService=Pe}matches(ve,Pe){return(0,o.Uh)(Pe?.handle)?(0,T.a)([this.handleService.normalizeHandle(Pe?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,_.U)(([et,Ze])=>(0,o.Uh)(Pe)&&(0,o.Uh)(Pe.handle)&&et===Ze),(0,p.q)(1)):(0,a.of)(!1)}}class j extends g{constructor(ve){super(ve),this.config=ve}matches(ve,Pe){return(0,a.of)((0,o.Uh)(Pe)&&Pe.uuid===this.config.uuid)}}var z=e(54998),re=e(46533),W=e(30658),ie=e(76774),ce=e(91179),ne=e(67522),K=e(23539),w=e(45664),Q=e(35103),oe=e(58614),q=e(53924),ee=e(98678);const J=(0,t.ZF)("theme"),Ee=(0,t.P1)(J,Re=>(0,o.Uh)(Re)?Re.currentTheme:q.B);let Oe=(()=>{class Re{constructor(Pe,et,Ze,tt,yt,Ne,mt){this.store=Pe,this.linkService=et,this.dSpaceObjectDataService=Ze,this.injector=tt,this.gtcf=yt,this.router=Ne,this.document=mt,this._isThemeLoading$=new n.X(!1),this._isThemeCSSLoading$=new n.X(!1),this.themes=ie.N.themes.map(Dt=>((Re,ve)=>(0,o.Uh)(Re.regex)?new U(Re):(0,o.Uh)(Re.handle)?new L(Re,ve.get(C.n)):(0,o.Uh)(Re.uuid)?new j(Re):new g(Re))(Dt,tt)),this.hasDynamicTheme=ie.N.themes.some(Dt=>(0,o.Uh)(Dt.regex)||(0,o.Uh)(Dt.handle)||(0,o.Uh)(Dt.uuid))}setTheme(Pe){this.store.dispatch(new l.t(Pe))}getThemeName(){let Pe;return this.store.pipe((0,t.Ys)(Ee),(0,p.q)(1)).subscribe(et=>Pe=et),Pe}getThemeName$(){return this.store.pipe((0,t.Ys)(Ee))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(Pe){this.getThemeName$().subscribe(et=>{if(Pe&&(0,w.e)(this._isThemeCSSLoading$,!0),(0,o.Uh)(et))this.loadGlobalThemeConfig(et);else{const Ze=(0,oe.ML)();(0,o.Uh)(Ze)?this.loadGlobalThemeConfig(Ze.name):this.loadGlobalThemeConfig(q.B)}})}listenForRouteChanges(){this.router.events.pipe((0,h.h)(Pe=>Pe instanceof ne.Av),(0,m.w)(Pe=>this.updateThemeOnRouteChange$(Pe.urlAfterRedirects,Pe.state.root)),(0,m.w)(Pe=>Pe?this._isThemeCSSLoading$:[!1])).subscribe(Pe=>{(0,w.e)(this._isThemeLoading$,Pe)})}loadGlobalThemeConfig(Pe){this.setThemeCss(Pe),this.setHeadTags(Pe)}setThemeCss(Pe){const et=this.document.getElementsByTagName("head")[0];if((0,o.xI)(et))return;const Ze=Array.from(et.getElementsByClassName("theme-css")),tt=this.document.createElement("link");tt.setAttribute("rel","stylesheet"),tt.setAttribute("type","text/css"),tt.setAttribute("class","theme-css"),tt.setAttribute("href",`${encodeURIComponent(Pe)}-theme.css`),tt.onload=()=>{(0,o.UE)(Ze)&&Ze.forEach(yt=>{(0,o.Uh)(yt)&&yt.remove()}),(0,w.e)(this._isThemeCSSLoading$,!1)},et.appendChild(tt)}setHeadTags(Pe){const et=this.document.getElementsByTagName("head")[0];if((0,o.xI)(et))return;const Ze=Array.from(et.getElementsByClassName("theme-head-tag"));(0,o.Uh)(Ze)&&Ze.forEach(yt=>yt.remove());const tt=this.document.createDocumentFragment();this.createHeadTags(Pe).forEach(yt=>tt.appendChild(yt)),et.appendChild(tt)}createHeadTags(Pe){const et=this.getThemeConfigFor(Pe),Ze=et?.headTags;if((0,o.xI)(Ze)){const tt=et?.extends;return(0,o.Uh)(tt)?this.createHeadTags(tt):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return Ze.map(this.createHeadTag.bind(this))}createHeadTag(Pe){const et=this.document.createElement(Pe.tagName);return(0,o.Uh)(Pe.attributes)&&Object.entries(Pe.attributes).forEach(([Ze,tt])=>et.setAttribute(Ze,tt)),et.setAttribute("class","theme-head-tag"),et}updateThemeOnRouteChange$(Pe,et){const tt=this.store.pipe((0,t.Ys)(Ee)).pipe((0,m.w)(yt=>{const Ne=this.findRouteData(et);if(!0===this.hasDynamicTheme&&(0,o.UE)(this.themes)){if((0,o.Uh)(Ne)&&(0,o.Uh)(Ne.data)&&(0,o.Uh)(Ne.data.dso)){const mt=Ne.data.dso;if(mt.hasSucceeded)return(0,a.of)(mt.payload).pipe(this.getAncestorDSOs(),(0,m.w)(Dt=>this.matchThemeToDSOs(Dt,Pe)),(0,_.U)(Dt=>this.getActionForMatch(Dt,yt)))}return(0,o.Uh)(et.queryParams)&&(0,o.Uh)(et.queryParams.scope)?this.dSpaceObjectDataService.findById(et.queryParams.scope).pipe((0,D.xw)(),(0,D.xe)(),this.getAncestorDSOs(),(0,m.w)(Dt=>this.matchThemeToDSOs(Dt,Pe)),(0,_.U)(Dt=>this.getActionForMatch(Dt,yt))):(0,i.D)(this.themes).pipe((0,d.b)(mt=>mt.matches(Pe,void 0).pipe((0,h.h)(Dt=>!0===Dt),(0,_.U)(()=>mt),(0,p.q)(1))),(0,p.q)(1),(0,_.U)(mt=>this.getActionForMatch(mt,yt)))}return(0,a.of)(new z.B)}),(0,p.q)(1));return tt.pipe((0,h.h)(yt=>yt.type!==z.E)).subscribe(yt=>{this.store.dispatch(yt)}),tt.pipe((0,_.U)(yt=>yt.type===l.j.SET))}findRouteData(...Pe){const et=Pe.find(Ze=>(0,o.Uh)(Ze.data)&&(0,o.Uh)(Ze.data.dso));if((0,o.Uh)(et))return et;{const Ze=Pe.map(tt=>tt.children).reduce((tt,yt)=>[...tt,...yt]);return(0,o.UE)(Ze)?this.findRouteData(...Ze):void 0}}getAncestorDSOs(){return Pe=>Pe.pipe(function O(Re,ve=1/0,Pe){return ve=(ve||0)<1?1/0:ve,(0,v.e)((et,Ze)=>(0,y.p)(et,Ze,Re,ve,void 0,!0,Pe))}(et=>{if((0,o.Uh)(et)&&"function"==typeof et.getParentLinkKey){const Ze=et.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(et,(0,re.l)(Ze)).pipe((0,D.hC)(),(0,_.U)(tt=>(0,o.Uh)(tt.payload)?tt.payload:null))}return r.E}),(0,h.h)(et=>(0,o.Uh)(et)),(0,S.q)())}getActionForMatch(Pe,et){const Ze=Pe?.config.name??q.B;return Ze!==et?new l.t(Ze):new z.B}matchThemeToDSOs(Pe,et){return(0,i.D)(this.themes).pipe((0,d.b)(Ze=>(0,i.D)(Pe).pipe((0,d.b)(tt=>Ze.matches(et,tt)),(0,h.h)(tt=>!0===tt),(0,_.U)(()=>Ze),(0,p.q)(1))),(0,p.q)(1),(0,b.d)(void 0))}getThemeConfigFor(Pe){return this.gtcf(Pe)}}return Re.\u0275fac=function(Pe){return new(Pe||Re)(ee.\u0275\u0275inject(t.yh),ee.\u0275\u0275inject(W.M),ee.\u0275\u0275inject(ce.D),ee.\u0275\u0275inject(ee.Injector),ee.\u0275\u0275inject(K.tw),ee.\u0275\u0275inject(ne.F0),ee.\u0275\u0275inject(Q.K0))},Re.\u0275prov=ee.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})()},4682:(R,c,e)=>{"use strict";e.d(c,{F:()=>o});var t=e(98678),n=e(45608),a=e(35841),i=e(53426),d=e(9237),r=e(14111),l=e(34216),p=e(21160),h=e(27303),m=e(48358),_=e(9249),v=e(53924);const y=["vcr"],O=["content"];function S(D,M){}const b=["*"];let o=(()=>{class D{constructor(C,T,g){this.resolver=C,this.cdr=T,this.themeService=g,this.compRef$=new a.X(void 0),this.inAndOutputNames=[]}ngOnChanges(C){(0,n.xI)(this.compRef)?this.initComponentInstance(C):this.inAndOutputNames.some(T=>(0,n.Uh)(C[T]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(C))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(C=>(0,n.Uh)(C)).forEach(C=>C.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(C){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(C)})}renderComponentInstance(C){(0,n.Uh)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,n.xI)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,i.a)([(0,d.of)(C),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,p.w)(T=>(0,n.Uh)(T)&&(0,n.Uh)(T[this.getComponentName()])?[T[this.getComponentName()]]:(0,r.D)(this.importUnthemedComponent()).pipe((0,h.b)(()=>this.usedTheme=v.B),(0,m.U)(g=>g[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([T,g])=>{this.destroyComponentInstance();const U=this.resolver.resolveComponentFactory(g);this.compRef=this.vcr.createComponent(U,void 0,void 0,[this.themedElementContent.nativeElement.childNodes]),(0,n.Uh)(T)?this.ngOnChanges(T):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,n.Uh)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,n.Uh)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,n.UE)(this.inAndOutputNames)&&(0,n.Uh)(this.compRef)&&(0,n.Uh)(this.compRef.instance)&&this.inAndOutputNames.filter(C=>void 0!==this[C]).forEach(C=>{this.compRef.instance[C]=this[C]})}resolveThemedComponent(C,T=[]){return(0,n.UE)(C)?(0,r.D)(this.importThemedComponent(C)).pipe((0,h.b)(()=>this.usedTheme=C),(0,_.K)(()=>{const g=this.themeService.getThemeConfigFor(C)?.extends,U=[...T,C];if(T.includes(g))throw new Error("Theme extension cycle detected: "+[...U,g].join(" -> "));return this.resolveThemedComponent(g,U)})):(0,d.of)(null)}}return D.\u0275fac=function(C){return new(C||D)(t.\u0275\u0275directiveInject(t.ComponentFactoryResolver),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(l.fY))},D.\u0275cmp=t.\u0275\u0275defineComponent({type:D,selectors:[["ds-themed"]],viewQuery:function(C,T){if(1&C&&(t.\u0275\u0275viewQuery(y,5,t.ViewContainerRef),t.\u0275\u0275viewQuery(O,5)),2&C){let g;t.\u0275\u0275queryRefresh(g=t.\u0275\u0275loadQuery())&&(T.vcr=g.first),t.\u0275\u0275queryRefresh(g=t.\u0275\u0275loadQuery())&&(T.themedElementContent=g.first)}},hostVars:1,hostBindings:function(C,T){2&C&&t.\u0275\u0275attribute("data-used-theme",T.usedTheme)},features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:b,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,T){1&C&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,S,0,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",null,1),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd())}}),D})()},90321:(R,c,e)=>{"use strict";e.d(c,{_:()=>d});var t=e(5453),n=e(65384),a=e(98678),i=e(96342);let d=(()=>{class r{constructor(p,h,m){this.objectUpdatesService=p,this.notificationsService=h,this.translateService=m,this.notificationsPrefix="static-pages.form.notification"}discard(){const p=this.notificationsService.info(this.getNotificationTitle("discarded"),this.getNotificationContent("discarded"),{timeOut:this.discardTimeOut});this.objectUpdatesService.discardFieldUpdates(this.url,p)}reinstate(){this.objectUpdatesService.reinstateFieldUpdates(this.url)}isReinstatable(){return this.objectUpdatesService.isReinstatable(this.url)}hasChanges(){return this.objectUpdatesService.hasUpdates(this.url)}getNotificationTitle(p){return this.translateService.instant(this.notificationsPrefix+p+".title")}getNotificationContent(p){return this.translateService.instant(this.notificationsPrefix+p+".content")}}return r.\u0275fac=function(p){return new(p||r)(a.\u0275\u0275directiveInject(t.d),a.\u0275\u0275directiveInject(n.T),a.\u0275\u0275directiveInject(i.sK))},r.\u0275cmp=a.\u0275\u0275defineComponent({type:r,selectors:[["ds-abstract-trackable"]],decls:0,vars:0,template:function(p,h){},encapsulation:2}),r})()},98413:(R,c,e)=>{"use strict";e.d(c,{n:()=>t});class t{handle(a){return a.interpolateParams&&a.interpolateParams.default||a.key}}},9121:(R,c,e)=>{"use strict";e.d(c,{L:()=>m});var t=e(56765),n=e(45608),a=e(98678),i=e(35103),d=e(20442),r=e(96342);const l=["content"];function p(_,v){if(1&_){const y=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",6),a.\u0275\u0275listener("actualClick",function(){a.\u0275\u0275restoreView(y);const S=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(S.toggle())}),a.\u0275\u0275element(1,"i",7),a.\u0275\u0275elementStart(2,"span",4),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd()()}2&_&&(a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,1,"item.truncatable-part.show-less")))}const h=["*"];let m=(()=>{class _{constructor(y){this.service=y,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(y=>{y?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const y=this.content.nativeElement;y.scrollHeight>y.offsetHeight?y.children.length>0?y.children[y.children.length-1].offsetHeight>y.offsetHeight?(y.classList.add("truncated"),y.classList.remove("removeFaded")):(y.classList.remove("truncated"),y.classList.add("removeFaded")):y.innerText.length>0?(y.classList.add("truncated"),y.classList.remove("removeFaded")):(y.classList.remove("truncated"),y.classList.add("removeFaded")):(y.classList.remove("truncated"),y.classList.add("removeFaded"))}}ngOnDestroy(){(0,n.Uh)(this.sub)&&this.sub.unsubscribe()}}return _.\u0275fac=function(y){return new(y||_)(a.\u0275\u0275directiveInject(t.F))},_.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["ds-truncatable-part"]],viewQuery:function(y,O){if(1&y&&a.\u0275\u0275viewQuery(l,7),2&y){let S;a.\u0275\u0275queryRefresh(S=a.\u0275\u0275loadQuery())&&(O.content=S.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},ngContentSelectors:h,decls:10,vars:11,consts:[[1,"content","dont-break-out","preserve-line-breaks"],["content",""],["dsDragClick","",1,"btn","btn-link","p-0","expandButton",3,"actualClick"],[1,"fas","fa-angle-down"],[1,"ml-1"],["class","btn btn-link p-0 collapseButton","dsDragClick","",3,"actualClick",4,"ngIf"],["dsDragClick","",1,"btn","btn-link","p-0","collapseButton",3,"actualClick"],[1,"fas","fa-angle-up"]],template:function(y,O){1&y&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275elementStart(0,"div")(1,"div",0,1),a.\u0275\u0275projection(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"button",2),a.\u0275\u0275listener("actualClick",function(){return O.toggle()}),a.\u0275\u0275element(5,"i",3),a.\u0275\u0275elementStart(6,"span",4),a.\u0275\u0275text(7),a.\u0275\u0275pipe(8,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(9,p,5,3,"button",5),a.\u0275\u0275elementEnd()),2&y&&(a.\u0275\u0275classMapInterpolate5("clamp-",O.background,"-",O.lines," min-",O.minLines," ",O.type," ",O.fixedHeight?"fixedHeight":"",""),a.\u0275\u0275advance(7),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(8,9,"item.truncatable-part.show-more")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",O.expand&&O.expandable))},dependencies:[i.O5,d.D,r.X$],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]}),_})()},64062:(R,c,e)=>{"use strict";e.d(c,{NX:()=>r,ni:()=>i,r0:()=>d,vx:()=>n});var t=e(49754);const n={TOGGLE:(0,t.d)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,t.d)("dspace/truncatable/COLLAPSE"),EXPAND:(0,t.d)("dspace/truncatable/EXPAND")};class a{constructor(p){this.id=p}}class i extends a{constructor(){super(...arguments),this.type=n.TOGGLE}}class d extends a{constructor(){super(...arguments),this.type=n.COLLAPSE}}class r extends a{constructor(){super(...arguments),this.type=n.EXPAND}}},38678:(R,c,e)=>{"use strict";e.d(c,{n:()=>i});var t=e(56765),n=e(98678);const a=["*"];let i=(()=>{class d{constructor(l,p){this.service=l,this.el=p,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const p=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let h=0;h<p.length-1;h++)p[h].classList.remove("truncated"),p[h].classList.add("notruncatable");p[p.length-1].classList.add("truncated")}}}return d.\u0275fac=function(l){return new(l||d)(n.\u0275\u0275directiveInject(t.F),n.\u0275\u0275directiveInject(n.ElementRef))},d.\u0275cmp=n.\u0275\u0275defineComponent({type:d,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},ngContentSelectors:a,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(l,p){1&l&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275listener("mouseenter",function(){return p.hoverExpand()})("mouseleave",function(){return p.hoverCollapse()}),n.\u0275\u0275projection(1),n.\u0275\u0275elementEnd())}}),d})()},56765:(R,c,e)=>{"use strict";e.d(c,{F:()=>l});var t=e(48358),n=e(89702),a=e(64062),i=e(45608),d=e(98678);const r=m=>m.truncatable;let l=(()=>{class m{constructor(v){this.store=v}isCollapsed(v){return this.store.pipe((0,n.Ys)(function p(m){return function h(m){return(0,n.P1)(r,_=>{if((0,i.Uh)(_))return _[m]})}(m)}(v)),(0,t.U)(y=>!!y&&y.collapsed))}toggle(v){this.store.dispatch(new a.ni(v))}collapse(v){this.store.dispatch(new a.r0(v))}expand(v){this.store.dispatch(new a.NX(v))}}return m.\u0275fac=function(v){return new(v||m)(d.\u0275\u0275inject(n.yh))},m.\u0275prov=d.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})()},7027:(R,c,e)=>{"use strict";e.d(c,{g:()=>a});var t=e(98678),n=e(35103);let a=(()=>{class i{constructor(r){this.platformID=r}transform(r){if((0,n.NF)(this.platformID))return r}}return i.\u0275fac=function(r){return new(r||i)(t.\u0275\u0275directiveInject(t.PLATFORM_ID,16))},i.\u0275pipe=t.\u0275\u0275definePipe({name:"dsBrowserOnly",type:i,pure:!0}),i})()},35392:(R,c,e)=>{"use strict";e.d(c,{_:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d){this._elementRef=d,this.dsClickOutside=new t.EventEmitter}onClick(){const d=this._elementRef.nativeElement;d.contains(d.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ElementRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsClickOutside",""]],hostBindings:function(d,r){1&d&&t.\u0275\u0275listener("click",function(){return r.onClick()},!1,t.\u0275\u0275resolveDocument)},outputs:{dsClickOutside:"dsClickOutside"}}),a})()},80632:(R,c,e)=>{"use strict";e.d(c,{q:()=>l});var t=e(35879),n=e(3358),a=e(49887),i=e(98678),d=e(1828),r=e(5476);let l=(()=>{class p{constructor(m){this.model=m,this.onDebounce=new i.EventEmitter,this.dsDebounce=500,this.subject=new d.x}ngOnInit(){this.model.valueChanges.pipe((0,t.R)(this.subject),(0,n.b)(this.dsDebounce),(0,a.x)()).subscribe(m=>{this.model.dirty&&this.onDebounce.emit(m)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}}return p.\u0275fac=function(m){return new(m||p)(i.\u0275\u0275directiveInject(r.a5))},p.\u0275dir=i.\u0275\u0275defineDirective({type:p,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"}}),p})()},20442:(R,c,e)=>{"use strict";e.d(c,{D:()=>n});var t=e(98678);let n=(()=>{class a{constructor(){this.actualClick=new t.EventEmitter}mousedownEvent(d){this.start=new Date}mouseupEvent(d){new Date-this.start<250&&this.actualClick.emit(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","dsDragClick",""]],hostBindings:function(d,r){1&d&&t.\u0275\u0275listener("mousedown",function(p){return r.mousedownEvent(p)})("mouseup",function(p){return r.mouseupEvent(p)})},outputs:{actualClick:"actualClick"}}),a})()},84694:(R,c,e)=>{"use strict";e.d(c,{R:()=>n});var t=e(98678);let n=(()=>{class a{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(d,r){const l=this.escapeRegExp(r),p=new RegExp(l,"gi");return d.replace(p,"<em>$&</em>")}escapeRegExp(d){return d.replace(this.regex,"\\$&")}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275pipe=t.\u0275\u0275definePipe({name:"dsEmphasize",type:a,pure:!0}),a})()},82410:(R,c,e)=>{"use strict";e.d(c,{Q:()=>n});var t=e(98678);let n=(()=>{class a{transform(d){const r=[];for(const l in d)isNaN(parseInt(l,10))?r.push({key:l,value:d[l]}):r.push({key:+l,value:d[l]});return r}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275pipe=t.\u0275\u0275definePipe({name:"dsKeys",type:a,pure:!0}),a})()},69721:(R,c,e)=>{"use strict";e.d(c,{p:()=>i});var t=e(25336),a=e(98678);let i=(()=>{class d{transform(l=0,p=2){return t(l,{standard:"jedec",round:p})}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275pipe=a.\u0275\u0275definePipe({name:"dsFileSize",type:d,pure:!0}),d})()},42921:(R,c,e)=>{"use strict";e.d(c,{k:()=>a});var t=e(5476),n=e(98678);let a=(()=>{class i{constructor(){this.onChange=r=>{},this.onTouched=()=>{}}writeValue(r){}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["input","type","file"]],hostBindings:function(r,l){1&r&&n.\u0275\u0275listener("change",function(h){return l.onChange(h.target.files)})("blur",function(){return l.onTouched()})},features:[n.\u0275\u0275ProvidersFeature([{provide:t.JU,useExisting:i,multi:!0}])]}),i})()},46533:(R,c,e)=>{"use strict";e.d(c,{l:()=>i});var t=e(45608),n=e(6144);const i=(d,{findListOptions:r,shouldEmbed:l,useCachedVersionIfAvailable:p,reRequestOnStale:h,isOptional:m}={},..._)=>({name:d,findListOptions:(0,t.Uh)(r)?r:new n.R,shouldEmbed:!(0,t.Uh)(l)||l,useCachedVersionIfAvailable:!(0,t.Uh)(p)||p,reRequestOnStale:!(0,t.Uh)(h)||h,isOptional:!!(0,t.Uh)(m)&&m,linksToFollow:_})},2571:(R,c,e)=>{"use strict";e.d(c,{N:()=>_});var t=e(44423),n=e(98678),a=e(76774),i=e(91823);const r=new n.InjectionToken("Lazily loaded MarkdownIt",{providedIn:"root",factory:function(){var v=(0,t.Z)(function*(){return(yield e.e(1405).then(e.t.bind(e,61405,23))).default});return function(){return v.apply(this,arguments)}}()}),p=new n.InjectionToken("Lazily loaded mathjax",{providedIn:"root",factory:function(){var v=(0,t.Z)(function*(){return(yield Promise.all([e.e(8592),e.e(4842)]).then(e.t.bind(e,84842,23))).default});return function(){return v.apply(this,arguments)}}()}),m=new n.InjectionToken("Lazily loaded sanitize-html",{providedIn:"root",factory:function(){var v=(0,t.Z)(function*(){return(yield Promise.all([e.e(8592),e.e(8415)]).then(e.t.bind(e,48415,23))).default});return function(){return v.apply(this,arguments)}}()});let _=(()=>{class v{constructor(O,S,b,o){this.sanitizer=O,this.markdownIt=S,this.mathjax=b,this.sanitizeHtml=o}transform(O){var S=this;return(0,t.Z)(function*(){if(!a.N.markdown.enabled)return O;const o=new(yield S.markdownIt)({html:!0,linkify:!0});let D;if(a.N.markdown.mathjax){o.use(yield S.mathjax);const M=yield S.sanitizeHtml;D=M(o.render(O),{allowedTags:[...M.defaults.allowedTags,"mjx-container","svg","g","path","rect","text","mjx-assistive-mml","math","mrow","mi"],allowedAttributes:{...M.defaults.allowedAttributes,"mjx-container":["class","style","jax"],svg:["xmlns","viewBox","style","width","height","role","focusable","alt","aria-label"],g:["data-mml-node","style","stroke","fill","stroke-width","transform"],path:["d","style","transform"],rect:["width","height","x","y","transform","style"],text:["transform","font-size"],"mjx-assistive-mml":["unselectable","display","style"],math:["xmlns"],mrow:["data-mjx-texclass"]},parser:{lowerCaseAttributeNames:!1}})}else D=S.sanitizer.sanitize(n.SecurityContext.HTML,o.render(O));return S.sanitizer.bypassSecurityTrustHtml(D)})()}}return v.\u0275fac=function(O){return new(O||v)(n.\u0275\u0275directiveInject(i.H7,16),n.\u0275\u0275directiveInject(r,16),n.\u0275\u0275directiveInject(p,16),n.\u0275\u0275directiveInject(m,16))},v.\u0275pipe=n.\u0275\u0275definePipe({name:"dsMarkdown",type:v,pure:!0}),v})()},44934:(R,c,e)=>{"use strict";e.d(c,{w:()=>n});var t=e(98678);let n=(()=>{class a{transform(d){const r=[];return Object.keys(d).forEach(l=>r.push(l)),r}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275pipe=t.\u0275\u0275definePipe({name:"dsObjectKeys",type:a,pure:!0}),a})()},42139:(R,c,e)=>{"use strict";function t(n){return n<400?"thumb-font-0":n<750?"thumb-font-1":n<1e3?"thumb-font-2":"thumb-font-3"}e.d(c,{X:()=>t})},60803:(R,c,e)=>{"use strict";e.d(c,{C:()=>n});var t=e(98678);let n=(()=>{class a{transform(d,r=null){return Object.keys(d).map(l=>Object.assign({key:l},{value:d[l]}))}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275pipe=t.\u0275\u0275definePipe({name:"dsObjNgFor",type:a,pure:!0}),a})()},68203:(R,c,e)=>{"use strict";e.d(c,{g:()=>a});var t=e(45608),n=e(98678);let a=(()=>{class i{transform(r){const l=[];return(0,t.UE)(r)&&Object.values(r).forEach(p=>l.push(p)),l}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=n.\u0275\u0275definePipe({name:"dsObjectValues",type:i,pure:!0}),i})()},87899:(R,c,e)=>{"use strict";e.d(c,{IX:()=>i,ae:()=>a});var t=e(46533);function a(d,r){return`f.${d}=${r},equals`}function i(d){let r;return r=d?[(0,t.l)("leftItem",{},(0,t.l)("thumbnail")),(0,t.l)("rightItem",{},(0,t.l)("thumbnail"))]:[(0,t.l)("leftItem"),(0,t.l)("rightItem")],r}},64377:(R,c,e)=>{"use strict";e.d(c,{C:()=>a});var t=e(5476),n=e(98678);let a=(()=>{class i{static validate(r){return null==r.value||0===r.value.length?{required:!0}:null}validate(r){return i.validate(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["","requireFile",""]],features:[n.\u0275\u0275ProvidersFeature([{provide:t.Cf,useExisting:i,multi:!0}])]}),i})()},26176:(R,c,e)=>{"use strict";e.d(c,{T:()=>a,i:()=>i});var t=e(45608),n=e(65521);function a(d){return"/"+d.parseUrl(d.url).root.children.primary.segments.map(l=>l.path).join("/")}function i(d){if((0,t.Uh)(d.parent)){const r=i(d.parent);return new n.R(r,d.routeConfig.path).toString()}return d.routeConfig?d.routeConfig.path:""}},66381:(R,c,e)=>{"use strict";e.d(c,{Q:()=>a});var t=e(98678),n=e(91823);let a=(()=>{class i{constructor(r){this.domSanitizer=r}transform(r){return this.domSanitizer.bypassSecurityTrustResourceUrl(r)}}return i.\u0275fac=function(r){return new(r||i)(t.\u0275\u0275directiveInject(n.H7,16))},i.\u0275pipe=t.\u0275\u0275definePipe({name:"dsSafeUrl",type:i,pure:!0}),i})()},20124:(R,c,e)=>{"use strict";e.d(c,{H:()=>a});var t=e(45608),n=e(98678);let a=(()=>{class i{transform(r,l){if(isNaN(r)||(0,t.xb)(r)||0===r)return r;let p=Math.abs(r);const h=Math.pow(10,1),m=r<0;let _="";const v=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let y=0;y<v.length;y++){let O=p/v[y].value;if(O=Math.round(O*h)/h,O>=1){p=O,_=v[y].key;break}}return(m?"-":"")+p+_}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=n.\u0275\u0275definePipe({name:"dsShortNumber",type:i,pure:!0}),i})()},21322:(R,c,e)=>{"use strict";e.d(c,{W:()=>a});var t=e(45608),n=e(98678);let a=(()=>{class i{transform(r,l){if((0,t.Uh)(r)){const p=l&&l.length>0?parseInt(l[0],10):10;return r.length>p?r.substring(0,p)+"...":r}return r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=n.\u0275\u0275definePipe({name:"dsTruncate",type:i,pure:!0}),i})()},41966:(R,c,e)=>{"use strict";e.d(c,{g:()=>n});var t=e(98678);let n=(()=>{class a{constructor(d,r){this.vcRef=d,this.templateRef=r,this.context={}}set ngVar(d){this.context.$implicit=this.context.ngVar=d,this.updateView()}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}}return a.\u0275fac=function(d){return new(d||a)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef))},a.\u0275dir=t.\u0275\u0275defineDirective({type:a,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"}}),a})()},20189:(R,c,e)=>{"use strict";e.d(c,{$:()=>o});var t=e(98678),n=e(57066),a=e(41529),i=e(45608),d=e(26176),r=e(77007),l=e(67522),p=e(35103),h=e(96342),m=e(7027);const _=function(){return{view:"list"}};function v(D,M){if(1&D){const C=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",2),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(C);const g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.switchViewTo(g.viewModeEnum.ListElement))}),t.\u0275\u0275pipe(1,"dsBrowserOnly"),t.\u0275\u0275element(2,"span",3),t.\u0275\u0275elementStart(3,"span",4),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}if(2&D){const C=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",C.currentMode===C.viewModeEnum.ListElement),t.\u0275\u0275property("queryParams",t.\u0275\u0275pureFunction0(9,_)),t.\u0275\u0275attribute("data-test",t.\u0275\u0275pipeBind1(1,5,"list-view")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"search.view-switch.show-list"))}}const y=function(){return{view:"grid"}};function O(D,M){if(1&D){const C=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",2),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(C);const g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.switchViewTo(g.viewModeEnum.GridElement))}),t.\u0275\u0275pipe(1,"dsBrowserOnly"),t.\u0275\u0275element(2,"span",5),t.\u0275\u0275elementStart(3,"span",4),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}if(2&D){const C=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",C.currentMode===C.viewModeEnum.GridElement),t.\u0275\u0275property("queryParams",t.\u0275\u0275pureFunction0(9,y)),t.\u0275\u0275attribute("data-test",t.\u0275\u0275pipeBind1(1,5,"grid-view")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"search.view-switch.show-grid"))}}const S=function(){return{view:"detailed"}};function b(D,M){if(1&D){const C=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",2),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(C);const g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.switchViewTo(g.viewModeEnum.DetailedListElement))}),t.\u0275\u0275pipe(1,"dsBrowserOnly"),t.\u0275\u0275element(2,"span",6),t.\u0275\u0275elementStart(3,"span",4),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}if(2&D){const C=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",C.currentMode===C.viewModeEnum.DetailedListElement),t.\u0275\u0275property("queryParams",t.\u0275\u0275pureFunction0(9,S)),t.\u0275\u0275attribute("data-test",t.\u0275\u0275pipeBind1(1,5,"detail-view")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"search.view-switch.show-detail"))}}let o=(()=>{class D{constructor(C,T){this.searchService=C,this.router=T,this.currentMode=a.w.ListElement,this.viewModeEnum=a.w,this.changeViewMode=new t.EventEmitter}ngOnInit(){(0,i.xb)(this.viewModeList)&&(this.viewModeList=[a.w.ListElement,a.w.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,r.h)(C=>(0,i.UE)(C))).subscribe(C=>{this.currentMode=C})}switchViewTo(C){C!==this.currentMode&&this.changeViewMode.emit(C),this.searchService.setViewMode(C,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(C){return this.viewModeList&&this.viewModeList.includes(C)}getSearchLink(){return this.inPlaceSearch?(0,d.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}}return D.\u0275fac=function(C){return new(C||D)(t.\u0275\u0275directiveInject(n.o),t.\u0275\u0275directiveInject(l.F0))},D.\u0275cmp=t.\u0275\u0275defineComponent({type:D,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active",1,"btn","btn-secondary",3,"queryParams","click"],[1,"fas","fa-list"],[1,"sr-only"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(C,T){1&C&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,v,6,10,"button",1),t.\u0275\u0275template(2,O,6,10,"button",1),t.\u0275\u0275template(3,b,6,10,"button",1),t.\u0275\u0275elementEnd()),2&C&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",T.isToShow(T.viewModeEnum.ListElement)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",T.isToShow(T.viewModeEnum.GridElement)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",T.isToShow(T.viewModeEnum.DetailedListElement)))},dependencies:[p.O5,l.rH,l.Od,h.X$,m.g]}),D})()},90016:(R,c,e)=>{"use strict";e.d(c,{T:()=>v});var t=e(6952),n=e(48358),a=e(77176),i=e(96526),d=e(27153);class r extends i.xo{getResponseParser(){return d.o}}var l=e(45608),p=e(18005),h=e(98678);let m=(()=>{class y{constructor(S,b){this.requestService=S,this.halService=b}sendEvent(S,b){const o=this.requestService.generateRequestId();this.halService.getEndpoint(S).pipe((0,n.U)(D=>new r(o,D,JSON.stringify(b))),(0,a.q)(1)).subscribe(D=>this.requestService.send(D))}trackViewEvent(S,b){this.sendEvent("/statistics/viewevents",{targetId:S.uuid,targetType:S.type,referrer:b})}trackSearchEvent(S,b,o,D,M){const C={query:S.query,page:{size:b.size,totalElements:b.totalElements,totalPages:b.totalPages,number:b.number},sort:{by:o.by,order:o.order.toLowerCase()}};if((0,l.Uh)(S.configuration)&&Object.assign(C,{configuration:S.configuration}),(0,l.UE)(S.dsoTypes)&&Object.assign(C,{dsoType:S.dsoTypes[0].toLowerCase()}),(0,l.Uh)(S.scope)&&Object.assign(C,{scope:S.scope}),(0,l.UE)(D)){const T=[];for(let g=0,U=D.length;g<U;g++){const L=D[g];T.push({filter:L.filter,operator:L.operator,value:L.value,label:L.label})}Object.assign(C,{appliedFilters:T})}(0,l.Uh)(M)&&Object.assign(C,{clickedObject:M}),this.sendEvent("/statistics/searchevents",C)}}return y.\u0275fac=function(S){return new(S||y)(h.\u0275\u0275inject(t.s),h.\u0275\u0275inject(p.q))},y.\u0275prov=h.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var _=e(37315);let v=(()=>{class y{constructor(S,b){this.angulartics2=S,this.statisticsService=b}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(S=>this.eventTrack(S))}eventTrack(S){"page_view"===S.action?this.statisticsService.trackViewEvent(S.properties.object,S.properties.referrer):"search"===S.action&&this.statisticsService.trackSearchEvent(S.properties.searchOptions,S.properties.page,S.properties.sort,S.properties.filters,S.properties.clickedObject)}}return y.\u0275fac=function(S){return new(S||y)(h.\u0275\u0275inject(_.b),h.\u0275\u0275inject(m))},y.\u0275prov=h.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},20357:(R,c,e)=>{"use strict";e.d(c,{p:()=>O});var t=e(35103),n=e(59058),a=e(57999),i=e(70655),d=e(65804),r=e(3798),l=e(38666),p=e(26523);const h=new p._("statistics");var m;let _=((m=class{}).type=h,m);(0,i.__decorate)([r.OJ,l.autoserialize,(0,i.__metadata)("design:type",p._)],_.prototype,"type",void 0),(0,i.__decorate)([l.deserialize,(0,i.__metadata)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.__decorate)([d.KB],_);var v=e(98678);let O=(()=>{class S{static forRoot(){return{ngModule:S}}}return S.\u0275fac=function(o){return new(o||S)},S.\u0275mod=v.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=v.\u0275\u0275defineInjector({imports:[t.ez,n.IR.forRoot(),a.m]}),S})()},40383:(R,c,e)=>{"use strict";e.d(c,{H:()=>n,S:()=>a});var t=e(49754);const n={REHYDRATE:(0,t.d)("dspace/ngrx/REHYDRATE"),REPLAY:(0,t.d)("dspace/ngrx/REPLAY")};class a{constructor(d,r){this.type=d,this.payload=r}}},32924:(R,c,e)=>{"use strict";e.d(c,{AZ:()=>j,EL:()=>ie,GM:()=>oe,Nq:()=>U,QC:()=>m,QV:()=>C,Qe:()=>L,Uq:()=>D,Xq:()=>y,YU:()=>q,ZG:()=>O,_w:()=>ce,cT:()=>g,e7:()=>re,ec:()=>M,gA:()=>S,gn:()=>r,gv:()=>o,hM:()=>T,hx:()=>K,jQ:()=>h,jn:()=>W,kj:()=>ne,l5:()=>Q,oq:()=>w,p3:()=>v,qK:()=>d,re:()=>_,s0:()=>l,sd:()=>$,tI:()=>n,uO:()=>a,wn:()=>z,z6:()=>p});var t=e(49754);const n={INIT_SUBMISSION_FORM:(0,t.d)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,t.d)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,t.d)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,t.d)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,t.d)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,t.d)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,t.d)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,t.d)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,t.d)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,t.d)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,t.d)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,t.d)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,t.d)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,t.d)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,t.d)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,t.d)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,t.d)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,t.d)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,t.d)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,t.d)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,t.d)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,t.d)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,t.d)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,t.d)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,t.d)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,t.d)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,t.d)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,t.d)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,t.d)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,t.d)("dspace/submission/DISCARD_SUBMISSION_ERROR"),NEW_FILE:(0,t.d)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,t.d)("dspace/submission/EDIT_FILE_DATA"),DELETE_FILE:(0,t.d)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,t.d)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,t.d)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,t.d)("dspace/submission/REMOVE_SECTION_ERRORS")};class a{constructor(J,Ee,Oe){this.type=n.ADD_SECTION_ERROR,this.payload={submissionId:J,sectionId:Ee,error:Oe}}}class d{constructor(J,Ee,Oe,Re,ve,Pe,et,Ze,tt,yt){this.type=n.INIT_SECTION,this.payload={submissionId:J,sectionId:Ee,header:Oe,config:Re,mandatory:ve,sectionType:Pe,visibility:et,enabled:Ze,data:tt,errors:yt}}}class r{constructor(J,Ee){this.type=n.ENABLE_SECTION,this.payload={submissionId:J,sectionId:Ee}}}class l{constructor(J,Ee){this.type=n.DISABLE_SECTION,this.payload={submissionId:J,sectionId:Ee}}}class p{constructor(J,Ee,Oe,Re,ve,Pe){this.type=n.UPDATE_SECTION_DATA,this.payload={submissionId:J,sectionId:Ee,data:Oe,errorsToShow:Re,serverValidationErrors:ve,metadata:Pe}}}class h{constructor(){this.type=n.UPDATE_SECTION_DATA_SUCCESS}}class m{constructor(J,Ee){this.type=n.REMOVE_SECTION_ERRORS,this.payload={submissionId:J,sectionId:Ee}}}class _{constructor(J,Ee,Oe){this.type=n.SET_SECTION_FORM_ID,this.payload={submissionId:J,sectionId:Ee,formId:Oe}}}class v{constructor(J){this.type=n.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:J}}}class y{constructor(J,Ee,Oe,Re,ve,Pe,et){this.type=n.INIT_SUBMISSION_FORM,this.payload={collectionId:J,submissionId:Ee,selfUrl:Oe,submissionDefinition:Re,sections:ve,item:Pe,errors:et}}}class O{constructor(J){this.type=n.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:J}}}class S{constructor(J,Ee){this.type=n.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:J,submissionObject:Ee}}}class o{constructor(J,Ee=!1){this.type=n.SAVE_SUBMISSION_FORM,this.payload={submissionId:J,isManual:Ee}}}class D{constructor(J,Ee,Oe,Re){this.type=n.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:J,submissionObject:Ee,showNotifications:Oe,showErrors:Re}}}class M{constructor(J){this.type=n.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:J}}}class C{constructor(J,Ee){this.type=n.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:J,sectionId:Ee}}}class T{constructor(J,Ee,Oe){this.type=n.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:J,submissionObject:Ee,notify:Oe}}}class g{constructor(J){this.type=n.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:J}}}class U{constructor(J,Ee,Oe,Re,ve,Pe){this.type=n.RESET_SUBMISSION_FORM,this.payload={collectionId:J,submissionId:Ee,selfUrl:Oe,sections:Re,submissionDefinition:ve,item:Pe}}}class L{constructor(){this.type=n.CANCEL_SUBMISSION_FORM}}class j{constructor(J,Ee){this.type=n.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:J,collectionId:Ee}}}class ${constructor(J){this.type=n.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:J}}}class z{constructor(J){this.type=n.DEPOSIT_SUBMISSION,this.payload={submissionId:J}}}class re{constructor(J){this.type=n.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:J}}}class W{constructor(J){this.type=n.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:J}}}class ie{constructor(J){this.type=n.DISCARD_SUBMISSION,this.payload={submissionId:J}}}class ce{constructor(J){this.type=n.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:J}}}class ne{constructor(J){this.type=n.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:J}}}class K{constructor(J,Ee,Oe){this.type=n.SECTION_STATUS_CHANGE,this.payload={submissionId:J,sectionId:Ee,status:Oe}}}class w{constructor(J,Ee){this.type=n.SET_ACTIVE_SECTION,this.payload={submissionId:J,sectionId:Ee}}}class Q{constructor(J,Ee,Oe,Re){this.type=n.NEW_FILE,this.payload={submissionId:J,sectionId:Ee,fileId:Oe,data:Re}}}class oe{constructor(J,Ee,Oe,Re){this.type=n.EDIT_FILE_DATA,this.payload={submissionId:J,sectionId:Ee,fileId:Oe,data:Re}}}class q{constructor(J,Ee,Oe){this.type=n.DELETE_FILE,this.payload={submissionId:J,sectionId:Ee,fileId:Oe}}}},99043:(R,c,e)=>{"use strict";e.d(c,{x:()=>t});var t=(()=>{return(n=t||(t={})).HIDDEN="HIDDEN",n.READONLY="READONLY",t;var n})()},86769:(R,c,e)=>{"use strict";e.d(c,{G:()=>h,GY:()=>i,Mb:()=>v,ak:()=>r,fh:()=>y,gd:()=>m,y5:()=>_,y8:()=>p});var t=e(89702),n=e(45608),a=e(66723);function i(O,S,b){return(0,t.P1)(O,o=>{if((0,n.Uh)(o)&&(0,n.Uh)(o[S]))return o[S][b]})}function d(O,S){return(0,t.P1)(O,b=>{if((0,n.Uh)(b)&&(0,n.Uh)(b[S]))return b[S]})}function r(O){return i(a.w,"objects",O)}function p(O,S){return d(_(O,S),"files")}function h(O,S,b){return i(_(O,S),"files",b)}function m(O,S){return i(r(O),"sections",S)}function _(O,S){return d(m(O,S),"data")}function v(O,S){return d(m(O,S),"errorsToShow")}function y(O,S){return d(m(O,S),"serverValidationErrors")}},66723:(R,c,e)=>{"use strict";e.d(c,{L:()=>Q,w:()=>oe});var t=e(89702),n=e(45608),a=e(60809),i=e.n(a),d=e(34045),r=e.n(d),l=e(94667),p=e.n(l),h=e(82415),m=e.n(h),_=e(32924);const v=Object.create({});function W(q,ee){return q||(ee?[...ee]:void 0)}function ie(q,ee,J){return(0,n.Uh)(q[ee.payload.submissionId].sections[ee.payload.sectionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{enabled:J})})})}):q}const Q={objects:function y(q=v,ee){switch(ee.type){case _.tI.COMPLETE_INIT_SUBMISSION_FORM:return function M(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{isLoading:!1})}):q}(q,ee);case _.tI.INIT_SUBMISSION_FORM:return function o(q,ee){const J=Object.assign({},q);return J[ee.payload.submissionId]={collection:ee.payload.collectionId,definition:ee.payload.submissionDefinition.name,selfUrl:ee.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},J}(q,ee);case _.tI.RESET_SUBMISSION_FORM:return function D(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):q}(q,ee);case _.tI.CANCEL_SUBMISSION_FORM:return v;case _.tI.SAVE_SUBMISSION_FORM:case _.tI.SAVE_FOR_LATER_SUBMISSION_FORM:case _.tI.SAVE_AND_DEPOSIT_SUBMISSION:case _.tI.SAVE_SUBMISSION_SECTION_FORM:return function C(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{activeSection:q[ee.payload.submissionId].activeSection,sections:q[ee.payload.submissionId].sections,isLoading:q[ee.payload.submissionId].isLoading,savePending:!0})}):q}(q,ee);case _.tI.SAVE_SUBMISSION_FORM_SUCCESS:case _.tI.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case _.tI.SAVE_SUBMISSION_FORM_ERROR:case _.tI.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case _.tI.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function T(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{savePending:!1})}):q}(q,ee);case _.tI.CHANGE_SUBMISSION_COLLECTION:return function L(q,ee){return Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{collection:ee.payload.collectionId})})}(q,ee);case _.tI.DEPOSIT_SUBMISSION:return function g(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{savePending:!1,depositPending:!0})}):q}(q,ee);case _.tI.DEPOSIT_SUBMISSION_SUCCESS:return v;case _.tI.DEPOSIT_SUBMISSION_ERROR:return function U(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{depositPending:!1})}):q}(q,ee);case _.tI.DISCARD_SUBMISSION:return q;case _.tI.DISCARD_SUBMISSION_SUCCESS:return v;case _.tI.DISCARD_SUBMISSION_ERROR:return q;case _.tI.SET_ACTIVE_SECTION:return function j(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{activeSection:ee.payload.sectionId,sections:q[ee.payload.submissionId].sections,isLoading:q[ee.payload.submissionId].isLoading,savePending:q[ee.payload.submissionId].savePending})}):q}(q,ee);case _.tI.INIT_SECTION:return function $(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:{header:ee.payload.header,config:ee.payload.config,mandatory:ee.payload.mandatory,sectionType:ee.payload.sectionType,visibility:ee.payload.visibility,collapsed:!1,enabled:ee.payload.enabled,data:ee.payload.data,errorsToShow:[],serverValidationErrors:ee.payload.errors||[],isLoading:!1,isValid:(0,n.xb)(ee.payload.errors)}})})}):q}(q,ee);case _.tI.SET_SECTION_FORM_ID:return function z(q,ee){return(0,n.Uh)(q[ee.payload.submissionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:{...q[ee.payload.submissionId].sections[ee.payload.sectionId],formId:ee.payload.formId}})})}):q}(q,ee);case _.tI.ENABLE_SECTION:return ie(q,ee,!0);case _.tI.UPDATE_SECTION_DATA:return function re(q,ee){return(0,n.UE)(q[ee.payload.submissionId])&&(0,n.UE)(q[ee.payload.submissionId].sections[ee.payload.sectionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{enabled:!0,data:ee.payload.data,errorsToShow:ee.payload.errorsToShow,serverValidationErrors:ee.payload.serverValidationErrors,metadata:W(ee.payload.metadata,q[ee.payload.submissionId].sections[ee.payload.sectionId].metadata)})})})}):q}(q,ee);case _.tI.DISABLE_SECTION:return ie(q,ee,!1);case _.tI.SECTION_STATUS_CHANGE:return function ce(q,ee){return(0,n.UE)(q[ee.payload.submissionId])&&(0,n.Uh)(q[ee.payload.submissionId].sections[ee.payload.sectionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,Object.assign({},{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{isValid:ee.payload.status})}))})}):q}(q,ee);case _.tI.NEW_FILE:return function ne(q,ee){const J=q[ee.payload.submissionId].sections[ee.payload.sectionId].data;let Ee;return(0,n.o8)(J.files)?Ee={files:[ee.payload.data]}:(Ee=J,Ee.files.push(ee.payload.data)),Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{enabled:!0,data:Ee})})})})}(q,ee);case _.tI.EDIT_FILE_DATA:return function K(q,ee){const J=q[ee.payload.submissionId].sections[ee.payload.sectionId].data;if((0,n.Uh)(J.files)){const Ee=r()(J.files,{uuid:ee.payload.fileId});if((0,n.K0)(Ee)){const Oe=Array.from(J.files);return Oe[Ee]=ee.payload.data,Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{activeSection:q[ee.payload.submissionId].activeSection,sections:Object.assign({},q[ee.payload.submissionId].sections,Object.assign({},{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{data:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId].data,{files:Oe})})})),isLoading:q[ee.payload.submissionId].isLoading,savePending:q[ee.payload.submissionId].savePending})})}}return q}(q,ee);case _.tI.DELETE_FILE:return function w(q,ee){const J=q[ee.payload.submissionId].sections[ee.payload.sectionId].data;if((0,n.Uh)(J.files)){const Ee=r()(J.files,{uuid:ee.payload.fileId});if((0,n.K0)(Ee)){const Oe=Array.from(J.files);return Oe.splice(Ee,1),Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,Object.assign({},{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{data:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId].data,{files:Oe})})}))})})}}return q}(q,ee);case _.tI.ADD_SECTION_ERROR:return((q,ee)=>{const{submissionId:J,sectionId:Ee,error:Oe}=ee.payload;if((0,n.Uh)(q[J].sections[Ee])){const Re=m()(q[J].sections[Ee].errorsToShow.concat(Oe),p());return Object.assign({},q,{[J]:Object.assign({},q[J],{activeSection:q[ee.payload.submissionId].activeSection,sections:Object.assign({},q[J].sections,{[Ee]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{errorsToShow:Re})})})})}return q})(q,ee);case _.tI.DELETE_SECTION_ERROR:return((q,ee)=>{const{submissionId:J,sectionId:Ee,errors:Oe}=ee.payload;if((0,n.Uh)(q[J].sections[Ee])){let Re;return Re=Array.isArray(Oe)?i()(Oe,Oe,p()):q[J].sections[Ee].errorsToShow.filter(ve=>ve.path!==Oe.path||!p()(ve,Oe)),Object.assign({},q,{[J]:Object.assign({},q[J],{sections:Object.assign({},q[J].sections,{[Ee]:Object.assign({},q[J].sections[Ee],{errorsToShow:Re})})})})}return q})(q,ee);case _.tI.REMOVE_SECTION_ERRORS:return function b(q,ee){return(0,n.UE)(q[ee.payload.submissionId])&&(0,n.UE)(q[ee.payload.submissionId].sections[ee.payload.sectionId])?Object.assign({},q,{[ee.payload.submissionId]:Object.assign({},q[ee.payload.submissionId],{sections:Object.assign({},q[ee.payload.submissionId].sections,{[ee.payload.sectionId]:Object.assign({},q[ee.payload.submissionId].sections[ee.payload.sectionId],{errorsToShow:[]})})})}):q}(q,ee);default:return q}}},oe=(0,t.ZF)("submission")},1579:(R,c,e)=>{"use strict";e.d(c,{b:()=>ie});var t=e(78964),n=e(9237),a=e(26729),i=e(48358),d=e(9249),r=e(66154),l=e(77007),p=e(9302),h=e(49887),m=e(77176),_=e(27303),v=e(27193),y=e(66723),O=e(45608),S=e(32924),b=e(86769),o=e(53597),D=e(94056),M=e(74997),C=e(65384),T=e(41121),g=e(6952),U=e(57066),L=e(76774),j=e(11915),$=e(98678),z=e(67522),re=e(89702),W=e(96342);let ie=(()=>{class ce{constructor(K,w,Q,oe,q,ee,J,Ee,Oe){this.notificationsService=K,this.restService=w,this.router=Q,this.routeService=oe,this.store=q,this.translate=ee,this.searchService=J,this.requestService=Ee,this.jsonPatchOperationService=Oe,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(K,w){this.store.dispatch(new S.AZ(K,w))}createSubmission(K){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,K).pipe((0,i.U)(w=>w[0]),(0,d.K)(()=>(0,n.of)({})))}createSubmissionFromExternalSource(K,w){const Q=Object.create({});let oe=new t.WM;return oe=oe.append("Content-Type","text/uri-list"),Q.headers=oe,this.restService.postToEndpoint(this.workspaceLinkPath,K,null,Q,w)}depositSubmission(K){const w=Object.create({});let Q=new t.WM;return Q=Q.append("Content-Type","text/uri-list"),w.headers=Q,this.restService.postToEndpoint(this.workflowLinkPath,K,null,w)}discardSubmission(K){return this.restService.deleteById(K)}dispatchInit(K,w,Q,oe,q,ee,J){this.store.dispatch(new S.Xq(K,w,Q,oe,q,ee,J))}dispatchDeposit(K){this.store.dispatch(new S.sd(K))}dispatchDiscard(K){this.store.dispatch(new S.EL(K))}dispatchSave(K,w){this.getSubmissionSaveProcessingStatus(K).pipe((0,r.s)(Q=>!Q)).subscribe(()=>{this.store.dispatch(new S.gv(K,w))})}dispatchSaveForLater(K){this.store.dispatch(new S.ZG(K))}dispatchSaveSection(K,w){this.store.dispatch(new S.QV(K,w))}getActiveSectionId(K){return this.getSubmissionObject(K).pipe((0,i.U)(w=>w.activeSection))}getSubmissionObject(K){return this.store.select((0,b.ak)(K)).pipe((0,l.h)(w=>(0,O.pT)(w)))}getSubmissionSections(K){return this.getSubmissionObject(K).pipe((0,r.s)(w=>(0,O.pT)(w.sections)&&!w.isLoading),(0,i.U)(w=>w.sections),(0,i.U)(w=>{const Q=[];return Object.keys(w).filter(oe=>!this.isSectionHidden(w[oe])).forEach(oe=>{const q=Object.create({});q.config=w[oe].config,q.mandatory=w[oe].mandatory,q.data=w[oe].data,q.errorsToShow=w[oe].errorsToShow,q.serverValidationErrors=w[oe].serverValidationErrors,q.header=w[oe].header,q.id=oe,q.sectionType=w[oe].sectionType,Q.push(q)}),Q}),(0,p.O)([]),(0,h.x)())}getDisabledSectionsList(K){return this.getSubmissionObject(K).pipe((0,l.h)(w=>(0,O.pT)(w.sections)&&!w.isLoading),(0,i.U)(w=>w.sections),(0,i.U)(w=>{const Q=[];return Object.keys(w).filter(oe=>!this.isSectionHidden(w[oe])).filter(oe=>!w[oe].enabled).forEach(oe=>{const q=Object.create({});q.header=w[oe].header,q.id=oe,Q.push(q)}),Q}),(0,p.O)([]),(0,h.x)())}getSubmissionObjectLinkName(){const K=this.router.routerState.snapshot.url;return K.startsWith("/workspaceitems")||K.startsWith("/submit")?this.workspaceLinkPath:K.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let K;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:K=D.S.WorkspaceItem;break;case this.workflowLinkPath:K=D.S.WorkflowItem}return K}getSubmissionStatus(K){return this.store.select(y.w).pipe((0,i.U)(w=>w.objects[K]),(0,l.h)(w=>(0,O.pT)(w)&&(0,O.pT)(w.sections)),(0,i.U)(w=>w.sections),(0,i.U)(w=>{const Q=[];return(0,O.pT)(w)&&Object.keys(w).filter(oe=>w.hasOwnProperty(oe)).filter(oe=>!this.isSectionHidden(w[oe])).filter(oe=>w[oe].enabled).filter(oe=>!1===w[oe].isValid).forEach(oe=>{Q.push(w[oe].isValid)}),!(0,O.xb)(w)&&(0,O.xb)(Q)}),(0,h.x)(),(0,p.O)(!1))}getSubmissionSaveProcessingStatus(K){return this.getSubmissionObject(K).pipe((0,i.U)(w=>w.savePending),(0,h.x)(),(0,p.O)(!1))}getSubmissionDepositProcessingStatus(K){return this.getSubmissionObject(K).pipe((0,i.U)(w=>w.depositPending),(0,h.x)(),(0,p.O)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(K){return(0,O.pT)(K.visibility)&&"HIDDEN"===K.visibility.main&&"HIDDEN"===K.visibility.other}isSubmissionLoading(K){return this.getSubmissionObject(K).pipe((0,i.U)(w=>w.isLoading),(0,h.x)())}notifyNewSection(K,w,Q){const oe=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:w});this.notificationsService.info(null,oe,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,m.q)(1),(0,_.b)(K=>this.requestService.removeByHrefSubstring(K)),(0,v.b)(()=>this.routeService.getPreviousUrl().pipe((0,m.q)(1),(0,_.b)(K=>{(0,O.xb)(K)||!K.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(K)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new S.Qe)}resetSubmissionObject(K,w,Q,oe,q,ee){this.store.dispatch(new S.Nq(K,w,Q,q,oe,ee))}retrieveSubmission(K){return this.restService.getDataById(this.getSubmissionObjectLinkName(),K).pipe((0,r.s)(w=>(0,O.pT)(w)),(0,i.U)(w=>(0,T.AC)(w[0])),(0,d.K)(w=>(0,T.DW)(w.errorMessage,w.statusCode)))}setActiveSection(K,w){this.store.dispatch(new S.oq(K,w))}startAutoSave(K){if(this.stopAutoSave(),0===L.N.submission.autosave.timer)return;const w=L.N.submission.autosave.timer;this.timer$=(0,a.H)(w,w),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new S.gv(K)))}stopAutoSave(){(0,O.Uh)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}}return ce.\u0275fac=function(K){return new(K||ce)($.\u0275\u0275inject(C.T),$.\u0275\u0275inject(o.F),$.\u0275\u0275inject(z.F0),$.\u0275\u0275inject(M.MZ),$.\u0275\u0275inject(re.yh),$.\u0275\u0275inject(W.sK),$.\u0275\u0275inject(U.o),$.\u0275\u0275inject(g.s),$.\u0275\u0275inject(j.E))},ce.\u0275prov=$.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac}),ce})()},45947:(R,c,e)=>{"use strict";e.d(c,{P:()=>L});var t=e(98678),n=e(84837),a=e(10572),i=e(48358),d=e(77007),r=e(21160),l=e(45608),p=e(35841),h=e(2703),m=e(27164),_=e(65416),y=e(35103),O=e(65384),S=e(96342);function b(j,$){1&j&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&j&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"system-wide-alert-banner.countdown.prefix")," "))}const o=function(j){return{days:j}};function D(j,$){if(1&j&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()),2&j){const z=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.days",t.\u0275\u0275pureFunction1(6,o,t.\u0275\u0275pipeBind1(3,4,z.countDownDays)))," ")}}const M=function(j){return{hours:j}};function C(j,$){if(1&j&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()),2&j){const z=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.hours",t.\u0275\u0275pureFunction1(6,M,t.\u0275\u0275pipeBind1(3,4,z.countDownHours)))," ")}}const T=function(j){return{minutes:j}};function g(j,$){if(1&j&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()),2&j){const z=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.minutes",t.\u0275\u0275pureFunction1(6,T,t.\u0275\u0275pipeBind1(3,4,z.countDownMinutes)))," ")}}function U(j,$){if(1&j&&(t.\u0275\u0275elementStart(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),t.\u0275\u0275template(4,b,3,3,"span",0),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275template(8,D,4,8,"span",0),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275template(10,C,4,8,"span",0),t.\u0275\u0275pipe(11,"async"),t.\u0275\u0275pipe(12,"async"),t.\u0275\u0275template(13,g,4,8,"span",0),t.\u0275\u0275pipe(14,"async"),t.\u0275\u0275pipe(15,"async"),t.\u0275\u0275pipe(16,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"span"),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"async"),t.\u0275\u0275elementEnd()()()()),2&j){const z=t.\u0275\u0275nextContext();let re;t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,5,z.countDownDays)>0||t.\u0275\u0275pipeBind1(6,7,z.countDownHours)>0||t.\u0275\u0275pipeBind1(7,9,z.countDownMinutes)>0),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(9,11,z.countDownDays)>0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(11,13,z.countDownDays)>0||t.\u0275\u0275pipeBind1(12,15,z.countDownHours)>0),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(14,17,z.countDownDays)>0||t.\u0275\u0275pipeBind1(15,19,z.countDownHours)>0||t.\u0275\u0275pipeBind1(16,21,z.countDownMinutes)>0),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==(re=t.\u0275\u0275pipeBind1(19,23,z.systemWideAlert$))?null:re.message)}}let L=(()=>{class j{constructor(z,re,W){this.platformId=z,this.systemWideAlertDataService=re,this.notificationsService=W,this.systemWideAlert$=new p.X(void 0),this.countDownMinutes=new p.X(0),this.countDownHours=new p.X(0),this.countDownDays=new p.X(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,a.mc)(),(0,i.U)(z=>z.page),(0,d.h)(z=>(0,l.UE)(z)),(0,i.U)(z=>z[0])).subscribe(z=>{this.systemWideAlert$.next(z)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,r.w)(z=>{if((0,l.Uh)(z)&&(0,l.Uh)(z.countdownTo)){const W=(0,_.zonedTimeToUtc)(z.countdownTo,"UTC").getTime()-(new Date).getTime();if(W>0)return this.allocateTimeUnits(W),(0,y.NF)(this.platformId)?(0,h.F)(1e3):m.E}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),m.E})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(z){const W=(0,_.zonedTimeToUtc)(z,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(W)}allocateTimeUnits(z){const re=Math.floor(z/6e4%60),W=Math.floor(z/36e5%24),ie=Math.floor(z/864e5);this.countDownMinutes.next(re),this.countDownHours.next(W),this.countDownDays.next(ie)}ngOnDestroy(){this.subscriptions.forEach(z=>{(0,l.Uh)(z)&&z.unsubscribe()})}}return j.\u0275fac=function(z){return new(z||j)(t.\u0275\u0275directiveInject(t.PLATFORM_ID),t.\u0275\u0275directiveInject(n.C),t.\u0275\u0275directiveInject(O.T))},j.\u0275cmp=t.\u0275\u0275defineComponent({type:j,selectors:[["ds-system-wide-alert-banner"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100"],[1,"container"],[1,"font-weight-bold"]],template:function(z,re){if(1&z&&(t.\u0275\u0275template(0,U,20,25,"div",0),t.\u0275\u0275pipe(1,"async")),2&z){let W;t.\u0275\u0275property("ngIf",null==(W=t.\u0275\u0275pipeBind1(1,1,re.systemWideAlert$))?null:W.active)}},dependencies:[y.O5,y.Ov,S.X$]}),j})()},44315:(R,c,e)=>{"use strict";e.r(c),e.d(c,{SystemWideAlertModule:()=>Ee});var S,t=e(5476),n=e(57999),a=e(84837),i=e(67522),d=e(73737),r=e(10572),l=e(48358),p=e(77007),h=e(70655),m=e(38666),_=e(65804),v=e(26523),y=e(3798),O=e(57923);let b=((S=class{}).type=O.s,S);(0,h.__decorate)([y.OJ,m.autoserialize,(0,h.__metadata)("design:type",v._)],b.prototype,"type",void 0),(0,h.__decorate)([m.autoserialize,(0,h.__metadata)("design:type",String)],b.prototype,"alertId",void 0),(0,h.__decorate)([m.autoserialize,(0,h.__metadata)("design:type",String)],b.prototype,"message",void 0),(0,h.__decorate)([m.autoserialize,(0,h.__metadata)("design:type",String)],b.prototype,"countdownTo",void 0),(0,h.__decorate)([m.autoserialize,(0,h.__metadata)("design:type",Boolean)],b.prototype,"active",void 0),(0,h.__decorate)([m.deserialize,(0,h.__metadata)("design:type",Object)],b.prototype,"_links",void 0),b=(0,h.__decorate)([_.KB],b);var o=e(45608),D=e(35841),M=e(65416),C=e(65384),T=e(6952),g=e(98678),U=e(96342),L=e(35103),j=e(1599),$=e(65706);function z(Oe,Re){1&Oe&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Oe&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,"system-wide-alert.form.error.message")," "))}function re(Oe,Re){if(1&Oe&&(g.\u0275\u0275elementStart(0,"div",22),g.\u0275\u0275template(1,z,3,3,"span",14),g.\u0275\u0275elementEnd()),2&Oe){const ve=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",ve.formMessage.errors)}}function W(Oe,Re){if(1&Oe){const ve=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div")(1,"div",7)(2,"div",23)(3,"div",24)(4,"input",25,26),g.\u0275\u0275listener("ngModelChange",function(et){g.\u0275\u0275restoreView(ve);const Ze=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ze.date=et)})("ngModelChange",function(){g.\u0275\u0275restoreView(ve);const et=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(et.updatePreviewTime())}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(6,"button",27),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(ve);const et=g.\u0275\u0275reference(5);return g.\u0275\u0275resetView(et.toggle())}),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(7,"div",28)(8,"div",24)(9,"ngb-timepicker",29),g.\u0275\u0275listener("ngModelChange",function(et){g.\u0275\u0275restoreView(ve);const Ze=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ze.time=et)})("ngModelChange",function(){g.\u0275\u0275restoreView(ve);const et=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(et.updatePreviewTime())}),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(10,"div",30)(11,"div",24)(12,"ngb-timepicker",29),g.\u0275\u0275listener("ngModelChange",function(et){g.\u0275\u0275restoreView(ve);const Ze=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(Ze.time=et)})("ngModelChange",function(){g.\u0275\u0275restoreView(ve);const et=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(et.updatePreviewTime())}),g.\u0275\u0275elementEnd()()()()()}if(2&Oe){const ve=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275property("ngModel",ve.date)("minDate",ve.minDate),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngModel",ve.time),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngModel",ve.time)}}function ie(Oe,Re){1&Oe&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Oe&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,"system-wide-alert-banner.countdown.prefix")," "))}const ce=function(Oe){return{days:Oe}};function ne(Oe,Re){if(1&Oe&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Oe){const ve=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.days",g.\u0275\u0275pureFunction1(4,ce,ve.previewDays))," ")}}const K=function(Oe){return{hours:Oe}};function w(Oe,Re){if(1&Oe&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Oe){const ve=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.hours",g.\u0275\u0275pureFunction1(4,K,ve.previewHours))," ")}}const Q=function(Oe){return{minutes:Oe}};function oe(Oe,Re){if(1&Oe&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Oe){const ve=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind2(2,1,"system-wide-alert-banner.countdown.minutes",g.\u0275\u0275pureFunction1(4,Q,ve.previewMinutes))," ")}}function q(Oe,Re){if(1&Oe&&(g.\u0275\u0275elementStart(0,"div")(1,"div",7)(2,"div",5)(3,"label"),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(6,"div",31)(7,"span",32),g.\u0275\u0275template(8,ie,3,3,"span",14),g.\u0275\u0275template(9,ne,3,6,"span",14),g.\u0275\u0275template(10,w,3,6,"span",14),g.\u0275\u0275template(11,oe,3,6,"span",14),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(12,"span"),g.\u0275\u0275text(13),g.\u0275\u0275elementEnd()()()),2&Oe){const ve=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(5,6,"system-wide-alert.form.label.preview")),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngIf",ve.previewDays>0||ve.previewHours>0||ve.previewMinutes>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",ve.previewDays>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",ve.previewDays>0||ve.previewHours>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",ve.previewDays>0||ve.previewHours>0||ve.previewMinutes>0),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(ve.formMessage.value)}}let ee=(()=>{class Oe{constructor(ve,Pe,et,Ze,tt){this.systemWideAlertDataService=ve,this.notificationsService=Pe,this.router=et,this.requestService=Ze,this.translateService=tt,this.counterEnabled$=new D.X(!1)}ngOnInit(){this.systemWideAlert$=this.systemWideAlertDataService.findAll().pipe((0,r.hC)(),(0,l.U)(Pe=>{if(Pe.hasSucceeded)return Pe.payload;this.notificationsService.error("system-wide-alert-form.retrieval.error")}),(0,l.U)(Pe=>Pe.page),(0,p.h)(Pe=>(0,o.UE)(Pe)),(0,l.U)(Pe=>Pe[0])),this.createForm();const ve=new Date;this.minDate={year:ve.getFullYear(),month:ve.getMonth()+1,day:ve.getDate()},this.systemWideAlert$.subscribe(Pe=>{this.currentAlert=Pe,this.initFormValues(Pe)})}createForm(){this.alertForm=(new t.QS).group({formMessage:new t.p4("",{validators:[t.kI.required]}),formActive:new t.p4(!1)}),this.setDateTime(new Date)}initFormValues(ve){this.formMessage.patchValue(ve.message),this.formActive.patchValue(ve.active);const Pe=(0,M.zonedTimeToUtc)(ve.countdownTo,"UTC");Pe.getTime()-(new Date).getTime()>0&&(this.counterEnabled$.next(!0),this.setDateTime(Pe))}setActive(ve){this.formActive.patchValue(ve),this.save(!1)}setCounterEnabled(ve){this.counterEnabled$.next(ve),ve?this.updatePreviewTime():(this.previewMinutes=0,this.previewHours=0,this.previewDays=0)}setDateTime(ve){this.time={hour:ve.getHours(),minute:ve.getMinutes()},this.date={year:ve.getFullYear(),month:ve.getMonth()+1,day:ve.getDate()},this.updatePreviewTime()}updatePreviewTime(){const Pe=new Date(this.date.year,this.date.month-1,this.date.day,this.time.hour,this.time.minute).getTime()-(new Date).getTime();this.allocateTimeUnits(Pe)}allocateTimeUnits(ve){this.previewMinutes=Math.floor(ve/6e4%60),this.previewHours=Math.floor(ve/36e5%24),this.previewDays=Math.floor(ve/864e5)}get formMessage(){return this.alertForm.get("formMessage")}get formActive(){return this.alertForm.get("formActive")}save(ve=!0){const Pe=new b;if(Pe.message=this.formMessage.value,Pe.active=this.formActive.value,this.counterEnabled$.getValue()){const et=new Date(this.date.year,this.date.month-1,this.date.day,this.time.hour,this.time.minute);Pe.countdownTo=(0,M.utcToZonedTime)(et,"UTC").toUTCString()}else Pe.countdownTo=null;if((0,o.Uh)(this.currentAlert)){const et=Object.assign(new b,this.currentAlert,Pe);this.handleResponse(this.systemWideAlertDataService.put(et),"system-wide-alert.form.update",ve)}else this.handleResponse(this.systemWideAlertDataService.create(Pe),"system-wide-alert.form.create",ve)}handleResponse(ve,Pe,et){ve.pipe((0,r.hC)()).subscribe(Ze=>{Ze.hasSucceeded?(this.notificationsService.success(this.translateService.get(`${Pe}.success`)),this.requestService.setStaleByHrefSubstring("systemwidealerts"),et&&this.back()):this.notificationsService.error(this.translateService.get(`${Pe}.error`,Ze.errorMessage))})}back(){this.router.navigate(["/home"])}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(g.\u0275\u0275directiveInject(a.C),g.\u0275\u0275directiveInject(C.T),g.\u0275\u0275directiveInject(i.F0),g.\u0275\u0275directiveInject(T.s),g.\u0275\u0275directiveInject(U.sK))},Oe.\u0275cmp=g.\u0275\u0275defineComponent({type:Oe,selectors:[["ds-system-wide-alert-form"]],decls:42,vars:38,consts:[[1,"container"],["id","header"],[3,"formGroup"],[1,"form-group"],[1,"row","mb-2"],[1,"col"],[3,"checkedLabel","uncheckedLabel","checked","change"],[1,"row"],["for","formMessage"],["id","formMessage","rows","5","formControlName","formMessage",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],[1,"col","mb-2","d-flex","align-items-end"],["size","small",3,"checked","change"],[1,"ml-2"],[4,"ngIf"],[1,"mb-2"],[1,"text-muted"],[1,"btn-row","float-right","space-children-mr","mt-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-save"],[1,"invalid-feedback","show-feedback"],[1,"col-sm-12","col-md-6"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","minDate","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","fas","fa-calendar",3,"click"],[1,"col-12","d-md-none"],[3,"ngModel","ngModelChange"],[1,"d-none","d-md-block","col-md-6","timepicker-margin"],[1,"rounded-0","alert","alert-warning"],[1,"font-weight-bold"]],template:function(ve,Pe){1&ve&&(g.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"ui-switch",6),g.\u0275\u0275listener("change",function(Ze){return Pe.setActive(Ze)}),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275pipe(10,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(11,"div",7)(12,"div",5)(13,"label",8),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"textarea",9),g.\u0275\u0275text(17,"                "),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(18,re,2,1,"div",10),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(19,"div",7)(20,"div",11)(21,"ui-switch",12),g.\u0275\u0275listener("change",function(Ze){return Pe.setCounterEnabled(Ze)}),g.\u0275\u0275pipe(22,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(23,"span",13),g.\u0275\u0275text(24),g.\u0275\u0275pipe(25,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(26,W,13,4,"div",14),g.\u0275\u0275pipe(27,"async"),g.\u0275\u0275elementStart(28,"div",15)(29,"span",16),g.\u0275\u0275text(30),g.\u0275\u0275pipe(31,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275template(32,q,14,8,"div",14),g.\u0275\u0275elementStart(33,"div",17)(34,"button",18),g.\u0275\u0275listener("click",function(){return Pe.back()}),g.\u0275\u0275element(35,"i",19),g.\u0275\u0275text(36),g.\u0275\u0275pipe(37,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(38,"button",20),g.\u0275\u0275listener("click",function(){return Pe.save()}),g.\u0275\u0275element(39,"i",21),g.\u0275\u0275text(40),g.\u0275\u0275pipe(41,"translate"),g.\u0275\u0275elementEnd()()()),2&ve&&(g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(3,18,"system-wide-alert.form.header")),g.\u0275\u0275advance(2),g.\u0275\u0275classMap("ng-invalid"),g.\u0275\u0275property("formGroup",Pe.alertForm),g.\u0275\u0275advance(4),g.\u0275\u0275property("checkedLabel",g.\u0275\u0275pipeBind1(9,20,"system-wide-alert.form.label.active"))("uncheckedLabel",g.\u0275\u0275pipeBind1(10,22,"system-wide-alert.form.label.inactive"))("checked",Pe.formActive.value),g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(15,24,"system-wide-alert.form.label.message")),g.\u0275\u0275advance(2),g.\u0275\u0275property("className",Pe.formMessage.invalid&&(Pe.formMessage.dirty||Pe.formMessage.touched)?"form-control is-invalid":"form-control"),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Pe.formMessage.invalid&&(Pe.formMessage.dirty||Pe.formMessage.touched)),g.\u0275\u0275advance(3),g.\u0275\u0275property("checked",g.\u0275\u0275pipeBind1(22,26,Pe.counterEnabled$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(25,28,"system-wide-alert.form.label.countdownTo.enable")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(27,30,Pe.counterEnabled$)),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(31,32,"system-wide-alert.form.label.countdownTo.hint"),""),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Pe.formMessage.value),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(37,34,"system-wide-alert.form.cancel"),""),g.\u0275\u0275advance(2),g.\u0275\u0275property("disabled",Pe.alertForm.invalid),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(41,36,"system-wide-alert.form.save")," "))},dependencies:[t.Fj,t.JJ,t.JL,t.On,L.O5,t.sg,t.u,j.o,$.Pm,$.J4,L.Ov,U.X$],styles:[".timepicker-margin[_ngcontent-%COMP%]{margin-top:-38px}"]}),Oe})(),J=(()=>{class Oe{}return Oe.\u0275fac=function(ve){return new(ve||Oe)},Oe.\u0275mod=g.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=g.\u0275\u0275defineInjector({imports:[i.Bz.forChild([{path:"",canActivate:[d.X],component:ee}])]}),Oe})(),Ee=(()=>{class Oe{}return Oe.\u0275fac=function(ve){return new(ve||Oe)},Oe.\u0275mod=g.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=g.\u0275\u0275defineInjector({providers:[a.C],imports:[t.u5,n.m,j.S,J,$.UL,$.M]}),Oe})()},57923:(R,c,e)=>{"use strict";e.d(c,{s:()=>n});const n=new(e(26523)._)("systemwidealert")},18639:(R,c,e)=>{"use strict";e.d(c,{z:()=>d});var t=e(4682),n=e(98678);function a(r,l){}const i=["*"];let d=(()=>{class r extends t.F{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(p){return e(85430)(`./${p}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,56790))}}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},features:[n.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:i,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,h){1&p&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275template(0,a,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementStart(2,"div",null,1),n.\u0275\u0275projection(4),n.\u0275\u0275elementEnd())},encapsulation:2}),r})()},56790:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ThumbnailComponent:()=>U});var t=e(1535),n=e(45608),a=e(60012),i=e(35841),d=e(9237),r=e(21160),l=e(80978),p=e(35794),h=e(38123),m=e(1507),_=e(98678),v=e(35103),y=e(87657),O=e(41966),S=e(96342),b=e(66381);function o(L,j){1&L&&(_.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",6),_.\u0275\u0275element(3,"ds-themed-loading",7),_.\u0275\u0275elementEnd()()()),2&L&&(_.\u0275\u0275advance(3),_.\u0275\u0275property("spinner",!0))}const D=function(L){return{"d-none":L}};function M(L,j){if(1&L){const $=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"img",9),_.\u0275\u0275listener("error",function(){_.\u0275\u0275restoreView($);const re=_.\u0275\u0275nextContext(3);return _.\u0275\u0275resetView(re.errorHandler())})("load",function(){_.\u0275\u0275restoreView($);const re=_.\u0275\u0275nextContext(3);return _.\u0275\u0275resetView(re.successHandler())}),_.\u0275\u0275pipe(1,"dsSafeUrl"),_.\u0275\u0275pipe(2,"translate"),_.\u0275\u0275elementEnd()}if(2&L){const $=_.\u0275\u0275nextContext().ngVar,z=_.\u0275\u0275nextContext().ngVar,re=_.\u0275\u0275nextContext();_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(7,D,z))("src",_.\u0275\u0275pipeBind1(1,3,$),_.\u0275\u0275sanitizeUrl)("alt",_.\u0275\u0275pipeBind1(2,5,re.alt))}}function C(L,j){if(1&L&&(_.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",10),_.\u0275\u0275text(3),_.\u0275\u0275pipe(4,"translate"),_.\u0275\u0275elementEnd()()()),2&L){const $=_.\u0275\u0275nextContext(3);_.\u0275\u0275advance(3),_.\u0275\u0275textInterpolate1(" ",_.\u0275\u0275pipeBind1(4,1,$.placeholder)," ")}}function T(L,j){if(1&L&&(_.\u0275\u0275elementContainerStart(0),_.\u0275\u0275template(1,M,3,9,"img",8),_.\u0275\u0275template(2,C,5,3,"div",2),_.\u0275\u0275elementContainerEnd()),2&L){const $=j.ngVar,z=_.\u0275\u0275nextContext().ngVar;_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null!==$),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null===$&&!z)}}function g(L,j){if(1&L&&(_.\u0275\u0275elementStart(0,"div",1),_.\u0275\u0275template(1,o,4,1,"div",2),_.\u0275\u0275template(2,T,3,2,"ng-container",3),_.\u0275\u0275pipe(3,"async"),_.\u0275\u0275elementEnd()),2&L){const $=j.ngVar,z=_.\u0275\u0275nextContext();_.\u0275\u0275classProp("limit-width",z.limitWidth),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",$),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngVar",_.\u0275\u0275pipeBind1(3,4,z.src$))}}let U=(()=>{class L{constructor($,z,re){this.auth=$,this.authorizationService=z,this.fileService=re,this.defaultImage=null,this.src$=new i.X(void 0),this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading$=new i.X(!0)}ngOnChanges($){if((0,n.xI)(this.thumbnail))return void this.setSrc(this.defaultImage);const z=this.contentHref;(0,n.Uh)(z)?this.setSrc(z):this.setSrc(this.defaultImage)}get bitstream(){return this.thumbnail instanceof t.Z?this.thumbnail:this.thumbnail instanceof a.N?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof t.Z?this.thumbnail?._links?.content?.href:this.thumbnail instanceof a.N?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const $=this.src$.getValue(),z=this.bitstream,re=z?._links?.content?.href;!this.retriedWithToken&&(0,n.Uh)(re)&&$===re?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,r.w)(W=>W?this.authorizationService.isAuthorized(l.i.CanDownload,z.self):(0,d.of)(!1)),(0,r.w)(W=>W?this.fileService.retrieveFileDownloadLink(re):(0,d.of)(null))).subscribe(W=>{(0,n.Uh)(W)?this.setSrc(W):this.setSrc(this.defaultImage)})):this.setSrc($!==this.defaultImage?this.defaultImage:null)}setSrc($){this.src$.next($),null===$&&this.isLoading$.next(!1)}successHandler(){this.isLoading$.next(!1)}}return L.\u0275fac=function($){return new($||L)(_.\u0275\u0275directiveInject(h.e8),_.\u0275\u0275directiveInject(p._),_.\u0275\u0275directiveInject(m.I))},L.\u0275cmp=_.\u0275\u0275defineComponent({type:L,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},features:[_.\u0275\u0275NgOnChangesFeature],decls:2,vars:3,consts:[["class","thumbnail",3,"limit-width",4,"ngVar"],[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],[4,"ngVar"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","img-fluid",3,"ngClass","src","alt","error","load"],[1,"thumbnail-placeholder","centered","lead"]],template:function($,z){1&$&&(_.\u0275\u0275template(0,g,4,6,"div",0),_.\u0275\u0275pipe(1,"async")),2&$&&_.\u0275\u0275property("ngVar",_.\u0275\u0275pipeBind1(1,1,z.isLoading$))},dependencies:[v.mk,v.O5,y.Z,O.g,v.Ov,S.X$,b.Q],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']}),L})()},73961:(R,c,e)=>{"use strict";e.d(c,{V:()=>S});var t=e(53426),n=e(48358),a=e(21160),i=e(77176),d=e(956),r=e(74997),l=e(65384),p=e(10572),h=e(45608),m=e(6952),_=e(98678),v=e(67522),y=e(96342),O=e(35103);let S=(()=>{class b{constructor(D,M,C,T,g,U,L,j){this.route=D,this.workflowItemService=M,this.router=C,this.routeService=T,this.notificationsService=g,this.translationService=U,this.requestService=L,this.location=j}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,n.U)(D=>D.wfi),(0,p.xe)()),this.item$=this.wfi$.pipe((0,a.w)(D=>D.item.pipe((0,p.g1)(),(0,p.xe)()))),this.previousQueryParameters=this.location.getState().previousQueryParams}performAction(){(0,t.a)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,i.q)(1),(0,a.w)(([D])=>this.sendRequest(D.id))).subscribe(D=>{if(D){const M=this.translationService.get("workflow-item."+this.type+".notification.success.title"),C=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(M,C)}else{const M=this.translationService.get("workflow-item."+this.type+".notification.error.title"),C=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(M,C)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,i.q)(1)).subscribe(D=>{let M={};if((0,h.xb)(D)&&(D="/mydspace",M=this.previousQueryParameters),D.split("?").length>1)for(const C of D.split("?")[1].split("&"))M[C.split("=")[0]]=decodeURIComponent(C.split("=")[1]);this.router.navigate([D.split("?")[0]],{queryParams:M})})}}return b.\u0275fac=function(D){return new(D||b)(_.\u0275\u0275directiveInject(v.gz),_.\u0275\u0275directiveInject(d.K),_.\u0275\u0275directiveInject(v.F0),_.\u0275\u0275directiveInject(r.MZ),_.\u0275\u0275directiveInject(l.T),_.\u0275\u0275directiveInject(y.sK),_.\u0275\u0275directiveInject(m.s),_.\u0275\u0275directiveInject(O.Ye))},b.\u0275cmp=_.\u0275\u0275defineComponent({type:b,selectors:[["ds-workflowitem-action-page"]],decls:0,vars:0,template:function(D,M){},encapsulation:2}),b})()},24943:(R,c,e)=>{"use strict";e.d(c,{A6:()=>d,BG:()=>O,BP:()=>y,Du:()=>l,PT:()=>p,QO:()=>m,aN:()=>v,fk:()=>r,vR:()=>_,xM:()=>h});var t=e(65521),n=e(71213);function d(b){return new t.R((0,n.$r)(),b,v).toString()}function r(b){return new t.R((0,n.$r)(),b,_).toString()}function l(b){return new t.R((0,n.$r)(),b,y).toString()}function p(b){return new t.R((0,n.$r)(),b,O).toString()}function h(b){return new t.R((0,n.Yn)(),b,S).toString()}const m="edit",_="delete",v="view",y="sendback",O="advanced",S="delete"},16441:(R,c,e)=>{"use strict";e.d(c,{q:()=>a,s:()=>i});var t=e(98678),n=e(91823);const a=new t.InjectionToken("APP_CONFIG"),i=(0,n.Cb)("APP_CONFIG_STATE")},58614:(R,c,e)=>{"use strict";e.d(c,{M9:()=>r,ML:()=>p});var t=e(21584),a=e(76774),i=e(45608),d=e(53924);const r=(h,m)=>{l(h,m),console.log("Environment extended with app config")},l=(h,m)=>{Object.assign(h,(0,t.all)([h,m],{arrayMerge:(v,y,O)=>y}))},p=()=>a.N.themes.find(h=>(0,i.xI)(h.regex)&&(0,i.xI)(h.handle)&&(0,i.xI)(h.uuid))??{name:d.B}},76774:(R,c,e)=>{"use strict";e.d(c,{N:()=>t});const t={production:!0,universal:{preboot:!0,async:!0,time:!1}}},44598:(R,c,e)=>{"use strict";var t=e(91823),d=(e(12116),e(20802),e(72254),e(78964)),r=e(98678),l=e(79601);function h(_e){return new r.\u0275RuntimeError(3e3,!1)}function Ze(){return typeof window<"u"&&typeof window.document<"u"}function tt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function yt(_e){switch(_e.length){case 0:return new l.ZN;case 1:return _e[0];default:return new l.ZE(_e)}}function Ne(_e,Y,H,ue,Ie=new Map,Ye=new Map){const ut=[],Ot=[];let Nt=-1,tn=null;if(ue.forEach(Ln=>{const Hn=Ln.get("offset"),Dr=Hn==Nt,lr=Dr&&tn||new Map;Ln.forEach((nr,gr)=>{let oi=gr,Di=nr;if("offset"!==gr)switch(oi=Y.normalizePropertyName(oi,ut),Di){case l.k1:Di=Ie.get(gr);break;case l.l3:Di=Ye.get(gr);break;default:Di=Y.normalizeStyleValue(gr,oi,Di,ut)}lr.set(oi,Di)}),Dr||Ot.push(lr),tn=lr,Nt=Hn}),ut.length)throw function K(_e){return new r.\u0275RuntimeError(3502,!1)}();return Ot}function mt(_e,Y,H,ue){switch(Y){case"start":_e.onStart(()=>ue(H&&Dt(H,"start",_e)));break;case"done":_e.onDone(()=>ue(H&&Dt(H,"done",_e)));break;case"destroy":_e.onDestroy(()=>ue(H&&Dt(H,"destroy",_e)))}}function Dt(_e,Y,H){const Ye=At(_e.element,_e.triggerName,_e.fromState,_e.toState,Y||_e.phaseName,H.totalTime??_e.totalTime,!!H.disabled),ut=_e._data;return null!=ut&&(Ye._data=ut),Ye}function At(_e,Y,H,ue,Ie="",Ye=0,ut){return{element:_e,triggerName:Y,fromState:H,toState:ue,phaseName:Ie,totalTime:Ye,disabled:!!ut}}function Jt(_e,Y,H){let ue=_e.get(Y);return ue||_e.set(Y,ue=H),ue}function $t(_e){const Y=_e.indexOf(":");return[_e.substring(1,Y),_e.slice(Y+1)]}let lt=(_e,Y)=>!1,Ht=(_e,Y,H)=>[],Qe=null;function ft(_e){const Y=_e.parentNode||_e.host;return Y===Qe?null:Y}(tt()||typeof Element<"u")&&(Ze()?(Qe=(()=>document.documentElement)(),lt=(_e,Y)=>{for(;Y;){if(Y===_e)return!0;Y=ft(Y)}return!1}):lt=(_e,Y)=>_e.contains(Y),Ht=(_e,Y,H)=>{if(H)return Array.from(_e.querySelectorAll(Y));const ue=_e.querySelector(Y);return ue?[ue]:[]});let qe=null,gt=!1;const It=lt,Yt=Ht;let Tt=(()=>{class _e{validateStyleProperty(H){return function it(_e){qe||(qe=function St(){return typeof document<"u"?document.body:null}()||{},gt=!!qe.style&&"WebkitAppearance"in qe.style);let Y=!0;return qe.style&&!function Ge(_e){return"ebkit"==_e.substring(1,6)}(_e)&&(Y=_e in qe.style,!Y&&gt&&(Y="Webkit"+_e.charAt(0).toUpperCase()+_e.slice(1)in qe.style)),Y}(H)}matchesElement(H,ue){return!1}containsElement(H,ue){return It(H,ue)}getParentElement(H){return ft(H)}query(H,ue,Ie){return Yt(H,ue,Ie)}computeStyle(H,ue,Ie){return Ie||""}animate(H,ue,Ie,Ye,ut,Ot=[],Nt){return new l.ZN(Ie,Ye)}}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})(),Mn=(()=>{class _e{}return _e.NOOP=new Tt,_e})();const xn=1e3,sn="ng-enter",jt="ng-leave",zt="ng-trigger",on=".ng-trigger",ke="ng-animating",xe=".ng-animating";function we(_e){if("number"==typeof _e)return _e;const Y=_e.match(/^(-?[\.\d]+)(m?s)/);return!Y||Y.length<2?0:pt(parseFloat(Y[1]),Y[2])}function pt(_e,Y){return"s"===Y?_e*xn:_e}function bt(_e,Y,H){return _e.hasOwnProperty("duration")?_e:function wt(_e,Y,H){let Ie,Ye=0,ut="";if("string"==typeof _e){const Ot=_e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ot)return Y.push(h()),{duration:0,delay:0,easing:""};Ie=pt(parseFloat(Ot[1]),Ot[2]);const Nt=Ot[3];null!=Nt&&(Ye=pt(parseFloat(Nt),Ot[4]));const tn=Ot[5];tn&&(ut=tn)}else Ie=_e;if(!H){let Ot=!1,Nt=Y.length;Ie<0&&(Y.push(function m(){return new r.\u0275RuntimeError(3100,!1)}()),Ot=!0),Ye<0&&(Y.push(function _(){return new r.\u0275RuntimeError(3101,!1)}()),Ot=!0),Ot&&Y.splice(Nt,0,h())}return{duration:Ie,delay:Ye,easing:ut}}(_e,Y,H)}function Xt(_e,Y={}){return Object.keys(_e).forEach(H=>{Y[H]=_e[H]}),Y}function Qt(_e){const Y=new Map;return Object.keys(_e).forEach(H=>{Y.set(H,_e[H])}),Y}function fn(_e,Y=new Map,H){if(H)for(let[ue,Ie]of H)Y.set(ue,Ie);for(let[ue,Ie]of _e)Y.set(ue,Ie);return Y}function ct(_e,Y,H){return H?Y+":"+H+";":""}function Mt(_e){let Y="";for(let H=0;H<_e.style.length;H++){const ue=_e.style.item(H);Y+=ct(0,ue,_e.style.getPropertyValue(ue))}for(const H in _e.style)_e.style.hasOwnProperty(H)&&!H.startsWith("_")&&(Y+=ct(0,En(H),_e.style[H]));_e.setAttribute("style",Y)}function Ve(_e,Y,H){_e.style&&(Y.forEach((ue,Ie)=>{const Ye=hn(Ie);H&&!H.has(Ie)&&H.set(Ie,_e.style[Ye]),_e.style[Ye]=ue}),tt()&&Mt(_e))}function vt(_e,Y){_e.style&&(Y.forEach((H,ue)=>{const Ie=hn(ue);_e.style[Ie]=""}),tt()&&Mt(_e))}function Bt(_e){return Array.isArray(_e)?1==_e.length?_e[0]:(0,l.vP)(_e):_e}const be=new RegExp("{{\\s*(.+?)\\s*}}","g");function ot(_e){let Y=[];if("string"==typeof _e){let H;for(;H=be.exec(_e);)Y.push(H[1]);be.lastIndex=0}return Y}function rn(_e,Y,H){const ue=_e.toString(),Ie=ue.replace(be,(Ye,ut)=>{let Ot=Y[ut];return null==Ot&&(H.push(function y(_e){return new r.\u0275RuntimeError(3003,!1)}()),Ot=""),Ot.toString()});return Ie==ue?_e:Ie}function Cn(_e){const Y=[];let H=_e.next();for(;!H.done;)Y.push(H.value),H=_e.next();return Y}const tr=/-+([a-z0-9])/g;function hn(_e){return _e.replace(tr,(...Y)=>Y[1].toUpperCase())}function En(_e){return _e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bn(_e,Y,H){switch(Y.type){case 7:return _e.visitTrigger(Y,H);case 0:return _e.visitState(Y,H);case 1:return _e.visitTransition(Y,H);case 2:return _e.visitSequence(Y,H);case 3:return _e.visitGroup(Y,H);case 4:return _e.visitAnimate(Y,H);case 5:return _e.visitKeyframes(Y,H);case 6:return _e.visitStyle(Y,H);case 8:return _e.visitReference(Y,H);case 9:return _e.visitAnimateChild(Y,H);case 10:return _e.visitAnimateRef(Y,H);case 11:return _e.visitQuery(Y,H);case 12:return _e.visitStagger(Y,H);default:throw function O(_e){return new r.\u0275RuntimeError(3004,!1)}()}}function An(_e,Y){return window.getComputedStyle(_e)[Y]}const yr="*";function Sn(_e,Y){const H=[];return"string"==typeof _e?_e.split(/\s*,\s*/).forEach(ue=>function Qn(_e,Y,H){if(":"==_e[0]){const Nt=function hr(_e,Y){switch(_e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(H,ue)=>parseFloat(ue)>parseFloat(H);case":decrement":return(H,ue)=>parseFloat(ue)<parseFloat(H);default:return Y.push(function W(_e){return new r.\u0275RuntimeError(3016,!1)}()),"* => *"}}(_e,H);if("function"==typeof Nt)return void Y.push(Nt);_e=Nt}const ue=_e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ue||ue.length<4)return H.push(function re(_e){return new r.\u0275RuntimeError(3015,!1)}()),Y;const Ie=ue[1],Ye=ue[2],ut=ue[3];Y.push(br(Ie,ut));"<"==Ye[0]&&!(Ie==yr&&ut==yr)&&Y.push(br(ut,Ie))}(ue,H,Y)):H.push(_e),H}const Br=new Set(["true","1"]),Xr=new Set(["false","0"]);function br(_e,Y){const H=Br.has(_e)||Xr.has(_e),ue=Br.has(Y)||Xr.has(Y);return(Ie,Ye)=>{let ut=_e==yr||_e==Ie,Ot=Y==yr||Y==Ye;return!ut&&H&&"boolean"==typeof Ie&&(ut=Ie?Br.has(_e):Xr.has(_e)),!Ot&&ue&&"boolean"==typeof Ye&&(Ot=Ye?Br.has(Y):Xr.has(Y)),ut&&Ot}}const Nr=new RegExp("s*:selfs*,?","g");function _i(_e,Y,H,ue){return new kn(_e).build(Y,H,ue)}class kn{constructor(Y){this._driver=Y}build(Y,H,ue){const Ie=new to(H);return this._resetContextStyleTimingState(Ie),Bn(this,Bt(Y),Ie)}_resetContextStyleTimingState(Y){Y.currentQuerySelector="",Y.collectedStyles=new Map,Y.collectedStyles.set("",new Map),Y.currentTime=0}visitTrigger(Y,H){let ue=H.queryCount=0,Ie=H.depCount=0;const Ye=[],ut=[];return"@"==Y.name.charAt(0)&&H.errors.push(function b(){return new r.\u0275RuntimeError(3006,!1)}()),Y.definitions.forEach(Ot=>{if(this._resetContextStyleTimingState(H),0==Ot.type){const Nt=Ot,tn=Nt.name;tn.toString().split(/\s*,\s*/).forEach(Ln=>{Nt.name=Ln,Ye.push(this.visitState(Nt,H))}),Nt.name=tn}else if(1==Ot.type){const Nt=this.visitTransition(Ot,H);ue+=Nt.queryCount,Ie+=Nt.depCount,ut.push(Nt)}else H.errors.push(function o(){return new r.\u0275RuntimeError(3007,!1)}())}),{type:7,name:Y.name,states:Ye,transitions:ut,queryCount:ue,depCount:Ie,options:null}}visitState(Y,H){const ue=this.visitStyle(Y.styles,H),Ie=Y.options&&Y.options.params||null;if(ue.containsDynamicStyles){const Ye=new Set,ut=Ie||{};ue.styles.forEach(Ot=>{Ot instanceof Map&&Ot.forEach(Nt=>{ot(Nt).forEach(tn=>{ut.hasOwnProperty(tn)||Ye.add(tn)})})}),Ye.size&&(Cn(Ye.values()),H.errors.push(function D(_e,Y){return new r.\u0275RuntimeError(3008,!1)}()))}return{type:0,name:Y.name,style:ue,options:Ie?{params:Ie}:null}}visitTransition(Y,H){H.queryCount=0,H.depCount=0;const ue=Bn(this,Bt(Y.animation),H);return{type:1,matchers:Sn(Y.expr,H.errors),animation:ue,queryCount:H.queryCount,depCount:H.depCount,options:Bi(Y.options)}}visitSequence(Y,H){return{type:2,steps:Y.steps.map(ue=>Bn(this,ue,H)),options:Bi(Y.options)}}visitGroup(Y,H){const ue=H.currentTime;let Ie=0;const Ye=Y.steps.map(ut=>{H.currentTime=ue;const Ot=Bn(this,ut,H);return Ie=Math.max(Ie,H.currentTime),Ot});return H.currentTime=Ie,{type:3,steps:Ye,options:Bi(Y.options)}}visitAnimate(Y,H){const ue=function qr(_e,Y){if(_e.hasOwnProperty("duration"))return _e;if("number"==typeof _e)return dt(bt(_e,Y).duration,0,"");const H=_e;if(H.split(/\s+/).some(Ye=>"{"==Ye.charAt(0)&&"{"==Ye.charAt(1))){const Ye=dt(0,0,"");return Ye.dynamic=!0,Ye.strValue=H,Ye}const Ie=bt(H,Y);return dt(Ie.duration,Ie.delay,Ie.easing)}(Y.timings,H.errors);H.currentAnimateTimings=ue;let Ie,Ye=Y.styles?Y.styles:(0,l.oB)({});if(5==Ye.type)Ie=this.visitKeyframes(Ye,H);else{let ut=Y.styles,Ot=!1;if(!ut){Ot=!0;const tn={};ue.easing&&(tn.easing=ue.easing),ut=(0,l.oB)(tn)}H.currentTime+=ue.duration+ue.delay;const Nt=this.visitStyle(ut,H);Nt.isEmptyStep=Ot,Ie=Nt}return H.currentAnimateTimings=null,{type:4,timings:ue,style:Ie,options:null}}visitStyle(Y,H){const ue=this._makeStyleAst(Y,H);return this._validateStyleAst(ue,H),ue}_makeStyleAst(Y,H){const ue=[],Ie=Array.isArray(Y.styles)?Y.styles:[Y.styles];for(let Ot of Ie)"string"==typeof Ot?Ot===l.l3?ue.push(Ot):H.errors.push(new r.\u0275RuntimeError(3002,!1)):ue.push(Qt(Ot));let Ye=!1,ut=null;return ue.forEach(Ot=>{if(Ot instanceof Map&&(Ot.has("easing")&&(ut=Ot.get("easing"),Ot.delete("easing")),!Ye))for(let Nt of Ot.values())if(Nt.toString().indexOf("{{")>=0){Ye=!0;break}}),{type:6,styles:ue,easing:ut,offset:Y.offset,containsDynamicStyles:Ye,options:null}}_validateStyleAst(Y,H){const ue=H.currentAnimateTimings;let Ie=H.currentTime,Ye=H.currentTime;ue&&Ye>0&&(Ye-=ue.duration+ue.delay),Y.styles.forEach(ut=>{"string"!=typeof ut&&ut.forEach((Ot,Nt)=>{const tn=H.collectedStyles.get(H.currentQuerySelector),Ln=tn.get(Nt);let Hn=!0;Ln&&(Ye!=Ie&&Ye>=Ln.startTime&&Ie<=Ln.endTime&&(H.errors.push(function T(_e,Y,H,ue,Ie){return new r.\u0275RuntimeError(3010,!1)}()),Hn=!1),Ye=Ln.startTime),Hn&&tn.set(Nt,{startTime:Ye,endTime:Ie}),H.options&&function je(_e,Y,H){const ue=Y.params||{},Ie=ot(_e);Ie.length&&Ie.forEach(Ye=>{ue.hasOwnProperty(Ye)||H.push(function v(_e){return new r.\u0275RuntimeError(3001,!1)}())})}(Ot,H.options,H.errors)})})}visitKeyframes(Y,H){const ue={type:5,styles:[],options:null};if(!H.currentAnimateTimings)return H.errors.push(function g(){return new r.\u0275RuntimeError(3011,!1)}()),ue;let Ye=0;const ut=[];let Ot=!1,Nt=!1,tn=0;const Ln=Y.steps.map(Di=>{const Ai=this._makeStyleAst(Di,H);let os=null!=Ai.offset?Ai.offset:function Wi(_e){if("string"==typeof _e)return null;let Y=null;if(Array.isArray(_e))_e.forEach(H=>{if(H instanceof Map&&H.has("offset")){const ue=H;Y=parseFloat(ue.get("offset")),ue.delete("offset")}});else if(_e instanceof Map&&_e.has("offset")){const H=_e;Y=parseFloat(H.get("offset")),H.delete("offset")}return Y}(Ai.styles),ss=0;return null!=os&&(Ye++,ss=Ai.offset=os),Nt=Nt||ss<0||ss>1,Ot=Ot||ss<tn,tn=ss,ut.push(ss),Ai});Nt&&H.errors.push(function U(){return new r.\u0275RuntimeError(3012,!1)}()),Ot&&H.errors.push(function L(){return new r.\u0275RuntimeError(3200,!1)}());const Hn=Y.steps.length;let Dr=0;Ye>0&&Ye<Hn?H.errors.push(function j(){return new r.\u0275RuntimeError(3202,!1)}()):0==Ye&&(Dr=1/(Hn-1));const lr=Hn-1,nr=H.currentTime,gr=H.currentAnimateTimings,oi=gr.duration;return Ln.forEach((Di,Ai)=>{const os=Dr>0?Ai==lr?1:Dr*Ai:ut[Ai],ss=os*oi;H.currentTime=nr+gr.delay+ss,gr.duration=ss,this._validateStyleAst(Di,H),Di.offset=os,ue.styles.push(Di)}),ue}visitReference(Y,H){return{type:8,animation:Bn(this,Bt(Y.animation),H),options:Bi(Y.options)}}visitAnimateChild(Y,H){return H.depCount++,{type:9,options:Bi(Y.options)}}visitAnimateRef(Y,H){return{type:10,animation:this.visitReference(Y.animation,H),options:Bi(Y.options)}}visitQuery(Y,H){const ue=H.currentQuerySelector,Ie=Y.options||{};H.queryCount++,H.currentQuery=Y;const[Ye,ut]=function hi(_e){const Y=!!_e.split(/\s*,\s*/).find(H=>":self"==H);return Y&&(_e=_e.replace(Nr,"")),_e=_e.replace(/@\*/g,on).replace(/@\w+/g,H=>on+"-"+H.slice(1)).replace(/:animating/g,xe),[_e,Y]}(Y.selector);H.currentQuerySelector=ue.length?ue+" "+Ye:Ye,Jt(H.collectedStyles,H.currentQuerySelector,new Map);const Ot=Bn(this,Bt(Y.animation),H);return H.currentQuery=null,H.currentQuerySelector=ue,{type:11,selector:Ye,limit:Ie.limit||0,optional:!!Ie.optional,includeSelf:ut,animation:Ot,originalSelector:Y.selector,options:Bi(Y.options)}}visitStagger(Y,H){H.currentQuery||H.errors.push(function $(){return new r.\u0275RuntimeError(3013,!1)}());const ue="full"===Y.timings?{duration:0,delay:0,easing:"full"}:bt(Y.timings,H.errors,!0);return{type:12,animation:Bn(this,Bt(Y.animation),H),timings:ue,options:null}}}class to{constructor(Y){this.errors=Y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bi(_e){return _e?(_e=Xt(_e)).params&&(_e.params=function ai(_e){return _e?Xt(_e):null}(_e.params)):_e={},_e}function dt(_e,Y,H){return{duration:_e,delay:Y,easing:H}}function Zt(_e,Y,H,ue,Ie,Ye,ut=null,Ot=!1){return{type:1,element:_e,keyframes:Y,preStyleProps:H,postStyleProps:ue,duration:Ie,delay:Ye,totalTime:Ie+Ye,easing:ut,subTimeline:Ot}}class Kt{constructor(){this._map=new Map}get(Y){return this._map.get(Y)||[]}append(Y,H){let ue=this._map.get(Y);ue||this._map.set(Y,ue=[]),ue.push(...H)}has(Y){return this._map.has(Y)}clear(){this._map.clear()}}const bn=new RegExp(":enter","g"),Mr=new RegExp(":leave","g");function Ur(_e,Y,H,ue,Ie,Ye=new Map,ut=new Map,Ot,Nt,tn=[]){return(new Tr).buildKeyframes(_e,Y,H,ue,Ie,Ye,ut,Ot,Nt,tn)}class Tr{buildKeyframes(Y,H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln=[]){tn=tn||new Kt;const Hn=new Xn(Y,H,tn,Ie,Ye,Ln,[]);Hn.options=Nt;const Dr=Nt.delay?we(Nt.delay):0;Hn.currentTimeline.delayNextStep(Dr),Hn.currentTimeline.setStyles([ut],null,Hn.errors,Nt),Bn(this,ue,Hn);const lr=Hn.timelines.filter(nr=>nr.containsAnimation());if(lr.length&&Ot.size){let nr;for(let gr=lr.length-1;gr>=0;gr--){const oi=lr[gr];if(oi.element===H){nr=oi;break}}nr&&!nr.allowOnlyTimelineStyles()&&nr.setStyles([Ot],null,Hn.errors,Nt)}return lr.length?lr.map(nr=>nr.buildKeyframes()):[Zt(H,[],[],[],0,Dr,"",!1)]}visitTrigger(Y,H){}visitState(Y,H){}visitTransition(Y,H){}visitAnimateChild(Y,H){const ue=H.subInstructions.get(H.element);if(ue){const Ie=H.createSubContext(Y.options),Ye=H.currentTimeline.currentTime,ut=this._visitSubInstructions(ue,Ie,Ie.options);Ye!=ut&&H.transformIntoNewTimeline(ut)}H.previousNode=Y}visitAnimateRef(Y,H){const ue=H.createSubContext(Y.options);ue.transformIntoNewTimeline(),this._applyAnimationRefDelays([Y.options,Y.animation.options],H,ue),this.visitReference(Y.animation,ue),H.transformIntoNewTimeline(ue.currentTimeline.currentTime),H.previousNode=Y}_applyAnimationRefDelays(Y,H,ue){for(const Ie of Y){const Ye=Ie?.delay;if(Ye){const ut="number"==typeof Ye?Ye:we(rn(Ye,Ie?.params??{},H.errors));ue.delayNextStep(ut)}}}_visitSubInstructions(Y,H,ue){let Ye=H.currentTimeline.currentTime;const ut=null!=ue.duration?we(ue.duration):null,Ot=null!=ue.delay?we(ue.delay):null;return 0!==ut&&Y.forEach(Nt=>{const tn=H.appendInstructionToTimeline(Nt,ut,Ot);Ye=Math.max(Ye,tn.duration+tn.delay)}),Ye}visitReference(Y,H){H.updateOptions(Y.options,!0),Bn(this,Y.animation,H),H.previousNode=Y}visitSequence(Y,H){const ue=H.subContextCount;let Ie=H;const Ye=Y.options;if(Ye&&(Ye.params||Ye.delay)&&(Ie=H.createSubContext(Ye),Ie.transformIntoNewTimeline(),null!=Ye.delay)){6==Ie.previousNode.type&&(Ie.currentTimeline.snapshotCurrentStyles(),Ie.previousNode=Vn);const ut=we(Ye.delay);Ie.delayNextStep(ut)}Y.steps.length&&(Y.steps.forEach(ut=>Bn(this,ut,Ie)),Ie.currentTimeline.applyStylesToKeyframe(),Ie.subContextCount>ue&&Ie.transformIntoNewTimeline()),H.previousNode=Y}visitGroup(Y,H){const ue=[];let Ie=H.currentTimeline.currentTime;const Ye=Y.options&&Y.options.delay?we(Y.options.delay):0;Y.steps.forEach(ut=>{const Ot=H.createSubContext(Y.options);Ye&&Ot.delayNextStep(Ye),Bn(this,ut,Ot),Ie=Math.max(Ie,Ot.currentTimeline.currentTime),ue.push(Ot.currentTimeline)}),ue.forEach(ut=>H.currentTimeline.mergeTimelineCollectedStyles(ut)),H.transformIntoNewTimeline(Ie),H.previousNode=Y}_visitTiming(Y,H){if(Y.dynamic){const ue=Y.strValue;return bt(H.params?rn(ue,H.params,H.errors):ue,H.errors)}return{duration:Y.duration,delay:Y.delay,easing:Y.easing}}visitAnimate(Y,H){const ue=H.currentAnimateTimings=this._visitTiming(Y.timings,H),Ie=H.currentTimeline;ue.delay&&(H.incrementTime(ue.delay),Ie.snapshotCurrentStyles());const Ye=Y.style;5==Ye.type?this.visitKeyframes(Ye,H):(H.incrementTime(ue.duration),this.visitStyle(Ye,H),Ie.applyStylesToKeyframe()),H.currentAnimateTimings=null,H.previousNode=Y}visitStyle(Y,H){const ue=H.currentTimeline,Ie=H.currentAnimateTimings;!Ie&&ue.hasCurrentStyleProperties()&&ue.forwardFrame();const Ye=Ie&&Ie.easing||Y.easing;Y.isEmptyStep?ue.applyEmptyStep(Ye):ue.setStyles(Y.styles,Ye,H.errors,H.options),H.previousNode=Y}visitKeyframes(Y,H){const ue=H.currentAnimateTimings,Ie=H.currentTimeline.duration,Ye=ue.duration,Ot=H.createSubContext().currentTimeline;Ot.easing=ue.easing,Y.styles.forEach(Nt=>{Ot.forwardTime((Nt.offset||0)*Ye),Ot.setStyles(Nt.styles,Nt.easing,H.errors,H.options),Ot.applyStylesToKeyframe()}),H.currentTimeline.mergeTimelineCollectedStyles(Ot),H.transformIntoNewTimeline(Ie+Ye),H.previousNode=Y}visitQuery(Y,H){const ue=H.currentTimeline.currentTime,Ie=Y.options||{},Ye=Ie.delay?we(Ie.delay):0;Ye&&(6===H.previousNode.type||0==ue&&H.currentTimeline.hasCurrentStyleProperties())&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=Vn);let ut=ue;const Ot=H.invokeQuery(Y.selector,Y.originalSelector,Y.limit,Y.includeSelf,!!Ie.optional,H.errors);H.currentQueryTotal=Ot.length;let Nt=null;Ot.forEach((tn,Ln)=>{H.currentQueryIndex=Ln;const Hn=H.createSubContext(Y.options,tn);Ye&&Hn.delayNextStep(Ye),tn===H.element&&(Nt=Hn.currentTimeline),Bn(this,Y.animation,Hn),Hn.currentTimeline.applyStylesToKeyframe(),ut=Math.max(ut,Hn.currentTimeline.currentTime)}),H.currentQueryIndex=0,H.currentQueryTotal=0,H.transformIntoNewTimeline(ut),Nt&&(H.currentTimeline.mergeTimelineCollectedStyles(Nt),H.currentTimeline.snapshotCurrentStyles()),H.previousNode=Y}visitStagger(Y,H){const ue=H.parentContext,Ie=H.currentTimeline,Ye=Y.timings,ut=Math.abs(Ye.duration),Ot=ut*(H.currentQueryTotal-1);let Nt=ut*H.currentQueryIndex;switch(Ye.duration<0?"reverse":Ye.easing){case"reverse":Nt=Ot-Nt;break;case"full":Nt=ue.currentStaggerTime}const Ln=H.currentTimeline;Nt&&Ln.delayNextStep(Nt);const Hn=Ln.currentTime;Bn(this,Y.animation,H),H.previousNode=Y,ue.currentStaggerTime=Ie.currentTime-Hn+(Ie.startTime-ue.currentTimeline.startTime)}}const Vn={};class Xn{constructor(Y,H,ue,Ie,Ye,ut,Ot,Nt){this._driver=Y,this.element=H,this.subInstructions=ue,this._enterClassName=Ie,this._leaveClassName=Ye,this.errors=ut,this.timelines=Ot,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Nt||new xi(this._driver,H,0),Ot.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(Y,H){if(!Y)return;const ue=Y;let Ie=this.options;null!=ue.duration&&(Ie.duration=we(ue.duration)),null!=ue.delay&&(Ie.delay=we(ue.delay));const Ye=ue.params;if(Ye){let ut=Ie.params;ut||(ut=this.options.params={}),Object.keys(Ye).forEach(Ot=>{(!H||!ut.hasOwnProperty(Ot))&&(ut[Ot]=rn(Ye[Ot],ut,this.errors))})}}_copyOptions(){const Y={};if(this.options){const H=this.options.params;if(H){const ue=Y.params={};Object.keys(H).forEach(Ie=>{ue[Ie]=H[Ie]})}}return Y}createSubContext(Y=null,H,ue){const Ie=H||this.element,Ye=new Xn(this._driver,Ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ie,ue||0));return Ye.previousNode=this.previousNode,Ye.currentAnimateTimings=this.currentAnimateTimings,Ye.options=this._copyOptions(),Ye.updateOptions(Y),Ye.currentQueryIndex=this.currentQueryIndex,Ye.currentQueryTotal=this.currentQueryTotal,Ye.parentContext=this,this.subContextCount++,Ye}transformIntoNewTimeline(Y){return this.previousNode=Vn,this.currentTimeline=this.currentTimeline.fork(this.element,Y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(Y,H,ue){const Ie={duration:H??Y.duration,delay:this.currentTimeline.currentTime+(ue??0)+Y.delay,easing:""},Ye=new li(this._driver,Y.element,Y.keyframes,Y.preStyleProps,Y.postStyleProps,Ie,Y.stretchStartingKeyframe);return this.timelines.push(Ye),Ie}incrementTime(Y){this.currentTimeline.forwardTime(this.currentTimeline.duration+Y)}delayNextStep(Y){Y>0&&this.currentTimeline.delayNextStep(Y)}invokeQuery(Y,H,ue,Ie,Ye,ut){let Ot=[];if(Ie&&Ot.push(this.element),Y.length>0){Y=(Y=Y.replace(bn,"."+this._enterClassName)).replace(Mr,"."+this._leaveClassName);let tn=this._driver.query(this.element,Y,1!=ue);0!==ue&&(tn=ue<0?tn.slice(tn.length+ue,tn.length):tn.slice(0,ue)),Ot.push(...tn)}return!Ye&&0==Ot.length&&ut.push(function z(_e){return new r.\u0275RuntimeError(3014,!1)}()),Ot}}class xi{constructor(Y,H,ue,Ie){this._driver=Y,this.element=H,this.startTime=ue,this._elementTimelineStylesLookup=Ie,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(H),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(H,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(Y){const H=1===this._keyframes.size&&this._pendingStyles.size;this.duration||H?(this.forwardTime(this.currentTime+Y),H&&this.snapshotCurrentStyles()):this.startTime+=Y}fork(Y,H){return this.applyStylesToKeyframe(),new xi(this._driver,Y,H||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(Y){this.applyStylesToKeyframe(),this.duration=Y,this._loadKeyframe()}_updateStyle(Y,H){this._localTimelineStyles.set(Y,H),this._globalTimelineStyles.set(Y,H),this._styleSummary.set(Y,{time:this.currentTime,value:H})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(Y){Y&&this._previousKeyframe.set("easing",Y);for(let[H,ue]of this._globalTimelineStyles)this._backFill.set(H,ue||l.l3),this._currentKeyframe.set(H,l.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(Y,H,ue,Ie){H&&this._previousKeyframe.set("easing",H);const Ye=Ie&&Ie.params||{},ut=function So(_e,Y){const H=new Map;let ue;return _e.forEach(Ie=>{if("*"===Ie){ue=ue||Y.keys();for(let Ye of ue)H.set(Ye,l.l3)}else fn(Ie,H)}),H}(Y,this._globalTimelineStyles);for(let[Ot,Nt]of ut){const tn=rn(Nt,Ye,ue);this._pendingStyles.set(Ot,tn),this._localTimelineStyles.has(Ot)||this._backFill.set(Ot,this._globalTimelineStyles.get(Ot)??l.l3),this._updateStyle(Ot,tn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((Y,H)=>{this._currentKeyframe.set(H,Y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((Y,H)=>{this._currentKeyframe.has(H)||this._currentKeyframe.set(H,Y)}))}snapshotCurrentStyles(){for(let[Y,H]of this._localTimelineStyles)this._pendingStyles.set(Y,H),this._updateStyle(Y,H)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const Y=[];for(let H in this._currentKeyframe)Y.push(H);return Y}mergeTimelineCollectedStyles(Y){Y._styleSummary.forEach((H,ue)=>{const Ie=this._styleSummary.get(ue);(!Ie||H.time>Ie.time)&&this._updateStyle(ue,H.value)})}buildKeyframes(){this.applyStylesToKeyframe();const Y=new Set,H=new Set,ue=1===this._keyframes.size&&0===this.duration;let Ie=[];this._keyframes.forEach((Ot,Nt)=>{const tn=fn(Ot,new Map,this._backFill);tn.forEach((Ln,Hn)=>{Ln===l.k1?Y.add(Hn):Ln===l.l3&&H.add(Hn)}),ue||tn.set("offset",Nt/this.duration),Ie.push(tn)});const Ye=Y.size?Cn(Y.values()):[],ut=H.size?Cn(H.values()):[];if(ue){const Ot=Ie[0],Nt=new Map(Ot);Ot.set("offset",0),Nt.set("offset",1),Ie=[Ot,Nt]}return Zt(this.element,Ie,Ye,ut,this.duration,this.startTime,this.easing,!1)}}class li extends xi{constructor(Y,H,ue,Ie,Ye,ut,Ot=!1){super(Y,H,ut.delay),this.keyframes=ue,this.preStyleProps=Ie,this.postStyleProps=Ye,this._stretchStartingKeyframe=Ot,this.timings={duration:ut.duration,delay:ut.delay,easing:ut.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let Y=this.keyframes,{delay:H,duration:ue,easing:Ie}=this.timings;if(this._stretchStartingKeyframe&&H){const Ye=[],ut=ue+H,Ot=H/ut,Nt=fn(Y[0]);Nt.set("offset",0),Ye.push(Nt);const tn=fn(Y[0]);tn.set("offset",Wr(Ot)),Ye.push(tn);const Ln=Y.length-1;for(let Hn=1;Hn<=Ln;Hn++){let Dr=fn(Y[Hn]);const lr=Dr.get("offset");Dr.set("offset",Wr((H+lr*ue)/ut)),Ye.push(Dr)}ue=ut,H=0,Ie="",Y=Ye}return Zt(this.element,Y,this.preStyleProps,this.postStyleProps,ue,H,Ie,!0)}}function Wr(_e,Y=3){const H=Math.pow(10,Y-1);return Math.round(_e*H)/H}class Ki{}const ko=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bo extends Ki{normalizePropertyName(Y,H){return hn(Y)}normalizeStyleValue(Y,H,ue,Ie){let Ye="";const ut=ue.toString().trim();if(ko.has(H)&&0!==ue&&"0"!==ue)if("number"==typeof ue)Ye="px";else{const Ot=ue.match(/^[+-]?[\d\.]+([a-z]*)$/);Ot&&0==Ot[1].length&&Ie.push(function S(_e,Y){return new r.\u0275RuntimeError(3005,!1)}())}return ut+Ye}}function Bo(_e,Y,H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln,Hn,Dr){return{type:0,element:_e,triggerName:Y,isRemovalTransition:Ie,fromState:H,fromStyles:Ye,toState:ue,toStyles:ut,timelines:Ot,queriedElements:Nt,preStyleProps:tn,postStyleProps:Ln,totalTime:Hn,errors:Dr}}const no={};class Uo{constructor(Y,H,ue){this._triggerName=Y,this.ast=H,this._stateStyles=ue}match(Y,H,ue,Ie){return function mo(_e,Y,H,ue,Ie){return _e.some(Ye=>Ye(Y,H,ue,Ie))}(this.ast.matchers,Y,H,ue,Ie)}buildStyles(Y,H,ue){let Ie=this._stateStyles.get("*");return void 0!==Y&&(Ie=this._stateStyles.get(Y?.toString())||Ie),Ie?Ie.buildStyles(H,ue):new Map}build(Y,H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln){const Hn=[],Dr=this.ast.options&&this.ast.options.params||no,nr=this.buildStyles(ue,Ot&&Ot.params||no,Hn),gr=Nt&&Nt.params||no,oi=this.buildStyles(Ie,gr,Hn),Di=new Set,Ai=new Map,os=new Map,ss="void"===Ie,wa={params:Mi(gr,Dr),delay:this.ast.options?.delay},Fa=Ln?[]:Ur(Y,H,this.ast.animation,Ye,ut,nr,oi,wa,tn,Hn);let ta=0;if(Fa.forEach($a=>{ta=Math.max($a.duration+$a.delay,ta)}),Hn.length)return Bo(H,this._triggerName,ue,Ie,ss,nr,oi,[],[],Ai,os,ta,Hn);Fa.forEach($a=>{const Pa=$a.element,Na=Jt(Ai,Pa,new Set);$a.preStyleProps.forEach(nl=>Na.add(nl));const za=Jt(os,Pa,new Set);$a.postStyleProps.forEach(nl=>za.add(nl)),Pa!==H&&Di.add(Pa)});const ka=Cn(Di.values());return Bo(H,this._triggerName,ue,Ie,ss,nr,oi,Fa,ka,Ai,os,ta)}}function Mi(_e,Y){const H=Xt(Y);for(const ue in _e)_e.hasOwnProperty(ue)&&null!=_e[ue]&&(H[ue]=_e[ue]);return H}class $o{constructor(Y,H,ue){this.styles=Y,this.defaultParams=H,this.normalizer=ue}buildStyles(Y,H){const ue=new Map,Ie=Xt(this.defaultParams);return Object.keys(Y).forEach(Ye=>{const ut=Y[Ye];null!==ut&&(Ie[Ye]=ut)}),this.styles.styles.forEach(Ye=>{"string"!=typeof Ye&&Ye.forEach((ut,Ot)=>{ut&&(ut=rn(ut,Ie,H));const Nt=this.normalizer.normalizePropertyName(Ot,H);ut=this.normalizer.normalizeStyleValue(Ot,Nt,ut,H),ue.set(Ot,ut)})}),ue}}class uo{constructor(Y,H,ue){this.name=Y,this.ast=H,this._normalizer=ue,this.transitionFactories=[],this.states=new Map,H.states.forEach(Ie=>{this.states.set(Ie.name,new $o(Ie.style,Ie.options&&Ie.options.params||{},ue))}),ms(this.states,"true","1"),ms(this.states,"false","0"),H.transitions.forEach(Ie=>{this.transitionFactories.push(new Uo(Y,Ie,this.states))}),this.fallbackTransition=function ro(_e,Y,H){return new Uo(_e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ut,Ot)=>!0],options:null,queryCount:0,depCount:0},Y)}(Y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(Y,H,ue,Ie){return this.transitionFactories.find(ut=>ut.match(Y,H,ue,Ie))||null}matchStyles(Y,H,ue){return this.fallbackTransition.buildStyles(Y,H,ue)}}function ms(_e,Y,H){_e.has(Y)?_e.has(H)||_e.set(H,_e.get(Y)):_e.has(H)&&_e.set(Y,_e.get(H))}const _s=new Kt;class _o{constructor(Y,H,ue){this.bodyNode=Y,this._driver=H,this._normalizer=ue,this._animations=new Map,this._playersById=new Map,this.players=[]}register(Y,H){const ue=[],Ie=[],Ye=_i(this._driver,H,ue,Ie);if(ue.length)throw function w(_e){return new r.\u0275RuntimeError(3503,!1)}();this._animations.set(Y,Ye)}_buildPlayer(Y,H,ue){const Ie=Y.element,Ye=Ne(0,this._normalizer,0,Y.keyframes,H,ue);return this._driver.animate(Ie,Ye,Y.duration,Y.delay,Y.easing,[],!0)}create(Y,H,ue={}){const Ie=[],Ye=this._animations.get(Y);let ut;const Ot=new Map;if(Ye?(ut=Ur(this._driver,H,Ye,sn,jt,new Map,new Map,ue,_s,Ie),ut.forEach(Ln=>{const Hn=Jt(Ot,Ln.element,new Map);Ln.postStyleProps.forEach(Dr=>Hn.set(Dr,null))})):(Ie.push(function Q(){return new r.\u0275RuntimeError(3300,!1)}()),ut=[]),Ie.length)throw function oe(_e){return new r.\u0275RuntimeError(3504,!1)}();Ot.forEach((Ln,Hn)=>{Ln.forEach((Dr,lr)=>{Ln.set(lr,this._driver.computeStyle(Hn,lr,l.l3))})});const tn=yt(ut.map(Ln=>{const Hn=Ot.get(Ln.element);return this._buildPlayer(Ln,new Map,Hn)}));return this._playersById.set(Y,tn),tn.onDestroy(()=>this.destroy(Y)),this.players.push(tn),tn}destroy(Y){const H=this._getPlayer(Y);H.destroy(),this._playersById.delete(Y);const ue=this.players.indexOf(H);ue>=0&&this.players.splice(ue,1)}_getPlayer(Y){const H=this._playersById.get(Y);if(!H)throw function q(_e){return new r.\u0275RuntimeError(3301,!1)}();return H}listen(Y,H,ue,Ie){const Ye=At(H,"","","");return mt(this._getPlayer(Y),ue,Ye,Ie),()=>{}}command(Y,H,ue,Ie){if("register"==ue)return void this.register(Y,Ie[0]);if("create"==ue)return void this.create(Y,H,Ie[0]||{});const Ye=this._getPlayer(Y);switch(ue){case"play":Ye.play();break;case"pause":Ye.pause();break;case"reset":Ye.reset();break;case"restart":Ye.restart();break;case"finish":Ye.finish();break;case"init":Ye.init();break;case"setPosition":Ye.setPosition(parseFloat(Ie[0]));break;case"destroy":this.destroy(Y)}}}const Et="ng-animate-queued",Le="ng-animate-disabled",rr=[],Ar={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ti={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class gi{get params(){return this.options.params}constructor(Y,H=""){this.namespaceId=H;const ue=Y&&Y.hasOwnProperty("value");if(this.value=function di(_e){return _e??null}(ue?Y.value:Y),ue){const Ye=Xt(Y);delete Ye.value,this.options=Ye}else this.options={};this.options.params||(this.options.params={})}absorbOptions(Y){const H=Y.params;if(H){const ue=this.options.params;Object.keys(H).forEach(Ie=>{null==ue[Ie]&&(ue[Ie]=H[Ie])})}}}const ci="void",Fi=new gi(ci);class yo{constructor(Y,H,ue){this.id=Y,this.hostElement=H,this._engine=ue,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+Y,Gr(H,this._hostClassName)}listen(Y,H,ue,Ie){if(!this._triggers.has(H))throw function ee(_e,Y){return new r.\u0275RuntimeError(3302,!1)}();if(null==ue||0==ue.length)throw function J(_e){return new r.\u0275RuntimeError(3303,!1)}();if(!function go(_e){return"start"==_e||"done"==_e}(ue))throw function Ee(_e,Y){return new r.\u0275RuntimeError(3400,!1)}();const Ye=Jt(this._elementListeners,Y,[]),ut={name:H,phase:ue,callback:Ie};Ye.push(ut);const Ot=Jt(this._engine.statesByElement,Y,new Map);return Ot.has(H)||(Gr(Y,zt),Gr(Y,zt+"-"+H),Ot.set(H,Fi)),()=>{this._engine.afterFlush(()=>{const Nt=Ye.indexOf(ut);Nt>=0&&Ye.splice(Nt,1),this._triggers.has(H)||Ot.delete(H)})}}register(Y,H){return!this._triggers.has(Y)&&(this._triggers.set(Y,H),!0)}_getTrigger(Y){const H=this._triggers.get(Y);if(!H)throw function Oe(_e){return new r.\u0275RuntimeError(3401,!1)}();return H}trigger(Y,H,ue,Ie=!0){const Ye=this._getTrigger(H),ut=new vi(this.id,H,Y);let Ot=this._engine.statesByElement.get(Y);Ot||(Gr(Y,zt),Gr(Y,zt+"-"+H),this._engine.statesByElement.set(Y,Ot=new Map));let Nt=Ot.get(H);const tn=new gi(ue,this.id);if(!(ue&&ue.hasOwnProperty("value"))&&Nt&&tn.absorbOptions(Nt.options),Ot.set(H,tn),Nt||(Nt=Fi),tn.value!==ci&&Nt.value===tn.value){if(!function Xo(_e,Y){const H=Object.keys(_e),ue=Object.keys(Y);if(H.length!=ue.length)return!1;for(let Ie=0;Ie<H.length;Ie++){const Ye=H[Ie];if(!Y.hasOwnProperty(Ye)||_e[Ye]!==Y[Ye])return!1}return!0}(Nt.params,tn.params)){const gr=[],oi=Ye.matchStyles(Nt.value,Nt.params,gr),Di=Ye.matchStyles(tn.value,tn.params,gr);gr.length?this._engine.reportError(gr):this._engine.afterFlush(()=>{vt(Y,oi),Ve(Y,Di)})}return}const Dr=Jt(this._engine.playersByElement,Y,[]);Dr.forEach(gr=>{gr.namespaceId==this.id&&gr.triggerName==H&&gr.queued&&gr.destroy()});let lr=Ye.matchTransition(Nt.value,tn.value,Y,tn.params),nr=!1;if(!lr){if(!Ie)return;lr=Ye.fallbackTransition,nr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:Y,triggerName:H,transition:lr,fromState:Nt,toState:tn,player:ut,isFallbackTransition:nr}),nr||(Gr(Y,Et),ut.onStart(()=>{io(Y,Et)})),ut.onDone(()=>{let gr=this.players.indexOf(ut);gr>=0&&this.players.splice(gr,1);const oi=this._engine.playersByElement.get(Y);if(oi){let Di=oi.indexOf(ut);Di>=0&&oi.splice(Di,1)}}),this.players.push(ut),Dr.push(ut),ut}deregister(Y){this._triggers.delete(Y),this._engine.statesByElement.forEach(H=>H.delete(Y)),this._elementListeners.forEach((H,ue)=>{this._elementListeners.set(ue,H.filter(Ie=>Ie.name!=Y))})}clearElementCache(Y){this._engine.statesByElement.delete(Y),this._elementListeners.delete(Y);const H=this._engine.playersByElement.get(Y);H&&(H.forEach(ue=>ue.destroy()),this._engine.playersByElement.delete(Y))}_signalRemovalForInnerTriggers(Y,H){const ue=this._engine.driver.query(Y,on,!0);ue.forEach(Ie=>{if(Ie[cr])return;const Ye=this._engine.fetchNamespacesByElement(Ie);Ye.size?Ye.forEach(ut=>ut.triggerLeaveAnimation(Ie,H,!1,!0)):this.clearElementCache(Ie)}),this._engine.afterFlushAnimationsDone(()=>ue.forEach(Ie=>this.clearElementCache(Ie)))}triggerLeaveAnimation(Y,H,ue,Ie){const Ye=this._engine.statesByElement.get(Y),ut=new Map;if(Ye){const Ot=[];if(Ye.forEach((Nt,tn)=>{if(ut.set(tn,Nt.value),this._triggers.has(tn)){const Ln=this.trigger(Y,tn,ci,Ie);Ln&&Ot.push(Ln)}}),Ot.length)return this._engine.markElementAsRemoved(this.id,Y,!0,H,ut),ue&&yt(Ot).onDone(()=>this._engine.processLeaveNode(Y)),!0}return!1}prepareLeaveAnimationListeners(Y){const H=this._elementListeners.get(Y),ue=this._engine.statesByElement.get(Y);if(H&&ue){const Ie=new Set;H.forEach(Ye=>{const ut=Ye.name;if(Ie.has(ut))return;Ie.add(ut);const Nt=this._triggers.get(ut).fallbackTransition,tn=ue.get(ut)||Fi,Ln=new gi(ci),Hn=new vi(this.id,ut,Y);this._engine.totalQueuedPlayers++,this._queue.push({element:Y,triggerName:ut,transition:Nt,fromState:tn,toState:Ln,player:Hn,isFallbackTransition:!0})})}}removeNode(Y,H){const ue=this._engine;if(Y.childElementCount&&this._signalRemovalForInnerTriggers(Y,H),this.triggerLeaveAnimation(Y,H,!0))return;let Ie=!1;if(ue.totalAnimations){const Ye=ue.players.length?ue.playersByQueriedElement.get(Y):[];if(Ye&&Ye.length)Ie=!0;else{let ut=Y;for(;ut=ut.parentNode;)if(ue.statesByElement.get(ut)){Ie=!0;break}}}if(this.prepareLeaveAnimationListeners(Y),Ie)ue.markElementAsRemoved(this.id,Y,!1,H);else{const Ye=Y[cr];(!Ye||Ye===Ar)&&(ue.afterFlush(()=>this.clearElementCache(Y)),ue.destroyInnerAnimations(Y),ue._onRemovalComplete(Y,H))}}insertNode(Y,H){Gr(Y,this._hostClassName)}drainQueuedTransitions(Y){const H=[];return this._queue.forEach(ue=>{const Ie=ue.player;if(Ie.destroyed)return;const Ye=ue.element,ut=this._elementListeners.get(Ye);ut&&ut.forEach(Ot=>{if(Ot.name==ue.triggerName){const Nt=At(Ye,ue.triggerName,ue.fromState.value,ue.toState.value);Nt._data=Y,mt(ue.player,Ot.phase,Nt,Ot.callback)}}),Ie.markedForDestroy?this._engine.afterFlush(()=>{Ie.destroy()}):H.push(ue)}),this._queue=[],H.sort((ue,Ie)=>{const Ye=ue.transition.ast.depCount,ut=Ie.transition.ast.depCount;return 0==Ye||0==ut?Ye-ut:this._engine.driver.containsElement(ue.element,Ie.element)?1:-1})}destroy(Y){this.players.forEach(H=>H.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,Y)}elementContainsData(Y){let H=!1;return this._elementListeners.has(Y)&&(H=!0),H=!!this._queue.find(ue=>ue.element===Y)||H,H}}class zo{_onRemovalComplete(Y,H){this.onRemovalComplete(Y,H)}constructor(Y,H,ue){this.bodyNode=Y,this.driver=H,this._normalizer=ue,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ie,Ye)=>{}}get queuedPlayers(){const Y=[];return this._namespaceList.forEach(H=>{H.players.forEach(ue=>{ue.queued&&Y.push(ue)})}),Y}createNamespace(Y,H){const ue=new yo(Y,H,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,H)?this._balanceNamespaceList(ue,H):(this.newHostElements.set(H,ue),this.collectEnterElement(H)),this._namespaceLookup[Y]=ue}_balanceNamespaceList(Y,H){const ue=this._namespaceList,Ie=this.namespacesByHostElement;if(ue.length-1>=0){let ut=!1,Ot=this.driver.getParentElement(H);for(;Ot;){const Nt=Ie.get(Ot);if(Nt){const tn=ue.indexOf(Nt);ue.splice(tn+1,0,Y),ut=!0;break}Ot=this.driver.getParentElement(Ot)}ut||ue.unshift(Y)}else ue.push(Y);return Ie.set(H,Y),Y}register(Y,H){let ue=this._namespaceLookup[Y];return ue||(ue=this.createNamespace(Y,H)),ue}registerTrigger(Y,H,ue){let Ie=this._namespaceLookup[Y];Ie&&Ie.register(H,ue)&&this.totalAnimations++}destroy(Y,H){if(!Y)return;const ue=this._fetchNamespace(Y);this.afterFlush(()=>{this.namespacesByHostElement.delete(ue.hostElement),delete this._namespaceLookup[Y];const Ie=this._namespaceList.indexOf(ue);Ie>=0&&this._namespaceList.splice(Ie,1)}),this.afterFlushAnimationsDone(()=>ue.destroy(H))}_fetchNamespace(Y){return this._namespaceLookup[Y]}fetchNamespacesByElement(Y){const H=new Set,ue=this.statesByElement.get(Y);if(ue)for(let Ie of ue.values())if(Ie.namespaceId){const Ye=this._fetchNamespace(Ie.namespaceId);Ye&&H.add(Ye)}return H}trigger(Y,H,ue,Ie){if(Yo(H)){const Ye=this._fetchNamespace(Y);if(Ye)return Ye.trigger(H,ue,Ie),!0}return!1}insertNode(Y,H,ue,Ie){if(!Yo(H))return;const Ye=H[cr];if(Ye&&Ye.setForRemoval){Ye.setForRemoval=!1,Ye.setForMove=!0;const ut=this.collectedLeaveElements.indexOf(H);ut>=0&&this.collectedLeaveElements.splice(ut,1)}if(Y){const ut=this._fetchNamespace(Y);ut&&ut.insertNode(H,ue)}Ie&&this.collectEnterElement(H)}collectEnterElement(Y){this.collectedEnterElements.push(Y)}markElementAsDisabled(Y,H){H?this.disabledNodes.has(Y)||(this.disabledNodes.add(Y),Gr(Y,Le)):this.disabledNodes.has(Y)&&(this.disabledNodes.delete(Y),io(Y,Le))}removeNode(Y,H,ue,Ie){if(Yo(H)){const Ye=Y?this._fetchNamespace(Y):null;if(Ye?Ye.removeNode(H,Ie):this.markElementAsRemoved(Y,H,!1,Ie),ue){const ut=this.namespacesByHostElement.get(H);ut&&ut.id!==Y&&ut.removeNode(H,Ie)}}else this._onRemovalComplete(H,Ie)}markElementAsRemoved(Y,H,ue,Ie,Ye){this.collectedLeaveElements.push(H),H[cr]={namespaceId:Y,setForRemoval:Ie,hasAnimation:ue,removedBeforeQueried:!1,previousTriggersValues:Ye}}listen(Y,H,ue,Ie,Ye){return Yo(H)?this._fetchNamespace(Y).listen(H,ue,Ie,Ye):()=>{}}_buildInstruction(Y,H,ue,Ie,Ye){return Y.transition.build(this.driver,Y.element,Y.fromState.value,Y.toState.value,ue,Ie,Y.fromState.options,Y.toState.options,H,Ye)}destroyInnerAnimations(Y){let H=this.driver.query(Y,on,!0);H.forEach(ue=>this.destroyActiveAnimationsForElement(ue)),0!=this.playersByQueriedElement.size&&(H=this.driver.query(Y,xe,!0),H.forEach(ue=>this.finishActiveQueriedAnimationOnElement(ue)))}destroyActiveAnimationsForElement(Y){const H=this.playersByElement.get(Y);H&&H.forEach(ue=>{ue.queued?ue.markedForDestroy=!0:ue.destroy()})}finishActiveQueriedAnimationOnElement(Y){const H=this.playersByQueriedElement.get(Y);H&&H.forEach(ue=>ue.finish())}whenRenderingDone(){return new Promise(Y=>{if(this.players.length)return yt(this.players).onDone(()=>Y());Y()})}processLeaveNode(Y){const H=Y[cr];if(H&&H.setForRemoval){if(Y[cr]=Ar,H.namespaceId){this.destroyInnerAnimations(Y);const ue=this._fetchNamespace(H.namespaceId);ue&&ue.clearElementCache(Y)}this._onRemovalComplete(Y,H.setForRemoval)}Y.classList?.contains(Le)&&this.markElementAsDisabled(Y,!1),this.driver.query(Y,".ng-animate-disabled",!0).forEach(ue=>{this.markElementAsDisabled(ue,!1)})}flush(Y=-1){let H=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ue,Ie)=>this._balanceNamespaceList(ue,Ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ue=0;ue<this.collectedEnterElements.length;ue++)Gr(this.collectedEnterElements[ue],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ue=[];try{H=this._flushAnimations(ue,Y)}finally{for(let Ie=0;Ie<ue.length;Ie++)ue[Ie]()}}else for(let ue=0;ue<this.collectedLeaveElements.length;ue++)this.processLeaveNode(this.collectedLeaveElements[ue]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ue=>ue()),this._flushFns=[],this._whenQuietFns.length){const ue=this._whenQuietFns;this._whenQuietFns=[],H.length?yt(H).onDone(()=>{ue.forEach(Ie=>Ie())}):ue.forEach(Ie=>Ie())}}reportError(Y){throw function Re(_e){return new r.\u0275RuntimeError(3402,!1)}()}_flushAnimations(Y,H){const ue=new Kt,Ie=[],Ye=new Map,ut=[],Ot=new Map,Nt=new Map,tn=new Map,Ln=new Set;this.disabledNodes.forEach(ur=>{Ln.add(ur);const Sr=this.driver.query(ur,".ng-animate-queued",!0);for(let jr=0;jr<Sr.length;jr++)Ln.add(Sr[jr])});const Hn=this.bodyNode,Dr=Array.from(this.statesByElement.keys()),lr=Yi(Dr,this.collectedEnterElements),nr=new Map;let gr=0;lr.forEach((ur,Sr)=>{const jr=sn+gr++;nr.set(Sr,jr),ur.forEach(mi=>Gr(mi,jr))});const oi=[],Di=new Set,Ai=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const Sr=this.collectedLeaveElements[ur],jr=Sr[cr];jr&&jr.setForRemoval&&(oi.push(Sr),Di.add(Sr),jr.hasAnimation?this.driver.query(Sr,".ng-star-inserted",!0).forEach(mi=>Di.add(mi)):Ai.add(Sr))}const os=new Map,ss=Yi(Dr,Array.from(Di));ss.forEach((ur,Sr)=>{const jr=jt+gr++;os.set(Sr,jr),ur.forEach(mi=>Gr(mi,jr))}),Y.push(()=>{lr.forEach((ur,Sr)=>{const jr=nr.get(Sr);ur.forEach(mi=>io(mi,jr))}),ss.forEach((ur,Sr)=>{const jr=os.get(Sr);ur.forEach(mi=>io(mi,jr))}),oi.forEach(ur=>{this.processLeaveNode(ur)})});const wa=[],Fa=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(H).forEach(jr=>{const mi=jr.player,hs=jr.element;if(wa.push(mi),this.collectedEnterElements.length){const Ys=hs[cr];if(Ys&&Ys.setForMove){if(Ys.previousTriggersValues&&Ys.previousTriggersValues.has(jr.triggerName)){const rl=Ys.previousTriggersValues.get(jr.triggerName),na=this.statesByElement.get(jr.element);if(na&&na.has(jr.triggerName)){const Ll=na.get(jr.triggerName);Ll.value=rl,na.set(jr.triggerName,Ll)}}return void mi.destroy()}}const Ga=!Hn||!this.driver.containsElement(Hn,hs),Ia=os.get(hs),Ya=nr.get(hs),Lo=this._buildInstruction(jr,ue,Ya,Ia,Ga);if(Lo.errors&&Lo.errors.length)return void Fa.push(Lo);if(Ga)return mi.onStart(()=>vt(hs,Lo.fromStyles)),mi.onDestroy(()=>Ve(hs,Lo.toStyles)),void Ie.push(mi);if(jr.isFallbackTransition)return mi.onStart(()=>vt(hs,Lo.fromStyles)),mi.onDestroy(()=>Ve(hs,Lo.toStyles)),void Ie.push(mi);const Rd=[];Lo.timelines.forEach(Ys=>{Ys.stretchStartingKeyframe=!0,this.disabledNodes.has(Ys.element)||Rd.push(Ys)}),Lo.timelines=Rd,ue.append(hs,Lo.timelines),ut.push({instruction:Lo,player:mi,element:hs}),Lo.queriedElements.forEach(Ys=>Jt(Ot,Ys,[]).push(mi)),Lo.preStyleProps.forEach((Ys,rl)=>{if(Ys.size){let na=Nt.get(rl);na||Nt.set(rl,na=new Set),Ys.forEach((Ll,Bl)=>na.add(Bl))}}),Lo.postStyleProps.forEach((Ys,rl)=>{let na=tn.get(rl);na||tn.set(rl,na=new Set),Ys.forEach((Ll,Bl)=>na.add(Bl))})});if(Fa.length){const ur=[];Fa.forEach(Sr=>{ur.push(function Pe(_e,Y){return new r.\u0275RuntimeError(3505,!1)}())}),wa.forEach(Sr=>Sr.destroy()),this.reportError(ur)}const ta=new Map,ka=new Map;ut.forEach(ur=>{const Sr=ur.element;ue.has(Sr)&&(ka.set(Sr,Sr),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,ta))}),Ie.forEach(ur=>{const Sr=ur.element;this._getPreviousPlayers(Sr,!1,ur.namespaceId,ur.triggerName,null).forEach(mi=>{Jt(ta,Sr,[]).push(mi),mi.destroy()})});const $a=oi.filter(ur=>bi(ur,Nt,tn)),Pa=new Map;Gi(Pa,this.driver,Ai,tn,l.l3).forEach(ur=>{bi(ur,Nt,tn)&&$a.push(ur)});const za=new Map;lr.forEach((ur,Sr)=>{Gi(za,this.driver,new Set(ur),Nt,l.k1)}),$a.forEach(ur=>{const Sr=Pa.get(ur),jr=za.get(ur);Pa.set(ur,new Map([...Array.from(Sr?.entries()??[]),...Array.from(jr?.entries()??[])]))});const nl=[],Xc=[],Zc={};ut.forEach(ur=>{const{element:Sr,player:jr,instruction:mi}=ur;if(ue.has(Sr)){if(Ln.has(Sr))return jr.onDestroy(()=>Ve(Sr,mi.toStyles)),jr.disabled=!0,jr.overrideTotalTime(mi.totalTime),void Ie.push(jr);let hs=Zc;if(ka.size>1){let Ia=Sr;const Ya=[];for(;Ia=Ia.parentNode;){const Lo=ka.get(Ia);if(Lo){hs=Lo;break}Ya.push(Ia)}Ya.forEach(Lo=>ka.set(Lo,hs))}const Ga=this._buildAnimation(jr.namespaceId,mi,ta,Ye,za,Pa);if(jr.setRealPlayer(Ga),hs===Zc)nl.push(jr);else{const Ia=this.playersByElement.get(hs);Ia&&Ia.length&&(jr.parentPlayer=yt(Ia)),Ie.push(jr)}}else vt(Sr,mi.fromStyles),jr.onDestroy(()=>Ve(Sr,mi.toStyles)),Xc.push(jr),Ln.has(Sr)&&Ie.push(jr)}),Xc.forEach(ur=>{const Sr=Ye.get(ur.element);if(Sr&&Sr.length){const jr=yt(Sr);ur.setRealPlayer(jr)}}),Ie.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<oi.length;ur++){const Sr=oi[ur],jr=Sr[cr];if(io(Sr,jt),jr&&jr.hasAnimation)continue;let mi=[];if(Ot.size){let Ga=Ot.get(Sr);Ga&&Ga.length&&mi.push(...Ga);let Ia=this.driver.query(Sr,xe,!0);for(let Ya=0;Ya<Ia.length;Ya++){let Lo=Ot.get(Ia[Ya]);Lo&&Lo.length&&mi.push(...Lo)}}const hs=mi.filter(Ga=>!Ga.destroyed);hs.length?Qo(this,Sr,hs):this.processLeaveNode(Sr)}return oi.length=0,nl.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const Sr=this.players.indexOf(ur);this.players.splice(Sr,1)}),ur.play()}),nl}elementContainsData(Y,H){let ue=!1;const Ie=H[cr];return Ie&&Ie.setForRemoval&&(ue=!0),this.playersByElement.has(H)&&(ue=!0),this.playersByQueriedElement.has(H)&&(ue=!0),this.statesByElement.has(H)&&(ue=!0),this._fetchNamespace(Y).elementContainsData(H)||ue}afterFlush(Y){this._flushFns.push(Y)}afterFlushAnimationsDone(Y){this._whenQuietFns.push(Y)}_getPreviousPlayers(Y,H,ue,Ie,Ye){let ut=[];if(H){const Ot=this.playersByQueriedElement.get(Y);Ot&&(ut=Ot)}else{const Ot=this.playersByElement.get(Y);if(Ot){const Nt=!Ye||Ye==ci;Ot.forEach(tn=>{tn.queued||!Nt&&tn.triggerName!=Ie||ut.push(tn)})}}return(ue||Ie)&&(ut=ut.filter(Ot=>!(ue&&ue!=Ot.namespaceId||Ie&&Ie!=Ot.triggerName))),ut}_beforeAnimationBuild(Y,H,ue){const Ye=H.element,ut=H.isRemovalTransition?void 0:Y,Ot=H.isRemovalTransition?void 0:H.triggerName;for(const Nt of H.timelines){const tn=Nt.element,Ln=tn!==Ye,Hn=Jt(ue,tn,[]);this._getPreviousPlayers(tn,Ln,ut,Ot,H.toState).forEach(lr=>{const nr=lr.getRealPlayer();nr.beforeDestroy&&nr.beforeDestroy(),lr.destroy(),Hn.push(lr)})}vt(Ye,H.fromStyles)}_buildAnimation(Y,H,ue,Ie,Ye,ut){const Ot=H.triggerName,Nt=H.element,tn=[],Ln=new Set,Hn=new Set,Dr=H.timelines.map(nr=>{const gr=nr.element;Ln.add(gr);const oi=gr[cr];if(oi&&oi.removedBeforeQueried)return new l.ZN(nr.duration,nr.delay);const Di=gr!==Nt,Ai=function vo(_e){const Y=[];return Si(_e,Y),Y}((ue.get(gr)||rr).map(ta=>ta.getRealPlayer())).filter(ta=>!!ta.element&&ta.element===gr),os=Ye.get(gr),ss=ut.get(gr),wa=Ne(0,this._normalizer,0,nr.keyframes,os,ss),Fa=this._buildPlayer(nr,wa,Ai);if(nr.subTimeline&&Ie&&Hn.add(gr),Di){const ta=new vi(Y,Ot,gr);ta.setRealPlayer(Fa),tn.push(ta)}return Fa});tn.forEach(nr=>{Jt(this.playersByQueriedElement,nr.element,[]).push(nr),nr.onDone(()=>function Go(_e,Y,H){let ue=_e.get(Y);if(ue){if(ue.length){const Ie=ue.indexOf(H);ue.splice(Ie,1)}0==ue.length&&_e.delete(Y)}return ue}(this.playersByQueriedElement,nr.element,nr))}),Ln.forEach(nr=>Gr(nr,ke));const lr=yt(Dr);return lr.onDestroy(()=>{Ln.forEach(nr=>io(nr,ke)),Ve(Nt,H.toStyles)}),Hn.forEach(nr=>{Jt(Ie,nr,[]).push(lr)}),lr}_buildPlayer(Y,H,ue){return H.length>0?this.driver.animate(Y.element,H,Y.duration,Y.delay,Y.easing,ue):new l.ZN(Y.duration,Y.delay)}}class vi{constructor(Y,H,ue){this.namespaceId=Y,this.triggerName=H,this.element=ue,this._player=new l.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(Y){this._containsRealPlayer||(this._player=Y,this._queuedCallbacks.forEach((H,ue)=>{H.forEach(Ie=>mt(Y,ue,void 0,Ie))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(Y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(Y){this.totalTime=Y}syncPlayerEvents(Y){const H=this._player;H.triggerCallback&&Y.onStart(()=>H.triggerCallback("start")),Y.onDone(()=>this.finish()),Y.onDestroy(()=>this.destroy())}_queueEvent(Y,H){Jt(this._queuedCallbacks,Y,[]).push(H)}onDone(Y){this.queued&&this._queueEvent("done",Y),this._player.onDone(Y)}onStart(Y){this.queued&&this._queueEvent("start",Y),this._player.onStart(Y)}onDestroy(Y){this.queued&&this._queueEvent("destroy",Y),this._player.onDestroy(Y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(Y){this.queued||this._player.setPosition(Y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(Y){const H=this._player;H.triggerCallback&&H.triggerCallback(Y)}}function Yo(_e){return _e&&1===_e.nodeType}function Ei(_e,Y){const H=_e.style.display;return _e.style.display=Y??"none",H}function Gi(_e,Y,H,ue,Ie){const Ye=[];H.forEach(Nt=>Ye.push(Ei(Nt)));const ut=[];ue.forEach((Nt,tn)=>{const Ln=new Map;Nt.forEach(Hn=>{const Dr=Y.computeStyle(tn,Hn,Ie);Ln.set(Hn,Dr),(!Dr||0==Dr.length)&&(tn[cr]=ti,ut.push(tn))}),_e.set(tn,Ln)});let Ot=0;return H.forEach(Nt=>Ei(Nt,Ye[Ot++])),ut}function Yi(_e,Y){const H=new Map;if(_e.forEach(Ot=>H.set(Ot,[])),0==Y.length)return H;const ue=1,Ie=new Set(Y),Ye=new Map;function ut(Ot){if(!Ot)return ue;let Nt=Ye.get(Ot);if(Nt)return Nt;const tn=Ot.parentNode;return Nt=H.has(tn)?tn:Ie.has(tn)?ue:ut(tn),Ye.set(Ot,Nt),Nt}return Y.forEach(Ot=>{const Nt=ut(Ot);Nt!==ue&&H.get(Nt).push(Ot)}),H}function Gr(_e,Y){_e.classList?.add(Y)}function io(_e,Y){_e.classList?.remove(Y)}function Qo(_e,Y,H){yt(H).onDone(()=>_e.processLeaveNode(Y))}function Si(_e,Y){for(let H=0;H<_e.length;H++){const ue=_e[H];ue instanceof l.ZE?Si(ue.players,Y):Y.push(ue)}}function bi(_e,Y,H){const ue=H.get(_e);if(!ue)return!1;let Ie=Y.get(_e);return Ie?ue.forEach(Ye=>Ie.add(Ye)):Y.set(_e,ue),H.delete(_e),!0}class ls{constructor(Y,H,ue){this.bodyNode=Y,this._driver=H,this._normalizer=ue,this._triggerCache={},this.onRemovalComplete=(Ie,Ye)=>{},this._transitionEngine=new zo(Y,H,ue),this._timelineEngine=new _o(Y,H,ue),this._transitionEngine.onRemovalComplete=(Ie,Ye)=>this.onRemovalComplete(Ie,Ye)}registerTrigger(Y,H,ue,Ie,Ye){const ut=Y+"-"+Ie;let Ot=this._triggerCache[ut];if(!Ot){const Nt=[],tn=[],Ln=_i(this._driver,Ye,Nt,tn);if(Nt.length)throw function ne(_e,Y){return new r.\u0275RuntimeError(3404,!1)}();Ot=function as(_e,Y,H){return new uo(_e,Y,H)}(Ie,Ln,this._normalizer),this._triggerCache[ut]=Ot}this._transitionEngine.registerTrigger(H,Ie,Ot)}register(Y,H){this._transitionEngine.register(Y,H)}destroy(Y,H){this._transitionEngine.destroy(Y,H)}onInsert(Y,H,ue,Ie){this._transitionEngine.insertNode(Y,H,ue,Ie)}onRemove(Y,H,ue,Ie){this._transitionEngine.removeNode(Y,H,Ie||!1,ue)}disableAnimations(Y,H){this._transitionEngine.markElementAsDisabled(Y,H)}process(Y,H,ue,Ie){if("@"==ue.charAt(0)){const[Ye,ut]=$t(ue);this._timelineEngine.command(Ye,H,ut,Ie)}else this._transitionEngine.trigger(Y,H,ue,Ie)}listen(Y,H,ue,Ie,Ye){if("@"==ue.charAt(0)){const[ut,Ot]=$t(ue);return this._timelineEngine.listen(ut,H,Ot,Ye)}return this._transitionEngine.listen(Y,H,ue,Ie,Ye)}flush(Y=-1){this._transitionEngine.flush(Y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xs=(()=>{class _e{constructor(H,ue,Ie){this._element=H,this._startStyles=ue,this._endStyles=Ie,this._state=0;let Ye=_e.initialStylesByElement.get(H);Ye||_e.initialStylesByElement.set(H,Ye=new Map),this._initialStyles=Ye}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_e.initialStylesByElement.delete(this._element),this._startStyles&&(vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vt(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return _e.initialStylesByElement=new WeakMap,_e})();function Zo(_e){let Y=null;return _e.forEach((H,ue)=>{(function dr(_e){return"display"===_e||"position"===_e})(ue)&&(Y=Y||new Map,Y.set(ue,H))}),Y}class Yr{constructor(Y,H,ue,Ie){this.element=Y,this.keyframes=H,this.options=ue,this._specialStyles=Ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ue.duration,this._delay=ue.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Y=>Y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const Y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,Y,this.options),this._finalKeyframe=Y.length?Y[Y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(Y){const H=[];return Y.forEach(ue=>{H.push(Object.fromEntries(ue))}),H}_triggerWebAnimation(Y,H,ue){return Y.animate(this._convertKeyframesToObject(H),ue)}onStart(Y){this._originalOnStartFns.push(Y),this._onStartFns.push(Y)}onDone(Y){this._originalOnDoneFns.push(Y),this._onDoneFns.push(Y)}onDestroy(Y){this._onDestroyFns.push(Y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(Y=>Y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(Y=>Y()),this._onDestroyFns=[])}setPosition(Y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=Y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const Y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ue,Ie)=>{"offset"!==Ie&&Y.set(Ie,this._finished?ue:An(this.element,Ie))}),this.currentSnapshot=Y}triggerCallback(Y){const H="start"===Y?this._onStartFns:this._onDoneFns;H.forEach(ue=>ue()),H.length=0}}class se{validateStyleProperty(Y){return!0}validateAnimatableStyleProperty(Y){return!0}matchesElement(Y,H){return!1}containsElement(Y,H){return It(Y,H)}getParentElement(Y){return ft(Y)}query(Y,H,ue){return Yt(Y,H,ue)}computeStyle(Y,H,ue){return window.getComputedStyle(Y)[H]}animate(Y,H,ue,Ie,Ye,ut=[]){const Nt={duration:ue,delay:Ie,fill:0==Ie?"both":"forwards"};Ye&&(Nt.easing=Ye);const tn=new Map,Ln=ut.filter(lr=>lr instanceof Yr);(function cn(_e,Y){return 0===_e||0===Y})(ue,Ie)&&Ln.forEach(lr=>{lr.currentSnapshot.forEach((nr,gr)=>tn.set(gr,nr))});let Hn=function Gt(_e){return _e.length?_e[0]instanceof Map?_e:_e.map(Y=>Qt(Y)):[]}(H).map(lr=>fn(lr));Hn=function Pn(_e,Y,H){if(H.size&&Y.length){let ue=Y[0],Ie=[];if(H.forEach((Ye,ut)=>{ue.has(ut)||Ie.push(ut),ue.set(ut,Ye)}),Ie.length)for(let Ye=1;Ye<Y.length;Ye++){let ut=Y[Ye];Ie.forEach(Ot=>ut.set(Ot,An(_e,Ot)))}}return Y}(Y,Hn,tn);const Dr=function Io(_e,Y){let H=null,ue=null;return Array.isArray(Y)&&Y.length?(H=Zo(Y[0]),Y.length>1&&(ue=Zo(Y[Y.length-1]))):Y instanceof Map&&(H=Zo(Y)),H||ue?new xs(_e,H,ue):null}(Y,Hn);return new Yr(Y,Hn,Nt,Dr)}}var he=e(35103);let V=(()=>{class _e extends l._j{constructor(H,ue){super(),this._nextAnimationId=0,this._renderer=H.createRenderer(ue.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(H){const ue=this._nextAnimationId.toString();this._nextAnimationId++;const Ie=Array.isArray(H)?(0,l.vP)(H):H;return Wt(this._renderer,null,ue,"register",[Ie]),new De(ue,this._renderer)}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(r.RendererFactory2),r.\u0275\u0275inject(he.K0))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();class De extends l.LC{constructor(Y,H){super(),this._id=Y,this._renderer=H}create(Y,H){return new rt(this._id,Y,H||{},this._renderer)}}class rt{constructor(Y,H,ue,Ie){this.id=Y,this.element=H,this._renderer=Ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ue)}_listen(Y,H){return this._renderer.listen(this.element,`@@${this.id}:${Y}`,H)}_command(Y,...H){return Wt(this._renderer,this.element,this.id,Y,H)}onDone(Y){this._listen("done",Y)}onStart(Y){this._listen("start",Y)}onDestroy(Y){this._listen("destroy",Y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Y){this._command("setPosition",Y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wt(_e,Y,H,ue,Ie){return _e.setProperty(Y,`@@${H}:${ue}`,Ie)}const xt="@.disabled";let Un=(()=>{class _e{constructor(H,ue,Ie){this.delegate=H,this.engine=ue,this._zone=Ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ue.onRemovalComplete=(Ye,ut)=>{const Ot=ut?.parentNode(Ye);Ot&&ut.removeChild(Ot,Ye)}}createRenderer(H,ue){const Ye=this.delegate.createRenderer(H,ue);if(!(H&&ue&&ue.data&&ue.data.animation)){let Ln=this._rendererCache.get(Ye);return Ln||(Ln=new Zr("",Ye,this.engine,()=>this._rendererCache.delete(Ye)),this._rendererCache.set(Ye,Ln)),Ln}const ut=ue.id,Ot=ue.id+"-"+this._currentId;this._currentId++,this.engine.register(Ot,H);const Nt=Ln=>{Array.isArray(Ln)?Ln.forEach(Nt):this.engine.registerTrigger(ut,Ot,H,Ln.name,Ln)};return ue.data.animation.forEach(Nt),new ui(this,Ot,Ye,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(H,ue,Ie){H>=0&&H<this._microtaskId?this._zone.run(()=>ue(Ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ye=>{const[ut,Ot]=Ye;ut(Ot)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ue,Ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(r.RendererFactory2),r.\u0275\u0275inject(ls),r.\u0275\u0275inject(r.NgZone))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();class Zr{constructor(Y,H,ue,Ie){this.namespaceId=Y,this.delegate=H,this.engine=ue,this._onDestroy=Ie,this.destroyNode=this.delegate.destroyNode?Ye=>H.destroyNode(Ye):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(Y,H){return this.delegate.createElement(Y,H)}createComment(Y){return this.delegate.createComment(Y)}createText(Y){return this.delegate.createText(Y)}appendChild(Y,H){this.delegate.appendChild(Y,H),this.engine.onInsert(this.namespaceId,H,Y,!1)}insertBefore(Y,H,ue,Ie=!0){this.delegate.insertBefore(Y,H,ue),this.engine.onInsert(this.namespaceId,H,Y,Ie)}removeChild(Y,H,ue){this.engine.onRemove(this.namespaceId,H,this.delegate,ue)}selectRootElement(Y,H){return this.delegate.selectRootElement(Y,H)}parentNode(Y){return this.delegate.parentNode(Y)}nextSibling(Y){return this.delegate.nextSibling(Y)}setAttribute(Y,H,ue,Ie){this.delegate.setAttribute(Y,H,ue,Ie)}removeAttribute(Y,H,ue){this.delegate.removeAttribute(Y,H,ue)}addClass(Y,H){this.delegate.addClass(Y,H)}removeClass(Y,H){this.delegate.removeClass(Y,H)}setStyle(Y,H,ue,Ie){this.delegate.setStyle(Y,H,ue,Ie)}removeStyle(Y,H,ue){this.delegate.removeStyle(Y,H,ue)}setProperty(Y,H,ue){"@"==H.charAt(0)&&H==xt?this.disableAnimations(Y,!!ue):this.delegate.setProperty(Y,H,ue)}setValue(Y,H){this.delegate.setValue(Y,H)}listen(Y,H,ue){return this.delegate.listen(Y,H,ue)}disableAnimations(Y,H){this.engine.disableAnimations(Y,H)}}class ui extends Zr{constructor(Y,H,ue,Ie,Ye){super(H,ue,Ie,Ye),this.factory=Y,this.namespaceId=H}setProperty(Y,H,ue){"@"==H.charAt(0)?"."==H.charAt(1)&&H==xt?this.disableAnimations(Y,ue=void 0===ue||!!ue):this.engine.process(this.namespaceId,Y,H.slice(1),ue):this.delegate.setProperty(Y,H,ue)}listen(Y,H,ue){if("@"==H.charAt(0)){const Ie=function Jr(_e){switch(_e){case"body":return document.body;case"document":return document;case"window":return window;default:return _e}}(Y);let Ye=H.slice(1),ut="";return"@"!=Ye.charAt(0)&&([Ye,ut]=function Ws(_e){const Y=_e.indexOf(".");return[_e.substring(0,Y),_e.slice(Y+1)]}(Ye)),this.engine.listen(this.namespaceId,Ie,Ye,ut,Ot=>{this.factory.scheduleListenerCallback(Ot._data||-1,ue,Ot)})}return this.delegate.listen(Y,H,ue)}}let Is=(()=>{class _e extends ls{constructor(H,ue,Ie,Ye){super(H.body,ue,Ie)}ngOnDestroy(){this.flush()}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(he.K0),r.\u0275\u0275inject(Mn),r.\u0275\u0275inject(Ki),r.\u0275\u0275inject(r.ApplicationRef))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();const cs=[{provide:l._j,useClass:V},{provide:Ki,useFactory:function Vi(){return new bo}},{provide:ls,useClass:Is},{provide:r.RendererFactory2,useFactory:function ra(_e,Y,H){return new Un(_e,Y,H)},deps:[t.se,ls,r.NgZone]}],Ks=[{provide:Mn,useFactory:()=>new se},{provide:r.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...cs],Ls=[{provide:Mn,useClass:Tt},{provide:r.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...cs];let Ui=(()=>{class _e{static withConfig(H){return{ngModule:_e,providers:H.disableAnimations?Ls:Ks}}}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({providers:Ks,imports:[t.b2]}),_e})();var gs=e(7754),Li=e(96342);const Jo=(0,t.Cb)("NGX_TRANSLATE_STATE");var Rr=e(45608),ni=e(48358),wo=e(9237),Gn=e(76774);class pa{constructor(Y,H,ue,Ie){this.transferState=Y,this.http=H,this.prefix=ue,this.suffix=Ie}getTranslation(Y){const ue=this.transferState.get(Jo,{})[Y];return(0,Rr.Uh)(ue)?(0,wo.of)(ue):this.http.get(`${this.prefix}${Y}${Gn.N.production?`.${{"ar.json5":"776ab7c1489615e72dddb9becdacadf3","bn.json5":"ad731ca77cee3013a1cc021f512325c3","ca.json5":"9aeda3e769e0deada58e6f8ae9d3b6e5","cs.json5":"c07a7c0f1956f3d7a7b03bff971bddc4","de.json5":"b342992c6e376bfd7ede49aec77a2732","el.json5":"aabbae5ce5f34451c5d3f68f819378fb","en.json5":"4ed2840c555bc6830fceaf517b2bfbda","es.json5":"355a77949bd229c89d134ca76e9ff565","fi.json5":"2be989382c4ccfb97a4718ab083543e3","fr.json5":"c8d30ab78d05f94c5b572bda6d476e9e","gd.json5":"9949e736f41f7844bdc7e1c26f6403f9","hi.json5":"87ff6c08a40aaad14fa5f708a412c81d","hu.json5":"9b6d932572ebd47e35d8eaaba2f42429","it.json5":"667d6f5c7446bc3d581b798cf7c16e71","ja.json5":"0a6279a89aac788311e73566cfc63bfc","kk.json5":"382fccdc91edf6ecb113262de971eeb5","lv.json5":"a741acd0563a9e8d5cb6cc4391f1a722","nl.json5":"2d81a5f15610c113e8ec9bf4bd38cd05","pl.json5":"be23716f54523e37b1a891231159f93a","pt-BR.json5":"1cd1256d6c9b2be0247e8712f70da237","pt-PT.json5":"5fd5451fc98d1b28802daa0914298d7a","sr-cyr.json5":"874ee2db9809416881246c289e503ba2","sr-lat.json5":"1a65669d9190c920f6e73af92efb21c0","sv.json5":"4dbc623ab6f2f3fe795914cfcc4cb3af","sw.json5":"730175924bc929d7556ce8747fc31f97","tr.json5":"f565a34370946f265a74b17e065a398e","uk.json5":"bfc54795e2e514c53dabd95ac141dcd9","vi.json5":"4963690d88b6c32b709682b8999406fc"}[Y+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,ni.U)(Ye=>JSON.parse(Ye)))}}var Qs=e(13710),Bs=e(44423),qo=e(49887),Ts=e(22040),so=e(77176),To=e(67522),ha=e(35841),Hi=e(89702),Hs=e(53444),Xi=e(10844),Xs=e(36533),fi=e(38123),vs=e(11221),ri=e(59058),Es=e(34216),ao=e(48829),es=e(65706);const ys=function(_e){return{timeToExpire:_e}};let fa=(()=>{class _e{constructor(H,ue,Ie){this.activeModal=H,this.authService=ue,this.store=Ie,this.response=new r.EventEmitter,this.timeToExpire=(Gn.N.auth.ui.timeUntilIdle+Gn.N.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,Rr.Uh)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},Gn.N.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new ao.Hj)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,Rr.Uh)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275directiveInject(es.Kz),r.\u0275\u0275directiveInject(fi.e8),r.\u0275\u0275directiveInject(Hi.yh))},_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-idle-modal"]],outputs:{response:"response"},decls:20,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(H,ue){1&H&&(r.\u0275\u0275elementStart(0,"div")(1,"div",0),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementStart(4,"button",1),r.\u0275\u0275listener("click",function(){return ue.closePressed()}),r.\u0275\u0275elementStart(5,"span",2),r.\u0275\u0275text(6,"\xd7"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(7,"div",3)(8,"p"),r.\u0275\u0275text(9),r.\u0275\u0275pipe(10,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(11,"div",4)(12,"button",5),r.\u0275\u0275listener("click",function(){return ue.logOutPressed()}),r.\u0275\u0275element(13,"i",6),r.\u0275\u0275text(14),r.\u0275\u0275pipe(15,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(16,"button",7),r.\u0275\u0275listener("click",function(){return ue.extendSessionPressed()}),r.\u0275\u0275element(17,"i",8),r.\u0275\u0275text(18),r.\u0275\u0275pipe(19,"translate"),r.\u0275\u0275elementEnd()()()),2&H&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",r.\u0275\u0275pipeBind1(3,4,"idle-modal.header")," "),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(10,6,"idle-modal.info",r.\u0275\u0275pureFunction1(13,ys,ue.timeToExpire))),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(15,9,"idle-modal.log-out")," "),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(19,11,"idle-modal.extend-session")," "))},dependencies:[Li.X$],encapsulation:2}),_e})();var ma=e(45664),As=e(4682);function _a(_e,Y){}const va=["*"];let ge=(()=>{class _e extends As.F{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(H){return e(70743)(`./${H}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,42877))}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-themed-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:va,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(H,ue){1&H&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,_a,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),_e})(),Be=(()=>{class _e{constructor(H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln,Hn,Dr){this._window=H,this.document=ue,this.platformId=Ie,this.themeService=Ye,this.translate=ut,this.store=Ot,this.authService=Nt,this.router=tn,this.cssService=Ln,this.modalService=Hn,this.modalConfig=Dr,this.isRouteLoading$=new ha.X(!1),this.notificationOptions=Gn.N.notifications,this.models=ri.Cq,(0,he.NF)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,Bs.Z)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,Hi.Ys)(Xs.v$),(0,qo.x)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.subscribe(H=>{H instanceof To.OD?(0,ma.e)(this.isRouteLoading$,!0):(H instanceof To.m2||H instanceof To.gk)&&(0,ma.e)(this.isRouteLoading$,!1)})}onResize(H){this.dispatchWindowSize(H.target.innerWidth,H.target.innerHeight)}dispatchWindowSize(H,ue){this.store.dispatch(new Hs.D(H,ue))}trackIdleModal(){const H=this.authService.isUserIdle(),ue=this.authService.isAuthenticated();H.pipe((0,Ts.M)(ue)).subscribe(([Ie,Ye])=>{if(Ie&&Ye&&!this.idleModalOpen){const ut=this.modalService.open(fa,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,ut.componentInstance.response.pipe((0,so.q)(1)).subscribe(Ot=>{Ot&&(this.idleModalOpen=!1)})}})}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275directiveInject(Xi.DC),r.\u0275\u0275directiveInject(he.K0),r.\u0275\u0275directiveInject(r.PLATFORM_ID),r.\u0275\u0275directiveInject(Es.fY),r.\u0275\u0275directiveInject(Li.sK),r.\u0275\u0275directiveInject(Hi.yh),r.\u0275\u0275directiveInject(fi.e8),r.\u0275\u0275directiveInject(To.F0),r.\u0275\u0275directiveInject(vs.I),r.\u0275\u0275directiveInject(es.FF),r.\u0275\u0275directiveInject(es.NM))},_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-app"]],hostBindings:function(H,ue){1&H&&r.\u0275\u0275listener("resize",function(Ye){return ue.onResize(Ye)},!1,r.\u0275\u0275resolveWindow)},decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(H,ue){1&H&&(r.\u0275\u0275element(0,"ds-themed-root",0),r.\u0275\u0275pipe(1,"async"),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275pipe(3,"async")),2&H&&r.\u0275\u0275property("shouldShowFullscreenLoader",r.\u0275\u0275pipeBind1(1,2,ue.isAuthBlocking$)||r.\u0275\u0275pipeBind1(2,4,ue.isThemeLoading$))("shouldShowRouteLoader",r.\u0275\u0275pipeBind1(3,6,ue.isRouteLoading$))},dependencies:[ge,he.Ov],changeDetection:0}),_e})();var ye=e(589),ze=e(80233),_t=e(18603),an=e(5737),mn=e(77007);let zn=(()=>{class _e{constructor(H){this.store=H}canActivate(){return this.store.pipe((0,Hi.Ys)(Xs.v$)).pipe((0,ni.U)(H=>!1===H),(0,qo.x)(),(0,mn.h)(H=>!0===H),(0,so.q)(1))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Hi.yh))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();var Or=e(99805),wr=e(73737),ir=e(71213),Cr=e(42620),Pi=e(25584),Vr=e(15463),pi=e(74423),ts=e(29949),xr=e(38043),ki=e(33281);function po(_e,Y){}const Ii=["*"];let zr=(()=>{class _e extends As.F{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(H){return e(11489)(`./${H}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,44903))}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-themed-pagenotfound"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Ii,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(H,ue){1&H&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,po,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),_e})();function ns(_e,Y){}const Us=["*"];let Fo=(()=>{class _e extends As.F{getComponentName(){return"ForbiddenComponent"}importThemedComponent(H){return e(64496)(`./${H}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,58640))}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-themed-forbidden"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Us,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(H,ue){1&H&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,ns,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),_e})();var Ea=e(53896);function ds(_e,Y){}const ks=["*"];let $i=(()=>{class _e extends As.F{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(H){return e(84978)(`./${H}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,44010))}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-themed-page-internal-server-error"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ks,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(H,ue){1&H&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,ds,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),_e})();var Qr=e(26994);let ho=(()=>{class _e{constructor(H,ue){this.router=H,this.rootDataService=ue}canActivateChild(H,ue){return this.rootDataService.checkServerAvailability().pipe((0,so.q)(1),(0,ni.U)(Ie=>!!Ie||this.router.parseUrl((0,ir.Tt)())))}listenForRouteChanges(){this.rootDataService.findRoot(!1),this.router.events.pipe((0,mn.h)(H=>H instanceof To.OD)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(To.F0),r.\u0275\u0275inject(Qr.d))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();var yi=e(53426),ii=e(82126),Kr=e(27696),No=e(10572),ws=e(1081),Co=e(29306),Ci=e(66154),Eo=e(80978),fo=e(4549),Fs=e(89221),Cs=e(42553),Ao=e(22119),Zi=e(41280),Rs=e(45968),ia=e(63100),Oa=e(35794),$s=e(75286),Ma=e(52244);let Sa=(()=>{class _e{constructor(H,ue,Ie,Ye,ut){this.menuService=H,this.browseService=ue,this.authorizationService=Ie,this.modalService=Ye,this.scriptDataService=ut}resolve(H,ue){return(0,yi.a)([this.createPublicMenu$(),this.createAdminMenu$()]).pipe((0,ni.U)(Ie=>Ie.every(Boolean)))}waitForMenu$(H){return this.menuService.getMenu(H).pipe((0,Ci.s)(ue=>(0,Rr.Uh)(ue)),(0,ni.U)(()=>!0))}createPublicMenu$(){const H=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:Kr.U.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,No.hC)()).subscribe(ue=>{ue.hasSucceeded&&(ue.payload.page.forEach(Ie=>{H.push({id:`browse_global_by_${Ie.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:Kr.U.LINK,text:`menu.section.browse_global_by_${Ie.id}`,link:`/browse/${Ie.id}`}})}),H.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:Kr.U.TEXT,text:"menu.section.browse_global"}})),H.forEach(Ie=>this.menuService.addSection(ii.z.PUBLIC,Object.assign(Ie,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$(ii.z.PUBLIC)}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.waitForMenu$(ii.z.ADMIN)}createMainMenuSections(){(0,yi.a)([this.authorizationService.isAuthorized(Eo.i.IsCollectionAdmin),this.authorizationService.isAuthorized(Eo.i.IsCommunityAdmin),this.authorizationService.isAuthorized(Eo.i.AdministratorOf),this.authorizationService.isAuthorized(Eo.i.CanSubmit),this.authorizationService.isAuthorized(Eo.i.CanEditItem)]).subscribe(([H,ue,Ie,Ye,ut])=>{const Ot=[{id:"new_community",parentID:"new",active:!1,visible:ue,model:{type:Kr.U.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(fo.e)}}},{id:"new_collection",parentID:"new",active:!1,visible:ue,model:{type:Kr.U.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(Fs.i)}}},{id:"new_item",parentID:"new",active:!1,visible:Ye,model:{type:Kr.U.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(Cs.g)}}},{id:"new_process",parentID:"new",active:!1,visible:Ie,model:{type:Kr.U.LINK,text:"menu.section.new_process",link:"/processes/new"}}],Nt=[{id:"edit_community",parentID:"edit",active:!1,visible:ue,model:{type:Kr.U.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(Ao.p)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:H,model:{type:Kr.U.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(Zi.A)}}},{id:"edit_item",parentID:"edit",active:!1,visible:ut,model:{type:Kr.U.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(Rs.z)}}}],tn={id:"new",active:!1,visible:Ot.some(Dr=>Dr.visible),model:{type:Kr.U.TEXT,text:"menu.section.new"},icon:"plus",index:0},Ln={id:"edit",active:!1,visible:Nt.some(Dr=>Dr.visible),model:{type:Kr.U.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...Ot,tn,...Nt,Ln,{id:"processes",active:!1,visible:Ie,model:{type:Kr.U.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"health",active:!1,visible:Ie,model:{type:Kr.U.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11}].forEach(Dr=>this.menuService.addSection(ii.z.ADMIN,Object.assign(Dr,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(ue=>this.menuService.addSection(ii.z.ADMIN,ue)),(0,yi.a)([this.authorizationService.isAuthorized(Eo.i.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute($s.BW)]).pipe((0,mn.h)(([ue,Ie])=>ue&&Ie),(0,so.q)(1)).subscribe(()=>{this.menuService.addSection(ii.z.ADMIN,{id:"export",active:!1,visible:!0,model:{type:Kr.U.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection(ii.z.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:Kr.U.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(ia.T)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection(ii.z.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:Kr.U.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(Ma.P)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(ue=>this.menuService.addSection(ii.z.ADMIN,ue)),(0,yi.a)([this.authorizationService.isAuthorized(Eo.i.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute($s.As)]).pipe((0,mn.h)(([ue,Ie])=>ue&&Ie),(0,so.q)(1)).subscribe(()=>{this.menuService.addSection(ii.z.ADMIN,{id:"import",active:!1,visible:!0,model:{type:Kr.U.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection(ii.z.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:Kr.U.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection(ii.z.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:Kr.U.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(Eo.i.AdministratorOf).subscribe(H=>{[{id:"admin_search",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:H,model:{type:Kr.U.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(Ie=>this.menuService.addSection(ii.z.ADMIN,Object.assign(Ie,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,yi.a)([this.authorizationService.isAuthorized(Eo.i.AdministratorOf),this.authorizationService.isAuthorized(Eo.i.CanManageGroups)]).subscribe(([H,ue])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:ue,model:{type:Kr.U.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:H,model:{type:Kr.U.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:ue||H,model:{type:Kr.U.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach(Ye=>this.menuService.addSection(ii.z.ADMIN,Object.assign(Ye,{shouldPersistOnRouteChange:!0})))})}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Co.h),r.\u0275\u0275inject(ws.I),r.\u0275\u0275inject(Oa._),r.\u0275\u0275inject(es.FF),r.\u0275\u0275inject($s.UY))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function Zs(_e,Y){}const Ds=["*"];let oa=(()=>{class _e extends As.F{getComponentName(){return"PageErrorComponent"}importThemedComponent(H){return e(53781)(`./${H}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,92413))}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275cmp=r.\u0275\u0275defineComponent({type:_e,selectors:[["ds-themed-page-error"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Ds,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(H,ue){1&H&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,Zs,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),_e})(),sa=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({imports:[To.Bz.forRoot([{path:ir.be,component:$i},{path:ir.fP,component:oa},{path:"",canActivate:[zn],canActivateChild:[ho],resolve:[Sa],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:zr,pathMatch:"full",canActivate:[ts.w]},{path:"home",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(8894),e.e(7452)]).then(e.bind(e,27452)).then(Y=>Y.HomePageModule),data:{showBreadcrumbs:!1},canActivate:[xr.J]},{path:"community-list",loadChildren:()=>Promise.all([e.e(7566),e.e(965)]).then(e.bind(e,80965)).then(Y=>Y.CommunityListPageModule),canActivate:[xr.J]},{path:"id",loadChildren:()=>e.e(719).then(e.bind(e,80719)).then(Y=>Y.LookupIdModule),canActivate:[xr.J]},{path:"handle",loadChildren:()=>e.e(719).then(e.bind(e,80719)).then(Y=>Y.LookupIdModule),canActivate:[xr.J]},{path:ir.Wb,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8592),e.e(7109)]).then(e.bind(e,67109)).then(Y=>Y.RegisterPageModule),canActivate:[ki.C]},{path:ir.T5,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8592),e.e(6156)]).then(e.bind(e,16156)).then(Y=>Y.ForgotPasswordModule),canActivate:[xr.J]},{path:Pi.Ww,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(9716),e.e(7413),e.e(8592),e.e(5876)]).then(e.bind(e,15876)).then(Y=>Y.CommunityPageModule),canActivate:[xr.J]},{path:Cr.yu,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(4131),e.e(2837),e.e(1537),e.e(7413),e.e(8592),e.e(9230)]).then(e.bind(e,19230)).then(Y=>Y.CollectionPageModule),canActivate:[xr.J]},{path:Vr.Oo,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(4131),e.e(2837),e.e(9255),e.e(4136),e.e(1537),e.e(8134)]).then(e.bind(e,98134)).then(Y=>Y.ItemPageModule),canActivate:[xr.J]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(4131),e.e(2837),e.e(9255),e.e(4136),e.e(1537),e.e(8134)]).then(e.bind(e,98134)).then(Y=>Y.ItemPageModule),canActivate:[xr.J]},{path:ir.EH,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(4131),e.e(10)]).then(e.bind(e,70010)).then(Y=>Y.BitstreamPageModule),canActivate:[xr.J]},{path:ir.wU,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(4131),e.e(10)]).then(e.bind(e,70010)).then(Y=>Y.BitstreamPageModule),canActivate:[xr.J]},{path:"mydspace",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(8894),e.e(9716),e.e(8592),e.e(4626)]).then(e.bind(e,34626)).then(Y=>Y.MyDSpacePageModule),canActivate:[Or.J,xr.J]},{path:"search",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(8894),e.e(8406)]).then(e.bind(e,88406)).then(Y=>Y.SearchPageRoutingModule),canActivate:[xr.J]},{path:"browse",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(9716),e.e(7413),e.e(1343)]).then(e.bind(e,61343)).then(Y=>Y.BrowseByPageModule),canActivate:[xr.J]},{path:ir.h,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(8592),e.e(8154)]).then(e.bind(e,63202)).then(Y=>Y.AdminModule),canActivate:[wr.X,xr.J]},{path:"login",loadChildren:()=>e.e(3856).then(e.bind(e,13856)).then(Y=>Y.LoginPageModule)},{path:"logout",loadChildren:()=>e.e(1824).then(e.bind(e,31824)).then(Y=>Y.LogoutPageModule)},{path:"submit",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(2577),e.e(1202)]).then(e.bind(e,11202)).then(Y=>Y.SubmitPageModule),canActivate:[xr.J]},{path:"import-external",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(2577),e.e(6816)]).then(e.bind(e,86816)).then(Y=>Y.ImportExternalPageModule),canActivate:[xr.J]},{path:"workspaceitems",loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(2577),e.e(8592),e.e(1509)]).then(e.bind(e,41509)).then(Y=>Y.WorkspaceitemsEditPageModule),canActivate:[xr.J]},{path:ir.pH,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8894),e.e(9716),e.e(4131),e.e(2837),e.e(2577),e.e(9255),e.e(4136),e.e(1537),e.e(8134),e.e(8592),e.e(9415)]).then(e.bind(e,59415)).then(Y=>Y.WorkflowItemsEditPageModule),canActivate:[xr.J]},{path:ir.jF,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8592)]).then(e.bind(e,78939)).then(Y=>Y.ProfilePageModule),canActivate:[Or.J,xr.J]},{path:pi.gm,loadChildren:()=>Promise.all([e.e(8592),e.e(5832)]).then(e.bind(e,25832)).then(Y=>Y.ProcessPageModule),canActivate:[Or.J,xr.J]},{path:ir.sF,loadChildren:()=>e.e(9361).then(e.bind(e,89361)).then(Y=>Y.InfoModule)},{path:ir.mG,loadChildren:()=>e.e(3562).then(e.bind(e,83562)).then(Y=>Y.RequestCopyModule),canActivate:[xr.J]},{path:ir.Bw,component:Fo},{path:"statistics",loadChildren:()=>Promise.all([e.e(8592),e.e(864)]).then(e.bind(e,80864)).then(Y=>Y.StatisticsPageRoutingModule),canActivate:[xr.J]},{path:ir.Gz,loadChildren:()=>e.e(2867).then(e.bind(e,32867)).then(Y=>Y.HealthPageModule)},{path:ir.QX,loadChildren:()=>Promise.all([e.e(3201),e.e(7566),e.e(3326),e.e(7538),e.e(4686),e.e(9899),e.e(867),e.e(8592),e.e(3682)]).then(e.bind(e,13979)).then(Y=>Y.AccessControlModule),canActivate:[Ea.E,xr.J]},{path:"subscriptions",loadChildren:()=>e.e(3757).then(e.bind(e,43757)).then(Y=>Y.SubscriptionsPageRoutingModule),canActivate:[Or.J]},{path:"**",pathMatch:"full",component:zr}]}],{useHash:!1,scrollPositionRestoration:"enabled",anchorScrolling:"enabled",initialNavigation:"enabledBlocking",preloadingStrategy:To.GZ,onSameUrlNavigation:"reload"}),To.Bz]}),_e})();var rs=e(40383);let Ro=(()=>{class _e{constructor(H,ue){this.actions=H,this.store=ue,this.replay=(0,ye.GW)(()=>this.actions.pipe((0,ye.l4)(rs.H.REPLAY),(0,ni.U)(Ie=>(0,wo.of)({}))),{dispatch:!1}),this.resize=(0,ye.GW)(()=>this.actions.pipe((0,ye.l4)(rs.H.REPLAY,rs.H.REHYDRATE),(0,ni.U)(()=>new Hs.D(window.innerWidth,window.innerHeight))))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX),r.\u0275\u0275inject(Hi.yh))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})(),xo=(()=>{class _e{constructor(H,ue){this.actions$=H,this.store=ue}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX),r.\u0275\u0275inject(Hi.yh))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Do=e(21160),aa=e(76215),Ji=e(96713),Oo=e(54998);let Js=(()=>{class _e{constructor(H,ue){this.actions$=H,this.menuService=ue,this.menuID=ii.z.PUBLIC,this.resize$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(Hs.L.RESIZE),(0,ni.U)(()=>new Ji.tv(this.menuID)))),this.routeChange$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(ze.tE),(0,ni.U)(()=>new Ji.tv(this.menuID)))),this.openAdminSidebar$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(Ji.mk.EXPAND_MENU_PREVIEW),(0,Do.w)(Ie=>this.menuService.getMenu(Ie.menuID).pipe((0,aa.P)(),(0,ni.U)(Ye=>Ye.id===ii.z.ADMIN&&!Ye.previewCollapsed&&Ye.collapsed?new Ji.tv(ii.z.PUBLIC):new Oo.B)))))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX),r.\u0275\u0275inject(Co.h))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Hr=e(27303),jo=e(89055);class is{constructor(Y){this.original=Y}toString(){if((0,Rr.xb)(this.original))return"";{const Y=this.original.indexOf("?");return Y<0?this.original:this.original.substring(0,Y)}}}let Os=(()=>{class _e{constructor(H){this.actions$=H,this.routeChange$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(ze.tE),(0,mn.h)(ue=>this.previousPath!==this.getBaseUrl(ue)),(0,Hr.b)(ue=>{this.previousPath=this.getBaseUrl(ue)}),(0,ni.U)(()=>new jo.ZZ)))}getBaseUrl(H){return new is(H.payload.routerState.url).toString()}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Wo=e(69637),ya=e(84332),lo=e(39492),Ms=e(55491),He=e(14677),fe=e(32924),de=e(55624),Te=e(6952),N=e(70438),X=e(1267),G=e(46533),le=e(65384),Me=e(91416);let Xe=(()=>{class _e{constructor(H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln,Hn,Dr){this.actions$=H,this.relationshipService=ue,this.relationshipTypeService=Ie,this.submissionObjectService=Ye,this.store=ut,this.objectCache=Ot,this.requestService=Nt,this.notificationsService=tn,this.translateService=Ln,this.selectableListService=Hn,this.debounceTime=Dr,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(lo.g.ADD_RELATIONSHIP,lo.g.REMOVE_RELATIONSHIP),(0,ni.U)(lr=>{const{item1:nr,item2:gr,submissionId:oi,relationshipType:Di}=lr.payload,Ai=this.createIdentifier(nr,gr,Di);(0,Rr.xI)(this.debounceMap[Ai])?(this.initialActionMap[Ai]=lr.type,this.debounceMap[Ai]=new ha.X(lr.type),this.debounceMap[Ai].pipe(this.debounceTime(500),(0,so.q)(1)).subscribe(os=>{if(this.initialActionMap[Ai]===os)if(os===lo.g.ADD_RELATIONSHIP){let ss=lr.payload.nameVariant;(0,Rr.Uh)(this.nameVariantUpdates[Ai])&&(ss=this.nameVariantUpdates[Ai],delete this.nameVariantUpdates[Ai]),this.addRelationship(nr,gr,Di,oi,ss)}else this.removeRelationship(nr,gr,Di,oi);delete this.debounceMap[Ai],delete this.initialActionMap[Ai]})):this.debounceMap[Ai].next(lr.type)})),{dispatch:!1}),this.updateNameVariantsActions$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(lo.g.UPDATE_NAME_VARIANT),(0,ni.U)(lr=>{const{item1:nr,item2:gr,relationshipType:oi,submissionId:Di,nameVariant:Ai}=lr.payload,os=this.createIdentifier(nr,gr,oi);(0,Rr.Uh)(this.debounceMap[os])?this.nameVariantUpdates[os]=Ai:this.relationshipService.updateNameVariant(nr,gr,oi,Ai).pipe((0,mn.h)(wa=>(0,Rr.Uh)(wa.payload)),(0,so.q)(1)).subscribe(wa=>{this.updateAfterPatchSubmissionId=Di,this.relationshipService.refreshRelationshipItemsInCache(nr),this.relationshipService.refreshRelationshipItemsInCache(gr)})})),{dispatch:!1}),this.updateRelationshipActions$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(lo.g.UPDATE_RELATIONSHIP),(0,ni.U)(lr=>{this.updateAfterPatchSubmissionId=lr.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(N.ci.EMPTY,X.nQ.COMMIT_JSON_PATCH_OPERATIONS),(0,mn.h)(()=>(0,Rr.Uh)(this.updateAfterPatchSubmissionId)),(0,Do.w)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,ni.U)(lr=>new fe.hM(this.updateAfterPatchSubmissionId,[lr],!1))))}createIdentifier(H,ue,Ie){return`${H.uuid}-${ue.uuid}-${Ie}`}addRelationship(H,ue,Ie,Ye,ut){const Ot=H.firstMetadataValue("dspace.entity.type"),Nt=ue.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(Ie,Ot,Nt).pipe((0,Wo.z)(tn=>null===tn?[null]:tn.rightwardType===Ie?this.relationshipService.addRelationship(tn.id,ue,H,ut,void 0):this.relationshipService.addRelationship(tn.id,H,ue,void 0,ut)),(0,so.q)(1),(0,Do.w)(tn=>{if((0,Rr.xI)(tn)||tn.hasFailed){const Ln=`list-${Ye}-${Ie}`;let Hn;this.selectableListService.findSelectedByCondition(Ln,Dr=>(0,Rr.Uh)(Dr.indexableObject)&&Dr.indexableObject.uuid===ue.uuid).pipe((0,so.q)(1),(0,Rr.tz)()).subscribe(Dr=>{this.selectableListService.deselectSingle(Ln,Dr)}),Hn=(0,Rr.xI)(tn)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:Ie}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),Hn)}return this.refreshWorkspaceItemInCache(Ye)})).subscribe(tn=>this.store.dispatch(new fe.hM(Ye,[tn],!1)))}removeRelationship(H,ue,Ie,Ye){this.relationshipService.getRelationshipByItemsAndLabel(H,ue,Ie).pipe((0,Wo.z)(ut=>this.relationshipService.deleteRelationship(ut.id,"none")),(0,so.q)(1),(0,Do.w)(()=>this.refreshWorkspaceItemInCache(Ye))).subscribe(ut=>{this.store.dispatch(new fe.hM(Ye,[ut],!1))})}refreshWorkspaceItemInCache(H){return this.submissionObjectService.findById(H,!1,!1,(0,G.l)("item")).pipe((0,No.xw)(),(0,No.xe)())}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX),r.\u0275\u0275inject(ya.U),r.\u0275\u0275inject(Ms.X),r.\u0275\u0275inject(He.O),r.\u0275\u0275inject(Hi.yh),r.\u0275\u0275inject(de.a),r.\u0275\u0275inject(Te.s),r.\u0275\u0275inject(le.T),r.\u0275\u0275inject(Li.sK),r.\u0275\u0275inject(Me.w),r.\u0275\u0275inject(No.r_))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Lt=e(17986),un=e(53924),wn=e(58614);const vr=[Ro,Js,xo,Os,(()=>{class _e{constructor(H){this.actions$=H,this.initTheme$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(ye.jK),(0,ni.U)(()=>{const ue=(0,wn.ML)();return(0,Rr.Uh)(ue)?new Lt.t(ue.name):new Lt.t(un.B)})))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ye.eX))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})(),Xe];let or=0;const wi=[function Ko(_e){return(Y,H)=>(or++,console.log("@ngrx action",or,H.type),console.log("state",JSON.stringify(Y)),console.log("action",JSON.stringify(H)),console.log("------------------------------------"),_e(Y,H))}],zi=[function qi(_e){return(Y,H)=>(H.type===rs.H.REHYDRATE&&(Y=Object.assign({},Y,H.payload)),_e(Y,H))}];var Ca=e(39100),zs=e(5752),qs=e(53929);let Ta=(()=>{class _e extends qs.N{set(H,ue,Ie){(0,zs.set)(H,ue,Ie),this.updateSource()}remove(H,ue){(0,zs.remove)(H,ue),this.updateSource()}get(H){return(0,zs.getJSON)(H)}getAll(){return(0,zs.getJSON)()}}return _e.\u0275fac=function(){let Y;return function(ue){return(Y||(Y=r.\u0275\u0275getInheritedFactory(_e)))(ue||_e)}}(),_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Ns,Ss=e(35054),Aa=e(24486),la=e(70655),Ra=e(52799);function ba(_e,Y){}let ca=((Ns=class extends As.F{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(Y){return e(86192)(`./${Y}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,24486))}}).\u0275fac=function(){let _e;return function(H){return(_e||(_e=r.\u0275\u0275getInheritedFactory(Ns)))(H||Ns)}}(),Ns.\u0275cmp=r.\u0275\u0275defineComponent({type:Ns,selectors:[["ds-themed-expandable-navbar-section"]],features:[r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Y,H){1&Y&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,ba,0,0,"ng-template",null,0,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(2,"div",null,1),r.\u0275\u0275projection(4),r.\u0275\u0275elementEnd())},encapsulation:2}),Ns);ca=(0,la.__decorate)([(0,Ra.h)(ii.z.PUBLIC,!0)],ca);var qa=e(72588),us=e(57999),La=e(5476);const Va=[Js],cl=[Ss.h,Aa.ExpandableNavbarSectionComponent,ca];let Ke=(()=>{class _e{static withEntryComponents(){return{ngModule:_e,providers:cl.map(H=>({provide:H}))}}}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({imports:[he.ez,us.m,qa.$,La.u5,ye.sQ.forFeature(Va),ri.IR.forRoot()]}),_e})(),st=(()=>{class _e{serialize(H){const{url:ue}=H;return{url:ue,queryParams:H.root.queryParams}}}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Se=e(99911),Ft=e(9249),We=e(94333),at=e(86960),kt=e(97329),On=e(63643);let Wn=(()=>{class _e{constructor(H,ue,Ie){this.inj=H,this.router=ue,this.store=Ie,this.refreshTokenRequestUrls=[]}isUnauthorized(H){return 401===H.status}isSuccess(H){return 200===H.status||204===H.status}isAuthRequest(H){return H&&H.url&&(H.url.endsWith("/authn/login")||H.url.endsWith("/authn/logout")||H.url.endsWith("/authn/status"))}isLoginResponse(H){return H.url&&H.url.endsWith("/authn/login")}isLogoutResponse(H){return H.url&&H.url.endsWith("/authn/logout")}isStatusResponse(H){return H.url&&H.url.endsWith("/authn/status")}parseLocation(H){let ue=H.trim();ue=ue.replace('location="',""),ue=ue.replace('"',"");let Ie=/%3A%2F%2F/g;return ue=ue.replace(Ie,"://"),Ie=/%3A/g,ue=ue.replace(Ie,":"),ue.trim()}sortAuthMethods(H){const ue=[];return H.forEach(Ie=>{Ie.authMethodType===On.q.Password&&ue.push(Ie)}),H.forEach(Ie=>{Ie.authMethodType!==On.q.Password&&ue.push(Ie)}),ue}parseAuthMethodsFromHeaders(H){let ue=[];if((0,Rr.UE)(H.get("www-authenticate"))){const ut=H.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Ot in ut){const Nt=ut[Ot].split(", "),tn=Nt[0].split(" ")[0].trim();let Ln;if(1===Nt.length)Ln=new kt.H(tn,Number(Ot)),ue.push(Ln);else if(Nt.length>1){let Hn=Nt[1];Hn=this.parseLocation(Hn),Ln=new kt.H(tn,Number(Ot),Hn),ue.push(Ln)}}ue=this.sortAuthMethods(ue)}else ue.push(new kt.H(On.q.Password,0));return ue}makeAuthStatusObject(H,ue,Ie,Ye){const ut=new We.t;if(Ye&&(ut.authMethods=this.parseAuthMethodsFromHeaders(Ye)),ut.id=null,ut.okay=!0,H)ut.authenticated=!0,ut.token=new at.Y(ue);else if(ut.authenticated=!1,(0,Rr.UE)(Ie))if("string"==typeof Ie)try{ut.error=JSON.parse(Ie)}catch(Ot){console.error('Unknown auth error "',Ie,'" caused ',Ot),ut.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else ut.error=Ie;return ut}intercept(H,ue){const Ie=this.inj.get(fi.e8),Ye=Ie.getToken();let ut,Ot;if(Ie.isTokenExpired())return(0,wo.of)(null);if(this.isAuthRequest(H)&&!this.isLogoutResponse(H)||!(0,Rr.UE)(Ye))ut=H.clone();else{Ot=Ie.buildAuthHeader(Ye);let Nt=H.headers.set("authorization",Ot);const tn=Ie.getImpersonateID();(0,Rr.Uh)(tn)&&(Nt=Nt.set("X-On-Behalf-Of",tn)),ut=H.clone({headers:Nt})}return ue.handle(ut).pipe((0,ni.U)(Nt=>{if(Nt instanceof d.Zn&&this.isSuccess(Nt)&&this.isAuthRequest(Nt)){let tn;if(this.isLoginResponse(Nt)){const Ln=Nt.headers.get("authorization");tn=Nt.clone({body:this.makeAuthStatusObject(!0,Ln)}),this.refreshTokenRequestUrls=[]}else tn=this.isStatusResponse(Nt)?Nt.clone({body:Object.assign(Nt.body,{authMethods:this.parseAuthMethodsFromHeaders(Nt.headers)})}):Nt.clone({body:this.makeAuthStatusObject(!1)});return tn}return Nt}),(0,Ft.K)((Nt,tn)=>{if(Nt instanceof d.UA){if(this.isAuthRequest(Nt)){this.refreshTokenRequestUrls=[];const Ln=new d.Zn({body:this.makeAuthStatusObject(!1,null,Nt.error,Nt.headers),headers:Nt.headers,status:Nt.status,statusText:Nt.statusText,url:Nt.url});return(0,wo.of)(Ln)}this.isUnauthorized(Nt)&&(0,Rr.K0)(Ye)&&Ie.isTokenExpired()&&this.store.dispatch(new ao.Er("auth.messages.expired"))}return(0,Se._)(Nt)}))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(r.Injector),r.\u0275\u0275inject(To.F0),r.\u0275\u0275inject(Hi.yh))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var _r=e(73873),fr=e(46897);let sr=(()=>{class _e{constructor(H){this.localeService=H}intercept(H,ue){let Ie;return this.localeService.getLanguageCodeList().pipe((0,fr.R)((Ye,ut)=>[...Ye,ut],[]),(0,Wo.z)(Ye=>(Ie=H.clone({headers:H.headers.set("Accept-Language",Ye.toString())}),ue.handle(Ie))))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(_r.OL))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var pr=e(66692),ji=e(99820);let Ba=(()=>{class _e{constructor(H,ue){this.tokenExtractor=H,this.cookieService=ue}intercept(H,ue){const Ie=(H=H.clone({withCredentials:!0})).url.toLowerCase(),Ye=new pr.J("/").toString().toLowerCase();if("GET"!==H.method&&"HEAD"!==H.method&&Ie.startsWith(Ye)){const ut=this.tokenExtractor.getToken();null!==ut&&!H.headers.has(ji.ew)&&(H=H.clone({headers:H.headers.set(ji.ew,ut)}))}return ue.handle(H).pipe((0,Hr.b)(ut=>{ut instanceof d.Zn&&ut.headers.has(ji.aj)&&this.saveXsrfToken(ut.headers.get(ji.aj))}),(0,Ft.K)(ut=>(ut instanceof d.UA&&ut.headers.has(ji.aj)&&this.saveXsrfToken(ut.headers.get(ji.aj)),(0,Se._)(ut))))}saveXsrfToken(H){this.cookieService.remove(ji.VY),this.cookieService.set(ji.VY,H)}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(d.YS),r.\u0275\u0275inject(qs.N))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var ml=e(69598);const Pc=_e=>_e.correlationId;var Hl=e(4802);let _l=(()=>{class _e{constructor(H,ue,Ie){this.cookieService=H,this.uuidService=ue,this.store=Ie}initCorrelationId(){let H=this.cookieService.get("CORRELATION-ID");(0,Rr.xb)(H)&&(H=this.getCorrelationId()),(0,Rr.xb)(H)&&(H=this.uuidService.generate()),this.store.dispatch(new ml.h(H)),this.cookieService.set("CORRELATION-ID",H)}getCorrelationId(){let H;return this.store.pipe((0,Hi.Ys)(Pc),(0,so.q)(1)).subscribe(ue=>{H=ue}),H}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(qs.N),r.\u0275\u0275inject(Hl._),r.\u0275\u0275inject(Hi.yh))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),kl=(()=>{class _e{constructor(H,ue){this.cidService=H,this.router=ue}intercept(H,ue){const Ie=this.cidService.getCorrelationId();let Ye=H.headers;return(0,Rr.Uh)(Ie)&&(Ye=Ye.append("X-CORRELATION-ID",Ie)),Ye=Ye.append("X-REFERRER",this.router.url),H=H.clone({withCredentials:!0,headers:Ye}),ue.handle(H)}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(_l),r.\u0275\u0275inject(To.F0))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();e(68346),e(39150),e(45967),e(26348);var Bc=(e(36388),e(94950),e(21779),e(36471),e(19039),e(47552),e(15222),e(44903),e(71430),e(49594),e(2098),e(58640),e(42877),e(46194),e(62612),e(83897),e(15658),e(44010),e(92413),e(11075),e(44315));const Zl=[he.ez,us.m.withEntryComponents(),Ke,Bc.SystemWideAlertModule,es.IJ],Tl=[];let B=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({providers:[...Tl],imports:[Zl]}),_e})();var ae=e(92924),I=e(76814);const k=[];let Ae=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({providers:[...k.map(Y=>({provide:Y}))],imports:[he.ez,us.m,ae.v,I.I,B,Ke]}),_e})(),Pt=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({imports:[Ae]}),_e})();var qt=e(16441);const Jn=[he.ez,us.m,Ke,d.JF,sa,ri.IR.forRoot(),_t.w0.forRoot(),es.IJ,Li.aw.forRoot(),ye.sQ.forRoot(vr),Hi.Aw.forRoot(Ca.oO,Ca.z7),ze.Qi.forRoot(),[],Pt,B],Pr=[{provide:he.mr,useFactory:(_e,Y)=>{const H=_e.querySelector("head > base");return H.setAttribute("href",`${Y.ui.nameSpace}${Y.ui.nameSpace.endsWith("/")?"":"/"}`),H.getAttribute("href")},deps:[he.K0,qt.q]},{provide:Hi.su,useFactory:function mr(_e){return _e.debug?[...zi,...wi]:zi},deps:[qt.q]},{provide:ze.GC,useClass:st},Ta,{provide:d.TP,useClass:Wn,multi:!0},{provide:d.TP,useClass:sr,multi:!0},{provide:d.TP,useClass:Ba,multi:!0},{provide:d.TP,useClass:kl,multi:!0},...an.nh9];let Vo=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e}),_e.\u0275inj=r.\u0275\u0275defineInjector({providers:[...Pr],imports:[t.b2.withServerTransition({appId:"dspace-angular"}),Jn]}),_e})();var ps=e(37315),Mo=e(1579),Al=e(20357),dl=e(81640),el=e(75195),vl=e(62574),El=e.n(vl),ea=e(32935),wc=e.n(ea),Jl=e(99408);const Rl="klaro-anonymous",Fc="google-analytics",yu={storageName:Rl,privacyPolicy:"./info/privacy",hideLearnMore:!1,acceptAll:!0,cookieExpiresAfterDays:365,htmlTexts:!0,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description"},consentNotice:{changeDescription:"cookies.consent.update",title:"cookies.consent.content-notice.title",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",ok:"cookies.consent.ok",poweredBy:"Powered by Klaro!",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"},purposeItem:{service:"cookies.consent.content-modal.service",services:"cookies.consent.content-modal.services"},purposes:{},save:"cookies.consent.save",service:{disableAll:{description:"cookies.consent.app.disable-all.description",title:"cookies.consent.app.disable-all.title"},optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},services:[{name:"authentication",purposes:["functional"],required:!0,cookies:[at.V,fi.VI,fi.C0]},{name:"preferences",purposes:["functional"],required:!0,cookies:[_r.Yk]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^klaro-.+$/],"dsHasAgreedEndUser"]},{name:Fc,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:Jl.LI,purposes:["registration-password-recovery"],required:!1,cookies:[[/^klaro-.+$/],Jl.gg],onAccept:"window.refreshCaptchaScript?.call()",onDecline:"window.refreshCaptchaScript?.call()",onlyOnce:!0}]};var vd=e(73194);const Nc="dspace.agreements.cookies",yd=new r.InjectionToken("Lazily loaded Klaro",{providedIn:"root",factory:(_e=(0,Bs.Z)(function*(){return yield e.e(5639).then(e.t.bind(e,95639,23))}),function(){return _e.apply(this,arguments)})});var _e;let Wc=(()=>{class _e extends dl.D{constructor(H,ue,Ie,Ye,ut,Ot){super(),this.translateService=H,this.authService=ue,this.ePersonService=Ie,this.configService=Ye,this.cookieService=ut,this.lazyKlaro=Ot,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.klaroConfig=El()(yu)}initialize(){Gn.N.info.enablePrivacyStatement||(delete this.klaroConfig.privacyPolicy,this.klaroConfig.translations.zz.consentNotice.description="cookies.consent.content-notice.description.no-privacy");const H=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,No.hC)(),(0,ni.U)(Ot=>!Ot.hasSucceeded||!Ot.payload||(0,Rr.xb)(Ot.payload.values))),ue=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,No.hC)(),(0,ni.U)(Ot=>!Ot.hasSucceeded||!Ot.payload||(0,Rr.xb)(Ot.payload.values)||"true"!==Ot.payload.values[0].toLowerCase())),Ie=(0,yi.a)([H,ue]).pipe((0,ni.U)(([Ot,Nt])=>{let tn=[];return Ot&&tn.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),Nt&&tn.push(Jl.LI),tn}));this.translateService.setDefaultLang(Gn.N.defaultLanguage);const Ye=this.getUser$(),ut=this.translateService.get("loading.default").pipe((0,so.q)(1));(0,yi.a)([Ye,Ie,ut]).subscribe(([Ot,Nt,tn])=>{Ot=El()(Ot),(0,Rr.Uh)(Ot)&&this.initializeUser(Ot),this.addAppMessages(),this.translateConfiguration(),this.klaroConfig.services=this.filterConfigServices(Nt),this.lazyKlaro.then(({setup:Ln})=>Ln(this.klaroConfig))})}getSavedPreferences(){return this.getUser$().pipe((0,ni.U)(H=>{let ue;return ue=(0,Rr.xb)(H)?Rl:this.getStorageName(H.uuid),this.cookieService.get(ue)}))}initializeUser(H){this.klaroConfig.callback=wc()((Ie,Ye)=>this.updateSettingsForUsers(H),300),this.klaroConfig.storageName=this.getStorageName(H.uuid);const ue=this.cookieService.get(Rl);(0,Rr.Uh)(this.getSettingsForUser(H))?this.restoreSettingsForUsers(H):(0,Rr.Uh)(ue)&&(this.cookieService.set(this.getStorageName(H.uuid),ue),this.updateSettingsForUsers(H))}getUser$(){return this.authService.isAuthenticated().pipe((0,so.q)(1),(0,Do.w)(H=>H?this.authService.getAuthenticatedUserFromStore():(0,wo.of)(void 0)),(0,so.q)(1))}getTitleTranslation(H){return"cookies.consent.app.title."+H}getDescriptionTranslation(H){return"cookies.consent.app.description."+H}getPurposeTranslation(H){return"cookies.consent.purpose."+H}showSettings(){this.lazyKlaro.then(({show:H})=>H(this.klaroConfig))}addAppMessages(){this.klaroConfig.services.forEach(H=>{this.klaroConfig.translations.zz[H.name]={title:this.getTitleTranslation(H.name),description:this.getDescriptionTranslation(H.name)},H.purposes.forEach(ue=>{this.klaroConfig.translations.zz.purposes[ue]=this.getPurposeTranslation(ue)})})}translateConfiguration(){this.translateService.setDefaultLang(Gn.N.defaultLanguage),this.translate(this.klaroConfig.translations.zz)}translate(H){return"string"==typeof H?this.translateService.instant(H):(Object.entries(H).forEach(([ue,Ie])=>{H[ue]=this.translate(Ie)}),H)}getSettingsForUser(H){const ue=H.firstMetadataValue(Nc);return(0,Rr.Uh)(ue)?JSON.parse(ue):void 0}setSettingsForUser(H,ue){(0,Rr.UE)(ue)?H.setMetadata(Nc,void 0,JSON.stringify(ue)):H.removeMetadata(Nc),this.ePersonService.createPatchFromCache(H).pipe((0,so.q)(1),(0,Do.w)(Ie=>(0,Rr.UE)(Ie)?this.ePersonService.patch(H,Ie):(0,wo.of)(void 0))).subscribe()}restoreSettingsForUsers(H){this.cookieService.set(this.getStorageName(H.uuid),this.getSettingsForUser(H))}updateSettingsForUsers(H){this.setSettingsForUser(H,this.cookieService.get(this.getStorageName(H.uuid)))}getStorageName(H){return"klaro-"+H}filterConfigServices(H){return this.klaroConfig.services.filter(ue=>!H.some(Ie=>Ie===ue.name))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Li.sK),r.\u0275\u0275inject(fi.e8),r.\u0275\u0275inject(el.k),r.\u0275\u0275inject(vd.i),r.\u0275\u0275inject(qs.N),r.\u0275\u0275inject(yd))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Kc=e(69175);const Cd=new r.InjectionToken("Location");function Dd(){return window.location}let Od=(()=>{class _e extends Kc.A{constructor(H){super(),this.location=H}redirect(H){this.location.replace(H)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Cd))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),Ha=(()=>{class _e{constructor(H,ue,Ie,Ye,ut){this.googleAnalytics=H,this.googleGlobalSiteTag=ue,this.klaroService=Ie,this.configService=Ye,this.document=ut}addTrackingIdToPage(){const H=this.configService.findByPropertyName("google.analytics.key").pipe((0,No.hC)()),ue=this.klaroService.getSavedPreferences();(0,yi.a)([ue,H]).subscribe(([Ie,Ye])=>{if((0,Rr.xb)(Ie)||(0,Rr.xb)(Ie[Fc])||!Ie[Fc]||!Ye.hasSucceeded)return;const ut=Ye.payload.values[0];if(!(0,Rr.xb)(ut))if(this.isGTagVersion(ut)){const Ot=this.document.createElement("script");Ot.src=`https://www.googletagmanager.com/gtag/js?id=${ut}`,this.document.body.appendChild(Ot);const Nt=this.document.createElement("script");Nt.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${ut}');`,this.document.body.appendChild(Nt),this.googleGlobalSiteTag.startTracking()}else{const Ot=this.document.createElement("script");Ot.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${ut}', 'auto');`,this.document.body.appendChild(Ot),this.googleAnalytics.startTracking()}})}isGTagVersion(H){return H&&H.startsWith("G-")}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(ps.Ti),r.\u0275\u0275inject(ps.HU),r.\u0275\u0275inject(dl.D),r.\u0275\u0275inject(vd.i),r.\u0275\u0275inject(he.K0))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Vc=e(73515),Md=e(96526),Ou=e(18005),qh=e(16066);let ql=(()=>{class _e extends Vc.x{constructor(H,ue,Ie){super(H,ue,Ie)}createShortLivedTokenRequest(H){return(0,wo.of)(new Md.xo(this.requestService.generateRequestId(),H))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Ou.q),r.\u0275\u0275inject(Te.s),r.\u0275\u0275inject(qh.Q))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var tc,Mu=e(94667),Sd=e.n(Mu),Hc=e(90016),kc=e(97011),ec=e(66323);let tl=((tc=class mu{constructor(Y,H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln){this.store=Y,this.correlationIdService=H,this.appConfig=ue,this.translate=Ie,this.localeService=Ye,this.angulartics2DSpace=ut,this.metadata=Ot,this.breadcrumbsService=Nt,this.themeService=tn,this.menuService=Ln}static providers(){if(!mu.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:mu,useClass:this},{provide:qt.q,useFactory:Y=>(this.resolveAppConfig(Y),Gn.N),deps:[t.ki]},{provide:r.APP_INITIALIZER,useFactory:Y=>Y.init(),deps:[mu],multi:!0}]}static resolveAppConfig(Y){}checkAuthenticationToken(){this.store.dispatch(new ao.gi)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!Sd()(Gn.N,this.appConfig))throw new Error("environment does not match app config!");Gn.N.debug&&console.info(Gn.N)}initI18n(){this.translate.addLangs(Gn.N.languages.filter(Y=>!0===Y.active).map(Y=>Y.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.metadata.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,Hi.Ys)(Xs.v$),(0,qo.x)(),(0,Ci.s)(Y=>!1===Y))}}).NGRX_STATE=(0,t.Cb)("NGRX_STATE"),tc);tl=(0,la.__decorate)([(0,la.__param)(2,(0,r.Inject)(qt.q)),(0,la.__metadata)("design:paramtypes",[Hi.yh,_l,Object,Li.sK,_r.OL,Hc.T,kc.D,ec.d,Es.fY,Co.h])],tl);var nc=e(89333),bd=e(46958);class $c{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[nc.a.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:bd.G.Scale},this.submission={autosave:{metadata:[],timer:0},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success"},{value:500,style:"text-info"},{value:400,style:"text-warning"},{value:"default",style:"text-muted"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"it",label:"Italiano",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5}},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.collection={edit:{undoTimeout:1e4}},this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"}}}var zc=e(68671);var Su=e(24586),Pd=e(45479);let Pu=(()=>{class _e extends tl{constructor(H,ue,Ie,Ye,ut,Ot,Nt,tn,Ln,Hn,Dr,lr,nr,gr,oi,Di){super(H,ue,Ye,ut,Ot,Nt,Ln,Hn,nr,gr),this.store=H,this.correlationIdService=ue,this.transferState=Ie,this.appConfig=Ye,this.translate=ut,this.localeService=Ot,this.angulartics2DSpace=Nt,this.googleAnalyticsService=tn,this.metadata=Ln,this.breadcrumbsService=Hn,this.klaroService=Dr,this.authService=lr,this.themeService=nr,this.menuService=gr,this.rootDataService=oi,this.serverCheckGuard=Di}static resolveAppConfig(H){if(H.hasKey(qt.s)){const ue=H.get(qt.s,new $c);(0,wn.M9)(Gn.N,ue)}}init(){var H=this;return(0,Bs.Z)(function*(){return yield H.loadAppState(),H.checkAuthenticationToken(),H.externalAuthCheck(),H.initCorrelationId(),H.checkEnvironment(),(_e=>{const Y=_e.production?"Production":"Development",H=_e.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c7.6.1","font-weight: bold;"),console.info(`Environment: %c${Y}`,`color: ${H}; font-weight: bold;`),console.info("")})(Gn.N),H.initI18n(),H.initAngulartics(),H.initGoogleAnalytics(),H.initRouteListeners(),H.themeService.listenForThemeChanges(!0),H.trackAuthTokenExpiration(),H.initKlaro(),yield H.authenticationReady$().toPromise(),!0})}loadAppState(){var H=this;return(0,Bs.Z)(function*(){const ue=H.transferState.get(tl.NGRX_STATE,null);return H.transferState.remove(tl.NGRX_STATE),H.store.dispatch(new rs.S(rs.H.REHYDRATE,ue)),H.store.select(zc.v).pipe((0,Ci.s)(Ie=>(0,Rr.UE)(Ie)),(0,ni.U)(()=>!0)).toPromise()})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initKlaro(){this.authenticationReady$().subscribe(()=>{this.klaroService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,mn.h)(H=>H)).subscribe(()=>{this.rootDataService.invalidateRootCache(),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function bu(_e,Y){const H="object"==typeof Y;return new Promise((ue,Ie)=>{const Ye=new Pd.Hp({next:ut=>{ue(ut),Ye.unsubscribe()},error:Ie,complete:()=>{H?ue(Y.defaultValue):Ie(new Su.K)}});_e.subscribe(Ye)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.serverCheckGuard.listenForRouteChanges()}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(Hi.yh),r.\u0275\u0275inject(_l),r.\u0275\u0275inject(t.ki),r.\u0275\u0275inject(qt.q),r.\u0275\u0275inject(Li.sK),r.\u0275\u0275inject(_r.OL),r.\u0275\u0275inject(Hc.T),r.\u0275\u0275inject(Ha),r.\u0275\u0275inject(kc.D),r.\u0275\u0275inject(ec.d),r.\u0275\u0275inject(dl.D),r.\u0275\u0275inject(fi.e8),r.\u0275\u0275inject(Es.fY),r.\u0275\u0275inject(Co.h),r.\u0275\u0275inject(Qr.d),r.\u0275\u0275inject(ho))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();var Id=e(73357),Td=e(65521),Ad=e(74997);let rc=(()=>{class _e extends Id.V{constructor(H,ue,Ie){super(),this.document=H,this.routeService=ue,this.hardRedirectService=Ie}getReferrer(){return this.routeService.getHistory().pipe((0,ni.U)(H=>{const ue=H[H.length-1];if((0,Rr.xI)(ue)||H.every(Ie=>Ie===ue))return this.document.referrer;{const Ye=[...H].reverse().find(ut=>ut!==ue);return new Td.R(this.hardRedirectService.getCurrentOrigin(),Ye).toString()}}))}}return _e.\u0275fac=function(H){return new(H||_e)(r.\u0275\u0275inject(he.K0),r.\u0275\u0275inject(Ad.MZ),r.\u0275\u0275inject(Kc.A))},_e.\u0275prov=r.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac}),_e})();const Yc=(0,t.Cb)("req");function yl(_e,Y){return new pa(_e,Y,"assets/i18n/",".json")}function Iu(_e){return _e.get(Yc,{})}let Tu=(()=>{class _e{}return _e.\u0275fac=function(H){return new(H||_e)},_e.\u0275mod=r.\u0275\u0275defineNgModule({type:_e,bootstrap:[Be]}),_e.\u0275inj=r.\u0275\u0275defineInjector({providers:[...Pu.providers(),{provide:gs.Z,useFactory:Iu,deps:[t.ki]},{provide:fi.e8,useClass:fi.e8},{provide:qs.N,useClass:Ta},{provide:dl.D,useClass:Wc},{provide:Mo.b,useClass:Mo.b},{provide:_r.OL,useClass:_r.OL},{provide:Kc.A,useClass:Od},{provide:Ha,useClass:Ha},{provide:ps._Q,useClass:ps._Q},{provide:Vc.x,useClass:ql},{provide:Id.V,useClass:rc},{provide:Cd,useFactory:Dd}],imports:[t.b2.withServerTransition({appId:"dspace-angular"}),d.JF,Qs.Yu.forRoot(),Al.p.forRoot(),ps.OI.forRoot(),Ui,t.Cu,Li.aw.forRoot({loader:{provide:Li.Zw,useFactory:yl,deps:[t.ki,d.eN]}}),Vo]}),_e})();const Au=()=>t.q6().bootstrapModule(Tu,{}),Qc=null!==document.querySelector("script#dspace-angular-state"),ic=()=>(Gn.N.production&&(0,r.enableProdMode)(),Qc?Au():fetch("assets/config.json").then(_e=>_e.json()).then(_e=>((0,wn.M9)(Gn.N,_e),Au())));"complete"!==document.readyState||Qc?document.addEventListener("DOMContentLoaded",ic):ic()},26348:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HeaderNavbarWrapperComponent:()=>d});var t=e(47552),n=e(98678),a=e(46194),i=e(35103);let d=(()=>{class r extends t.HeaderNavbarWrapperComponent{}return r.\u0275fac=function(){let l;return function(h){return(l||(l=n.\u0275\u0275getInheritedFactory(r)))(h||r)}}(),r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ds-header-navbar-wrapper"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["id","header-navbar-wrapper"]],template:function(p,h){1&p&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275pipe(1,"async"),n.\u0275\u0275element(2,"ds-themed-header"),n.\u0275\u0275elementEnd()),2&p&&n.\u0275\u0275classProp("open",!n.\u0275\u0275pipeBind1(1,2,h.isNavBarCollapsed))},dependencies:[a.i,i.Ov],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:5px var(--ds-header-navbar-border-bottom-color) solid}"]}),r})()},45967:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HeaderComponent:()=>v});var t=e(15222),n=e(98678),a=e(65706),i=e(67522),d=e(46683),r=e(5009),l=e(4989),p=e(55520),h=e(11075),m=e(4546),_=e(96342);let v=(()=>{class y extends t.HeaderComponent{}return y.\u0275fac=function(){let O;return function(b){return(O||(O=n.\u0275\u0275getInheritedFactory(y)))(b||y)}}(),y.\u0275cmp=n.\u0275\u0275defineComponent({type:y,selectors:[["ds-header"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:18,vars:9,consts:[[1,"header"],["role","navigation",1,"container","navbar","navbar-expand-md","px-0"],[1,"d-flex","flex-grow-1"],["routerLink","/home",1,"navbar-brand","m-2"],["src","assets/images/dspace-logo.svg"],[1,"navbar-buttons","d-flex","flex-grow-1","ml-auto","justify-content-end","align-items-center","gapx-1"],[1,"pl-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler",3,"click"],["aria-hidden","true",1,"navbar-toggler-icon","fas","fa-bars","fa-fw"]],template:function(S,b){1&S&&(n.\u0275\u0275elementStart(0,"header",0)(1,"nav",1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementStart(3,"div",2)(4,"a",3),n.\u0275\u0275element(5,"img",4),n.\u0275\u0275pipe(6,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(7,"div",5),n.\u0275\u0275element(8,"ds-themed-search-navbar")(9,"ds-themed-lang-switch")(10,"ds-context-help-toggle")(11,"ds-themed-auth-nav-menu")(12,"ds-impersonate-navbar"),n.\u0275\u0275elementStart(13,"div",6)(14,"button",7),n.\u0275\u0275listener("click",function(){return b.toggleNavbar()}),n.\u0275\u0275pipe(15,"translate"),n.\u0275\u0275element(16,"span",8),n.\u0275\u0275elementEnd()()()(),n.\u0275\u0275element(17,"ds-themed-navbar"),n.\u0275\u0275elementEnd()),2&S&&(n.\u0275\u0275advance(1),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(2,3,"nav.user.description")),n.\u0275\u0275advance(4),n.\u0275\u0275attribute("alt",n.\u0275\u0275pipeBind1(6,5,"menu.header.image.logo")),n.\u0275\u0275advance(9),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(15,7,"nav.toggle")))},dependencies:[a.M2,i.rH,d.j,r.$,l.$,p.A,h.H,m.n,_.X$],styles:["@media screen and (min-width: 768px){nav.navbar[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}}@media screen and (max-width: 768px){.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--ds-header-logo-height-xs)}}.navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:none!important}.navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{line-height:1.5}.navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.navbar-toggler[_ngcontent-%COMP%]:hover, .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]}),y})()},68346:(R,c,e)=>{"use strict";e.r(c),e.d(c,{HomeNewsComponent:()=>a});var t=e(13853),n=e(98678);let a=(()=>{class i extends t.HomeNewsComponent{}return i.\u0275fac=function(){let d;return function(l){return(d||(d=n.\u0275\u0275getInheritedFactory(i)))(l||i)}}(),i.\u0275cmp=n.\u0275\u0275defineComponent({type:i,selectors:[["ds-home-news"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:40,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"jumbotron","jumbotron-fluid"],[1,"d-flex","flex-wrap"],[1,"display-3"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/banner.webp 2000w, assets/dspace/images/banner-half.webp 1200w, assets/dspace/images/banner-tall.webp 768w"],["type","image/jpg","srcset","assets/dspace/images/banner.jpg 2000w, assets/dspace/images/banner-half.jpg 1200w, assets/dspace/images/banner-tall.jpg 768w"],["alt","",3,"src"],[1,"credits"],["href","https://www.pexels.com/@inspiredimages"]],template:function(r,l){1&r&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),n.\u0275\u0275text(6,"DSpace 7"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(7,"p",5),n.\u0275\u0275text(8,"DSpace is the world leading open source repository platform that enables organisations to:"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(9,"ul")(10,"li"),n.\u0275\u0275text(11,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(12,"li"),n.\u0275\u0275text(13,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(14,"li"),n.\u0275\u0275text(15,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI "),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(16,"p"),n.\u0275\u0275text(17,"Join an international community of "),n.\u0275\u0275elementStart(18,"a",6),n.\u0275\u0275text(19,"leading institutions using DSpace"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(20,"."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(21,"p"),n.\u0275\u0275text(22,"The test user accounts below have their password set to the name of this software in lowercase."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(23,"ul")(24,"li"),n.\u0275\u0275text(25,"Demo Site Administrator = dspacedemo+admin@gmail.com"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(26,"li"),n.\u0275\u0275text(27,"Demo Community Administrator = dspacedemo+commadmin@gmail.com"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(28,"li"),n.\u0275\u0275text(29,"Demo Collection Administrator = dspacedemo+colladmin@gmail.com"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(30,"li"),n.\u0275\u0275text(31,"Demo Submitter = dspacedemo+submit@gmail.com"),n.\u0275\u0275elementEnd()()()(),n.\u0275\u0275elementStart(32,"picture",7),n.\u0275\u0275element(33,"source",8)(34,"source",9)(35,"img",10),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(36,"small",11),n.\u0275\u0275text(37,"Photo by "),n.\u0275\u0275elementStart(38,"a",12),n.\u0275\u0275text(39,"@inspiredimages"),n.\u0275\u0275elementEnd()()()),2&r&&(n.\u0275\u0275advance(35),n.\u0275\u0275property("src","assets/dspace/images/banner.jpg",n.\u0275\u0275sanitizeUrl))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6);background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}']}),i})()},39150:(R,c,e)=>{"use strict";e.r(c),e.d(c,{NavbarComponent:()=>D});var t=e(78297),n=e(17605),a=e(98678),i=e(35103),d=e(65706),r=e(67522),l=e(46683),p=e(36081),h=e(5009),m=e(4989),_=e(55520),v=e(11075),y=e(96342);function O(M,C){1&M&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275element(1,"ds-user-menu",10),a.\u0275\u0275elementEnd()),2&M&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("inExpandableNavbar",!0))}function S(M,C){1&M&&a.\u0275\u0275elementContainer(0)}function b(M,C){if(1&M&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275template(1,S,1,0,"ng-container",11),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()),2&M){const T=C.$implicit,g=a.\u0275\u0275nextContext();let U,L;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngComponentOutlet",null==(U=a.\u0275\u0275pipeBind1(2,2,g.sectionMap$).get(T.id))?null:U.component)("ngComponentOutletInjector",null==(L=a.\u0275\u0275pipeBind1(3,4,g.sectionMap$).get(T.id))?null:L.injector)}}const o=function(M){return{open:M}};let D=(()=>{class M extends t.NavbarComponent{}return M.\u0275fac=function(){let C;return function(g){return(C||(C=a.\u0275\u0275getInheritedFactory(M)))(g||M)}}(),M.\u0275cmp=a.\u0275\u0275defineComponent({type:M,selectors:[["ds-navbar"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:23,vars:28,consts:[["role","navigation",1,"navbar","navbar-expand-md","navbar-light","p-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100","h-100"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],["id","collapsingNav",1,"w-100","h-100"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"navbar-buttons","d-flex","align-items-center","gapx-1"],[1,"navbar-collapsed"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(T,g){1&T&&(a.\u0275\u0275elementStart(0,"nav",0),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementStart(5,"div",1),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275elementStart(7,"a",2),a.\u0275\u0275element(8,"img",3),a.\u0275\u0275pipe(9,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",4)(11,"ul",5),a.\u0275\u0275template(12,O,2,1,"li",6),a.\u0275\u0275pipe(13,"async"),a.\u0275\u0275pipe(14,"async"),a.\u0275\u0275template(15,b,4,6,"li",7),a.\u0275\u0275pipe(16,"async"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(17,"div",8),a.\u0275\u0275element(18,"ds-themed-search-navbar",9)(19,"ds-themed-lang-switch",9)(20,"ds-context-help-toggle",9)(21,"ds-themed-auth-nav-menu",9)(22,"ds-impersonate-navbar",9),a.\u0275\u0275elementEnd()()()),2&T&&(a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(26,o,!a.\u0275\u0275pipeBind1(1,8,g.menuCollapsed)))("@slideMobileNav",a.\u0275\u0275pipeBind1(2,10,g.windowService.isXsOrSm())?a.\u0275\u0275pipeBind1(3,12,g.menuCollapsed)?"collapsed":"expanded":"default"),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(4,14,"nav.main.description")),a.\u0275\u0275advance(5),a.\u0275\u0275classProp("container",!a.\u0275\u0275pipeBind1(6,16,g.isXsOrSm$)),a.\u0275\u0275advance(3),a.\u0275\u0275attribute("alt",a.\u0275\u0275pipeBind1(9,18,"menu.header.image.logo")),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(13,20,g.isXsOrSm$)&&a.\u0275\u0275pipeBind1(14,22,g.isAuthenticated$)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(16,24,g.sections)))},dependencies:[i.mk,i.$G,i.sg,i.O5,d.M2,r.rH,l.j,p.UserMenuComponent,h.$,m.$,_.A,v.H,i.Ov,y.X$],styles:["nav.navbar[_ngcontent-%COMP%]{align-items:baseline}nav.navbar[_ngcontent-%COMP%]   .navbar-inner-container[_ngcontent-%COMP%]{border-top:1px var(--ds-header-navbar-border-top-color) solid}.navbar-nav[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg)}@media screen and (max-width: 767.98px){.navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}.navbar.open[_ngcontent-%COMP%]{height:100vh;border-bottom:5px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){.reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -2);margin-right:calc(var(--bs-spacer) / -2)}}.navbar-expand-md.navbar-container[_ngcontent-%COMP%]{height:80px}@media screen and (max-width: 767.98px){.navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}.navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}.navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]   a.navbar-brand[_ngcontent-%COMP%]{display:none}.navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]   .navbar-collapsed[_ngcontent-%COMP%]{display:none}}a.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height)}.navbar-nav[_ngcontent-%COMP%]     a.nav-link{color:var(--ds-navbar-link-color)}.navbar-nav[_ngcontent-%COMP%]     a.nav-link:hover, .navbar-nav[_ngcontent-%COMP%]     a.nav-link:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[n.DE]}}),M})()},13710:(R,c,e)=>{"use strict";var n=e(98678),a=e(39942);c.S8=new n.InjectionToken("REQUEST_IDLE_CALLBACK");var d=e(98678),r=function(){function p(h,m){this._ngZone=h,this.requestIdleCallback=m}return p.prototype.preload=function(h,m){return this.requestIdleCallback(m),a.of(null)},p.ctorParameters=function(){return[{type:n.NgZone},{type:void 0,decorators:[{type:n.Inject,args:[c.S8]}]}]},p.\u0275fac=function(m){return new(m||p)(d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(c.S8))},p.\u0275prov=d.\u0275\u0275defineInjectable({token:p,factory:function(h){return p.\u0275fac(h)}}),p}();c.hp=[{provide:r,useClass:r,deps:[n.NgZone,c.S8]}],c.hl=[{provide:c.S8,useFactory:function i(p){if(typeof window>"u")return function(m){return setTimeout(m)};var h=window;return h.requestIdleCallback?function(m){return h.requestIdleCallback(m)}:function(m){return p.runOutsideAngular(function(){return h.setTimeout(m,10)})}},deps:[n.NgZone]}];var l=function(){function p(){}return p.forRoot=function(h){return void 0===h&&(h={}),{ngModule:p,providers:(!1===h.requestIdleCallback?[]:c.hl).concat(c.hp)}},p.IdleStrategy=function(){return r},p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=d.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=d.\u0275\u0275defineInjector({}),p}();c.Yu=l},74938:(R,c)=>{"use strict";var t=null;try{t=window}catch{t=global}var n=t.__CerializeTypeMap=new t.Map;function l(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return mt&&mt.toString()||null}):Ne&&Ne.toString()||null}function p(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return parseFloat(mt)}):parseFloat(Ne)}function h(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return Boolean(mt)}):Boolean(Ne)}function m(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return mt&&mt.toString()||null}):Ne&&Ne.toString()||null}function _(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return parseInt(mt)}):parseInt(Ne)}function v(Ne){return Array.isArray(Ne)?Ne.map(function(mt){return Boolean(mt)}):Boolean(Ne)}function y(Ne){return Ne===String?l:Ne===Number?p:Ne===Boolean?h:Ne}function O(Ne){return Ne===String?m:Ne===Number?_:Ne===Boolean?v:Ne}function S(Ne,mt){for(var Dt=0;Dt<Ne.length;Dt++)if(Ne[Dt].keyName===mt)return Ne[Dt];return Ne.push(new z(mt)),Ne[Ne.length-1]}function b(Ne,mt){var Dt=null,At=null;return"string"==typeof Ne?At=Ne:(Ne&&"function"==typeof Ne||"object"==typeof Ne)&&(Dt=Ne,At=mt),{key:At,type:Dt}}c.inheritSerialization=function o(Ne){return function(mt){for(var Dt=n.get(Ne)||[],At=n.get(mt)||[],Jt=0;Jt<Dt.length;Jt++)z.hasKeyName(At,Dt[Jt].keyName)||At.push(z.clone(Dt[Jt]));n.set(mt,At)}},c.deserialize=function M(Ne,mt){if(Ne&&mt){var Dt=n.get(Ne.constructor)||[];S(Dt,mt).deserializedKey=mt,n.set(Ne.constructor,Dt)}},c.autoserialize=function C(Ne,mt){if(Ne&&mt){var Dt=n.get(Ne.constructor)||[],At=S(Dt,mt);At.serializedKey=mt,At.deserializedKey=mt,n.set(Ne.constructor,Dt)}},c.serializeAs=function T(Ne,mt){if(Ne){var Dt=b(Ne,mt),At=Dt.key,Jt=Dt.type;return function($t,lt){if($t&&lt){var Ht=n.get($t.constructor)||[],Qe=S(Ht,lt);Qe.serializedKey=At||lt,Qe.serializedType=Jt,Jt!==Date&&Jt!==RegExp&&!n.get(Jt)&&"function"==typeof Jt&&(Qe.serializedType={Serialize:O(Jt)}),n.set($t.constructor,Ht)}}}},c.deserializeAs=function U(Ne,mt){if(Ne){var Dt=b(Ne,mt),At=Dt.key,Jt=Dt.type;return function($t,lt){if($t&&lt){var Ht=n.get($t.constructor)||[],Qe=S(Ht,lt);Qe.deserializedKey=At||lt,Qe.deserializedType=Jt,!n.get(Jt)&&Jt!==Date&&Jt!==RegExp&&"function"==typeof Jt&&(Qe.deserializedType={Deserialize:y(Jt)}),n.set($t.constructor,Ht)}}}},c.autoserializeAs=function j(Ne,mt){if(Ne){var Dt=b(Ne,mt),At=Dt.key,Jt=Dt.type;return function($t,lt){if($t&&lt){var Ht=n.get($t.constructor)||[],Qe=S(Ht,lt),ft=At||lt;Qe.deserializedKey=ft,Qe.deserializedType=Jt,Qe.serializedKey=ft,Qe.serializedType=O(Jt),!n.get(Jt)&&Jt!==Date&&Jt!==RegExp&&"function"==typeof Jt&&(Qe.deserializedType={Deserialize:y(Jt)}),n.set($t.constructor,Ht)}}}};var z=function(){function Ne(mt){this.keyName=mt,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return Ne.hasKeyName=function(mt,Dt){for(var At=0;At<mt.length;At++)if(mt[At].keyName===Dt)return!0;return!1},Ne.clone=function(mt){var Dt=new Ne(mt.keyName);return Dt.deserializedKey=mt.deserializedKey,Dt.serializedKey=mt.serializedKey,Dt.serializedType=mt.serializedType,Dt.deserializedType=mt.deserializedType,Dt.indexable=mt.indexable,Dt},Ne}();function ce(Ne,mt){return Array.isArray(Ne)?K(Ne,mt):Ne&&"object"==typeof Ne?oe(Ne,mt):("string"==typeof Ne||Ne instanceof Date)&&mt===Date.prototype.constructor?new Date(Ne):"string"==typeof Ne&&mt===RegExp?new RegExp(Ne):Ne}function K(Ne,mt){for(var Dt=new Array(Ne.length),At=0;At<Ne.length;At++)Dt[At]=ce(Ne[At],mt);return Dt}function w(Ne,mt,Dt){Dt&&"function"==typeof Dt.OnDeserialized&&Dt.OnDeserialized(Ne,mt)}function Q(Ne,mt){"function"==typeof Ne.constructor.OnSerialized&&Ne.constructor.OnSerialized(Ne,mt)}function oe(Ne,mt){var Dt=n.get(mt);if(!Dt){var At=null;return mt?w(At=new mt,Ne,mt):At=JSON.parse(JSON.stringify(Ne)),At}for(var Jt=new mt,$t=0;$t<Dt.length;$t++){var lt=Dt[$t];if(lt.deserializedKey){var Ht=lt.deserializedKey;lt.deserializedKey===lt.keyName&&"function"==typeof et&&(Ht=et(lt.keyName));var Qe=Ne[Ht];void 0!==Qe&&(Jt[lt.keyName]=null===Qe?Qe:lt.deserializedType&&"function"==typeof lt.deserializedType.Deserialize?lt.deserializedType.Deserialize(Qe):Array.isArray(Qe)?K(Qe,lt.deserializedType||null):("string"==typeof Qe||Qe instanceof Date)&&lt.deserializedType===Date.prototype.constructor?new Date(Qe):"string"==typeof Qe&&lt.deserializedType===RegExp?new RegExp(Ne):Qe&&"object"==typeof Qe?lt.indexable?q(Qe,lt.deserializedType):oe(Qe,lt.deserializedType):Qe)}}return w(Jt,Ne,mt),Jt}function q(Ne,mt){var Dt={};return Object.keys(Ne).forEach(function(At){Dt[At]=oe(Ne[At],mt)}),Dt}function J(Ne,mt){for(var Dt=new Array(Ne.length),At=0;At<Ne.length;At++)Dt[At]=Oe(Ne[At],mt);return Dt}function Ee(Ne,mt){var At,Dt={};At=n.get(mt||Ne.constructor);for(var Jt=0;Jt<At.length;Jt++){var $t=At[Jt];if($t.serializedKey){var lt=$t.serializedKey;$t.serializedKey===$t.keyName&&"function"==typeof Pe&&(lt=Pe($t.keyName));var Ht=Ne[$t.keyName];if(void 0!==Ht)if(Array.isArray(Ht))Dt[lt]=J(Ht,$t.serializedType||null);else if($t.serializedType&&"function"==typeof $t.serializedType.Serialize)Dt[lt]=$t.serializedType.Serialize(Ht);else{var Qe=Oe(Ht);void 0!==Qe&&(Dt[lt]=Qe)}}}return Q(Ne,Dt),Dt}function Oe(Ne,mt){if(null==Ne)return null;if(Array.isArray(Ne))return J(Ne,mt);if(mt&&n.has(mt))return Ee(Ne,mt);if(Ne.constructor&&n.has(Ne.constructor))return Ee(Ne);if(Ne instanceof Date)return Ne.toISOString();if(Ne instanceof RegExp)return Ne.toString();if(Ne&&"object"==typeof Ne||"function"==typeof Ne){for(var Dt=Object.keys(Ne),At={},Jt=0;Jt<Dt.length;Jt++)At[Dt[Jt]]=Oe(Ne[Dt[Jt]]);return Q(Ne,At),At}return Ne}c.Deserialize=ce,c.Serialize=Oe;var Pe=null,et=null},38666:(R,c,e)=>{R.exports=e(74938)},53287:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t,n){for(var a=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return a+i},R.exports=c.default},25445:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t,n){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},R.exports=c.default},17397:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function a(i){return(0,t.default)({},i)};var t=function n(i){return i&&i.__esModule?i:{default:i}}(e(25445));R.exports=c.default},1144:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=function n(i){return i&&i.__esModule?i:{default:i}}(e(41978));c.default=t.default,R.exports=c.default},92726:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getDefaultOptions=function t(){return e},c.setDefaultOptions=function n(a){e=a};var e={}},15776:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=p(e(38511)),n=p(e(25272)),a=p(e(71076)),i=p(e(74358)),d=p(e(94356)),r=p(e(53287)),l=p(e(45817));function p(S){return S&&S.__esModule?S:{default:S}}function _(S,b){var o=S>0?"-":"+",D=Math.abs(S),M=Math.floor(D/60),C=D%60;if(0===C)return o+String(M);var T=b||"";return o+String(M)+T+(0,r.default)(C,2)}function v(S,b){return S%60==0?(S>0?"-":"+")+(0,r.default)(Math.abs(S)/60,2):y(S,b)}function y(S,b){var o=b||"",D=S>0?"-":"+",M=Math.abs(S);return D+(0,r.default)(Math.floor(M/60),2)+o+(0,r.default)(M%60,2)}c.default={G:function(b,o,D){var M=b.getUTCFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return D.era(M,{width:"abbreviated"});case"GGGGG":return D.era(M,{width:"narrow"});default:return D.era(M,{width:"wide"})}},y:function(b,o,D){if("yo"===o){var M=b.getUTCFullYear();return D.ordinalNumber(M>0?M:1-M,{unit:"year"})}return l.default.y(b,o)},Y:function(b,o,D,M){var C=(0,d.default)(b,M),T=C>0?C:1-C;return"YY"===o?(0,r.default)(T%100,2):"Yo"===o?D.ordinalNumber(T,{unit:"year"}):(0,r.default)(T,o.length)},R:function(b,o){var D=(0,a.default)(b);return(0,r.default)(D,o.length)},u:function(b,o){var D=b.getUTCFullYear();return(0,r.default)(D,o.length)},Q:function(b,o,D){var M=Math.ceil((b.getUTCMonth()+1)/3);switch(o){case"Q":return String(M);case"QQ":return(0,r.default)(M,2);case"Qo":return D.ordinalNumber(M,{unit:"quarter"});case"QQQ":return D.quarter(M,{width:"abbreviated",context:"formatting"});case"QQQQQ":return D.quarter(M,{width:"narrow",context:"formatting"});default:return D.quarter(M,{width:"wide",context:"formatting"})}},q:function(b,o,D){var M=Math.ceil((b.getUTCMonth()+1)/3);switch(o){case"q":return String(M);case"qq":return(0,r.default)(M,2);case"qo":return D.ordinalNumber(M,{unit:"quarter"});case"qqq":return D.quarter(M,{width:"abbreviated",context:"standalone"});case"qqqqq":return D.quarter(M,{width:"narrow",context:"standalone"});default:return D.quarter(M,{width:"wide",context:"standalone"})}},M:function(b,o,D){var M=b.getUTCMonth();switch(o){case"M":case"MM":return l.default.M(b,o);case"Mo":return D.ordinalNumber(M+1,{unit:"month"});case"MMM":return D.month(M,{width:"abbreviated",context:"formatting"});case"MMMMM":return D.month(M,{width:"narrow",context:"formatting"});default:return D.month(M,{width:"wide",context:"formatting"})}},L:function(b,o,D){var M=b.getUTCMonth();switch(o){case"L":return String(M+1);case"LL":return(0,r.default)(M+1,2);case"Lo":return D.ordinalNumber(M+1,{unit:"month"});case"LLL":return D.month(M,{width:"abbreviated",context:"standalone"});case"LLLLL":return D.month(M,{width:"narrow",context:"standalone"});default:return D.month(M,{width:"wide",context:"standalone"})}},w:function(b,o,D,M){var C=(0,i.default)(b,M);return"wo"===o?D.ordinalNumber(C,{unit:"week"}):(0,r.default)(C,o.length)},I:function(b,o,D){var M=(0,n.default)(b);return"Io"===o?D.ordinalNumber(M,{unit:"week"}):(0,r.default)(M,o.length)},d:function(b,o,D){return"do"===o?D.ordinalNumber(b.getUTCDate(),{unit:"date"}):l.default.d(b,o)},D:function(b,o,D){var M=(0,t.default)(b);return"Do"===o?D.ordinalNumber(M,{unit:"dayOfYear"}):(0,r.default)(M,o.length)},E:function(b,o,D){var M=b.getUTCDay();switch(o){case"E":case"EE":case"EEE":return D.day(M,{width:"abbreviated",context:"formatting"});case"EEEEE":return D.day(M,{width:"narrow",context:"formatting"});case"EEEEEE":return D.day(M,{width:"short",context:"formatting"});default:return D.day(M,{width:"wide",context:"formatting"})}},e:function(b,o,D,M){var C=b.getUTCDay(),T=(C-M.weekStartsOn+8)%7||7;switch(o){case"e":return String(T);case"ee":return(0,r.default)(T,2);case"eo":return D.ordinalNumber(T,{unit:"day"});case"eee":return D.day(C,{width:"abbreviated",context:"formatting"});case"eeeee":return D.day(C,{width:"narrow",context:"formatting"});case"eeeeee":return D.day(C,{width:"short",context:"formatting"});default:return D.day(C,{width:"wide",context:"formatting"})}},c:function(b,o,D,M){var C=b.getUTCDay(),T=(C-M.weekStartsOn+8)%7||7;switch(o){case"c":return String(T);case"cc":return(0,r.default)(T,o.length);case"co":return D.ordinalNumber(T,{unit:"day"});case"ccc":return D.day(C,{width:"abbreviated",context:"standalone"});case"ccccc":return D.day(C,{width:"narrow",context:"standalone"});case"cccccc":return D.day(C,{width:"short",context:"standalone"});default:return D.day(C,{width:"wide",context:"standalone"})}},i:function(b,o,D){var M=b.getUTCDay(),C=0===M?7:M;switch(o){case"i":return String(C);case"ii":return(0,r.default)(C,o.length);case"io":return D.ordinalNumber(C,{unit:"day"});case"iii":return D.day(M,{width:"abbreviated",context:"formatting"});case"iiiii":return D.day(M,{width:"narrow",context:"formatting"});case"iiiiii":return D.day(M,{width:"short",context:"formatting"});default:return D.day(M,{width:"wide",context:"formatting"})}},a:function(b,o,D){var C=b.getUTCHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return D.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"aaa":return D.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return D.dayPeriod(C,{width:"narrow",context:"formatting"});default:return D.dayPeriod(C,{width:"wide",context:"formatting"})}},b:function(b,o,D){var C,M=b.getUTCHours();switch(C=12===M?"noon":0===M?"midnight":M/12>=1?"pm":"am",o){case"b":case"bb":return D.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"bbb":return D.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return D.dayPeriod(C,{width:"narrow",context:"formatting"});default:return D.dayPeriod(C,{width:"wide",context:"formatting"})}},B:function(b,o,D){var C,M=b.getUTCHours();switch(C=M>=17?"evening":M>=12?"afternoon":M>=4?"morning":"night",o){case"B":case"BB":case"BBB":return D.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"BBBBB":return D.dayPeriod(C,{width:"narrow",context:"formatting"});default:return D.dayPeriod(C,{width:"wide",context:"formatting"})}},h:function(b,o,D){if("ho"===o){var M=b.getUTCHours()%12;return 0===M&&(M=12),D.ordinalNumber(M,{unit:"hour"})}return l.default.h(b,o)},H:function(b,o,D){return"Ho"===o?D.ordinalNumber(b.getUTCHours(),{unit:"hour"}):l.default.H(b,o)},K:function(b,o,D){var M=b.getUTCHours()%12;return"Ko"===o?D.ordinalNumber(M,{unit:"hour"}):(0,r.default)(M,o.length)},k:function(b,o,D){var M=b.getUTCHours();return 0===M&&(M=24),"ko"===o?D.ordinalNumber(M,{unit:"hour"}):(0,r.default)(M,o.length)},m:function(b,o,D){return"mo"===o?D.ordinalNumber(b.getUTCMinutes(),{unit:"minute"}):l.default.m(b,o)},s:function(b,o,D){return"so"===o?D.ordinalNumber(b.getUTCSeconds(),{unit:"second"}):l.default.s(b,o)},S:function(b,o){return l.default.S(b,o)},X:function(b,o,D,M){var T=(M._originalDate||b).getTimezoneOffset();if(0===T)return"Z";switch(o){case"X":return v(T);case"XXXX":case"XX":return y(T);default:return y(T,":")}},x:function(b,o,D,M){var T=(M._originalDate||b).getTimezoneOffset();switch(o){case"x":return v(T);case"xxxx":case"xx":return y(T);default:return y(T,":")}},O:function(b,o,D,M){var T=(M._originalDate||b).getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+_(T,":");default:return"GMT"+y(T,":")}},z:function(b,o,D,M){var T=(M._originalDate||b).getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+_(T,":");default:return"GMT"+y(T,":")}},t:function(b,o,D,M){var T=Math.floor((M._originalDate||b).getTime()/1e3);return(0,r.default)(T,o.length)},T:function(b,o,D,M){var T=(M._originalDate||b).getTime();return(0,r.default)(T,o.length)}},R.exports=c.default},45817:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=function n(d){return d&&d.__esModule?d:{default:d}}(e(53287));c.default={y:function(r,l){var p=r.getUTCFullYear(),h=p>0?p:1-p;return(0,t.default)("yy"===l?h%100:h,l.length)},M:function(r,l){var p=r.getUTCMonth();return"M"===l?String(p+1):(0,t.default)(p+1,2)},d:function(r,l){return(0,t.default)(r.getUTCDate(),l.length)},a:function(r,l){var p=r.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return p.toUpperCase();case"aaa":return p;case"aaaaa":return p[0];default:return"am"===p?"a.m.":"p.m."}},h:function(r,l){return(0,t.default)(r.getUTCHours()%12||12,l.length)},H:function(r,l){return(0,t.default)(r.getUTCHours(),l.length)},m:function(r,l){return(0,t.default)(r.getUTCMinutes(),l.length)},s:function(r,l){return(0,t.default)(r.getUTCSeconds(),l.length)},S:function(r,l){var p=l.length,h=r.getUTCMilliseconds(),m=Math.floor(h*Math.pow(10,p-3));return(0,t.default)(m,l.length)}},R.exports=c.default},8048:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=function(r,l){switch(r){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},t=function(r,l){switch(r){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}};c.default={p:t,P:function(r,l){var _,p=r.match(/(P+)(p+)?/)||[],h=p[1],m=p[2];if(!m)return e(r,l);switch(h){case"P":_=l.dateTime({width:"short"});break;case"PP":_=l.dateTime({width:"medium"});break;case"PPP":_=l.dateTime({width:"long"});break;default:_=l.dateTime({width:"full"})}return _.replace("{{date}}",e(h,l)).replace("{{time}}",t(m,l))}},R.exports=c.default},37684:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()},R.exports=c.default},38511:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r){(0,n.default)(1,arguments);var l=(0,t.default)(r),p=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var h=l.getTime();return Math.floor((p-h)/i)+1};var t=a(e(75466)),n=a(e(57183));function a(r){return r&&r.__esModule?r:{default:r}}var i=864e5;R.exports=c.default},25272:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(p){(0,i.default)(1,arguments);var h=(0,t.default)(p),m=(0,n.default)(h).getTime()-(0,a.default)(h).getTime();return Math.round(m/r)+1};var t=d(e(75466)),n=d(e(39464)),a=d(e(49522)),i=d(e(57183));function d(p){return p&&p.__esModule?p:{default:p}}var r=6048e5;R.exports=c.default},71076:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r){(0,n.default)(1,arguments);var l=(0,t.default)(r),p=l.getUTCFullYear(),h=new Date(0);h.setUTCFullYear(p+1,0,4),h.setUTCHours(0,0,0,0);var m=(0,a.default)(h),_=new Date(0);_.setUTCFullYear(p,0,4),_.setUTCHours(0,0,0,0);var v=(0,a.default)(_);return l.getTime()>=m.getTime()?p+1:l.getTime()>=v.getTime()?p:p-1};var t=i(e(75466)),n=i(e(57183)),a=i(e(39464));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},74358:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(p,h){(0,i.default)(1,arguments);var m=(0,t.default)(p),_=(0,n.default)(m,h).getTime()-(0,a.default)(m,h).getTime();return Math.round(_/r)+1};var t=d(e(75466)),n=d(e(98283)),a=d(e(84293)),i=d(e(57183));function d(p){return p&&p.__esModule?p:{default:p}}var r=6048e5;R.exports=c.default},94356:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(p,h){var m,_,v,y,O,S,b,o;(0,n.default)(1,arguments);var D=(0,t.default)(p),M=D.getUTCFullYear(),C=(0,d.getDefaultOptions)(),T=(0,i.default)(null!==(m=null!==(_=null!==(v=null!==(y=h?.firstWeekContainsDate)&&void 0!==y?y:null==h||null===(O=h.locale)||void 0===O||null===(S=O.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==v?v:C.firstWeekContainsDate)&&void 0!==_?_:null===(b=C.locale)||void 0===b||null===(o=b.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==m?m:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(M+1,0,T),g.setUTCHours(0,0,0,0);var U=(0,a.default)(g,h),L=new Date(0);L.setUTCFullYear(M,0,T),L.setUTCHours(0,0,0,0);var j=(0,a.default)(L,h);return D.getTime()>=U.getTime()?M+1:D.getTime()>=j.getTime()?M:M-1};var t=r(e(75466)),n=r(e(57183)),a=r(e(98283)),i=r(e(87823)),d=e(92726);function r(p){return p&&p.__esModule?p:{default:p}}R.exports=c.default},58088:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isProtectedDayOfYearToken=function n(d){return-1!==e.indexOf(d)},c.isProtectedWeekYearToken=function a(d){return-1!==t.indexOf(d)},c.throwProtectedError=function i(d,r,l){if("YYYY"===d)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===d)throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===d)throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===d)throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var e=["D","DD"],t=["YY","YYYY"]},57183:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")},R.exports=c.default},39464:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function i(d){(0,n.default)(1,arguments);var l=(0,t.default)(d),p=l.getUTCDay(),h=(p<1?7:0)+p-1;return l.setUTCDate(l.getUTCDate()-h),l.setUTCHours(0,0,0,0),l};var t=a(e(75466)),n=a(e(57183));function a(d){return d&&d.__esModule?d:{default:d}}R.exports=c.default},49522:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r){(0,a.default)(1,arguments);var l=(0,t.default)(r),p=new Date(0);return p.setUTCFullYear(l,0,4),p.setUTCHours(0,0,0,0),(0,n.default)(p)};var t=i(e(71076)),n=i(e(39464)),a=i(e(57183));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},98283:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function r(l,p){var h,m,_,v,y,O,S,b;(0,n.default)(1,arguments);var o=(0,i.getDefaultOptions)(),D=(0,a.default)(null!==(h=null!==(m=null!==(_=null!==(v=p?.weekStartsOn)&&void 0!==v?v:null==p||null===(y=p.locale)||void 0===y||null===(O=y.options)||void 0===O?void 0:O.weekStartsOn)&&void 0!==_?_:o.weekStartsOn)&&void 0!==m?m:null===(S=o.locale)||void 0===S||null===(b=S.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==h?h:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=(0,t.default)(l),C=M.getUTCDay(),T=(C<D?7:0)+C-D;return M.setUTCDate(M.getUTCDate()-T),M.setUTCHours(0,0,0,0),M};var t=d(e(75466)),n=d(e(57183)),a=d(e(87823)),i=e(92726);function d(l){return l&&l.__esModule?l:{default:l}}R.exports=c.default},84293:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(p,h){var m,_,v,y,O,S,b,o;(0,n.default)(1,arguments);var D=(0,d.getDefaultOptions)(),M=(0,i.default)(null!==(m=null!==(_=null!==(v=null!==(y=h?.firstWeekContainsDate)&&void 0!==y?y:null==h||null===(O=h.locale)||void 0===O||null===(S=O.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==v?v:D.firstWeekContainsDate)&&void 0!==_?_:null===(b=D.locale)||void 0===b||null===(o=b.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==m?m:1),C=(0,t.default)(p,h),T=new Date(0);return T.setUTCFullYear(C,0,M),T.setUTCHours(0,0,0,0),(0,a.default)(T,h)};var t=r(e(94356)),n=r(e(57183)),a=r(e(98283)),i=r(e(87823)),d=e(92726);function r(p){return p&&p.__esModule?p:{default:p}}R.exports=c.default},87823:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)},R.exports=c.default},77386:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r,l){(0,a.default)(2,arguments);var p=(0,n.default)(r).getTime(),h=(0,t.default)(l);return new Date(p+h)};var t=i(e(87823)),n=i(e(75466)),a=i(e(57183));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},87448:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function D(C,T,g){var U,L,j,$,z,re,W,ie,ce,ne,K,w,Q,oe,q,ee,J,Ee;(0,h.default)(2,arguments);var Oe=String(T),Re=(0,m.getDefaultOptions)(),ve=null!==(U=null!==(L=g?.locale)&&void 0!==L?L:Re.locale)&&void 0!==U?U:_.default,Pe=(0,p.default)(null!==(j=null!==($=null!==(z=null!==(re=g?.firstWeekContainsDate)&&void 0!==re?re:null==g||null===(W=g.locale)||void 0===W||null===(ie=W.options)||void 0===ie?void 0:ie.firstWeekContainsDate)&&void 0!==z?z:Re.firstWeekContainsDate)&&void 0!==$?$:null===(ce=Re.locale)||void 0===ce||null===(ne=ce.options)||void 0===ne?void 0:ne.firstWeekContainsDate)&&void 0!==j?j:1);if(!(Pe>=1&&Pe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var et=(0,p.default)(null!==(K=null!==(w=null!==(Q=null!==(oe=g?.weekStartsOn)&&void 0!==oe?oe:null==g||null===(q=g.locale)||void 0===q||null===(ee=q.options)||void 0===ee?void 0:ee.weekStartsOn)&&void 0!==Q?Q:Re.weekStartsOn)&&void 0!==w?w:null===(J=Re.locale)||void 0===J||null===(Ee=J.options)||void 0===Ee?void 0:Ee.weekStartsOn)&&void 0!==K?K:0);if(!(et>=0&&et<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ve.localize)throw new RangeError("locale must contain localize property");if(!ve.formatLong)throw new RangeError("locale must contain formatLong property");var Ze=(0,a.default)(C);if(!(0,t.default)(Ze))throw new RangeError("Invalid time value");var tt=(0,r.default)(Ze),yt=(0,n.default)(Ze,tt),Ne={firstWeekContainsDate:Pe,weekStartsOn:et,locale:ve,_originalDate:Ze};return Oe.match(O).map(function(Dt){var At=Dt[0];return"p"===At||"P"===At?(0,d.default[At])(Dt,ve.formatLong):Dt}).join("").match(y).map(function(Dt){if("''"===Dt)return"'";var At=Dt[0];if("'"===At)return function M(C){var T=C.match(S);return T?T[1].replace(b,"'"):C}(Dt);var Jt=i.default[At];if(Jt)return!(null!=g&&g.useAdditionalWeekYearTokens)&&(0,l.isProtectedWeekYearToken)(Dt)&&(0,l.throwProtectedError)(Dt,T,String(C)),!(null!=g&&g.useAdditionalDayOfYearTokens)&&(0,l.isProtectedDayOfYearToken)(Dt)&&(0,l.throwProtectedError)(Dt,T,String(C)),Jt(yt,Dt,ve.localize,Ne);if(At.match(o))throw new RangeError("Format string contains an unescaped latin alphabet character `"+At+"`");return Dt}).join("")};var t=v(e(50846)),n=v(e(22958)),a=v(e(75466)),i=v(e(15776)),d=v(e(8048)),r=v(e(37684)),l=e(58088),p=v(e(87823)),h=v(e(57183)),m=e(92726),_=v(e(1144));function v(C){return C&&C.__esModule?C:{default:C}}var y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S=/^'([^]*?)'?$/,b=/''/g,o=/[a-zA-Z]/;R.exports=c.default},35362:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function i(d){return(0,t.default)(1,arguments),d instanceof Date||"object"===a(d)&&"[object Date]"===Object.prototype.toString.call(d)};var t=function n(d){return d&&d.__esModule?d:{default:d}}(e(57183));function a(d){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}R.exports=c.default},50846:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r){if((0,a.default)(1,arguments),!(0,t.default)(r)&&"number"!=typeof r)return!1;var l=(0,n.default)(r);return!isNaN(Number(l))};var t=i(e(35362)),n=i(e(75466)),a=i(e(57183));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},20959:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.width?String(n.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}},R.exports=c.default},61394:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t){return function(n,a){var d;if("formatting"===(null!=a&&a.context?String(a.context):"standalone")&&t.formattingValues){var r=t.defaultFormattingWidth||t.defaultWidth,l=null!=a&&a.width?String(a.width):r;d=t.formattingValues[l]||t.formattingValues[r]}else{var p=t.defaultWidth,h=null!=a&&a.width?String(a.width):t.defaultWidth;d=t.values[h]||t.values[p]}return d[t.argumentCallback?t.argumentCallback(n):n]}},R.exports=c.default},8483:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(a){return function(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d.width,p=i.match(r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth]);if(!p)return null;var v,h=p[0],m=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],_=Array.isArray(m)?function n(a,i){for(var d=0;d<a.length;d++)if(i(a[d]))return d}(m,function(O){return O.test(h)}):function t(a,i){for(var d in a)if(a.hasOwnProperty(d)&&i(a[d]))return d}(m,function(O){return O.test(h)});return v=a.valueCallback?a.valueCallback(_):_,{value:v=d.valueCallback?d.valueCallback(v):v,rest:i.slice(h.length)}}},R.exports=c.default},83774:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;var d=i[0],r=n.match(t.parsePattern);if(!r)return null;var l=t.valueCallback?t.valueCallback(r[0]):r[0];return{value:l=a.valueCallback?a.valueCallback(l):l,rest:n.slice(d.length)}}},R.exports=c.default},32778:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};c.default=function(i,d,r){var l,p=e[i];return l="string"==typeof p?p:1===d?p.one:p.other.replace("{{count}}",d.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+l:l+" ago":l},R.exports=c.default},33734:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=function n(p){return p&&p.__esModule?p:{default:p}}(e(20959)),r={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};c.default=r,R.exports=c.default},18671:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};c.default=function(i,d,r,l){return e[i]},R.exports=c.default},62805:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=function n(v){return v&&v.__esModule?v:{default:v}}(e(61394)),m={ordinalNumber:function(y,O){var S=Number(y),b=S%100;if(b>20||b<10)switch(b%10){case 1:return S+"st";case 2:return S+"nd";case 3:return S+"rd"}return S+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(y){return y-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};c.default=m,R.exports=c.default},68876:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=a(e(8483));function a(D){return D&&D.__esModule?D:{default:D}}var b={ordinalNumber:(0,a(e(83774)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(M){return parseInt(M,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(M){return M+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};c.default=b,R.exports=c.default},41978:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=r(e(32778)),n=r(e(33734)),a=r(e(18671)),i=r(e(62805)),d=r(e(68876));function r(h){return h&&h.__esModule?h:{default:h}}c.default={code:"en-US",formatDistance:t.default,formatLong:n.default,formatRelative:a.default,localize:i.default,match:d.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},R.exports=c.default},22958:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r,l){(0,n.default)(2,arguments);var p=(0,a.default)(l);return(0,t.default)(r,-p)};var t=i(e(77386)),n=i(e(57183)),a=i(e(87823));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},75466:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function i(d){(0,t.default)(1,arguments);var r=Object.prototype.toString.call(d);return d instanceof Date||"object"===a(d)&&"[object Date]"===r?new Date(d.getTime()):"number"==typeof d||"[object Number]"===r?new Date(d):(("string"==typeof d||"[object String]"===r)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=function n(d){return d&&d.__esModule?d:{default:d}}(e(57183));function a(d){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}R.exports=c.default},21584:R=>{"use strict";var c=function(o){return function e(b){return!!b&&"object"==typeof b}(o)&&!function t(b){var o=Object.prototype.toString.call(b);return"[object RegExp]"===o||"[object Date]"===o||function i(b){return b.$$typeof===a}(b)}(o)},a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(b,o){return!1!==o.clone&&o.isMergeableObject(b)?O(function d(b){return Array.isArray(b)?[]:{}}(b),b,o):b}function l(b,o,D){return b.concat(o).map(function(M){return r(M,D)})}function m(b){return Object.keys(b).concat(function h(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(o){return Object.propertyIsEnumerable.call(b,o)}):[]}(b))}function _(b,o){try{return o in b}catch{return!1}}function O(b,o,D){(D=D||{}).arrayMerge=D.arrayMerge||l,D.isMergeableObject=D.isMergeableObject||c,D.cloneUnlessOtherwiseSpecified=r;var M=Array.isArray(o);return M===Array.isArray(b)?M?D.arrayMerge(b,o,D):function y(b,o,D){var M={};return D.isMergeableObject(b)&&m(b).forEach(function(C){M[C]=r(b[C],D)}),m(o).forEach(function(C){(function v(b,o){return _(b,o)&&!(Object.hasOwnProperty.call(b,o)&&Object.propertyIsEnumerable.call(b,o))})(b,C)||(M[C]=_(b,C)&&D.isMergeableObject(o[C])?function p(b,o){if(!o.customMerge)return O;var D=o.customMerge(b);return"function"==typeof D?D:O}(C,D)(b[C],o[C],D):r(o[C],D))}),M}(b,o,D):r(o,D)}O.all=function(o,D){if(!Array.isArray(o))throw new Error("first argument should be an array");return o.reduce(function(M,C){return O(M,C,D)},{})},R.exports=O},25336:function(R){R.exports=function(){"use strict";var c=/^(b|B)$/,e={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},t={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n={floor:Math.floor,ceil:Math.ceil};function a(i){var d,r,l,p,h,m,_,v,y,O,S,b,o,D,M,C,T,g,U,L,j,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=[],re=0;if(isNaN(i))throw new TypeError("Invalid number");if(l=!0===$.bits,M=!0===$.unix,b=!0===$.pad,o=void 0!==$.round?$.round:M?1:2,_=void 0!==$.locale?$.locale:"",v=$.localeOptions||{},C=void 0!==$.separator?$.separator:"",T=void 0!==$.spacer?$.spacer:M?"":" ",U=$.symbols||{},g=2===(r=$.base||2)&&$.standard||"jedec",S=$.output||"string",h=!0===$.fullform,m=$.fullforms instanceof Array?$.fullforms:[],d=void 0!==$.exponent?$.exponent:-1,L=n[$.roundingMethod]||Math.round,y=(O=Number(i))<0,p=r>2?1e3:1024,j=!1===isNaN($.precision)?parseInt($.precision,10):0,y&&(O=-O),(-1===d||isNaN(d))&&(d=Math.floor(Math.log(O)/Math.log(p)))<0&&(d=0),d>8&&(j>0&&(j+=8-d),d=8),"exponent"===S)return d;if(0===O)z[0]=0,D=z[1]=M?"":e[g][l?"bits":"bytes"][d];else{re=O/(2===r?Math.pow(2,10*d):Math.pow(1e3,d)),l&&(re*=8)>=p&&d<8&&(re/=p,d++);var W=Math.pow(10,d>0?o:0);z[0]=L(re*W)/W,z[0]===p&&d<8&&void 0===$.exponent&&(z[0]=1,d++),D=z[1]=10===r&&1===d?l?"kb":"kB":e[g][l?"bits":"bytes"][d],M&&(z[1]="jedec"===g?z[1].charAt(0):d>0?z[1].replace(/B$/,""):z[1],c.test(z[1])&&(z[0]=Math.floor(z[0]),z[1]=""))}if(y&&(z[0]=-z[0]),j>0&&(z[0]=z[0].toPrecision(j)),z[1]=U[z[1]]||z[1],!0===_?z[0]=z[0].toLocaleString():_.length>0?z[0]=z[0].toLocaleString(_,v):C.length>0&&(z[0]=z[0].toString().replace(".",C)),b&&!1===Number.isInteger(z[0])&&o>0){var ie=C||".",ce=z[0].toString().split(ie),ne=ce[1]||"",K=ne.length,w=o-K;z[0]="".concat(ce[0]).concat(ie).concat(ne.padEnd(K+w,"0"))}return h&&(z[1]=m[d]?m[d]:t[g][d]+(l?"bit":"byte")+(1===z[0]?"":"s")),"array"===S?z:"object"===S?{value:z[0],symbol:z[1],exponent:d,unit:D}:z.join(T)}return a.partial=function(i){return function(d){return a(d,i)}},a}()},5752:(R,c,e)=>{var t,n,a;void 0!==(n="function"==typeof(t=a=function(){function a(){for(var r=0,l={};r<arguments.length;r++){var p=arguments[r];for(var h in p)l[h]=p[h]}return l}function i(r){return r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function d(r){function l(){}function p(m,_,v){if(!(typeof document>"u")){"number"==typeof(v=a({path:"/"},l.defaults,v)).expires&&(v.expires=new Date(1*new Date+864e5*v.expires)),v.expires=v.expires?v.expires.toUTCString():"";try{var y=JSON.stringify(_);/^[\{\[]/.test(y)&&(_=y)}catch{}_=r.write?r.write(_,m):encodeURIComponent(String(_)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),m=encodeURIComponent(String(m)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var O="";for(var S in v)v[S]&&(O+="; "+S,!0!==v[S]&&(O+="="+v[S].split(";")[0]));return document.cookie=m+"="+_+O}}function h(m,_){if(!(typeof document>"u")){for(var v={},y=document.cookie?document.cookie.split("; "):[],O=0;O<y.length;O++){var S=y[O].split("="),b=S.slice(1).join("=");!_&&'"'===b.charAt(0)&&(b=b.slice(1,-1));try{var o=i(S[0]);if(b=(r.read||r)(b,o)||i(b),_)try{b=JSON.parse(b)}catch{}if(v[o]=b,m===o)break}catch{}}return m?v[m]:v}}return l.set=p,l.get=function(m){return h(m,!1)},l.getJSON=function(m){return h(m,!0)},l.remove=function(m,_){p(m,"",a(_,{expires:-1}))},l.defaults={},l.withConverter=d,l}(function(){})})?t.call(c,e,c,R):t)&&(R.exports=n),R.exports=a()},22631:(R,c,e)=>{var a=e(7201)(e(36216),"DataView");R.exports=a},79001:(R,c,e)=>{var t=e(2909),n=e(7490),a=e(38786),i=e(7491),d=e(37499);function r(l){var p=-1,h=null==l?0:l.length;for(this.clear();++p<h;){var m=l[p];this.set(m[0],m[1])}}r.prototype.clear=t,r.prototype.delete=n,r.prototype.get=a,r.prototype.has=i,r.prototype.set=d,R.exports=r},89043:(R,c,e)=>{var t=e(68232),n=e(28871),a=e(49585),i=e(9041),d=e(75636);function r(l){var p=-1,h=null==l?0:l.length;for(this.clear();++p<h;){var m=l[p];this.set(m[0],m[1])}}r.prototype.clear=t,r.prototype.delete=n,r.prototype.get=a,r.prototype.has=i,r.prototype.set=d,R.exports=r},75209:(R,c,e)=>{var a=e(7201)(e(36216),"Map");R.exports=a},22160:(R,c,e)=>{var t=e(87695),n=e(81887),a=e(33913),i=e(80049),d=e(97330);function r(l){var p=-1,h=null==l?0:l.length;for(this.clear();++p<h;){var m=l[p];this.set(m[0],m[1])}}r.prototype.clear=t,r.prototype.delete=n,r.prototype.get=a,r.prototype.has=i,r.prototype.set=d,R.exports=r},18670:(R,c,e)=>{var a=e(7201)(e(36216),"Promise");R.exports=a},613:(R,c,e)=>{var a=e(7201)(e(36216),"Set");R.exports=a},31650:(R,c,e)=>{var t=e(22160),n=e(93715),a=e(94372);function i(d){var r=-1,l=null==d?0:d.length;for(this.__data__=new t;++r<l;)this.add(d[r])}i.prototype.add=i.prototype.push=n,i.prototype.has=a,R.exports=i},76245:(R,c,e)=>{var t=e(89043),n=e(18959),a=e(69569),i=e(84542),d=e(25235),r=e(42056);function l(p){var h=this.__data__=new t(p);this.size=h.size}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=d,l.prototype.set=r,R.exports=l},31624:(R,c,e)=>{var t=e(36216);R.exports=t.Symbol},97975:(R,c,e)=>{var t=e(36216);R.exports=t.Uint8Array},78038:(R,c,e)=>{var a=e(7201)(e(36216),"WeakMap");R.exports=a},97007:R=>{R.exports=function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},15329:R=>{R.exports=function c(e,t,n,a){for(var i=-1,d=null==e?0:e.length;++i<d;){var r=e[i];t(a,r,n(r),e)}return a}},86821:R=>{R.exports=function c(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}},22139:R=>{R.exports=function c(e,t){for(var n=-1,a=null==e?0:e.length,i=0,d=[];++n<a;){var r=e[n];t(r,n,e)&&(d[i++]=r)}return d}},50111:(R,c,e)=>{var t=e(41208);R.exports=function n(a,i){return!(null==a||!a.length)&&t(a,i,0)>-1}},68764:R=>{R.exports=function c(e,t,n){for(var a=-1,i=null==e?0:e.length;++a<i;)if(n(t,e[a]))return!0;return!1}},85069:(R,c,e)=>{var t=e(96022),n=e(69560),a=e(11258),i=e(56801),d=e(38714),r=e(60916),p=Object.prototype.hasOwnProperty;R.exports=function h(m,_){var v=a(m),y=!v&&n(m),O=!v&&!y&&i(m),S=!v&&!y&&!O&&r(m),b=v||y||O||S,o=b?t(m.length,String):[],D=o.length;for(var M in m)(_||p.call(m,M))&&(!b||!("length"==M||O&&("offset"==M||"parent"==M)||S&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||d(M,D)))&&o.push(M);return o}},19606:R=>{R.exports=function c(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}},64772:R=>{R.exports=function c(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}},26758:R=>{R.exports=function c(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},16389:(R,c,e)=>{var t=e(35560),n=e(3382);R.exports=function a(i,d,r){(void 0!==r&&!n(i[d],r)||void 0===r&&!(d in i))&&t(i,d,r)}},14979:(R,c,e)=>{var t=e(35560),n=e(3382),i=Object.prototype.hasOwnProperty;R.exports=function d(r,l,p){var h=r[l];(!i.call(r,l)||!n(h,p)||void 0===p&&!(l in r))&&t(r,l,p)}},10476:(R,c,e)=>{var t=e(3382);R.exports=function n(a,i){for(var d=a.length;d--;)if(t(a[d][0],i))return d;return-1}},82544:(R,c,e)=>{var t=e(14641);R.exports=function n(a,i,d,r){return t(a,function(l,p,h){i(r,l,d(l),h)}),r}},54869:(R,c,e)=>{var t=e(9391),n=e(9682);R.exports=function a(i,d){return i&&t(d,n(d),i)}},53283:(R,c,e)=>{var t=e(9391),n=e(56380);R.exports=function a(i,d){return i&&t(d,n(d),i)}},35560:(R,c,e)=>{var t=e(15266);R.exports=function n(a,i,d){"__proto__"==i&&t?t(a,i,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[i]=d}},14762:(R,c,e)=>{var t=e(76245),n=e(86821),a=e(14979),i=e(54869),d=e(53283),r=e(91205),l=e(89255),p=e(82887),h=e(95349),m=e(45721),_=e(97674),v=e(41599),y=e(78587),O=e(22524),S=e(33175),b=e(11258),o=e(56801),D=e(76107),M=e(90537),C=e(93966),T=e(9682),g=e(56380),$="[object Arguments]",ce="[object Function]",Q="[object Object]",At={};At[$]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object DataView]"]=At["[object Boolean]"]=At["[object Date]"]=At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Map]"]=At["[object Number]"]=At[Q]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object Symbol]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Error]"]=At[ce]=At["[object WeakMap]"]=!1,R.exports=function Jt($t,lt,Ht,Qe,ft,Je){var Ge,qe=1&lt,gt=2&lt,it=4&lt;if(Ht&&(Ge=ft?Ht($t,Qe,ft,Je):Ht($t)),void 0!==Ge)return Ge;if(!M($t))return $t;var ht=b($t);if(ht){if(Ge=y($t),!qe)return l($t,Ge)}else{var St=v($t),It=St==ce||"[object GeneratorFunction]"==St;if(o($t))return r($t,qe);if(St==Q||St==$||It&&!ft){if(Ge=gt||It?{}:S($t),!qe)return gt?h($t,d(Ge,$t)):p($t,i(Ge,$t))}else{if(!At[St])return ft?$t:{};Ge=O($t,St,qe)}}Je||(Je=new t);var Yt=Je.get($t);if(Yt)return Yt;Je.set($t,Ge),C($t)?$t.forEach(function(Mn){Ge.add(Jt(Mn,lt,Ht,Mn,$t,Je))}):D($t)&&$t.forEach(function(Mn,xn){Ge.set(xn,Jt(Mn,lt,Ht,xn,$t,Je))});var Tt=ht?void 0:(it?gt?_:m:gt?g:T)($t);return n(Tt||$t,function(Mn,xn){Tt&&(Mn=$t[xn=Mn]),a(Ge,xn,Jt(Mn,lt,Ht,xn,$t,Je))}),Ge}},70830:(R,c,e)=>{var t=e(90537),n=Object.create,a=function(){function i(){}return function(d){if(!t(d))return{};if(n)return n(d);i.prototype=d;var r=new i;return i.prototype=void 0,r}}();R.exports=a},34024:(R,c,e)=>{var t=e(31650),n=e(50111),a=e(68764),i=e(19606),d=e(56935),r=e(96156);R.exports=function p(h,m,_,v){var y=-1,O=n,S=!0,b=h.length,o=[],D=m.length;if(!b)return o;_&&(m=i(m,d(_))),v?(O=a,S=!1):m.length>=200&&(O=r,S=!1,m=new t(m));e:for(;++y<b;){var M=h[y],C=null==_?M:_(M);if(M=v||0!==M?M:0,S&&C==C){for(var T=D;T--;)if(m[T]===C)continue e;o.push(M)}else O(m,C,v)||o.push(M)}return o}},14641:(R,c,e)=>{var t=e(47017),a=e(58616)(t);R.exports=a},70407:R=>{R.exports=function c(e,t,n,a){for(var i=e.length,d=n+(a?1:-1);a?d--:++d<i;)if(t(e[d],d,e))return d;return-1}},94898:R=>{R.exports=function c(e,t,n){var a;return n(e,function(i,d,r){if(t(i,d,r))return a=d,!1}),a}},6380:(R,c,e)=>{var t=e(64772),n=e(36487);R.exports=function a(i,d,r,l,p){var h=-1,m=i.length;for(r||(r=n),p||(p=[]);++h<m;){var _=i[h];d>0&&r(_)?d>1?a(_,d-1,r,l,p):t(p,_):l||(p[p.length]=_)}return p}},88477:(R,c,e)=>{var n=e(35554)();R.exports=n},47017:(R,c,e)=>{var t=e(88477),n=e(9682);R.exports=function a(i,d){return i&&t(i,d,n)}},26227:(R,c,e)=>{var t=e(38734),n=e(58935);R.exports=function a(i,d){for(var r=0,l=(d=t(d,i)).length;null!=i&&r<l;)i=i[n(d[r++])];return r&&r==l?i:void 0}},1731:(R,c,e)=>{var t=e(64772),n=e(11258);R.exports=function a(i,d,r){var l=d(i);return n(i)?l:t(l,r(i))}},82914:(R,c,e)=>{var t=e(31624),n=e(90795),a=e(47112),r=t?t.toStringTag:void 0;R.exports=function l(p){return null==p?void 0===p?"[object Undefined]":"[object Null]":r&&r in Object(p)?n(p):a(p)}},45255:R=>{R.exports=function c(e,t){return null!=e&&t in Object(e)}},41208:(R,c,e)=>{var t=e(70407),n=e(64130),a=e(72253);R.exports=function i(d,r,l){return r==r?a(d,r,l):t(d,n,l)}},64091:(R,c,e)=>{var t=e(82914),n=e(96840);R.exports=function i(d){return n(d)&&"[object Arguments]"==t(d)}},17270:(R,c,e)=>{var t=e(81255),n=e(96840);R.exports=function a(i,d,r,l,p){return i===d||(null==i||null==d||!n(i)&&!n(d)?i!=i&&d!=d:t(i,d,r,l,a,p))}},81255:(R,c,e)=>{var t=e(76245),n=e(30301),a=e(3783),i=e(38564),d=e(41599),r=e(11258),l=e(56801),p=e(60916),m="[object Arguments]",_="[object Array]",v="[object Object]",O=Object.prototype.hasOwnProperty;R.exports=function S(b,o,D,M,C,T){var g=r(b),U=r(o),L=g?_:d(b),j=U?_:d(o),$=(L=L==m?v:L)==v,z=(j=j==m?v:j)==v,re=L==j;if(re&&l(b)){if(!l(o))return!1;g=!0,$=!1}if(re&&!$)return T||(T=new t),g||p(b)?n(b,o,D,M,C,T):a(b,o,L,D,M,C,T);if(!(1&D)){var W=$&&O.call(b,"__wrapped__"),ie=z&&O.call(o,"__wrapped__");if(W||ie){var ce=W?b.value():b,ne=ie?o.value():o;return T||(T=new t),C(ce,ne,D,M,T)}}return!!re&&(T||(T=new t),i(b,o,D,M,C,T))}},28011:(R,c,e)=>{var t=e(41599),n=e(96840);R.exports=function i(d){return n(d)&&"[object Map]"==t(d)}},88010:(R,c,e)=>{var t=e(76245),n=e(17270);R.exports=function d(r,l,p,h){var m=p.length,_=m,v=!h;if(null==r)return!_;for(r=Object(r);m--;){var y=p[m];if(v&&y[2]?y[1]!==r[y[0]]:!(y[0]in r))return!1}for(;++m<_;){var O=(y=p[m])[0],S=r[O],b=y[1];if(v&&y[2]){if(void 0===S&&!(O in r))return!1}else{var o=new t;if(h)var D=h(S,b,O,r,l,o);if(!(void 0===D?n(b,S,3,h,o):D))return!1}}return!0}},64130:R=>{R.exports=function c(e){return e!=e}},98910:(R,c,e)=>{var t=e(59859),n=e(70045),a=e(90537),i=e(40896),r=/^\[object .+?Constructor\]$/,_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");R.exports=function v(y){return!(!a(y)||n(y))&&(t(y)?_:r).test(i(y))}},90071:(R,c,e)=>{var t=e(41599),n=e(96840);R.exports=function i(d){return n(d)&&"[object Set]"==t(d)}},32298:(R,c,e)=>{var t=e(82914),n=e(16867),a=e(96840),re={};re["[object Float32Array]"]=re["[object Float64Array]"]=re["[object Int8Array]"]=re["[object Int16Array]"]=re["[object Int32Array]"]=re["[object Uint8Array]"]=re["[object Uint8ClampedArray]"]=re["[object Uint16Array]"]=re["[object Uint32Array]"]=!0,re["[object Arguments]"]=re["[object Array]"]=re["[object ArrayBuffer]"]=re["[object Boolean]"]=re["[object DataView]"]=re["[object Date]"]=re["[object Error]"]=re["[object Function]"]=re["[object Map]"]=re["[object Number]"]=re["[object Object]"]=re["[object RegExp]"]=re["[object Set]"]=re["[object String]"]=re["[object WeakMap]"]=!1,R.exports=function W(ie){return a(ie)&&n(ie.length)&&!!re[t(ie)]}},22231:(R,c,e)=>{var t=e(92480),n=e(87079),a=e(43914),i=e(11258),d=e(48480);R.exports=function r(l){return"function"==typeof l?l:null==l?a:"object"==typeof l?i(l)?n(l[0],l[1]):t(l):d(l)}},56350:(R,c,e)=>{var t=e(16116),n=e(36635),i=Object.prototype.hasOwnProperty;R.exports=function d(r){if(!t(r))return n(r);var l=[];for(var p in Object(r))i.call(r,p)&&"constructor"!=p&&l.push(p);return l}},76739:(R,c,e)=>{var t=e(90537),n=e(16116),a=e(62231),d=Object.prototype.hasOwnProperty;R.exports=function r(l){if(!t(l))return a(l);var p=n(l),h=[];for(var m in l)"constructor"==m&&(p||!d.call(l,m))||h.push(m);return h}},15537:(R,c,e)=>{var t=e(14641),n=e(82755);R.exports=function a(i,d){var r=-1,l=n(i)?Array(i.length):[];return t(i,function(p,h,m){l[++r]=d(p,h,m)}),l}},92480:(R,c,e)=>{var t=e(88010),n=e(47354),a=e(83870);R.exports=function i(d){var r=n(d);return 1==r.length&&r[0][2]?a(r[0][0],r[0][1]):function(l){return l===d||t(l,d,r)}}},87079:(R,c,e)=>{var t=e(17270),n=e(30684),a=e(36525),i=e(97454),d=e(84737),r=e(83870),l=e(58935);R.exports=function m(_,v){return i(_)&&d(v)?r(l(_),v):function(y){var O=n(y,_);return void 0===O&&O===v?a(y,_):t(v,O,3)}}},11735:(R,c,e)=>{var t=e(76245),n=e(16389),a=e(88477),i=e(20356),d=e(90537),r=e(56380),l=e(95372);R.exports=function p(h,m,_,v,y){h!==m&&a(m,function(O,S){if(y||(y=new t),d(O))i(h,m,S,_,p,v,y);else{var b=v?v(l(h,S),O,S+"",h,m,y):void 0;void 0===b&&(b=O),n(h,S,b)}},r)}},20356:(R,c,e)=>{var t=e(16389),n=e(91205),a=e(88904),i=e(89255),d=e(33175),r=e(69560),l=e(11258),p=e(91609),h=e(56801),m=e(59859),_=e(90537),v=e(70967),y=e(60916),O=e(95372),S=e(70317);R.exports=function b(o,D,M,C,T,g,U){var L=O(o,M),j=O(D,M),$=U.get(j);if($)t(o,M,$);else{var z=g?g(L,j,M+"",o,D,U):void 0,re=void 0===z;if(re){var W=l(j),ie=!W&&h(j),ce=!W&&!ie&&y(j);z=j,W||ie||ce?l(L)?z=L:p(L)?z=i(L):ie?(re=!1,z=n(j,!0)):ce?(re=!1,z=a(j,!0)):z=[]:v(j)||r(j)?(z=L,r(L)?z=S(L):(!_(L)||m(L))&&(z=d(j))):re=!1}re&&(U.set(j,z),T(z,j,C,g,U),U.delete(j)),t(o,M,z)}}},76627:(R,c,e)=>{var t=e(19606),n=e(26227),a=e(22231),i=e(15537),d=e(83914),r=e(56935),l=e(38724),p=e(43914),h=e(11258);R.exports=function m(_,v,y){v=v.length?t(v,function(b){return h(b)?function(o){return n(o,1===b.length?b[0]:b)}:b}):[p];var O=-1;v=t(v,r(a));var S=i(_,function(b,o,D){return{criteria:t(v,function(C){return C(b)}),index:++O,value:b}});return d(S,function(b,o){return l(b,o,y)})}},72032:R=>{R.exports=function c(e){return function(t){return t?.[e]}}},15303:(R,c,e)=>{var t=e(26227);R.exports=function n(a){return function(i){return t(i,a)}}},86667:(R,c,e)=>{var t=e(43914),n=e(25840),a=e(46119);R.exports=function i(d,r){return a(n(d,r,t),d+"")}},84762:(R,c,e)=>{var t=e(51413),n=e(15266),a=e(43914);R.exports=n?function(d,r){return n(d,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:a},83914:R=>{R.exports=function c(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},96022:R=>{R.exports=function c(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},85720:(R,c,e)=>{var t=e(31624),n=e(19606),a=e(11258),i=e(77181),r=t?t.prototype:void 0,l=r?r.toString:void 0;R.exports=function p(h){if("string"==typeof h)return h;if(a(h))return n(h,p)+"";if(i(h))return l?l.call(h):"";var m=h+"";return"0"==m&&1/h==-Infinity?"-0":m}},44446:(R,c,e)=>{var t=e(70394),n=/^\s+/;R.exports=function a(i){return i&&i.slice(0,t(i)+1).replace(n,"")}},56935:R=>{R.exports=function c(e){return function(t){return e(t)}}},40976:(R,c,e)=>{var t=e(31650),n=e(50111),a=e(68764),i=e(96156),d=e(77561),r=e(92766);R.exports=function p(h,m,_){var v=-1,y=n,O=h.length,S=!0,b=[],o=b;if(_)S=!1,y=a;else if(O>=200){var D=m?null:d(h);if(D)return r(D);S=!1,y=i,o=new t}else o=m?[]:b;e:for(;++v<O;){var M=h[v],C=m?m(M):M;if(M=_||0!==M?M:0,S&&C==C){for(var T=o.length;T--;)if(o[T]===C)continue e;m&&o.push(C),b.push(M)}else y(o,C,_)||(o!==b&&o.push(C),b.push(M))}return b}},96156:R=>{R.exports=function c(e,t){return e.has(t)}},38734:(R,c,e)=>{var t=e(11258),n=e(97454),a=e(65694),i=e(98799);R.exports=function d(r,l){return t(r)?r:n(r,l)?[r]:a(i(r))}},67554:(R,c,e)=>{var t=e(97975);R.exports=function n(a){var i=new a.constructor(a.byteLength);return new t(i).set(new t(a)),i}},91205:(R,c,e)=>{R=e.nmd(R);var t=e(36216),n=c&&!c.nodeType&&c,a=n&&R&&!R.nodeType&&R,d=a&&a.exports===n?t.Buffer:void 0,r=d?d.allocUnsafe:void 0;R.exports=function l(p,h){if(h)return p.slice();var m=p.length,_=r?r(m):new p.constructor(m);return p.copy(_),_}},68979:(R,c,e)=>{var t=e(67554);R.exports=function n(a,i){var d=i?t(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}},20051:R=>{var c=/\w*$/;R.exports=function e(t){var n=new t.constructor(t.source,c.exec(t));return n.lastIndex=t.lastIndex,n}},11450:(R,c,e)=>{var t=e(31624),n=t?t.prototype:void 0,a=n?n.valueOf:void 0;R.exports=function i(d){return a?Object(a.call(d)):{}}},88904:(R,c,e)=>{var t=e(67554);R.exports=function n(a,i){var d=i?t(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}},3775:(R,c,e)=>{var t=e(77181);R.exports=function n(a,i){if(a!==i){var d=void 0!==a,r=null===a,l=a==a,p=t(a),h=void 0!==i,m=null===i,_=i==i,v=t(i);if(!m&&!v&&!p&&a>i||p&&h&&_&&!m&&!v||r&&h&&_||!d&&_||!l)return 1;if(!r&&!p&&!v&&a<i||v&&d&&l&&!r&&!p||m&&d&&l||!h&&l||!_)return-1}return 0}},38724:(R,c,e)=>{var t=e(3775);R.exports=function n(a,i,d){for(var r=-1,l=a.criteria,p=i.criteria,h=l.length,m=d.length;++r<h;){var _=t(l[r],p[r]);if(_)return r>=m?_:_*("desc"==d[r]?-1:1)}return a.index-i.index}},89255:R=>{R.exports=function c(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}},9391:(R,c,e)=>{var t=e(14979),n=e(35560);R.exports=function a(i,d,r,l){var p=!r;r||(r={});for(var h=-1,m=d.length;++h<m;){var _=d[h],v=l?l(r[_],i[_],_,r,i):void 0;void 0===v&&(v=i[_]),p?n(r,_,v):t(r,_,v)}return r}},82887:(R,c,e)=>{var t=e(9391),n=e(71269);R.exports=function a(i,d){return t(i,n(i),d)}},95349:(R,c,e)=>{var t=e(9391),n=e(57202);R.exports=function a(i,d){return t(i,n(i),d)}},90977:(R,c,e)=>{var t=e(36216);R.exports=t["__core-js_shared__"]},80182:(R,c,e)=>{var t=e(15329),n=e(82544),a=e(22231),i=e(11258);R.exports=function d(r,l){return function(p,h){var m=i(p)?t:n,_=l?l():{};return m(p,r,a(h,2),_)}}},34403:(R,c,e)=>{var t=e(86667),n=e(54346);R.exports=function a(i){return t(function(d,r){var l=-1,p=r.length,h=p>1?r[p-1]:void 0,m=p>2?r[2]:void 0;for(h=i.length>3&&"function"==typeof h?(p--,h):void 0,m&&n(r[0],r[1],m)&&(h=p<3?void 0:h,p=1),d=Object(d);++l<p;){var _=r[l];_&&i(d,_,l,h)}return d})}},58616:(R,c,e)=>{var t=e(82755);R.exports=function n(a,i){return function(d,r){if(null==d)return d;if(!t(d))return a(d,r);for(var l=d.length,p=i?l:-1,h=Object(d);(i?p--:++p<l)&&!1!==r(h[p],p,h););return d}}},35554:R=>{R.exports=function c(e){return function(t,n,a){for(var i=-1,d=Object(t),r=a(t),l=r.length;l--;){var p=r[e?l:++i];if(!1===n(d[p],p,d))break}return t}}},77561:(R,c,e)=>{var t=e(613),n=e(10130),a=e(92766),d=t&&1/a(new t([,-0]))[1]==1/0?function(r){return new t(r)}:n;R.exports=d},15266:(R,c,e)=>{var t=e(7201),n=function(){try{var a=t(Object,"defineProperty");return a({},"",{}),a}catch{}}();R.exports=n},30301:(R,c,e)=>{var t=e(31650),n=e(26758),a=e(96156);R.exports=function r(l,p,h,m,_,v){var y=1&h,O=l.length,S=p.length;if(O!=S&&!(y&&S>O))return!1;var b=v.get(l),o=v.get(p);if(b&&o)return b==p&&o==l;var D=-1,M=!0,C=2&h?new t:void 0;for(v.set(l,p),v.set(p,l);++D<O;){var T=l[D],g=p[D];if(m)var U=y?m(g,T,D,p,l,v):m(T,g,D,l,p,v);if(void 0!==U){if(U)continue;M=!1;break}if(C){if(!n(p,function(L,j){if(!a(C,j)&&(T===L||_(T,L,h,m,v)))return C.push(j)})){M=!1;break}}else if(T!==g&&!_(T,g,h,m,v)){M=!1;break}}return v.delete(l),v.delete(p),M}},3783:(R,c,e)=>{var t=e(31624),n=e(97975),a=e(3382),i=e(30301),d=e(33586),r=e(92766),C=t?t.prototype:void 0,T=C?C.valueOf:void 0;R.exports=function g(U,L,j,$,z,re,W){switch(j){case"[object DataView]":if(U.byteLength!=L.byteLength||U.byteOffset!=L.byteOffset)return!1;U=U.buffer,L=L.buffer;case"[object ArrayBuffer]":return!(U.byteLength!=L.byteLength||!re(new n(U),new n(L)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+U,+L);case"[object Error]":return U.name==L.name&&U.message==L.message;case"[object RegExp]":case"[object String]":return U==L+"";case"[object Map]":var ie=d;case"[object Set]":if(ie||(ie=r),U.size!=L.size&&!(1&$))return!1;var ne=W.get(U);if(ne)return ne==L;$|=2,W.set(U,L);var K=i(ie(U),ie(L),$,z,re,W);return W.delete(U),K;case"[object Symbol]":if(T)return T.call(U)==T.call(L)}return!1}},38564:(R,c,e)=>{var t=e(45721),i=Object.prototype.hasOwnProperty;R.exports=function d(r,l,p,h,m,_){var v=1&p,y=t(r),O=y.length;if(O!=t(l).length&&!v)return!1;for(var o=O;o--;){var D=y[o];if(!(v?D in l:i.call(l,D)))return!1}var M=_.get(r),C=_.get(l);if(M&&C)return M==l&&C==r;var T=!0;_.set(r,l),_.set(l,r);for(var g=v;++o<O;){var U=r[D=y[o]],L=l[D];if(h)var j=v?h(L,U,D,l,r,_):h(U,L,D,r,l,_);if(!(void 0===j?U===L||m(U,L,p,h,_):j)){T=!1;break}g||(g="constructor"==D)}if(T&&!g){var $=r.constructor,z=l.constructor;$!=z&&"constructor"in r&&"constructor"in l&&!("function"==typeof $&&$ instanceof $&&"function"==typeof z&&z instanceof z)&&(T=!1)}return _.delete(r),_.delete(l),T}},80536:R=>{var c="object"==typeof global&&global&&global.Object===Object&&global;R.exports=c},45721:(R,c,e)=>{var t=e(1731),n=e(71269),a=e(9682);R.exports=function i(d){return t(d,a,n)}},97674:(R,c,e)=>{var t=e(1731),n=e(57202),a=e(56380);R.exports=function i(d){return t(d,a,n)}},1922:(R,c,e)=>{var t=e(22135);R.exports=function n(a,i){var d=a.__data__;return t(i)?d["string"==typeof i?"string":"hash"]:d.map}},47354:(R,c,e)=>{var t=e(84737),n=e(9682);R.exports=function a(i){for(var d=n(i),r=d.length;r--;){var l=d[r],p=i[l];d[r]=[l,p,t(p)]}return d}},7201:(R,c,e)=>{var t=e(98910),n=e(57247);R.exports=function a(i,d){var r=n(i,d);return t(r)?r:void 0}},47102:(R,c,e)=>{var n=e(96537)(Object.getPrototypeOf,Object);R.exports=n},90795:(R,c,e)=>{var t=e(31624),n=Object.prototype,a=n.hasOwnProperty,i=n.toString,d=t?t.toStringTag:void 0;R.exports=function r(l){var p=a.call(l,d),h=l[d];try{l[d]=void 0;var m=!0}catch{}var _=i.call(l);return m&&(p?l[d]=h:delete l[d]),_}},71269:(R,c,e)=>{var t=e(22139),n=e(78855),i=Object.prototype.propertyIsEnumerable,d=Object.getOwnPropertySymbols;R.exports=d?function(l){return null==l?[]:(l=Object(l),t(d(l),function(p){return i.call(l,p)}))}:n},57202:(R,c,e)=>{var t=e(64772),n=e(47102),a=e(71269),i=e(78855);R.exports=Object.getOwnPropertySymbols?function(l){for(var p=[];l;)t(p,a(l)),l=n(l);return p}:i},41599:(R,c,e)=>{var t=e(22631),n=e(75209),a=e(18670),i=e(613),d=e(78038),r=e(82914),l=e(40896),p="[object Map]",m="[object Promise]",_="[object Set]",v="[object WeakMap]",y="[object DataView]",O=l(t),S=l(n),b=l(a),o=l(i),D=l(d),M=r;(t&&M(new t(new ArrayBuffer(1)))!=y||n&&M(new n)!=p||a&&M(a.resolve())!=m||i&&M(new i)!=_||d&&M(new d)!=v)&&(M=function(C){var T=r(C),g="[object Object]"==T?C.constructor:void 0,U=g?l(g):"";if(U)switch(U){case O:return y;case S:return p;case b:return m;case o:return _;case D:return v}return T}),R.exports=M},57247:R=>{R.exports=function c(e,t){return e?.[t]}},97960:(R,c,e)=>{var t=e(38734),n=e(69560),a=e(11258),i=e(38714),d=e(16867),r=e(58935);R.exports=function l(p,h,m){for(var _=-1,v=(h=t(h,p)).length,y=!1;++_<v;){var O=r(h[_]);if(!(y=null!=p&&m(p,O)))break;p=p[O]}return y||++_!=v?y:!!(v=null==p?0:p.length)&&d(v)&&i(O,v)&&(a(p)||n(p))}},2909:(R,c,e)=>{var t=e(55241);R.exports=function n(){this.__data__=t?t(null):{},this.size=0}},7490:R=>{R.exports=function c(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},38786:(R,c,e)=>{var t=e(55241),i=Object.prototype.hasOwnProperty;R.exports=function d(r){var l=this.__data__;if(t){var p=l[r];return"__lodash_hash_undefined__"===p?void 0:p}return i.call(l,r)?l[r]:void 0}},7491:(R,c,e)=>{var t=e(55241),a=Object.prototype.hasOwnProperty;R.exports=function i(d){var r=this.__data__;return t?void 0!==r[d]:a.call(r,d)}},37499:(R,c,e)=>{var t=e(55241);R.exports=function a(i,d){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=t&&void 0===d?"__lodash_hash_undefined__":d,this}},78587:R=>{var e=Object.prototype.hasOwnProperty;R.exports=function t(n){var a=n.length,i=new n.constructor(a);return a&&"string"==typeof n[0]&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}},22524:(R,c,e)=>{var t=e(67554),n=e(68979),a=e(20051),i=e(11450),d=e(88904);R.exports=function j($,z,re){var W=$.constructor;switch(z){case"[object ArrayBuffer]":return t($);case"[object Boolean]":case"[object Date]":return new W(+$);case"[object DataView]":return n($,re);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d($,re);case"[object Map]":case"[object Set]":return new W;case"[object Number]":case"[object String]":return new W($);case"[object RegExp]":return a($);case"[object Symbol]":return i($)}}},33175:(R,c,e)=>{var t=e(70830),n=e(47102),a=e(16116);R.exports=function i(d){return"function"!=typeof d.constructor||a(d)?{}:t(n(d))}},36487:(R,c,e)=>{var t=e(31624),n=e(69560),a=e(11258),i=t?t.isConcatSpreadable:void 0;R.exports=function d(r){return a(r)||n(r)||!!(i&&r&&r[i])}},38714:R=>{var e=/^(?:0|[1-9]\d*)$/;R.exports=function t(n,a){var i=typeof n;return!!(a=a??9007199254740991)&&("number"==i||"symbol"!=i&&e.test(n))&&n>-1&&n%1==0&&n<a}},54346:(R,c,e)=>{var t=e(3382),n=e(82755),a=e(38714),i=e(90537);R.exports=function d(r,l,p){if(!i(p))return!1;var h=typeof l;return!!("number"==h?n(p)&&a(l,p.length):"string"==h&&l in p)&&t(p[l],r)}},97454:(R,c,e)=>{var t=e(11258),n=e(77181),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;R.exports=function d(r,l){if(t(r))return!1;var p=typeof r;return!("number"!=p&&"symbol"!=p&&"boolean"!=p&&null!=r&&!n(r))||i.test(r)||!a.test(r)||null!=l&&r in Object(l)}},22135:R=>{R.exports=function c(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},70045:(R,c,e)=>{var i,t=e(90977),n=(i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";R.exports=function a(i){return!!n&&n in i}},16116:R=>{var c=Object.prototype;R.exports=function e(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||c)}},84737:(R,c,e)=>{var t=e(90537);R.exports=function n(a){return a==a&&!t(a)}},68232:R=>{R.exports=function c(){this.__data__=[],this.size=0}},28871:(R,c,e)=>{var t=e(10476),a=Array.prototype.splice;R.exports=function i(d){var r=this.__data__,l=t(r,d);return!(l<0||(l==r.length-1?r.pop():a.call(r,l,1),--this.size,0))}},49585:(R,c,e)=>{var t=e(10476);R.exports=function n(a){var i=this.__data__,d=t(i,a);return d<0?void 0:i[d][1]}},9041:(R,c,e)=>{var t=e(10476);R.exports=function n(a){return t(this.__data__,a)>-1}},75636:(R,c,e)=>{var t=e(10476);R.exports=function n(a,i){var d=this.__data__,r=t(d,a);return r<0?(++this.size,d.push([a,i])):d[r][1]=i,this}},87695:(R,c,e)=>{var t=e(79001),n=e(89043),a=e(75209);R.exports=function i(){this.size=0,this.__data__={hash:new t,map:new(a||n),string:new t}}},81887:(R,c,e)=>{var t=e(1922);R.exports=function n(a){var i=t(this,a).delete(a);return this.size-=i?1:0,i}},33913:(R,c,e)=>{var t=e(1922);R.exports=function n(a){return t(this,a).get(a)}},80049:(R,c,e)=>{var t=e(1922);R.exports=function n(a){return t(this,a).has(a)}},97330:(R,c,e)=>{var t=e(1922);R.exports=function n(a,i){var d=t(this,a),r=d.size;return d.set(a,i),this.size+=d.size==r?0:1,this}},33586:R=>{R.exports=function c(e){var t=-1,n=Array(e.size);return e.forEach(function(a,i){n[++t]=[i,a]}),n}},83870:R=>{R.exports=function c(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},18096:(R,c,e)=>{var t=e(16459);R.exports=function a(i){var d=t(i,function(l){return 500===r.size&&r.clear(),l}),r=d.cache;return d}},55241:(R,c,e)=>{var n=e(7201)(Object,"create");R.exports=n},36635:(R,c,e)=>{var n=e(96537)(Object.keys,Object);R.exports=n},62231:R=>{R.exports=function c(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1732:(R,c,e)=>{R=e.nmd(R);var t=e(80536),n=c&&!c.nodeType&&c,a=n&&R&&!R.nodeType&&R,d=a&&a.exports===n&&t.process,r=function(){try{return a&&a.require&&a.require("util").types||d&&d.binding&&d.binding("util")}catch{}}();R.exports=r},47112:R=>{var e=Object.prototype.toString;R.exports=function t(n){return e.call(n)}},96537:R=>{R.exports=function c(e,t){return function(n){return e(t(n))}}},25840:(R,c,e)=>{var t=e(97007),n=Math.max;R.exports=function a(i,d,r){return d=n(void 0===d?i.length-1:d,0),function(){for(var l=arguments,p=-1,h=n(l.length-d,0),m=Array(h);++p<h;)m[p]=l[d+p];p=-1;for(var _=Array(d+1);++p<d;)_[p]=l[p];return _[d]=r(m),t(i,this,_)}}},36216:(R,c,e)=>{var t=e(80536),n="object"==typeof self&&self&&self.Object===Object&&self,a=t||n||Function("return this")();R.exports=a},95372:R=>{R.exports=function c(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},93715:R=>{R.exports=function e(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},94372:R=>{R.exports=function c(e){return this.__data__.has(e)}},92766:R=>{R.exports=function c(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}},46119:(R,c,e)=>{var t=e(84762),a=e(24644)(t);R.exports=a},24644:R=>{var c=800,e=16,t=Date.now;R.exports=function n(a){var i=0,d=0;return function(){var r=t(),l=e-(r-d);if(d=r,l>0){if(++i>=c)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}},18959:(R,c,e)=>{var t=e(89043);R.exports=function n(){this.__data__=new t,this.size=0}},69569:R=>{R.exports=function c(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},84542:R=>{R.exports=function c(e){return this.__data__.get(e)}},25235:R=>{R.exports=function c(e){return this.__data__.has(e)}},42056:(R,c,e)=>{var t=e(89043),n=e(75209),a=e(22160);R.exports=function d(r,l){var p=this.__data__;if(p instanceof t){var h=p.__data__;if(!n||h.length<199)return h.push([r,l]),this.size=++p.size,this;p=this.__data__=new a(h)}return p.set(r,l),this.size=p.size,this}},72253:R=>{R.exports=function c(e,t,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}},65694:(R,c,e)=>{var t=e(18096),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=t(function(d){var r=[];return 46===d.charCodeAt(0)&&r.push(""),d.replace(n,function(l,p,h,m){r.push(h?m.replace(a,"$1"):p||l)}),r});R.exports=i},58935:(R,c,e)=>{var t=e(77181);R.exports=function a(i){if("string"==typeof i||t(i))return i;var d=i+"";return"0"==d&&1/i==-Infinity?"-0":d}},40896:R=>{var e=Function.prototype.toString;R.exports=function t(n){if(null!=n){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}},70394:R=>{var c=/\s/;R.exports=function e(t){for(var n=t.length;n--&&c.test(t.charAt(n)););return n}},62574:(R,c,e)=>{var t=e(14762);R.exports=function i(d){return t(d,5)}},51413:R=>{R.exports=function c(e){return function(){return e}}},32935:(R,c,e)=>{var t=e(90537),n=e(39838),a=e(34874),d=Math.max,r=Math.min;R.exports=function l(p,h,m){var _,v,y,O,S,b,o=0,D=!1,M=!1,C=!0;if("function"!=typeof p)throw new TypeError("Expected a function");function T(ie){var ce=_,ne=v;return _=v=void 0,o=ie,O=p.apply(ne,ce)}function L(ie){var ce=ie-b;return void 0===b||ce>=h||ce<0||M&&ie-o>=y}function j(){var ie=n();if(L(ie))return $(ie);S=setTimeout(j,function U(ie){var K=h-(ie-b);return M?r(K,y-(ie-o)):K}(ie))}function $(ie){return S=void 0,C&&_?T(ie):(_=v=void 0,O)}function W(){var ie=n(),ce=L(ie);if(_=arguments,v=this,b=ie,ce){if(void 0===S)return function g(ie){return o=ie,S=setTimeout(j,h),D?T(ie):O}(b);if(M)return clearTimeout(S),S=setTimeout(j,h),T(b)}return void 0===S&&(S=setTimeout(j,h)),O}return h=a(h)||0,t(m)&&(D=!!m.leading,y=(M="maxWait"in m)?d(a(m.maxWait)||0,h):y,C="trailing"in m?!!m.trailing:C),W.cancel=function z(){void 0!==S&&clearTimeout(S),o=0,_=b=v=S=void 0},W.flush=function re(){return void 0===S?O:$(n())},W}},44242:(R,c,e)=>{var t=e(34024),n=e(6380),a=e(86667),i=e(91609),d=a(function(r,l){return i(r)?t(r,n(l,1,i,!0)):[]});R.exports=d},60809:(R,c,e)=>{var t=e(34024),n=e(6380),a=e(86667),i=e(91609),d=e(89494),r=a(function(l,p){var h=d(p);return i(h)&&(h=void 0),i(l)?t(l,n(p,1,i,!0),void 0,h):[]});R.exports=r},3382:R=>{R.exports=function c(e,t){return e===t||e!=e&&t!=t}},54385:(R,c,e)=>{var t=e(70407),n=e(22231),a=e(7592),i=Math.max;R.exports=function d(r,l,p){var h=null==r?0:r.length;if(!h)return-1;var m=null==p?0:a(p);return m<0&&(m=i(h+m,0)),t(r,n(l,3),m)}},34045:(R,c,e)=>{var t=e(94898),n=e(47017),a=e(22231);R.exports=function i(d,r){return t(d,a(r,3),n)}},30684:(R,c,e)=>{var t=e(26227);R.exports=function n(a,i,d){var r=null==a?void 0:t(a,i);return void 0===r?d:r}},13635:(R,c,e)=>{var t=e(35560),n=e(80182),i=Object.prototype.hasOwnProperty,d=n(function(r,l,p){i.call(r,p)?r[p].push(l):t(r,p,[l])});R.exports=d},36525:(R,c,e)=>{var t=e(45255),n=e(97960);R.exports=function a(i,d){return null!=i&&n(i,d,t)}},43914:R=>{R.exports=function c(e){return e}},69560:(R,c,e)=>{var t=e(64091),n=e(96840),a=Object.prototype,i=a.hasOwnProperty,d=a.propertyIsEnumerable,r=t(function(){return arguments}())?t:function(l){return n(l)&&i.call(l,"callee")&&!d.call(l,"callee")};R.exports=r},11258:R=>{R.exports=Array.isArray},82755:(R,c,e)=>{var t=e(59859),n=e(16867);R.exports=function a(i){return null!=i&&n(i.length)&&!t(i)}},91609:(R,c,e)=>{var t=e(82755),n=e(96840);R.exports=function a(i){return n(i)&&t(i)}},56801:(R,c,e)=>{R=e.nmd(R);var t=e(36216),n=e(59022),a=c&&!c.nodeType&&c,i=a&&R&&!R.nodeType&&R,r=i&&i.exports===a?t.Buffer:void 0;R.exports=(r?r.isBuffer:void 0)||n},94667:(R,c,e)=>{var t=e(17270);R.exports=function n(a,i){return t(a,i)}},59859:(R,c,e)=>{var t=e(82914),n=e(90537);R.exports=function l(p){if(!n(p))return!1;var h=t(p);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},16867:R=>{R.exports=function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},76107:(R,c,e)=>{var t=e(28011),n=e(56935),a=e(1732),i=a&&a.isMap,d=i?n(i):t;R.exports=d},90537:R=>{R.exports=function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},96840:R=>{R.exports=function c(e){return null!=e&&"object"==typeof e}},70967:(R,c,e)=>{var t=e(82914),n=e(47102),a=e(96840),l=Function.prototype.toString,p=Object.prototype.hasOwnProperty,h=l.call(Object);R.exports=function m(_){if(!a(_)||"[object Object]"!=t(_))return!1;var v=n(_);if(null===v)return!0;var y=p.call(v,"constructor")&&v.constructor;return"function"==typeof y&&y instanceof y&&l.call(y)==h}},93966:(R,c,e)=>{var t=e(90071),n=e(56935),a=e(1732),i=a&&a.isSet,d=i?n(i):t;R.exports=d},14090:(R,c,e)=>{var t=e(82914),n=e(11258),a=e(96840);R.exports=function d(r){return"string"==typeof r||!n(r)&&a(r)&&"[object String]"==t(r)}},77181:(R,c,e)=>{var t=e(82914),n=e(96840);R.exports=function i(d){return"symbol"==typeof d||n(d)&&"[object Symbol]"==t(d)}},60916:(R,c,e)=>{var t=e(32298),n=e(56935),a=e(1732),i=a&&a.isTypedArray,d=i?n(i):t;R.exports=d},9682:(R,c,e)=>{var t=e(85069),n=e(56350),a=e(82755);R.exports=function i(d){return a(d)?t(d):n(d)}},56380:(R,c,e)=>{var t=e(85069),n=e(76739),a=e(82755);R.exports=function i(d){return a(d)?t(d,!0):n(d)}},89494:R=>{R.exports=function c(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},16459:(R,c,e)=>{var t=e(22160),n="Expected a function";function a(i,d){if("function"!=typeof i||null!=d&&"function"!=typeof d)throw new TypeError(n);var r=function(){var l=arguments,p=d?d.apply(this,l):l[0],h=r.cache;if(h.has(p))return h.get(p);var m=i.apply(this,l);return r.cache=h.set(p,m)||h,m};return r.cache=new(a.Cache||t),r}a.Cache=t,R.exports=a},77019:(R,c,e)=>{var t=e(11735),a=e(34403)(function(i,d,r,l){t(i,d,r,l)});R.exports=a},10130:R=>{R.exports=function c(){}},39838:(R,c,e)=>{var t=e(36216);R.exports=function(){return t.Date.now()}},48480:(R,c,e)=>{var t=e(72032),n=e(15303),a=e(97454),i=e(58935);R.exports=function d(r){return a(r)?t(i(r)):n(r)}},51014:(R,c,e)=>{var t=e(6380),n=e(76627),a=e(86667),i=e(54346),d=a(function(r,l){if(null==r)return[];var p=l.length;return p>1&&i(r,l[0],l[1])?l=[]:p>2&&i(l[0],l[1],l[2])&&(l=[l[0]]),n(r,t(l,1),[])});R.exports=d},78855:R=>{R.exports=function c(){return[]}},59022:R=>{R.exports=function c(){return!1}},24114:(R,c,e)=>{var t=e(34874),n=1/0;R.exports=function i(d){return d?(d=t(d))===n||d===-n?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}},7592:(R,c,e)=>{var t=e(24114);R.exports=function n(a){var i=t(a),d=i%1;return i==i?d?i-d:i:0}},34874:(R,c,e)=>{var t=e(44446),n=e(90537),a=e(77181),d=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;R.exports=function h(m){if("number"==typeof m)return m;if(a(m))return NaN;if(n(m)){var _="function"==typeof m.valueOf?m.valueOf():m;m=n(_)?_+"":_}if("string"!=typeof m)return 0===m?m:+m;m=t(m);var v=r.test(m);return v||l.test(m)?p(m.slice(2),v?2:8):d.test(m)?NaN:+m}},70317:(R,c,e)=>{var t=e(9391),n=e(56380);R.exports=function a(i){return t(i,n(i))}},98799:(R,c,e)=>{var t=e(85720);R.exports=function n(a){return null==a?"":t(a)}},6102:(R,c,e)=>{var t=e(86821),n=e(70830),a=e(47017),i=e(22231),d=e(47102),r=e(11258),l=e(56801),p=e(59859),h=e(90537),m=e(60916);R.exports=function _(v,y,O){var S=r(v),b=S||l(v)||m(v);if(y=i(y,4),null==O){var o=v&&v.constructor;O=b?S?new o:[]:h(v)&&p(o)?n(d(v)):{}}return(b?t:a)(v,function(D,M,C){return y(O,D,M,C)}),O}},82415:(R,c,e)=>{var t=e(40976);R.exports=function n(a,i){return i="function"==typeof i?i:void 0,a&&a.length?t(a,void 0,i):[]}},24112:(R,c,e)=>{var t=e(98799),n=0;R.exports=function a(i){var d=++n;return t(i)+d}},20802:()=>{var R,c;c=R||(R={}),function(e){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=a(c);function a(i,d){return function(r,l){"function"!=typeof i[r]&&Object.defineProperty(i,r,{configurable:!0,writable:!0,value:l}),d&&d(r,l)}}typeof t.Reflect>"u"?t.Reflect=c:n=a(t.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,a=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",i=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",d="function"==typeof Object.create,r={__proto__:[]}instanceof Array,l=!d&&!r,p={create:d?function(){return ft(Object.create(null))}:r?function(){return ft({__proto__:null})}:function(){return ft({})},has:l?function(Je,Ge){return t.call(Je,Ge)}:function(Je,Ge){return Ge in Je},get:l?function(Je,Ge){return t.call(Je,Ge)?Je[Ge]:void 0}:function(Je,Ge){return Je[Ge]}},h=Object.getPrototypeOf(Function),m="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,_=m||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function lt(){var Je={},Ge=[],qe=function(){function St(It,Yt,en){this._index=0,this._keys=It,this._values=Yt,this._selector=en}return St.prototype["@@iterator"]=function(){return this},St.prototype[i]=function(){return this},St.prototype.next=function(){var It=this._index;if(It>=0&&It<this._keys.length){var Yt=this._selector(this._keys[It],this._values[It]);return It+1>=this._keys.length?(this._index=-1,this._keys=Ge,this._values=Ge):this._index++,{value:Yt,done:!1}}return{value:void 0,done:!0}},St.prototype.throw=function(It){throw this._index>=0&&(this._index=-1,this._keys=Ge,this._values=Ge),It},St.prototype.return=function(It){return this._index>=0&&(this._index=-1,this._keys=Ge,this._values=Ge),{value:It,done:!0}},St}();return function(){function St(){this._keys=[],this._values=[],this._cacheKey=Je,this._cacheIndex=-2}return Object.defineProperty(St.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),St.prototype.has=function(It){return this._find(It,!1)>=0},St.prototype.get=function(It){var Yt=this._find(It,!1);return Yt>=0?this._values[Yt]:void 0},St.prototype.set=function(It,Yt){var en=this._find(It,!0);return this._values[en]=Yt,this},St.prototype.delete=function(It){var Yt=this._find(It,!1);if(Yt>=0){for(var en=this._keys.length,Tt=Yt+1;Tt<en;Tt++)this._keys[Tt-1]=this._keys[Tt],this._values[Tt-1]=this._values[Tt];return this._keys.length--,this._values.length--,It===this._cacheKey&&(this._cacheKey=Je,this._cacheIndex=-2),!0}return!1},St.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Je,this._cacheIndex=-2},St.prototype.keys=function(){return new qe(this._keys,this._values,gt)},St.prototype.values=function(){return new qe(this._keys,this._values,it)},St.prototype.entries=function(){return new qe(this._keys,this._values,ht)},St.prototype["@@iterator"]=function(){return this.entries()},St.prototype[i]=function(){return this.entries()},St.prototype._find=function(It,Yt){return this._cacheKey!==It&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=It)),this._cacheIndex<0&&Yt&&(this._cacheIndex=this._keys.length,this._keys.push(It),this._values.push(void 0)),this._cacheIndex},St}();function gt(St,It){return St}function it(St,It){return It}function ht(St,It){return[St,It]}}():Map,v=m||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Ht(){return function(){function Je(){this._map=new _}return Object.defineProperty(Je.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Je.prototype.has=function(Ge){return this._map.has(Ge)},Je.prototype.add=function(Ge){return this._map.set(Ge,Ge),this},Je.prototype.delete=function(Ge){return this._map.delete(Ge)},Je.prototype.clear=function(){this._map.clear()},Je.prototype.keys=function(){return this._map.keys()},Je.prototype.values=function(){return this._map.values()},Je.prototype.entries=function(){return this._map.entries()},Je.prototype["@@iterator"]=function(){return this.keys()},Je.prototype[i]=function(){return this.keys()},Je}()}():Set,O=new(m||"function"!=typeof WeakMap?function Qe(){var Je=16,Ge=p.create(),qe=gt();return function(){function Yt(){this._key=gt()}return Yt.prototype.has=function(en){var Tt=it(en,!1);return void 0!==Tt&&p.has(Tt,this._key)},Yt.prototype.get=function(en){var Tt=it(en,!1);return void 0!==Tt?p.get(Tt,this._key):void 0},Yt.prototype.set=function(en,Tt){return it(en,!0)[this._key]=Tt,this},Yt.prototype.delete=function(en){var Tt=it(en,!1);return void 0!==Tt&&delete Tt[this._key]},Yt.prototype.clear=function(){this._key=gt()},Yt}();function gt(){var Yt;do{Yt="@@WeakMap@@"+It()}while(p.has(Ge,Yt));return Ge[Yt]=!0,Yt}function it(Yt,en){if(!t.call(Yt,qe)){if(!en)return;Object.defineProperty(Yt,qe,{value:p.create()})}return Yt[qe]}function ht(Yt,en){for(var Tt=0;Tt<en;++Tt)Yt[Tt]=255*Math.random()|0;return Yt}function It(){var Yt=function St(Yt){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Yt)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Yt)):ht(new Uint8Array(Yt),Yt):ht(new Array(Yt),Yt)}(Je);Yt[6]=79&Yt[6]|64,Yt[8]=191&Yt[8]|128;for(var en="",Tt=0;Tt<Je;++Tt){var Mn=Yt[Tt];(4===Tt||6===Tt||8===Tt)&&(en+="-"),Mn<16&&(en+="0"),en+=Mn.toString(16).toLowerCase()}return en}}():WeakMap);function z(Je,Ge,qe){var gt=O.get(Je);if(oe(gt)){if(!qe)return;gt=new _,O.set(Je,gt)}var it=gt.get(Ge);if(oe(it)){if(!qe)return;it=new _,gt.set(Ge,it)}return it}function re(Je,Ge,qe){if(W(Je,Ge,qe))return!0;var it=$t(Ge);return!q(it)&&re(Je,it,qe)}function W(Je,Ge,qe){var gt=z(Ge,qe,!1);return!oe(gt)&&function Re(Je){return!!Je}(gt.has(Je))}function ie(Je,Ge,qe){if(W(Je,Ge,qe))return ce(Je,Ge,qe);var it=$t(Ge);return q(it)?void 0:ie(Je,it,qe)}function ce(Je,Ge,qe){var gt=z(Ge,qe,!1);if(!oe(gt))return gt.get(Je)}function ne(Je,Ge,qe,gt){z(qe,gt,!0).set(Je,Ge)}function K(Je,Ge){var qe=w(Je,Ge),gt=$t(Je);if(null===gt)return qe;var it=K(gt,Ge);if(it.length<=0)return qe;if(qe.length<=0)return it;for(var ht=new v,St=[],It=0,Yt=qe;It<Yt.length;It++)ht.has(en=Yt[It])||(ht.add(en),St.push(en));for(var Mn=0,xn=it;Mn<xn.length;Mn++){var en;ht.has(en=xn[Mn])||(ht.add(en),St.push(en))}return St}function w(Je,Ge){var qe=[],gt=z(Je,Ge,!1);if(oe(gt))return qe;for(var ht=function mt(Je){var Ge=Ne(Je,i);if(!Ze(Ge))throw new TypeError;var qe=Ge.call(Je);if(!J(qe))throw new TypeError;return qe}(gt.keys()),St=0;;){var It=At(ht);if(!It)return qe.length=St,qe;var Yt=Dt(It);try{qe[St]=Yt}catch(en){try{Jt(ht)}finally{throw en}}St++}}function Q(Je){if(null===Je)return 1;switch(typeof Je){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Je?1:6;default:return 6}}function oe(Je){return void 0===Je}function q(Je){return null===Je}function J(Je){return"object"==typeof Je?null!==Je:"function"==typeof Je}function Ee(Je,Ge){switch(Q(Je)){case 0:case 1:case 2:case 3:case 4:case 5:return Je}var qe=3===Ge?"string":5===Ge?"number":"default",gt=Ne(Je,a);if(void 0!==gt){var it=gt.call(Je,qe);if(J(it))throw new TypeError;return it}return function Oe(Je,Ge){if("string"===Ge){var qe=Je.toString;if(Ze(qe)&&!J(gt=qe.call(Je)))return gt;if(Ze(it=Je.valueOf)&&!J(gt=it.call(Je)))return gt}else{var it;if(Ze(it=Je.valueOf)&&!J(gt=it.call(Je)))return gt;var gt,ht=Je.toString;if(Ze(ht)&&!J(gt=ht.call(Je)))return gt}throw new TypeError}(Je,"default"===qe?"number":qe)}function Pe(Je){var Ge=Ee(Je,3);return function ee(Je){return"symbol"==typeof Je}(Ge)?Ge:function ve(Je){return""+Je}(Ge)}function et(Je){return Array.isArray?Array.isArray(Je):Je instanceof Object?Je instanceof Array:"[object Array]"===Object.prototype.toString.call(Je)}function Ze(Je){return"function"==typeof Je}function tt(Je){return"function"==typeof Je}function Ne(Je,Ge){var qe=Je[Ge];if(null!=qe){if(!Ze(qe))throw new TypeError;return qe}}function Dt(Je){return Je.value}function At(Je){var Ge=Je.next();return!Ge.done&&Ge}function Jt(Je){var Ge=Je.return;Ge&&Ge.call(Je)}function $t(Je){var Ge=Object.getPrototypeOf(Je);if("function"!=typeof Je||Je===h||Ge!==h)return Ge;var qe=Je.prototype,gt=qe&&Object.getPrototypeOf(qe);if(null==gt||gt===Object.prototype)return Ge;var it=gt.constructor;return"function"!=typeof it||it===Je?Ge:it}function ft(Je){return Je.__=void 0,delete Je.__,Je}e("decorate",function S(Je,Ge,qe,gt){if(oe(qe)){if(!et(Je))throw new TypeError;if(!tt(Ge))throw new TypeError;return function j(Je,Ge){for(var qe=Je.length-1;qe>=0;--qe){var it=(0,Je[qe])(Ge);if(!oe(it)&&!q(it)){if(!tt(it))throw new TypeError;Ge=it}}return Ge}(Je,Ge)}if(!et(Je))throw new TypeError;if(!J(Ge))throw new TypeError;if(!J(gt)&&!oe(gt)&&!q(gt))throw new TypeError;return q(gt)&&(gt=void 0),function $(Je,Ge,qe,gt){for(var it=Je.length-1;it>=0;--it){var St=(0,Je[it])(Ge,qe,gt);if(!oe(St)&&!q(St)){if(!J(St))throw new TypeError;gt=St}}return gt}(Je,Ge,qe=Pe(qe),gt)}),e("metadata",function b(Je,Ge){return function qe(gt,it){if(!J(gt))throw new TypeError;if(!oe(it)&&!function yt(Je){switch(Q(Je)){case 3:case 4:return!0;default:return!1}}(it))throw new TypeError;ne(Je,Ge,gt,it)}}),e("defineMetadata",function o(Je,Ge,qe,gt){if(!J(qe))throw new TypeError;return oe(gt)||(gt=Pe(gt)),ne(Je,Ge,qe,gt)}),e("hasMetadata",function D(Je,Ge,qe){if(!J(Ge))throw new TypeError;return oe(qe)||(qe=Pe(qe)),re(Je,Ge,qe)}),e("hasOwnMetadata",function M(Je,Ge,qe){if(!J(Ge))throw new TypeError;return oe(qe)||(qe=Pe(qe)),W(Je,Ge,qe)}),e("getMetadata",function C(Je,Ge,qe){if(!J(Ge))throw new TypeError;return oe(qe)||(qe=Pe(qe)),ie(Je,Ge,qe)}),e("getOwnMetadata",function T(Je,Ge,qe){if(!J(Ge))throw new TypeError;return oe(qe)||(qe=Pe(qe)),ce(Je,Ge,qe)}),e("getMetadataKeys",function g(Je,Ge){if(!J(Je))throw new TypeError;return oe(Ge)||(Ge=Pe(Ge)),K(Je,Ge)}),e("getOwnMetadataKeys",function U(Je,Ge){if(!J(Je))throw new TypeError;return oe(Ge)||(Ge=Pe(Ge)),w(Je,Ge)}),e("deleteMetadata",function L(Je,Ge,qe){if(!J(Ge))throw new TypeError;oe(qe)||(qe=Pe(qe));var gt=z(Ge,qe,!1);if(oe(gt)||!gt.delete(Je))return!1;if(gt.size>0)return!0;var it=O.get(Ge);return it.delete(qe),it.size>0||O.delete(Ge),!0})}(n)}()},39942:function(R,c,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(pn,rr,Ar,ti){void 0===ti&&(ti=Ar),Object.defineProperty(pn,ti,{enumerable:!0,get:function(){return rr[Ar]}})}:function(pn,rr,Ar,ti){void 0===ti&&(ti=Ar),pn[ti]=rr[Ar]}),n=this&&this.__exportStar||function(pn,rr){for(var Ar in pn)"default"!==Ar&&!Object.prototype.hasOwnProperty.call(rr,Ar)&&t(rr,pn,Ar)};Object.defineProperty(c,"__esModule",{value:!0}),c.interval=c.iif=c.generate=c.fromEventPattern=c.fromEvent=c.from=c.forkJoin=c.empty=c.defer=c.connectable=c.concat=c.combineLatest=c.bindNodeCallback=c.bindCallback=c.UnsubscriptionError=c.TimeoutError=c.SequenceError=c.ObjectUnsubscribedError=c.NotFoundError=c.EmptyError=c.ArgumentOutOfRangeError=c.firstValueFrom=c.lastValueFrom=c.isObservable=c.identity=c.noop=c.pipe=c.NotificationKind=c.Notification=c.Subscriber=c.Subscription=c.Scheduler=c.VirtualAction=c.VirtualTimeScheduler=c.animationFrameScheduler=c.animationFrame=c.queueScheduler=c.queue=c.asyncScheduler=c.async=c.asapScheduler=c.asap=c.AsyncSubject=c.ReplaySubject=c.BehaviorSubject=c.Subject=c.animationFrames=c.observable=c.ConnectableObservable=c.Observable=void 0,c.filter=c.expand=c.exhaustMap=c.exhaustAll=c.exhaust=c.every=c.endWith=c.elementAt=c.distinctUntilKeyChanged=c.distinctUntilChanged=c.distinct=c.dematerialize=c.delayWhen=c.delay=c.defaultIfEmpty=c.debounceTime=c.debounce=c.count=c.connect=c.concatWith=c.concatMapTo=c.concatMap=c.concatAll=c.combineLatestWith=c.combineLatestAll=c.combineAll=c.catchError=c.bufferWhen=c.bufferToggle=c.bufferTime=c.bufferCount=c.buffer=c.auditTime=c.audit=c.config=c.NEVER=c.EMPTY=c.scheduled=c.zip=c.using=c.timer=c.throwError=c.range=c.race=c.partition=c.pairs=c.onErrorResumeNext=c.of=c.never=c.merge=void 0,c.switchMap=c.switchAll=c.subscribeOn=c.startWith=c.skipWhile=c.skipUntil=c.skipLast=c.skip=c.single=c.shareReplay=c.share=c.sequenceEqual=c.scan=c.sampleTime=c.sample=c.refCount=c.retryWhen=c.retry=c.repeatWhen=c.repeat=c.reduce=c.raceWith=c.publishReplay=c.publishLast=c.publishBehavior=c.publish=c.pluck=c.pairwise=c.onErrorResumeNextWith=c.observeOn=c.multicast=c.min=c.mergeWith=c.mergeScan=c.mergeMapTo=c.mergeMap=c.flatMap=c.mergeAll=c.max=c.materialize=c.mapTo=c.map=c.last=c.isEmpty=c.ignoreElements=c.groupBy=c.first=c.findIndex=c.find=c.finalize=void 0,c.zipWith=c.zipAll=c.withLatestFrom=c.windowWhen=c.windowToggle=c.windowTime=c.windowCount=c.window=c.toArray=c.timestamp=c.timeoutWith=c.timeout=c.timeInterval=c.throwIfEmpty=c.throttleTime=c.throttle=c.tap=c.takeWhile=c.takeUntil=c.takeLast=c.take=c.switchScan=c.switchMapTo=void 0;var a=e(95798);Object.defineProperty(c,"Observable",{enumerable:!0,get:function(){return a.Observable}});var i=e(4040);Object.defineProperty(c,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var d=e(84573);Object.defineProperty(c,"observable",{enumerable:!0,get:function(){return d.observable}});var r=e(98189);Object.defineProperty(c,"animationFrames",{enumerable:!0,get:function(){return r.animationFrames}});var l=e(17450);Object.defineProperty(c,"Subject",{enumerable:!0,get:function(){return l.Subject}});var p=e(41125);Object.defineProperty(c,"BehaviorSubject",{enumerable:!0,get:function(){return p.BehaviorSubject}});var h=e(37570);Object.defineProperty(c,"ReplaySubject",{enumerable:!0,get:function(){return h.ReplaySubject}});var m=e(23766);Object.defineProperty(c,"AsyncSubject",{enumerable:!0,get:function(){return m.AsyncSubject}});var _=e(6472);Object.defineProperty(c,"asap",{enumerable:!0,get:function(){return _.asap}}),Object.defineProperty(c,"asapScheduler",{enumerable:!0,get:function(){return _.asapScheduler}});var v=e(41995);Object.defineProperty(c,"async",{enumerable:!0,get:function(){return v.async}}),Object.defineProperty(c,"asyncScheduler",{enumerable:!0,get:function(){return v.asyncScheduler}});var y=e(76280);Object.defineProperty(c,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(c,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var O=e(83150);Object.defineProperty(c,"animationFrame",{enumerable:!0,get:function(){return O.animationFrame}}),Object.defineProperty(c,"animationFrameScheduler",{enumerable:!0,get:function(){return O.animationFrameScheduler}});var S=e(3883);Object.defineProperty(c,"VirtualTimeScheduler",{enumerable:!0,get:function(){return S.VirtualTimeScheduler}}),Object.defineProperty(c,"VirtualAction",{enumerable:!0,get:function(){return S.VirtualAction}});var b=e(63274);Object.defineProperty(c,"Scheduler",{enumerable:!0,get:function(){return b.Scheduler}});var o=e(82041);Object.defineProperty(c,"Subscription",{enumerable:!0,get:function(){return o.Subscription}});var D=e(83367);Object.defineProperty(c,"Subscriber",{enumerable:!0,get:function(){return D.Subscriber}});var M=e(15742);Object.defineProperty(c,"Notification",{enumerable:!0,get:function(){return M.Notification}}),Object.defineProperty(c,"NotificationKind",{enumerable:!0,get:function(){return M.NotificationKind}});var C=e(96246);Object.defineProperty(c,"pipe",{enumerable:!0,get:function(){return C.pipe}});var T=e(49279);Object.defineProperty(c,"noop",{enumerable:!0,get:function(){return T.noop}});var g=e(98296);Object.defineProperty(c,"identity",{enumerable:!0,get:function(){return g.identity}});var U=e(12615);Object.defineProperty(c,"isObservable",{enumerable:!0,get:function(){return U.isObservable}});var L=e(3345);Object.defineProperty(c,"lastValueFrom",{enumerable:!0,get:function(){return L.lastValueFrom}});var j=e(60419);Object.defineProperty(c,"firstValueFrom",{enumerable:!0,get:function(){return j.firstValueFrom}});var $=e(29658);Object.defineProperty(c,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return $.ArgumentOutOfRangeError}});var z=e(68113);Object.defineProperty(c,"EmptyError",{enumerable:!0,get:function(){return z.EmptyError}});var re=e(18554);Object.defineProperty(c,"NotFoundError",{enumerable:!0,get:function(){return re.NotFoundError}});var W=e(1984);Object.defineProperty(c,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return W.ObjectUnsubscribedError}});var ie=e(52853);Object.defineProperty(c,"SequenceError",{enumerable:!0,get:function(){return ie.SequenceError}});var ce=e(83308);Object.defineProperty(c,"TimeoutError",{enumerable:!0,get:function(){return ce.TimeoutError}});var ne=e(12204);Object.defineProperty(c,"UnsubscriptionError",{enumerable:!0,get:function(){return ne.UnsubscriptionError}});var K=e(84819);Object.defineProperty(c,"bindCallback",{enumerable:!0,get:function(){return K.bindCallback}});var w=e(24345);Object.defineProperty(c,"bindNodeCallback",{enumerable:!0,get:function(){return w.bindNodeCallback}});var Q=e(88005);Object.defineProperty(c,"combineLatest",{enumerable:!0,get:function(){return Q.combineLatest}});var oe=e(58589);Object.defineProperty(c,"concat",{enumerable:!0,get:function(){return oe.concat}});var q=e(69389);Object.defineProperty(c,"connectable",{enumerable:!0,get:function(){return q.connectable}});var ee=e(92492);Object.defineProperty(c,"defer",{enumerable:!0,get:function(){return ee.defer}});var J=e(37976);Object.defineProperty(c,"empty",{enumerable:!0,get:function(){return J.empty}});var Ee=e(28249);Object.defineProperty(c,"forkJoin",{enumerable:!0,get:function(){return Ee.forkJoin}});var Oe=e(63966);Object.defineProperty(c,"from",{enumerable:!0,get:function(){return Oe.from}});var Re=e(64271);Object.defineProperty(c,"fromEvent",{enumerable:!0,get:function(){return Re.fromEvent}});var ve=e(52046);Object.defineProperty(c,"fromEventPattern",{enumerable:!0,get:function(){return ve.fromEventPattern}});var Pe=e(78900);Object.defineProperty(c,"generate",{enumerable:!0,get:function(){return Pe.generate}});var et=e(17255);Object.defineProperty(c,"iif",{enumerable:!0,get:function(){return et.iif}});var Ze=e(53318);Object.defineProperty(c,"interval",{enumerable:!0,get:function(){return Ze.interval}});var tt=e(38934);Object.defineProperty(c,"merge",{enumerable:!0,get:function(){return tt.merge}});var yt=e(22430);Object.defineProperty(c,"never",{enumerable:!0,get:function(){return yt.never}});var Ne=e(52346);Object.defineProperty(c,"of",{enumerable:!0,get:function(){return Ne.of}});var mt=e(20831);Object.defineProperty(c,"onErrorResumeNext",{enumerable:!0,get:function(){return mt.onErrorResumeNext}});var Dt=e(53006);Object.defineProperty(c,"pairs",{enumerable:!0,get:function(){return Dt.pairs}});var At=e(12535);Object.defineProperty(c,"partition",{enumerable:!0,get:function(){return At.partition}});var Jt=e(54221);Object.defineProperty(c,"race",{enumerable:!0,get:function(){return Jt.race}});var $t=e(52964);Object.defineProperty(c,"range",{enumerable:!0,get:function(){return $t.range}});var lt=e(52089);Object.defineProperty(c,"throwError",{enumerable:!0,get:function(){return lt.throwError}});var Ht=e(24116);Object.defineProperty(c,"timer",{enumerable:!0,get:function(){return Ht.timer}});var Qe=e(85876);Object.defineProperty(c,"using",{enumerable:!0,get:function(){return Qe.using}});var ft=e(99381);Object.defineProperty(c,"zip",{enumerable:!0,get:function(){return ft.zip}});var Je=e(23606);Object.defineProperty(c,"scheduled",{enumerable:!0,get:function(){return Je.scheduled}});var Ge=e(37976);Object.defineProperty(c,"EMPTY",{enumerable:!0,get:function(){return Ge.EMPTY}});var qe=e(22430);Object.defineProperty(c,"NEVER",{enumerable:!0,get:function(){return qe.NEVER}}),n(e(86345),c);var gt=e(97053);Object.defineProperty(c,"config",{enumerable:!0,get:function(){return gt.config}});var it=e(63554);Object.defineProperty(c,"audit",{enumerable:!0,get:function(){return it.audit}});var ht=e(32489);Object.defineProperty(c,"auditTime",{enumerable:!0,get:function(){return ht.auditTime}});var St=e(69786);Object.defineProperty(c,"buffer",{enumerable:!0,get:function(){return St.buffer}});var It=e(19289);Object.defineProperty(c,"bufferCount",{enumerable:!0,get:function(){return It.bufferCount}});var Yt=e(40907);Object.defineProperty(c,"bufferTime",{enumerable:!0,get:function(){return Yt.bufferTime}});var en=e(9365);Object.defineProperty(c,"bufferToggle",{enumerable:!0,get:function(){return en.bufferToggle}});var Tt=e(16127);Object.defineProperty(c,"bufferWhen",{enumerable:!0,get:function(){return Tt.bufferWhen}});var Mn=e(41505);Object.defineProperty(c,"catchError",{enumerable:!0,get:function(){return Mn.catchError}});var xn=e(39376);Object.defineProperty(c,"combineAll",{enumerable:!0,get:function(){return xn.combineAll}});var qn=e(65974);Object.defineProperty(c,"combineLatestAll",{enumerable:!0,get:function(){return qn.combineLatestAll}});var Rt=e(91969);Object.defineProperty(c,"combineLatestWith",{enumerable:!0,get:function(){return Rt.combineLatestWith}});var sn=e(10291);Object.defineProperty(c,"concatAll",{enumerable:!0,get:function(){return sn.concatAll}});var jt=e(51441);Object.defineProperty(c,"concatMap",{enumerable:!0,get:function(){return jt.concatMap}});var zt=e(11457);Object.defineProperty(c,"concatMapTo",{enumerable:!0,get:function(){return zt.concatMapTo}});var on=e(72167);Object.defineProperty(c,"concatWith",{enumerable:!0,get:function(){return on.concatWith}});var ke=e(9564);Object.defineProperty(c,"connect",{enumerable:!0,get:function(){return ke.connect}});var xe=e(32638);Object.defineProperty(c,"count",{enumerable:!0,get:function(){return xe.count}});var we=e(49889);Object.defineProperty(c,"debounce",{enumerable:!0,get:function(){return we.debounce}});var pt=e(38976);Object.defineProperty(c,"debounceTime",{enumerable:!0,get:function(){return pt.debounceTime}});var bt=e(24678);Object.defineProperty(c,"defaultIfEmpty",{enumerable:!0,get:function(){return bt.defaultIfEmpty}});var wt=e(68421);Object.defineProperty(c,"delay",{enumerable:!0,get:function(){return wt.delay}});var Xt=e(27595);Object.defineProperty(c,"delayWhen",{enumerable:!0,get:function(){return Xt.delayWhen}});var Qt=e(82170);Object.defineProperty(c,"dematerialize",{enumerable:!0,get:function(){return Qt.dematerialize}});var Gt=e(6272);Object.defineProperty(c,"distinct",{enumerable:!0,get:function(){return Gt.distinct}});var dn=e(47501);Object.defineProperty(c,"distinctUntilChanged",{enumerable:!0,get:function(){return dn.distinctUntilChanged}});var fn=e(31142);Object.defineProperty(c,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return fn.distinctUntilKeyChanged}});var ct=e(55289);Object.defineProperty(c,"elementAt",{enumerable:!0,get:function(){return ct.elementAt}});var Mt=e(44156);Object.defineProperty(c,"endWith",{enumerable:!0,get:function(){return Mt.endWith}});var Ve=e(75512);Object.defineProperty(c,"every",{enumerable:!0,get:function(){return Ve.every}});var vt=e(47189);Object.defineProperty(c,"exhaust",{enumerable:!0,get:function(){return vt.exhaust}});var Bt=e(56779);Object.defineProperty(c,"exhaustAll",{enumerable:!0,get:function(){return Bt.exhaustAll}});var je=e(14425);Object.defineProperty(c,"exhaustMap",{enumerable:!0,get:function(){return je.exhaustMap}});var be=e(33799);Object.defineProperty(c,"expand",{enumerable:!0,get:function(){return be.expand}});var ot=e(91320);Object.defineProperty(c,"filter",{enumerable:!0,get:function(){return ot.filter}});var rn=e(38247);Object.defineProperty(c,"finalize",{enumerable:!0,get:function(){return rn.finalize}});var Cn=e(72181);Object.defineProperty(c,"find",{enumerable:!0,get:function(){return Cn.find}});var tr=e(32782);Object.defineProperty(c,"findIndex",{enumerable:!0,get:function(){return tr.findIndex}});var hn=e(52373);Object.defineProperty(c,"first",{enumerable:!0,get:function(){return hn.first}});var En=e(36989);Object.defineProperty(c,"groupBy",{enumerable:!0,get:function(){return En.groupBy}});var cn=e(34467);Object.defineProperty(c,"ignoreElements",{enumerable:!0,get:function(){return cn.ignoreElements}});var Pn=e(70626);Object.defineProperty(c,"isEmpty",{enumerable:!0,get:function(){return Pn.isEmpty}});var Bn=e(95953);Object.defineProperty(c,"last",{enumerable:!0,get:function(){return Bn.last}});var An=e(81209);Object.defineProperty(c,"map",{enumerable:!0,get:function(){return An.map}});var In=e(56990);Object.defineProperty(c,"mapTo",{enumerable:!0,get:function(){return In.mapTo}});var Fn=e(99342);Object.defineProperty(c,"materialize",{enumerable:!0,get:function(){return Fn.materialize}});var er=e(14329);Object.defineProperty(c,"max",{enumerable:!0,get:function(){return er.max}});var Yn=e(6466);Object.defineProperty(c,"mergeAll",{enumerable:!0,get:function(){return Yn.mergeAll}});var Er=e(59148);Object.defineProperty(c,"flatMap",{enumerable:!0,get:function(){return Er.flatMap}});var Ir=e(51972);Object.defineProperty(c,"mergeMap",{enumerable:!0,get:function(){return Ir.mergeMap}});var si=e(37807);Object.defineProperty(c,"mergeMapTo",{enumerable:!0,get:function(){return si.mergeMapTo}});var yr=e(58425);Object.defineProperty(c,"mergeScan",{enumerable:!0,get:function(){return yr.mergeScan}});var Sn=e(28957);Object.defineProperty(c,"mergeWith",{enumerable:!0,get:function(){return Sn.mergeWith}});var Qn=e(4006);Object.defineProperty(c,"min",{enumerable:!0,get:function(){return Qn.min}});var hr=e(16467);Object.defineProperty(c,"multicast",{enumerable:!0,get:function(){return hr.multicast}});var Br=e(47221);Object.defineProperty(c,"observeOn",{enumerable:!0,get:function(){return Br.observeOn}});var Xr=e(57216);Object.defineProperty(c,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Xr.onErrorResumeNextWith}});var br=e(25221);Object.defineProperty(c,"pairwise",{enumerable:!0,get:function(){return br.pairwise}});var Oi=e(98830);Object.defineProperty(c,"pluck",{enumerable:!0,get:function(){return Oi.pluck}});var Nr=e(87977);Object.defineProperty(c,"publish",{enumerable:!0,get:function(){return Nr.publish}});var _i=e(35922);Object.defineProperty(c,"publishBehavior",{enumerable:!0,get:function(){return _i.publishBehavior}});var Ri=e(57708);Object.defineProperty(c,"publishLast",{enumerable:!0,get:function(){return Ri.publishLast}});var kn=e(54942);Object.defineProperty(c,"publishReplay",{enumerable:!0,get:function(){return kn.publishReplay}});var hi=e(25705);Object.defineProperty(c,"raceWith",{enumerable:!0,get:function(){return hi.raceWith}});var ai=e(36437);Object.defineProperty(c,"reduce",{enumerable:!0,get:function(){return ai.reduce}});var to=e(19657);Object.defineProperty(c,"repeat",{enumerable:!0,get:function(){return to.repeat}});var Wi=e(51898);Object.defineProperty(c,"repeatWhen",{enumerable:!0,get:function(){return Wi.repeatWhen}});var qr=e(31460);Object.defineProperty(c,"retry",{enumerable:!0,get:function(){return qr.retry}});var Bi=e(690);Object.defineProperty(c,"retryWhen",{enumerable:!0,get:function(){return Bi.retryWhen}});var dt=e(66844);Object.defineProperty(c,"refCount",{enumerable:!0,get:function(){return dt.refCount}});var Zt=e(58487);Object.defineProperty(c,"sample",{enumerable:!0,get:function(){return Zt.sample}});var Kt=e(86928);Object.defineProperty(c,"sampleTime",{enumerable:!0,get:function(){return Kt.sampleTime}});var ln=e(98698);Object.defineProperty(c,"scan",{enumerable:!0,get:function(){return ln.scan}});var _n=e(23990);Object.defineProperty(c,"sequenceEqual",{enumerable:!0,get:function(){return _n.sequenceEqual}});var bn=e(97666);Object.defineProperty(c,"share",{enumerable:!0,get:function(){return bn.share}});var $n=e(44563);Object.defineProperty(c,"shareReplay",{enumerable:!0,get:function(){return $n.shareReplay}});var Mr=e(8816);Object.defineProperty(c,"single",{enumerable:!0,get:function(){return Mr.single}});var Ur=e(54204);Object.defineProperty(c,"skip",{enumerable:!0,get:function(){return Ur.skip}});var Tr=e(83446);Object.defineProperty(c,"skipLast",{enumerable:!0,get:function(){return Tr.skipLast}});var Vn=e(26757);Object.defineProperty(c,"skipUntil",{enumerable:!0,get:function(){return Vn.skipUntil}});var Xn=e(7448);Object.defineProperty(c,"skipWhile",{enumerable:!0,get:function(){return Xn.skipWhile}});var xi=e(86379);Object.defineProperty(c,"startWith",{enumerable:!0,get:function(){return xi.startWith}});var li=e(38704);Object.defineProperty(c,"subscribeOn",{enumerable:!0,get:function(){return li.subscribeOn}});var Wr=e(50756);Object.defineProperty(c,"switchAll",{enumerable:!0,get:function(){return Wr.switchAll}});var So=e(93622);Object.defineProperty(c,"switchMap",{enumerable:!0,get:function(){return So.switchMap}});var co=e(92893);Object.defineProperty(c,"switchMapTo",{enumerable:!0,get:function(){return co.switchMapTo}});var Ki=e(91582);Object.defineProperty(c,"switchScan",{enumerable:!0,get:function(){return Ki.switchScan}});var ei=e(21748);Object.defineProperty(c,"take",{enumerable:!0,get:function(){return ei.take}});var ko=e(93666);Object.defineProperty(c,"takeLast",{enumerable:!0,get:function(){return ko.takeLast}});var bo=e(21502);Object.defineProperty(c,"takeUntil",{enumerable:!0,get:function(){return bo.takeUntil}});var Bo=e(64099);Object.defineProperty(c,"takeWhile",{enumerable:!0,get:function(){return Bo.takeWhile}});var no=e(79044);Object.defineProperty(c,"tap",{enumerable:!0,get:function(){return no.tap}});var Uo=e(46596);Object.defineProperty(c,"throttle",{enumerable:!0,get:function(){return Uo.throttle}});var Po=e(40930);Object.defineProperty(c,"throttleTime",{enumerable:!0,get:function(){return Po.throttleTime}});var mo=e(55722);Object.defineProperty(c,"throwIfEmpty",{enumerable:!0,get:function(){return mo.throwIfEmpty}});var Mi=e(33027);Object.defineProperty(c,"timeInterval",{enumerable:!0,get:function(){return Mi.timeInterval}});var $o=e(83308);Object.defineProperty(c,"timeout",{enumerable:!0,get:function(){return $o.timeout}});var as=e(97673);Object.defineProperty(c,"timeoutWith",{enumerable:!0,get:function(){return as.timeoutWith}});var uo=e(15446);Object.defineProperty(c,"timestamp",{enumerable:!0,get:function(){return uo.timestamp}});var ro=e(46095);Object.defineProperty(c,"toArray",{enumerable:!0,get:function(){return ro.toArray}});var ms=e(30132);Object.defineProperty(c,"window",{enumerable:!0,get:function(){return ms.window}});var _s=e(37725);Object.defineProperty(c,"windowCount",{enumerable:!0,get:function(){return _s.windowCount}});var _o=e(27090);Object.defineProperty(c,"windowTime",{enumerable:!0,get:function(){return _o.windowTime}});var Et=e(36779);Object.defineProperty(c,"windowToggle",{enumerable:!0,get:function(){return Et.windowToggle}});var vn=e(90074);Object.defineProperty(c,"windowWhen",{enumerable:!0,get:function(){return vn.windowWhen}});var Le=e(2415);Object.defineProperty(c,"withLatestFrom",{enumerable:!0,get:function(){return Le.withLatestFrom}});var $e=e(94485);Object.defineProperty(c,"zipAll",{enumerable:!0,get:function(){return $e.zipAll}});var Ut=e(44514);Object.defineProperty(c,"zipWith",{enumerable:!0,get:function(){return Ut.zipWith}})},23766:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncSubject=void 0;var a=function(i){function d(){var r=null!==i&&i.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t(d,i),d.prototype._checkFinalizedStatuses=function(r){var l=this,h=l._hasValue,m=l._value,v=l.isStopped,y=l._isComplete;l.hasError?r.error(l.thrownError):(v||y)&&(h&&r.next(m),r.complete())},d.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},d.prototype.complete=function(){var r=this,l=r._hasValue,p=r._value;r._isComplete||(this._isComplete=!0,l&&i.prototype.next.call(this,p),i.prototype.complete.call(this))},d}(e(17450).Subject);c.AsyncSubject=a},41125:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.BehaviorSubject=void 0;var a=function(i){function d(r){var l=i.call(this)||this;return l._value=r,l}return t(d,i),Object.defineProperty(d.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),d.prototype._subscribe=function(r){var l=i.prototype._subscribe.call(this,r);return!l.closed&&r.next(this._value),l},d.prototype.getValue=function(){var r=this,h=r._value;if(r.hasError)throw r.thrownError;return this._throwIfClosed(),h},d.prototype.next=function(r){i.prototype.next.call(this,this._value=r)},d}(e(17450).Subject);c.BehaviorSubject=a},15742:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observeNotification=c.Notification=c.NotificationKind=void 0;var p,t=e(37976),n=e(52346),a=e(52089),i=e(20449);(p=c.NotificationKind||(c.NotificationKind={})).NEXT="N",p.ERROR="E",p.COMPLETE="C";var r=function(){function p(h,m,_){this.kind=h,this.value=m,this.error=_,this.hasValue="N"===h}return p.prototype.observe=function(h){return l(this,h)},p.prototype.do=function(h,m,_){var v=this,y=v.kind,S=v.error;return"N"===y?h?.(v.value):"E"===y?m?.(S):_?.()},p.prototype.accept=function(h,m,_){var v;return i.isFunction(null===(v=h)||void 0===v?void 0:v.next)?this.observe(h):this.do(h,m,_)},p.prototype.toObservable=function(){var h=this,m=h.kind,v=h.error,y="N"===m?n.of(h.value):"E"===m?a.throwError(function(){return v}):"C"===m?t.EMPTY:0;if(!y)throw new TypeError("Unexpected notification kind "+m);return y},p.createNext=function(h){return new p("N",h)},p.createError=function(h){return new p("E",void 0,h)},p.createComplete=function(){return p.completeNotification},p.completeNotification=new p("C"),p}();function l(p,h){var m,_,v,O=p.kind,S=p.value,b=p.error;if("string"!=typeof O)throw new TypeError('Invalid notification, missing "kind"');"N"===O?null===(m=h.next)||void 0===m||m.call(h,S):"E"===O?null===(_=h.error)||void 0===_||_.call(h,b):null===(v=h.complete)||void 0===v||v.call(h)}c.Notification=r,c.observeNotification=l},11487:(R,c)=>{"use strict";function n(a,i,d){return{kind:a,value:i,error:d}}Object.defineProperty(c,"__esModule",{value:!0}),c.createNotification=c.nextNotification=c.errorNotification=c.COMPLETE_NOTIFICATION=void 0,c.COMPLETE_NOTIFICATION=n("C",void 0,void 0),c.errorNotification=function e(a){return n("E",void 0,a)},c.nextNotification=function t(a){return n("N",a,void 0)},c.createNotification=n},95798:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Observable=void 0;var t=e(83367),n=e(82041),a=e(84573),i=e(96246),d=e(97053),r=e(20449),l=e(96371),p=function(){function v(y){y&&(this._subscribe=y)}return v.prototype.lift=function(y){var O=new v;return O.source=this,O.operator=y,O},v.prototype.subscribe=function(y,O,S){var b=this,o=function _(v){return v&&v instanceof t.Subscriber||function m(v){return v&&r.isFunction(v.next)&&r.isFunction(v.error)&&r.isFunction(v.complete)}(v)&&n.isSubscription(v)}(y)?y:new t.SafeSubscriber(y,O,S);return l.errorContext(function(){var M=b.operator,C=b.source;o.add(M?M.call(o,C):C?b._subscribe(o):b._trySubscribe(o))}),o},v.prototype._trySubscribe=function(y){try{return this._subscribe(y)}catch(O){y.error(O)}},v.prototype.forEach=function(y,O){var S=this;return new(O=h(O))(function(b,o){var D=new t.SafeSubscriber({next:function(M){try{y(M)}catch(C){o(C),D.unsubscribe()}},error:o,complete:b});S.subscribe(D)})},v.prototype._subscribe=function(y){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(y)},v.prototype[a.observable]=function(){return this},v.prototype.pipe=function(){for(var y=[],O=0;O<arguments.length;O++)y[O]=arguments[O];return i.pipeFromArray(y)(this)},v.prototype.toPromise=function(y){var O=this;return new(y=h(y))(function(S,b){var o;O.subscribe(function(D){return o=D},function(D){return b(D)},function(){return S(o)})})},v.create=function(y){return new v(y)},v}();function h(v){var y;return null!==(y=v??d.config.Promise)&&void 0!==y?y:Promise}c.Observable=p},37570:function(R,c,e){"use strict";var d,t=this&&this.__extends||(d=function(r,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])})(r,l)},function(r,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function p(){this.constructor=r}d(r,l),r.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)});Object.defineProperty(c,"__esModule",{value:!0}),c.ReplaySubject=void 0;var n=e(17450),a=e(56862),i=function(d){function r(l,p,h){void 0===l&&(l=1/0),void 0===p&&(p=1/0),void 0===h&&(h=a.dateTimestampProvider);var m=d.call(this)||this;return m._bufferSize=l,m._windowTime=p,m._timestampProvider=h,m._buffer=[],m._infiniteTimeWindow=!0,m._infiniteTimeWindow=p===1/0,m._bufferSize=Math.max(1,l),m._windowTime=Math.max(1,p),m}return t(r,d),r.prototype.next=function(l){var p=this,m=p._buffer,_=p._infiniteTimeWindow,v=p._timestampProvider,y=p._windowTime;p.isStopped||(m.push(l),!_&&m.push(v.now()+y)),this._trimBuffer(),d.prototype.next.call(this,l)},r.prototype._subscribe=function(l){this._throwIfClosed(),this._trimBuffer();for(var p=this._innerSubscribe(l),m=this._infiniteTimeWindow,v=this._buffer.slice(),y=0;y<v.length&&!l.closed;y+=m?1:2)l.next(v[y]);return this._checkFinalizedStatuses(l),p},r.prototype._trimBuffer=function(){var l=this,p=l._bufferSize,h=l._timestampProvider,m=l._buffer,_=l._infiniteTimeWindow,v=(_?1:2)*p;if(p<1/0&&v<m.length&&m.splice(0,m.length-v),!_){for(var y=h.now(),O=0,S=1;S<m.length&&m[S]<=y;S+=2)O=S;O&&m.splice(0,O+1)}},r}(n.Subject);c.ReplaySubject=i},63274:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Scheduler=void 0;var t=e(56862),n=function(){function a(i,d){void 0===d&&(d=a.now),this.schedulerActionCtor=i,this.now=d}return a.prototype.schedule=function(i,d,r){return void 0===d&&(d=0),new this.schedulerActionCtor(this,i).schedule(r,d)},a.now=t.dateTimestampProvider.now,a}();c.Scheduler=n},17450:function(R,c,e){"use strict";var m,t=this&&this.__extends||(m=function(_,v){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,O){y.__proto__=O}||function(y,O){for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(y[S]=O[S])})(_,v)},function(_,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=_}m(_,v),_.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)}),n=this&&this.__values||function(m){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&m[_],y=0;if(v)return v.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.AnonymousSubject=c.Subject=void 0;var a=e(95798),i=e(82041),d=e(1984),r=e(3562),l=e(96371),p=function(m){function _(){var v=m.call(this)||this;return v.closed=!1,v.currentObservers=null,v.observers=[],v.isStopped=!1,v.hasError=!1,v.thrownError=null,v}return t(_,m),_.prototype.lift=function(v){var y=new h(this,this);return y.operator=v,y},_.prototype._throwIfClosed=function(){if(this.closed)throw new d.ObjectUnsubscribedError},_.prototype.next=function(v){var y=this;l.errorContext(function(){var O,S;if(y._throwIfClosed(),!y.isStopped){y.currentObservers||(y.currentObservers=Array.from(y.observers));try{for(var b=n(y.currentObservers),o=b.next();!o.done;o=b.next())o.value.next(v)}catch(M){O={error:M}}finally{try{o&&!o.done&&(S=b.return)&&S.call(b)}finally{if(O)throw O.error}}}})},_.prototype.error=function(v){var y=this;l.errorContext(function(){if(y._throwIfClosed(),!y.isStopped){y.hasError=y.isStopped=!0,y.thrownError=v;for(var O=y.observers;O.length;)O.shift().error(v)}})},_.prototype.complete=function(){var v=this;l.errorContext(function(){if(v._throwIfClosed(),!v.isStopped){v.isStopped=!0;for(var y=v.observers;y.length;)y.shift().complete()}})},_.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(_.prototype,"observed",{get:function(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0},enumerable:!1,configurable:!0}),_.prototype._trySubscribe=function(v){return this._throwIfClosed(),m.prototype._trySubscribe.call(this,v)},_.prototype._subscribe=function(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)},_.prototype._innerSubscribe=function(v){var y=this,O=this,o=O.observers;return O.hasError||O.isStopped?i.EMPTY_SUBSCRIPTION:(this.currentObservers=null,o.push(v),new i.Subscription(function(){y.currentObservers=null,r.arrRemove(o,v)}))},_.prototype._checkFinalizedStatuses=function(v){var y=this,b=y.isStopped;y.hasError?v.error(y.thrownError):b&&v.complete()},_.prototype.asObservable=function(){var v=new a.Observable;return v.source=this,v},_.create=function(v,y){return new h(v,y)},_}(a.Observable);c.Subject=p;var h=function(m){function _(v,y){var O=m.call(this)||this;return O.destination=v,O.source=y,O}return t(_,m),_.prototype.next=function(v){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===O||O.call(y,v)},_.prototype.error=function(v){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===O||O.call(y,v)},_.prototype.complete=function(){var v,y;null===(y=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===y||y.call(v)},_.prototype._subscribe=function(v){var y,O;return null!==(O=null===(y=this.source)||void 0===y?void 0:y.subscribe(v))&&void 0!==O?O:i.EMPTY_SUBSCRIPTION},_}(p);c.AnonymousSubject=h},83367:function(R,c,e){"use strict";var D,t=this&&this.__extends||(D=function(M,C){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,g){T.__proto__=g}||function(T,g){for(var U in g)Object.prototype.hasOwnProperty.call(g,U)&&(T[U]=g[U])})(M,C)},function(M,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function T(){this.constructor=M}D(M,C),M.prototype=null===C?Object.create(C):(T.prototype=C.prototype,new T)});Object.defineProperty(c,"__esModule",{value:!0}),c.EMPTY_OBSERVER=c.SafeSubscriber=c.Subscriber=void 0;var n=e(20449),a=e(82041),i=e(97053),d=e(86579),r=e(49279),l=e(11487),p=e(65169),h=e(96371),m=function(D){function M(C){var T=D.call(this)||this;return T.isStopped=!1,C?(T.destination=C,a.isSubscription(C)&&C.add(T)):T.destination=c.EMPTY_OBSERVER,T}return t(M,D),M.create=function(C,T,g){return new O(C,T,g)},M.prototype.next=function(C){this.isStopped?o(l.nextNotification(C),this):this._next(C)},M.prototype.error=function(C){this.isStopped?o(l.errorNotification(C),this):(this.isStopped=!0,this._error(C))},M.prototype.complete=function(){this.isStopped?o(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},M.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,D.prototype.unsubscribe.call(this),this.destination=null)},M.prototype._next=function(C){this.destination.next(C)},M.prototype._error=function(C){try{this.destination.error(C)}finally{this.unsubscribe()}},M.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},M}(a.Subscription);c.Subscriber=m;var _=Function.prototype.bind;function v(D,M){return _.call(D,M)}var y=function(){function D(M){this.partialObserver=M}return D.prototype.next=function(M){var C=this.partialObserver;if(C.next)try{C.next(M)}catch(T){S(T)}},D.prototype.error=function(M){var C=this.partialObserver;if(C.error)try{C.error(M)}catch(T){S(T)}else S(M)},D.prototype.complete=function(){var M=this.partialObserver;if(M.complete)try{M.complete()}catch(C){S(C)}},D}(),O=function(D){function M(C,T,g){var L,j,U=D.call(this)||this;return n.isFunction(C)||!C?L={next:C??void 0,error:T??void 0,complete:g??void 0}:U&&i.config.useDeprecatedNextContext?((j=Object.create(C)).unsubscribe=function(){return U.unsubscribe()},L={next:C.next&&v(C.next,j),error:C.error&&v(C.error,j),complete:C.complete&&v(C.complete,j)}):L=C,U.destination=new y(L),U}return t(M,D),M}(m);function S(D){i.config.useDeprecatedSynchronousErrorHandling?h.captureError(D):d.reportUnhandledError(D)}function o(D,M){var C=i.config.onStoppedNotification;C&&p.timeoutProvider.setTimeout(function(){return C(D,M)})}c.SafeSubscriber=O,c.EMPTY_OBSERVER={closed:!0,next:r.noop,error:function b(D){throw D},complete:r.noop}},82041:function(R,c,e){"use strict";var t=this&&this.__values||function(m){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&m[_],y=0;if(v)return v.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(m,_){var v="function"==typeof Symbol&&m[Symbol.iterator];if(!v)return m;var O,b,y=v.call(m),S=[];try{for(;(void 0===_||_-- >0)&&!(O=y.next()).done;)S.push(O.value)}catch(o){b={error:o}}finally{try{O&&!O.done&&(v=y.return)&&v.call(y)}finally{if(b)throw b.error}}return S},a=this&&this.__spreadArray||function(m,_){for(var v=0,y=_.length,O=m.length;v<y;v++,O++)m[O]=_[v];return m};Object.defineProperty(c,"__esModule",{value:!0}),c.isSubscription=c.EMPTY_SUBSCRIPTION=c.Subscription=void 0;var i=e(20449),d=e(12204),r=e(3562),l=function(){function m(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}return m.prototype.unsubscribe=function(){var _,v,y,O,S;if(!this.closed){this.closed=!0;var b=this._parentage;if(b)if(this._parentage=null,Array.isArray(b))try{for(var o=t(b),D=o.next();!D.done;D=o.next())D.value.remove(this)}catch(j){_={error:j}}finally{try{D&&!D.done&&(v=o.return)&&v.call(o)}finally{if(_)throw _.error}}else b.remove(this);var C=this.initialTeardown;if(i.isFunction(C))try{C()}catch(j){S=j instanceof d.UnsubscriptionError?j.errors:[j]}var T=this._finalizers;if(T){this._finalizers=null;try{for(var g=t(T),U=g.next();!U.done;U=g.next()){var L=U.value;try{h(L)}catch(j){S=S??[],j instanceof d.UnsubscriptionError?S=a(a([],n(S)),n(j.errors)):S.push(j)}}}catch(j){y={error:j}}finally{try{U&&!U.done&&(O=g.return)&&O.call(g)}finally{if(y)throw y.error}}}if(S)throw new d.UnsubscriptionError(S)}},m.prototype.add=function(_){var v;if(_&&_!==this)if(this.closed)h(_);else{if(_ instanceof m){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(_)}},m.prototype._hasParent=function(_){var v=this._parentage;return v===_||Array.isArray(v)&&v.includes(_)},m.prototype._addParent=function(_){var v=this._parentage;this._parentage=Array.isArray(v)?(v.push(_),v):v?[v,_]:_},m.prototype._removeParent=function(_){var v=this._parentage;v===_?this._parentage=null:Array.isArray(v)&&r.arrRemove(v,_)},m.prototype.remove=function(_){var v=this._finalizers;v&&r.arrRemove(v,_),_ instanceof m&&_._removeParent(this)},m.EMPTY=((_=new m).closed=!0,_),m;var _}();function h(m){i.isFunction(m)?m():m.unsubscribe()}c.Subscription=l,c.EMPTY_SUBSCRIPTION=l.EMPTY,c.isSubscription=function p(m){return m instanceof l||m&&"closed"in m&&i.isFunction(m.remove)&&i.isFunction(m.add)&&i.isFunction(m.unsubscribe)}},97053:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.config=void 0,c.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},60419:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.firstValueFrom=void 0;var t=e(68113),n=e(83367);c.firstValueFrom=function a(i,d){var r="object"==typeof d;return new Promise(function(l,p){var h=new n.SafeSubscriber({next:function(m){l(m),h.unsubscribe()},error:p,complete:function(){r?l(d.defaultValue):p(new t.EmptyError)}});i.subscribe(h)})}},3345:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.lastValueFrom=void 0;var t=e(68113);c.lastValueFrom=function n(a,i){var d="object"==typeof i;return new Promise(function(r,l){var h,p=!1;a.subscribe({next:function(m){h=m,p=!0},error:l,complete:function(){p?r(h):d?r(i.defaultValue):l(new t.EmptyError)}})})}},4040:function(R,c,e){"use strict";var p,t=this&&this.__extends||(p=function(h,m){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(_[y]=v[y])})(h,m)},function(h,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function _(){this.constructor=h}p(h,m),h.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)});Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectableObservable=void 0;var n=e(95798),a=e(82041),i=e(66844),d=e(86414),r=e(76235),l=function(p){function h(m,_){var v=p.call(this)||this;return v.source=m,v.subjectFactory=_,v._subject=null,v._refCount=0,v._connection=null,r.hasLift(m)&&(v.lift=m.lift),v}return t(h,p),h.prototype._subscribe=function(m){return this.getSubject().subscribe(m)},h.prototype.getSubject=function(){var m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject},h.prototype._teardown=function(){this._refCount=0;var m=this._connection;this._subject=this._connection=null,m?.unsubscribe()},h.prototype.connect=function(){var m=this,_=this._connection;if(!_){_=this._connection=new a.Subscription;var v=this.getSubject();_.add(this.source.subscribe(d.createOperatorSubscriber(v,void 0,function(){m._teardown(),v.complete()},function(y){m._teardown(),v.error(y)},function(){return m._teardown()}))),_.closed&&(this._connection=null,_=a.Subscription.EMPTY)}return _},h.prototype.refCount=function(){return i.refCount()(this)},h}(n.Observable);c.ConnectableObservable=l},84819:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bindCallback=void 0;var t=e(46804);c.bindCallback=function n(a,i,d){return t.bindCallbackInternals(!1,a,i,d)}},46804:function(R,c,e){"use strict";var t=this&&this.__read||function(m,_){var v="function"==typeof Symbol&&m[Symbol.iterator];if(!v)return m;var O,b,y=v.call(m),S=[];try{for(;(void 0===_||_-- >0)&&!(O=y.next()).done;)S.push(O.value)}catch(o){b={error:o}}finally{try{O&&!O.done&&(v=y.return)&&v.call(y)}finally{if(b)throw b.error}}return S},n=this&&this.__spreadArray||function(m,_){for(var v=0,y=_.length,O=m.length;v<y;v++,O++)m[O]=_[v];return m};Object.defineProperty(c,"__esModule",{value:!0}),c.bindCallbackInternals=void 0;var a=e(23042),i=e(95798),d=e(38704),r=e(40454),l=e(47221),p=e(23766);c.bindCallbackInternals=function h(m,_,v,y){if(v){if(!a.isScheduler(v))return function(){for(var O=[],S=0;S<arguments.length;S++)O[S]=arguments[S];return h(m,_,y).apply(this,O).pipe(r.mapOneOrManyArgs(v))};y=v}return y?function(){for(var O=[],S=0;S<arguments.length;S++)O[S]=arguments[S];return h(m,_).apply(this,O).pipe(d.subscribeOn(y),l.observeOn(y))}:function(){for(var O=this,S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];var o=new p.AsyncSubject,D=!0;return new i.Observable(function(M){var C=o.subscribe(M);if(D){D=!1;var T=!1,g=!1;_.apply(O,n(n([],t(S)),[function(){for(var U=[],L=0;L<arguments.length;L++)U[L]=arguments[L];if(m){var j=U.shift();if(null!=j)return void o.error(j)}o.next(1<U.length?U:U[0]),g=!0,T&&o.complete()}])),g&&o.complete(),T=!0}return C})}}},24345:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bindNodeCallback=void 0;var t=e(46804);c.bindNodeCallback=function n(a,i,d){return t.bindCallbackInternals(!0,a,i,d)}},88005:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestInit=c.combineLatest=void 0;var t=e(95798),n=e(81398),a=e(63966),i=e(98296),d=e(40454),r=e(24246),l=e(61321),p=e(86414),h=e(13254);function _(y,O,S){return void 0===S&&(S=i.identity),function(b){v(O,function(){for(var o=y.length,D=new Array(o),M=o,C=o,T=function(U){v(O,function(){var L=a.from(y[U],O),j=!1;L.subscribe(p.createOperatorSubscriber(b,function($){D[U]=$,j||(j=!0,C--),C||b.next(S(D.slice()))},function(){--M||b.complete()}))},b)},g=0;g<o;g++)T(g)},b)}}function v(y,O,S){y?h.executeSchedule(S,y,O):O()}c.combineLatest=function m(){for(var y=[],O=0;O<arguments.length;O++)y[O]=arguments[O];var S=r.popScheduler(y),b=r.popResultSelector(y),o=n.argsArgArrayOrObject(y),D=o.args,M=o.keys;if(0===D.length)return a.from([],S);var C=new t.Observable(_(D,S,M?function(T){return l.createObject(M,T)}:i.identity));return b?C.pipe(d.mapOneOrManyArgs(b)):C},c.combineLatestInit=_},58589:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concat=void 0;var t=e(10291),n=e(24246),a=e(63966);c.concat=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];return t.concatAll()(a.from(d,n.popScheduler(d)))}},69389:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.connectable=void 0;var t=e(17450),n=e(95798),a=e(92492),i={connector:function(){return new t.Subject},resetOnDisconnect:!0};c.connectable=function d(r,l){void 0===l&&(l=i);var p=null,h=l.connector,m=l.resetOnDisconnect,_=void 0===m||m,v=h(),y=new n.Observable(function(O){return v.subscribe(O)});return y.connect=function(){return(!p||p.closed)&&(p=a.defer(function(){return r}).subscribe(v),_&&p.add(function(){return v=h()})),p},y}},92492:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.defer=void 0;var t=e(95798),n=e(88965);c.defer=function a(i){return new t.Observable(function(d){n.innerFrom(i()).subscribe(d)})}},98189:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrames=void 0;var t=e(95798),n=e(68134),a=e(81906);function d(l){return new t.Observable(function(p){var h=l||n.performanceTimestampProvider,m=h.now(),_=0,v=function(){p.closed||(_=a.animationFrameProvider.requestAnimationFrame(function(y){_=0;var O=h.now();p.next({timestamp:l?O:y,elapsed:O-m}),v()}))};return v(),function(){_&&a.animationFrameProvider.cancelAnimationFrame(_)}})}c.animationFrames=function i(l){return l?d(l):r};var r=d()},37976:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.empty=c.EMPTY=void 0;var t=e(95798);c.EMPTY=new t.Observable(function(i){return i.complete()}),c.empty=function n(i){return i?function a(i){return new t.Observable(function(d){return i.schedule(function(){return d.complete()})})}(i):c.EMPTY}},28249:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.forkJoin=void 0;var t=e(95798),n=e(81398),a=e(88965),i=e(24246),d=e(86414),r=e(40454),l=e(61321);c.forkJoin=function p(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var _=i.popResultSelector(h),v=n.argsArgArrayOrObject(h),y=v.args,O=v.keys,S=new t.Observable(function(b){var o=y.length;if(o)for(var D=new Array(o),M=o,C=o,T=function(U){var L=!1;a.innerFrom(y[U]).subscribe(d.createOperatorSubscriber(b,function(j){L||(L=!0,C--),D[U]=j},function(){return M--},void 0,function(){(!M||!L)&&(C||b.next(O?l.createObject(O,D):D),b.complete())}))},g=0;g<o;g++)T(g);else b.complete()});return _?S.pipe(r.mapOneOrManyArgs(_)):S}},63966:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.from=void 0;var t=e(23606),n=e(88965);c.from=function a(i,d){return d?t.scheduled(i,d):n.innerFrom(i)}},64271:function(R,c,e){"use strict";var t=this&&this.__read||function(b,o){var D="function"==typeof Symbol&&b[Symbol.iterator];if(!D)return b;var C,g,M=D.call(b),T=[];try{for(;(void 0===o||o-- >0)&&!(C=M.next()).done;)T.push(C.value)}catch(U){g={error:U}}finally{try{C&&!C.done&&(D=M.return)&&D.call(M)}finally{if(g)throw g.error}}return T};Object.defineProperty(c,"__esModule",{value:!0}),c.fromEvent=void 0;var n=e(88965),a=e(95798),i=e(51972),d=e(85930),r=e(20449),l=e(40454),p=["addListener","removeListener"],h=["addEventListener","removeEventListener"],m=["on","off"];function v(b,o){return function(D){return function(M){return b[D](o,M)}}}c.fromEvent=function _(b,o,D,M){if(r.isFunction(D)&&(M=D,D=void 0),M)return _(b,o,D).pipe(l.mapOneOrManyArgs(M));var C=t(function S(b){return r.isFunction(b.addEventListener)&&r.isFunction(b.removeEventListener)}(b)?h.map(function(U){return function(L){return b[U](o,L,D)}}):function y(b){return r.isFunction(b.addListener)&&r.isFunction(b.removeListener)}(b)?p.map(v(b,o)):function O(b){return r.isFunction(b.on)&&r.isFunction(b.off)}(b)?m.map(v(b,o)):[],2),T=C[0],g=C[1];if(!T&&d.isArrayLike(b))return i.mergeMap(function(U){return _(U,o,D)})(n.innerFrom(b));if(!T)throw new TypeError("Invalid event target");return new a.Observable(function(U){var L=function(){for(var j=[],$=0;$<arguments.length;$++)j[$]=arguments[$];return U.next(1<j.length?j:j[0])};return T(L),function(){return g(L)}})}},52046:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromEventPattern=void 0;var t=e(95798),n=e(20449),a=e(40454);c.fromEventPattern=function i(d,r,l){return l?i(d,r).pipe(a.mapOneOrManyArgs(l)):new t.Observable(function(p){var h=function(){for(var _=[],v=0;v<arguments.length;v++)_[v]=arguments[v];return p.next(1===_.length?_[0]:_)},m=d(h);return n.isFunction(r)?function(){return r(h,m)}:void 0})}},30450:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromSubscribable=void 0;var t=e(95798);c.fromSubscribable=function n(a){return new t.Observable(function(i){return a.subscribe(i)})}},78900:function(R,c,e){"use strict";var t=this&&this.__generator||function(l,p){var m,_,v,y,h={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function O(b){return function(o){return function S(b){if(m)throw new TypeError("Generator is already executing.");for(;h;)try{if(m=1,_&&(v=2&b[0]?_.return:b[0]?_.throw||((v=_.return)&&v.call(_),0):_.next)&&!(v=v.call(_,b[1])).done)return v;switch(_=0,v&&(b=[2&b[0],v.value]),b[0]){case 0:case 1:v=b;break;case 4:return h.label++,{value:b[1],done:!1};case 5:h.label++,_=b[1],b=[0];continue;case 7:b=h.ops.pop(),h.trys.pop();continue;default:if(!(v=(v=h.trys).length>0&&v[v.length-1])&&(6===b[0]||2===b[0])){h=0;continue}if(3===b[0]&&(!v||b[1]>v[0]&&b[1]<v[3])){h.label=b[1];break}if(6===b[0]&&h.label<v[1]){h.label=v[1],v=b;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(b);break}v[2]&&h.ops.pop(),h.trys.pop();continue}b=p.call(l,h)}catch(o){b=[6,o],_=0}finally{m=v=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,o])}}};Object.defineProperty(c,"__esModule",{value:!0}),c.generate=void 0;var n=e(98296),a=e(23042),i=e(92492),d=e(36108);c.generate=function r(l,p,h,m,_){var v,y,O,S;function b(){var o;return t(this,function(D){switch(D.label){case 0:o=S,D.label=1;case 1:return!p||p(o)?[4,O(o)]:[3,4];case 2:D.sent(),D.label=3;case 3:return o=h(o),[3,1];case 4:return[2]}})}return 1===arguments.length?(S=(v=l).initialState,p=v.condition,h=v.iterate,O=void 0===(y=v.resultSelector)?n.identity:y,_=v.scheduler):(S=l,!m||a.isScheduler(m)?(O=n.identity,_=m):O=m),i.defer(_?function(){return d.scheduleIterable(b(),_)}:b)}},17255:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.iif=void 0;var t=e(92492);c.iif=function n(a,i,d){return t.defer(function(){return a()?i:d})}},88965:function(R,c,e){"use strict";var t=this&&this.__awaiter||function(L,j,$,z){return new($||($=Promise))(function(W,ie){function ce(w){try{K(z.next(w))}catch(Q){ie(Q)}}function ne(w){try{K(z.throw(w))}catch(Q){ie(Q)}}function K(w){w.done?W(w.value):function re(W){return W instanceof $?W:new $(function(ie){ie(W)})}(w.value).then(ce,ne)}K((z=z.apply(L,j||[])).next())})},n=this&&this.__generator||function(L,j){var z,re,W,ie,$={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return ie={next:ce(0),throw:ce(1),return:ce(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function ce(K){return function(w){return function ne(K){if(z)throw new TypeError("Generator is already executing.");for(;$;)try{if(z=1,re&&(W=2&K[0]?re.return:K[0]?re.throw||((W=re.return)&&W.call(re),0):re.next)&&!(W=W.call(re,K[1])).done)return W;switch(re=0,W&&(K=[2&K[0],W.value]),K[0]){case 0:case 1:W=K;break;case 4:return $.label++,{value:K[1],done:!1};case 5:$.label++,re=K[1],K=[0];continue;case 7:K=$.ops.pop(),$.trys.pop();continue;default:if(!(W=(W=$.trys).length>0&&W[W.length-1])&&(6===K[0]||2===K[0])){$=0;continue}if(3===K[0]&&(!W||K[1]>W[0]&&K[1]<W[3])){$.label=K[1];break}if(6===K[0]&&$.label<W[1]){$.label=W[1],W=K;break}if(W&&$.label<W[2]){$.label=W[2],$.ops.push(K);break}W[2]&&$.ops.pop(),$.trys.pop();continue}K=j.call(L,$)}catch(w){K=[6,w],re=0}finally{z=W=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([K,w])}}},a=this&&this.__asyncValues||function(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,j=L[Symbol.asyncIterator];return j?j.call(L):(L="function"==typeof i?i(L):L[Symbol.iterator](),$={},z("next"),z("throw"),z("return"),$[Symbol.asyncIterator]=function(){return this},$);function z(W){$[W]=L[W]&&function(ie){return new Promise(function(ce,ne){!function re(W,ie,ce,ne){Promise.resolve(ne).then(function(K){W({value:K,done:ce})},ie)}(ce,ne,(ie=L[W](ie)).done,ie.value)})}}},i=this&&this.__values||function(L){var j="function"==typeof Symbol&&Symbol.iterator,$=j&&L[j],z=0;if($)return $.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&z>=L.length&&(L=void 0),{value:L&&L[z++],done:!L}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.fromReadableStreamLike=c.fromAsyncIterable=c.fromIterable=c.fromPromise=c.fromArrayLike=c.fromInteropObservable=c.innerFrom=void 0;var d=e(85930),r=e(73284),l=e(95798),p=e(11288),h=e(7873),m=e(77462),_=e(84949),v=e(52681),y=e(20449),O=e(86579),S=e(84573);function o(L){return new l.Observable(function(j){var $=L[S.observable]();if(y.isFunction($.subscribe))return $.subscribe(j);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function D(L){return new l.Observable(function(j){for(var $=0;$<L.length&&!j.closed;$++)j.next(L[$]);j.complete()})}function M(L){return new l.Observable(function(j){L.then(function($){j.closed||(j.next($),j.complete())},function($){return j.error($)}).then(null,O.reportUnhandledError)})}function C(L){return new l.Observable(function(j){var $,z;try{for(var re=i(L),W=re.next();!W.done;W=re.next())if(j.next(W.value),j.closed)return}catch(ce){$={error:ce}}finally{try{W&&!W.done&&(z=re.return)&&z.call(re)}finally{if($)throw $.error}}j.complete()})}function T(L){return new l.Observable(function(j){(function U(L,j){var $,z,re,W;return t(this,void 0,void 0,function(){var ce;return n(this,function(ne){switch(ne.label){case 0:ne.trys.push([0,5,6,11]),$=a(L),ne.label=1;case 1:return[4,$.next()];case 2:if((z=ne.sent()).done)return[3,4];if(j.next(z.value),j.closed)return[2];ne.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ce=ne.sent(),re={error:ce},[3,11];case 6:return ne.trys.push([6,,9,10]),z&&!z.done&&(W=$.return)?[4,W.call($)]:[3,8];case 7:ne.sent(),ne.label=8;case 8:return[3,10];case 9:if(re)throw re.error;return[7];case 10:return[7];case 11:return j.complete(),[2]}})})})(L,j).catch(function($){return j.error($)})})}function g(L){return T(v.readableStreamLikeToAsyncGenerator(L))}c.innerFrom=function b(L){if(L instanceof l.Observable)return L;if(null!=L){if(p.isInteropObservable(L))return o(L);if(d.isArrayLike(L))return D(L);if(r.isPromise(L))return M(L);if(h.isAsyncIterable(L))return T(L);if(_.isIterable(L))return C(L);if(v.isReadableStreamLike(L))return g(L)}throw m.createInvalidObservableTypeError(L)},c.fromInteropObservable=o,c.fromArrayLike=D,c.fromPromise=M,c.fromIterable=C,c.fromAsyncIterable=T,c.fromReadableStreamLike=g},53318:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.interval=void 0;var t=e(41995),n=e(24116);c.interval=function a(i,d){return void 0===i&&(i=0),void 0===d&&(d=t.asyncScheduler),i<0&&(i=0),n.timer(i,i,d)}},38934:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.merge=void 0;var t=e(6466),n=e(88965),a=e(37976),i=e(24246),d=e(63966);c.merge=function r(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var h=i.popScheduler(l),m=i.popNumber(l,1/0),_=l;return _.length?1===_.length?n.innerFrom(_[0]):t.mergeAll(m)(d.from(_,h)):a.EMPTY}},22430:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.never=c.NEVER=void 0;var t=e(95798),n=e(49279);c.NEVER=new t.Observable(n.noop),c.never=function a(){return c.NEVER}},52346:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.of=void 0;var t=e(24246),n=e(63966);c.of=function a(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];var r=t.popScheduler(i);return n.from(i,r)}},20831:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.onErrorResumeNext=void 0;var t=e(95798),n=e(72459),a=e(86414),i=e(49279),d=e(88965);c.onErrorResumeNext=function r(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var h=n.argsOrArgArray(l);return new t.Observable(function(m){var _=0,v=function(){if(_<h.length){var y=void 0;try{y=d.innerFrom(h[_++])}catch{return void v()}var O=new a.OperatorSubscriber(m,void 0,i.noop,i.noop);y.subscribe(O),O.add(v)}else m.complete()};v()})}},53006:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pairs=void 0;var t=e(63966);c.pairs=function n(a,i){return t.from(Object.entries(a),i)}},12535:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.partition=void 0;var t=e(90678),n=e(91320),a=e(88965);c.partition=function i(d,r,l){return[n.filter(r,l)(a.innerFrom(d)),n.filter(t.not(r,l))(a.innerFrom(d))]}},54221:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.raceInit=c.race=void 0;var t=e(95798),n=e(88965),a=e(72459),i=e(86414);function r(l){return function(p){for(var h=[],m=function(v){h.push(n.innerFrom(l[v]).subscribe(i.createOperatorSubscriber(p,function(y){if(h){for(var O=0;O<h.length;O++)O!==v&&h[O].unsubscribe();h=null}p.next(y)})))},_=0;h&&!p.closed&&_<l.length;_++)m(_)}}c.race=function d(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return 1===(l=a.argsOrArgArray(l)).length?n.innerFrom(l[0]):new t.Observable(r(l))},c.raceInit=r},52964:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.range=void 0;var t=e(95798),n=e(37976);c.range=function a(i,d,r){if(null==d&&(d=i,i=0),d<=0)return n.EMPTY;var l=d+i;return new t.Observable(r?function(p){var h=i;return r.schedule(function(){h<l?(p.next(h++),this.schedule()):p.complete()})}:function(p){for(var h=i;h<l&&!p.closed;)p.next(h++);p.complete()})}},52089:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throwError=void 0;var t=e(95798),n=e(20449);c.throwError=function a(i,d){var r=n.isFunction(i)?i:function(){return i},l=function(p){return p.error(r())};return new t.Observable(d?function(p){return d.schedule(l,0,p)}:l)}},24116:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timer=void 0;var t=e(95798),n=e(41995),a=e(23042),i=e(38575);c.timer=function d(r,l,p){void 0===r&&(r=0),void 0===p&&(p=n.async);var h=-1;return null!=l&&(a.isScheduler(l)?p=l:h=l),new t.Observable(function(m){var _=i.isValidDate(r)?+r-p.now():r;_<0&&(_=0);var v=0;return p.schedule(function(){m.closed||(m.next(v++),0<=h?this.schedule(void 0,h):m.complete())},_)})}},85876:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.using=void 0;var t=e(95798),n=e(88965),a=e(37976);c.using=function i(d,r){return new t.Observable(function(l){var p=d(),h=r(p);return(h?n.innerFrom(h):a.EMPTY).subscribe(l),function(){p&&p.unsubscribe()}})}},99381:function(R,c,e){"use strict";var t=this&&this.__read||function(m,_){var v="function"==typeof Symbol&&m[Symbol.iterator];if(!v)return m;var O,b,y=v.call(m),S=[];try{for(;(void 0===_||_-- >0)&&!(O=y.next()).done;)S.push(O.value)}catch(o){b={error:o}}finally{try{O&&!O.done&&(v=y.return)&&v.call(y)}finally{if(b)throw b.error}}return S},n=this&&this.__spreadArray||function(m,_){for(var v=0,y=_.length,O=m.length;v<y;v++,O++)m[O]=_[v];return m};Object.defineProperty(c,"__esModule",{value:!0}),c.zip=void 0;var a=e(95798),i=e(88965),d=e(72459),r=e(37976),l=e(86414),p=e(24246);c.zip=function h(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var v=p.popResultSelector(m),y=d.argsOrArgArray(m);return y.length?new a.Observable(function(O){var S=y.map(function(){return[]}),b=y.map(function(){return!1});O.add(function(){S=b=null});for(var o=function(M){i.innerFrom(y[M]).subscribe(l.createOperatorSubscriber(O,function(C){if(S[M].push(C),S.every(function(g){return g.length})){var T=S.map(function(g){return g.shift()});O.next(v?v.apply(void 0,n([],t(T))):T),S.some(function(g,U){return!g.length&&b[U]})&&O.complete()}},function(){b[M]=!0,!S[M].length&&O.complete()}))},D=0;!O.closed&&D<y.length;D++)o(D);return function(){S=b=null}}):r.EMPTY}},86414:function(R,c,e){"use strict";var d,t=this&&this.__extends||(d=function(r,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])})(r,l)},function(r,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function p(){this.constructor=r}d(r,l),r.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)});Object.defineProperty(c,"__esModule",{value:!0}),c.OperatorSubscriber=c.createOperatorSubscriber=void 0;var n=e(83367);c.createOperatorSubscriber=function a(d,r,l,p,h){return new i(d,r,l,p,h)};var i=function(d){function r(l,p,h,m,_,v){var y=d.call(this,l)||this;return y.onFinalize=_,y.shouldUnsubscribe=v,y._next=p?function(O){try{p(O)}catch(S){l.error(S)}}:d.prototype._next,y._error=m?function(O){try{m(O)}catch(S){l.error(S)}finally{this.unsubscribe()}}:d.prototype._error,y._complete=h?function(){try{h()}catch(O){l.error(O)}finally{this.unsubscribe()}}:d.prototype._complete,y}return t(r,d),r.prototype.unsubscribe=function(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var p=this.closed;d.prototype.unsubscribe.call(this),!p&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}},r}(n.Subscriber);c.OperatorSubscriber=i},63554:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.audit=void 0;var t=e(76235),n=e(88965),a=e(86414);c.audit=function i(d){return t.operate(function(r,l){var p=!1,h=null,m=null,_=!1,v=function(){if(m?.unsubscribe(),m=null,p){p=!1;var O=h;h=null,l.next(O)}_&&l.complete()},y=function(){m=null,_&&l.complete()};r.subscribe(a.createOperatorSubscriber(l,function(O){p=!0,h=O,m||n.innerFrom(d(O)).subscribe(m=a.createOperatorSubscriber(l,v,y))},function(){_=!0,(!p||!m||m.closed)&&l.complete()}))})}},32489:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.auditTime=void 0;var t=e(41995),n=e(63554),a=e(24116);c.auditTime=function i(d,r){return void 0===r&&(r=t.asyncScheduler),n.audit(function(){return a.timer(d,r)})}},69786:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.buffer=void 0;var t=e(76235),n=e(49279),a=e(86414),i=e(88965);c.buffer=function d(r){return t.operate(function(l,p){var h=[];return l.subscribe(a.createOperatorSubscriber(p,function(m){return h.push(m)},function(){p.next(h),p.complete()})),i.innerFrom(r).subscribe(a.createOperatorSubscriber(p,function(){var m=h;h=[],p.next(m)},n.noop)),function(){h=null}})}},19289:function(R,c,e){"use strict";var t=this&&this.__values||function(r){var l="function"==typeof Symbol&&Symbol.iterator,p=l&&r[l],h=0;if(p)return p.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&h>=r.length&&(r=void 0),{value:r&&r[h++],done:!r}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferCount=void 0;var n=e(76235),a=e(86414),i=e(3562);c.bufferCount=function d(r,l){return void 0===l&&(l=null),l=l??r,n.operate(function(p,h){var m=[],_=0;p.subscribe(a.createOperatorSubscriber(h,function(v){var y,O,S,b,o=null;_++%l==0&&m.push([]);try{for(var D=t(m),M=D.next();!M.done;M=D.next())(C=M.value).push(v),r<=C.length&&(o=o??[]).push(C)}catch(U){y={error:U}}finally{try{M&&!M.done&&(O=D.return)&&O.call(D)}finally{if(y)throw y.error}}if(o)try{for(var T=t(o),g=T.next();!g.done;g=T.next()){var C;i.arrRemove(m,C=g.value),h.next(C)}}catch(U){S={error:U}}finally{try{g&&!g.done&&(b=T.return)&&b.call(T)}finally{if(S)throw S.error}}},function(){var v,y;try{for(var O=t(m),S=O.next();!S.done;S=O.next())h.next(S.value)}catch(o){v={error:o}}finally{try{S&&!S.done&&(y=O.return)&&y.call(O)}finally{if(v)throw v.error}}h.complete()},void 0,function(){m=null}))})}},40907:function(R,c,e){"use strict";var t=this&&this.__values||function(m){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&m[_],y=0;if(v)return v.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferTime=void 0;var n=e(82041),a=e(76235),i=e(86414),d=e(3562),r=e(41995),l=e(24246),p=e(13254);c.bufferTime=function h(m){for(var _,v,y=[],O=1;O<arguments.length;O++)y[O-1]=arguments[O];var S=null!==(_=l.popScheduler(y))&&void 0!==_?_:r.asyncScheduler,b=null!==(v=y[0])&&void 0!==v?v:null,o=y[1]||1/0;return a.operate(function(D,M){var C=[],T=!1,g=function(j){var $=j.buffer;j.subs.unsubscribe(),d.arrRemove(C,j),M.next($),T&&U()},U=function(){if(C){var j=new n.Subscription;M.add(j);var z={buffer:[],subs:j};C.push(z),p.executeSchedule(j,S,function(){return g(z)},m)}};null!==b&&b>=0?p.executeSchedule(M,S,U,b,!0):T=!0,U();var L=i.createOperatorSubscriber(M,function(j){var $,z,re=C.slice();try{for(var W=t(re),ie=W.next();!ie.done;ie=W.next()){var ce=ie.value,ne=ce.buffer;ne.push(j),o<=ne.length&&g(ce)}}catch(K){$={error:K}}finally{try{ie&&!ie.done&&(z=W.return)&&z.call(W)}finally{if($)throw $.error}}},function(){for(;C?.length;)M.next(C.shift().buffer);L?.unsubscribe(),M.complete(),M.unsubscribe()},void 0,function(){return C=null});D.subscribe(L)})}},9365:function(R,c,e){"use strict";var t=this&&this.__values||function(h){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&h[m],v=0;if(_)return _.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&v>=h.length&&(h=void 0),{value:h&&h[v++],done:!h}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferToggle=void 0;var n=e(82041),a=e(76235),i=e(88965),d=e(86414),r=e(49279),l=e(3562);c.bufferToggle=function p(h,m){return a.operate(function(_,v){var y=[];i.innerFrom(h).subscribe(d.createOperatorSubscriber(v,function(O){var S=[];y.push(S);var b=new n.Subscription;b.add(i.innerFrom(m(O)).subscribe(d.createOperatorSubscriber(v,function(){l.arrRemove(y,S),v.next(S),b.unsubscribe()},r.noop)))},r.noop)),_.subscribe(d.createOperatorSubscriber(v,function(O){var S,b;try{for(var o=t(y),D=o.next();!D.done;D=o.next())D.value.push(O)}catch(C){S={error:C}}finally{try{D&&!D.done&&(b=o.return)&&b.call(o)}finally{if(S)throw S.error}}},function(){for(;y.length>0;)v.next(y.shift());v.complete()}))})}},16127:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bufferWhen=void 0;var t=e(76235),n=e(49279),a=e(86414),i=e(88965);c.bufferWhen=function d(r){return t.operate(function(l,p){var h=null,m=null,_=function(){m?.unsubscribe();var v=h;h=[],v&&p.next(v),i.innerFrom(r()).subscribe(m=a.createOperatorSubscriber(p,_,n.noop))};_(),l.subscribe(a.createOperatorSubscriber(p,function(v){return h?.push(v)},function(){h&&p.next(h),p.complete()},void 0,function(){return h=m=null}))})}},41505:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.catchError=void 0;var t=e(88965),n=e(86414),a=e(76235);c.catchError=function i(d){return a.operate(function(r,l){var m,p=null,h=!1;p=r.subscribe(n.createOperatorSubscriber(l,void 0,void 0,function(_){m=t.innerFrom(d(_,i(d)(r))),p?(p.unsubscribe(),p=null,m.subscribe(l)):h=!0})),h&&(p.unsubscribe(),p=null,m.subscribe(l))})}},39376:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineAll=void 0;var t=e(65974);c.combineAll=t.combineLatestAll},28398:function(R,c,e){"use strict";var t=this&&this.__read||function(m,_){var v="function"==typeof Symbol&&m[Symbol.iterator];if(!v)return m;var O,b,y=v.call(m),S=[];try{for(;(void 0===_||_-- >0)&&!(O=y.next()).done;)S.push(O.value)}catch(o){b={error:o}}finally{try{O&&!O.done&&(v=y.return)&&v.call(y)}finally{if(b)throw b.error}}return S},n=this&&this.__spreadArray||function(m,_){for(var v=0,y=_.length,O=m.length;v<y;v++,O++)m[O]=_[v];return m};Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatest=void 0;var a=e(88005),i=e(76235),d=e(72459),r=e(40454),l=e(96246),p=e(24246);c.combineLatest=function h(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var v=p.popResultSelector(m);return v?l.pipe(h.apply(void 0,n([],t(m))),r.mapOneOrManyArgs(v)):i.operate(function(y,O){a.combineLatestInit(n([y],t(d.argsOrArgArray(m))))(O)})}},65974:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestAll=void 0;var t=e(88005),n=e(97104);c.combineLatestAll=function a(i){return n.joinAllInternals(t.combineLatest,i)}},91969:function(R,c,e){"use strict";var t=this&&this.__read||function(d,r){var l="function"==typeof Symbol&&d[Symbol.iterator];if(!l)return d;var h,_,p=l.call(d),m=[];try{for(;(void 0===r||r-- >0)&&!(h=p.next()).done;)m.push(h.value)}catch(v){_={error:v}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(_)throw _.error}}return m},n=this&&this.__spreadArray||function(d,r){for(var l=0,p=r.length,h=d.length;l<p;l++,h++)d[h]=r[l];return d};Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestWith=void 0;var a=e(28398);c.combineLatestWith=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];return a.combineLatest.apply(void 0,n([],t(d)))}},25865:function(R,c,e){"use strict";var t=this&&this.__read||function(p,h){var m="function"==typeof Symbol&&p[Symbol.iterator];if(!m)return p;var v,O,_=m.call(p),y=[];try{for(;(void 0===h||h-- >0)&&!(v=_.next()).done;)y.push(v.value)}catch(S){O={error:S}}finally{try{v&&!v.done&&(m=_.return)&&m.call(_)}finally{if(O)throw O.error}}return y},n=this&&this.__spreadArray||function(p,h){for(var m=0,_=h.length,v=p.length;m<_;m++,v++)p[v]=h[m];return p};Object.defineProperty(c,"__esModule",{value:!0}),c.concat=void 0;var a=e(76235),i=e(10291),d=e(24246),r=e(63966);c.concat=function l(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];var m=d.popScheduler(p);return a.operate(function(_,v){i.concatAll()(r.from(n([_],t(p)),m)).subscribe(v)})}},10291:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatAll=void 0;var t=e(6466);c.concatAll=function n(){return t.mergeAll(1)}},51441:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatMap=void 0;var t=e(51972),n=e(20449);c.concatMap=function a(i,d){return n.isFunction(d)?t.mergeMap(i,d,1):t.mergeMap(i,1)}},11457:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatMapTo=void 0;var t=e(51441),n=e(20449);c.concatMapTo=function a(i,d){return n.isFunction(d)?t.concatMap(function(){return i},d):t.concatMap(function(){return i})}},72167:function(R,c,e){"use strict";var t=this&&this.__read||function(d,r){var l="function"==typeof Symbol&&d[Symbol.iterator];if(!l)return d;var h,_,p=l.call(d),m=[];try{for(;(void 0===r||r-- >0)&&!(h=p.next()).done;)m.push(h.value)}catch(v){_={error:v}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(_)throw _.error}}return m},n=this&&this.__spreadArray||function(d,r){for(var l=0,p=r.length,h=d.length;l<p;l++,h++)d[h]=r[l];return d};Object.defineProperty(c,"__esModule",{value:!0}),c.concatWith=void 0;var a=e(25865);c.concatWith=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];return a.concat.apply(void 0,n([],t(d)))}},9564:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.connect=void 0;var t=e(17450),n=e(88965),a=e(76235),i=e(30450),d={connector:function(){return new t.Subject}};c.connect=function r(l,p){void 0===p&&(p=d);var h=p.connector;return a.operate(function(m,_){var v=h();n.innerFrom(l(i.fromSubscribable(v))).subscribe(_),_.add(m.subscribe(v))})}},32638:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.count=void 0;var t=e(36437);c.count=function n(a){return t.reduce(function(i,d,r){return!a||a(d,r)?i+1:i},0)}},49889:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.debounce=void 0;var t=e(76235),n=e(49279),a=e(86414),i=e(88965);c.debounce=function d(r){return t.operate(function(l,p){var h=!1,m=null,_=null,v=function(){if(_?.unsubscribe(),_=null,h){h=!1;var y=m;m=null,p.next(y)}};l.subscribe(a.createOperatorSubscriber(p,function(y){_?.unsubscribe(),h=!0,m=y,_=a.createOperatorSubscriber(p,v,n.noop),i.innerFrom(r(y)).subscribe(_)},function(){v(),p.complete()},void 0,function(){m=_=null}))})}},38976:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.debounceTime=void 0;var t=e(41995),n=e(76235),a=e(86414);c.debounceTime=function i(d,r){return void 0===r&&(r=t.asyncScheduler),n.operate(function(l,p){var h=null,m=null,_=null,v=function(){if(h){h.unsubscribe(),h=null;var O=m;m=null,p.next(O)}};function y(){var O=_+d,S=r.now();if(S<O)return h=this.schedule(void 0,O-S),void p.add(h);v()}l.subscribe(a.createOperatorSubscriber(p,function(O){m=O,_=r.now(),h||(h=r.schedule(y,d),p.add(h))},function(){v(),p.complete()},void 0,function(){m=h=null}))})}},24678:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.defaultIfEmpty=void 0;var t=e(76235),n=e(86414);c.defaultIfEmpty=function a(i){return t.operate(function(d,r){var l=!1;d.subscribe(n.createOperatorSubscriber(r,function(p){l=!0,r.next(p)},function(){l||r.next(i),r.complete()}))})}},68421:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.delay=void 0;var t=e(41995),n=e(27595),a=e(24116);c.delay=function i(d,r){void 0===r&&(r=t.asyncScheduler);var l=a.timer(d,r);return n.delayWhen(function(){return l})}},27595:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.delayWhen=void 0;var t=e(58589),n=e(21748),a=e(34467),i=e(56990),d=e(51972),r=e(88965);c.delayWhen=function l(p,h){return h?function(m){return t.concat(h.pipe(n.take(1),a.ignoreElements()),m.pipe(l(p)))}:d.mergeMap(function(m,_){return r.innerFrom(p(m,_)).pipe(n.take(1),i.mapTo(m))})}},82170:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dematerialize=void 0;var t=e(15742),n=e(76235),a=e(86414);c.dematerialize=function i(){return n.operate(function(d,r){d.subscribe(a.createOperatorSubscriber(r,function(l){return t.observeNotification(l,r)}))})}},6272:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinct=void 0;var t=e(76235),n=e(86414),a=e(49279),i=e(88965);c.distinct=function d(r,l){return t.operate(function(p,h){var m=new Set;p.subscribe(n.createOperatorSubscriber(h,function(_){var v=r?r(_):_;m.has(v)||(m.add(v),h.next(_))})),l&&i.innerFrom(l).subscribe(n.createOperatorSubscriber(h,function(){return m.clear()},a.noop))})}},47501:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinctUntilChanged=void 0;var t=e(98296),n=e(76235),a=e(86414);function d(r,l){return r===l}c.distinctUntilChanged=function i(r,l){return void 0===l&&(l=t.identity),r=r??d,n.operate(function(p,h){var m,_=!0;p.subscribe(a.createOperatorSubscriber(h,function(v){var y=l(v);(_||!r(m,y))&&(_=!1,m=y,h.next(v))}))})}},31142:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinctUntilKeyChanged=void 0;var t=e(47501);c.distinctUntilKeyChanged=function n(a,i){return t.distinctUntilChanged(function(d,r){return i?i(d[a],r[a]):d[a]===r[a]})}},55289:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.elementAt=void 0;var t=e(29658),n=e(91320),a=e(55722),i=e(24678),d=e(21748);c.elementAt=function r(l,p){if(l<0)throw new t.ArgumentOutOfRangeError;var h=arguments.length>=2;return function(m){return m.pipe(n.filter(function(_,v){return v===l}),d.take(1),h?i.defaultIfEmpty(p):a.throwIfEmpty(function(){return new t.ArgumentOutOfRangeError}))}}},44156:function(R,c,e){"use strict";var t=this&&this.__read||function(r,l){var p="function"==typeof Symbol&&r[Symbol.iterator];if(!p)return r;var m,v,h=p.call(r),_=[];try{for(;(void 0===l||l-- >0)&&!(m=h.next()).done;)_.push(m.value)}catch(y){v={error:y}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(v)throw v.error}}return _},n=this&&this.__spreadArray||function(r,l){for(var p=0,h=l.length,m=r.length;p<h;p++,m++)r[m]=l[p];return r};Object.defineProperty(c,"__esModule",{value:!0}),c.endWith=void 0;var a=e(58589),i=e(52346);c.endWith=function d(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];return function(p){return a.concat(p,i.of.apply(void 0,n([],t(r))))}}},75512:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.every=void 0;var t=e(76235),n=e(86414);c.every=function a(i,d){return t.operate(function(r,l){var p=0;r.subscribe(n.createOperatorSubscriber(l,function(h){i.call(d,h,p++,r)||(l.next(!1),l.complete())},function(){l.next(!0),l.complete()}))})}},47189:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaust=void 0;var t=e(56779);c.exhaust=t.exhaustAll},56779:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaustAll=void 0;var t=e(14425),n=e(98296);c.exhaustAll=function a(){return t.exhaustMap(n.identity)}},14425:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaustMap=void 0;var t=e(81209),n=e(88965),a=e(76235),i=e(86414);c.exhaustMap=function d(r,l){return l?function(p){return p.pipe(d(function(h,m){return n.innerFrom(r(h,m)).pipe(t.map(function(_,v){return l(h,_,m,v)}))}))}:a.operate(function(p,h){var m=0,_=null,v=!1;p.subscribe(i.createOperatorSubscriber(h,function(y){_||(_=i.createOperatorSubscriber(h,void 0,function(){_=null,v&&h.complete()}),n.innerFrom(r(y,m++)).subscribe(_))},function(){v=!0,!_&&h.complete()}))})}},33799:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.expand=void 0;var t=e(76235),n=e(56277);c.expand=function a(i,d,r){return void 0===d&&(d=1/0),d=(d||0)<1?1/0:d,t.operate(function(l,p){return n.mergeInternals(l,p,i,d,void 0,!0,r)})}},91320:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.filter=void 0;var t=e(76235),n=e(86414);c.filter=function a(i,d){return t.operate(function(r,l){var p=0;r.subscribe(n.createOperatorSubscriber(l,function(h){return i.call(d,h,p++)&&l.next(h)}))})}},38247:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.finalize=void 0;var t=e(76235);c.finalize=function n(a){return t.operate(function(i,d){try{i.subscribe(d)}finally{d.add(a)}})}},72181:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createFind=c.find=void 0;var t=e(76235),n=e(86414);function i(d,r,l){var p="index"===l;return function(h,m){var _=0;h.subscribe(n.createOperatorSubscriber(m,function(v){var y=_++;d.call(r,v,y,h)&&(m.next(p?y:v),m.complete())},function(){m.next(p?-1:void 0),m.complete()}))}}c.find=function a(d,r){return t.operate(i(d,r,"value"))},c.createFind=i},32782:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.findIndex=void 0;var t=e(76235),n=e(72181);c.findIndex=function a(i,d){return t.operate(n.createFind(i,d,"index"))}},52373:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.first=void 0;var t=e(68113),n=e(91320),a=e(21748),i=e(24678),d=e(55722),r=e(98296);c.first=function l(p,h){var m=arguments.length>=2;return function(_){return _.pipe(p?n.filter(function(v,y){return p(v,y,_)}):r.identity,a.take(1),m?i.defaultIfEmpty(h):d.throwIfEmpty(function(){return new t.EmptyError}))}}},59148:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.flatMap=void 0;var t=e(51972);c.flatMap=t.mergeMap},36989:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.groupBy=void 0;var t=e(95798),n=e(88965),a=e(17450),i=e(76235),d=e(86414);c.groupBy=function r(l,p,h,m){return i.operate(function(_,v){var y;p&&"function"!=typeof p?(h=p.duration,y=p.element,m=p.connector):y=p;var O=new Map,S=function(T){O.forEach(T),T(v)},b=function(T){return S(function(g){return g.error(T)})},o=0,D=!1,M=new d.OperatorSubscriber(v,function(T){try{var g=l(T),U=O.get(g);if(!U){O.set(g,U=m?m():new a.Subject);var L=function C(T,g){var U=new t.Observable(function(L){o++;var j=g.subscribe(L);return function(){j.unsubscribe(),0==--o&&D&&M.unsubscribe()}});return U.key=T,U}(g,U);if(v.next(L),h){var j=d.createOperatorSubscriber(U,function(){U.complete(),j?.unsubscribe()},void 0,void 0,function(){return O.delete(g)});M.add(n.innerFrom(h(L)).subscribe(j))}}U.next(y?y(T):T)}catch($){b($)}},function(){return S(function(T){return T.complete()})},b,function(){return O.clear()},function(){return D=!0,0===o});_.subscribe(M)})}},34467:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ignoreElements=void 0;var t=e(76235),n=e(86414),a=e(49279);c.ignoreElements=function i(){return t.operate(function(d,r){d.subscribe(n.createOperatorSubscriber(r,a.noop))})}},70626:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmpty=void 0;var t=e(76235),n=e(86414);c.isEmpty=function a(){return t.operate(function(i,d){i.subscribe(n.createOperatorSubscriber(d,function(){d.next(!1),d.complete()},function(){d.next(!0),d.complete()}))})}},97104:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.joinAllInternals=void 0;var t=e(98296),n=e(40454),a=e(96246),i=e(51972),d=e(46095);c.joinAllInternals=function r(l,p){return a.pipe(d.toArray(),i.mergeMap(function(h){return l(h)}),p?n.mapOneOrManyArgs(p):t.identity)}},95953:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.last=void 0;var t=e(68113),n=e(91320),a=e(93666),i=e(55722),d=e(24678),r=e(98296);c.last=function l(p,h){var m=arguments.length>=2;return function(_){return _.pipe(p?n.filter(function(v,y){return p(v,y,_)}):r.identity,a.takeLast(1),m?d.defaultIfEmpty(h):i.throwIfEmpty(function(){return new t.EmptyError}))}}},81209:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.map=void 0;var t=e(76235),n=e(86414);c.map=function a(i,d){return t.operate(function(r,l){var p=0;r.subscribe(n.createOperatorSubscriber(l,function(h){l.next(i.call(d,h,p++))}))})}},56990:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mapTo=void 0;var t=e(81209);c.mapTo=function n(a){return t.map(function(){return a})}},99342:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.materialize=void 0;var t=e(15742),n=e(76235),a=e(86414);c.materialize=function i(){return n.operate(function(d,r){d.subscribe(a.createOperatorSubscriber(r,function(l){r.next(t.Notification.createNext(l))},function(){r.next(t.Notification.createComplete()),r.complete()},function(l){r.next(t.Notification.createError(l)),r.complete()}))})}},14329:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.max=void 0;var t=e(36437),n=e(20449);c.max=function a(i){return t.reduce(n.isFunction(i)?function(d,r){return i(d,r)>0?d:r}:function(d,r){return d>r?d:r})}},42910:function(R,c,e){"use strict";var t=this&&this.__read||function(h,m){var _="function"==typeof Symbol&&h[Symbol.iterator];if(!_)return h;var y,S,v=_.call(h),O=[];try{for(;(void 0===m||m-- >0)&&!(y=v.next()).done;)O.push(y.value)}catch(b){S={error:b}}finally{try{y&&!y.done&&(_=v.return)&&_.call(v)}finally{if(S)throw S.error}}return O},n=this&&this.__spreadArray||function(h,m){for(var _=0,v=m.length,y=h.length;_<v;_++,y++)h[y]=m[_];return h};Object.defineProperty(c,"__esModule",{value:!0}),c.merge=void 0;var a=e(76235),i=e(72459),d=e(6466),r=e(24246),l=e(63966);c.merge=function p(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var _=r.popScheduler(h),v=r.popNumber(h,1/0);return h=i.argsOrArgArray(h),a.operate(function(y,O){d.mergeAll(v)(l.from(n([y],t(h)),_)).subscribe(O)})}},6466:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeAll=void 0;var t=e(51972),n=e(98296);c.mergeAll=function a(i){return void 0===i&&(i=1/0),t.mergeMap(n.identity,i)}},56277:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeInternals=void 0;var t=e(88965),n=e(13254),a=e(86414);c.mergeInternals=function i(d,r,l,p,h,m,_,v){var y=[],O=0,S=0,b=!1,o=function(){b&&!y.length&&!O&&r.complete()},D=function(C){return O<p?M(C):y.push(C)},M=function(C){m&&r.next(C),O++;var T=!1;t.innerFrom(l(C,S++)).subscribe(a.createOperatorSubscriber(r,function(g){h?.(g),m?D(g):r.next(g)},function(){T=!0},void 0,function(){if(T)try{O--;for(var g=function(){var U=y.shift();_?n.executeSchedule(r,_,function(){return M(U)}):M(U)};y.length&&O<p;)g();o()}catch(U){r.error(U)}}))};return d.subscribe(a.createOperatorSubscriber(r,D,function(){b=!0,o()})),function(){v?.()}}},51972:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeMap=void 0;var t=e(81209),n=e(88965),a=e(76235),i=e(56277),d=e(20449);c.mergeMap=function r(l,p,h){return void 0===h&&(h=1/0),d.isFunction(p)?r(function(m,_){return t.map(function(v,y){return p(m,v,_,y)})(n.innerFrom(l(m,_)))},h):("number"==typeof p&&(h=p),a.operate(function(m,_){return i.mergeInternals(m,_,l,h)}))}},37807:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeMapTo=void 0;var t=e(51972),n=e(20449);c.mergeMapTo=function a(i,d,r){return void 0===r&&(r=1/0),n.isFunction(d)?t.mergeMap(function(){return i},d,r):("number"==typeof d&&(r=d),t.mergeMap(function(){return i},r))}},58425:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeScan=void 0;var t=e(76235),n=e(56277);c.mergeScan=function a(i,d,r){return void 0===r&&(r=1/0),t.operate(function(l,p){var h=d;return n.mergeInternals(l,p,function(m,_){return i(h,m,_)},r,function(m){h=m},!1,void 0,function(){return h=null})})}},28957:function(R,c,e){"use strict";var t=this&&this.__read||function(d,r){var l="function"==typeof Symbol&&d[Symbol.iterator];if(!l)return d;var h,_,p=l.call(d),m=[];try{for(;(void 0===r||r-- >0)&&!(h=p.next()).done;)m.push(h.value)}catch(v){_={error:v}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(_)throw _.error}}return m},n=this&&this.__spreadArray||function(d,r){for(var l=0,p=r.length,h=d.length;l<p;l++,h++)d[h]=r[l];return d};Object.defineProperty(c,"__esModule",{value:!0}),c.mergeWith=void 0;var a=e(42910);c.mergeWith=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];return a.merge.apply(void 0,n([],t(d)))}},4006:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.min=void 0;var t=e(36437),n=e(20449);c.min=function a(i){return t.reduce(n.isFunction(i)?function(d,r){return i(d,r)<0?d:r}:function(d,r){return d<r?d:r})}},16467:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.multicast=void 0;var t=e(4040),n=e(20449),a=e(9564);c.multicast=function i(d,r){var l=n.isFunction(d)?d:function(){return d};return n.isFunction(r)?a.connect(r,{connector:l}):function(p){return new t.ConnectableObservable(p,l)}}},47221:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observeOn=void 0;var t=e(13254),n=e(76235),a=e(86414);c.observeOn=function i(d,r){return void 0===r&&(r=0),n.operate(function(l,p){l.subscribe(a.createOperatorSubscriber(p,function(h){return t.executeSchedule(p,d,function(){return p.next(h)},r)},function(){return t.executeSchedule(p,d,function(){return p.complete()},r)},function(h){return t.executeSchedule(p,d,function(){return p.error(h)},r)}))})}},57216:function(R,c,e){"use strict";var t=this&&this.__read||function(r,l){var p="function"==typeof Symbol&&r[Symbol.iterator];if(!p)return r;var m,v,h=p.call(r),_=[];try{for(;(void 0===l||l-- >0)&&!(m=h.next()).done;)_.push(m.value)}catch(y){v={error:y}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(v)throw v.error}}return _},n=this&&this.__spreadArray||function(r,l){for(var p=0,h=l.length,m=r.length;p<h;p++,m++)r[m]=l[p];return r};Object.defineProperty(c,"__esModule",{value:!0}),c.onErrorResumeNext=c.onErrorResumeNextWith=void 0;var a=e(72459),i=e(20831);function d(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var p=a.argsOrArgArray(r);return function(h){return i.onErrorResumeNext.apply(void 0,n([h],t(p)))}}c.onErrorResumeNextWith=d,c.onErrorResumeNext=d},25221:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pairwise=void 0;var t=e(76235),n=e(86414);c.pairwise=function a(){return t.operate(function(i,d){var r,l=!1;i.subscribe(n.createOperatorSubscriber(d,function(p){var h=r;r=p,l&&d.next([h,p]),l=!0}))})}},98830:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pluck=void 0;var t=e(81209);c.pluck=function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var d=a.length;if(0===d)throw new Error("list of properties cannot be empty.");return t.map(function(r){for(var l=r,p=0;p<d;p++){var h=l?.[a[p]];if(!(typeof h<"u"))return;l=h}return l})}},87977:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publish=void 0;var t=e(17450),n=e(16467),a=e(9564);c.publish=function i(d){return d?function(r){return a.connect(d)(r)}:function(r){return n.multicast(new t.Subject)(r)}}},35922:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishBehavior=void 0;var t=e(41125),n=e(4040);c.publishBehavior=function a(i){return function(d){var r=new t.BehaviorSubject(i);return new n.ConnectableObservable(d,function(){return r})}}},57708:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishLast=void 0;var t=e(23766),n=e(4040);c.publishLast=function a(){return function(i){var d=new t.AsyncSubject;return new n.ConnectableObservable(i,function(){return d})}}},54942:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishReplay=void 0;var t=e(37570),n=e(16467),a=e(20449);c.publishReplay=function i(d,r,l,p){l&&!a.isFunction(l)&&(p=l);var h=a.isFunction(l)?l:void 0;return function(m){return n.multicast(new t.ReplaySubject(d,r,p),h)(m)}}},25705:function(R,c,e){"use strict";var t=this&&this.__read||function(l,p){var h="function"==typeof Symbol&&l[Symbol.iterator];if(!h)return l;var _,y,m=h.call(l),v=[];try{for(;(void 0===p||p-- >0)&&!(_=m.next()).done;)v.push(_.value)}catch(O){y={error:O}}finally{try{_&&!_.done&&(h=m.return)&&h.call(m)}finally{if(y)throw y.error}}return v},n=this&&this.__spreadArray||function(l,p){for(var h=0,m=p.length,_=l.length;h<m;h++,_++)l[_]=p[h];return l};Object.defineProperty(c,"__esModule",{value:!0}),c.raceWith=void 0;var a=e(54221),i=e(76235),d=e(98296);c.raceWith=function r(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return l.length?i.operate(function(h,m){a.raceInit(n([h],t(l)))(m)}):d.identity}},36437:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.reduce=void 0;var t=e(35455),n=e(76235);c.reduce=function a(i,d){return n.operate(t.scanInternals(i,d,arguments.length>=2,!1,!0))}},66844:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.refCount=void 0;var t=e(76235),n=e(86414);c.refCount=function a(){return t.operate(function(i,d){var r=null;i._refCount++;var l=n.createOperatorSubscriber(d,void 0,void 0,void 0,function(){if(!i||i._refCount<=0||0<--i._refCount)r=null;else{var p=i._connection,h=r;r=null,p&&(!h||p===h)&&p.unsubscribe(),d.unsubscribe()}});i.subscribe(l),l.closed||(r=i.connect())})}},19657:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.repeat=void 0;var t=e(37976),n=e(76235),a=e(86414),i=e(88965),d=e(24116);c.repeat=function r(l){var p,m,h=1/0;return null!=l&&("object"==typeof l?(h=void 0===(p=l.count)?1/0:p,m=l.delay):h=l),h<=0?function(){return t.EMPTY}:n.operate(function(_,v){var O,y=0,S=function(){if(O?.unsubscribe(),O=null,null!=m){var o="number"==typeof m?d.timer(m):i.innerFrom(m(y)),D=a.createOperatorSubscriber(v,function(){D.unsubscribe(),b()});o.subscribe(D)}else b()},b=function(){var o=!1;O=_.subscribe(a.createOperatorSubscriber(v,void 0,function(){++y<h?O?S():o=!0:v.complete()})),o&&S()};b()})}},51898:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.repeatWhen=void 0;var t=e(88965),n=e(17450),a=e(76235),i=e(86414);c.repeatWhen=function d(r){return a.operate(function(l,p){var h,_,m=!1,v=!1,y=!1,O=function(){return y&&v&&(p.complete(),!0)},b=function(){y=!1,h=l.subscribe(i.createOperatorSubscriber(p,void 0,function(){y=!0,!O()&&(_||(_=new n.Subject,t.innerFrom(r(_)).subscribe(i.createOperatorSubscriber(p,function(){h?b():m=!0},function(){v=!0,O()}))),_).next()})),m&&(h.unsubscribe(),h=null,m=!1,b())};b()})}},31460:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.retry=void 0;var t=e(76235),n=e(86414),a=e(98296),i=e(24116),d=e(88965);c.retry=function r(l){var p;void 0===l&&(l=1/0);var h=(p=l&&"object"==typeof l?l:{count:l}).count,m=void 0===h?1/0:h,_=p.delay,v=p.resetOnSuccess,y=void 0!==v&&v;return m<=0?a.identity:t.operate(function(O,S){var o,b=0,D=function(){var M=!1;o=O.subscribe(n.createOperatorSubscriber(S,function(C){y&&(b=0),S.next(C)},void 0,function(C){if(b++<m){var T=function(){o?(o.unsubscribe(),o=null,D()):M=!0};if(null!=_){var g="number"==typeof _?i.timer(_):d.innerFrom(_(C,b)),U=n.createOperatorSubscriber(S,function(){U.unsubscribe(),T()},function(){S.complete()});g.subscribe(U)}else T()}else S.error(C)})),M&&(o.unsubscribe(),o=null,D())};D()})}},690:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.retryWhen=void 0;var t=e(88965),n=e(17450),a=e(76235),i=e(86414);c.retryWhen=function d(r){return a.operate(function(l,p){var h,_,m=!1,v=function(){h=l.subscribe(i.createOperatorSubscriber(p,void 0,void 0,function(y){_||(_=new n.Subject,t.innerFrom(r(_)).subscribe(i.createOperatorSubscriber(p,function(){return h?v():m=!0}))),_&&_.next(y)})),m&&(h.unsubscribe(),h=null,m=!1,v())};v()})}},58487:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sample=void 0;var t=e(88965),n=e(76235),a=e(49279),i=e(86414);c.sample=function d(r){return n.operate(function(l,p){var h=!1,m=null;l.subscribe(i.createOperatorSubscriber(p,function(_){h=!0,m=_})),t.innerFrom(r).subscribe(i.createOperatorSubscriber(p,function(){if(h){h=!1;var _=m;m=null,p.next(_)}},a.noop))})}},86928:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sampleTime=void 0;var t=e(41995),n=e(58487),a=e(53318);c.sampleTime=function i(d,r){return void 0===r&&(r=t.asyncScheduler),n.sample(a.interval(d,r))}},98698:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scan=void 0;var t=e(76235),n=e(35455);c.scan=function a(i,d){return t.operate(n.scanInternals(i,d,arguments.length>=2,!0))}},35455:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scanInternals=void 0;var t=e(86414);c.scanInternals=function n(a,i,d,r,l){return function(p,h){var m=d,_=i,v=0;p.subscribe(t.createOperatorSubscriber(h,function(y){var O=v++;_=m?a(_,y,O):(m=!0,y),r&&h.next(_)},l&&function(){m&&h.next(_),h.complete()}))}}},23990:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sequenceEqual=void 0;var t=e(76235),n=e(86414),a=e(88965);c.sequenceEqual=function i(r,l){return void 0===l&&(l=function(p,h){return p===h}),t.operate(function(p,h){var m={buffer:[],complete:!1},_={buffer:[],complete:!1},v=function(O){h.next(O),h.complete()},y=function(O,S){var b=n.createOperatorSubscriber(h,function(o){var D=S.buffer;0===D.length?S.complete?v(!1):O.buffer.push(o):!l(o,D.shift())&&v(!1)},function(){O.complete=!0,S.complete&&v(0===S.buffer.length),b?.unsubscribe()});return b};p.subscribe(y(m,_)),a.innerFrom(r).subscribe(y(_,m))})}},97666:function(R,c,e){"use strict";var t=this&&this.__read||function(h,m){var _="function"==typeof Symbol&&h[Symbol.iterator];if(!_)return h;var y,S,v=_.call(h),O=[];try{for(;(void 0===m||m-- >0)&&!(y=v.next()).done;)O.push(y.value)}catch(b){S={error:b}}finally{try{y&&!y.done&&(_=v.return)&&_.call(v)}finally{if(S)throw S.error}}return O},n=this&&this.__spreadArray||function(h,m){for(var _=0,v=m.length,y=h.length;_<v;_++,y++)h[y]=m[_];return h};Object.defineProperty(c,"__esModule",{value:!0}),c.share=void 0;var a=e(88965),i=e(17450),d=e(83367),r=e(76235);function p(h,m){for(var _=[],v=2;v<arguments.length;v++)_[v-2]=arguments[v];if(!0!==m){if(!1!==m){var y=new d.SafeSubscriber({next:function(){y.unsubscribe(),h()}});return a.innerFrom(m.apply(void 0,n([],t(_)))).subscribe(y)}}else h()}c.share=function l(h){void 0===h&&(h={});var m=h.connector,_=void 0===m?function(){return new i.Subject}:m,v=h.resetOnError,y=void 0===v||v,O=h.resetOnComplete,S=void 0===O||O,b=h.resetOnRefCountZero,o=void 0===b||b;return function(D){var M,C,T,g=0,U=!1,L=!1,j=function(){C?.unsubscribe(),C=void 0},$=function(){j(),M=T=void 0,U=L=!1},z=function(){var re=M;$(),re?.unsubscribe()};return r.operate(function(re,W){g++,!L&&!U&&j();var ie=T=T??_();W.add(function(){0==--g&&!L&&!U&&(C=p(z,o))}),ie.subscribe(W),!M&&g>0&&(M=new d.SafeSubscriber({next:function(ce){return ie.next(ce)},error:function(ce){L=!0,j(),C=p($,y,ce),ie.error(ce)},complete:function(){U=!0,j(),C=p($,S),ie.complete()}}),a.innerFrom(re).subscribe(M))})(D)}}},44563:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.shareReplay=void 0;var t=e(37570),n=e(97666);c.shareReplay=function a(i,d,r){var l,p,h,m,_=!1;return i&&"object"==typeof i?(m=void 0===(l=i.bufferSize)?1/0:l,d=void 0===(p=i.windowTime)?1/0:p,_=void 0!==(h=i.refCount)&&h,r=i.scheduler):m=i??1/0,n.share({connector:function(){return new t.ReplaySubject(m,d,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},8816:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.single=void 0;var t=e(68113),n=e(52853),a=e(18554),i=e(76235),d=e(86414);c.single=function r(l){return i.operate(function(p,h){var _,m=!1,v=!1,y=0;p.subscribe(d.createOperatorSubscriber(h,function(O){v=!0,(!l||l(O,y++,p))&&(m&&h.error(new n.SequenceError("Too many matching values")),m=!0,_=O)},function(){m?(h.next(_),h.complete()):h.error(v?new a.NotFoundError("No matching values"):new t.EmptyError)}))})}},54204:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skip=void 0;var t=e(91320);c.skip=function n(a){return t.filter(function(i,d){return a<=d})}},83446:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipLast=void 0;var t=e(98296),n=e(76235),a=e(86414);c.skipLast=function i(d){return d<=0?t.identity:n.operate(function(r,l){var p=new Array(d),h=0;return r.subscribe(a.createOperatorSubscriber(l,function(m){var _=h++;if(_<d)p[_]=m;else{var v=_%d,y=p[v];p[v]=m,l.next(y)}})),function(){p=null}})}},26757:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipUntil=void 0;var t=e(76235),n=e(86414),a=e(88965),i=e(49279);c.skipUntil=function d(r){return t.operate(function(l,p){var h=!1,m=n.createOperatorSubscriber(p,function(){m?.unsubscribe(),h=!0},i.noop);a.innerFrom(r).subscribe(m),l.subscribe(n.createOperatorSubscriber(p,function(_){return h&&p.next(_)}))})}},7448:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipWhile=void 0;var t=e(76235),n=e(86414);c.skipWhile=function a(i){return t.operate(function(d,r){var l=!1,p=0;d.subscribe(n.createOperatorSubscriber(r,function(h){return(l||(l=!i(h,p++)))&&r.next(h)}))})}},86379:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.startWith=void 0;var t=e(58589),n=e(24246),a=e(76235);c.startWith=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];var l=n.popScheduler(d);return a.operate(function(p,h){(l?t.concat(d,p,l):t.concat(d,p)).subscribe(h)})}},38704:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.subscribeOn=void 0;var t=e(76235);c.subscribeOn=function n(a,i){return void 0===i&&(i=0),t.operate(function(d,r){r.add(a.schedule(function(){return d.subscribe(r)},i))})}},50756:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchAll=void 0;var t=e(93622),n=e(98296);c.switchAll=function a(){return t.switchMap(n.identity)}},93622:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchMap=void 0;var t=e(88965),n=e(76235),a=e(86414);c.switchMap=function i(d,r){return n.operate(function(l,p){var h=null,m=0,_=!1,v=function(){return _&&!h&&p.complete()};l.subscribe(a.createOperatorSubscriber(p,function(y){h?.unsubscribe();var O=0,S=m++;t.innerFrom(d(y,S)).subscribe(h=a.createOperatorSubscriber(p,function(b){return p.next(r?r(y,b,S,O++):b)},function(){h=null,v()}))},function(){_=!0,v()}))})}},92893:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchMapTo=void 0;var t=e(93622),n=e(20449);c.switchMapTo=function a(i,d){return n.isFunction(d)?t.switchMap(function(){return i},d):t.switchMap(function(){return i})}},91582:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchScan=void 0;var t=e(93622),n=e(76235);c.switchScan=function a(i,d){return n.operate(function(r,l){var p=d;return t.switchMap(function(h,m){return i(p,h,m)},function(h,m){return p=m,m})(r).subscribe(l),function(){p=null}})}},21748:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.take=void 0;var t=e(37976),n=e(76235),a=e(86414);c.take=function i(d){return d<=0?function(){return t.EMPTY}:n.operate(function(r,l){var p=0;r.subscribe(a.createOperatorSubscriber(l,function(h){++p<=d&&(l.next(h),d<=p&&l.complete())}))})}},93666:function(R,c,e){"use strict";var t=this&&this.__values||function(r){var l="function"==typeof Symbol&&Symbol.iterator,p=l&&r[l],h=0;if(p)return p.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&h>=r.length&&(r=void 0),{value:r&&r[h++],done:!r}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.takeLast=void 0;var n=e(37976),a=e(76235),i=e(86414);c.takeLast=function d(r){return r<=0?function(){return n.EMPTY}:a.operate(function(l,p){var h=[];l.subscribe(i.createOperatorSubscriber(p,function(m){h.push(m),r<h.length&&h.shift()},function(){var m,_;try{for(var v=t(h),y=v.next();!y.done;y=v.next())p.next(y.value)}catch(S){m={error:S}}finally{try{y&&!y.done&&(_=v.return)&&_.call(v)}finally{if(m)throw m.error}}p.complete()},void 0,function(){h=null}))})}},21502:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.takeUntil=void 0;var t=e(76235),n=e(86414),a=e(88965),i=e(49279);c.takeUntil=function d(r){return t.operate(function(l,p){a.innerFrom(r).subscribe(n.createOperatorSubscriber(p,function(){return p.complete()},i.noop)),!p.closed&&l.subscribe(p)})}},64099:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.takeWhile=void 0;var t=e(76235),n=e(86414);c.takeWhile=function a(i,d){return void 0===d&&(d=!1),t.operate(function(r,l){var p=0;r.subscribe(n.createOperatorSubscriber(l,function(h){var m=i(h,p++);(m||d)&&l.next(h),!m&&l.complete()}))})}},79044:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.tap=void 0;var t=e(20449),n=e(76235),a=e(86414),i=e(98296);c.tap=function d(r,l,p){var h=t.isFunction(r)||l||p?{next:r,error:l,complete:p}:r;return h?n.operate(function(m,_){var v;null===(v=h.subscribe)||void 0===v||v.call(h);var y=!0;m.subscribe(a.createOperatorSubscriber(_,function(O){var S;null===(S=h.next)||void 0===S||S.call(h,O),_.next(O)},function(){var O;y=!1,null===(O=h.complete)||void 0===O||O.call(h),_.complete()},function(O){var S;y=!1,null===(S=h.error)||void 0===S||S.call(h,O),_.error(O)},function(){var O,S;y&&(null===(O=h.unsubscribe)||void 0===O||O.call(h)),null===(S=h.finalize)||void 0===S||S.call(h)}))}):i.identity}},46596:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throttle=c.defaultThrottleConfig=void 0;var t=e(76235),n=e(86414),a=e(88965);c.defaultThrottleConfig={leading:!0,trailing:!1},c.throttle=function i(d,r){return void 0===r&&(r=c.defaultThrottleConfig),t.operate(function(l,p){var h=r.leading,m=r.trailing,_=!1,v=null,y=null,O=!1,S=function(){y?.unsubscribe(),y=null,m&&(D(),O&&p.complete())},b=function(){y=null,O&&p.complete()},o=function(M){return y=a.innerFrom(d(M)).subscribe(n.createOperatorSubscriber(p,S,b))},D=function(){if(_){_=!1;var M=v;v=null,p.next(M),!O&&o(M)}};l.subscribe(n.createOperatorSubscriber(p,function(M){_=!0,v=M,(!y||y.closed)&&(h?D():o(M))},function(){O=!0,(!(m&&_&&y)||y.closed)&&p.complete()}))})}},40930:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throttleTime=void 0;var t=e(41995),n=e(46596),a=e(24116);c.throttleTime=function i(d,r,l){void 0===r&&(r=t.asyncScheduler),void 0===l&&(l=n.defaultThrottleConfig);var p=a.timer(d,r);return n.throttle(function(){return p},l)}},55722:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throwIfEmpty=void 0;var t=e(68113),n=e(76235),a=e(86414);function d(){return new t.EmptyError}c.throwIfEmpty=function i(r){return void 0===r&&(r=d),n.operate(function(l,p){var h=!1;l.subscribe(a.createOperatorSubscriber(p,function(m){h=!0,p.next(m)},function(){return h?p.complete():p.error(r())}))})}},33027:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TimeInterval=c.timeInterval=void 0;var t=e(41995),n=e(76235),a=e(86414);c.timeInterval=function i(r){return void 0===r&&(r=t.asyncScheduler),n.operate(function(l,p){var h=r.now();l.subscribe(a.createOperatorSubscriber(p,function(m){var _=r.now(),v=_-h;h=_,p.next(new d(m,v))}))})};var d=function r(l,p){this.value=l,this.interval=p};c.TimeInterval=d},83308:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timeout=c.TimeoutError=void 0;var t=e(41995),n=e(38575),a=e(76235),i=e(88965),d=e(48098),r=e(86414),l=e(13254);function h(m){throw new c.TimeoutError(m)}c.TimeoutError=d.createErrorClass(function(m){return function(v){void 0===v&&(v=null),m(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=v}}),c.timeout=function p(m,_){var v=n.isValidDate(m)?{first:m}:"number"==typeof m?{each:m}:m,y=v.first,O=v.each,S=v.with,b=void 0===S?h:S,o=v.scheduler,D=void 0===o?_??t.asyncScheduler:o,M=v.meta,C=void 0===M?null:M;if(null==y&&null==O)throw new TypeError("No timeout provided.");return a.operate(function(T,g){var U,L,j=null,$=0,z=function(re){L=l.executeSchedule(g,D,function(){try{U.unsubscribe(),i.innerFrom(b({meta:C,lastValue:j,seen:$})).subscribe(g)}catch(W){g.error(W)}},re)};U=T.subscribe(r.createOperatorSubscriber(g,function(re){L?.unsubscribe(),$++,g.next(j=re),O>0&&z(O)},void 0,void 0,function(){L?.closed||L?.unsubscribe(),j=null})),!$&&z(null!=y?"number"==typeof y?y:+y-D.now():O)})}},97673:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timeoutWith=void 0;var t=e(41995),n=e(38575),a=e(83308);c.timeoutWith=function i(d,r,l){var p,h,m;if(l=l??t.async,n.isValidDate(d)?p=d:"number"==typeof d&&(h=d),!r)throw new TypeError("No observable provided to switch to");if(m=function(){return r},null==p&&null==h)throw new TypeError("No timeout provided.");return a.timeout({first:p,each:h,scheduler:l,with:m})}},15446:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timestamp=void 0;var t=e(56862),n=e(81209);c.timestamp=function a(i){return void 0===i&&(i=t.dateTimestampProvider),n.map(function(d){return{value:d,timestamp:i.now()}})}},46095:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.toArray=void 0;var t=e(36437),n=e(76235),a=function(d,r){return d.push(r),d};c.toArray=function i(){return n.operate(function(d,r){t.reduce(a,[])(d).subscribe(r)})}},30132:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.window=void 0;var t=e(17450),n=e(76235),a=e(86414),i=e(49279),d=e(88965);c.window=function r(l){return n.operate(function(p,h){var m=new t.Subject;h.next(m.asObservable());var _=function(v){m.error(v),h.error(v)};return p.subscribe(a.createOperatorSubscriber(h,function(v){return m?.next(v)},function(){m.complete(),h.complete()},_)),d.innerFrom(l).subscribe(a.createOperatorSubscriber(h,function(){m.complete(),h.next(m=new t.Subject)},i.noop,_)),function(){m?.unsubscribe(),m=null}})}},37725:function(R,c,e){"use strict";var t=this&&this.__values||function(r){var l="function"==typeof Symbol&&Symbol.iterator,p=l&&r[l],h=0;if(p)return p.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&h>=r.length&&(r=void 0),{value:r&&r[h++],done:!r}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.windowCount=void 0;var n=e(17450),a=e(76235),i=e(86414);c.windowCount=function d(r,l){void 0===l&&(l=0);var p=l>0?l:r;return a.operate(function(h,m){var _=[new n.Subject],y=0;m.next(_[0].asObservable()),h.subscribe(i.createOperatorSubscriber(m,function(O){var S,b;try{for(var o=t(_),D=o.next();!D.done;D=o.next())D.value.next(O)}catch(g){S={error:g}}finally{try{D&&!D.done&&(b=o.return)&&b.call(o)}finally{if(S)throw S.error}}var C=y-r+1;if(C>=0&&C%p==0&&_.shift().complete(),++y%p==0){var T=new n.Subject;_.push(T),m.next(T.asObservable())}},function(){for(;_.length>0;)_.shift().complete();m.complete()},function(O){for(;_.length>0;)_.shift().error(O);m.error(O)},function(){_=null}))})}},27090:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.windowTime=void 0;var t=e(17450),n=e(41995),a=e(82041),i=e(76235),d=e(86414),r=e(3562),l=e(24246),p=e(13254);c.windowTime=function h(m){for(var _,v,y=[],O=1;O<arguments.length;O++)y[O-1]=arguments[O];var S=null!==(_=l.popScheduler(y))&&void 0!==_?_:n.asyncScheduler,b=null!==(v=y[0])&&void 0!==v?v:null,o=y[1]||1/0;return i.operate(function(D,M){var C=[],T=!1,g=function($){var re=$.subs;$.window.complete(),re.unsubscribe(),r.arrRemove(C,$),T&&U()},U=function(){if(C){var $=new a.Subscription;M.add($);var z=new t.Subject,re={window:z,subs:$,seen:0};C.push(re),M.next(z.asObservable()),p.executeSchedule($,S,function(){return g(re)},m)}};null!==b&&b>=0?p.executeSchedule(M,S,U,b,!0):T=!0,U();var L=function($){return C.slice().forEach($)},j=function($){L(function(z){return $(z.window)}),$(M),M.unsubscribe()};return D.subscribe(d.createOperatorSubscriber(M,function($){L(function(z){z.window.next($),o<=++z.seen&&g(z)})},function(){return j(function($){return $.complete()})},function($){return j(function(z){return z.error($)})})),function(){C=null}})}},36779:function(R,c,e){"use strict";var t=this&&this.__values||function(m){var _="function"==typeof Symbol&&Symbol.iterator,v=_&&m[_],y=0;if(v)return v.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.windowToggle=void 0;var n=e(17450),a=e(82041),i=e(76235),d=e(88965),r=e(86414),l=e(49279),p=e(3562);c.windowToggle=function h(m,_){return i.operate(function(v,y){var O=[],S=function(b){for(;0<O.length;)O.shift().error(b);y.error(b)};d.innerFrom(m).subscribe(r.createOperatorSubscriber(y,function(b){var o=new n.Subject;O.push(o);var C,D=new a.Subscription;try{C=d.innerFrom(_(b))}catch(T){return void S(T)}y.next(o.asObservable()),D.add(C.subscribe(r.createOperatorSubscriber(y,function(){p.arrRemove(O,o),o.complete(),D.unsubscribe()},l.noop,S)))},l.noop)),v.subscribe(r.createOperatorSubscriber(y,function(b){var o,D,M=O.slice();try{for(var C=t(M),T=C.next();!T.done;T=C.next())T.value.next(b)}catch(U){o={error:U}}finally{try{T&&!T.done&&(D=C.return)&&D.call(C)}finally{if(o)throw o.error}}},function(){for(;0<O.length;)O.shift().complete();y.complete()},S,function(){for(;0<O.length;)O.shift().unsubscribe()}))})}},90074:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.windowWhen=void 0;var t=e(17450),n=e(76235),a=e(86414),i=e(88965);c.windowWhen=function d(r){return n.operate(function(l,p){var h,m,_=function(y){h.error(y),p.error(y)},v=function(){var y;m?.unsubscribe(),h?.complete(),h=new t.Subject,p.next(h.asObservable());try{y=i.innerFrom(r())}catch(O){return void _(O)}y.subscribe(m=a.createOperatorSubscriber(p,v,v,_))};v(),l.subscribe(a.createOperatorSubscriber(p,function(y){return h.next(y)},function(){h.complete(),p.complete()},_,function(){m?.unsubscribe(),h=null}))})}},2415:function(R,c,e){"use strict";var t=this&&this.__read||function(m,_){var v="function"==typeof Symbol&&m[Symbol.iterator];if(!v)return m;var O,b,y=v.call(m),S=[];try{for(;(void 0===_||_-- >0)&&!(O=y.next()).done;)S.push(O.value)}catch(o){b={error:o}}finally{try{O&&!O.done&&(v=y.return)&&v.call(y)}finally{if(b)throw b.error}}return S},n=this&&this.__spreadArray||function(m,_){for(var v=0,y=_.length,O=m.length;v<y;v++,O++)m[O]=_[v];return m};Object.defineProperty(c,"__esModule",{value:!0}),c.withLatestFrom=void 0;var a=e(76235),i=e(86414),d=e(88965),r=e(98296),l=e(49279),p=e(24246);c.withLatestFrom=function h(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var v=p.popResultSelector(m);return a.operate(function(y,O){for(var S=m.length,b=new Array(S),o=m.map(function(){return!1}),D=!1,M=function(T){d.innerFrom(m[T]).subscribe(i.createOperatorSubscriber(O,function(g){b[T]=g,!D&&!o[T]&&(o[T]=!0,(D=o.every(r.identity))&&(o=null))},l.noop))},C=0;C<S;C++)M(C);y.subscribe(i.createOperatorSubscriber(O,function(T){if(D){var g=n([T],t(b));O.next(v?v.apply(void 0,n([],t(g))):g)}}))})}},4354:function(R,c,e){"use strict";var t=this&&this.__read||function(r,l){var p="function"==typeof Symbol&&r[Symbol.iterator];if(!p)return r;var m,v,h=p.call(r),_=[];try{for(;(void 0===l||l-- >0)&&!(m=h.next()).done;)_.push(m.value)}catch(y){v={error:y}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(v)throw v.error}}return _},n=this&&this.__spreadArray||function(r,l){for(var p=0,h=l.length,m=r.length;p<h;p++,m++)r[m]=l[p];return r};Object.defineProperty(c,"__esModule",{value:!0}),c.zip=void 0;var a=e(99381),i=e(76235);c.zip=function d(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];return i.operate(function(p,h){a.zip.apply(void 0,n([p],t(r))).subscribe(h)})}},94485:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.zipAll=void 0;var t=e(99381),n=e(97104);c.zipAll=function a(i){return n.joinAllInternals(t.zip,i)}},44514:function(R,c,e){"use strict";var t=this&&this.__read||function(d,r){var l="function"==typeof Symbol&&d[Symbol.iterator];if(!l)return d;var h,_,p=l.call(d),m=[];try{for(;(void 0===r||r-- >0)&&!(h=p.next()).done;)m.push(h.value)}catch(v){_={error:v}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(_)throw _.error}}return m},n=this&&this.__spreadArray||function(d,r){for(var l=0,p=r.length,h=d.length;l<p;l++,h++)d[h]=r[l];return d};Object.defineProperty(c,"__esModule",{value:!0}),c.zipWith=void 0;var a=e(4354);c.zipWith=function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];return a.zip.apply(void 0,n([],t(d)))}},37448:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleArray=void 0;var t=e(95798);c.scheduleArray=function n(a,i){return new t.Observable(function(d){var r=0;return i.schedule(function(){r===a.length?d.complete():(d.next(a[r++]),d.closed||this.schedule())})})}},45021:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleAsyncIterable=void 0;var t=e(95798),n=e(13254);c.scheduleAsyncIterable=function a(i,d){if(!i)throw new Error("Iterable cannot be null");return new t.Observable(function(r){n.executeSchedule(r,d,function(){var l=i[Symbol.asyncIterator]();n.executeSchedule(r,d,function(){l.next().then(function(p){p.done?r.complete():r.next(p.value)})},0,!0)})})}},36108:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleIterable=void 0;var t=e(95798),n=e(83015),a=e(20449),i=e(13254);c.scheduleIterable=function d(r,l){return new t.Observable(function(p){var h;return i.executeSchedule(p,l,function(){h=r[n.iterator](),i.executeSchedule(p,l,function(){var m,_,v;try{_=(m=h.next()).value,v=m.done}catch(y){return void p.error(y)}v?p.complete():p.next(_)},0,!0)}),function(){return a.isFunction(h?.return)&&h.return()}})}},7259:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleObservable=void 0;var t=e(88965),n=e(47221),a=e(38704);c.scheduleObservable=function i(d,r){return t.innerFrom(d).pipe(a.subscribeOn(r),n.observeOn(r))}},5058:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.schedulePromise=void 0;var t=e(88965),n=e(47221),a=e(38704);c.schedulePromise=function i(d,r){return t.innerFrom(d).pipe(a.subscribeOn(r),n.observeOn(r))}},43785:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleReadableStreamLike=void 0;var t=e(45021),n=e(52681);c.scheduleReadableStreamLike=function a(i,d){return t.scheduleAsyncIterable(n.readableStreamLikeToAsyncGenerator(i),d)}},23606:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduled=void 0;var t=e(7259),n=e(5058),a=e(37448),i=e(36108),d=e(45021),r=e(11288),l=e(73284),p=e(85930),h=e(84949),m=e(7873),_=e(77462),v=e(52681),y=e(43785);c.scheduled=function O(S,b){if(null!=S){if(r.isInteropObservable(S))return t.scheduleObservable(S,b);if(p.isArrayLike(S))return a.scheduleArray(S,b);if(l.isPromise(S))return n.schedulePromise(S,b);if(m.isAsyncIterable(S))return d.scheduleAsyncIterable(S,b);if(h.isIterable(S))return i.scheduleIterable(S,b);if(v.isReadableStreamLike(S))return y.scheduleReadableStreamLike(S,b)}throw _.createInvalidObservableTypeError(S)}},59786:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.Action=void 0;var a=function(i){function d(r,l){return i.call(this)||this}return t(d,i),d.prototype.schedule=function(r,l){return void 0===l&&(l=0),this},d}(e(82041).Subscription);c.Action=a},44345:function(R,c,e){"use strict";var d,t=this&&this.__extends||(d=function(r,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])})(r,l)},function(r,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function p(){this.constructor=r}d(r,l),r.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)});Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationFrameAction=void 0;var n=e(14490),a=e(81906),i=function(d){function r(l,p){var h=d.call(this,l,p)||this;return h.scheduler=l,h.work=p,h}return t(r,d),r.prototype.requestAsyncId=function(l,p,h){return void 0===h&&(h=0),null!==h&&h>0?d.prototype.requestAsyncId.call(this,l,p,h):(l.actions.push(this),l._scheduled||(l._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return l.flush(void 0)})))},r.prototype.recycleAsyncId=function(l,p,h){var m;if(void 0===h&&(h=0),null!=h?h>0:this.delay>0)return d.prototype.recycleAsyncId.call(this,l,p,h);var _=l.actions;null!=p&&(null===(m=_[_.length-1])||void 0===m?void 0:m.id)!==p&&(a.animationFrameProvider.cancelAnimationFrame(p),l._scheduled=void 0)},r}(n.AsyncAction);c.AnimationFrameAction=i},99192:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationFrameScheduler=void 0;var a=function(i){function d(){return null!==i&&i.apply(this,arguments)||this}return t(d,i),d.prototype.flush=function(r){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var h,p=this.actions;r=r||p.shift();do{if(h=r.execute(r.state,r.delay))break}while((r=p[0])&&r.id===l&&p.shift());if(this._active=!1,h){for(;(r=p[0])&&r.id===l&&p.shift();)r.unsubscribe();throw h}},d}(e(35980).AsyncScheduler);c.AnimationFrameScheduler=a},31163:function(R,c,e){"use strict";var d,t=this&&this.__extends||(d=function(r,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])})(r,l)},function(r,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function p(){this.constructor=r}d(r,l),r.prototype=null===l?Object.create(l):(p.prototype=l.prototype,new p)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsapAction=void 0;var n=e(14490),a=e(80954),i=function(d){function r(l,p){var h=d.call(this,l,p)||this;return h.scheduler=l,h.work=p,h}return t(r,d),r.prototype.requestAsyncId=function(l,p,h){return void 0===h&&(h=0),null!==h&&h>0?d.prototype.requestAsyncId.call(this,l,p,h):(l.actions.push(this),l._scheduled||(l._scheduled=a.immediateProvider.setImmediate(l.flush.bind(l,void 0))))},r.prototype.recycleAsyncId=function(l,p,h){var m;if(void 0===h&&(h=0),null!=h?h>0:this.delay>0)return d.prototype.recycleAsyncId.call(this,l,p,h);var _=l.actions;null!=p&&(null===(m=_[_.length-1])||void 0===m?void 0:m.id)!==p&&(a.immediateProvider.clearImmediate(p),l._scheduled=void 0)},r}(n.AsyncAction);c.AsapAction=i},7154:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsapScheduler=void 0;var a=function(i){function d(){return null!==i&&i.apply(this,arguments)||this}return t(d,i),d.prototype.flush=function(r){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var h,p=this.actions;r=r||p.shift();do{if(h=r.execute(r.state,r.delay))break}while((r=p[0])&&r.id===l&&p.shift());if(this._active=!1,h){for(;(r=p[0])&&r.id===l&&p.shift();)r.unsubscribe();throw h}},d}(e(35980).AsyncScheduler);c.AsapScheduler=a},14490:function(R,c,e){"use strict";var r,t=this&&this.__extends||(r=function(l,p){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(h[_]=m[_])})(l,p)},function(l,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function h(){this.constructor=l}r(l,p),l.prototype=null===p?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncAction=void 0;var n=e(59786),a=e(49118),i=e(3562),d=function(r){function l(p,h){var m=r.call(this,p,h)||this;return m.scheduler=p,m.work=h,m.pending=!1,m}return t(l,r),l.prototype.schedule=function(p,h){var m;if(void 0===h&&(h=0),this.closed)return this;this.state=p;var _=this.id,v=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(v,_,h)),this.pending=!0,this.delay=h,this.id=null!==(m=this.id)&&void 0!==m?m:this.requestAsyncId(v,this.id,h),this},l.prototype.requestAsyncId=function(p,h,m){return void 0===m&&(m=0),a.intervalProvider.setInterval(p.flush.bind(p,this),m)},l.prototype.recycleAsyncId=function(p,h,m){if(void 0===m&&(m=0),null!=m&&this.delay===m&&!1===this.pending)return h;null!=h&&a.intervalProvider.clearInterval(h)},l.prototype.execute=function(p,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var m=this._execute(p,h);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},l.prototype._execute=function(p,h){var _,m=!1;try{this.work(p)}catch(v){m=!0,_=v||new Error("Scheduled action threw falsy error")}if(m)return this.unsubscribe(),_},l.prototype.unsubscribe=function(){if(!this.closed){var h=this.id,m=this.scheduler,_=m.actions;this.work=this.state=this.scheduler=null,this.pending=!1,i.arrRemove(_,this),null!=h&&(this.id=this.recycleAsyncId(m,h,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},l}(n.Action);c.AsyncAction=d},35980:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncScheduler=void 0;var n=e(63274),a=function(i){function d(r,l){void 0===l&&(l=n.Scheduler.now);var p=i.call(this,r,l)||this;return p.actions=[],p._active=!1,p}return t(d,i),d.prototype.flush=function(r){var l=this.actions;if(this._active)l.push(r);else{var p;this._active=!0;do{if(p=r.execute(r.state,r.delay))break}while(r=l.shift());if(this._active=!1,p){for(;r=l.shift();)r.unsubscribe();throw p}}},d}(n.Scheduler);c.AsyncScheduler=a},65760:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.QueueAction=void 0;var a=function(i){function d(r,l){var p=i.call(this,r,l)||this;return p.scheduler=r,p.work=l,p}return t(d,i),d.prototype.schedule=function(r,l){return void 0===l&&(l=0),l>0?i.prototype.schedule.call(this,r,l):(this.delay=l,this.state=r,this.scheduler.flush(this),this)},d.prototype.execute=function(r,l){return l>0||this.closed?i.prototype.execute.call(this,r,l):this._execute(r,l)},d.prototype.requestAsyncId=function(r,l,p){return void 0===p&&(p=0),null!=p&&p>0||null==p&&this.delay>0?i.prototype.requestAsyncId.call(this,r,l,p):(r.flush(this),0)},d}(e(14490).AsyncAction);c.QueueAction=a},75800:function(R,c,e){"use strict";var i,t=this&&this.__extends||(i=function(d,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])})(d,r)},function(d,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function l(){this.constructor=d}i(d,r),d.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)});Object.defineProperty(c,"__esModule",{value:!0}),c.QueueScheduler=void 0;var a=function(i){function d(){return null!==i&&i.apply(this,arguments)||this}return t(d,i),d}(e(35980).AsyncScheduler);c.QueueScheduler=a},3883:function(R,c,e){"use strict";var l,t=this&&this.__extends||(l=function(p,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])})(p,h)},function(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}l(p,h),p.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)});Object.defineProperty(c,"__esModule",{value:!0}),c.VirtualAction=c.VirtualTimeScheduler=void 0;var n=e(14490),a=e(82041),d=function(l){function p(h,m){void 0===h&&(h=r),void 0===m&&(m=1/0);var _=l.call(this,h,function(){return _.frame})||this;return _.maxFrames=m,_.frame=0,_.index=-1,_}return t(p,l),p.prototype.flush=function(){for(var v,y,m=this.actions,_=this.maxFrames;(y=m[0])&&y.delay<=_&&(m.shift(),this.frame=y.delay,!(v=y.execute(y.state,y.delay))););if(v){for(;y=m.shift();)y.unsubscribe();throw v}},p.frameTimeFactor=10,p}(e(35980).AsyncScheduler);c.VirtualTimeScheduler=d;var r=function(l){function p(h,m,_){void 0===_&&(_=h.index+=1);var v=l.call(this,h,m)||this;return v.scheduler=h,v.work=m,v.index=_,v.active=!0,v.index=h.index=_,v}return t(p,l),p.prototype.schedule=function(h,m){if(void 0===m&&(m=0),Number.isFinite(m)){if(!this.id)return l.prototype.schedule.call(this,h,m);this.active=!1;var _=new p(this.scheduler,this.work);return this.add(_),_.schedule(h,m)}return a.Subscription.EMPTY},p.prototype.requestAsyncId=function(h,m,_){void 0===_&&(_=0),this.delay=h.frame+_;var v=h.actions;return v.push(this),v.sort(p.sortActions),1},p.prototype.recycleAsyncId=function(h,m,_){void 0===_&&(_=0)},p.prototype._execute=function(h,m){if(!0===this.active)return l.prototype._execute.call(this,h,m)},p.sortActions=function(h,m){return h.delay===m.delay?h.index===m.index?0:h.index>m.index?1:-1:h.delay>m.delay?1:-1},p}(n.AsyncAction);c.VirtualAction=r},83150:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrame=c.animationFrameScheduler=void 0;var t=e(44345),n=e(99192);c.animationFrameScheduler=new n.AnimationFrameScheduler(t.AnimationFrameAction),c.animationFrame=c.animationFrameScheduler},81906:function(R,c,e){"use strict";var t=this&&this.__read||function(i,d){var r="function"==typeof Symbol&&i[Symbol.iterator];if(!r)return i;var p,m,l=r.call(i),h=[];try{for(;(void 0===d||d-- >0)&&!(p=l.next()).done;)h.push(p.value)}catch(_){m={error:_}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(m)throw m.error}}return h},n=this&&this.__spreadArray||function(i,d){for(var r=0,l=d.length,p=i.length;r<l;r++,p++)i[p]=d[r];return i};Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrameProvider=void 0;var a=e(82041);c.animationFrameProvider={schedule:function(i){var d=requestAnimationFrame,r=cancelAnimationFrame,l=c.animationFrameProvider.delegate;l&&(d=l.requestAnimationFrame,r=l.cancelAnimationFrame);var p=d(function(h){r=void 0,i(h)});return new a.Subscription(function(){return r?.(p)})},requestAnimationFrame:function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];return(c.animationFrameProvider.delegate?.requestAnimationFrame||requestAnimationFrame).apply(void 0,n([],t(i)))},cancelAnimationFrame:function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];return(c.animationFrameProvider.delegate?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,n([],t(i)))},delegate:void 0}},6472:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.asap=c.asapScheduler=void 0;var t=e(31163),n=e(7154);c.asapScheduler=new n.AsapScheduler(t.AsapAction),c.asap=c.asapScheduler},41995:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.async=c.asyncScheduler=void 0;var t=e(14490),n=e(35980);c.asyncScheduler=new n.AsyncScheduler(t.AsyncAction),c.async=c.asyncScheduler},56862:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dateTimestampProvider=void 0,c.dateTimestampProvider={now:function(){return(c.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},80954:function(R,c,e){"use strict";var t=this&&this.__read||function(r,l){var p="function"==typeof Symbol&&r[Symbol.iterator];if(!p)return r;var m,v,h=p.call(r),_=[];try{for(;(void 0===l||l-- >0)&&!(m=h.next()).done;)_.push(m.value)}catch(y){v={error:y}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(v)throw v.error}}return _},n=this&&this.__spreadArray||function(r,l){for(var p=0,h=l.length,m=r.length;p<h;p++,m++)r[m]=l[p];return r};Object.defineProperty(c,"__esModule",{value:!0}),c.immediateProvider=void 0;var a=e(85251),i=a.Immediate.setImmediate,d=a.Immediate.clearImmediate;c.immediateProvider={setImmediate:function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];return(c.immediateProvider.delegate?.setImmediate||i).apply(void 0,n([],t(r)))},clearImmediate:function(r){return(c.immediateProvider.delegate?.clearImmediate||d)(r)},delegate:void 0}},49118:function(R,c){"use strict";var e=this&&this.__read||function(n,a){var i="function"==typeof Symbol&&n[Symbol.iterator];if(!i)return n;var r,p,d=i.call(n),l=[];try{for(;(void 0===a||a-- >0)&&!(r=d.next()).done;)l.push(r.value)}catch(h){p={error:h}}finally{try{r&&!r.done&&(i=d.return)&&i.call(d)}finally{if(p)throw p.error}}return l},t=this&&this.__spreadArray||function(n,a){for(var i=0,d=a.length,r=n.length;i<d;i++,r++)n[r]=a[i];return n};Object.defineProperty(c,"__esModule",{value:!0}),c.intervalProvider=void 0,c.intervalProvider={setInterval:function(n,a){for(var i=[],d=2;d<arguments.length;d++)i[d-2]=arguments[d];var r=c.intervalProvider.delegate;return r?.setInterval?r.setInterval.apply(r,t([n,a],e(i))):setInterval.apply(void 0,t([n,a],e(i)))},clearInterval:function(n){return(c.intervalProvider.delegate?.clearInterval||clearInterval)(n)},delegate:void 0}},68134:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.performanceTimestampProvider=void 0,c.performanceTimestampProvider={now:function(){return(c.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},76280:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.queue=c.queueScheduler=void 0;var t=e(65760),n=e(75800);c.queueScheduler=new n.QueueScheduler(t.QueueAction),c.queue=c.queueScheduler},65169:function(R,c){"use strict";var e=this&&this.__read||function(n,a){var i="function"==typeof Symbol&&n[Symbol.iterator];if(!i)return n;var r,p,d=i.call(n),l=[];try{for(;(void 0===a||a-- >0)&&!(r=d.next()).done;)l.push(r.value)}catch(h){p={error:h}}finally{try{r&&!r.done&&(i=d.return)&&i.call(d)}finally{if(p)throw p.error}}return l},t=this&&this.__spreadArray||function(n,a){for(var i=0,d=a.length,r=n.length;i<d;i++,r++)n[r]=a[i];return n};Object.defineProperty(c,"__esModule",{value:!0}),c.timeoutProvider=void 0,c.timeoutProvider={setTimeout:function(n,a){for(var i=[],d=2;d<arguments.length;d++)i[d-2]=arguments[d];var r=c.timeoutProvider.delegate;return r?.setTimeout?r.setTimeout.apply(r,t([n,a],e(i))):setTimeout.apply(void 0,t([n,a],e(i)))},clearTimeout:function(n){return(c.timeoutProvider.delegate?.clearTimeout||clearTimeout)(n)},delegate:void 0}},83015:(R,c)=>{"use strict";function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(c,"__esModule",{value:!0}),c.iterator=c.getSymbolIterator=void 0,c.getSymbolIterator=e,c.iterator=e()},84573:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observable=void 0,c.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},86345:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0})},29658:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ArgumentOutOfRangeError=void 0;var t=e(48098);c.ArgumentOutOfRangeError=t.createErrorClass(function(n){return function(){n(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},68113:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EmptyError=void 0;var t=e(48098);c.EmptyError=t.createErrorClass(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}})},85251:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TestTools=c.Immediate=void 0;var t,e=1,n={};function a(i){return i in n&&(delete n[i],!0)}c.Immediate={setImmediate:function(i){var d=e++;return n[d]=!0,t||(t=Promise.resolve()),t.then(function(){return a(d)&&i()}),d},clearImmediate:function(i){a(i)}},c.TestTools={pending:function(){return Object.keys(n).length}}},18554:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.NotFoundError=void 0;var t=e(48098);c.NotFoundError=t.createErrorClass(function(n){return function(i){n(this),this.name="NotFoundError",this.message=i}})},1984:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ObjectUnsubscribedError=void 0;var t=e(48098);c.ObjectUnsubscribedError=t.createErrorClass(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},52853:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SequenceError=void 0;var t=e(48098);c.SequenceError=t.createErrorClass(function(n){return function(i){n(this),this.name="SequenceError",this.message=i}})},12204:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.UnsubscriptionError=void 0;var t=e(48098);c.UnsubscriptionError=t.createErrorClass(function(n){return function(i){n(this),this.message=i?i.length+" errors occurred during unsubscription:\n"+i.map(function(d,r){return r+1+") "+d.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=i}})},24246:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.popNumber=c.popScheduler=c.popResultSelector=void 0;var t=e(20449),n=e(23042);function a(l){return l[l.length-1]}c.popResultSelector=function i(l){return t.isFunction(a(l))?l.pop():void 0},c.popScheduler=function d(l){return n.isScheduler(a(l))?l.pop():void 0},c.popNumber=function r(l,p){return"number"==typeof a(l)?l.pop():p}},81398:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.argsArgArrayOrObject=void 0;var e=Array.isArray,t=Object.getPrototypeOf,n=Object.prototype,a=Object.keys;c.argsArgArrayOrObject=function i(r){if(1===r.length){var l=r[0];if(e(l))return{args:l,keys:null};if(function d(r){return r&&"object"==typeof r&&t(r)===n}(l)){var p=a(l);return{args:p.map(function(h){return l[h]}),keys:p}}}return{args:r,keys:null}}},72459:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.argsOrArgArray=void 0;var e=Array.isArray;c.argsOrArgArray=function t(n){return 1===n.length&&e(n[0])?n[0]:n}},3562:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.arrRemove=void 0,c.arrRemove=function e(t,n){if(t){var a=t.indexOf(n);0<=a&&t.splice(a,1)}}},48098:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createErrorClass=void 0,c.createErrorClass=function e(t){var a=t(function(i){Error.call(i),i.stack=(new Error).stack});return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}},61321:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createObject=void 0,c.createObject=function e(t,n){return t.reduce(function(a,i,d){return a[i]=n[d],a},{})}},96371:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.captureError=c.errorContext=void 0;var t=e(97053),n=null;c.errorContext=function a(d){if(t.config.useDeprecatedSynchronousErrorHandling){var r=!n;if(r&&(n={errorThrown:!1,error:null}),d(),r){var l=n;if(n=null,l.errorThrown)throw l.error}}else d()},c.captureError=function i(d){t.config.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=d)}},13254:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.executeSchedule=void 0,c.executeSchedule=function e(t,n,a,i,d){void 0===i&&(i=0),void 0===d&&(d=!1);var r=n.schedule(function(){a(),d?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(r),!d)return r}},98296:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.identity=void 0,c.identity=function e(t){return t}},85930:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isArrayLike=void 0,c.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},7873:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAsyncIterable=void 0;var t=e(20449);c.isAsyncIterable=function n(a){return Symbol.asyncIterator&&t.isFunction(a?.[Symbol.asyncIterator])}},38575:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidDate=void 0,c.isValidDate=function e(t){return t instanceof Date&&!isNaN(t)}},20449:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isFunction=void 0,c.isFunction=function e(t){return"function"==typeof t}},11288:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isInteropObservable=void 0;var t=e(84573),n=e(20449);c.isInteropObservable=function a(i){return n.isFunction(i[t.observable])}},84949:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isIterable=void 0;var t=e(83015),n=e(20449);c.isIterable=function a(i){return n.isFunction(i?.[t.iterator])}},12615:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isObservable=void 0;var t=e(95798),n=e(20449);c.isObservable=function a(i){return!!i&&(i instanceof t.Observable||n.isFunction(i.lift)&&n.isFunction(i.subscribe))}},73284:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isPromise=void 0;var t=e(20449);c.isPromise=function n(a){return t.isFunction(a?.then)}},52681:function(R,c,e){"use strict";var t=this&&this.__generator||function(l,p){var m,_,v,y,h={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function O(b){return function(o){return function S(b){if(m)throw new TypeError("Generator is already executing.");for(;h;)try{if(m=1,_&&(v=2&b[0]?_.return:b[0]?_.throw||((v=_.return)&&v.call(_),0):_.next)&&!(v=v.call(_,b[1])).done)return v;switch(_=0,v&&(b=[2&b[0],v.value]),b[0]){case 0:case 1:v=b;break;case 4:return h.label++,{value:b[1],done:!1};case 5:h.label++,_=b[1],b=[0];continue;case 7:b=h.ops.pop(),h.trys.pop();continue;default:if(!(v=(v=h.trys).length>0&&v[v.length-1])&&(6===b[0]||2===b[0])){h=0;continue}if(3===b[0]&&(!v||b[1]>v[0]&&b[1]<v[3])){h.label=b[1];break}if(6===b[0]&&h.label<v[1]){h.label=v[1],v=b;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(b);break}v[2]&&h.ops.pop(),h.trys.pop();continue}b=p.call(l,h)}catch(o){b=[6,o],_=0}finally{m=v=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,o])}}},n=this&&this.__await||function(l){return this instanceof n?(this.v=l,this):new n(l)},a=this&&this.__asyncGenerator||function(l,p,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=h.apply(l,p||[]),v=[];return _={},y("next"),y("throw"),y("return"),_[Symbol.asyncIterator]=function(){return this},_;function y(M){m[M]&&(_[M]=function(C){return new Promise(function(T,g){v.push([M,C,T,g])>1||O(M,C)})})}function O(M,C){try{!function S(M){M.value instanceof n?Promise.resolve(M.value.v).then(b,o):D(v[0][2],M)}(m[M](C))}catch(T){D(v[0][3],T)}}function b(M){O("next",M)}function o(M){O("throw",M)}function D(M,C){M(C),v.shift(),v.length&&O(v[0][0],v[0][1])}};Object.defineProperty(c,"__esModule",{value:!0}),c.isReadableStreamLike=c.readableStreamLikeToAsyncGenerator=void 0;var i=e(20449);c.readableStreamLikeToAsyncGenerator=function d(l){return a(this,arguments,function(){var h,m,_;return t(this,function(y){switch(y.label){case 0:h=l.getReader(),y.label=1;case 1:y.trys.push([1,,9,10]),y.label=2;case 2:return[4,n(h.read())];case 3:return m=y.sent(),_=m.value,m.done?[4,n(void 0)]:[3,5];case 4:return[2,y.sent()];case 5:return[4,n(_)];case 6:return[4,y.sent()];case 7:return y.sent(),[3,2];case 8:return[3,10];case 9:return h.releaseLock(),[7];case 10:return[2]}})})},c.isReadableStreamLike=function r(l){return i.isFunction(l?.getReader)}},23042:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isScheduler=void 0;var t=e(20449);c.isScheduler=function n(a){return a&&t.isFunction(a.schedule)}},76235:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.operate=c.hasLift=void 0;var t=e(20449);function n(i){return t.isFunction(i?.lift)}c.hasLift=n,c.operate=function a(i){return function(d){if(n(d))return d.lift(function(r){try{return i(r,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}},40454:function(R,c,e){"use strict";var t=this&&this.__read||function(l,p){var h="function"==typeof Symbol&&l[Symbol.iterator];if(!h)return l;var _,y,m=h.call(l),v=[];try{for(;(void 0===p||p-- >0)&&!(_=m.next()).done;)v.push(_.value)}catch(O){y={error:O}}finally{try{_&&!_.done&&(h=m.return)&&h.call(m)}finally{if(y)throw y.error}}return v},n=this&&this.__spreadArray||function(l,p){for(var h=0,m=p.length,_=l.length;h<m;h++,_++)l[_]=p[h];return l};Object.defineProperty(c,"__esModule",{value:!0}),c.mapOneOrManyArgs=void 0;var a=e(81209),i=Array.isArray;c.mapOneOrManyArgs=function r(l){return a.map(function(p){return function d(l,p){return i(p)?l.apply(void 0,n([],t(p))):l(p)}(l,p)})}},49279:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.noop=void 0,c.noop=function e(){}},90678:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.not=void 0,c.not=function e(t,n){return function(a,i){return!t.call(n,a,i)}}},96246:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pipeFromArray=c.pipe=void 0;var t=e(98296);function a(i){return 0===i.length?t.identity:1===i.length?i[0]:function(r){return i.reduce(function(l,p){return p(l)},r)}}c.pipe=function n(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];return a(i)},c.pipeFromArray=a},86579:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.reportUnhandledError=void 0;var t=e(97053),n=e(65169);c.reportUnhandledError=function a(i){n.timeoutProvider.setTimeout(function(){var d=t.config.onUnhandledError;if(!d)throw i;d(i)})}},77462:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createInvalidObservableTypeError=void 0,c.createInvalidObservableTypeError=function e(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},1330:(R,c,e)=>{"use strict";e.d(c,{c:()=>n});var t=e(1828);class n extends t.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(i){const{hasError:d,_hasValue:r,_value:l,thrownError:p,isStopped:h,_isComplete:m}=this;d?i.error(p):(h||m)&&(r&&i.next(l),i.complete())}next(i){this.isStopped||(this._value=i,this._hasValue=!0)}complete(){const{_hasValue:i,_value:d,_isComplete:r}=this;r||(this._isComplete=!0,i&&super.next(d),super.complete())}}},35841:(R,c,e)=>{"use strict";e.d(c,{X:()=>n});var t=e(1828);class n extends t.x{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const d=super._subscribe(i);return!d.closed&&i.next(this._value),d}getValue(){const{hasError:i,thrownError:d,_value:r}=this;if(i)throw d;return this._throwIfClosed(),r}next(i){super.next(this._value=i)}}},42878:(R,c,e)=>{"use strict";e.d(c,{y:()=>p});var t=e(45479),n=e(40024),a=e(92718),i=e(91809),d=e(92017),r=e(48490),l=e(86329);let p=(()=>{class v{constructor(O){O&&(this._subscribe=O)}lift(O){const S=new v;return S.source=this,S.operator=O,S}subscribe(O,S,b){const o=function _(v){return v&&v instanceof t.Lv||function m(v){return v&&(0,r.m)(v.next)&&(0,r.m)(v.error)&&(0,r.m)(v.complete)}(v)&&(0,n.Nn)(v)}(O)?O:new t.Hp(O,S,b);return(0,l.x)(()=>{const{operator:D,source:M}=this;o.add(D?D.call(o,M):M?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(O){try{return this._subscribe(O)}catch(S){O.error(S)}}forEach(O,S){return new(S=h(S))((b,o)=>{const D=new t.Hp({next:M=>{try{O(M)}catch(C){o(C),D.unsubscribe()}},error:o,complete:b});this.subscribe(D)})}_subscribe(O){var S;return null===(S=this.source)||void 0===S?void 0:S.subscribe(O)}[a.L](){return this}pipe(...O){return(0,i.U)(O)(this)}toPromise(O){return new(O=h(O))((S,b)=>{let o;this.subscribe(D=>o=D,D=>b(D),()=>S(o))})}}return v.create=y=>new v(y),v})();function h(v){var y;return null!==(y=v??d.v.Promise)&&void 0!==y?y:Promise}},92527:(R,c,e)=>{"use strict";e.d(c,{t:()=>a});var t=e(1828),n=e(37088);class a extends t.x{constructor(d=1/0,r=1/0,l=n.l){super(),this._bufferSize=d,this._windowTime=r,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,d),this._windowTime=Math.max(1,r)}next(d){const{isStopped:r,_buffer:l,_infiniteTimeWindow:p,_timestampProvider:h,_windowTime:m}=this;r||(l.push(d),!p&&l.push(h.now()+m)),this._trimBuffer(),super.next(d)}_subscribe(d){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(d),{_infiniteTimeWindow:l,_buffer:p}=this,h=p.slice();for(let m=0;m<h.length&&!d.closed;m+=l?1:2)d.next(h[m]);return this._checkFinalizedStatuses(d),r}_trimBuffer(){const{_bufferSize:d,_timestampProvider:r,_buffer:l,_infiniteTimeWindow:p}=this,h=(p?1:2)*d;if(d<1/0&&h<l.length&&l.splice(0,l.length-h),!p){const m=r.now();let _=0;for(let v=1;v<l.length&&l[v]<=m;v+=2)_=v;_&&l.splice(0,_+1)}}}},1828:(R,c,e)=>{"use strict";e.d(c,{x:()=>l});var t=e(42878),n=e(40024);const i=(0,e(3336).d)(h=>function(){h(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var d=e(370),r=e(86329);let l=(()=>{class h extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_){const v=new p(this,this);return v.operator=_,v}_throwIfClosed(){if(this.closed)throw new i}next(_){(0,r.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(_)}})}error(_){(0,r.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_;const{observers:v}=this;for(;v.length;)v.shift().error(_)}})}complete(){(0,r.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_}=this;for(;_.length;)_.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _;return(null===(_=this.observers)||void 0===_?void 0:_.length)>0}_trySubscribe(_){return this._throwIfClosed(),super._trySubscribe(_)}_subscribe(_){return this._throwIfClosed(),this._checkFinalizedStatuses(_),this._innerSubscribe(_)}_innerSubscribe(_){const{hasError:v,isStopped:y,observers:O}=this;return v||y?n.Lc:(this.currentObservers=null,O.push(_),new n.w0(()=>{this.currentObservers=null,(0,d.P)(O,_)}))}_checkFinalizedStatuses(_){const{hasError:v,thrownError:y,isStopped:O}=this;v?_.error(y):O&&_.complete()}asObservable(){const _=new t.y;return _.source=this,_}}return h.create=(m,_)=>new p(m,_),h})();class p extends l{constructor(m,_){super(),this.destination=m,this.source=_}next(m){var _,v;null===(v=null===(_=this.destination)||void 0===_?void 0:_.next)||void 0===v||v.call(_,m)}error(m){var _,v;null===(v=null===(_=this.destination)||void 0===_?void 0:_.error)||void 0===v||v.call(_,m)}complete(){var m,_;null===(_=null===(m=this.destination)||void 0===m?void 0:m.complete)||void 0===_||_.call(m)}_subscribe(m){var _,v;return null!==(v=null===(_=this.source)||void 0===_?void 0:_.subscribe(m))&&void 0!==v?v:n.Lc}}},45479:(R,c,e)=>{"use strict";e.d(c,{Hp:()=>b,Lv:()=>v});var t=e(48490),n=e(40024),a=e(92017),i=e(33740),d=e(34589);const r=h("C",void 0,void 0);function h(T,g,U){return{kind:T,value:g,error:U}}var m=e(58928),_=e(86329);class v extends n.w0{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,(0,n.Nn)(g)&&g.add(this)):this.destination=C}static create(g,U,L){return new b(g,U,L)}next(g){this.isStopped?M(function p(T){return h("N",T,void 0)}(g),this):this._next(g)}error(g){this.isStopped?M(function l(T){return h("E",void 0,T)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?M(r,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const y=Function.prototype.bind;function O(T,g){return y.call(T,g)}class S{constructor(g){this.partialObserver=g}next(g){const{partialObserver:U}=this;if(U.next)try{U.next(g)}catch(L){o(L)}}error(g){const{partialObserver:U}=this;if(U.error)try{U.error(g)}catch(L){o(L)}else o(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(U){o(U)}}}class b extends v{constructor(g,U,L){let j;if(super(),(0,t.m)(g)||!g)j={next:g??void 0,error:U??void 0,complete:L??void 0};else{let $;this&&a.v.useDeprecatedNextContext?($=Object.create(g),$.unsubscribe=()=>this.unsubscribe(),j={next:g.next&&O(g.next,$),error:g.error&&O(g.error,$),complete:g.complete&&O(g.complete,$)}):j=g}this.destination=new S(j)}}function o(T){a.v.useDeprecatedSynchronousErrorHandling?(0,_.O)(T):(0,i.h)(T)}function M(T,g){const{onStoppedNotification:U}=a.v;U&&m.z.setTimeout(()=>U(T,g))}const C={closed:!0,next:d.Z,error:function D(T){throw T},complete:d.Z}},40024:(R,c,e)=>{"use strict";e.d(c,{Lc:()=>r,w0:()=>d,Nn:()=>l});var t=e(48490);const a=(0,e(3336).d)(h=>function(_){h(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((v,y)=>`${y+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_});var i=e(370);class d{constructor(m){this.initialTeardown=m,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let m;if(!this.closed){this.closed=!0;const{_parentage:_}=this;if(_)if(this._parentage=null,Array.isArray(_))for(const O of _)O.remove(this);else _.remove(this);const{initialTeardown:v}=this;if((0,t.m)(v))try{v()}catch(O){m=O instanceof a?O.errors:[O]}const{_finalizers:y}=this;if(y){this._finalizers=null;for(const O of y)try{p(O)}catch(S){m=m??[],S instanceof a?m=[...m,...S.errors]:m.push(S)}}if(m)throw new a(m)}}add(m){var _;if(m&&m!==this)if(this.closed)p(m);else{if(m instanceof d){if(m.closed||m._hasParent(this))return;m._addParent(this)}(this._finalizers=null!==(_=this._finalizers)&&void 0!==_?_:[]).push(m)}}_hasParent(m){const{_parentage:_}=this;return _===m||Array.isArray(_)&&_.includes(m)}_addParent(m){const{_parentage:_}=this;this._parentage=Array.isArray(_)?(_.push(m),_):_?[_,m]:m}_removeParent(m){const{_parentage:_}=this;_===m?this._parentage=null:Array.isArray(_)&&(0,i.P)(_,m)}remove(m){const{_finalizers:_}=this;_&&(0,i.P)(_,m),m instanceof d&&m._removeParent(this)}}d.EMPTY=(()=>{const h=new d;return h.closed=!0,h})();const r=d.EMPTY;function l(h){return h instanceof d||h&&"closed"in h&&(0,t.m)(h.remove)&&(0,t.m)(h.add)&&(0,t.m)(h.unsubscribe)}function p(h){(0,t.m)(h)?h():h.unsubscribe()}},92017:(R,c,e)=>{"use strict";e.d(c,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},93591:(R,c,e)=>{"use strict";e.d(c,{c:()=>r});var t=e(42878),n=e(40024),a=e(76771),i=e(58886),d=e(77025);class r extends t.y{constructor(p,h){super(),this.source=p,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,d.A)(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,p?.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new n.w0;const h=this.getSubject();p.add(this.source.subscribe((0,i.x)(h,void 0,()=>{this._teardown(),h.complete()},m=>{this._teardown(),h.error(m)},()=>this._teardown()))),p.closed&&(this._connection=null,p=n.w0.EMPTY)}return p}refCount(){return(0,a.x)()(this)}}},53426:(R,c,e)=>{"use strict";e.d(c,{a:()=>m,l:()=>_});var t=e(42878),n=e(52447),a=e(14111),i=e(14789),d=e(90910),r=e(80863),l=e(73776),p=e(58886),h=e(24243);function m(...y){const O=(0,r.yG)(y),S=(0,r.jO)(y),{args:b,keys:o}=(0,n.D)(y);if(0===b.length)return(0,a.D)([],O);const D=new t.y(_(b,O,o?M=>(0,l.n)(o,M):i.y));return S?D.pipe((0,d.Z)(S)):D}function _(y,O,S=i.y){return b=>{v(O,()=>{const{length:o}=y,D=new Array(o);let M=o,C=o;for(let T=0;T<o;T++)v(O,()=>{const g=(0,a.D)(y[T],O);let U=!1;g.subscribe((0,p.x)(b,L=>{D[T]=L,U||(U=!0,C--),C||b.next(S(D.slice()))},()=>{--M||b.complete()}))},b)},b)}}function v(y,O,S){y?(0,h.f)(S,y,O):O()}},34146:(R,c,e)=>{"use strict";e.d(c,{z:()=>i});var t=e(68839),n=e(80863),a=e(14111);function i(...d){return(0,t.u)()((0,a.D)(d,(0,n.yG)(d)))}},43651:(R,c,e)=>{"use strict";e.d(c,{P:()=>a});var t=e(42878),n=e(73522);function a(i){return new t.y(d=>{(0,n.Xf)(i()).subscribe(d)})}},27164:(R,c,e)=>{"use strict";e.d(c,{E:()=>n});const n=new(e(42878).y)(d=>d.complete())},90654:(R,c,e)=>{"use strict";e.d(c,{D:()=>p});var t=e(42878),n=e(52447),a=e(73522),i=e(80863),d=e(58886),r=e(90910),l=e(73776);function p(...h){const m=(0,i.jO)(h),{args:_,keys:v}=(0,n.D)(h),y=new t.y(O=>{const{length:S}=_;if(!S)return void O.complete();const b=new Array(S);let o=S,D=S;for(let M=0;M<S;M++){let C=!1;(0,a.Xf)(_[M]).subscribe((0,d.x)(O,T=>{C||(C=!0,D--),b[M]=T},()=>o--,void 0,()=>{(!o||!C)&&(D||O.next(v?(0,l.n)(v,b):b),O.complete())}))}});return m?y.pipe((0,r.Z)(m)):y}},14111:(R,c,e)=>{"use strict";e.d(c,{D:()=>U});var t=e(73522),n=e(91233),a=e(77025);function i(L,j=0){return(0,a.e)(($,z)=>{z.add(L.schedule(()=>$.subscribe(z),j))})}var l=e(42878),h=e(55183),m=e(48490),_=e(24243);function y(L,j){if(!L)throw new Error("Iterable cannot be null");return new l.y($=>{(0,_.f)($,j,()=>{const z=L[Symbol.asyncIterator]();(0,_.f)($,j,()=>{z.next().then(re=>{re.done?$.complete():$.next(re.value)})},0,!0)})})}var O=e(21601),S=e(99040),b=e(34733),o=e(55699),D=e(50426),M=e(71575),C=e(56793);function U(L,j){return j?function g(L,j){if(null!=L){if((0,O.c)(L))return function d(L,j){return(0,t.Xf)(L).pipe(i(j),(0,n.Q)(j))}(L,j);if((0,b.z)(L))return function p(L,j){return new l.y($=>{let z=0;return j.schedule(function(){z===L.length?$.complete():($.next(L[z++]),$.closed||this.schedule())})})}(L,j);if((0,S.t)(L))return function r(L,j){return(0,t.Xf)(L).pipe(i(j),(0,n.Q)(j))}(L,j);if((0,D.D)(L))return y(L,j);if((0,o.T)(L))return function v(L,j){return new l.y($=>{let z;return(0,_.f)($,j,()=>{z=L[h.h](),(0,_.f)($,j,()=>{let re,W;try{({value:re,done:W}=z.next())}catch(ie){return void $.error(ie)}W?$.complete():$.next(re)},0,!0)}),()=>(0,m.m)(z?.return)&&z.return()})}(L,j);if((0,C.L)(L))return function T(L,j){return y((0,C.Q)(L),j)}(L,j)}throw(0,M.z)(L)}(L,j):(0,t.Xf)(L)}},43035:(R,c,e)=>{"use strict";e.d(c,{R:()=>m});var t=e(73522),n=e(42878),a=e(69637),i=e(34733),d=e(48490),r=e(90910);const l=["addListener","removeListener"],p=["addEventListener","removeEventListener"],h=["on","off"];function m(S,b,o,D){if((0,d.m)(o)&&(D=o,o=void 0),D)return m(S,b,o).pipe((0,r.Z)(D));const[M,C]=function O(S){return(0,d.m)(S.addEventListener)&&(0,d.m)(S.removeEventListener)}(S)?p.map(T=>g=>S[T](b,g,o)):function v(S){return(0,d.m)(S.addListener)&&(0,d.m)(S.removeListener)}(S)?l.map(_(S,b)):function y(S){return(0,d.m)(S.on)&&(0,d.m)(S.off)}(S)?h.map(_(S,b)):[];if(!M&&(0,i.z)(S))return(0,a.z)(T=>m(T,b,o))((0,t.Xf)(S));if(!M)throw new TypeError("Invalid event target");return new n.y(T=>{const g=(...U)=>T.next(1<U.length?U:U[0]);return M(g),()=>C(g)})}function _(S,b){return o=>D=>S[o](b,D)}},73522:(R,c,e)=>{"use strict";e.d(c,{Xf:()=>y});var t=e(70655),n=e(34733),a=e(99040),i=e(42878),d=e(21601),r=e(50426),l=e(71575),p=e(55699),h=e(56793),m=e(48490),_=e(33740),v=e(92718);function y(T){if(T instanceof i.y)return T;if(null!=T){if((0,d.c)(T))return function O(T){return new i.y(g=>{const U=T[v.L]();if((0,m.m)(U.subscribe))return U.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,n.z)(T))return function S(T){return new i.y(g=>{for(let U=0;U<T.length&&!g.closed;U++)g.next(T[U]);g.complete()})}(T);if((0,a.t)(T))return function b(T){return new i.y(g=>{T.then(U=>{g.closed||(g.next(U),g.complete())},U=>g.error(U)).then(null,_.h)})}(T);if((0,r.D)(T))return D(T);if((0,p.T)(T))return function o(T){return new i.y(g=>{for(const U of T)if(g.next(U),g.closed)return;g.complete()})}(T);if((0,h.L)(T))return function M(T){return D((0,h.Q)(T))}(T)}throw(0,l.z)(T)}function D(T){return new i.y(g=>{(function C(T,g){var U,L,j,$;return(0,t.__awaiter)(this,void 0,void 0,function*(){try{for(U=(0,t.__asyncValues)(T);!(L=yield U.next()).done;)if(g.next(L.value),g.closed)return}catch(z){j={error:z}}finally{try{L&&!L.done&&($=U.return)&&(yield $.call(U))}finally{if(j)throw j.error}}g.complete()})})(T,g).catch(U=>g.error(U))})}},2703:(R,c,e)=>{"use strict";e.d(c,{F:()=>a});var t=e(84072),n=e(26729);function a(i=0,d=t.z){return i<0&&(i=0),(0,n.H)(i,i,d)}},29054:(R,c,e)=>{"use strict";e.d(c,{T:()=>r});var t=e(55969),n=e(73522),a=e(27164),i=e(80863),d=e(14111);function r(...l){const p=(0,i.yG)(l),h=(0,i._6)(l,1/0),m=l;return m.length?1===m.length?(0,n.Xf)(m[0]):(0,t.J)(h)((0,d.D)(m,p)):a.E}},9237:(R,c,e)=>{"use strict";e.d(c,{of:()=>a});var t=e(80863),n=e(14111);function a(...i){const d=(0,t.yG)(i);return(0,n.D)(i,d)}},56615:(R,c,e)=>{"use strict";e.d(c,{S:()=>d});var t=e(42878),n=e(73522),a=e(62103),i=e(58886);function d(...l){return 1===(l=(0,a.k)(l)).length?(0,n.Xf)(l[0]):new t.y(function r(l){return p=>{let h=[];for(let m=0;h&&!p.closed&&m<l.length;m++)h.push((0,n.Xf)(l[m]).subscribe((0,i.x)(p,_=>{if(h){for(let v=0;v<h.length;v++)v!==m&&h[v].unsubscribe();h=null}p.next(_)})))}}(l))}},99911:(R,c,e)=>{"use strict";e.d(c,{_:()=>a});var t=e(42878),n=e(48490);function a(i,d){const r=(0,n.m)(i)?i:()=>i,l=p=>p.error(r());return new t.y(d?p=>d.schedule(l,0,p):l)}},26729:(R,c,e)=>{"use strict";e.d(c,{H:()=>d});var t=e(42878),n=e(84072),a=e(7976);function d(r=0,l,p=n.P){let h=-1;return null!=l&&((0,a.K)(l)?p=l:h=l),new t.y(m=>{let _=function i(r){return r instanceof Date&&!isNaN(r)}(r)?+r-p.now():r;_<0&&(_=0);let v=0;return p.schedule(function(){m.closed||(m.next(v++),0<=h?this.schedule(void 0,h):m.complete())},_)})}},60276:(R,c,e)=>{"use strict";e.d(c,{$:()=>l});var t=e(42878),n=e(73522),a=e(62103),i=e(27164),d=e(58886),r=e(80863);function l(...p){const h=(0,r.jO)(p),m=(0,a.k)(p);return m.length?new t.y(_=>{let v=m.map(()=>[]),y=m.map(()=>!1);_.add(()=>{v=y=null});for(let O=0;!_.closed&&O<m.length;O++)(0,n.Xf)(m[O]).subscribe((0,d.x)(_,S=>{if(v[O].push(S),v.every(b=>b.length)){const b=v.map(o=>o.shift());_.next(h?h(...b):b),v.some((o,D)=>!o.length&&y[D])&&_.complete()}},()=>{y[O]=!0,!v[O].length&&_.complete()}));return()=>{v=y=null}}):i.E}},58886:(R,c,e)=>{"use strict";e.d(c,{Q:()=>a,x:()=>n});var t=e(45479);function n(i,d,r,l,p){return new a(i,d,r,l,p)}class a extends t.Lv{constructor(d,r,l,p,h,m){super(d),this.onFinalize=h,this.shouldUnsubscribe=m,this._next=r?function(_){try{r(_)}catch(v){d.error(v)}}:super._next,this._error=p?function(_){try{p(_)}catch(v){d.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=l?function(){try{l()}catch(_){d.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var d;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(d=this.onFinalize)||void 0===d||d.call(this))}}}},9249:(R,c,e)=>{"use strict";e.d(c,{K:()=>i});var t=e(73522),n=e(58886),a=e(77025);function i(d){return(0,a.e)((r,l)=>{let m,p=null,h=!1;p=r.subscribe((0,n.x)(l,void 0,void 0,_=>{m=(0,t.Xf)(d(_,i(d)(r))),p?(p.unsubscribe(),p=null,m.subscribe(l)):h=!0})),h&&(p.unsubscribe(),p=null,m.subscribe(l))})}},68839:(R,c,e)=>{"use strict";e.d(c,{u:()=>n});var t=e(55969);function n(){return(0,t.J)(1)}},27193:(R,c,e)=>{"use strict";e.d(c,{b:()=>a});var t=e(69637),n=e(48490);function a(i,d){return(0,n.m)(d)?(0,t.z)(i,d,1):(0,t.z)(i,1)}},3358:(R,c,e)=>{"use strict";e.d(c,{b:()=>i});var t=e(84072),n=e(77025),a=e(58886);function i(d,r=t.z){return(0,n.e)((l,p)=>{let h=null,m=null,_=null;const v=()=>{if(h){h.unsubscribe(),h=null;const O=m;m=null,p.next(O)}};function y(){const O=_+d,S=r.now();if(S<O)return h=this.schedule(void 0,O-S),void p.add(h);v()}l.subscribe((0,a.x)(p,O=>{m=O,_=r.now(),h||(h=r.schedule(y,d),p.add(h))},()=>{v(),p.complete()},void 0,()=>{m=h=null}))})}},71891:(R,c,e)=>{"use strict";e.d(c,{d:()=>a});var t=e(77025),n=e(58886);function a(i){return(0,t.e)((d,r)=>{let l=!1;d.subscribe((0,n.x)(r,p=>{l=!0,r.next(p)},()=>{l||r.next(i),r.complete()}))})}},98843:(R,c,e)=>{"use strict";e.d(c,{g:()=>m});var t=e(84072),n=e(34146),a=e(77176),i=e(81510),d=e(84633),r=e(69637),l=e(73522);function p(_,v){return v?y=>(0,n.z)(v.pipe((0,a.q)(1),(0,i.l)()),y.pipe(p(_))):(0,r.z)((y,O)=>(0,l.Xf)(_(y,O)).pipe((0,a.q)(1),(0,d.h)(y)))}var h=e(26729);function m(_,v=t.z){const y=(0,h.H)(_,v);return p(()=>y)}},49887:(R,c,e)=>{"use strict";e.d(c,{x:()=>i});var t=e(14789),n=e(77025),a=e(58886);function i(r,l=t.y){return r=r??d,(0,n.e)((p,h)=>{let m,_=!0;p.subscribe((0,a.x)(h,v=>{const y=l(v);(_||!r(m,y))&&(_=!1,m=y,h.next(v))}))})}function d(r,l){return r===l}},87317:(R,c,e)=>{"use strict";e.d(c,{z:()=>d});var t=e(48358),n=e(73522),a=e(77025),i=e(58886);function d(r,l){return l?p=>p.pipe(d((h,m)=>(0,n.Xf)(r(h,m)).pipe((0,t.U)((_,v)=>l(h,_,m,v))))):(0,a.e)((p,h)=>{let m=0,_=null,v=!1;p.subscribe((0,i.x)(h,y=>{_||(_=(0,i.x)(h,void 0,()=>{_=null,v&&h.complete()}),(0,n.Xf)(r(y,m++)).subscribe(_))},()=>{v=!0,!_&&h.complete()}))})}},77007:(R,c,e)=>{"use strict";e.d(c,{h:()=>a});var t=e(77025),n=e(58886);function a(i,d){return(0,t.e)((r,l)=>{let p=0;r.subscribe((0,n.x)(l,h=>i.call(d,h,p++)&&l.next(h)))})}},90410:(R,c,e)=>{"use strict";e.d(c,{x:()=>n});var t=e(77025);function n(a){return(0,t.e)((i,d)=>{try{i.subscribe(d)}finally{d.add(a)}})}},66154:(R,c,e)=>{"use strict";e.d(c,{s:()=>a});var t=e(77025),n=e(58886);function a(d,r){return(0,t.e)(function i(d,r,l){const p="index"===l;return(h,m)=>{let _=0;h.subscribe((0,n.x)(m,v=>{const y=_++;d.call(r,v,y,h)&&(m.next(p?y:v),m.complete())},()=>{m.next(p?-1:void 0),m.complete()}))}}(d,r,"value"))}},76215:(R,c,e)=>{"use strict";e.d(c,{P:()=>l});var t=e(24586),n=e(77007),a=e(77176),i=e(71891),d=e(8283),r=e(14789);function l(p,h){const m=arguments.length>=2;return _=>_.pipe(p?(0,n.h)((v,y)=>p(v,y,_)):r.y,(0,a.q)(1),m?(0,i.d)(h):(0,d.T)(()=>new t.K))}},81510:(R,c,e)=>{"use strict";e.d(c,{l:()=>i});var t=e(77025),n=e(58886),a=e(34589);function i(){return(0,t.e)((d,r)=>{d.subscribe((0,n.x)(r,a.Z))})}},77224:(R,c,e)=>{"use strict";e.d(c,{Z:()=>l});var t=e(24586),n=e(77007),a=e(29328),i=e(8283),d=e(71891),r=e(14789);function l(p,h){const m=arguments.length>=2;return _=>_.pipe(p?(0,n.h)((v,y)=>p(v,y,_)):r.y,(0,a.h)(1),m?(0,d.d)(h):(0,i.T)(()=>new t.K))}},48358:(R,c,e)=>{"use strict";e.d(c,{U:()=>a});var t=e(77025),n=e(58886);function a(i,d){return(0,t.e)((r,l)=>{let p=0;r.subscribe((0,n.x)(l,h=>{l.next(i.call(d,h,p++))}))})}},84633:(R,c,e)=>{"use strict";e.d(c,{h:()=>n});var t=e(48358);function n(a){return(0,t.U)(()=>a)}},55969:(R,c,e)=>{"use strict";e.d(c,{J:()=>a});var t=e(69637),n=e(14789);function a(i=1/0){return(0,t.z)(n.y,i)}},76319:(R,c,e)=>{"use strict";e.d(c,{p:()=>i});var t=e(73522),n=e(24243),a=e(58886);function i(d,r,l,p,h,m,_,v){const y=[];let O=0,S=0,b=!1;const o=()=>{b&&!y.length&&!O&&r.complete()},D=C=>O<p?M(C):y.push(C),M=C=>{m&&r.next(C),O++;let T=!1;(0,t.Xf)(l(C,S++)).subscribe((0,a.x)(r,g=>{h?.(g),m?D(g):r.next(g)},()=>{T=!0},void 0,()=>{if(T)try{for(O--;y.length&&O<p;){const g=y.shift();_?(0,n.f)(r,_,()=>M(g)):M(g)}o()}catch(g){r.error(g)}}))};return d.subscribe((0,a.x)(r,D,()=>{b=!0,o()})),()=>{v?.()}}},69637:(R,c,e)=>{"use strict";e.d(c,{z:()=>r});var t=e(48358),n=e(73522),a=e(77025),i=e(76319),d=e(48490);function r(l,p,h=1/0){return(0,d.m)(p)?r((m,_)=>(0,t.U)((v,y)=>p(m,v,_,y))((0,n.Xf)(l(m,_))),h):("number"==typeof p&&(h=p),(0,a.e)((m,_)=>(0,i.p)(m,_,l,h)))}},91233:(R,c,e)=>{"use strict";e.d(c,{Q:()=>i});var t=e(24243),n=e(77025),a=e(58886);function i(d,r=0){return(0,n.e)((l,p)=>{l.subscribe((0,a.x)(p,h=>(0,t.f)(p,d,()=>p.next(h),r),()=>(0,t.f)(p,d,()=>p.complete(),r),h=>(0,t.f)(p,d,()=>p.error(h),r)))})}},32543:(R,c,e)=>{"use strict";e.d(c,{u:()=>a});var t=e(45920),n=e(77025);function a(i,d){return(0,n.e)((0,t.U)(i,d,arguments.length>=2,!1,!0))}},76771:(R,c,e)=>{"use strict";e.d(c,{x:()=>a});var t=e(77025),n=e(58886);function a(){return(0,t.e)((i,d)=>{let r=null;i._refCount++;const l=(0,n.x)(d,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(r=null);const p=i._connection,h=r;r=null,p&&(!h||p===h)&&p.unsubscribe(),d.unsubscribe()});i.subscribe(l),l.closed||(r=i.connect())})}},46897:(R,c,e)=>{"use strict";e.d(c,{R:()=>a});var t=e(77025),n=e(45920);function a(i,d){return(0,t.e)((0,n.U)(i,d,arguments.length>=2,!0))}},45920:(R,c,e)=>{"use strict";e.d(c,{U:()=>n});var t=e(58886);function n(a,i,d,r,l){return(p,h)=>{let m=d,_=i,v=0;p.subscribe((0,t.x)(h,y=>{const O=v++;_=m?a(_,y,O):(m=!0,y),r&&h.next(_)},l&&(()=>{m&&h.next(_),h.complete()})))}}},42569:(R,c,e)=>{"use strict";e.d(c,{B:()=>d});var t=e(73522),n=e(1828),a=e(45479),i=e(77025);function d(l={}){const{connector:p=(()=>new n.x),resetOnError:h=!0,resetOnComplete:m=!0,resetOnRefCountZero:_=!0}=l;return v=>{let y,O,S,b=0,o=!1,D=!1;const M=()=>{O?.unsubscribe(),O=void 0},C=()=>{M(),y=S=void 0,o=D=!1},T=()=>{const g=y;C(),g?.unsubscribe()};return(0,i.e)((g,U)=>{b++,!D&&!o&&M();const L=S=S??p();U.add(()=>{b--,0===b&&!D&&!o&&(O=r(T,_))}),L.subscribe(U),!y&&b>0&&(y=new a.Hp({next:j=>L.next(j),error:j=>{D=!0,M(),O=r(C,h,j),L.error(j)},complete:()=>{o=!0,M(),O=r(C,m),L.complete()}}),(0,t.Xf)(g).subscribe(y))})(v)}}function r(l,p,...h){if(!0===p)return void l();if(!1===p)return;const m=new a.Hp({next:()=>{m.unsubscribe(),l()}});return(0,t.Xf)(p(...h)).subscribe(m)}},32210:(R,c,e)=>{"use strict";e.d(c,{d:()=>a});var t=e(92527),n=e(42569);function a(i,d,r){let l,p=!1;return i&&"object"==typeof i?({bufferSize:l=1/0,windowTime:d=1/0,refCount:p=!1,scheduler:r}=i):l=i??1/0,(0,n.B)({connector:()=>new t.t(l,d,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}},43535:(R,c,e)=>{"use strict";e.d(c,{T:()=>n});var t=e(77007);function n(a){return(0,t.h)((i,d)=>a<=d)}},9302:(R,c,e)=>{"use strict";e.d(c,{O:()=>i});var t=e(34146),n=e(80863),a=e(77025);function i(...d){const r=(0,n.yG)(d);return(0,a.e)((l,p)=>{(r?(0,t.z)(d,l,r):(0,t.z)(d,l)).subscribe(p)})}},21160:(R,c,e)=>{"use strict";e.d(c,{w:()=>i});var t=e(73522),n=e(77025),a=e(58886);function i(d,r){return(0,n.e)((l,p)=>{let h=null,m=0,_=!1;const v=()=>_&&!h&&p.complete();l.subscribe((0,a.x)(p,y=>{h?.unsubscribe();let O=0;const S=m++;(0,t.Xf)(d(y,S)).subscribe(h=(0,a.x)(p,b=>p.next(r?r(y,b,S,O++):b),()=>{h=null,v()}))},()=>{_=!0,v()}))})}},77176:(R,c,e)=>{"use strict";e.d(c,{q:()=>i});var t=e(27164),n=e(77025),a=e(58886);function i(d){return d<=0?()=>t.E:(0,n.e)((r,l)=>{let p=0;r.subscribe((0,a.x)(l,h=>{++p<=d&&(l.next(h),d<=p&&l.complete())}))})}},29328:(R,c,e)=>{"use strict";e.d(c,{h:()=>i});var t=e(27164),n=e(77025),a=e(58886);function i(d){return d<=0?()=>t.E:(0,n.e)((r,l)=>{let p=[];r.subscribe((0,a.x)(l,h=>{p.push(h),d<p.length&&p.shift()},()=>{for(const h of p)l.next(h);l.complete()},void 0,()=>{p=null}))})}},35879:(R,c,e)=>{"use strict";e.d(c,{R:()=>d});var t=e(77025),n=e(58886),a=e(73522),i=e(34589);function d(r){return(0,t.e)((l,p)=>{(0,a.Xf)(r).subscribe((0,n.x)(p,()=>p.complete(),i.Z)),!p.closed&&l.subscribe(p)})}},64793:(R,c,e)=>{"use strict";e.d(c,{o:()=>a});var t=e(77025),n=e(58886);function a(i,d=!1){return(0,t.e)((r,l)=>{let p=0;r.subscribe((0,n.x)(l,h=>{const m=i(h,p++);(m||d)&&l.next(h),!m&&l.complete()}))})}},27303:(R,c,e)=>{"use strict";e.d(c,{b:()=>d});var t=e(48490),n=e(77025),a=e(58886),i=e(14789);function d(r,l,p){const h=(0,t.m)(r)||l||p?{next:r,error:l,complete:p}:r;return h?(0,n.e)((m,_)=>{var v;null===(v=h.subscribe)||void 0===v||v.call(h);let y=!0;m.subscribe((0,a.x)(_,O=>{var S;null===(S=h.next)||void 0===S||S.call(h,O),_.next(O)},()=>{var O;y=!1,null===(O=h.complete)||void 0===O||O.call(h),_.complete()},O=>{var S;y=!1,null===(S=h.error)||void 0===S||S.call(h,O),_.error(O)},()=>{var O,S;y&&(null===(O=h.unsubscribe)||void 0===O||O.call(h)),null===(S=h.finalize)||void 0===S||S.call(h)}))}):i.y}},8283:(R,c,e)=>{"use strict";e.d(c,{T:()=>i});var t=e(24586),n=e(77025),a=e(58886);function i(r=d){return(0,n.e)((l,p)=>{let h=!1;l.subscribe((0,a.x)(p,m=>{h=!0,p.next(m)},()=>h?p.complete():p.error(r())))})}function d(){return new t.K}},91519:(R,c,e)=>{"use strict";e.d(c,{q:()=>i});var t=e(32543),n=e(77025);const a=(d,r)=>(d.push(r),d);function i(){return(0,n.e)((d,r)=>{(0,t.u)(a,[])(d).subscribe(r)})}},22040:(R,c,e)=>{"use strict";e.d(c,{M:()=>l});var t=e(77025),n=e(58886),a=e(73522),i=e(14789),d=e(34589),r=e(80863);function l(...p){const h=(0,r.jO)(p);return(0,t.e)((m,_)=>{const v=p.length,y=new Array(v);let O=p.map(()=>!1),S=!1;for(let b=0;b<v;b++)(0,a.Xf)(p[b]).subscribe((0,n.x)(_,o=>{y[b]=o,!S&&!O[b]&&(O[b]=!0,(S=O.every(i.y))&&(O=null))},d.Z));m.subscribe((0,n.x)(_,b=>{if(S){const o=[b,...y];_.next(h?h(...o):o)}}))})}},12700:(R,c,e)=>{"use strict";e.d(c,{o:()=>d});var t=e(40024);class n extends t.w0{constructor(l,p){super()}schedule(l,p=0){return this}}const a={setInterval(r,l,...p){const{delegate:h}=a;return h?.setInterval?h.setInterval(r,l,...p):setInterval(r,l,...p)},clearInterval(r){const{delegate:l}=a;return(l?.clearInterval||clearInterval)(r)},delegate:void 0};var i=e(370);class d extends n{constructor(l,p){super(l,p),this.scheduler=l,this.work=p,this.pending=!1}schedule(l,p=0){var h;if(this.closed)return this;this.state=l;const m=this.id,_=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(_,m,p)),this.pending=!0,this.delay=p,this.id=null!==(h=this.id)&&void 0!==h?h:this.requestAsyncId(_,this.id,p),this}requestAsyncId(l,p,h=0){return a.setInterval(l.flush.bind(l,this),h)}recycleAsyncId(l,p,h=0){if(null!=h&&this.delay===h&&!1===this.pending)return p;null!=p&&a.clearInterval(p)}execute(l,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const h=this._execute(l,p);if(h)return h;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,p){let m,h=!1;try{this.work(l)}catch(_){h=!0,m=_||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:l,scheduler:p}=this,{actions:h}=p;this.work=this.state=this.scheduler=null,this.pending=!1,(0,i.P)(h,this),null!=l&&(this.id=this.recycleAsyncId(p,l,null)),this.delay=null,super.unsubscribe()}}}},47810:(R,c,e)=>{"use strict";e.d(c,{v:()=>a});var t=e(37088);class n{constructor(d,r=n.now){this.schedulerActionCtor=d,this.now=r}schedule(d,r=0,l){return new this.schedulerActionCtor(this,d).schedule(l,r)}}n.now=t.l.now;class a extends n{constructor(d,r=n.now){super(d,r),this.actions=[],this._active=!1}flush(d){const{actions:r}=this;if(this._active)return void r.push(d);let l;this._active=!0;do{if(l=d.execute(d.state,d.delay))break}while(d=r.shift());if(this._active=!1,l){for(;d=r.shift();)d.unsubscribe();throw l}}}},84072:(R,c,e)=>{"use strict";e.d(c,{P:()=>i,z:()=>a});var t=e(12700);const a=new(e(47810).v)(t.o),i=a},37088:(R,c,e)=>{"use strict";e.d(c,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},70180:(R,c,e)=>{"use strict";e.d(c,{N:()=>d});var t=e(12700),a=e(47810);const d=new class i extends a.v{}(class n extends t.o{constructor(p,h){super(p,h),this.scheduler=p,this.work=h}schedule(p,h=0){return h>0?super.schedule(p,h):(this.delay=h,this.state=p,this.scheduler.flush(this),this)}execute(p,h){return h>0||this.closed?super.execute(p,h):this._execute(p,h)}requestAsyncId(p,h,m=0){return null!=m&&m>0||null==m&&this.delay>0?super.requestAsyncId(p,h,m):(p.flush(this),0)}})},58928:(R,c,e)=>{"use strict";e.d(c,{z:()=>t});const t={setTimeout(n,a,...i){const{delegate:d}=t;return d?.setTimeout?d.setTimeout(n,a,...i):setTimeout(n,a,...i)},clearTimeout(n){const{delegate:a}=t;return(a?.clearTimeout||clearTimeout)(n)},delegate:void 0}},55183:(R,c,e)=>{"use strict";e.d(c,{h:()=>n});const n=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},92718:(R,c,e)=>{"use strict";e.d(c,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},24586:(R,c,e)=>{"use strict";e.d(c,{K:()=>n});const n=(0,e(3336).d)(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"})},80863:(R,c,e)=>{"use strict";e.d(c,{_6:()=>r,jO:()=>i,yG:()=>d});var t=e(48490),n=e(7976);function a(l){return l[l.length-1]}function i(l){return(0,t.m)(a(l))?l.pop():void 0}function d(l){return(0,n.K)(a(l))?l.pop():void 0}function r(l,p){return"number"==typeof a(l)?l.pop():p}},52447:(R,c,e)=>{"use strict";e.d(c,{D:()=>d});const{isArray:t}=Array,{getPrototypeOf:n,prototype:a,keys:i}=Object;function d(l){if(1===l.length){const p=l[0];if(t(p))return{args:p,keys:null};if(function r(l){return l&&"object"==typeof l&&n(l)===a}(p)){const h=i(p);return{args:h.map(m=>p[m]),keys:h}}}return{args:l,keys:null}}},62103:(R,c,e)=>{"use strict";e.d(c,{k:()=>n});const{isArray:t}=Array;function n(a){return 1===a.length&&t(a[0])?a[0]:a}},370:(R,c,e)=>{"use strict";function t(n,a){if(n){const i=n.indexOf(a);0<=i&&n.splice(i,1)}}e.d(c,{P:()=>t})},3336:(R,c,e)=>{"use strict";function t(n){const i=n(d=>{Error.call(d),d.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}e.d(c,{d:()=>t})},73776:(R,c,e)=>{"use strict";function t(n,a){return n.reduce((i,d,r)=>(i[d]=a[r],i),{})}e.d(c,{n:()=>t})},86329:(R,c,e)=>{"use strict";e.d(c,{O:()=>i,x:()=>a});var t=e(92017);let n=null;function a(d){if(t.v.useDeprecatedSynchronousErrorHandling){const r=!n;if(r&&(n={errorThrown:!1,error:null}),d(),r){const{errorThrown:l,error:p}=n;if(n=null,l)throw p}}else d()}function i(d){t.v.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=d)}},24243:(R,c,e)=>{"use strict";function t(n,a,i,d=0,r=!1){const l=a.schedule(function(){i(),r?n.add(this.schedule(null,d)):this.unsubscribe()},d);if(n.add(l),!r)return l}e.d(c,{f:()=>t})},14789:(R,c,e)=>{"use strict";function t(n){return n}e.d(c,{y:()=>t})},34733:(R,c,e)=>{"use strict";e.d(c,{z:()=>t});const t=n=>n&&"number"==typeof n.length&&"function"!=typeof n},50426:(R,c,e)=>{"use strict";e.d(c,{D:()=>n});var t=e(48490);function n(a){return Symbol.asyncIterator&&(0,t.m)(a?.[Symbol.asyncIterator])}},48490:(R,c,e)=>{"use strict";function t(n){return"function"==typeof n}e.d(c,{m:()=>t})},21601:(R,c,e)=>{"use strict";e.d(c,{c:()=>a});var t=e(92718),n=e(48490);function a(i){return(0,n.m)(i[t.L])}},55699:(R,c,e)=>{"use strict";e.d(c,{T:()=>a});var t=e(55183),n=e(48490);function a(i){return(0,n.m)(i?.[t.h])}},29011:(R,c,e)=>{"use strict";e.d(c,{b:()=>a});var t=e(42878),n=e(48490);function a(i){return!!i&&(i instanceof t.y||(0,n.m)(i.lift)&&(0,n.m)(i.subscribe))}},99040:(R,c,e)=>{"use strict";e.d(c,{t:()=>n});var t=e(48490);function n(a){return(0,t.m)(a?.then)}},56793:(R,c,e)=>{"use strict";e.d(c,{L:()=>i,Q:()=>a});var t=e(70655),n=e(48490);function a(d){return(0,t.__asyncGenerator)(this,arguments,function*(){const l=d.getReader();try{for(;;){const{value:p,done:h}=yield(0,t.__await)(l.read());if(h)return yield(0,t.__await)(void 0);yield yield(0,t.__await)(p)}}finally{l.releaseLock()}})}function i(d){return(0,n.m)(d?.getReader)}},7976:(R,c,e)=>{"use strict";e.d(c,{K:()=>n});var t=e(48490);function n(a){return a&&(0,t.m)(a.schedule)}},77025:(R,c,e)=>{"use strict";e.d(c,{A:()=>n,e:()=>a});var t=e(48490);function n(i){return(0,t.m)(i?.lift)}function a(i){return d=>{if(n(d))return d.lift(function(r){try{return i(r,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}},90910:(R,c,e)=>{"use strict";e.d(c,{Z:()=>i});var t=e(48358);const{isArray:n}=Array;function i(d){return(0,t.U)(r=>function a(d,r){return n(r)?d(...r):d(r)}(d,r))}},34589:(R,c,e)=>{"use strict";function t(){}e.d(c,{Z:()=>t})},91809:(R,c,e)=>{"use strict";e.d(c,{U:()=>a,z:()=>n});var t=e(14789);function n(...i){return a(i)}function a(i){return 0===i.length?t.y:1===i.length?i[0]:function(r){return i.reduce((l,p)=>p(l),r)}}},33740:(R,c,e)=>{"use strict";e.d(c,{h:()=>a});var t=e(92017),n=e(58928);function a(i){n.z.setTimeout(()=>{const{onUnhandledError:d}=t.v;if(!d)throw i;d(i)})}},71575:(R,c,e)=>{"use strict";function t(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(c,{z:()=>t})},40396:(R,c,e)=>{"use strict";e.d(c,{Z:()=>v});var t,n=new Uint8Array(16);function a(){if(!t&&!(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,r=function d(y){return"string"==typeof y&&i.test(y)};for(var l=[],p=0;p<256;++p)l.push((p+256).toString(16).substr(1));const v=function _(y,O,S){var b=(y=y||{}).random||(y.rng||a)();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,O){S=S||0;for(var o=0;o<16;++o)O[S+o]=b[o];return O}return function h(y){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=(l[y[O+0]]+l[y[O+1]]+l[y[O+2]]+l[y[O+3]]+"-"+l[y[O+4]]+l[y[O+5]]+"-"+l[y[O+6]]+l[y[O+7]]+"-"+l[y[O+8]]+l[y[O+9]]+"-"+l[y[O+10]]+l[y[O+11]]+l[y[O+12]]+l[y[O+13]]+l[y[O+14]]+l[y[O+15]]).toLowerCase();if(!r(S))throw TypeError("Stringified UUID is invalid");return S}(b)}},12116:()=>{"use strict";!function(Qe){const ft=Qe.performance;function Je(Bt){ft&&ft.mark&&ft.mark(Bt)}function Ge(Bt,je){ft&&ft.measure&&ft.measure(Bt,je)}Je("Zone");const qe=Qe.__Zone_symbol_prefix||"__zone_symbol__";function gt(Bt){return qe+Bt}const it=!0===Qe[gt("forceDuplicateZoneCheck")];if(Qe.Zone){if(it||"function"!=typeof Qe.Zone.__symbol__)throw new Error("Zone already loaded.");return Qe.Zone}let ht=(()=>{class Bt{constructor(be,ot){this._parent=be,this._name=ot?ot.name||"unnamed":"<root>",this._properties=ot&&ot.properties||{},this._zoneDelegate=new It(this,this._parent&&this._parent._zoneDelegate,ot)}static assertZonePatched(){if(Qe.Promise!==dn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let be=Bt.current;for(;be.parent;)be=be.parent;return be}static get current(){return ct.zone}static get currentTask(){return Mt}static __load_patch(be,ot,rn=!1){if(dn.hasOwnProperty(be)){if(!rn&&it)throw Error("Already loaded patch: "+be)}else if(!Qe["__Zone_disable_"+be]){const Cn="Zone:"+be;Je(Cn),dn[be]=ot(Qe,Bt,fn),Ge(Cn,Cn)}}get parent(){return this._parent}get name(){return this._name}get(be){const ot=this.getZoneWith(be);if(ot)return ot._properties[be]}getZoneWith(be){let ot=this;for(;ot;){if(ot._properties.hasOwnProperty(be))return ot;ot=ot._parent}return null}fork(be){if(!be)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,be)}wrap(be,ot){if("function"!=typeof be)throw new Error("Expecting function got: "+be);const rn=this._zoneDelegate.intercept(this,be,ot),Cn=this;return function(){return Cn.runGuarded(rn,this,arguments,ot)}}run(be,ot,rn,Cn){ct={parent:ct,zone:this};try{return this._zoneDelegate.invoke(this,be,ot,rn,Cn)}finally{ct=ct.parent}}runGuarded(be,ot=null,rn,Cn){ct={parent:ct,zone:this};try{try{return this._zoneDelegate.invoke(this,be,ot,rn,Cn)}catch(tr){if(this._zoneDelegate.handleError(this,tr))throw tr}}finally{ct=ct.parent}}runTask(be,ot,rn){if(be.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(be.zone||on).name+"; Execution: "+this.name+")");if(be.state===ke&&(be.type===Gt||be.type===Qt))return;const Cn=be.state!=pt;Cn&&be._transitionTo(pt,we),be.runCount++;const tr=Mt;Mt=be,ct={parent:ct,zone:this};try{be.type==Qt&&be.data&&!be.data.isPeriodic&&(be.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,be,ot,rn)}catch(hn){if(this._zoneDelegate.handleError(this,hn))throw hn}}finally{be.state!==ke&&be.state!==wt&&(be.type==Gt||be.data&&be.data.isPeriodic?Cn&&be._transitionTo(we,pt):(be.runCount=0,this._updateTaskCount(be,-1),Cn&&be._transitionTo(ke,pt,ke))),ct=ct.parent,Mt=tr}}scheduleTask(be){if(be.zone&&be.zone!==this){let rn=this;for(;rn;){if(rn===be.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${be.zone.name}`);rn=rn.parent}}be._transitionTo(xe,ke);const ot=[];be._zoneDelegates=ot,be._zone=this;try{be=this._zoneDelegate.scheduleTask(this,be)}catch(rn){throw be._transitionTo(wt,xe,ke),this._zoneDelegate.handleError(this,rn),rn}return be._zoneDelegates===ot&&this._updateTaskCount(be,1),be.state==xe&&be._transitionTo(we,xe),be}scheduleMicroTask(be,ot,rn,Cn){return this.scheduleTask(new Yt(Xt,be,ot,rn,Cn,void 0))}scheduleMacroTask(be,ot,rn,Cn,tr){return this.scheduleTask(new Yt(Qt,be,ot,rn,Cn,tr))}scheduleEventTask(be,ot,rn,Cn,tr){return this.scheduleTask(new Yt(Gt,be,ot,rn,Cn,tr))}cancelTask(be){if(be.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(be.zone||on).name+"; Execution: "+this.name+")");be._transitionTo(bt,we,pt);try{this._zoneDelegate.cancelTask(this,be)}catch(ot){throw be._transitionTo(wt,bt),this._zoneDelegate.handleError(this,ot),ot}return this._updateTaskCount(be,-1),be._transitionTo(ke,bt),be.runCount=0,be}_updateTaskCount(be,ot){const rn=be._zoneDelegates;-1==ot&&(be._zoneDelegates=null);for(let Cn=0;Cn<rn.length;Cn++)rn[Cn]._updateTaskCount(be.type,ot)}}return Bt.__symbol__=gt,Bt})();const St={name:"",onHasTask:(Bt,je,be,ot)=>Bt.hasTask(be,ot),onScheduleTask:(Bt,je,be,ot)=>Bt.scheduleTask(be,ot),onInvokeTask:(Bt,je,be,ot,rn,Cn)=>Bt.invokeTask(be,ot,rn,Cn),onCancelTask:(Bt,je,be,ot)=>Bt.cancelTask(be,ot)};class It{constructor(je,be,ot){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=je,this._parentDelegate=be,this._forkZS=ot&&(ot&&ot.onFork?ot:be._forkZS),this._forkDlgt=ot&&(ot.onFork?be:be._forkDlgt),this._forkCurrZone=ot&&(ot.onFork?this.zone:be._forkCurrZone),this._interceptZS=ot&&(ot.onIntercept?ot:be._interceptZS),this._interceptDlgt=ot&&(ot.onIntercept?be:be._interceptDlgt),this._interceptCurrZone=ot&&(ot.onIntercept?this.zone:be._interceptCurrZone),this._invokeZS=ot&&(ot.onInvoke?ot:be._invokeZS),this._invokeDlgt=ot&&(ot.onInvoke?be:be._invokeDlgt),this._invokeCurrZone=ot&&(ot.onInvoke?this.zone:be._invokeCurrZone),this._handleErrorZS=ot&&(ot.onHandleError?ot:be._handleErrorZS),this._handleErrorDlgt=ot&&(ot.onHandleError?be:be._handleErrorDlgt),this._handleErrorCurrZone=ot&&(ot.onHandleError?this.zone:be._handleErrorCurrZone),this._scheduleTaskZS=ot&&(ot.onScheduleTask?ot:be._scheduleTaskZS),this._scheduleTaskDlgt=ot&&(ot.onScheduleTask?be:be._scheduleTaskDlgt),this._scheduleTaskCurrZone=ot&&(ot.onScheduleTask?this.zone:be._scheduleTaskCurrZone),this._invokeTaskZS=ot&&(ot.onInvokeTask?ot:be._invokeTaskZS),this._invokeTaskDlgt=ot&&(ot.onInvokeTask?be:be._invokeTaskDlgt),this._invokeTaskCurrZone=ot&&(ot.onInvokeTask?this.zone:be._invokeTaskCurrZone),this._cancelTaskZS=ot&&(ot.onCancelTask?ot:be._cancelTaskZS),this._cancelTaskDlgt=ot&&(ot.onCancelTask?be:be._cancelTaskDlgt),this._cancelTaskCurrZone=ot&&(ot.onCancelTask?this.zone:be._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const rn=ot&&ot.onHasTask;(rn||be&&be._hasTaskZS)&&(this._hasTaskZS=rn?ot:St,this._hasTaskDlgt=be,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=je,ot.onScheduleTask||(this._scheduleTaskZS=St,this._scheduleTaskDlgt=be,this._scheduleTaskCurrZone=this.zone),ot.onInvokeTask||(this._invokeTaskZS=St,this._invokeTaskDlgt=be,this._invokeTaskCurrZone=this.zone),ot.onCancelTask||(this._cancelTaskZS=St,this._cancelTaskDlgt=be,this._cancelTaskCurrZone=this.zone))}fork(je,be){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,je,be):new ht(je,be)}intercept(je,be,ot){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,je,be,ot):be}invoke(je,be,ot,rn,Cn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,je,be,ot,rn,Cn):be.apply(ot,rn)}handleError(je,be){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,je,be)}scheduleTask(je,be){let ot=be;if(this._scheduleTaskZS)this._hasTaskZS&&ot._zoneDelegates.push(this._hasTaskDlgtOwner),ot=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,je,be),ot||(ot=be);else if(be.scheduleFn)be.scheduleFn(be);else{if(be.type!=Xt)throw new Error("Task is missing scheduleFn.");jt(be)}return ot}invokeTask(je,be,ot,rn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,je,be,ot,rn):be.callback.apply(ot,rn)}cancelTask(je,be){let ot;if(this._cancelTaskZS)ot=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,je,be);else{if(!be.cancelFn)throw Error("Task is not cancelable");ot=be.cancelFn(be)}return ot}hasTask(je,be){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,je,be)}catch(ot){this.handleError(je,ot)}}_updateTaskCount(je,be){const ot=this._taskCounts,rn=ot[je],Cn=ot[je]=rn+be;if(Cn<0)throw new Error("More tasks executed then were scheduled.");0!=rn&&0!=Cn||this.hasTask(this.zone,{microTask:ot.microTask>0,macroTask:ot.macroTask>0,eventTask:ot.eventTask>0,change:je})}}class Yt{constructor(je,be,ot,rn,Cn,tr){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=je,this.source=be,this.data=rn,this.scheduleFn=Cn,this.cancelFn=tr,!ot)throw new Error("callback is not defined");this.callback=ot;const hn=this;this.invoke=je===Gt&&rn&&rn.useG?Yt.invokeTask:function(){return Yt.invokeTask.call(Qe,hn,this,arguments)}}static invokeTask(je,be,ot){je||(je=this),Ve++;try{return je.runCount++,je.zone.runTask(je,be,ot)}finally{1==Ve&&zt(),Ve--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(ke,xe)}_transitionTo(je,be,ot){if(this._state!==be&&this._state!==ot)throw new Error(`${this.type} '${this.source}': can not transition to '${je}', expecting state '${be}'${ot?" or '"+ot+"'":""}, was '${this._state}'.`);this._state=je,je==ke&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const en=gt("setTimeout"),Tt=gt("Promise"),Mn=gt("then");let Rt,xn=[],qn=!1;function sn(Bt){if(Rt||Qe[Tt]&&(Rt=Qe[Tt].resolve(0)),Rt){let je=Rt[Mn];je||(je=Rt.then),je.call(Rt,Bt)}else Qe[en](Bt,0)}function jt(Bt){0===Ve&&0===xn.length&&sn(zt),Bt&&xn.push(Bt)}function zt(){if(!qn){for(qn=!0;xn.length;){const Bt=xn;xn=[];for(let je=0;je<Bt.length;je++){const be=Bt[je];try{be.zone.runTask(be,null,null)}catch(ot){fn.onUnhandledError(ot)}}}fn.microtaskDrainDone(),qn=!1}}const on={name:"NO ZONE"},ke="notScheduled",xe="scheduling",we="scheduled",pt="running",bt="canceling",wt="unknown",Xt="microTask",Qt="macroTask",Gt="eventTask",dn={},fn={symbol:gt,currentZoneFrame:()=>ct,onUnhandledError:vt,microtaskDrainDone:vt,scheduleMicroTask:jt,showUncaughtError:()=>!ht[gt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:vt,patchMethod:()=>vt,bindArguments:()=>[],patchThen:()=>vt,patchMacroTask:()=>vt,patchEventPrototype:()=>vt,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>vt,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>vt,wrapWithCurrentZone:()=>vt,filterProperties:()=>[],attachOriginToPatched:()=>vt,_redefineProperty:()=>vt,patchCallbacks:()=>vt,nativeScheduleMicroTask:sn};let ct={parent:null,zone:new ht(null,null)},Mt=null,Ve=0;function vt(){}Ge("Zone","Zone"),Qe.Zone=ht}(typeof window<"u"&&window||typeof self<"u"&&self||global);const R=Object.getOwnPropertyDescriptor,c=Object.defineProperty,e=Object.getPrototypeOf,t=Object.create,n=Array.prototype.slice,a="addEventListener",i="removeEventListener",d=Zone.__symbol__(a),r=Zone.__symbol__(i),l="true",p="false",h=Zone.__symbol__("");function m(Qe,ft){return Zone.current.wrap(Qe,ft)}function _(Qe,ft,Je,Ge,qe){return Zone.current.scheduleMacroTask(Qe,ft,Je,Ge,qe)}const v=Zone.__symbol__,y=typeof window<"u",O=y?window:void 0,S=y&&O||"object"==typeof self&&self||global,b="removeAttribute";function o(Qe,ft){for(let Je=Qe.length-1;Je>=0;Je--)"function"==typeof Qe[Je]&&(Qe[Je]=m(Qe[Je],ft+"_"+Je));return Qe}function M(Qe){return!Qe||!1!==Qe.writable&&!("function"==typeof Qe.get&&typeof Qe.set>"u")}const C=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,T=!("nw"in S)&&typeof S.process<"u"&&"[object process]"==={}.toString.call(S.process),g=!T&&!C&&!(!y||!O.HTMLElement),U=typeof S.process<"u"&&"[object process]"==={}.toString.call(S.process)&&!C&&!(!y||!O.HTMLElement),L={},j=function(Qe){if(!(Qe=Qe||S.event))return;let ft=L[Qe.type];ft||(ft=L[Qe.type]=v("ON_PROPERTY"+Qe.type));const Je=this||Qe.target||S,Ge=Je[ft];let qe;return g&&Je===O&&"error"===Qe.type?(qe=Ge&&Ge.call(this,Qe.message,Qe.filename,Qe.lineno,Qe.colno,Qe.error),!0===qe&&Qe.preventDefault()):(qe=Ge&&Ge.apply(this,arguments),null!=qe&&!qe&&Qe.preventDefault()),qe};function $(Qe,ft,Je){let Ge=R(Qe,ft);if(!Ge&&Je&&R(Je,ft)&&(Ge={enumerable:!0,configurable:!0}),!Ge||!Ge.configurable)return;const qe=v("on"+ft+"patched");if(Qe.hasOwnProperty(qe)&&Qe[qe])return;delete Ge.writable,delete Ge.value;const gt=Ge.get,it=Ge.set,ht=ft.slice(2);let St=L[ht];St||(St=L[ht]=v("ON_PROPERTY"+ht)),Ge.set=function(It){let Yt=this;!Yt&&Qe===S&&(Yt=S),Yt&&("function"==typeof Yt[St]&&Yt.removeEventListener(ht,j),it&&it.call(Yt,null),Yt[St]=It,"function"==typeof It&&Yt.addEventListener(ht,j,!1))},Ge.get=function(){let It=this;if(!It&&Qe===S&&(It=S),!It)return null;const Yt=It[St];if(Yt)return Yt;if(gt){let en=gt.call(this);if(en)return Ge.set.call(this,en),"function"==typeof It[b]&&It.removeAttribute(ft),en}return null},c(Qe,ft,Ge),Qe[qe]=!0}function z(Qe,ft,Je){if(ft)for(let Ge=0;Ge<ft.length;Ge++)$(Qe,"on"+ft[Ge],Je);else{const Ge=[];for(const qe in Qe)"on"==qe.slice(0,2)&&Ge.push(qe);for(let qe=0;qe<Ge.length;qe++)$(Qe,Ge[qe],Je)}}const re=v("originalInstance");function W(Qe){const ft=S[Qe];if(!ft)return;S[v(Qe)]=ft,S[Qe]=function(){const qe=o(arguments,Qe);switch(qe.length){case 0:this[re]=new ft;break;case 1:this[re]=new ft(qe[0]);break;case 2:this[re]=new ft(qe[0],qe[1]);break;case 3:this[re]=new ft(qe[0],qe[1],qe[2]);break;case 4:this[re]=new ft(qe[0],qe[1],qe[2],qe[3]);break;default:throw new Error("Arg list too long.")}},ne(S[Qe],ft);const Je=new ft(function(){});let Ge;for(Ge in Je)"XMLHttpRequest"===Qe&&"responseBlob"===Ge||function(qe){"function"==typeof Je[qe]?S[Qe].prototype[qe]=function(){return this[re][qe].apply(this[re],arguments)}:c(S[Qe].prototype,qe,{set:function(gt){"function"==typeof gt?(this[re][qe]=m(gt,Qe+"."+qe),ne(this[re][qe],gt)):this[re][qe]=gt},get:function(){return this[re][qe]}})}(Ge);for(Ge in ft)"prototype"!==Ge&&ft.hasOwnProperty(Ge)&&(S[Qe][Ge]=ft[Ge])}function ie(Qe,ft,Je){let Ge=Qe;for(;Ge&&!Ge.hasOwnProperty(ft);)Ge=e(Ge);!Ge&&Qe[ft]&&(Ge=Qe);const qe=v(ft);let gt=null;if(Ge&&(!(gt=Ge[qe])||!Ge.hasOwnProperty(qe))&&(gt=Ge[qe]=Ge[ft],M(Ge&&R(Ge,ft)))){const ht=Je(gt,qe,ft);Ge[ft]=function(){return ht(this,arguments)},ne(Ge[ft],gt)}return gt}function ce(Qe,ft,Je){let Ge=null;function qe(gt){const it=gt.data;return it.args[it.cbIdx]=function(){gt.invoke.apply(this,arguments)},Ge.apply(it.target,it.args),gt}Ge=ie(Qe,ft,gt=>function(it,ht){const St=Je(it,ht);return St.cbIdx>=0&&"function"==typeof ht[St.cbIdx]?_(St.name,ht[St.cbIdx],St,qe):gt.apply(it,ht)})}function ne(Qe,ft){Qe[v("OriginalDelegate")]=ft}let K=!1,w=!1;function oe(){if(K)return w;K=!0;try{const Qe=O.navigator.userAgent;(-1!==Qe.indexOf("MSIE ")||-1!==Qe.indexOf("Trident/")||-1!==Qe.indexOf("Edge/"))&&(w=!0)}catch{}return w}Zone.__load_patch("ZoneAwarePromise",(Qe,ft,Je)=>{const Ge=Object.getOwnPropertyDescriptor,qe=Object.defineProperty,it=Je.symbol,ht=[],St=!0===Qe[it("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],It=it("Promise"),Yt=it("then"),en="__creationTrace__";Je.onUnhandledError=hn=>{if(Je.showUncaughtError()){const En=hn&&hn.rejection;En?console.error("Unhandled Promise rejection:",En instanceof Error?En.message:En,"; Zone:",hn.zone.name,"; Task:",hn.task&&hn.task.source,"; Value:",En,En instanceof Error?En.stack:void 0):console.error(hn)}},Je.microtaskDrainDone=()=>{for(;ht.length;){const hn=ht.shift();try{hn.zone.runGuarded(()=>{throw hn.throwOriginal?hn.rejection:hn})}catch(En){Mn(En)}}};const Tt=it("unhandledPromiseRejectionHandler");function Mn(hn){Je.onUnhandledError(hn);try{const En=ft[Tt];"function"==typeof En&&En.call(this,hn)}catch{}}function xn(hn){return hn&&hn.then}function qn(hn){return hn}function Rt(hn){return be.reject(hn)}const sn=it("state"),jt=it("value"),zt=it("finally"),on=it("parentPromiseValue"),ke=it("parentPromiseState"),xe="Promise.then",we=null,pt=!0,bt=!1,wt=0;function Xt(hn,En){return cn=>{try{fn(hn,En,cn)}catch(Pn){fn(hn,!1,Pn)}}}const Qt=function(){let hn=!1;return function(cn){return function(){hn||(hn=!0,cn.apply(null,arguments))}}},Gt="Promise resolved with itself",dn=it("currentTaskTrace");function fn(hn,En,cn){const Pn=Qt();if(hn===cn)throw new TypeError(Gt);if(hn[sn]===we){let Bn=null;try{("object"==typeof cn||"function"==typeof cn)&&(Bn=cn&&cn.then)}catch(An){return Pn(()=>{fn(hn,!1,An)})(),hn}if(En!==bt&&cn instanceof be&&cn.hasOwnProperty(sn)&&cn.hasOwnProperty(jt)&&cn[sn]!==we)Mt(cn),fn(hn,cn[sn],cn[jt]);else if(En!==bt&&"function"==typeof Bn)try{Bn.call(cn,Pn(Xt(hn,En)),Pn(Xt(hn,!1)))}catch(An){Pn(()=>{fn(hn,!1,An)})()}else{hn[sn]=En;const An=hn[jt];if(hn[jt]=cn,hn[zt]===zt&&En===pt&&(hn[sn]=hn[ke],hn[jt]=hn[on]),En===bt&&cn instanceof Error){const In=ft.currentTask&&ft.currentTask.data&&ft.currentTask.data[en];In&&qe(cn,dn,{configurable:!0,enumerable:!1,writable:!0,value:In})}for(let In=0;In<An.length;)Ve(hn,An[In++],An[In++],An[In++],An[In++]);if(0==An.length&&En==bt){hn[sn]=wt;let In=cn;try{throw new Error("Uncaught (in promise): "+function gt(hn){return hn&&hn.toString===Object.prototype.toString?(hn.constructor&&hn.constructor.name||"")+": "+JSON.stringify(hn):hn?hn.toString():Object.prototype.toString.call(hn)}(cn)+(cn&&cn.stack?"\n"+cn.stack:""))}catch(Fn){In=Fn}St&&(In.throwOriginal=!0),In.rejection=cn,In.promise=hn,In.zone=ft.current,In.task=ft.currentTask,ht.push(In),Je.scheduleMicroTask()}}}return hn}const ct=it("rejectionHandledHandler");function Mt(hn){if(hn[sn]===wt){try{const En=ft[ct];En&&"function"==typeof En&&En.call(this,{rejection:hn[jt],promise:hn})}catch{}hn[sn]=bt;for(let En=0;En<ht.length;En++)hn===ht[En].promise&&ht.splice(En,1)}}function Ve(hn,En,cn,Pn,Bn){Mt(hn);const An=hn[sn],In=An?"function"==typeof Pn?Pn:qn:"function"==typeof Bn?Bn:Rt;En.scheduleMicroTask(xe,()=>{try{const Fn=hn[jt],er=!!cn&&zt===cn[zt];er&&(cn[on]=Fn,cn[ke]=An);const Yn=En.run(In,void 0,er&&In!==Rt&&In!==qn?[]:[Fn]);fn(cn,!0,Yn)}catch(Fn){fn(cn,!1,Fn)}},cn)}const Bt=function(){},je=Qe.AggregateError;class be{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(En){return fn(new this(null),pt,En)}static reject(En){return fn(new this(null),bt,En)}static any(En){if(!En||"function"!=typeof En[Symbol.iterator])return Promise.reject(new je([],"All promises were rejected"));const cn=[];let Pn=0;try{for(let In of En)Pn++,cn.push(be.resolve(In))}catch{return Promise.reject(new je([],"All promises were rejected"))}if(0===Pn)return Promise.reject(new je([],"All promises were rejected"));let Bn=!1;const An=[];return new be((In,Fn)=>{for(let er=0;er<cn.length;er++)cn[er].then(Yn=>{Bn||(Bn=!0,In(Yn))},Yn=>{An.push(Yn),Pn--,0===Pn&&(Bn=!0,Fn(new je(An,"All promises were rejected")))})})}static race(En){let cn,Pn,Bn=new this((Fn,er)=>{cn=Fn,Pn=er});function An(Fn){cn(Fn)}function In(Fn){Pn(Fn)}for(let Fn of En)xn(Fn)||(Fn=this.resolve(Fn)),Fn.then(An,In);return Bn}static all(En){return be.allWithCallback(En)}static allSettled(En){return(this&&this.prototype instanceof be?this:be).allWithCallback(En,{thenCallback:Pn=>({status:"fulfilled",value:Pn}),errorCallback:Pn=>({status:"rejected",reason:Pn})})}static allWithCallback(En,cn){let Pn,Bn,An=new this((Yn,Er)=>{Pn=Yn,Bn=Er}),In=2,Fn=0;const er=[];for(let Yn of En){xn(Yn)||(Yn=this.resolve(Yn));const Er=Fn;try{Yn.then(Ir=>{er[Er]=cn?cn.thenCallback(Ir):Ir,In--,0===In&&Pn(er)},Ir=>{cn?(er[Er]=cn.errorCallback(Ir),In--,0===In&&Pn(er)):Bn(Ir)})}catch(Ir){Bn(Ir)}In++,Fn++}return In-=2,0===In&&Pn(er),An}constructor(En){const cn=this;if(!(cn instanceof be))throw new Error("Must be an instanceof Promise.");cn[sn]=we,cn[jt]=[];try{const Pn=Qt();En&&En(Pn(Xt(cn,pt)),Pn(Xt(cn,bt)))}catch(Pn){fn(cn,!1,Pn)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return be}then(En,cn){var Pn;let Bn=null===(Pn=this.constructor)||void 0===Pn?void 0:Pn[Symbol.species];(!Bn||"function"!=typeof Bn)&&(Bn=this.constructor||be);const An=new Bn(Bt),In=ft.current;return this[sn]==we?this[jt].push(In,An,En,cn):Ve(this,In,An,En,cn),An}catch(En){return this.then(null,En)}finally(En){var cn;let Pn=null===(cn=this.constructor)||void 0===cn?void 0:cn[Symbol.species];(!Pn||"function"!=typeof Pn)&&(Pn=be);const Bn=new Pn(Bt);Bn[zt]=zt;const An=ft.current;return this[sn]==we?this[jt].push(An,Bn,En,En):Ve(this,An,Bn,En,En),Bn}}be.resolve=be.resolve,be.reject=be.reject,be.race=be.race,be.all=be.all;const ot=Qe[It]=Qe.Promise;Qe.Promise=be;const rn=it("thenPatched");function Cn(hn){const En=hn.prototype,cn=Ge(En,"then");if(cn&&(!1===cn.writable||!cn.configurable))return;const Pn=En.then;En[Yt]=Pn,hn.prototype.then=function(Bn,An){return new be((Fn,er)=>{Pn.call(this,Fn,er)}).then(Bn,An)},hn[rn]=!0}return Je.patchThen=Cn,ot&&(Cn(ot),ie(Qe,"fetch",hn=>function tr(hn){return function(En,cn){let Pn=hn.apply(En,cn);if(Pn instanceof be)return Pn;let Bn=Pn.constructor;return Bn[rn]||Cn(Bn),Pn}}(hn))),Promise[ft.__symbol__("uncaughtPromiseErrors")]=ht,be}),Zone.__load_patch("toString",Qe=>{const ft=Function.prototype.toString,Je=v("OriginalDelegate"),Ge=v("Promise"),qe=v("Error"),gt=function(){if("function"==typeof this){const It=this[Je];if(It)return"function"==typeof It?ft.call(It):Object.prototype.toString.call(It);if(this===Promise){const Yt=Qe[Ge];if(Yt)return ft.call(Yt)}if(this===Error){const Yt=Qe[qe];if(Yt)return ft.call(Yt)}}return ft.call(this)};gt[Je]=ft,Function.prototype.toString=gt;const it=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":it.call(this)}});let q=!1;if(typeof window<"u")try{const Qe=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{q=!1}const ee={useG:!0},J={},Ee={},Oe=new RegExp("^"+h+"(\\w+)(true|false)$"),Re=v("propagationStopped");function ve(Qe,ft){const Je=(ft?ft(Qe):Qe)+p,Ge=(ft?ft(Qe):Qe)+l,qe=h+Je,gt=h+Ge;J[Qe]={},J[Qe][p]=qe,J[Qe][l]=gt}function Pe(Qe,ft,Je,Ge){const qe=Ge&&Ge.add||a,gt=Ge&&Ge.rm||i,it=Ge&&Ge.listeners||"eventListeners",ht=Ge&&Ge.rmAll||"removeAllListeners",St=v(qe),It="."+qe+":",Yt="prependListener",en="."+Yt+":",Tt=function(jt,zt,on){if(jt.isRemoved)return;const ke=jt.callback;let xe;"object"==typeof ke&&ke.handleEvent&&(jt.callback=pt=>ke.handleEvent(pt),jt.originalDelegate=ke);try{jt.invoke(jt,zt,[on])}catch(pt){xe=pt}const we=jt.options;return we&&"object"==typeof we&&we.once&&zt[gt].call(zt,on.type,jt.originalDelegate?jt.originalDelegate:jt.callback,we),xe};function Mn(jt,zt,on){if(!(zt=zt||Qe.event))return;const ke=jt||zt.target||Qe,xe=ke[J[zt.type][on?l:p]];if(xe){const we=[];if(1===xe.length){const pt=Tt(xe[0],ke,zt);pt&&we.push(pt)}else{const pt=xe.slice();for(let bt=0;bt<pt.length&&(!zt||!0!==zt[Re]);bt++){const wt=Tt(pt[bt],ke,zt);wt&&we.push(wt)}}if(1===we.length)throw we[0];for(let pt=0;pt<we.length;pt++){const bt=we[pt];ft.nativeScheduleMicroTask(()=>{throw bt})}}}const xn=function(jt){return Mn(this,jt,!1)},qn=function(jt){return Mn(this,jt,!0)};function Rt(jt,zt){if(!jt)return!1;let on=!0;zt&&void 0!==zt.useG&&(on=zt.useG);const ke=zt&&zt.vh;let xe=!0;zt&&void 0!==zt.chkDup&&(xe=zt.chkDup);let we=!1;zt&&void 0!==zt.rt&&(we=zt.rt);let pt=jt;for(;pt&&!pt.hasOwnProperty(qe);)pt=e(pt);if(!pt&&jt[qe]&&(pt=jt),!pt||pt[St])return!1;const bt=zt&&zt.eventNameToString,wt={},Xt=pt[St]=pt[qe],Qt=pt[v(gt)]=pt[gt],Gt=pt[v(it)]=pt[it],dn=pt[v(ht)]=pt[ht];let fn;zt&&zt.prepend&&(fn=pt[v(zt.prepend)]=pt[zt.prepend]);const be=on?function(cn){if(!wt.isExisting)return Xt.call(wt.target,wt.eventName,wt.capture?qn:xn,wt.options)}:function(cn){return Xt.call(wt.target,wt.eventName,cn.invoke,wt.options)},ot=on?function(cn){if(!cn.isRemoved){const Pn=J[cn.eventName];let Bn;Pn&&(Bn=Pn[cn.capture?l:p]);const An=Bn&&cn.target[Bn];if(An)for(let In=0;In<An.length;In++)if(An[In]===cn){An.splice(In,1),cn.isRemoved=!0,0===An.length&&(cn.allRemoved=!0,cn.target[Bn]=null);break}}if(cn.allRemoved)return Qt.call(cn.target,cn.eventName,cn.capture?qn:xn,cn.options)}:function(cn){return Qt.call(cn.target,cn.eventName,cn.invoke,cn.options)},Cn=zt&&zt.diff?zt.diff:function(cn,Pn){const Bn=typeof Pn;return"function"===Bn&&cn.callback===Pn||"object"===Bn&&cn.originalDelegate===Pn},tr=Zone[v("UNPATCHED_EVENTS")],hn=Qe[v("PASSIVE_EVENTS")],En=function(cn,Pn,Bn,An,In=!1,Fn=!1){return function(){const er=this||Qe;let Yn=arguments[0];zt&&zt.transferEventName&&(Yn=zt.transferEventName(Yn));let Er=arguments[1];if(!Er)return cn.apply(this,arguments);if(T&&"uncaughtException"===Yn)return cn.apply(this,arguments);let Ir=!1;if("function"!=typeof Er){if(!Er.handleEvent)return cn.apply(this,arguments);Ir=!0}if(ke&&!ke(cn,Er,er,arguments))return;const si=q&&!!hn&&-1!==hn.indexOf(Yn),yr=function ct(cn,Pn){return!q&&"object"==typeof cn&&cn?!!cn.capture:q&&Pn?"boolean"==typeof cn?{capture:cn,passive:!0}:cn?"object"==typeof cn&&!1!==cn.passive?Object.assign(Object.assign({},cn),{passive:!0}):cn:{passive:!0}:cn}(arguments[2],si);if(tr)for(let ai=0;ai<tr.length;ai++)if(Yn===tr[ai])return si?cn.call(er,Yn,Er,yr):cn.apply(this,arguments);const Sn=!!yr&&("boolean"==typeof yr||yr.capture),Qn=!(!yr||"object"!=typeof yr)&&yr.once,hr=Zone.current;let Br=J[Yn];Br||(ve(Yn,bt),Br=J[Yn]);const Xr=Br[Sn?l:p];let Nr,br=er[Xr],Oi=!1;if(br){if(Oi=!0,xe)for(let ai=0;ai<br.length;ai++)if(Cn(br[ai],Er))return}else br=er[Xr]=[];const _i=er.constructor.name,Ri=Ee[_i];Ri&&(Nr=Ri[Yn]),Nr||(Nr=_i+Pn+(bt?bt(Yn):Yn)),wt.options=yr,Qn&&(wt.options.once=!1),wt.target=er,wt.capture=Sn,wt.eventName=Yn,wt.isExisting=Oi;const kn=on?ee:void 0;kn&&(kn.taskData=wt);const hi=hr.scheduleEventTask(Nr,Er,kn,Bn,An);return wt.target=null,kn&&(kn.taskData=null),Qn&&(yr.once=!0),!q&&"boolean"==typeof hi.options||(hi.options=yr),hi.target=er,hi.capture=Sn,hi.eventName=Yn,Ir&&(hi.originalDelegate=Er),Fn?br.unshift(hi):br.push(hi),In?er:void 0}};return pt[qe]=En(Xt,It,be,ot,we),fn&&(pt[Yt]=En(fn,en,function(cn){return fn.call(wt.target,wt.eventName,cn.invoke,wt.options)},ot,we,!0)),pt[gt]=function(){const cn=this||Qe;let Pn=arguments[0];zt&&zt.transferEventName&&(Pn=zt.transferEventName(Pn));const Bn=arguments[2],An=!!Bn&&("boolean"==typeof Bn||Bn.capture),In=arguments[1];if(!In)return Qt.apply(this,arguments);if(ke&&!ke(Qt,In,cn,arguments))return;const Fn=J[Pn];let er;Fn&&(er=Fn[An?l:p]);const Yn=er&&cn[er];if(Yn)for(let Er=0;Er<Yn.length;Er++){const Ir=Yn[Er];if(Cn(Ir,In))return Yn.splice(Er,1),Ir.isRemoved=!0,0===Yn.length&&(Ir.allRemoved=!0,cn[er]=null,"string"==typeof Pn)&&(cn[h+"ON_PROPERTY"+Pn]=null),Ir.zone.cancelTask(Ir),we?cn:void 0}return Qt.apply(this,arguments)},pt[it]=function(){const cn=this||Qe;let Pn=arguments[0];zt&&zt.transferEventName&&(Pn=zt.transferEventName(Pn));const Bn=[],An=et(cn,bt?bt(Pn):Pn);for(let In=0;In<An.length;In++){const Fn=An[In];Bn.push(Fn.originalDelegate?Fn.originalDelegate:Fn.callback)}return Bn},pt[ht]=function(){const cn=this||Qe;let Pn=arguments[0];if(Pn){zt&&zt.transferEventName&&(Pn=zt.transferEventName(Pn));const Bn=J[Pn];if(Bn){const Fn=cn[Bn[p]],er=cn[Bn[l]];if(Fn){const Yn=Fn.slice();for(let Er=0;Er<Yn.length;Er++){const Ir=Yn[Er];this[gt].call(this,Pn,Ir.originalDelegate?Ir.originalDelegate:Ir.callback,Ir.options)}}if(er){const Yn=er.slice();for(let Er=0;Er<Yn.length;Er++){const Ir=Yn[Er];this[gt].call(this,Pn,Ir.originalDelegate?Ir.originalDelegate:Ir.callback,Ir.options)}}}}else{const Bn=Object.keys(cn);for(let An=0;An<Bn.length;An++){const Fn=Oe.exec(Bn[An]);let er=Fn&&Fn[1];er&&"removeListener"!==er&&this[ht].call(this,er)}this[ht].call(this,"removeListener")}if(we)return this},ne(pt[qe],Xt),ne(pt[gt],Qt),dn&&ne(pt[ht],dn),Gt&&ne(pt[it],Gt),!0}let sn=[];for(let jt=0;jt<Je.length;jt++)sn[jt]=Rt(Je[jt],Ge);return sn}function et(Qe,ft){if(!ft){const gt=[];for(let it in Qe){const ht=Oe.exec(it);let St=ht&&ht[1];if(St&&(!ft||St===ft)){const It=Qe[it];if(It)for(let Yt=0;Yt<It.length;Yt++)gt.push(It[Yt])}}return gt}let Je=J[ft];Je||(ve(ft),Je=J[ft]);const Ge=Qe[Je[p]],qe=Qe[Je[l]];return Ge?qe?Ge.concat(qe):Ge.slice():qe?qe.slice():[]}function Ze(Qe,ft){const Je=Qe.Event;Je&&Je.prototype&&ft.patchMethod(Je.prototype,"stopImmediatePropagation",Ge=>function(qe,gt){qe[Re]=!0,Ge&&Ge.apply(qe,gt)})}function tt(Qe,ft,Je,Ge,qe){const gt=Zone.__symbol__(Ge);if(ft[gt])return;const it=ft[gt]=ft[Ge];ft[Ge]=function(ht,St,It){return St&&St.prototype&&qe.forEach(function(Yt){const en=`${Je}.${Ge}::`+Yt,Tt=St.prototype;try{if(Tt.hasOwnProperty(Yt)){const Mn=Qe.ObjectGetOwnPropertyDescriptor(Tt,Yt);Mn&&Mn.value?(Mn.value=Qe.wrapWithCurrentZone(Mn.value,en),Qe._redefineProperty(St.prototype,Yt,Mn)):Tt[Yt]&&(Tt[Yt]=Qe.wrapWithCurrentZone(Tt[Yt],en))}else Tt[Yt]&&(Tt[Yt]=Qe.wrapWithCurrentZone(Tt[Yt],en))}catch{}}),it.call(ft,ht,St,It)},Qe.attachOriginToPatched(ft[Ge],it)}function yt(Qe,ft,Je){if(!Je||0===Je.length)return ft;const Ge=Je.filter(gt=>gt.target===Qe);if(!Ge||0===Ge.length)return ft;const qe=Ge[0].ignoreProperties;return ft.filter(gt=>-1===qe.indexOf(gt))}function Ne(Qe,ft,Je,Ge){Qe&&z(Qe,yt(Qe,ft,Je),Ge)}function mt(Qe){return Object.getOwnPropertyNames(Qe).filter(ft=>ft.startsWith("on")&&ft.length>2).map(ft=>ft.substring(2))}Zone.__load_patch("util",(Qe,ft,Je)=>{const Ge=mt(Qe);Je.patchOnProperties=z,Je.patchMethod=ie,Je.bindArguments=o,Je.patchMacroTask=ce;const qe=ft.__symbol__("BLACK_LISTED_EVENTS"),gt=ft.__symbol__("UNPATCHED_EVENTS");Qe[gt]&&(Qe[qe]=Qe[gt]),Qe[qe]&&(ft[qe]=ft[gt]=Qe[qe]),Je.patchEventPrototype=Ze,Je.patchEventTarget=Pe,Je.isIEOrEdge=oe,Je.ObjectDefineProperty=c,Je.ObjectGetOwnPropertyDescriptor=R,Je.ObjectCreate=t,Je.ArraySlice=n,Je.patchClass=W,Je.wrapWithCurrentZone=m,Je.filterProperties=yt,Je.attachOriginToPatched=ne,Je._redefineProperty=Object.defineProperty,Je.patchCallbacks=tt,Je.getGlobalObjects=()=>({globalSources:Ee,zoneSymbolEventNames:J,eventNames:Ge,isBrowser:g,isMix:U,isNode:T,TRUE_STR:l,FALSE_STR:p,ZONE_SYMBOL_PREFIX:h,ADD_EVENT_LISTENER_STR:a,REMOVE_EVENT_LISTENER_STR:i})});const At=v("zoneTask");function Jt(Qe,ft,Je,Ge){let qe=null,gt=null;Je+=Ge;const it={};function ht(It){const Yt=It.data;return Yt.args[0]=function(){return It.invoke.apply(this,arguments)},Yt.handleId=qe.apply(Qe,Yt.args),It}function St(It){return gt.call(Qe,It.data.handleId)}qe=ie(Qe,ft+=Ge,It=>function(Yt,en){if("function"==typeof en[0]){const Tt={isPeriodic:"Interval"===Ge,delay:"Timeout"===Ge||"Interval"===Ge?en[1]||0:void 0,args:en},Mn=en[0];en[0]=function(){try{return Mn.apply(this,arguments)}finally{Tt.isPeriodic||("number"==typeof Tt.handleId?delete it[Tt.handleId]:Tt.handleId&&(Tt.handleId[At]=null))}};const xn=_(ft,en[0],Tt,ht,St);if(!xn)return xn;const qn=xn.data.handleId;return"number"==typeof qn?it[qn]=xn:qn&&(qn[At]=xn),qn&&qn.ref&&qn.unref&&"function"==typeof qn.ref&&"function"==typeof qn.unref&&(xn.ref=qn.ref.bind(qn),xn.unref=qn.unref.bind(qn)),"number"==typeof qn||qn?qn:xn}return It.apply(Qe,en)}),gt=ie(Qe,Je,It=>function(Yt,en){const Tt=en[0];let Mn;"number"==typeof Tt?Mn=it[Tt]:(Mn=Tt&&Tt[At],Mn||(Mn=Tt)),Mn&&"string"==typeof Mn.type?"notScheduled"!==Mn.state&&(Mn.cancelFn&&Mn.data.isPeriodic||0===Mn.runCount)&&("number"==typeof Tt?delete it[Tt]:Tt&&(Tt[At]=null),Mn.zone.cancelTask(Mn)):It.apply(Qe,en)})}Zone.__load_patch("legacy",Qe=>{const ft=Qe[Zone.__symbol__("legacyPatch")];ft&&ft()}),Zone.__load_patch("queueMicrotask",(Qe,ft,Je)=>{Je.patchMethod(Qe,"queueMicrotask",Ge=>function(qe,gt){ft.current.scheduleMicroTask("queueMicrotask",gt[0])})}),Zone.__load_patch("timers",Qe=>{const Je="clear";Jt(Qe,"set",Je,"Timeout"),Jt(Qe,"set",Je,"Interval"),Jt(Qe,"set",Je,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Qe=>{Jt(Qe,"request","cancel","AnimationFrame"),Jt(Qe,"mozRequest","mozCancel","AnimationFrame"),Jt(Qe,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Qe,ft)=>{const Je=["alert","prompt","confirm"];for(let Ge=0;Ge<Je.length;Ge++)ie(Qe,Je[Ge],(gt,it,ht)=>function(St,It){return ft.current.run(gt,Qe,It,ht)})}),Zone.__load_patch("EventTarget",(Qe,ft,Je)=>{(function Ht(Qe,ft){ft.patchEventPrototype(Qe,ft)})(Qe,Je),function lt(Qe,ft){if(Zone[ft.symbol("patchEventTarget")])return;const{eventNames:Je,zoneSymbolEventNames:Ge,TRUE_STR:qe,FALSE_STR:gt,ZONE_SYMBOL_PREFIX:it}=ft.getGlobalObjects();for(let St=0;St<Je.length;St++){const It=Je[St],Tt=it+(It+gt),Mn=it+(It+qe);Ge[It]={},Ge[It][gt]=Tt,Ge[It][qe]=Mn}const ht=Qe.EventTarget;ht&&ht.prototype&&ft.patchEventTarget(Qe,ft,[ht&&ht.prototype])}(Qe,Je);const Ge=Qe.XMLHttpRequestEventTarget;Ge&&Ge.prototype&&Je.patchEventTarget(Qe,Je,[Ge.prototype])}),Zone.__load_patch("MutationObserver",(Qe,ft,Je)=>{W("MutationObserver"),W("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Qe,ft,Je)=>{W("IntersectionObserver")}),Zone.__load_patch("FileReader",(Qe,ft,Je)=>{W("FileReader")}),Zone.__load_patch("on_property",(Qe,ft,Je)=>{!function Dt(Qe,ft){if(T&&!U||Zone[Qe.symbol("patchEvents")])return;const Je=ft.__Zone_ignore_on_properties;let Ge=[];if(g){const qe=window;Ge=Ge.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const gt=function Q(){try{const Qe=O.navigator.userAgent;if(-1!==Qe.indexOf("MSIE ")||-1!==Qe.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:qe,ignoreProperties:["error"]}]:[];Ne(qe,mt(qe),Je&&Je.concat(gt),e(qe))}Ge=Ge.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let qe=0;qe<Ge.length;qe++){const gt=ft[Ge[qe]];gt&&gt.prototype&&Ne(gt.prototype,mt(gt.prototype),Je)}}(Je,Qe)}),Zone.__load_patch("customElements",(Qe,ft,Je)=>{!function $t(Qe,ft){const{isBrowser:Je,isMix:Ge}=ft.getGlobalObjects();(Je||Ge)&&Qe.customElements&&"customElements"in Qe&&ft.patchCallbacks(ft,Qe.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Qe,Je)}),Zone.__load_patch("XHR",(Qe,ft)=>{!function St(It){const Yt=It.XMLHttpRequest;if(!Yt)return;const en=Yt.prototype;let Mn=en[d],xn=en[r];if(!Mn){const wt=It.XMLHttpRequestEventTarget;if(wt){const Xt=wt.prototype;Mn=Xt[d],xn=Xt[r]}}const qn="readystatechange",Rt="scheduled";function sn(wt){const Xt=wt.data,Qt=Xt.target;Qt[gt]=!1,Qt[ht]=!1;const Gt=Qt[qe];Mn||(Mn=Qt[d],xn=Qt[r]),Gt&&xn.call(Qt,qn,Gt);const dn=Qt[qe]=()=>{if(Qt.readyState===Qt.DONE)if(!Xt.aborted&&Qt[gt]&&wt.state===Rt){const ct=Qt[ft.__symbol__("loadfalse")];if(0!==Qt.status&&ct&&ct.length>0){const Mt=wt.invoke;wt.invoke=function(){const Ve=Qt[ft.__symbol__("loadfalse")];for(let vt=0;vt<Ve.length;vt++)Ve[vt]===wt&&Ve.splice(vt,1);!Xt.aborted&&wt.state===Rt&&Mt.call(wt)},ct.push(wt)}else wt.invoke()}else!Xt.aborted&&!1===Qt[gt]&&(Qt[ht]=!0)};return Mn.call(Qt,qn,dn),Qt[Je]||(Qt[Je]=wt),pt.apply(Qt,Xt.args),Qt[gt]=!0,wt}function jt(){}function zt(wt){const Xt=wt.data;return Xt.aborted=!0,bt.apply(Xt.target,Xt.args)}const on=ie(en,"open",()=>function(wt,Xt){return wt[Ge]=0==Xt[2],wt[it]=Xt[1],on.apply(wt,Xt)}),xe=v("fetchTaskAborting"),we=v("fetchTaskScheduling"),pt=ie(en,"send",()=>function(wt,Xt){if(!0===ft.current[we]||wt[Ge])return pt.apply(wt,Xt);{const Qt={target:wt,url:wt[it],isPeriodic:!1,args:Xt,aborted:!1},Gt=_("XMLHttpRequest.send",jt,Qt,sn,zt);wt&&!0===wt[ht]&&!Qt.aborted&&Gt.state===Rt&&Gt.invoke()}}),bt=ie(en,"abort",()=>function(wt,Xt){const Qt=function Tt(wt){return wt[Je]}(wt);if(Qt&&"string"==typeof Qt.type){if(null==Qt.cancelFn||Qt.data&&Qt.data.aborted)return;Qt.zone.cancelTask(Qt)}else if(!0===ft.current[xe])return bt.apply(wt,Xt)})}(Qe);const Je=v("xhrTask"),Ge=v("xhrSync"),qe=v("xhrListener"),gt=v("xhrScheduled"),it=v("xhrURL"),ht=v("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Qe=>{Qe.navigator&&Qe.navigator.geolocation&&function D(Qe,ft){const Je=Qe.constructor.name;for(let Ge=0;Ge<ft.length;Ge++){const qe=ft[Ge],gt=Qe[qe];if(gt){if(!M(R(Qe,qe)))continue;Qe[qe]=(ht=>{const St=function(){return ht.apply(this,o(arguments,Je+"."+qe))};return ne(St,ht),St})(gt)}}}(Qe.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Qe,ft)=>{function Je(Ge){return function(qe){et(Qe,Ge).forEach(it=>{const ht=Qe.PromiseRejectionEvent;if(ht){const St=new ht(Ge,{promise:qe.promise,reason:qe.rejection});it.invoke(St)}})}}Qe.PromiseRejectionEvent&&(ft[v("unhandledPromiseRejectionHandler")]=Je("unhandledrejection"),ft[v("rejectionHandledHandler")]=Je("rejectionhandled"))})},72254:(R,c,e)=>{e(41539),e(36535),e(12419),e(69596),e(52586),e(74819),e(95683),e(39361),e(51037),e(5898),e(67556),e(14361),e(83593),e(39532),e(81299);var t=e(40857);R.exports=t.Reflect},19662:(R,c,e)=>{var t=e(60614),n=e(66330),a=TypeError;R.exports=function(i){if(t(i))return i;throw a(n(i)+" is not a function")}},39483:(R,c,e)=>{var t=e(4411),n=e(66330),a=TypeError;R.exports=function(i){if(t(i))return i;throw a(n(i)+" is not a constructor")}},96077:(R,c,e)=>{var t=e(60614),n=String,a=TypeError;R.exports=function(i){if("object"==typeof i||t(i))return i;throw a("Can't set "+n(i)+" as a prototype")}},19670:(R,c,e)=>{var t=e(70111),n=String,a=TypeError;R.exports=function(i){if(t(i))return i;throw a(n(i)+" is not an object")}},7556:(R,c,e)=>{var t=e(47293);R.exports=t(function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},41318:(R,c,e)=>{var t=e(45656),n=e(51400),a=e(26244),i=function(d){return function(r,l,p){var v,h=t(r),m=a(h),_=n(p,m);if(d&&l!=l){for(;m>_;)if((v=h[_++])!=v)return!0}else for(;m>_;_++)if((d||_ in h)&&h[_]===l)return d||_||0;return!d&&-1}};R.exports={includes:i(!0),indexOf:i(!1)}},50206:(R,c,e)=>{var t=e(1702);R.exports=t([].slice)},84326:(R,c,e)=>{var t=e(1702),n=t({}.toString),a=t("".slice);R.exports=function(i){return a(n(i),8,-1)}},70648:(R,c,e)=>{var t=e(51694),n=e(60614),a=e(84326),d=e(5112)("toStringTag"),r=Object,l="Arguments"==a(function(){return arguments}());R.exports=t?a:function(h){var m,_,v;return void 0===h?"Undefined":null===h?"Null":"string"==typeof(_=function(h,m){try{return h[m]}catch{}}(m=r(h),d))?_:l?a(m):"Object"==(v=a(m))&&n(m.callee)?"Arguments":v}},99920:(R,c,e)=>{var t=e(92597),n=e(53887),a=e(31236),i=e(3070);R.exports=function(d,r,l){for(var p=n(r),h=i.f,m=a.f,_=0;_<p.length;_++){var v=p[_];!t(d,v)&&(!l||!t(l,v))&&h(d,v,m(r,v))}}},49920:(R,c,e)=>{var t=e(47293);R.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},68880:(R,c,e)=>{var t=e(19781),n=e(3070),a=e(79114);R.exports=t?function(i,d,r){return n.f(i,d,a(1,r))}:function(i,d,r){return i[d]=r,i}},79114:R=>{R.exports=function(c,e){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:e}}},98052:(R,c,e)=>{var t=e(60614),n=e(3070),a=e(56339),i=e(13072);R.exports=function(d,r,l,p){p||(p={});var h=p.enumerable,m=void 0!==p.name?p.name:r;if(t(l)&&a(l,m,p),p.global)h?d[r]=l:i(r,l);else{try{p.unsafe?d[r]&&(h=!0):delete d[r]}catch{}h?d[r]=l:n.f(d,r,{value:l,enumerable:!1,configurable:!p.nonConfigurable,writable:!p.nonWritable})}return d}},13072:(R,c,e)=>{var t=e(17854),n=Object.defineProperty;R.exports=function(a,i){try{n(t,a,{value:i,configurable:!0,writable:!0})}catch{t[a]=i}return i}},19781:(R,c,e)=>{var t=e(47293);R.exports=!t(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},4154:R=>{var c="object"==typeof document&&document.all;R.exports={all:c,IS_HTMLDDA:typeof c>"u"&&void 0!==c}},80317:(R,c,e)=>{var t=e(17854),n=e(70111),a=t.document,i=n(a)&&n(a.createElement);R.exports=function(d){return i?a.createElement(d):{}}},88113:R=>{R.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:(R,c,e)=>{var l,p,t=e(17854),n=e(88113),a=t.process,i=t.Deno,d=a&&a.versions||i&&i.version,r=d&&d.v8;r&&(p=(l=r.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!p&&n&&(!(l=n.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=n.match(/Chrome\/(\d+)/))&&(p=+l[1]),R.exports=p},80748:R=>{R.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(R,c,e)=>{var t=e(17854),n=e(31236).f,a=e(68880),i=e(98052),d=e(13072),r=e(99920),l=e(54705);R.exports=function(p,h){var O,S,b,o,D,m=p.target,_=p.global,v=p.stat;if(O=_?t:v?t[m]||d(m,{}):(t[m]||{}).prototype)for(S in h){if(o=h[S],b=p.dontCallGetSet?(D=n(O,S))&&D.value:O[S],!l(_?S:m+(v?".":"#")+S,p.forced)&&void 0!==b){if(typeof o==typeof b)continue;r(o,b)}(p.sham||b&&b.sham)&&a(o,"sham",!0),i(O,S,o,p)}}},47293:R=>{R.exports=function(c){try{return!!c()}catch{return!0}}},76677:(R,c,e)=>{var t=e(47293);R.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},22104:(R,c,e)=>{var t=e(34374),n=Function.prototype,a=n.apply,i=n.call;R.exports="object"==typeof Reflect&&Reflect.apply||(t?i.bind(a):function(){return i.apply(a,arguments)})},34374:(R,c,e)=>{var t=e(47293);R.exports=!t(function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")})},27065:(R,c,e)=>{"use strict";var t=e(1702),n=e(19662),a=e(70111),i=e(92597),d=e(50206),r=e(34374),l=Function,p=t([].concat),h=t([].join),m={},_=function(v,y,O){if(!i(m,y)){for(var S=[],b=0;b<y;b++)S[b]="a["+b+"]";m[y]=l("C,a","return new C("+h(S,",")+")")}return m[y](v,O)};R.exports=r?l.bind:function(y){var O=n(this),S=O.prototype,b=d(arguments,1),o=function(){var M=p(b,d(arguments));return this instanceof o?_(O,M.length,M):O.apply(y,M)};return a(S)&&(o.prototype=S),o}},46916:(R,c,e)=>{var t=e(34374),n=Function.prototype.call;R.exports=t?n.bind(n):function(){return n.apply(n,arguments)}},76530:(R,c,e)=>{var t=e(19781),n=e(92597),a=Function.prototype,i=t&&Object.getOwnPropertyDescriptor,d=n(a,"name"),r=d&&"something"===function(){}.name,l=d&&(!t||t&&i(a,"name").configurable);R.exports={EXISTS:d,PROPER:r,CONFIGURABLE:l}},75668:(R,c,e)=>{var t=e(1702),n=e(19662);R.exports=function(a,i,d){try{return t(n(Object.getOwnPropertyDescriptor(a,i)[d]))}catch{}}},1702:(R,c,e)=>{var t=e(34374),n=Function.prototype,a=n.call,i=t&&n.bind.bind(a,a);R.exports=t?i:function(d){return function(){return a.apply(d,arguments)}}},35005:(R,c,e)=>{var t=e(17854),n=e(60614),a=function(i){return n(i)?i:void 0};R.exports=function(i,d){return arguments.length<2?a(t[i]):t[i]&&t[i][d]}},58173:(R,c,e)=>{var t=e(19662),n=e(68554);R.exports=function(a,i){var d=a[i];return n(d)?void 0:t(d)}},17854:R=>{var c=function(e){return e&&e.Math==Math&&e};R.exports=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof global&&global)||function(){return this}()||Function("return this")()},92597:(R,c,e)=>{var t=e(1702),n=e(47908),a=t({}.hasOwnProperty);R.exports=Object.hasOwn||function(d,r){return a(n(d),r)}},3501:R=>{R.exports={}},60490:(R,c,e)=>{var t=e(35005);R.exports=t("document","documentElement")},64664:(R,c,e)=>{var t=e(19781),n=e(47293),a=e(80317);R.exports=!t&&!n(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},68361:(R,c,e)=>{var t=e(1702),n=e(47293),a=e(84326),i=Object,d=t("".split);R.exports=n(function(){return!i("z").propertyIsEnumerable(0)})?function(r){return"String"==a(r)?d(r,""):i(r)}:i},42788:(R,c,e)=>{var t=e(1702),n=e(60614),a=e(5465),i=t(Function.toString);n(a.inspectSource)||(a.inspectSource=function(d){return i(d)}),R.exports=a.inspectSource},29909:(R,c,e)=>{var v,y,O,t=e(94811),n=e(17854),a=e(70111),i=e(68880),d=e(92597),r=e(5465),l=e(6200),p=e(3501),h="Object already initialized",m=n.TypeError;if(t||r.state){var o=r.state||(r.state=new(0,n.WeakMap));o.get=o.get,o.has=o.has,o.set=o.set,v=function(M,C){if(o.has(M))throw m(h);return C.facade=M,o.set(M,C),C},y=function(M){return o.get(M)||{}},O=function(M){return o.has(M)}}else{var D=l("state");p[D]=!0,v=function(M,C){if(d(M,D))throw m(h);return C.facade=M,i(M,D,C),C},y=function(M){return d(M,D)?M[D]:{}},O=function(M){return d(M,D)}}R.exports={set:v,get:y,has:O,enforce:function(M){return O(M)?y(M):v(M,{})},getterFor:function(M){return function(C){var T;if(!a(C)||(T=y(C)).type!==M)throw m("Incompatible receiver, "+M+" required");return T}}}},60614:(R,c,e)=>{var t=e(4154),n=t.all;R.exports=t.IS_HTMLDDA?function(a){return"function"==typeof a||a===n}:function(a){return"function"==typeof a}},4411:(R,c,e)=>{var t=e(1702),n=e(47293),a=e(60614),i=e(70648),d=e(35005),r=e(42788),l=function(){},p=[],h=d("Reflect","construct"),m=/^\s*(?:class|function)\b/,_=t(m.exec),v=!m.exec(l),y=function(b){if(!a(b))return!1;try{return h(l,p,b),!0}catch{return!1}},O=function(b){if(!a(b))return!1;switch(i(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!_(m,r(b))}catch{return!0}};O.sham=!0,R.exports=!h||n(function(){var S;return y(y.call)||!y(Object)||!y(function(){S=!0})||S})?O:y},45032:(R,c,e)=>{var t=e(92597);R.exports=function(n){return void 0!==n&&(t(n,"value")||t(n,"writable"))}},54705:(R,c,e)=>{var t=e(47293),n=e(60614),a=/#|\.prototype\./,i=function(h,m){var _=r[d(h)];return _==p||_!=l&&(n(m)?t(m):!!m)},d=i.normalize=function(h){return String(h).replace(a,".").toLowerCase()},r=i.data={},l=i.NATIVE="N",p=i.POLYFILL="P";R.exports=i},68554:R=>{R.exports=function(c){return null==c}},70111:(R,c,e)=>{var t=e(60614),n=e(4154),a=n.all;R.exports=n.IS_HTMLDDA?function(i){return"object"==typeof i?null!==i:t(i)||i===a}:function(i){return"object"==typeof i?null!==i:t(i)}},31913:R=>{R.exports=!1},52190:(R,c,e)=>{var t=e(35005),n=e(60614),a=e(47976),i=e(43307),d=Object;R.exports=i?function(r){return"symbol"==typeof r}:function(r){var l=t("Symbol");return n(l)&&a(l.prototype,d(r))}},26244:(R,c,e)=>{var t=e(17466);R.exports=function(n){return t(n.length)}},56339:(R,c,e)=>{var t=e(1702),n=e(47293),a=e(60614),i=e(92597),d=e(19781),r=e(76530).CONFIGURABLE,l=e(42788),p=e(29909),h=p.enforce,m=p.get,_=String,v=Object.defineProperty,y=t("".slice),O=t("".replace),S=t([].join),b=d&&!n(function(){return 8!==v(function(){},"length",{value:8}).length}),o=String(String).split("String"),D=R.exports=function(M,C,T){"Symbol("===y(_(C),0,7)&&(C="["+O(_(C),/^Symbol\(([^)]*)\)/,"$1")+"]"),T&&T.getter&&(C="get "+C),T&&T.setter&&(C="set "+C),(!i(M,"name")||r&&M.name!==C)&&(d?v(M,"name",{value:C,configurable:!0}):M.name=C),b&&T&&i(T,"arity")&&M.length!==T.arity&&v(M,"length",{value:T.arity});try{T&&i(T,"constructor")&&T.constructor?d&&v(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var g=h(M);return i(g,"source")||(g.source=S(o,"string"==typeof C?C:"")),M};Function.prototype.toString=D(function(){return a(this)&&m(this).source||l(this)},"toString")},74758:R=>{var c=Math.ceil,e=Math.floor;R.exports=Math.trunc||function(n){var a=+n;return(a>0?e:c)(a)}},70030:(R,c,e)=>{var o,t=e(19670),n=e(36048),a=e(80748),i=e(3501),d=e(60490),r=e(80317),l=e(6200),m="prototype",_="script",v=l("IE_PROTO"),y=function(){},O=function(M){return"<"+_+">"+M+"</"+_+">"},S=function(M){M.write(O("")),M.close();var C=M.parentWindow.Object;return M=null,C},D=function(){try{o=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&o?S(o):function(){var T,M=r("iframe"),C="java"+_+":";return M.style.display="none",d.appendChild(M),M.src=String(C),(T=M.contentWindow.document).open(),T.write(O("document.F=Object")),T.close(),T.F}():S(o);for(var M=a.length;M--;)delete D[m][a[M]];return D()};i[v]=!0,R.exports=Object.create||function(C,T){var g;return null!==C?(y[m]=t(C),g=new y,y[m]=null,g[v]=C):g=D(),void 0===T?g:n.f(g,T)}},36048:(R,c,e)=>{var t=e(19781),n=e(3353),a=e(3070),i=e(19670),d=e(45656),r=e(81956);c.f=t&&!n?Object.defineProperties:function(p,h){i(p);for(var O,m=d(h),_=r(h),v=_.length,y=0;v>y;)a.f(p,O=_[y++],m[O]);return p}},3070:(R,c,e)=>{var t=e(19781),n=e(64664),a=e(3353),i=e(19670),d=e(34948),r=TypeError,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor,h="enumerable",m="configurable",_="writable";c.f=t?a?function(y,O,S){if(i(y),O=d(O),i(S),"function"==typeof y&&"prototype"===O&&"value"in S&&_ in S&&!S[_]){var b=p(y,O);b&&b[_]&&(y[O]=S.value,S={configurable:m in S?S[m]:b[m],enumerable:h in S?S[h]:b[h],writable:!1})}return l(y,O,S)}:l:function(y,O,S){if(i(y),O=d(O),i(S),n)try{return l(y,O,S)}catch{}if("get"in S||"set"in S)throw r("Accessors not supported");return"value"in S&&(y[O]=S.value),y}},31236:(R,c,e)=>{var t=e(19781),n=e(46916),a=e(55296),i=e(79114),d=e(45656),r=e(34948),l=e(92597),p=e(64664),h=Object.getOwnPropertyDescriptor;c.f=t?h:function(_,v){if(_=d(_),v=r(v),p)try{return h(_,v)}catch{}if(l(_,v))return i(!n(a.f,_,v),_[v])}},8006:(R,c,e)=>{var t=e(16324),a=e(80748).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(d){return t(d,a)}},25181:(R,c)=>{c.f=Object.getOwnPropertySymbols},79518:(R,c,e)=>{var t=e(92597),n=e(60614),a=e(47908),i=e(6200),d=e(49920),r=i("IE_PROTO"),l=Object,p=l.prototype;R.exports=d?l.getPrototypeOf:function(h){var m=a(h);if(t(m,r))return m[r];var _=m.constructor;return n(_)&&m instanceof _?_.prototype:m instanceof l?p:null}},52050:(R,c,e)=>{var t=e(47293),n=e(70111),a=e(84326),i=e(7556),d=Object.isExtensible,r=t(function(){d(1)});R.exports=r||i?function(p){return!(!n(p)||i&&"ArrayBuffer"==a(p))&&(!d||d(p))}:d},47976:(R,c,e)=>{var t=e(1702);R.exports=t({}.isPrototypeOf)},16324:(R,c,e)=>{var t=e(1702),n=e(92597),a=e(45656),i=e(41318).indexOf,d=e(3501),r=t([].push);R.exports=function(l,p){var v,h=a(l),m=0,_=[];for(v in h)!n(d,v)&&n(h,v)&&r(_,v);for(;p.length>m;)n(h,v=p[m++])&&(~i(_,v)||r(_,v));return _}},81956:(R,c,e)=>{var t=e(16324),n=e(80748);R.exports=Object.keys||function(i){return t(i,n)}},55296:(R,c)=>{"use strict";var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);c.f=n?function(i){var d=t(this,i);return!!d&&d.enumerable}:e},27674:(R,c,e)=>{var t=e(75668),n=e(19670),a=e(96077);R.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,i=!1,d={};try{(r=t(Object.prototype,"__proto__","set"))(d,[]),i=d instanceof Array}catch{}return function(p,h){return n(p),a(h),i?r(p,h):p.__proto__=h,p}}():void 0)},90288:(R,c,e)=>{"use strict";var t=e(51694),n=e(70648);R.exports=t?{}.toString:function(){return"[object "+n(this)+"]"}},92140:(R,c,e)=>{var t=e(46916),n=e(60614),a=e(70111),i=TypeError;R.exports=function(d,r){var l,p;if("string"===r&&n(l=d.toString)&&!a(p=t(l,d))||n(l=d.valueOf)&&!a(p=t(l,d))||"string"!==r&&n(l=d.toString)&&!a(p=t(l,d)))return p;throw i("Can't convert object to primitive value")}},53887:(R,c,e)=>{var t=e(35005),n=e(1702),a=e(8006),i=e(25181),d=e(19670),r=n([].concat);R.exports=t("Reflect","ownKeys")||function(p){var h=a.f(d(p)),m=i.f;return m?r(h,m(p)):h}},40857:(R,c,e)=>{var t=e(17854);R.exports=t},84488:(R,c,e)=>{var t=e(68554),n=TypeError;R.exports=function(a){if(t(a))throw n("Can't call method on "+a);return a}},58003:(R,c,e)=>{var t=e(3070).f,n=e(92597),i=e(5112)("toStringTag");R.exports=function(d,r,l){d&&!l&&(d=d.prototype),d&&!n(d,i)&&t(d,i,{configurable:!0,value:r})}},6200:(R,c,e)=>{var t=e(72309),n=e(69711),a=t("keys");R.exports=function(i){return a[i]||(a[i]=n(i))}},5465:(R,c,e)=>{var t=e(17854),n=e(13072),a="__core-js_shared__",i=t[a]||n(a,{});R.exports=i},72309:(R,c,e)=>{var t=e(31913),n=e(5465);(R.exports=function(a,i){return n[a]||(n[a]=void 0!==i?i:{})})("versions",[]).push({version:"3.30.1",mode:t?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},36293:(R,c,e)=>{var t=e(7392),n=e(47293);R.exports=!!Object.getOwnPropertySymbols&&!n(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&t&&t<41})},51400:(R,c,e)=>{var t=e(19303),n=Math.max,a=Math.min;R.exports=function(i,d){var r=t(i);return r<0?n(r+d,0):a(r,d)}},45656:(R,c,e)=>{var t=e(68361),n=e(84488);R.exports=function(a){return t(n(a))}},19303:(R,c,e)=>{var t=e(74758);R.exports=function(n){var a=+n;return a!=a||0===a?0:t(a)}},17466:(R,c,e)=>{var t=e(19303),n=Math.min;R.exports=function(a){return a>0?n(t(a),9007199254740991):0}},47908:(R,c,e)=>{var t=e(84488),n=Object;R.exports=function(a){return n(t(a))}},57593:(R,c,e)=>{var t=e(46916),n=e(70111),a=e(52190),i=e(58173),d=e(92140),r=e(5112),l=TypeError,p=r("toPrimitive");R.exports=function(h,m){if(!n(h)||a(h))return h;var v,_=i(h,p);if(_){if(void 0===m&&(m="default"),v=t(_,h,m),!n(v)||a(v))return v;throw l("Can't convert object to primitive value")}return void 0===m&&(m="number"),d(h,m)}},34948:(R,c,e)=>{var t=e(57593),n=e(52190);R.exports=function(a){var i=t(a,"string");return n(i)?i:i+""}},51694:(R,c,e)=>{var a={};a[e(5112)("toStringTag")]="z",R.exports="[object z]"===String(a)},66330:R=>{var c=String;R.exports=function(e){try{return c(e)}catch{return"Object"}}},69711:(R,c,e)=>{var t=e(1702),n=0,a=Math.random(),i=t(1..toString);R.exports=function(d){return"Symbol("+(void 0===d?"":d)+")_"+i(++n+a,36)}},43307:(R,c,e)=>{var t=e(36293);R.exports=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(R,c,e)=>{var t=e(19781),n=e(47293);R.exports=t&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},94811:(R,c,e)=>{var t=e(17854),n=e(60614),a=t.WeakMap;R.exports=n(a)&&/native code/.test(String(a))},5112:(R,c,e)=>{var t=e(17854),n=e(72309),a=e(92597),i=e(69711),d=e(36293),r=e(43307),l=t.Symbol,p=n("wks"),h=r?l.for||l:l&&l.withoutSetter||i;R.exports=function(m){return a(p,m)||(p[m]=d&&a(l,m)?l[m]:h("Symbol."+m)),p[m]}},41539:(R,c,e)=>{var t=e(51694),n=e(98052),a=e(90288);t||n(Object.prototype,"toString",a,{unsafe:!0})},36535:(R,c,e)=>{var t=e(82109),n=e(22104),a=e(19662),i=e(19670);t({target:"Reflect",stat:!0,forced:!e(47293)(function(){Reflect.apply(function(){})})},{apply:function(p,h,m){return n(a(p),h,i(m))}})},12419:(R,c,e)=>{var t=e(82109),n=e(35005),a=e(22104),i=e(27065),d=e(39483),r=e(19670),l=e(70111),p=e(70030),h=e(47293),m=n("Reflect","construct"),_=Object.prototype,v=[].push,y=h(function(){function b(){}return!(m(function(){},[],b)instanceof b)}),O=!h(function(){m(function(){})}),S=y||O;t({target:"Reflect",stat:!0,forced:S,sham:S},{construct:function(o,D){d(o),r(D);var M=arguments.length<3?o:d(arguments[2]);if(O&&!y)return m(o,D,M);if(o==M){switch(D.length){case 0:return new o;case 1:return new o(D[0]);case 2:return new o(D[0],D[1]);case 3:return new o(D[0],D[1],D[2]);case 4:return new o(D[0],D[1],D[2],D[3])}var C=[null];return a(v,C,D),new(a(i,o,C))}var T=M.prototype,g=p(l(T)?T:_),U=a(o,g,D);return l(U)?U:g}})},69596:(R,c,e)=>{var t=e(82109),n=e(19781),a=e(19670),i=e(34948),d=e(3070);t({target:"Reflect",stat:!0,forced:e(47293)(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),sham:!n},{defineProperty:function(h,m,_){a(h);var v=i(m);a(_);try{return d.f(h,v,_),!0}catch{return!1}}})},52586:(R,c,e)=>{var t=e(82109),n=e(19670),a=e(31236).f;t({target:"Reflect",stat:!0},{deleteProperty:function(d,r){var l=a(n(d),r);return!(l&&!l.configurable)&&delete d[r]}})},95683:(R,c,e)=>{var t=e(82109),n=e(19781),a=e(19670),i=e(31236);t({target:"Reflect",stat:!0,sham:!n},{getOwnPropertyDescriptor:function(r,l){return i.f(a(r),l)}})},39361:(R,c,e)=>{var t=e(82109),n=e(19670),a=e(79518);t({target:"Reflect",stat:!0,sham:!e(49920)},{getPrototypeOf:function(r){return a(n(r))}})},74819:(R,c,e)=>{var t=e(82109),n=e(46916),a=e(70111),i=e(19670),d=e(45032),r=e(31236),l=e(79518);t({target:"Reflect",stat:!0},{get:function p(h,m){var v,y,_=arguments.length<3?h:arguments[2];return i(h)===_?h[m]:(v=r.f(h,m))?d(v)?v.value:void 0===v.get?void 0:n(v.get,_):a(y=l(h))?p(y,m,_):void 0}})},51037:(R,c,e)=>{e(82109)({target:"Reflect",stat:!0},{has:function(a,i){return i in a}})},5898:(R,c,e)=>{var t=e(82109),n=e(19670),a=e(52050);t({target:"Reflect",stat:!0},{isExtensible:function(d){return n(d),a(d)}})},67556:(R,c,e)=>{e(82109)({target:"Reflect",stat:!0},{ownKeys:e(53887)})},14361:(R,c,e)=>{var t=e(82109),n=e(35005),a=e(19670);t({target:"Reflect",stat:!0,sham:!e(76677)},{preventExtensions:function(r){a(r);try{var l=n("Object","preventExtensions");return l&&l(r),!0}catch{return!1}}})},39532:(R,c,e)=>{var t=e(82109),n=e(19670),a=e(96077),i=e(27674);i&&t({target:"Reflect",stat:!0},{setPrototypeOf:function(r,l){n(r),a(l);try{return i(r,l),!0}catch{return!1}}})},83593:(R,c,e)=>{var t=e(82109),n=e(46916),a=e(19670),i=e(70111),d=e(45032),r=e(47293),l=e(3070),p=e(31236),h=e(79518),m=e(79114);t({target:"Reflect",stat:!0,forced:r(function(){var y=function(){},O=l.f(new y,"a",{configurable:!0});return!1!==Reflect.set(y.prototype,"a",1,O)})},{set:function _(y,O,S){var D,M,C,b=arguments.length<4?y:arguments[3],o=p.f(a(y),O);if(!o){if(i(M=h(y)))return _(M,O,S,b);o=m(0)}if(d(o)){if(!1===o.writable||!i(b))return!1;if(D=p.f(b,O)){if(D.get||D.set||!1===D.writable)return!1;D.value=S,l.f(b,O,D)}else l.f(b,O,m(0,S))}else{if(void 0===(C=o.set))return!1;n(C,b,S)}return!0}})},81299:(R,c,e)=>{var t=e(82109),n=e(17854),a=e(58003);t({global:!0},{Reflect:{}}),a(n.Reflect,"Reflect",!0)},70655:(R,c,e)=>{"use strict";e.r(c),e.d(c,{__assign:()=>a,__asyncDelegator:()=>U,__asyncGenerator:()=>g,__asyncValues:()=>L,__await:()=>T,__awaiter:()=>v,__classPrivateFieldGet:()=>W,__classPrivateFieldIn:()=>ce,__classPrivateFieldSet:()=>ie,__createBinding:()=>O,__decorate:()=>d,__esDecorate:()=>l,__exportStar:()=>S,__extends:()=>n,__generator:()=>y,__importDefault:()=>re,__importStar:()=>z,__makeTemplateObject:()=>j,__metadata:()=>_,__param:()=>r,__propKey:()=>h,__read:()=>o,__rest:()=>i,__runInitializers:()=>p,__setFunctionName:()=>m,__spread:()=>D,__spreadArray:()=>C,__spreadArrays:()=>M,__values:()=>b});var t=function(ne,K){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,Q){w.__proto__=Q}||function(w,Q){for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&(w[oe]=Q[oe])})(ne,K)};function n(ne,K){if("function"!=typeof K&&null!==K)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function w(){this.constructor=ne}t(ne,K),ne.prototype=null===K?Object.create(K):(w.prototype=K.prototype,new w)}var a=function(){return a=Object.assign||function(K){for(var w,Q=1,oe=arguments.length;Q<oe;Q++)for(var q in w=arguments[Q])Object.prototype.hasOwnProperty.call(w,q)&&(K[q]=w[q]);return K},a.apply(this,arguments)};function i(ne,K){var w={};for(var Q in ne)Object.prototype.hasOwnProperty.call(ne,Q)&&K.indexOf(Q)<0&&(w[Q]=ne[Q]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(Q=Object.getOwnPropertySymbols(ne);oe<Q.length;oe++)K.indexOf(Q[oe])<0&&Object.prototype.propertyIsEnumerable.call(ne,Q[oe])&&(w[Q[oe]]=ne[Q[oe]])}return w}function d(ne,K,w,Q){var ee,oe=arguments.length,q=oe<3?K:null===Q?Q=Object.getOwnPropertyDescriptor(K,w):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(ne,K,w,Q);else for(var J=ne.length-1;J>=0;J--)(ee=ne[J])&&(q=(oe<3?ee(q):oe>3?ee(K,w,q):ee(K,w))||q);return oe>3&&q&&Object.defineProperty(K,w,q),q}function r(ne,K){return function(w,Q){K(w,Q,ne)}}function l(ne,K,w,Q,oe,q){function ee(Ne){if(void 0!==Ne&&"function"!=typeof Ne)throw new TypeError("Function expected");return Ne}for(var ve,J=Q.kind,Ee="getter"===J?"get":"setter"===J?"set":"value",Oe=!K&&ne?Q.static?ne:ne.prototype:null,Re=K||(Oe?Object.getOwnPropertyDescriptor(Oe,Q.name):{}),Pe=!1,et=w.length-1;et>=0;et--){var Ze={};for(var tt in Q)Ze[tt]="access"===tt?{}:Q[tt];for(var tt in Q.access)Ze.access[tt]=Q.access[tt];Ze.addInitializer=function(Ne){if(Pe)throw new TypeError("Cannot add initializers after decoration has completed");q.push(ee(Ne||null))};var yt=(0,w[et])("accessor"===J?{get:Re.get,set:Re.set}:Re[Ee],Ze);if("accessor"===J){if(void 0===yt)continue;if(null===yt||"object"!=typeof yt)throw new TypeError("Object expected");(ve=ee(yt.get))&&(Re.get=ve),(ve=ee(yt.set))&&(Re.set=ve),(ve=ee(yt.init))&&oe.push(ve)}else(ve=ee(yt))&&("field"===J?oe.push(ve):Re[Ee]=ve)}Oe&&Object.defineProperty(Oe,Q.name,Re),Pe=!0}function p(ne,K,w){for(var Q=arguments.length>2,oe=0;oe<K.length;oe++)w=Q?K[oe].call(ne,w):K[oe].call(ne);return Q?w:void 0}function h(ne){return"symbol"==typeof ne?ne:"".concat(ne)}function m(ne,K,w){return"symbol"==typeof K&&(K=K.description?"[".concat(K.description,"]"):""),Object.defineProperty(ne,"name",{configurable:!0,value:w?"".concat(w," ",K):K})}function _(ne,K){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ne,K)}function v(ne,K,w,Q){return new(w||(w=Promise))(function(q,ee){function J(Re){try{Oe(Q.next(Re))}catch(ve){ee(ve)}}function Ee(Re){try{Oe(Q.throw(Re))}catch(ve){ee(ve)}}function Oe(Re){Re.done?q(Re.value):function oe(q){return q instanceof w?q:new w(function(ee){ee(q)})}(Re.value).then(J,Ee)}Oe((Q=Q.apply(ne,K||[])).next())})}function y(ne,K){var Q,oe,q,ee,w={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return ee={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&(ee[Symbol.iterator]=function(){return this}),ee;function J(Oe){return function(Re){return function Ee(Oe){if(Q)throw new TypeError("Generator is already executing.");for(;ee&&(ee=0,Oe[0]&&(w=0)),w;)try{if(Q=1,oe&&(q=2&Oe[0]?oe.return:Oe[0]?oe.throw||((q=oe.return)&&q.call(oe),0):oe.next)&&!(q=q.call(oe,Oe[1])).done)return q;switch(oe=0,q&&(Oe=[2&Oe[0],q.value]),Oe[0]){case 0:case 1:q=Oe;break;case 4:return w.label++,{value:Oe[1],done:!1};case 5:w.label++,oe=Oe[1],Oe=[0];continue;case 7:Oe=w.ops.pop(),w.trys.pop();continue;default:if(!(q=(q=w.trys).length>0&&q[q.length-1])&&(6===Oe[0]||2===Oe[0])){w=0;continue}if(3===Oe[0]&&(!q||Oe[1]>q[0]&&Oe[1]<q[3])){w.label=Oe[1];break}if(6===Oe[0]&&w.label<q[1]){w.label=q[1],q=Oe;break}if(q&&w.label<q[2]){w.label=q[2],w.ops.push(Oe);break}q[2]&&w.ops.pop(),w.trys.pop();continue}Oe=K.call(ne,w)}catch(Re){Oe=[6,Re],oe=0}finally{Q=q=0}if(5&Oe[0])throw Oe[1];return{value:Oe[0]?Oe[1]:void 0,done:!0}}([Oe,Re])}}}var O=Object.create?function(ne,K,w,Q){void 0===Q&&(Q=w);var oe=Object.getOwnPropertyDescriptor(K,w);(!oe||("get"in oe?!K.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return K[w]}}),Object.defineProperty(ne,Q,oe)}:function(ne,K,w,Q){void 0===Q&&(Q=w),ne[Q]=K[w]};function S(ne,K){for(var w in ne)"default"!==w&&!Object.prototype.hasOwnProperty.call(K,w)&&O(K,ne,w)}function b(ne){var K="function"==typeof Symbol&&Symbol.iterator,w=K&&ne[K],Q=0;if(w)return w.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Q>=ne.length&&(ne=void 0),{value:ne&&ne[Q++],done:!ne}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(ne,K){var w="function"==typeof Symbol&&ne[Symbol.iterator];if(!w)return ne;var oe,ee,Q=w.call(ne),q=[];try{for(;(void 0===K||K-- >0)&&!(oe=Q.next()).done;)q.push(oe.value)}catch(J){ee={error:J}}finally{try{oe&&!oe.done&&(w=Q.return)&&w.call(Q)}finally{if(ee)throw ee.error}}return q}function D(){for(var ne=[],K=0;K<arguments.length;K++)ne=ne.concat(o(arguments[K]));return ne}function M(){for(var ne=0,K=0,w=arguments.length;K<w;K++)ne+=arguments[K].length;var Q=Array(ne),oe=0;for(K=0;K<w;K++)for(var q=arguments[K],ee=0,J=q.length;ee<J;ee++,oe++)Q[oe]=q[ee];return Q}function C(ne,K,w){if(w||2===arguments.length)for(var q,Q=0,oe=K.length;Q<oe;Q++)(q||!(Q in K))&&(q||(q=Array.prototype.slice.call(K,0,Q)),q[Q]=K[Q]);return ne.concat(q||Array.prototype.slice.call(K))}function T(ne){return this instanceof T?(this.v=ne,this):new T(ne)}function g(ne,K,w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,Q=w.apply(ne,K||[]),q=[];return oe={},ee("next"),ee("throw"),ee("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function ee(Pe){Q[Pe]&&(oe[Pe]=function(et){return new Promise(function(Ze,tt){q.push([Pe,et,Ze,tt])>1||J(Pe,et)})})}function J(Pe,et){try{!function Ee(Pe){Pe.value instanceof T?Promise.resolve(Pe.value.v).then(Oe,Re):ve(q[0][2],Pe)}(Q[Pe](et))}catch(Ze){ve(q[0][3],Ze)}}function Oe(Pe){J("next",Pe)}function Re(Pe){J("throw",Pe)}function ve(Pe,et){Pe(et),q.shift(),q.length&&J(q[0][0],q[0][1])}}function U(ne){var K,w;return K={},Q("next"),Q("throw",function(oe){throw oe}),Q("return"),K[Symbol.iterator]=function(){return this},K;function Q(oe,q){K[oe]=ne[oe]?function(ee){return(w=!w)?{value:T(ne[oe](ee)),done:!1}:q?q(ee):ee}:q}}function L(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w,K=ne[Symbol.asyncIterator];return K?K.call(ne):(ne=b(ne),w={},Q("next"),Q("throw"),Q("return"),w[Symbol.asyncIterator]=function(){return this},w);function Q(q){w[q]=ne[q]&&function(ee){return new Promise(function(J,Ee){!function oe(q,ee,J,Ee){Promise.resolve(Ee).then(function(Oe){q({value:Oe,done:J})},ee)}(J,Ee,(ee=ne[q](ee)).done,ee.value)})}}}function j(ne,K){return Object.defineProperty?Object.defineProperty(ne,"raw",{value:K}):ne.raw=K,ne}var $=Object.create?function(ne,K){Object.defineProperty(ne,"default",{enumerable:!0,value:K})}:function(ne,K){ne.default=K};function z(ne){if(ne&&ne.__esModule)return ne;var K={};if(null!=ne)for(var w in ne)"default"!==w&&Object.prototype.hasOwnProperty.call(ne,w)&&O(K,ne,w);return $(K,ne),K}function re(ne){return ne&&ne.__esModule?ne:{default:ne}}function W(ne,K,w,Q){if("a"===w&&!Q)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof K?ne!==K||!Q:!K.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===w?Q:"a"===w?Q.call(ne):Q?Q.value:K.get(ne)}function ie(ne,K,w,Q,oe){if("m"===Q)throw new TypeError("Private method is not writable");if("a"===Q&&!oe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof K?ne!==K||!oe:!K.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Q?oe.call(ne,w):oe?oe.value=w:K.set(ne,w),w}function ce(ne,K){if(null===K||"object"!=typeof K&&"function"!=typeof K)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof ne?K===ne:ne.has(K)}},90401:(R,c,e)=>{var t={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[37373,7373]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=90401,R.exports=n},64178:(R,c,e)=>{var t={"./custom/app/breadcrumbs/breadcrumbs.component":[82758,2758]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=64178,R.exports=n},12960:(R,c,e)=>{var t={"./custom/app/browse-by/browse-by-switcher/browse-by-switcher.component":[72335,8592,2335]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return Promise.all(i.slice(1).map(e.e)).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=12960,R.exports=n},71169:(R,c,e)=>{var t={"./custom/app/footer/footer.component":[94231,4231]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=71169,R.exports=n},64496:(R,c,e)=>{var t={"./custom/app/forbidden/forbidden.component":[8178,8178]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=64496,R.exports=n},7942:(R,c,e)=>{var t={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[94760,4760],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[26348]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return Promise.all(i.slice(1).map(e.e)).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=7942,R.exports=n},73632:(R,c,e)=>{var t={"./custom/app/header/header.component":[32468,2468],"./dspace/app/header/header.component":[45967]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return Promise.all(i.slice(1).map(e.e)).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=73632,R.exports=n},49519:(R,c,e)=>{var t={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[92453,2453]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=49519,R.exports=n},86192:(R,c,e)=>{var t={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[16479,6479]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=86192,R.exports=n},67309:(R,c,e)=>{var t={"./custom/app/navbar/navbar.component":[22389,2389],"./dspace/app/navbar/navbar.component":[39150]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return Promise.all(i.slice(1).map(e.e)).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=67309,R.exports=n},53781:R=>{function c(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}c.keys=()=>[],c.resolve=c,c.id=53781,R.exports=c},84978:R=>{function c(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}c.keys=()=>[],c.resolve=c,c.id=84978,R.exports=c},11489:(R,c,e)=>{var t={"./custom/app/pagenotfound/pagenotfound.component":[13273,3273]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=11489,R.exports=n},70743:(R,c,e)=>{var t={"./custom/app/root/root.component":[53976,3976]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=70743,R.exports=n},1741:(R,c,e)=>{var t={"./custom/app/search-navbar/search-navbar.component":[5984,5984]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=1741,R.exports=n},40140:(R,c,e)=>{var t={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[48534,8534]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=40140,R.exports=n},26313:(R,c,e)=>{var t={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[39972,9972]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=26313,R.exports=n},45285:(R,c,e)=>{var t={"./custom/app/shared/browse-by/browse-by.component.ts":[43549,3549]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=45285,R.exports=n},13007:(R,c,e)=>{var t={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[12622,2622]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=13007,R.exports=n},1266:(R,c,e)=>{var t={"./custom/app/shared/comcol-page-browse-by/comcol-page-browse-by.component":[49022,9022]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=1266,R.exports=n},13922:R=>{function c(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}c.keys=()=>[],c.resolve=c,c.id=13922,R.exports=c},50470:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[87627,7627]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=50470,R.exports=n},76971:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[89014,9014]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=76971,R.exports=n},48345:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[73435,3435]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=48345,R.exports=n},42864:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[37462,7462]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=42864,R.exports=n},59258:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[46802,6802]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=59258,R.exports=n},21554:(R,c,e)=>{var t={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[78222,2977]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=21554,R.exports=n},27935:(R,c,e)=>{var t={"./custom/app/shared/file-download-link/file-download-link.component":[39443,9443]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=27935,R.exports=n},86251:(R,c,e)=>{var t={"./custom/app/shared/lang-switch/lang-switch.component":[42769,2769]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=86251,R.exports=n},65645:(R,c,e)=>{var t={"./custom/app/shared/loading/loading.component":[96343,8592]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=65645,R.exports=n},77138:(R,c,e)=>{var t={"./custom/app/shared/log-in/log-in.component":[20626,626]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=77138,R.exports=n},29381:(R,c,e)=>{var t={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[51840,1840]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=29381,R.exports=n},60544:(R,c,e)=>{var t={"./custom/app/shared/object-collection/shared/badges/badges.component":[7869,7869]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=60544,R.exports=n},52614:(R,c,e)=>{var t={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[32628,2628]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=52614,R.exports=n},15371:(R,c,e)=>{var t={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[42101,2101]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=15371,R.exports=n},84012:(R,c,e)=>{var t={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[47235,7235]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=84012,R.exports=n},90745:(R,c,e)=>{var t={"./custom/app/shared/object-list/object-list.component":[75157,5157]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=90745,R.exports=n},8817:(R,c,e)=>{var t={"./custom/app/shared/results-back-button/results-back-button.component":[375,8592,375]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return Promise.all(i.slice(1).map(e.e)).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=8817,R.exports=n},52158:(R,c,e)=>{var t={"./custom/app/shared/search-form/search-form.component":[88048,8048]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=52158,R.exports=n},92790:R=>{function c(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}c.keys=()=>[],c.resolve=c,c.id=92790,R.exports=c},85430:(R,c,e)=>{var t={"./custom/app/thumbnail/thumbnail.component":[32476,8592]};function n(a){if(!e.o(t,a))return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r});var i=t[a],d=i[0];return e.e(i[1]).then(()=>e(d))}n.keys=()=>Object.keys(t),n.id=85430,R.exports=n},94879:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(t,n,a,i,d,r,l){var p=new Date(0);return p.setUTCFullYear(t,n,a),p.setUTCHours(i,d,r,l),p},R.exports=c.default},23237:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(i,d,r){var l=function a(i,d,r){if(r&&!r.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:d,timeZoneName:i})}(i,r.timeZone,r.locale);return l.formatToParts?function t(i,d){for(var r=i.formatToParts(d),l=r.length-1;l>=0;--l)if("timeZoneName"===r[l].type)return r[l].value}(l,d):function n(i,d){var r=i.format(d).replace(/\u200E/g,""),l=/ [\w-+ ]+$/.exec(r);return l?l[0].substr(1):""}(l,d)},R.exports=c.default},35354:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(O,S,b){var o,D,M;if(!O||(o=r.timezoneZ.exec(O)))return 0;if(o=r.timezoneHH.exec(O))return _(M=parseInt(o[1],10))?-M*i:NaN;if(o=r.timezoneHHMM.exec(O)){M=parseInt(o[1],10);var C=parseInt(o[2],10);return _(M,C)?(D=Math.abs(M)*i+C*d,M>0?-D:D):NaN}if(function y(O){if(v[O])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:O}),v[O]=!0,!0}catch{return!1}}(O)){S=new Date(S||Date.now());var T=b?S:function p(O){return(0,n.default)(O.getFullYear(),O.getMonth(),O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds())}(S),g=h(T,O),U=b?g:function m(O,S,b){var D=O.getTime()-S,M=h(new Date(D),b);if(S===M)return S;D-=M-S;var C=h(new Date(D),b);return M===C?M:Math.max(M,C)}(S,g,O);return-U}return NaN};var t=a(e(1098)),n=a(e(94879));function a(O){return O&&O.__esModule?O:{default:O}}var i=36e5,d=6e4,r={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function h(O,S){var b=(0,t.default)(O,S),o=(0,n.default)(b[0],b[1]-1,b[2],b[3]%24,b[4],b[5],0).getTime(),D=O.getTime(),M=D%1e3;return o-(D-(M>=0?M:1e3+M))}function _(O,S){return-23<=O&&O<=23&&(null==S||0<=S&&S<=59)}var v={};R.exports=c.default},31514:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,R.exports=c.default},1098:(R,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function e(r,l){var p=function d(r){if(!i[r]){var l=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));i[r]="06/25/2014, 00:00:00"===l||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===l?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return i[r]}(l);return p.formatToParts?function n(r,l){try{for(var p=r.formatToParts(l),h=[],m=0;m<p.length;m++){var _=t[p[m].type];_>=0&&(h[_]=parseInt(p[m].value,10))}return h}catch(v){if(v instanceof RangeError)return[NaN];throw v}}(p,r):function a(r,l){var p=r.format(l).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(p);return[h[3],h[1],h[2],h[4],h[5],h[6]]}(p,r)};var t={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};R.exports=c.default},26025:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t=a(e(23237)),n=a(e(35354));function a(v){return v&&v.__esModule?v:{default:v}}var i=6e4;function r(v,y){var O=v?(0,n.default)(v,y,!0)/i:y.getTimezoneOffset();if(Number.isNaN(O))throw new RangeError("Invalid time zone specified: "+v);return O}function l(v,y){for(var O=v<0?"-":"",S=Math.abs(v).toString();S.length<y;)S="0"+S;return O+S}function p(v,y){var O=y||"",S=v>0?"-":"+",b=Math.abs(v);return S+l(Math.floor(b/60),2)+O+l(Math.floor(b%60),2)}function h(v,y){return v%60==0?(v>0?"-":"+")+l(Math.abs(v)/60,2):p(v,y)}c.default={X:function(v,y,O,S){var b=r(S.timeZone,S._originalDate||v);if(0===b)return"Z";switch(y){case"X":return h(b);case"XXXX":case"XX":return p(b);default:return p(b,":")}},x:function(v,y,O,S){var b=r(S.timeZone,S._originalDate||v);switch(y){case"x":return h(b);case"xxxx":case"xx":return p(b);default:return p(b,":")}},O:function(v,y,O,S){var b=r(S.timeZone,S._originalDate||v);switch(y){case"O":case"OO":case"OOO":return"GMT"+function m(v,y){var O=v>0?"-":"+",S=Math.abs(v),b=Math.floor(S/60),o=S%60;if(0===o)return O+String(b);var D=y||"";return O+String(b)+D+l(o,2)}(b,":");default:return"GMT"+p(b,":")}},z:function(v,y,O,S){var b=S._originalDate||v;switch(y){case"z":case"zz":case"zzz":return(0,t.default)("short",b,S);default:return(0,t.default)("long",b,S)}}},R.exports=c.default},11861:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function r(l,p,h){var m=String(p),_=h||{},v=m.match(d);if(v){var y=(0,a.default)(l,_);m=v.reduce(function(O,S){if("'"===S[0])return O;var b=O.indexOf(S),o="'"===O[b-1],D=O.replace(S,"'"+n.default[S[0]](y,S,null,_)+"'");return o?D.substring(0,b-1)+D.substring(b+1):D},m)}return(0,t.default)(l,m,_)};var t=i(e(87448)),n=i(e(26025)),a=i(e(68158));function i(l){return l&&l.__esModule?l:{default:l}}var d=/([xXOz]+)|''|'(''|[^'])+('|$)/g;R.exports=c.default},96211:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function d(r,l,p,h){var m=(0,t.default)(h);return m.timeZone=l,(0,n.default)((0,a.default)(r,l),p,m)};var t=i(e(17397)),n=i(e(11861)),a=i(e(44338));function i(r){return r&&r.__esModule?r:{default:r}}R.exports=c.default},98024:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function a(i,d){return-(0,t.default)(i,d)};var t=function n(i){return i&&i.__esModule?i:{default:i}}(e(35354));R.exports=c.default},65416:(R,c,e)=>{"use strict";R.exports={format:e(11861),formatInTimeZone:e(96211),getTimezoneOffset:e(98024),toDate:e(68158),utcToZonedTime:e(44338),zonedTimeToUtc:e(75838)}},68158:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function m(U,L){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===U)return new Date(NaN);var j=L||{},$=null==j.additionalDigits?p:(0,t.default)(j.additionalDigits);if(2!==$&&1!==$&&0!==$)throw new RangeError("additionalDigits must be 0, 1 or 2");if(U instanceof Date||"object"==typeof U&&"[object Date]"===Object.prototype.toString.call(U))return new Date(U.getTime());if("number"==typeof U||"[object Number]"===Object.prototype.toString.call(U))return new Date(U);if("string"!=typeof U&&"[object String]"!==Object.prototype.toString.call(U))return new Date(NaN);var z=function _(U){var $,L={},j=h.dateTimePattern.exec(U);if(j?(L.date=j[1],$=j[3]):(j=h.datePattern.exec(U))?(L.date=j[1],$=j[2]):(L.date=null,$=U),$){var z=h.timeZone.exec($);z?(L.time=$.replace(z[1],""),L.timeZone=z[1].trim()):L.time=$}return L}(U),re=function v(U,L){var z,j=h.YYY[L],$=h.YYYYY[L];if(z=h.YYYY.exec(U)||$.exec(U)){var re=z[1];return{year:parseInt(re,10),restDateString:U.slice(re.length)}}if(z=h.YY.exec(U)||j.exec(U)){var W=z[1];return{year:100*parseInt(W,10),restDateString:U.slice(W.length)}}return{year:null}}(z.date,$),ce=function y(U,L){if(null===L)return null;var j,$,z,re;if(0===U.length)return($=new Date(0)).setUTCFullYear(L),$;if(j=h.MM.exec(U))return $=new Date(0),M(L,z=parseInt(j[1],10)-1)?($.setUTCFullYear(L,z),$):new Date(NaN);if(j=h.DDD.exec(U)){$=new Date(0);var W=parseInt(j[1],10);return function C(U,L){if(L<1)return!1;var j=D(U);return!(j&&L>366||!j&&L>365)}(L,W)?($.setUTCFullYear(L,0,W),$):new Date(NaN)}if(j=h.MMDD.exec(U)){$=new Date(0),z=parseInt(j[1],10)-1;var ie=parseInt(j[2],10);return M(L,z,ie)?($.setUTCFullYear(L,z,ie),$):new Date(NaN)}if(j=h.Www.exec(U))return T(0,re=parseInt(j[1],10)-1)?S(L,re):new Date(NaN);if(j=h.WwwD.exec(U)){re=parseInt(j[1],10)-1;var ce=parseInt(j[2],10)-1;return T(0,re,ce)?S(L,re,ce):new Date(NaN)}return null}(re.restDateString,re.year);if(isNaN(ce))return new Date(NaN);if(ce){var w,ne=ce.getTime(),K=0;if(z.time&&(K=function O(U){var L,j,$;if(L=h.HH.exec(U))return g(j=parseFloat(L[1].replace(",",".")))?j%24*r:NaN;if(L=h.HHMM.exec(U))return g(j=parseInt(L[1],10),$=parseFloat(L[2].replace(",",".")))?j%24*r+$*l:NaN;if(L=h.HHMMSS.exec(U)){j=parseInt(L[1],10),$=parseInt(L[2],10);var z=parseFloat(L[3].replace(",","."));return g(j,$,z)?j%24*r+$*l+1e3*z:NaN}return null}(z.time),isNaN(K)))return new Date(NaN);if(z.timeZone||j.timeZone){if(w=(0,a.default)(z.timeZone||j.timeZone,new Date(ne+K)),isNaN(w))return new Date(NaN)}else w=(0,n.default)(new Date(ne+K)),w=(0,n.default)(new Date(ne+K+w));return new Date(ne+K+w)}return new Date(NaN)};var t=d(e(87823)),n=d(e(37684)),a=d(e(35354)),i=d(e(31514));function d(U){return U&&U.__esModule?U:{default:U}}var r=36e5,l=6e4,p=2,h={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function S(U,L,j){L=L||0,j=j||0;var $=new Date(0);$.setUTCFullYear(U,0,4);var re=7*L+j+1-($.getUTCDay()||7);return $.setUTCDate($.getUTCDate()+re),$}var b=[31,28,31,30,31,30,31,31,30,31,30,31],o=[31,29,31,30,31,30,31,31,30,31,30,31];function D(U){return U%400==0||U%4==0&&U%100!=0}function M(U,L,j){if(L<0||L>11)return!1;if(null!=j){if(j<1)return!1;var $=D(U);if($&&j>o[L]||!$&&j>b[L])return!1}return!0}function T(U,L,j){return!(L<0||L>52||null!=j&&(j<0||j>6))}function g(U,L,j){return!(null!=U&&(U<0||U>=25)||null!=L&&(L<0||L>=60)||null!=j&&(j<0||j>=60))}R.exports=c.default},44338:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function i(d,r,l){var p=(0,n.default)(d,l),h=(0,t.default)(r,p,!0),m=new Date(p.getTime()-h),_=new Date(0);return _.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),_.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),_};var t=a(e(35354)),n=a(e(68158));function a(d){return d&&d.__esModule?d:{default:d}}R.exports=c.default},75838:(R,c,e)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function l(p,h,m){if("string"==typeof p&&!p.match(a.default)){var _=(0,t.default)(m);return _.timeZone=h,(0,n.default)(p,_)}var v=(0,n.default)(p,m),y=(0,d.default)(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds()).getTime(),O=(0,i.default)(h,new Date(y));return new Date(y+O)};var t=r(e(17397)),n=r(e(68158)),a=r(e(31514)),i=r(e(35354)),d=r(e(94879));function r(p){return p&&p.__esModule?p:{default:p}}R.exports=c.default},79601:(R,c,e)=>{"use strict";e.d(c,{IO:()=>S,LC:()=>n,SB:()=>h,X$:()=>i,ZE:()=>M,ZN:()=>D,_j:()=>t,eR:()=>_,jt:()=>d,k1:()=>C,l3:()=>a,oB:()=>p,pV:()=>y,ru:()=>r,vP:()=>l});class t{}class n{}const a="*";function i(T,g){return{type:7,name:T,definitions:g,options:{}}}function d(T,g=null){return{type:4,styles:g,timings:T}}function r(T,g=null){return{type:3,steps:T,options:g}}function l(T,g=null){return{type:2,steps:T,options:g}}function p(T){return{type:6,styles:T,offset:null}}function h(T,g,U){return{type:0,name:T,styles:g,options:U}}function _(T,g,U=null){return{type:1,expr:T,animation:g,options:U}}function y(T=null){return{type:9,options:T}}function S(T,g,U=null){return{type:11,selector:T,animation:g,options:U}}function o(T){Promise.resolve().then(T)}class D{constructor(g=0,U=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+U}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){o(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const U="start"==g?this._onStartFns:this._onDoneFns;U.forEach(L=>L()),U.length=0}}class M{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let U=0,L=0,j=0;const $=this.players.length;0==$?o(()=>this._onFinish()):this.players.forEach(z=>{z.onDone(()=>{++U==$&&this._onFinish()}),z.onDestroy(()=>{++L==$&&this._onDestroy()}),z.onStart(()=>{++j==$&&this._onStart()})}),this.totalTime=this.players.reduce((z,re)=>Math.max(z,re.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const U=g*this.totalTime;this.players.forEach(L=>{const j=L.totalTime?Math.min(1,U/L.totalTime):1;L.setPosition(j)})}getPosition(){const g=this.players.reduce((U,L)=>null===U||L.totalTime>U.totalTime?L:U,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const U="start"==g?this._onStartFns:this._onDoneFns;U.forEach(L=>L()),U.length=0}}const C="!"},54232:(R,c,e)=>{"use strict";e.d(c,{Is:()=>l});var t=e(98678),n=e(35103);const a=new t.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function i(){return(0,t.inject)(n.K0)}}),d=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let l=(()=>{class m{constructor(v){this.value="ltr",this.change=new t.EventEmitter,v&&(this.value=function r(m){const _=m?.toLowerCase()||"";return"auto"===_&&typeof navigator<"u"&&navigator?.language?d.test(navigator.language)?"rtl":"ltr":"rtl"===_?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return m.\u0275fac=function(v){return new(v||m)(t.\u0275\u0275inject(a,8))},m.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},68590:(R,c,e)=>{"use strict";e.d(c,{Eq:()=>d,Ig:()=>n,fI:()=>l,su:()=>a});var t=e(98678);function n(h){return null!=h&&"false"!=`${h}`}function a(h,m=0){return function i(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}(h)?Number(h):m}function d(h){return Array.isArray(h)?h:[h]}function l(h){return h instanceof t.ElementRef?h.nativeElement:h}},68650:(R,c,e)=>{"use strict";e.d(c,{Zt:()=>ya,Bh:()=>Js,Wj:()=>Ji,_t:()=>Ms,bA:()=>Ci});var t=e(98678),n=e(35103),a=e(68590),i=e(1828),d=e(9237),r=e(42878),l=e(43035),p=e(12700),h=e(40024);const m={schedule(He){let fe=requestAnimationFrame,de=cancelAnimationFrame;const{delegate:Te}=m;Te&&(fe=Te.requestAnimationFrame,de=Te.cancelAnimationFrame);const N=fe(X=>{de=void 0,He(X)});return new h.w0(()=>de?.(N))},requestAnimationFrame(...He){const{delegate:fe}=m;return(fe?.requestAnimationFrame||requestAnimationFrame)(...He)},cancelAnimationFrame(...He){const{delegate:fe}=m;return(fe?.cancelAnimationFrame||cancelAnimationFrame)(...He)},delegate:void 0};var v=e(47810);const O=new class y extends v.v{flush(fe){this._active=!0;const de=this._scheduled;this._scheduled=void 0;const{actions:Te}=this;let N;fe=fe||Te.shift();do{if(N=fe.execute(fe.state,fe.delay))break}while((fe=Te[0])&&fe.id===de&&Te.shift());if(this._active=!1,N){for(;(fe=Te[0])&&fe.id===de&&Te.shift();)fe.unsubscribe();throw N}}}(class _ extends p.o{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de}requestAsyncId(fe,de,Te=0){return null!==Te&&Te>0?super.requestAsyncId(fe,de,Te):(fe.actions.push(this),fe._scheduled||(fe._scheduled=m.requestAnimationFrame(()=>fe.flush(void 0))))}recycleAsyncId(fe,de,Te=0){var N;if(null!=Te?Te>0:this.delay>0)return super.recycleAsyncId(fe,de,Te);const{actions:X}=fe;null!=de&&(null===(N=X[X.length-1])||void 0===N?void 0:N.id)!==de&&(m.cancelAnimationFrame(de),fe._scheduled=void 0)}});let o,b=1;const D={};function M(He){return He in D&&(delete D[He],!0)}const C={setImmediate(He){const fe=b++;return D[fe]=!0,o||(o=Promise.resolve()),o.then(()=>M(fe)&&He()),fe},clearImmediate(He){M(He)}},{setImmediate:g,clearImmediate:U}=C,L={setImmediate(...He){const{delegate:fe}=L;return(fe?.setImmediate||g)(...He)},clearImmediate(He){const{delegate:fe}=L;return(fe?.clearImmediate||U)(He)},delegate:void 0};new class $ extends v.v{flush(fe){this._active=!0;const de=this._scheduled;this._scheduled=void 0;const{actions:Te}=this;let N;fe=fe||Te.shift();do{if(N=fe.execute(fe.state,fe.delay))break}while((fe=Te[0])&&fe.id===de&&Te.shift());if(this._active=!1,N){for(;(fe=Te[0])&&fe.id===de&&Te.shift();)fe.unsubscribe();throw N}}}(class j extends p.o{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de}requestAsyncId(fe,de,Te=0){return null!==Te&&Te>0?super.requestAsyncId(fe,de,Te):(fe.actions.push(this),fe._scheduled||(fe._scheduled=L.setImmediate(fe.flush.bind(fe,void 0))))}recycleAsyncId(fe,de,Te=0){var N;if(null!=Te?Te>0:this.delay>0)return super.recycleAsyncId(fe,de,Te);const{actions:X}=fe;null!=de&&(null===(N=X[X.length-1])||void 0===N?void 0:N.id)!==de&&(L.clearImmediate(de),fe._scheduled=void 0)}});var W=e(84072),ie=e(77025),ce=e(73522),ne=e(58886),w=e(26729);function Q(He,fe=W.z){return function K(He){return(0,ie.e)((fe,de)=>{let Te=!1,N=null,X=null,G=!1;const le=()=>{if(X?.unsubscribe(),X=null,Te){Te=!1;const Fe=N;N=null,de.next(Fe)}G&&de.complete()},Me=()=>{X=null,G&&de.complete()};fe.subscribe((0,ne.x)(de,Fe=>{Te=!0,N=Fe,X||(0,ce.Xf)(He(Fe)).subscribe(X=(0,ne.x)(de,le,Me))},()=>{G=!0,(!Te||!X||X.closed)&&de.complete()}))})}(()=>(0,w.H)(He,fe))}var oe=e(77007);let q;try{q=typeof Intl<"u"&&Intl.v8BreakIterator}catch{q=!1}let ve,mt,ee=(()=>{class He{constructor(de){this._platformId=de,this.isBrowser=this._platformId?(0,n.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!q)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275inject(t.PLATFORM_ID))},He.\u0275prov=t.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function et(He){return function Pe(){if(null==ve&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ve=!0}))}finally{ve=ve||!1}return ve}()?He:!!He.capture}function At(He){if(function Dt(){if(null==mt){const He=typeof document<"u"?document.head:null;mt=!(!He||!He.createShadowRoot&&!He.attachShadow)}return mt}()){const fe=He.getRootNode?He.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&fe instanceof ShadowRoot)return fe}return null}function $t(He){return He.composedPath?He.composedPath()[0]:He.target}let it=(()=>{class He{constructor(de,Te,N){this._ngZone=de,this._platform=Te,this._scrolled=new i.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=N}register(de){this.scrollContainers.has(de)||this.scrollContainers.set(de,de.elementScrolled().subscribe(()=>this._scrolled.next(de)))}deregister(de){const Te=this.scrollContainers.get(de);Te&&(Te.unsubscribe(),this.scrollContainers.delete(de))}scrolled(de=20){return this._platform.isBrowser?new r.y(Te=>{this._globalSubscription||this._addGlobalListener();const N=de>0?this._scrolled.pipe(Q(de)).subscribe(Te):this._scrolled.subscribe(Te);return this._scrolledCount++,()=>{N.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,d.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((de,Te)=>this.deregister(Te)),this._scrolled.complete()}ancestorScrolled(de,Te){const N=this.getAncestorScrollContainers(de);return this.scrolled(Te).pipe((0,oe.h)(X=>!X||N.indexOf(X)>-1))}getAncestorScrollContainers(de){const Te=[];return this.scrollContainers.forEach((N,X)=>{this._scrollableContainsElement(X,de)&&Te.push(X)}),Te}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(de,Te){let N=(0,a.fI)(Te),X=de.getElementRef().nativeElement;do{if(N==X)return!0}while(N=N.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const de=this._getWindow();return(0,l.R)(de.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(ee),t.\u0275\u0275inject(n.K0,8))},He.\u0275prov=t.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),It=(()=>{class He{constructor(de,Te,N){this._platform=de,this._change=new i.x,this._changeListener=X=>{this._change.next(X)},this._document=N,Te.runOutsideAngular(()=>{if(de.isBrowser){const X=this._getWindow();X.addEventListener("resize",this._changeListener),X.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const de=this._getWindow();de.removeEventListener("resize",this._changeListener),de.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const de={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),de}getViewportRect(){const de=this.getViewportScrollPosition(),{width:Te,height:N}=this.getViewportSize();return{top:de.top,left:de.left,bottom:de.top+N,right:de.left+Te,height:N,width:Te}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const de=this._document,Te=this._getWindow(),N=de.documentElement,X=N.getBoundingClientRect();return{top:-X.top||de.body.scrollTop||Te.scrollY||N.scrollTop||0,left:-X.left||de.body.scrollLeft||Te.scrollX||N.scrollLeft||0}}change(de=20){return de>0?this._change.pipe(Q(de)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const de=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:de.innerWidth,height:de.innerHeight}:{width:0,height:0}}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275inject(ee),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(n.K0,8))},He.\u0275prov=t.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),zt=(()=>{class He{}return He.\u0275fac=function(de){return new(de||He)},He.\u0275mod=t.\u0275\u0275defineNgModule({type:He}),He.\u0275inj=t.\u0275\u0275defineInjector({}),He})();var ge=e(2703),Be=e(29054),ye=e(35879),ze=e(9302),_t=e(48358),an=e(77176),mn=e(27303),zn=e(21160),Or=e(54232);function wr(He,fe,de){for(let Te in fe)if(fe.hasOwnProperty(Te)){const N=fe[Te];N?He.setProperty(Te,N,de?.has(Te)?"important":""):He.removeProperty(Te)}return He}function ir(He,fe){const de=fe?"":"none";wr(He.style,{"touch-action":fe?"":"none","-webkit-user-drag":fe?"":"none","-webkit-tap-highlight-color":fe?"":"transparent","user-select":de,"-ms-user-select":de,"-webkit-user-select":de,"-moz-user-select":de})}function Cr(He,fe,de){wr(He.style,{position:fe?"":"fixed",top:fe?"":"0",opacity:fe?"":"0",left:fe?"":"-999em"},de)}function Pi(He,fe){return fe&&"none"!=fe?He+" "+fe:He}function Vr(He){const fe=He.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(He)*fe}function ts(He,fe){return He.getPropertyValue(fe).split(",").map(Te=>Te.trim())}function xr(He){const fe=He.getBoundingClientRect();return{top:fe.top,right:fe.right,bottom:fe.bottom,left:fe.left,width:fe.width,height:fe.height,x:fe.x,y:fe.y}}function ki(He,fe,de){const{top:Te,bottom:N,left:X,right:G}=He;return de>=Te&&de<=N&&fe>=X&&fe<=G}function po(He,fe,de){He.top+=fe,He.bottom=He.top+He.height,He.left+=de,He.right=He.left+He.width}function Ii(He,fe,de,Te){const{top:N,right:X,bottom:G,left:le,width:Me,height:Fe}=He,Xe=Me*fe,Lt=Fe*fe;return Te>N-Lt&&Te<G+Lt&&de>le-Xe&&de<X+Xe}class zr{constructor(fe){this._document=fe,this.positions=new Map}clear(){this.positions.clear()}cache(fe){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),fe.forEach(de=>{this.positions.set(de,{scrollPosition:{top:de.scrollTop,left:de.scrollLeft},clientRect:xr(de)})})}handleScroll(fe){const de=$t(fe),Te=this.positions.get(de);if(!Te)return null;const N=Te.scrollPosition;let X,G;if(de===this._document){const Fe=this.getViewportScrollPosition();X=Fe.top,G=Fe.left}else X=de.scrollTop,G=de.scrollLeft;const le=N.top-X,Me=N.left-G;return this.positions.forEach((Fe,Xe)=>{Fe.clientRect&&de!==Xe&&de.contains(Xe)&&po(Fe.clientRect,le,Me)}),N.top=X,N.left=G,{top:le,left:Me}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ns(He){const fe=He.cloneNode(!0),de=fe.querySelectorAll("[id]"),Te=He.nodeName.toLowerCase();fe.removeAttribute("id");for(let N=0;N<de.length;N++)de[N].removeAttribute("id");return"canvas"===Te?ds(He,fe):("input"===Te||"select"===Te||"textarea"===Te)&&Ea(He,fe),Us("canvas",He,fe,ds),Us("input, textarea, select",He,fe,Ea),fe}function Us(He,fe,de,Te){const N=fe.querySelectorAll(He);if(N.length){const X=de.querySelectorAll(He);for(let G=0;G<N.length;G++)Te(N[G],X[G])}}let Fo=0;function Ea(He,fe){"file"!==fe.type&&(fe.value=He.value),"radio"===fe.type&&fe.name&&(fe.name=`mat-clone-${fe.name}-${Fo++}`)}function ds(He,fe){const de=fe.getContext("2d");if(de)try{de.drawImage(He,0,0)}catch{}}const ks=et({passive:!0}),$i=et({passive:!1}),ho=new Set(["position"]);class yi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(fe){const de=(0,a.Ig)(fe);de!==this._disabled&&(this._disabled=de,this._toggleNativeDragInteractions(),this._handles.forEach(Te=>ir(Te,de)))}constructor(fe,de,Te,N,X,G){this._config=de,this._document=Te,this._ngZone=N,this._viewportRuler=X,this._dragDropRegistry=G,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new i.x,this._pointerMoveSubscription=h.w0.EMPTY,this._pointerUpSubscription=h.w0.EMPTY,this._scrollSubscription=h.w0.EMPTY,this._resizeSubscription=h.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new i.x,this.started=new i.x,this.released=new i.x,this.ended=new i.x,this.entered=new i.x,this.exited=new i.x,this.dropped=new i.x,this.moved=this._moveEvents,this._pointerDown=le=>{if(this.beforeStarted.next(),this._handles.length){const Me=this._getTargetHandle(le);Me&&!this._disabledHandles.has(Me)&&!this.disabled&&this._initializeDragSequence(Me,le)}else this.disabled||this._initializeDragSequence(this._rootElement,le)},this._pointerMove=le=>{const Me=this._getPointerPositionOnPage(le);if(!this._hasStartedDragging){if(Math.abs(Me.x-this._pickupPositionOnPage.x)+Math.abs(Me.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const wn=Date.now()>=this._dragStartTime+this._getDragStartDelay(le),Kn=this._dropContainer;if(!wn)return void this._endDragSequence(le);(!Kn||!Kn.isDragging()&&!Kn.isReceiving())&&(le.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(le)))}return}le.preventDefault();const Fe=this._getConstrainedPointerPosition(Me);if(this._hasMoved=!0,this._lastKnownPointerPosition=Me,this._updatePointerDirectionDelta(Fe),this._dropContainer)this._updateActiveDropContainer(Fe,Me);else{const Xe=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Lt=this._activeTransform;Lt.x=Fe.x-Xe.x+this._passiveTransform.x,Lt.y=Fe.y-Xe.y+this._passiveTransform.y,this._applyRootElementTransform(Lt.x,Lt.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Fe,event:le,distance:this._getDragDistance(Fe),delta:this._pointerDirectionDelta})})},this._pointerUp=le=>{this._endDragSequence(le)},this._nativeDragStart=le=>{if(this._handles.length){const Me=this._getTargetHandle(le);Me&&!this._disabledHandles.has(Me)&&!this.disabled&&le.preventDefault()}else this.disabled||le.preventDefault()},this.withRootElement(fe).withParent(de.parentDragRef||null),this._parentPositions=new zr(Te),G.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(fe){this._handles=fe.map(Te=>(0,a.fI)(Te)),this._handles.forEach(Te=>ir(Te,this.disabled)),this._toggleNativeDragInteractions();const de=new Set;return this._disabledHandles.forEach(Te=>{this._handles.indexOf(Te)>-1&&de.add(Te)}),this._disabledHandles=de,this}withPreviewTemplate(fe){return this._previewTemplate=fe,this}withPlaceholderTemplate(fe){return this._placeholderTemplate=fe,this}withRootElement(fe){const de=(0,a.fI)(fe);return de!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{de.addEventListener("mousedown",this._pointerDown,$i),de.addEventListener("touchstart",this._pointerDown,ks),de.addEventListener("dragstart",this._nativeDragStart,$i)}),this._initialTransform=void 0,this._rootElement=de),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(fe){return this._boundaryElement=fe?(0,a.fI)(fe):null,this._resizeSubscription.unsubscribe(),fe&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(fe){return this._parentDragRef=fe,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(fe){!this._disabledHandles.has(fe)&&this._handles.indexOf(fe)>-1&&(this._disabledHandles.add(fe),ir(fe,!0))}enableHandle(fe){this._disabledHandles.has(fe)&&(this._disabledHandles.delete(fe),ir(fe,this.disabled))}withDirection(fe){return this._direction=fe,this}_withDropContainer(fe){this._dropContainer=fe}getFreeDragPosition(){const fe=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:fe.x,y:fe.y}}setFreeDragPosition(fe){return this._activeTransform={x:0,y:0},this._passiveTransform.x=fe.x,this._passiveTransform.y=fe.y,this._dropContainer||this._applyRootElementTransform(fe.x,fe.y),this}withPreviewContainer(fe){return this._previewContainer=fe,this}_sortFromLastPointerPosition(){const fe=this._lastKnownPointerPosition;fe&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(fe),fe)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(fe){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:fe}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(fe),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const de=this._getPointerPositionOnPage(fe);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(de),dropPoint:de,event:fe})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(fe){No(fe)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const de=this._dropContainer;if(de){const Te=this._rootElement,N=Te.parentNode,X=this._placeholder=this._createPlaceholderElement(),G=this._anchor=this._anchor||this._document.createComment(""),le=this._getShadowRoot();N.insertBefore(G,Te),this._initialTransform=Te.style.transform||"",this._preview=this._createPreviewElement(),Cr(Te,!1,ho),this._document.body.appendChild(N.replaceChild(X,Te)),this._getPreviewInsertionPoint(N,le).appendChild(this._preview),this.started.next({source:this,event:fe}),de.start(),this._initialContainer=de,this._initialIndex=de.getItemIndex(this)}else this.started.next({source:this,event:fe}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(de?de.getScrollableParents():[])}_initializeDragSequence(fe,de){this._parentDragRef&&de.stopPropagation();const Te=this.isDragging(),N=No(de),X=!N&&0!==de.button,G=this._rootElement,le=$t(de),Me=!N&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Fe=N?function qo(He){const fe=He.touches&&He.touches[0]||He.changedTouches&&He.changedTouches[0];return!(!fe||-1!==fe.identifier||null!=fe.radiusX&&1!==fe.radiusX||null!=fe.radiusY&&1!==fe.radiusY)}(de):function Bs(He){return 0===He.buttons||0===He.offsetX&&0===He.offsetY}(de);if(le&&le.draggable&&"mousedown"===de.type&&de.preventDefault(),Te||X||Me||Fe)return;if(this._handles.length){const un=G.style;this._rootElementTapHighlight=un.webkitTapHighlightColor||"",un.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(un=>this._updateOnScroll(un)),this._boundaryElement&&(this._boundaryRect=xr(this._boundaryElement));const Xe=this._previewTemplate;this._pickupPositionInElement=Xe&&Xe.template&&!Xe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,fe,de);const Lt=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(de);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Lt.x,y:Lt.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,de)}_cleanupDragArtifacts(fe){Cr(this._rootElement,!0,ho),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const de=this._dropContainer,Te=de.getItemIndex(this),N=this._getPointerPositionOnPage(fe),X=this._getDragDistance(N),G=de._isOverContainer(N.x,N.y);this.ended.next({source:this,distance:X,dropPoint:N,event:fe}),this.dropped.next({item:this,currentIndex:Te,previousIndex:this._initialIndex,container:de,previousContainer:this._initialContainer,isPointerOverContainer:G,distance:X,dropPoint:N,event:fe}),de.drop(this,Te,this._initialIndex,this._initialContainer,G,X,N,fe),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:fe,y:de},{x:Te,y:N}){let X=this._initialContainer._getSiblingContainerFromPosition(this,fe,de);!X&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(fe,de)&&(X=this._initialContainer),X&&X!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=X,this._dropContainer.enter(this,fe,de,X===this._initialContainer&&X.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:X,currentIndex:X.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Te,N),this._dropContainer._sortItem(this,fe,de,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(fe,de):this._applyPreviewTransform(fe-this._pickupPositionInElement.x,de-this._pickupPositionInElement.y))}_createPreviewElement(){const fe=this._previewTemplate,de=this.previewClass,Te=fe?fe.template:null;let N;if(Te&&fe){const X=fe.matchSize?this._initialClientRect:null,G=fe.viewContainer.createEmbeddedView(Te,fe.context);G.detectChanges(),N=ws(G,this._document),this._previewRef=G,fe.matchSize?Co(N,X):N.style.transform=ii(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else N=ns(this._rootElement),Co(N,this._initialClientRect),this._initialTransform&&(N.style.transform=this._initialTransform);return wr(N.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ho),ir(N,!1),N.classList.add("cdk-drag-preview"),N.setAttribute("dir",this._direction),de&&(Array.isArray(de)?de.forEach(X=>N.classList.add(X)):N.classList.add(de)),N}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const fe=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(fe.left,fe.top);const de=function pi(He){const fe=getComputedStyle(He),de=ts(fe,"transition-property"),Te=de.find(le=>"transform"===le||"all"===le);if(!Te)return 0;const N=de.indexOf(Te),X=ts(fe,"transition-duration"),G=ts(fe,"transition-delay");return Vr(X[N])+Vr(G[N])}(this._preview);return 0===de?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Te=>{const N=G=>{(!G||$t(G)===this._preview&&"transform"===G.propertyName)&&(this._preview?.removeEventListener("transitionend",N),Te(),clearTimeout(X))},X=setTimeout(N,1.5*de);this._preview.addEventListener("transitionend",N)}))}_createPlaceholderElement(){const fe=this._placeholderTemplate,de=fe?fe.template:null;let Te;return de?(this._placeholderRef=fe.viewContainer.createEmbeddedView(de,fe.context),this._placeholderRef.detectChanges(),Te=ws(this._placeholderRef,this._document)):Te=ns(this._rootElement),Te.style.pointerEvents="none",Te.classList.add("cdk-drag-placeholder"),Te}_getPointerPositionInElement(fe,de,Te){const N=de===this._rootElement?null:de,X=N?N.getBoundingClientRect():fe,G=No(Te)?Te.targetTouches[0]:Te,le=this._getViewportScrollPosition();return{x:X.left-fe.left+(G.pageX-X.left-le.left),y:X.top-fe.top+(G.pageY-X.top-le.top)}}_getPointerPositionOnPage(fe){const de=this._getViewportScrollPosition(),Te=No(fe)?fe.touches[0]||fe.changedTouches[0]||{pageX:0,pageY:0}:fe,N=Te.pageX-de.left,X=Te.pageY-de.top;if(this._ownerSVGElement){const G=this._ownerSVGElement.getScreenCTM();if(G){const le=this._ownerSVGElement.createSVGPoint();return le.x=N,le.y=X,le.matrixTransform(G.inverse())}}return{x:N,y:X}}_getConstrainedPointerPosition(fe){const de=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Te,y:N}=this.constrainPosition?this.constrainPosition(fe,this,this._initialClientRect,this._pickupPositionInElement):fe;if("x"===this.lockAxis||"x"===de?N=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===de)&&(Te=this._pickupPositionOnPage.x),this._boundaryRect){const{x:X,y:G}=this._pickupPositionInElement,le=this._boundaryRect,{width:Me,height:Fe}=this._getPreviewRect(),Xe=le.top+G,Lt=le.bottom-(Fe-G);Te=Kr(Te,le.left+X,le.right-(Me-X)),N=Kr(N,Xe,Lt)}return{x:Te,y:N}}_updatePointerDirectionDelta(fe){const{x:de,y:Te}=fe,N=this._pointerDirectionDelta,X=this._pointerPositionAtLastDirectionChange,G=Math.abs(de-X.x),le=Math.abs(Te-X.y);return G>this._config.pointerDirectionChangeThreshold&&(N.x=de>X.x?1:-1,X.x=de),le>this._config.pointerDirectionChangeThreshold&&(N.y=Te>X.y?1:-1,X.y=Te),N}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const fe=this._handles.length>0||!this.isDragging();fe!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=fe,ir(this._rootElement,fe))}_removeRootElementListeners(fe){fe.removeEventListener("mousedown",this._pointerDown,$i),fe.removeEventListener("touchstart",this._pointerDown,ks),fe.removeEventListener("dragstart",this._nativeDragStart,$i)}_applyRootElementTransform(fe,de){const Te=ii(fe,de),N=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=N.transform&&"none"!=N.transform?N.transform:""),N.transform=Pi(Te,this._initialTransform)}_applyPreviewTransform(fe,de){const Te=this._previewTemplate?.template?void 0:this._initialTransform,N=ii(fe,de);this._preview.style.transform=Pi(N,Te)}_getDragDistance(fe){const de=this._pickupPositionOnPage;return de?{x:fe.x-de.x,y:fe.y-de.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:fe,y:de}=this._passiveTransform;if(0===fe&&0===de||this.isDragging()||!this._boundaryElement)return;const Te=this._rootElement.getBoundingClientRect(),N=this._boundaryElement.getBoundingClientRect();if(0===N.width&&0===N.height||0===Te.width&&0===Te.height)return;const X=N.left-Te.left,G=Te.right-N.right,le=N.top-Te.top,Me=Te.bottom-N.bottom;N.width>Te.width?(X>0&&(fe+=X),G>0&&(fe-=G)):fe=0,N.height>Te.height?(le>0&&(de+=le),Me>0&&(de-=Me)):de=0,(fe!==this._passiveTransform.x||de!==this._passiveTransform.y)&&this.setFreeDragPosition({y:de,x:fe})}_getDragStartDelay(fe){const de=this.dragStartDelay;return"number"==typeof de?de:No(fe)?de.touch:de?de.mouse:0}_updateOnScroll(fe){const de=this._parentPositions.handleScroll(fe);if(de){const Te=$t(fe);this._boundaryRect&&Te!==this._boundaryElement&&Te.contains(this._boundaryElement)&&po(this._boundaryRect,de.top,de.left),this._pickupPositionOnPage.x+=de.left,this._pickupPositionOnPage.y+=de.top,this._dropContainer||(this._activeTransform.x-=de.left,this._activeTransform.y-=de.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=At(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(fe,de){const Te=this._previewContainer||"global";if("parent"===Te)return fe;if("global"===Te){const N=this._document;return de||N.fullscreenElement||N.webkitFullscreenElement||N.mozFullScreenElement||N.msFullscreenElement||N.body}return(0,a.fI)(Te)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(fe){return this._handles.find(de=>fe.target&&(fe.target===de||de.contains(fe.target)))}}function ii(He,fe){return`translate3d(${Math.round(He)}px, ${Math.round(fe)}px, 0)`}function Kr(He,fe,de){return Math.max(fe,Math.min(de,He))}function No(He){return"t"===He.type[0]}function ws(He,fe){const de=He.rootNodes;if(1===de.length&&de[0].nodeType===fe.ELEMENT_NODE)return de[0];const Te=fe.createElement("div");return de.forEach(N=>Te.appendChild(N)),Te}function Co(He,fe){He.style.width=`${fe.width}px`,He.style.height=`${fe.height}px`,He.style.transform=ii(fe.left,fe.top)}function Ci(He,fe,de){const Te=Fs(fe,He.length-1),N=Fs(de,He.length-1);if(Te===N)return;const X=He[Te],G=N<Te?-1:1;for(let le=Te;le!==N;le+=G)He[le]=He[le+G];He[N]=X}function Fs(He,fe){return Math.max(0,Math.min(fe,He))}class Cs{constructor(fe,de){this._element=fe,this._dragDropRegistry=de,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(fe){this.withItems(fe)}sort(fe,de,Te,N){const X=this._itemPositions,G=this._getItemIndexFromPointerPosition(fe,de,Te,N);if(-1===G&&X.length>0)return null;const le="horizontal"===this.orientation,Me=X.findIndex(or=>or.drag===fe),Fe=X[G],Lt=Fe.clientRect,un=Me>G?1:-1,wn=this._getItemOffsetPx(X[Me].clientRect,Lt,un),Kn=this._getSiblingOffsetPx(Me,X,un),vr=X.slice();return Ci(X,Me,G),X.forEach((or,Ko)=>{if(vr[Ko]===or)return;const qi=or.drag===fe,wi=qi?wn:Kn,zi=qi?fe.getPlaceholderElement():or.drag.getRootElement();or.offset+=wi,le?(zi.style.transform=Pi(`translate3d(${Math.round(or.offset)}px, 0, 0)`,or.initialTransform),po(or.clientRect,0,wi)):(zi.style.transform=Pi(`translate3d(0, ${Math.round(or.offset)}px, 0)`,or.initialTransform),po(or.clientRect,wi,0))}),this._previousSwap.overlaps=ki(Lt,de,Te),this._previousSwap.drag=Fe.drag,this._previousSwap.delta=le?N.x:N.y,{previousIndex:Me,currentIndex:G}}enter(fe,de,Te,N){const X=null==N||N<0?this._getItemIndexFromPointerPosition(fe,de,Te):N,G=this._activeDraggables,le=G.indexOf(fe),Me=fe.getPlaceholderElement();let Fe=G[X];if(Fe===fe&&(Fe=G[X+1]),!Fe&&(null==X||-1===X||X<G.length-1)&&this._shouldEnterAsFirstChild(de,Te)&&(Fe=G[0]),le>-1&&G.splice(le,1),Fe&&!this._dragDropRegistry.isDragging(Fe)){const Xe=Fe.getRootElement();Xe.parentElement.insertBefore(Me,Xe),G.splice(X,0,fe)}else(0,a.fI)(this._element).appendChild(Me),G.push(fe);Me.style.transform="",this._cacheItemPositions()}withItems(fe){this._activeDraggables=fe.slice(),this._cacheItemPositions()}withSortPredicate(fe){this._sortPredicate=fe}reset(){this._activeDraggables.forEach(fe=>{const de=fe.getRootElement();if(de){const Te=this._itemPositions.find(N=>N.drag===fe)?.initialTransform;de.style.transform=Te||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(fe){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Te=>Te.drag===fe)}updateOnScroll(fe,de){this._itemPositions.forEach(({clientRect:Te})=>{po(Te,fe,de)}),this._itemPositions.forEach(({drag:Te})=>{this._dragDropRegistry.isDragging(Te)&&Te._sortFromLastPointerPosition()})}_cacheItemPositions(){const fe="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(de=>{const Te=de.getVisibleElement();return{drag:de,offset:0,initialTransform:Te.style.transform||"",clientRect:xr(Te)}}).sort((de,Te)=>fe?de.clientRect.left-Te.clientRect.left:de.clientRect.top-Te.clientRect.top)}_getItemOffsetPx(fe,de,Te){const N="horizontal"===this.orientation;let X=N?de.left-fe.left:de.top-fe.top;return-1===Te&&(X+=N?de.width-fe.width:de.height-fe.height),X}_getSiblingOffsetPx(fe,de,Te){const N="horizontal"===this.orientation,X=de[fe].clientRect,G=de[fe+-1*Te];let le=X[N?"width":"height"]*Te;if(G){const Me=N?"left":"top",Fe=N?"right":"bottom";-1===Te?le-=G.clientRect[Me]-X[Fe]:le+=X[Me]-G.clientRect[Fe]}return le}_shouldEnterAsFirstChild(fe,de){if(!this._activeDraggables.length)return!1;const Te=this._itemPositions,N="horizontal"===this.orientation;if(Te[0].drag!==this._activeDraggables[0]){const G=Te[Te.length-1].clientRect;return N?fe>=G.right:de>=G.bottom}{const G=Te[0].clientRect;return N?fe<=G.left:de<=G.top}}_getItemIndexFromPointerPosition(fe,de,Te,N){const X="horizontal"===this.orientation,G=this._itemPositions.findIndex(({drag:le,clientRect:Me})=>le!==fe&&((!N||le!==this._previousSwap.drag||!this._previousSwap.overlaps||(X?N.x:N.y)!==this._previousSwap.delta)&&(X?de>=Math.floor(Me.left)&&de<Math.floor(Me.right):Te>=Math.floor(Me.top)&&Te<Math.floor(Me.bottom))));return-1!==G&&this._sortPredicate(G,fe)?G:-1}}const Zi=.05;class Rs{constructor(fe,de,Te,N,X){this._dragDropRegistry=de,this._ngZone=N,this._viewportRuler=X,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new i.x,this.entered=new i.x,this.exited=new i.x,this.dropped=new i.x,this.sorted=new i.x,this.receivingStarted=new i.x,this.receivingStopped=new i.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=h.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new i.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,ge.F)(0,O).pipe((0,ye.R)(this._stopScrollTimers)).subscribe(()=>{const G=this._scrollNode,le=this.autoScrollStep;1===this._verticalScrollDirection?G.scrollBy(0,-le):2===this._verticalScrollDirection&&G.scrollBy(0,le),1===this._horizontalScrollDirection?G.scrollBy(-le,0):2===this._horizontalScrollDirection&&G.scrollBy(le,0)})},this.element=(0,a.fI)(fe),this._document=Te,this.withScrollableParents([this.element]),de.registerDropContainer(this),this._parentPositions=new zr(Te),this._sortStrategy=new Cs(this.element,de),this._sortStrategy.withSortPredicate((G,le)=>this.sortPredicate(G,le,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(fe,de,Te,N){this._draggingStarted(),null==N&&this.sortingDisabled&&(N=this._draggables.indexOf(fe)),this._sortStrategy.enter(fe,de,Te,N),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:fe,container:this,currentIndex:this.getItemIndex(fe)})}exit(fe){this._reset(),this.exited.next({item:fe,container:this})}drop(fe,de,Te,N,X,G,le,Me={}){this._reset(),this.dropped.next({item:fe,currentIndex:de,previousIndex:Te,container:this,previousContainer:N,isPointerOverContainer:X,distance:G,dropPoint:le,event:Me})}withItems(fe){const de=this._draggables;return this._draggables=fe,fe.forEach(Te=>Te._withDropContainer(this)),this.isDragging()&&(de.filter(N=>N.isDragging()).every(N=>-1===fe.indexOf(N))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(fe){return this._sortStrategy.direction=fe,this}connectedTo(fe){return this._siblings=fe.slice(),this}withOrientation(fe){return this._sortStrategy.orientation=fe,this}withScrollableParents(fe){const de=(0,a.fI)(this.element);return this._scrollableElements=-1===fe.indexOf(de)?[de,...fe]:fe.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(fe){return this._isDragging?this._sortStrategy.getItemIndex(fe):this._draggables.indexOf(fe)}isReceiving(){return this._activeSiblings.size>0}_sortItem(fe,de,Te,N){if(this.sortingDisabled||!this._clientRect||!Ii(this._clientRect,.05,de,Te))return;const X=this._sortStrategy.sort(fe,de,Te,N);X&&this.sorted.next({previousIndex:X.previousIndex,currentIndex:X.currentIndex,container:this,item:fe})}_startScrollingIfNecessary(fe,de){if(this.autoScrollDisabled)return;let Te,N=0,X=0;if(this._parentPositions.positions.forEach((G,le)=>{le===this._document||!G.clientRect||Te||Ii(G.clientRect,.05,fe,de)&&([N,X]=function $s(He,fe,de,Te){const N=ia(fe,Te),X=Oa(fe,de);let G=0,le=0;if(N){const Me=He.scrollTop;1===N?Me>0&&(G=1):He.scrollHeight-Me>He.clientHeight&&(G=2)}if(X){const Me=He.scrollLeft;1===X?Me>0&&(le=1):He.scrollWidth-Me>He.clientWidth&&(le=2)}return[G,le]}(le,G.clientRect,fe,de),(N||X)&&(Te=le))}),!N&&!X){const{width:G,height:le}=this._viewportRuler.getViewportSize(),Me={width:G,height:le,top:0,right:G,bottom:le,left:0};N=ia(Me,de),X=Oa(Me,fe),Te=window}Te&&(N!==this._verticalScrollDirection||X!==this._horizontalScrollDirection||Te!==this._scrollNode)&&(this._verticalScrollDirection=N,this._horizontalScrollDirection=X,this._scrollNode=Te,(N||X)&&Te?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const fe=(0,a.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=fe.msScrollSnapType||fe.scrollSnapType||"",fe.scrollSnapType=fe.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const fe=(0,a.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(fe).clientRect}_reset(){this._isDragging=!1;const fe=(0,a.fI)(this.element).style;fe.scrollSnapType=fe.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(de=>de._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(fe,de){return null!=this._clientRect&&ki(this._clientRect,fe,de)}_getSiblingContainerFromPosition(fe,de,Te){return this._siblings.find(N=>N._canReceive(fe,de,Te))}_canReceive(fe,de,Te){if(!this._clientRect||!ki(this._clientRect,de,Te)||!this.enterPredicate(fe,this))return!1;const N=this._getShadowRoot().elementFromPoint(de,Te);if(!N)return!1;const X=(0,a.fI)(this.element);return N===X||X.contains(N)}_startReceiving(fe,de){const Te=this._activeSiblings;!Te.has(fe)&&de.every(N=>this.enterPredicate(N,this)||this._draggables.indexOf(N)>-1)&&(Te.add(fe),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:fe,receiver:this,items:de}))}_stopReceiving(fe){this._activeSiblings.delete(fe),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:fe,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(fe=>{if(this.isDragging()){const de=this._parentPositions.handleScroll(fe);de&&this._sortStrategy.updateOnScroll(de.top,de.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const fe=At((0,a.fI)(this.element));this._cachedShadowRoot=fe||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const fe=this._sortStrategy.getActiveItemsSnapshot().filter(de=>de.isDragging());this._siblings.forEach(de=>de._startReceiving(this,fe))}}function ia(He,fe){const{top:de,bottom:Te,height:N}=He,X=N*Zi;return fe>=de-X&&fe<=de+X?1:fe>=Te-X&&fe<=Te+X?2:0}function Oa(He,fe){const{left:de,right:Te,width:N}=He,X=N*Zi;return fe>=de-X&&fe<=de+X?1:fe>=Te-X&&fe<=Te+X?2:0}const Ma=et({passive:!1,capture:!0});let Sa=(()=>{class He{constructor(de,Te){this._ngZone=de,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=N=>N.isDragging(),this.pointerMove=new i.x,this.pointerUp=new i.x,this.scroll=new i.x,this._preventDefaultWhileDragging=N=>{this._activeDragInstances.length>0&&N.preventDefault()},this._persistentTouchmoveListener=N=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&N.preventDefault(),this.pointerMove.next(N))},this._document=Te}registerDropContainer(de){this._dropInstances.has(de)||this._dropInstances.add(de)}registerDragItem(de){this._dragInstances.add(de),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ma)})}removeDropContainer(de){this._dropInstances.delete(de)}removeDragItem(de){this._dragInstances.delete(de),this.stopDragging(de),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ma)}startDragging(de,Te){if(!(this._activeDragInstances.indexOf(de)>-1)&&(this._activeDragInstances.push(de),1===this._activeDragInstances.length)){const N=Te.type.startsWith("touch");this._globalListeners.set(N?"touchend":"mouseup",{handler:X=>this.pointerUp.next(X),options:!0}).set("scroll",{handler:X=>this.scroll.next(X),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ma}),N||this._globalListeners.set("mousemove",{handler:X=>this.pointerMove.next(X),options:Ma}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((X,G)=>{this._document.addEventListener(G,X.handler,X.options)})})}}stopDragging(de){const Te=this._activeDragInstances.indexOf(de);Te>-1&&(this._activeDragInstances.splice(Te,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(de){return this._activeDragInstances.indexOf(de)>-1}scrolled(de){const Te=[this.scroll];return de&&de!==this._document&&Te.push(new r.y(N=>this._ngZone.runOutsideAngular(()=>{const G=le=>{this._activeDragInstances.length&&N.next(le)};return de.addEventListener("scroll",G,!0),()=>{de.removeEventListener("scroll",G,!0)}}))),(0,Be.T)(...Te)}ngOnDestroy(){this._dragInstances.forEach(de=>this.removeDragItem(de)),this._dropInstances.forEach(de=>this.removeDropContainer(de)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((de,Te)=>{this._document.removeEventListener(Te,de.handler,de.options)}),this._globalListeners.clear()}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(n.K0))},He.\u0275prov=t.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const Zs={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ds=(()=>{class He{constructor(de,Te,N,X){this._document=de,this._ngZone=Te,this._viewportRuler=N,this._dragDropRegistry=X}createDrag(de,Te=Zs){return new yi(de,Te,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(de){return new Rs(de,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275inject(n.K0),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(It),t.\u0275\u0275inject(Sa))},He.\u0275prov=t.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const oa=new t.InjectionToken("CDK_DRAG_PARENT"),sa=new t.InjectionToken("CdkDropListGroup"),Ro=new t.InjectionToken("CDK_DRAG_CONFIG");let Do=0;const aa=new t.InjectionToken("CdkDropList");let Ji=(()=>{class He{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(de){this._dropListRef.disabled=this._disabled=(0,a.Ig)(de)}constructor(de,Te,N,X,G,le,Me){this.element=de,this._changeDetectorRef=N,this._scrollDispatcher=X,this._dir=G,this._group=le,this._destroyed=new i.x,this.connectedTo=[],this.id="cdk-drop-list-"+Do++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.EventEmitter,this.entered=new t.EventEmitter,this.exited=new t.EventEmitter,this.sorted=new t.EventEmitter,this._unsortedItems=new Set,this._dropListRef=Te.createDropList(de),this._dropListRef.data=this,Me&&this._assignDefaults(Me),this._dropListRef.enterPredicate=(Fe,Xe)=>this.enterPredicate(Fe.data,Xe.data),this._dropListRef.sortPredicate=(Fe,Xe,Lt)=>this.sortPredicate(Fe,Xe.data,Lt.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),He._dropLists.push(this),le&&le._items.add(this)}addItem(de){this._unsortedItems.add(de),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(de){this._unsortedItems.delete(de),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((de,Te)=>de._dragRef.getVisibleElement().compareDocumentPosition(Te._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const de=He._dropLists.indexOf(this);de>-1&&He._dropLists.splice(de,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(de){this._dir&&this._dir.change.pipe((0,ze.O)(this._dir.value),(0,ye.R)(this._destroyed)).subscribe(Te=>de.withDirection(Te)),de.beforeStarted.subscribe(()=>{const Te=(0,a.Eq)(this.connectedTo).map(N=>"string"==typeof N?He._dropLists.find(G=>G.id===N):N);if(this._group&&this._group._items.forEach(N=>{-1===Te.indexOf(N)&&Te.push(N)}),!this._scrollableParentsResolved){const N=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(X=>X.getElementRef().nativeElement);this._dropListRef.withScrollableParents(N),this._scrollableParentsResolved=!0}de.disabled=this.disabled,de.lockAxis=this.lockAxis,de.sortingDisabled=(0,a.Ig)(this.sortingDisabled),de.autoScrollDisabled=(0,a.Ig)(this.autoScrollDisabled),de.autoScrollStep=(0,a.su)(this.autoScrollStep,2),de.connectedTo(Te.filter(N=>N&&N!==this).map(N=>N._dropListRef)).withOrientation(this.orientation)})}_handleEvents(de){de.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),de.entered.subscribe(Te=>{this.entered.emit({container:this,item:Te.item.data,currentIndex:Te.currentIndex})}),de.exited.subscribe(Te=>{this.exited.emit({container:this,item:Te.item.data}),this._changeDetectorRef.markForCheck()}),de.sorted.subscribe(Te=>{this.sorted.emit({previousIndex:Te.previousIndex,currentIndex:Te.currentIndex,container:this,item:Te.item.data})}),de.dropped.subscribe(Te=>{this.dropped.emit({previousIndex:Te.previousIndex,currentIndex:Te.currentIndex,previousContainer:Te.previousContainer.data,container:Te.container.data,item:Te.item.data,isPointerOverContainer:Te.isPointerOverContainer,distance:Te.distance,dropPoint:Te.dropPoint,event:Te.event}),this._changeDetectorRef.markForCheck()}),(0,Be.T)(de.receivingStarted,de.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(de){const{lockAxis:Te,draggingDisabled:N,sortingDisabled:X,listAutoScrollDisabled:G,listOrientation:le}=de;this.disabled=N??!1,this.sortingDisabled=X??!1,this.autoScrollDisabled=G??!1,this.orientation=le||"vertical",Te&&(this.lockAxis=Te)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(de=>de._dragRef))}}return He._dropLists=[],He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Ds),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(it),t.\u0275\u0275directiveInject(Or.Is,8),t.\u0275\u0275directiveInject(sa,12),t.\u0275\u0275directiveInject(Ro,8))},He.\u0275dir=t.\u0275\u0275defineDirective({type:He,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(de,Te){2&de&&(t.\u0275\u0275attribute("id",Te.id),t.\u0275\u0275classProp("cdk-drop-list-disabled",Te.disabled)("cdk-drop-list-dragging",Te._dropListRef.isDragging())("cdk-drop-list-receiving",Te._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[t.\u0275\u0275ProvidersFeature([{provide:sa,useValue:void 0},{provide:aa,useExisting:He}])]}),He})();const Oo=new t.InjectionToken("CdkDragHandle");let Js=(()=>{class He{get disabled(){return this._disabled}set disabled(de){this._disabled=(0,a.Ig)(de),this._stateChanges.next(this)}constructor(de,Te){this.element=de,this._stateChanges=new i.x,this._disabled=!1,this._parentDrag=Te}ngOnDestroy(){this._stateChanges.complete()}}return He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(oa,12))},He.\u0275dir=t.\u0275\u0275defineDirective({type:He,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[t.\u0275\u0275ProvidersFeature([{provide:Oo,useExisting:He}])]}),He})();const Hr=new t.InjectionToken("CdkDragPlaceholder"),is=new t.InjectionToken("CdkDragPreview");let ya=(()=>{class He{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(de){this._disabled=(0,a.Ig)(de),this._dragRef.disabled=this._disabled}constructor(de,Te,N,X,G,le,Me,Fe,Xe,Lt,un){this.element=de,this.dropContainer=Te,this._ngZone=X,this._viewContainerRef=G,this._dir=Me,this._changeDetectorRef=Xe,this._selfHandle=Lt,this._parentDrag=un,this._destroyed=new i.x,this.started=new t.EventEmitter,this.released=new t.EventEmitter,this.ended=new t.EventEmitter,this.entered=new t.EventEmitter,this.exited=new t.EventEmitter,this.dropped=new t.EventEmitter,this.moved=new r.y(wn=>{const Kn=this._dragRef.moved.pipe((0,_t.U)(vr=>({source:this,pointerPosition:vr.pointerPosition,event:vr.event,delta:vr.delta,distance:vr.distance}))).subscribe(wn);return()=>{Kn.unsubscribe()}}),this._dragRef=Fe.createDrag(de,{dragStartThreshold:le&&null!=le.dragStartThreshold?le.dragStartThreshold:5,pointerDirectionChangeThreshold:le&&null!=le.pointerDirectionChangeThreshold?le.pointerDirectionChangeThreshold:5,zIndex:le?.zIndex}),this._dragRef.data=this,He._dragInstances.push(this),le&&this._assignDefaults(le),Te&&(this._dragRef._withDropContainer(Te._dropListRef),Te.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(de){this._dragRef.setFreeDragPosition(de)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,an.q)(1),(0,ye.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(de){const Te=de.rootElementSelector,N=de.freeDragPosition;Te&&!Te.firstChange&&this._updateRootElement(),N&&!N.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const de=He._dragInstances.indexOf(this);de>-1&&He._dragInstances.splice(de,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const de=this.element.nativeElement;let Te=de;this.rootElementSelector&&(Te=void 0!==de.closest?de.closest(this.rootElementSelector):de.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Te||de)}_getBoundaryElement(){const de=this.boundaryElement;return de?"string"==typeof de?this.element.nativeElement.closest(de):(0,a.fI)(de):null}_syncInputs(de){de.beforeStarted.subscribe(()=>{if(!de.isDragging()){const Te=this._dir,N=this.dragStartDelay,X=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,G=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;de.disabled=this.disabled,de.lockAxis=this.lockAxis,de.dragStartDelay="object"==typeof N&&N?N:(0,a.su)(N),de.constrainPosition=this.constrainPosition,de.previewClass=this.previewClass,de.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(X).withPreviewTemplate(G).withPreviewContainer(this.previewContainer||"global"),Te&&de.withDirection(Te.value)}}),de.beforeStarted.pipe((0,an.q)(1)).subscribe(()=>{if(this._parentDrag)return void de.withParent(this._parentDrag._dragRef);let Te=this.element.nativeElement.parentElement;for(;Te;){if(Te.classList.contains("cdk-drag")){de.withParent(He._dragInstances.find(N=>N.element.nativeElement===Te)?._dragRef||null);break}Te=Te.parentElement}})}_handleEvents(de){de.started.subscribe(Te=>{this.started.emit({source:this,event:Te.event}),this._changeDetectorRef.markForCheck()}),de.released.subscribe(Te=>{this.released.emit({source:this,event:Te.event})}),de.ended.subscribe(Te=>{this.ended.emit({source:this,distance:Te.distance,dropPoint:Te.dropPoint,event:Te.event}),this._changeDetectorRef.markForCheck()}),de.entered.subscribe(Te=>{this.entered.emit({container:Te.container.data,item:this,currentIndex:Te.currentIndex})}),de.exited.subscribe(Te=>{this.exited.emit({container:Te.container.data,item:this})}),de.dropped.subscribe(Te=>{this.dropped.emit({previousIndex:Te.previousIndex,currentIndex:Te.currentIndex,previousContainer:Te.previousContainer.data,container:Te.container.data,isPointerOverContainer:Te.isPointerOverContainer,item:this,distance:Te.distance,dropPoint:Te.dropPoint,event:Te.event})})}_assignDefaults(de){const{lockAxis:Te,dragStartDelay:N,constrainPosition:X,previewClass:G,boundaryElement:le,draggingDisabled:Me,rootElementSelector:Fe,previewContainer:Xe}=de;this.disabled=Me??!1,this.dragStartDelay=N||0,Te&&(this.lockAxis=Te),X&&(this.constrainPosition=X),G&&(this.previewClass=G),le&&(this.boundaryElement=le),Fe&&(this.rootElementSelector=Fe),Xe&&(this.previewContainer=Xe)}_setupHandlesListener(){this._handles.changes.pipe((0,ze.O)(this._handles),(0,mn.b)(de=>{const Te=de.filter(N=>N._parentDrag===this).map(N=>N.element);this._selfHandle&&this.rootElementSelector&&Te.push(this.element),this._dragRef.withHandles(Te)}),(0,zn.w)(de=>(0,Be.T)(...de.map(Te=>Te._stateChanges.pipe((0,ze.O)(Te))))),(0,ye.R)(this._destroyed)).subscribe(de=>{const Te=this._dragRef,N=de.element.nativeElement;de.disabled?Te.disableHandle(N):Te.enableHandle(N)})}}return He._dragInstances=[],He.\u0275fac=function(de){return new(de||He)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(aa,12),t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(Ro,8),t.\u0275\u0275directiveInject(Or.Is,8),t.\u0275\u0275directiveInject(Ds),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Oo,10),t.\u0275\u0275directiveInject(oa,12))},He.\u0275dir=t.\u0275\u0275defineDirective({type:He,selectors:[["","cdkDrag",""]],contentQueries:function(de,Te,N){if(1&de&&(t.\u0275\u0275contentQuery(N,is,5),t.\u0275\u0275contentQuery(N,Hr,5),t.\u0275\u0275contentQuery(N,Oo,5)),2&de){let X;t.\u0275\u0275queryRefresh(X=t.\u0275\u0275loadQuery())&&(Te._previewTemplate=X.first),t.\u0275\u0275queryRefresh(X=t.\u0275\u0275loadQuery())&&(Te._placeholderTemplate=X.first),t.\u0275\u0275queryRefresh(X=t.\u0275\u0275loadQuery())&&(Te._handles=X)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(de,Te){2&de&&t.\u0275\u0275classProp("cdk-drag-disabled",Te.disabled)("cdk-drag-dragging",Te._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[t.\u0275\u0275ProvidersFeature([{provide:oa,useExisting:He}]),t.\u0275\u0275NgOnChangesFeature]}),He})(),Ms=(()=>{class He{}return He.\u0275fac=function(de){return new(de||He)},He.\u0275mod=t.\u0275\u0275defineNgModule({type:He}),He.\u0275inj=t.\u0275\u0275defineInjector({providers:[Ds],imports:[zt]}),He})()},35103:(R,c,e)=>{"use strict";e.d(c,{$G:()=>hr,Do:()=>M,EM:()=>cr,HT:()=>i,JF:()=>zo,K0:()=>r,Mn:()=>Q,Mx:()=>si,NF:()=>Ut,Nd:()=>Po,O5:()=>Ri,Ov:()=>Vn,PC:()=>Kt,PM:()=>pn,RF:()=>to,S$:()=>b,Tn:()=>W,UT:()=>oe,V_:()=>h,Ye:()=>C,b0:()=>D,bD:()=>Et,ez:()=>_o,i8:()=>Xn,mk:()=>Qn,mr:()=>o,n9:()=>Wi,ol:()=>w,p6:()=>St,q:()=>a,rS:()=>li,sg:()=>Oi,tP:()=>ln,uU:()=>ei,w_:()=>d,x:()=>re});var t=e(98678);let n=null;function a(){return n}function i(ge){n||(n=ge)}class d{}const r=new t.InjectionToken("DocumentToken");let l=(()=>{class ge{historyGo(ye){throw new Error("Not implemented")}}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:function(){return function p(){return(0,t.\u0275\u0275inject)(m)}()},providedIn:"platform"}),ge})();const h=new t.InjectionToken("Location Initialized");let m=(()=>{class ge extends l{constructor(ye){super(),this._doc=ye,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(ye){const ze=a().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("popstate",ye,!1),()=>ze.removeEventListener("popstate",ye)}onHashChange(ye){const ze=a().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("hashchange",ye,!1),()=>ze.removeEventListener("hashchange",ye)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ye){this._location.pathname=ye}pushState(ye,ze,_t){_()?this._history.pushState(ye,ze,_t):this._location.hash=_t}replaceState(ye,ze,_t){_()?this._history.replaceState(ye,ze,_t):this._location.hash=_t}forward(){this._history.forward()}back(){this._history.back()}historyGo(ye=0){this._history.go(ye)}getState(){return this._history.state}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275inject(r))},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:function(){return function v(){return new m((0,t.\u0275\u0275inject)(r))}()},providedIn:"platform"}),ge})();function _(){return!!window.history.pushState}function y(ge,Be){if(0==ge.length)return Be;if(0==Be.length)return ge;let ye=0;return ge.endsWith("/")&&ye++,Be.startsWith("/")&&ye++,2==ye?ge+Be.substring(1):1==ye?ge+Be:ge+"/"+Be}function O(ge){const Be=ge.match(/#|\?|$/),ye=Be&&Be.index||ge.length;return ge.slice(0,ye-("/"===ge[ye-1]?1:0))+ge.slice(ye)}function S(ge){return ge&&"?"!==ge[0]?"?"+ge:ge}let b=(()=>{class ge{historyGo(ye){throw new Error("Not implemented")}}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:function(){return(0,t.inject)(D)},providedIn:"root"}),ge})();const o=new t.InjectionToken("appBaseHref");let D=(()=>{class ge extends b{constructor(ye,ze){super(),this._platformLocation=ye,this._removeListenerFns=[],this._baseHref=ze??this._platformLocation.getBaseHrefFromDOM()??(0,t.inject)(r).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ye){this._removeListenerFns.push(this._platformLocation.onPopState(ye),this._platformLocation.onHashChange(ye))}getBaseHref(){return this._baseHref}prepareExternalUrl(ye){return y(this._baseHref,ye)}path(ye=!1){const ze=this._platformLocation.pathname+S(this._platformLocation.search),_t=this._platformLocation.hash;return _t&&ye?`${ze}${_t}`:ze}pushState(ye,ze,_t,an){const mn=this.prepareExternalUrl(_t+S(an));this._platformLocation.pushState(ye,ze,mn)}replaceState(ye,ze,_t,an){const mn=this.prepareExternalUrl(_t+S(an));this._platformLocation.replaceState(ye,ze,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ye=0){this._platformLocation.historyGo?.(ye)}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275inject(l),t.\u0275\u0275inject(o,8))},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),M=(()=>{class ge extends b{constructor(ye,ze){super(),this._platformLocation=ye,this._baseHref="",this._removeListenerFns=[],null!=ze&&(this._baseHref=ze)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ye){this._removeListenerFns.push(this._platformLocation.onPopState(ye),this._platformLocation.onHashChange(ye))}getBaseHref(){return this._baseHref}path(ye=!1){let ze=this._platformLocation.hash;return null==ze&&(ze="#"),ze.length>0?ze.substring(1):ze}prepareExternalUrl(ye){const ze=y(this._baseHref,ye);return ze.length>0?"#"+ze:ze}pushState(ye,ze,_t,an){let mn=this.prepareExternalUrl(_t+S(an));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.pushState(ye,ze,mn)}replaceState(ye,ze,_t,an){let mn=this.prepareExternalUrl(_t+S(an));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.replaceState(ye,ze,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ye=0){this._platformLocation.historyGo?.(ye)}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275inject(l),t.\u0275\u0275inject(o,8))},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac}),ge})(),C=(()=>{class ge{constructor(ye){this._subject=new t.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ye;const ze=this._locationStrategy.getBaseHref();this._basePath=function L(ge){if(new RegExp("^(https?:)?//").test(ge)){const[,ye]=ge.split(/\/\/[^\/]+/);return ye}return ge}(O(U(ze))),this._locationStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ye=!1){return this.normalize(this._locationStrategy.path(ye))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ye,ze=""){return this.path()==this.normalize(ye+S(ze))}normalize(ye){return ge.stripTrailingSlash(function g(ge,Be){if(!ge||!Be.startsWith(ge))return Be;const ye=Be.substring(ge.length);return""===ye||["/",";","?","#"].includes(ye[0])?ye:Be}(this._basePath,U(ye)))}prepareExternalUrl(ye){return ye&&"/"!==ye[0]&&(ye="/"+ye),this._locationStrategy.prepareExternalUrl(ye)}go(ye,ze="",_t=null){this._locationStrategy.pushState(_t,"",ye,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(ye+S(ze)),_t)}replaceState(ye,ze="",_t=null){this._locationStrategy.replaceState(_t,"",ye,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(ye+S(ze)),_t)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ye=0){this._locationStrategy.historyGo?.(ye)}onUrlChange(ye){return this._urlChangeListeners.push(ye),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ze=>{this._notifyUrlChangeListeners(ze.url,ze.state)})),()=>{const ze=this._urlChangeListeners.indexOf(ye);this._urlChangeListeners.splice(ze,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ye="",ze){this._urlChangeListeners.forEach(_t=>_t(ye,ze))}subscribe(ye,ze,_t){return this._subject.subscribe({next:ye,error:ze,complete:_t})}}return ge.normalizeQueryParams=S,ge.joinWithSlash=y,ge.stripTrailingSlash=O,ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275inject(b))},ge.\u0275prov=t.\u0275\u0275defineInjectable({token:ge,factory:function(){return function T(){return new C((0,t.\u0275\u0275inject)(b))}()},providedIn:"root"}),ge})();function U(ge){return ge.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re))(),W=(()=>((W=W||{})[W.Narrow=0]="Narrow",W[W.Abbreviated=1]="Abbreviated",W[W.Wide=2]="Wide",W[W.Short=3]="Short",W))(),ie=(()=>((ie=ie||{})[ie.Short=0]="Short",ie[ie.Medium=1]="Medium",ie[ie.Long=2]="Long",ie[ie.Full=3]="Full",ie))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function w(ge,Be,ye){const ze=(0,t.\u0275findLocaleData)(ge),an=$t([ze[t.\u0275LocaleDataIndex.DayPeriodsFormat],ze[t.\u0275LocaleDataIndex.DayPeriodsStandalone]],Be);return $t(an,ye)}function Q(ge,Be,ye){const ze=(0,t.\u0275findLocaleData)(ge),an=$t([ze[t.\u0275LocaleDataIndex.DaysFormat],ze[t.\u0275LocaleDataIndex.DaysStandalone]],Be);return $t(an,ye)}function oe(ge,Be,ye){const ze=(0,t.\u0275findLocaleData)(ge),an=$t([ze[t.\u0275LocaleDataIndex.MonthsFormat],ze[t.\u0275LocaleDataIndex.MonthsStandalone]],Be);return $t(an,ye)}function Ee(ge,Be){return $t((0,t.\u0275findLocaleData)(ge)[t.\u0275LocaleDataIndex.DateFormat],Be)}function Oe(ge,Be){return $t((0,t.\u0275findLocaleData)(ge)[t.\u0275LocaleDataIndex.TimeFormat],Be)}function Re(ge,Be){return $t((0,t.\u0275findLocaleData)(ge)[t.\u0275LocaleDataIndex.DateTimeFormat],Be)}function ve(ge,Be){const ye=(0,t.\u0275findLocaleData)(ge),ze=ye[t.\u0275LocaleDataIndex.NumberSymbols][Be];if(typeof ze>"u"){if(Be===ce.CurrencyDecimal)return ye[t.\u0275LocaleDataIndex.NumberSymbols][ce.Decimal];if(Be===ce.CurrencyGroup)return ye[t.\u0275LocaleDataIndex.NumberSymbols][ce.Group]}return ze}function mt(ge){if(!ge[t.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${ge[t.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $t(ge,Be){for(let ye=Be;ye>-1;ye--)if(typeof ge[ye]<"u")return ge[ye];throw new Error("Locale data API: locale data undefined")}function lt(ge){const[Be,ye]=ge.split(":");return{hours:+Be,minutes:+ye}}const Je=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ge={},qe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gt=(()=>((gt=gt||{})[gt.Short=0]="Short",gt[gt.ShortGMT=1]="ShortGMT",gt[gt.Long=2]="Long",gt[gt.Extended=3]="Extended",gt))(),it=(()=>((it=it||{})[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function St(ge,Be,ye,ze){let _t=function dn(ge){if(ct(ge))return ge;if("number"==typeof ge&&!isNaN(ge))return new Date(ge);if("string"==typeof ge){if(ge=ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ge)){const[_t,an=1,mn=1]=ge.split("-").map(zn=>+zn);return It(_t,an-1,mn)}const ye=parseFloat(ge);if(!isNaN(ge-ye))return new Date(ye);let ze;if(ze=ge.match(Je))return function fn(ge){const Be=new Date(0);let ye=0,ze=0;const _t=ge[8]?Be.setUTCFullYear:Be.setFullYear,an=ge[8]?Be.setUTCHours:Be.setHours;ge[9]&&(ye=Number(ge[9]+ge[10]),ze=Number(ge[9]+ge[11])),_t.call(Be,Number(ge[1]),Number(ge[2])-1,Number(ge[3]));const mn=Number(ge[4]||0)-ye,zn=Number(ge[5]||0)-ze,Or=Number(ge[6]||0),wr=Math.floor(1e3*parseFloat("0."+(ge[7]||0)));return an.call(Be,mn,zn,Or,wr),Be}(ze)}const Be=new Date(ge);if(!ct(Be))throw new Error(`Unable to convert "${ge}" into a date`);return Be}(ge);Be=Yt(ye,Be)||Be;let zn,mn=[];for(;Be;){if(zn=qe.exec(Be),!zn){mn.push(Be);break}{mn=mn.concat(zn.slice(1));const ir=mn.pop();if(!ir)break;Be=ir}}let Or=_t.getTimezoneOffset();ze&&(Or=Xt(ze,Or),_t=function Gt(ge,Be,ye){const ze=ye?-1:1,_t=ge.getTimezoneOffset();return function Qt(ge,Be){return(ge=new Date(ge.getTime())).setMinutes(ge.getMinutes()+Be),ge}(ge,ze*(Xt(Be,_t)-_t))}(_t,ze,!0));let wr="";return mn.forEach(ir=>{const Cr=function wt(ge){if(bt[ge])return bt[ge];let Be;switch(ge){case"G":case"GG":case"GGG":Be=Rt(ht.Eras,W.Abbreviated);break;case"GGGG":Be=Rt(ht.Eras,W.Wide);break;case"GGGGG":Be=Rt(ht.Eras,W.Narrow);break;case"y":Be=xn(it.FullYear,1,0,!1,!0);break;case"yy":Be=xn(it.FullYear,2,0,!0,!0);break;case"yyy":Be=xn(it.FullYear,3,0,!1,!0);break;case"yyyy":Be=xn(it.FullYear,4,0,!1,!0);break;case"Y":Be=pt(1);break;case"YY":Be=pt(2,!0);break;case"YYY":Be=pt(3);break;case"YYYY":Be=pt(4);break;case"M":case"L":Be=xn(it.Month,1,1);break;case"MM":case"LL":Be=xn(it.Month,2,1);break;case"MMM":Be=Rt(ht.Months,W.Abbreviated);break;case"MMMM":Be=Rt(ht.Months,W.Wide);break;case"MMMMM":Be=Rt(ht.Months,W.Narrow);break;case"LLL":Be=Rt(ht.Months,W.Abbreviated,re.Standalone);break;case"LLLL":Be=Rt(ht.Months,W.Wide,re.Standalone);break;case"LLLLL":Be=Rt(ht.Months,W.Narrow,re.Standalone);break;case"w":Be=we(1);break;case"ww":Be=we(2);break;case"W":Be=we(1,!0);break;case"d":Be=xn(it.Date,1);break;case"dd":Be=xn(it.Date,2);break;case"c":case"cc":Be=xn(it.Day,1);break;case"ccc":Be=Rt(ht.Days,W.Abbreviated,re.Standalone);break;case"cccc":Be=Rt(ht.Days,W.Wide,re.Standalone);break;case"ccccc":Be=Rt(ht.Days,W.Narrow,re.Standalone);break;case"cccccc":Be=Rt(ht.Days,W.Short,re.Standalone);break;case"E":case"EE":case"EEE":Be=Rt(ht.Days,W.Abbreviated);break;case"EEEE":Be=Rt(ht.Days,W.Wide);break;case"EEEEE":Be=Rt(ht.Days,W.Narrow);break;case"EEEEEE":Be=Rt(ht.Days,W.Short);break;case"a":case"aa":case"aaa":Be=Rt(ht.DayPeriods,W.Abbreviated);break;case"aaaa":Be=Rt(ht.DayPeriods,W.Wide);break;case"aaaaa":Be=Rt(ht.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":Be=Rt(ht.DayPeriods,W.Abbreviated,re.Standalone,!0);break;case"bbbb":Be=Rt(ht.DayPeriods,W.Wide,re.Standalone,!0);break;case"bbbbb":Be=Rt(ht.DayPeriods,W.Narrow,re.Standalone,!0);break;case"B":case"BB":case"BBB":Be=Rt(ht.DayPeriods,W.Abbreviated,re.Format,!0);break;case"BBBB":Be=Rt(ht.DayPeriods,W.Wide,re.Format,!0);break;case"BBBBB":Be=Rt(ht.DayPeriods,W.Narrow,re.Format,!0);break;case"h":Be=xn(it.Hours,1,-12);break;case"hh":Be=xn(it.Hours,2,-12);break;case"H":Be=xn(it.Hours,1);break;case"HH":Be=xn(it.Hours,2);break;case"m":Be=xn(it.Minutes,1);break;case"mm":Be=xn(it.Minutes,2);break;case"s":Be=xn(it.Seconds,1);break;case"ss":Be=xn(it.Seconds,2);break;case"S":Be=xn(it.FractionalSeconds,1);break;case"SS":Be=xn(it.FractionalSeconds,2);break;case"SSS":Be=xn(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Be=jt(gt.Short);break;case"ZZZZZ":Be=jt(gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Be=jt(gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Be=jt(gt.Long);break;default:return null}return bt[ge]=Be,Be}(ir);wr+=Cr?Cr(_t,ye,Or):"''"===ir?"'":ir.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function It(ge,Be,ye){const ze=new Date(0);return ze.setFullYear(ge,Be,ye),ze.setHours(0,0,0),ze}function Yt(ge,Be){const ye=function K(ge){return(0,t.\u0275findLocaleData)(ge)[t.\u0275LocaleDataIndex.LocaleId]}(ge);if(Ge[ye]=Ge[ye]||{},Ge[ye][Be])return Ge[ye][Be];let ze="";switch(Be){case"shortDate":ze=Ee(ge,ie.Short);break;case"mediumDate":ze=Ee(ge,ie.Medium);break;case"longDate":ze=Ee(ge,ie.Long);break;case"fullDate":ze=Ee(ge,ie.Full);break;case"shortTime":ze=Oe(ge,ie.Short);break;case"mediumTime":ze=Oe(ge,ie.Medium);break;case"longTime":ze=Oe(ge,ie.Long);break;case"fullTime":ze=Oe(ge,ie.Full);break;case"short":const _t=Yt(ge,"shortTime"),an=Yt(ge,"shortDate");ze=en(Re(ge,ie.Short),[_t,an]);break;case"medium":const mn=Yt(ge,"mediumTime"),zn=Yt(ge,"mediumDate");ze=en(Re(ge,ie.Medium),[mn,zn]);break;case"long":const Or=Yt(ge,"longTime"),wr=Yt(ge,"longDate");ze=en(Re(ge,ie.Long),[Or,wr]);break;case"full":const ir=Yt(ge,"fullTime"),Cr=Yt(ge,"fullDate");ze=en(Re(ge,ie.Full),[ir,Cr])}return ze&&(Ge[ye][Be]=ze),ze}function en(ge,Be){return Be&&(ge=ge.replace(/\{([^}]+)}/g,function(ye,ze){return null!=Be&&ze in Be?Be[ze]:ye})),ge}function Tt(ge,Be,ye="-",ze,_t){let an="";(ge<0||_t&&ge<=0)&&(_t?ge=1-ge:(ge=-ge,an=ye));let mn=String(ge);for(;mn.length<Be;)mn="0"+mn;return ze&&(mn=mn.slice(mn.length-Be)),an+mn}function xn(ge,Be,ye=0,ze=!1,_t=!1){return function(an,mn){let zn=function qn(ge,Be){switch(ge){case it.FullYear:return Be.getFullYear();case it.Month:return Be.getMonth();case it.Date:return Be.getDate();case it.Hours:return Be.getHours();case it.Minutes:return Be.getMinutes();case it.Seconds:return Be.getSeconds();case it.FractionalSeconds:return Be.getMilliseconds();case it.Day:return Be.getDay();default:throw new Error(`Unknown DateType value "${ge}".`)}}(ge,an);if((ye>0||zn>-ye)&&(zn+=ye),ge===it.Hours)0===zn&&-12===ye&&(zn=12);else if(ge===it.FractionalSeconds)return function Mn(ge,Be){return Tt(ge,3).substring(0,Be)}(zn,Be);const Or=ve(mn,ce.MinusSign);return Tt(zn,Be,Or,ze,_t)}}function Rt(ge,Be,ye=re.Format,ze=!1){return function(_t,an){return function sn(ge,Be,ye,ze,_t,an){switch(ye){case ht.Months:return oe(Be,_t,ze)[ge.getMonth()];case ht.Days:return Q(Be,_t,ze)[ge.getDay()];case ht.DayPeriods:const mn=ge.getHours(),zn=ge.getMinutes();if(an){const wr=function Dt(ge){const Be=(0,t.\u0275findLocaleData)(ge);return mt(Be),(Be[t.\u0275LocaleDataIndex.ExtraData][2]||[]).map(ze=>"string"==typeof ze?lt(ze):[lt(ze[0]),lt(ze[1])])}(Be),ir=function At(ge,Be,ye){const ze=(0,t.\u0275findLocaleData)(ge);mt(ze);const an=$t([ze[t.\u0275LocaleDataIndex.ExtraData][0],ze[t.\u0275LocaleDataIndex.ExtraData][1]],Be)||[];return $t(an,ye)||[]}(Be,_t,ze),Cr=wr.findIndex(Pi=>{if(Array.isArray(Pi)){const[Vr,pi]=Pi,ts=mn>=Vr.hours&&zn>=Vr.minutes,xr=mn<pi.hours||mn===pi.hours&&zn<pi.minutes;if(Vr.hours<pi.hours){if(ts&&xr)return!0}else if(ts||xr)return!0}else if(Pi.hours===mn&&Pi.minutes===zn)return!0;return!1});if(-1!==Cr)return ir[Cr]}return w(Be,_t,ze)[mn<12?0:1];case ht.Eras:return function q(ge,Be){return $t((0,t.\u0275findLocaleData)(ge)[t.\u0275LocaleDataIndex.Eras],Be)}(Be,ze)[ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ye}`)}}(_t,an,ge,Be,ye,ze)}}function jt(ge){return function(Be,ye,ze){const _t=-1*ze,an=ve(ye,ce.MinusSign),mn=_t>0?Math.floor(_t/60):Math.ceil(_t/60);switch(ge){case gt.Short:return(_t>=0?"+":"")+Tt(mn,2,an)+Tt(Math.abs(_t%60),2,an);case gt.ShortGMT:return"GMT"+(_t>=0?"+":"")+Tt(mn,1,an);case gt.Long:return"GMT"+(_t>=0?"+":"")+Tt(mn,2,an)+":"+Tt(Math.abs(_t%60),2,an);case gt.Extended:return 0===ze?"Z":(_t>=0?"+":"")+Tt(mn,2,an)+":"+Tt(Math.abs(_t%60),2,an);default:throw new Error(`Unknown zone width "${ge}"`)}}}const zt=0,on=4;function xe(ge){return It(ge.getFullYear(),ge.getMonth(),ge.getDate()+(on-ge.getDay()))}function we(ge,Be=!1){return function(ye,ze){let _t;if(Be){const an=new Date(ye.getFullYear(),ye.getMonth(),1).getDay()-1,mn=ye.getDate();_t=1+Math.floor((mn+an)/7)}else{const an=xe(ye),mn=function ke(ge){const Be=It(ge,zt,1).getDay();return It(ge,0,1+(Be<=on?on:on+7)-Be)}(an.getFullYear()),zn=an.getTime()-mn.getTime();_t=1+Math.round(zn/6048e5)}return Tt(_t,ge,ve(ze,ce.MinusSign))}}function pt(ge,Be=!1){return function(ye,ze){return Tt(xe(ye).getFullYear(),ge,ve(ze,ce.MinusSign),Be)}}const bt={};function Xt(ge,Be){ge=ge.replace(/:/g,"");const ye=Date.parse("Jan 01, 1970 00:00:00 "+ge)/6e4;return isNaN(ye)?Be:ye}function ct(ge){return ge instanceof Date&&!isNaN(ge.valueOf())}function si(ge,Be){Be=encodeURIComponent(Be);for(const ye of ge.split(";")){const ze=ye.indexOf("="),[_t,an]=-1==ze?[ye,""]:[ye.slice(0,ze),ye.slice(ze+1)];if(_t.trim()===Be)return decodeURIComponent(an)}return null}const yr=/\s+/,Sn=[];let Qn=(()=>{class ge{constructor(ye,ze,_t,an){this._iterableDiffers=ye,this._keyValueDiffers=ze,this._ngEl=_t,this._renderer=an,this.initialClasses=Sn,this.stateMap=new Map}set klass(ye){this.initialClasses=null!=ye?ye.trim().split(yr):Sn}set ngClass(ye){this.rawClass="string"==typeof ye?ye.trim().split(yr):ye}ngDoCheck(){for(const ze of this.initialClasses)this._updateState(ze,!0);const ye=this.rawClass;if(Array.isArray(ye)||ye instanceof Set)for(const ze of ye)this._updateState(ze,!0);else if(null!=ye)for(const ze of Object.keys(ye))this._updateState(ze,Boolean(ye[ze]));this._applyStateDiff()}_updateState(ye,ze){const _t=this.stateMap.get(ye);void 0!==_t?(_t.enabled!==ze&&(_t.changed=!0,_t.enabled=ze),_t.touched=!0):this.stateMap.set(ye,{enabled:ze,changed:!0,touched:!0})}_applyStateDiff(){for(const ye of this.stateMap){const ze=ye[0],_t=ye[1];_t.changed?(this._toggleClass(ze,_t.enabled),_t.changed=!1):_t.touched||(_t.enabled&&this._toggleClass(ze,!1),this.stateMap.delete(ze)),_t.touched=!1}}_toggleClass(ye,ze){(ye=ye.trim()).length>0&&ye.split(yr).forEach(_t=>{ze?this._renderer.addClass(this._ngEl.nativeElement,_t):this._renderer.removeClass(this._ngEl.nativeElement,_t)})}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.IterableDiffers),t.\u0275\u0275directiveInject(t.KeyValueDiffers),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),ge})(),hr=(()=>{class ge{constructor(ye){this._viewContainerRef=ye,this.ngComponentOutlet=null}ngOnChanges(ye){const{_viewContainerRef:ze,ngComponentOutletNgModule:_t,ngComponentOutletNgModuleFactory:an}=this;if(ze.clear(),this._componentRef=void 0,this.ngComponentOutlet){const mn=this.ngComponentOutletInjector||ze.parentInjector;(ye.ngComponentOutletNgModule||ye.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=_t?(0,t.createNgModule)(_t,Br(mn)):an?an.create(Br(mn)):void 0),this._componentRef=ze.createComponent(this.ngComponentOutlet,{index:ze.length,injector:mn,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ViewContainerRef))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]}),ge})();function Br(ge){return ge.get(t.NgModuleRef).injector}class br{constructor(Be,ye,ze,_t){this.$implicit=Be,this.ngForOf=ye,this.index=ze,this.count=_t}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class ge{set ngForOf(ye){this._ngForOf=ye,this._ngForOfDirty=!0}set ngForTrackBy(ye){this._trackByFn=ye}get ngForTrackBy(){return this._trackByFn}constructor(ye,ze,_t){this._viewContainer=ye,this._template=ze,this._differs=_t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ye){ye&&(this._template=ye)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ye=this._ngForOf;!this._differ&&ye&&(this._differ=this._differs.find(ye).create(this.ngForTrackBy))}if(this._differ){const ye=this._differ.diff(this._ngForOf);ye&&this._applyChanges(ye)}}_applyChanges(ye){const ze=this._viewContainer;ye.forEachOperation((_t,an,mn)=>{if(null==_t.previousIndex)ze.createEmbeddedView(this._template,new br(_t.item,this._ngForOf,-1,-1),null===mn?void 0:mn);else if(null==mn)ze.remove(null===an?void 0:an);else if(null!==an){const zn=ze.get(an);ze.move(zn,mn),Nr(zn,_t)}});for(let _t=0,an=ze.length;_t<an;_t++){const zn=ze.get(_t).context;zn.index=_t,zn.count=an,zn.ngForOf=this._ngForOf}ye.forEachIdentityChange(_t=>{Nr(ze.get(_t.currentIndex),_t)})}static ngTemplateContextGuard(ye,ze){return!0}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(t.IterableDiffers))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ge})();function Nr(ge,Be){ge.context.$implicit=Be.item}let Ri=(()=>{class ge{constructor(ye,ze){this._viewContainer=ye,this._context=new kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ze}set ngIf(ye){this._context.$implicit=this._context.ngIf=ye,this._updateView()}set ngIfThen(ye){hi("ngIfThen",ye),this._thenTemplateRef=ye,this._thenViewRef=null,this._updateView()}set ngIfElse(ye){hi("ngIfElse",ye),this._elseTemplateRef=ye,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ye,ze){return!0}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ge})();class kn{constructor(){this.$implicit=null,this.ngIf=null}}function hi(ge,Be){if(Be&&!Be.createEmbeddedView)throw new Error(`${ge} must be a TemplateRef, but received '${(0,t.\u0275stringify)(Be)}'.`)}class ai{constructor(Be,ye){this._viewContainerRef=Be,this._templateRef=ye,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Be){Be&&!this._created?this.create():!Be&&this._created&&this.destroy()}}let to=(()=>{class ge{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ye){this._ngSwitch=ye,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ye){this._defaultViews.push(ye)}_matchCase(ye){const ze=ye==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ze,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ze}_updateDefaultCases(ye){if(this._defaultViews.length>0&&ye!==this._defaultUsed){this._defaultUsed=ye;for(const ze of this._defaultViews)ze.enforceState(ye)}}}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),ge})(),Wi=(()=>{class ge{constructor(ye,ze,_t){this.ngSwitch=_t,_t._addCase(),this._view=new ai(ye,ze)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(to,9))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),ge})(),Kt=(()=>{class ge{constructor(ye,ze,_t){this._ngEl=ye,this._differs=ze,this._renderer=_t,this._ngStyle=null,this._differ=null}set ngStyle(ye){this._ngStyle=ye,!this._differ&&ye&&(this._differ=this._differs.find(ye).create())}ngDoCheck(){if(this._differ){const ye=this._differ.diff(this._ngStyle);ye&&this._applyChanges(ye)}}_setStyle(ye,ze){const[_t,an]=ye.split("."),mn=-1===_t.indexOf("-")?void 0:t.RendererStyleFlags2.DashCase;null!=ze?this._renderer.setStyle(this._ngEl.nativeElement,_t,an?`${ze}${an}`:ze,mn):this._renderer.removeStyle(this._ngEl.nativeElement,_t,mn)}_applyChanges(ye){ye.forEachRemovedItem(ze=>this._setStyle(ze.key,null)),ye.forEachAddedItem(ze=>this._setStyle(ze.key,ze.currentValue)),ye.forEachChangedItem(ze=>this._setStyle(ze.key,ze.currentValue))}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.KeyValueDiffers),t.\u0275\u0275directiveInject(t.Renderer2))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),ge})(),ln=(()=>{class ge{constructor(ye){this._viewContainerRef=ye,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ye){if(ye.ngTemplateOutlet||ye.ngTemplateOutletInjector){const ze=this._viewContainerRef;if(this._viewRef&&ze.remove(ze.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_t,ngTemplateOutletContext:an,ngTemplateOutletInjector:mn}=this;this._viewRef=ze.createEmbeddedView(_t,an,mn?{injector:mn}:void 0)}else this._viewRef=null}else this._viewRef&&ye.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ViewContainerRef))},ge.\u0275dir=t.\u0275\u0275defineDirective({type:ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]}),ge})();function bn(ge,Be){return new t.\u0275RuntimeError(2100,!1)}class $n{createSubscription(Be,ye){return Be.subscribe({next:ye,error:ze=>{throw ze}})}dispose(Be){Be.unsubscribe()}}class Mr{createSubscription(Be,ye){return Be.then(ye,ze=>{throw ze})}dispose(Be){}}const Ur=new Mr,Tr=new $n;let Vn=(()=>{class ge{constructor(ye){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ye}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ye){return this._obj?ye!==this._obj?(this._dispose(),this.transform(ye)):this._latestValue:(ye&&this._subscribe(ye),this._latestValue)}_subscribe(ye){this._obj=ye,this._strategy=this._selectStrategy(ye),this._subscription=this._strategy.createSubscription(ye,ze=>this._updateLatestValue(ye,ze))}_selectStrategy(ye){if((0,t.\u0275isPromise)(ye))return Ur;if((0,t.\u0275isSubscribable)(ye))return Tr;throw bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ye,ze){ye===this._obj&&(this._latestValue=ze,this._ref.markForCheck())}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef,16))},ge.\u0275pipe=t.\u0275\u0275definePipe({name:"async",type:ge,pure:!1,standalone:!0}),ge})(),Xn=(()=>{class ge{transform(ye){if(null==ye)return null;if("string"!=typeof ye)throw bn();return ye.toLowerCase()}}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275pipe=t.\u0275\u0275definePipe({name:"lowercase",type:ge,pure:!0,standalone:!0}),ge})();const xi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let li=(()=>{class ge{transform(ye){if(null==ye)return null;if("string"!=typeof ye)throw bn();return ye.replace(xi,ze=>ze[0].toUpperCase()+ze.slice(1).toLowerCase())}}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275pipe=t.\u0275\u0275definePipe({name:"titlecase",type:ge,pure:!0,standalone:!0}),ge})();const co=new t.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE"),Ki=new t.InjectionToken("DATE_PIPE_DEFAULT_OPTIONS");let ei=(()=>{class ge{constructor(ye,ze,_t){this.locale=ye,this.defaultTimezone=ze,this.defaultOptions=_t}transform(ye,ze,_t,an){if(null==ye||""===ye||ye!=ye)return null;try{return St(ye,ze??this.defaultOptions?.dateFormat??"mediumDate",an||this.locale,_t??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(mn){throw bn()}}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.LOCALE_ID,16),t.\u0275\u0275directiveInject(co,24),t.\u0275\u0275directiveInject(Ki,24))},ge.\u0275pipe=t.\u0275\u0275definePipe({name:"date",type:ge,pure:!0,standalone:!0}),ge})(),Po=(()=>{class ge{constructor(ye){this.differs=ye,this.keyValues=[],this.compareFn=mo}transform(ye,ze=mo){if(!ye||!(ye instanceof Map)&&"object"!=typeof ye)return null;this.differ||(this.differ=this.differs.find(ye).create());const _t=this.differ.diff(ye),an=ze!==this.compareFn;return _t&&(this.keyValues=[],_t.forEachItem(mn=>{this.keyValues.push(function Uo(ge,Be){return{key:ge,value:Be}}(mn.key,mn.currentValue))})),(_t||an)&&(this.keyValues.sort(ze),this.compareFn=ze),this.keyValues}}return ge.\u0275fac=function(ye){return new(ye||ge)(t.\u0275\u0275directiveInject(t.KeyValueDiffers,16))},ge.\u0275pipe=t.\u0275\u0275definePipe({name:"keyvalue",type:ge,pure:!1,standalone:!0}),ge})();function mo(ge,Be){const ye=ge.key,ze=Be.key;if(ye===ze)return 0;if(void 0===ye)return 1;if(void 0===ze)return-1;if(null===ye)return 1;if(null===ze)return-1;if("string"==typeof ye&&"string"==typeof ze)return ye<ze?-1:1;if("number"==typeof ye&&"number"==typeof ze)return ye-ze;if("boolean"==typeof ye&&"boolean"==typeof ze)return ye<ze?-1:1;const _t=String(ye),an=String(ze);return _t==an?0:_t<an?-1:1}let _o=(()=>{class ge{}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275mod=t.\u0275\u0275defineNgModule({type:ge}),ge.\u0275inj=t.\u0275\u0275defineInjector({}),ge})();const Et="browser",vn="server";function Ut(ge){return ge===Et}function pn(ge){return ge===vn}let cr=(()=>{class ge{}return ge.\u0275prov=(0,t.\u0275\u0275defineInjectable)({token:ge,providedIn:"root",factory:()=>new gi((0,t.\u0275\u0275inject)(r),window)}),ge})();class gi{constructor(Be,ye){this.document=Be,this.window=ye,this.offset=()=>[0,0]}setOffset(Be){this.offset=Array.isArray(Be)?()=>Be:Be}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Be){this.supportsScrolling()&&this.window.scrollTo(Be[0],Be[1])}scrollToAnchor(Be){if(!this.supportsScrolling())return;const ye=function Fi(ge,Be){const ye=ge.getElementById(Be)||ge.getElementsByName(Be)[0];if(ye)return ye;if("function"==typeof ge.createTreeWalker&&ge.body&&(ge.body.createShadowRoot||ge.body.attachShadow)){const ze=ge.createTreeWalker(ge.body,NodeFilter.SHOW_ELEMENT);let _t=ze.currentNode;for(;_t;){const an=_t.shadowRoot;if(an){const mn=an.getElementById(Be)||an.querySelector(`[name="${Be}"]`);if(mn)return mn}_t=ze.nextNode()}}return null}(this.document,Be);ye&&(this.scrollToElement(ye),ye.focus())}setHistoryScrollRestoration(Be){if(this.supportScrollRestoration()){const ye=this.window.history;ye&&ye.scrollRestoration&&(ye.scrollRestoration=Be)}}scrollToElement(Be){const ye=Be.getBoundingClientRect(),ze=ye.left+this.window.pageXOffset,_t=ye.top+this.window.pageYOffset,an=this.offset();this.window.scrollTo(ze-an[0],_t-an[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Be=ci(this.window.history)||ci(Object.getPrototypeOf(this.window.history));return!(!Be||!Be.writable&&!Be.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ci(ge){return Object.getOwnPropertyDescriptor(ge,"scrollRestoration")}class zo{}},78964:(R,c,e)=>{"use strict";e.d(c,{JF:()=>jt,LE:()=>D,TP:()=>q,UA:()=>ce,WM:()=>m,YS:()=>Ge,Zn:()=>ie,eN:()=>K});var t=e(35103),n=e(98678),a=e(9237),i=e(42878),d=e(27193),r=e(77007),l=e(48358);class p{}class h{}class m{constructor(xe){this.normalizedNames=new Map,this.lazyUpdate=null,xe?this.lazyInit="string"==typeof xe?()=>{this.headers=new Map,xe.split("\n").forEach(we=>{const pt=we.indexOf(":");if(pt>0){const bt=we.slice(0,pt),wt=bt.toLowerCase(),Xt=we.slice(pt+1).trim();this.maybeSetNormalizedName(bt,wt),this.headers.has(wt)?this.headers.get(wt).push(Xt):this.headers.set(wt,[Xt])}})}:()=>{this.headers=new Map,Object.entries(xe).forEach(([we,pt])=>{let bt;if(bt="string"==typeof pt?[pt]:"number"==typeof pt?[pt.toString()]:pt.map(wt=>wt.toString()),bt.length>0){const wt=we.toLowerCase();this.headers.set(wt,bt),this.maybeSetNormalizedName(we,wt)}})}:this.headers=new Map}has(xe){return this.init(),this.headers.has(xe.toLowerCase())}get(xe){this.init();const we=this.headers.get(xe.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(xe){return this.init(),this.headers.get(xe.toLowerCase())||null}append(xe,we){return this.clone({name:xe,value:we,op:"a"})}set(xe,we){return this.clone({name:xe,value:we,op:"s"})}delete(xe,we){return this.clone({name:xe,value:we,op:"d"})}maybeSetNormalizedName(xe,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,xe)}init(){this.lazyInit&&(this.lazyInit instanceof m?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(xe=>this.applyUpdate(xe)),this.lazyUpdate=null))}copyFrom(xe){xe.init(),Array.from(xe.headers.keys()).forEach(we=>{this.headers.set(we,xe.headers.get(we)),this.normalizedNames.set(we,xe.normalizedNames.get(we))})}clone(xe){const we=new m;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof m?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([xe]),we}applyUpdate(xe){const we=xe.name.toLowerCase();switch(xe.op){case"a":case"s":let pt=xe.value;if("string"==typeof pt&&(pt=[pt]),0===pt.length)return;this.maybeSetNormalizedName(xe.name,we);const bt=("a"===xe.op?this.headers.get(we):void 0)||[];bt.push(...pt),this.headers.set(we,bt);break;case"d":const wt=xe.value;if(wt){let Xt=this.headers.get(we);if(!Xt)return;Xt=Xt.filter(Qt=>-1===wt.indexOf(Qt)),0===Xt.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,Xt)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(xe){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>xe(this.normalizedNames.get(we),this.headers.get(we)))}}class v{encodeKey(xe){return b(xe)}encodeValue(xe){return b(xe)}decodeKey(xe){return decodeURIComponent(xe)}decodeValue(xe){return decodeURIComponent(xe)}}const O=/%(\d[a-f0-9])/gi,S={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function b(ke){return encodeURIComponent(ke).replace(O,(xe,we)=>S[we]??xe)}function o(ke){return`${ke}`}class D{constructor(xe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=xe.encoder||new v,xe.fromString){if(xe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function y(ke,xe){const we=new Map;return ke.length>0&&ke.replace(/^\?/,"").split("&").forEach(bt=>{const wt=bt.indexOf("="),[Xt,Qt]=-1==wt?[xe.decodeKey(bt),""]:[xe.decodeKey(bt.slice(0,wt)),xe.decodeValue(bt.slice(wt+1))],Gt=we.get(Xt)||[];Gt.push(Qt),we.set(Xt,Gt)}),we}(xe.fromString,this.encoder)}else xe.fromObject?(this.map=new Map,Object.keys(xe.fromObject).forEach(we=>{const pt=xe.fromObject[we],bt=Array.isArray(pt)?pt.map(o):[o(pt)];this.map.set(we,bt)})):this.map=null}has(xe){return this.init(),this.map.has(xe)}get(xe){this.init();const we=this.map.get(xe);return we?we[0]:null}getAll(xe){return this.init(),this.map.get(xe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(xe,we){return this.clone({param:xe,value:we,op:"a"})}appendAll(xe){const we=[];return Object.keys(xe).forEach(pt=>{const bt=xe[pt];Array.isArray(bt)?bt.forEach(wt=>{we.push({param:pt,value:wt,op:"a"})}):we.push({param:pt,value:bt,op:"a"})}),this.clone(we)}set(xe,we){return this.clone({param:xe,value:we,op:"s"})}delete(xe,we){return this.clone({param:xe,value:we,op:"d"})}toString(){return this.init(),this.keys().map(xe=>{const we=this.encoder.encodeKey(xe);return this.map.get(xe).map(pt=>we+"="+this.encoder.encodeValue(pt)).join("&")}).filter(xe=>""!==xe).join("&")}clone(xe){const we=new D({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(xe),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(xe=>this.map.set(xe,this.cloneFrom.map.get(xe))),this.updates.forEach(xe=>{switch(xe.op){case"a":case"s":const we=("a"===xe.op?this.map.get(xe.param):void 0)||[];we.push(o(xe.value)),this.map.set(xe.param,we);break;case"d":if(void 0===xe.value){this.map.delete(xe.param);break}{let pt=this.map.get(xe.param)||[];const bt=pt.indexOf(o(xe.value));-1!==bt&&pt.splice(bt,1),pt.length>0?this.map.set(xe.param,pt):this.map.delete(xe.param)}}}),this.cloneFrom=this.updates=null)}}class C{constructor(){this.map=new Map}set(xe,we){return this.map.set(xe,we),this}get(xe){return this.map.has(xe)||this.map.set(xe,xe.defaultValue()),this.map.get(xe)}delete(xe){return this.map.delete(xe),this}has(xe){return this.map.has(xe)}keys(){return this.map.keys()}}function g(ke){return typeof ArrayBuffer<"u"&&ke instanceof ArrayBuffer}function U(ke){return typeof Blob<"u"&&ke instanceof Blob}function L(ke){return typeof FormData<"u"&&ke instanceof FormData}class ${constructor(xe,we,pt,bt){let wt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=xe.toUpperCase(),function T(ke){switch(ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bt?(this.body=void 0!==pt?pt:null,wt=bt):wt=pt,wt&&(this.reportProgress=!!wt.reportProgress,this.withCredentials=!!wt.withCredentials,wt.responseType&&(this.responseType=wt.responseType),wt.headers&&(this.headers=wt.headers),wt.context&&(this.context=wt.context),wt.params&&(this.params=wt.params)),this.headers||(this.headers=new m),this.context||(this.context=new C),this.params){const Xt=this.params.toString();if(0===Xt.length)this.urlWithParams=we;else{const Qt=we.indexOf("?");this.urlWithParams=we+(-1===Qt?"?":Qt<we.length-1?"&":"")+Xt}}else this.params=new D,this.urlWithParams=we}serializeBody(){return null===this.body?null:g(this.body)||U(this.body)||L(this.body)||function j(ke){return typeof URLSearchParams<"u"&&ke instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof D?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||L(this.body)?null:U(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof D?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(xe={}){const we=xe.method||this.method,pt=xe.url||this.url,bt=xe.responseType||this.responseType,wt=void 0!==xe.body?xe.body:this.body,Xt=void 0!==xe.withCredentials?xe.withCredentials:this.withCredentials,Qt=void 0!==xe.reportProgress?xe.reportProgress:this.reportProgress;let Gt=xe.headers||this.headers,dn=xe.params||this.params;const fn=xe.context??this.context;return void 0!==xe.setHeaders&&(Gt=Object.keys(xe.setHeaders).reduce((ct,Mt)=>ct.set(Mt,xe.setHeaders[Mt]),Gt)),xe.setParams&&(dn=Object.keys(xe.setParams).reduce((ct,Mt)=>ct.set(Mt,xe.setParams[Mt]),dn)),new $(we,pt,wt,{params:dn,headers:Gt,context:fn,reportProgress:Qt,responseType:bt,withCredentials:Xt})}}var z=(()=>((z=z||{})[z.Sent=0]="Sent",z[z.UploadProgress=1]="UploadProgress",z[z.ResponseHeader=2]="ResponseHeader",z[z.DownloadProgress=3]="DownloadProgress",z[z.Response=4]="Response",z[z.User=5]="User",z))();class re{constructor(xe,we=200,pt="OK"){this.headers=xe.headers||new m,this.status=void 0!==xe.status?xe.status:we,this.statusText=xe.statusText||pt,this.url=xe.url||null,this.ok=this.status>=200&&this.status<300}}class W extends re{constructor(xe={}){super(xe),this.type=z.ResponseHeader}clone(xe={}){return new W({headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class ie extends re{constructor(xe={}){super(xe),this.type=z.Response,this.body=void 0!==xe.body?xe.body:null}clone(xe={}){return new ie({body:void 0!==xe.body?xe.body:this.body,headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class ce extends re{constructor(xe){super(xe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${xe.url||"(unknown url)"}`:`Http failure response for ${xe.url||"(unknown url)"}: ${xe.status} ${xe.statusText}`,this.error=xe.error||null}}function ne(ke,xe){return{body:xe,headers:ke.headers,context:ke.context,observe:ke.observe,params:ke.params,reportProgress:ke.reportProgress,responseType:ke.responseType,withCredentials:ke.withCredentials}}let K=(()=>{class ke{constructor(we){this.handler=we}request(we,pt,bt={}){let wt;if(we instanceof $)wt=we;else{let Gt,dn;Gt=bt.headers instanceof m?bt.headers:new m(bt.headers),bt.params&&(dn=bt.params instanceof D?bt.params:new D({fromObject:bt.params})),wt=new $(we,pt,void 0!==bt.body?bt.body:null,{headers:Gt,context:bt.context,params:dn,reportProgress:bt.reportProgress,responseType:bt.responseType||"json",withCredentials:bt.withCredentials})}const Xt=(0,a.of)(wt).pipe((0,d.b)(Gt=>this.handler.handle(Gt)));if(we instanceof $||"events"===bt.observe)return Xt;const Qt=Xt.pipe((0,r.h)(Gt=>Gt instanceof ie));switch(bt.observe||"body"){case"body":switch(wt.responseType){case"arraybuffer":return Qt.pipe((0,l.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gt.body}));case"blob":return Qt.pipe((0,l.U)(Gt=>{if(null!==Gt.body&&!(Gt.body instanceof Blob))throw new Error("Response is not a Blob.");return Gt.body}));case"text":return Qt.pipe((0,l.U)(Gt=>{if(null!==Gt.body&&"string"!=typeof Gt.body)throw new Error("Response is not a string.");return Gt.body}));default:return Qt.pipe((0,l.U)(Gt=>Gt.body))}case"response":return Qt;default:throw new Error(`Unreachable: unhandled observe type ${bt.observe}}`)}}delete(we,pt={}){return this.request("DELETE",we,pt)}get(we,pt={}){return this.request("GET",we,pt)}head(we,pt={}){return this.request("HEAD",we,pt)}jsonp(we,pt){return this.request("JSONP",we,{params:(new D).append(pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,pt={}){return this.request("OPTIONS",we,pt)}patch(we,pt,bt={}){return this.request("PATCH",we,ne(bt,pt))}post(we,pt,bt={}){return this.request("POST",we,ne(bt,pt))}put(we,pt,bt={}){return this.request("PUT",we,ne(bt,pt))}}return ke.\u0275fac=function(we){return new(we||ke)(n.\u0275\u0275inject(p))},ke.\u0275prov=n.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac}),ke})();function w(ke,xe){return xe(ke)}function Q(ke,xe){return(we,pt)=>xe.intercept(we,{handle:bt=>ke(bt,pt)})}const q=new n.InjectionToken("HTTP_INTERCEPTORS"),ee=new n.InjectionToken("HTTP_INTERCEPTOR_FNS");function J(){let ke=null;return(xe,we)=>(null===ke&&(ke=((0,n.inject)(q,{optional:!0})??[]).reduceRight(Q,w)),ke(xe,we))}let Ee=(()=>{class ke extends p{constructor(we,pt){super(),this.backend=we,this.injector=pt,this.chain=null}handle(we){if(null===this.chain){const pt=Array.from(new Set(this.injector.get(ee)));this.chain=pt.reduceRight((bt,wt)=>function oe(ke,xe,we){return(pt,bt)=>we.runInContext(()=>xe(pt,wt=>ke(wt,bt)))}(bt,wt,this.injector),w)}return this.chain(we,pt=>this.backend.handle(pt))}}return ke.\u0275fac=function(we){return new(we||ke)(n.\u0275\u0275inject(h),n.\u0275\u0275inject(n.EnvironmentInjector))},ke.\u0275prov=n.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac}),ke})();const At=/^\)\]\}',?\n/;let $t=(()=>{class ke{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new i.y(pt=>{const bt=this.xhrFactory.build();if(bt.open(we.method,we.urlWithParams),we.withCredentials&&(bt.withCredentials=!0),we.headers.forEach((Ve,vt)=>bt.setRequestHeader(Ve,vt.join(","))),we.headers.has("Accept")||bt.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Ve=we.detectContentTypeHeader();null!==Ve&&bt.setRequestHeader("Content-Type",Ve)}if(we.responseType){const Ve=we.responseType.toLowerCase();bt.responseType="json"!==Ve?Ve:"text"}const wt=we.serializeBody();let Xt=null;const Qt=()=>{if(null!==Xt)return Xt;const Ve=bt.statusText||"OK",vt=new m(bt.getAllResponseHeaders()),Bt=function Jt(ke){return"responseURL"in ke&&ke.responseURL?ke.responseURL:/^X-Request-URL:/m.test(ke.getAllResponseHeaders())?ke.getResponseHeader("X-Request-URL"):null}(bt)||we.url;return Xt=new W({headers:vt,status:bt.status,statusText:Ve,url:Bt}),Xt},Gt=()=>{let{headers:Ve,status:vt,statusText:Bt,url:je}=Qt(),be=null;204!==vt&&(be=typeof bt.response>"u"?bt.responseText:bt.response),0===vt&&(vt=be?200:0);let ot=vt>=200&&vt<300;if("json"===we.responseType&&"string"==typeof be){const rn=be;be=be.replace(At,"");try{be=""!==be?JSON.parse(be):null}catch(Cn){be=rn,ot&&(ot=!1,be={error:Cn,text:be})}}ot?(pt.next(new ie({body:be,headers:Ve,status:vt,statusText:Bt,url:je||void 0})),pt.complete()):pt.error(new ce({error:be,headers:Ve,status:vt,statusText:Bt,url:je||void 0}))},dn=Ve=>{const{url:vt}=Qt(),Bt=new ce({error:Ve,status:bt.status||0,statusText:bt.statusText||"Unknown Error",url:vt||void 0});pt.error(Bt)};let fn=!1;const ct=Ve=>{fn||(pt.next(Qt()),fn=!0);let vt={type:z.DownloadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(vt.total=Ve.total),"text"===we.responseType&&bt.responseText&&(vt.partialText=bt.responseText),pt.next(vt)},Mt=Ve=>{let vt={type:z.UploadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(vt.total=Ve.total),pt.next(vt)};return bt.addEventListener("load",Gt),bt.addEventListener("error",dn),bt.addEventListener("timeout",dn),bt.addEventListener("abort",dn),we.reportProgress&&(bt.addEventListener("progress",ct),null!==wt&&bt.upload&&bt.upload.addEventListener("progress",Mt)),bt.send(wt),pt.next({type:z.Sent}),()=>{bt.removeEventListener("error",dn),bt.removeEventListener("abort",dn),bt.removeEventListener("load",Gt),bt.removeEventListener("timeout",dn),we.reportProgress&&(bt.removeEventListener("progress",ct),null!==wt&&bt.upload&&bt.upload.removeEventListener("progress",Mt)),bt.readyState!==bt.DONE&&bt.abort()}})}}return ke.\u0275fac=function(we){return new(we||ke)(n.\u0275\u0275inject(t.JF))},ke.\u0275prov=n.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac}),ke})();const lt=new n.InjectionToken("XSRF_ENABLED"),Qe=new n.InjectionToken("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Je=new n.InjectionToken("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ge{}let qe=(()=>{class ke{constructor(we,pt,bt){this.doc=we,this.platform=pt,this.cookieName=bt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,t.Mx)(we,this.cookieName),this.lastCookieString=we),this.lastToken}}return ke.\u0275fac=function(we){return new(we||ke)(n.\u0275\u0275inject(t.K0),n.\u0275\u0275inject(n.PLATFORM_ID),n.\u0275\u0275inject(Qe))},ke.\u0275prov=n.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac}),ke})();function gt(ke,xe){const we=ke.url.toLowerCase();if(!(0,n.inject)(lt)||"GET"===ke.method||"HEAD"===ke.method||we.startsWith("http://")||we.startsWith("https://"))return xe(ke);const pt=(0,n.inject)(Ge).getToken(),bt=(0,n.inject)(Je);return null!=pt&&!ke.headers.has(bt)&&(ke=ke.clone({headers:ke.headers.set(bt,pt)})),xe(ke)}var ht=(()=>((ht=ht||{})[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht))();function St(ke,xe){return{\u0275kind:ke,\u0275providers:xe}}function It(...ke){const xe=[K,$t,Ee,{provide:p,useExisting:Ee},{provide:h,useExisting:$t},{provide:ee,useValue:gt,multi:!0},{provide:lt,useValue:!0},{provide:Ge,useClass:qe}];for(const we of ke)xe.push(...we.\u0275providers);return(0,n.makeEnvironmentProviders)(xe)}const en=new n.InjectionToken("LEGACY_INTERCEPTOR_FN");let jt=(()=>{class ke{}return ke.\u0275fac=function(we){return new(we||ke)},ke.\u0275mod=n.\u0275\u0275defineNgModule({type:ke}),ke.\u0275inj=n.\u0275\u0275defineInjector({providers:[It(St(ht.LegacyInterceptors,[{provide:en,useFactory:J},{provide:ee,useExisting:en,multi:!0}]))]}),ke})()},98678:(R,c,e)=>{"use strict";e.r(c),e.d(c,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>jo,ANIMATION_MODULE_TYPE:()=>eC,APP_BOOTSTRAP_LISTENER:()=>dv,APP_ID:()=>Xg,APP_INITIALIZER:()=>Qg,ApplicationInitStatus:()=>du,ApplicationModule:()=>HC,ApplicationRef:()=>hu,Attribute:()=>Js,COMPILER_OPTIONS:()=>ev,CUSTOM_ELEMENTS_SCHEMA:()=>kl,ChangeDetectionStrategy:()=>Qt,ChangeDetectorRef:()=>Mv,Compiler:()=>sC,CompilerFactory:()=>aC,Component:()=>k1,ComponentFactory:()=>Bd,ComponentFactoryResolver:()=>qc,ComponentRef:()=>gf,ContentChild:()=>ya,ContentChildren:()=>Wo,DEFAULT_CURRENCY_CODE:()=>rC,DebugElement:()=>md,DebugEventListener:()=>PC,DebugNode:()=>zh,DefaultIterableDiffer:()=>Av,Directive:()=>Yg,ENVIRONMENT_INITIALIZER:()=>Bu,ElementRef:()=>ed,EmbeddedViewRef:()=>bC,EnvironmentInjector:()=>wl,ErrorHandler:()=>td,EventEmitter:()=>al,Host:()=>qa,HostBinding:()=>Y1,HostListener:()=>Q1,INJECTOR:()=>Uu,Inject:()=>Ns,InjectFlags:()=>lt,Injectable:()=>DE,InjectionToken:()=>Hr,Injector:()=>Cl,Input:()=>z1,IterableDiffers:()=>Zh,KeyValueDiffers:()=>Jh,LOCALE_ID:()=>uu,MissingTranslationStrategy:()=>ll,ModuleWithComponentFactories:()=>qg,NO_ERRORS_SCHEMA:()=>$l,NgModule:()=>X1,NgModuleFactory:()=>F_,NgModuleRef:()=>Mc,NgProbeToken:()=>_C,NgZone:()=>Ka,Optional:()=>ba,Output:()=>G1,PACKAGE_ROOT_URL:()=>q1,PLATFORM_ID:()=>J1,PLATFORM_INITIALIZER:()=>Jg,Pipe:()=>$1,PlatformRef:()=>$h,Query:()=>Os,QueryList:()=>ou,ReflectiveInjector:()=>lc,ReflectiveKey:()=>pl,Renderer2:()=>Zv,RendererFactory2:()=>Ef,RendererStyleFlags2:()=>da,ResolvedReflectiveFactory:()=>Kf,Sanitizer:()=>yf,SecurityContext:()=>bs,Self:()=>xa,SimpleChange:()=>Ar,SkipSelf:()=>ca,TRANSLATIONS:()=>iC,TRANSLATIONS_FORMAT:()=>oC,TemplateRef:()=>hd,Testability:()=>mC,TestabilityRegistry:()=>lv,Type:()=>N,VERSION:()=>Df,Version:()=>Cf,ViewChild:()=>Ms,ViewChildren:()=>lo,ViewContainerRef:()=>au,ViewEncapsulation:()=>Gt,ViewRef:()=>bv,asNativeElements:()=>IC,assertPlatform:()=>_v,createComponent:()=>eD,createEnvironmentInjector:()=>Ch,createNgModule:()=>N_,createNgModuleRef:()=>r1,createPlatform:()=>hv,createPlatformFactory:()=>mv,defineInjectable:()=>Pe,destroyPlatform:()=>EC,enableProdMode:()=>DC,forwardRef:()=>_,getDebugNode:()=>bc,getModuleFactory:()=>OC,getNgModuleById:()=>MC,getPlatform:()=>pu,importProvidersFrom:()=>df,inject:()=>on,isDevMode:()=>CC,isStandalone:()=>er,makeEnvironmentProviders:()=>Nv,platformCore:()=>VC,reflectComponentType:()=>tD,resolveForwardRef:()=>v,setTestabilityGetter:()=>cv,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>Hh,\u0275APP_ID_RANDOM_PROVIDER:()=>Z1,\u0275ComponentFactory:()=>Bd,\u0275Console:()=>tC,\u0275DEFAULT_LOCALE_ID:()=>Wl,\u0275INJECTOR_SCOPE:()=>ju,\u0275LContext:()=>Uc,\u0275LifecycleHooksFeature:()=>lm,\u0275LocaleDataIndex:()=>Lr,\u0275NG_COMP_DEF:()=>ct,\u0275NG_DIR_DEF:()=>Mt,\u0275NG_ELEMENT_ID:()=>je,\u0275NG_INJ_DEF:()=>At,\u0275NG_MOD_DEF:()=>vt,\u0275NG_PIPE_DEF:()=>Ve,\u0275NG_PROV_DEF:()=>Dt,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Ud,\u0275NO_CHANGE:()=>kr,\u0275NgModuleFactory:()=>iu,\u0275NoopNgZone:()=>ov,\u0275ReflectionCapabilities:()=>Aa,\u0275Render3ComponentFactory:()=>pc,\u0275Render3ComponentRef:()=>am,\u0275Render3NgModuleRef:()=>yh,\u0275RuntimeError:()=>o,\u0275TESTABILITY:()=>sv,\u0275TESTABILITY_GETTER:()=>av,\u0275ViewRef:()=>uc,\u0275XSS_SECURITY_URL:()=>b,\u0275_sanitizeHtml:()=>Ll,\u0275_sanitizeUrl:()=>Pa,\u0275allowSanitizationBypassAndThrow:()=>nr,\u0275bypassSanitizationTrustHtml:()=>oi,\u0275bypassSanitizationTrustResourceUrl:()=>ss,\u0275bypassSanitizationTrustScript:()=>Ai,\u0275bypassSanitizationTrustStyle:()=>Di,\u0275bypassSanitizationTrustUrl:()=>os,\u0275clearResolutionOfComponentResourcesQueue:()=>On,\u0275coerceToBoolean:()=>kC,\u0275compileComponent:()=>wg,\u0275compileDirective:()=>Fh,\u0275compileNgModule:()=>Ag,\u0275compileNgModuleDefs:()=>Rg,\u0275compileNgModuleFactory:()=>uv,\u0275compilePipe:()=>zg,\u0275convertToBitFlags:()=>ke,\u0275createInjector:()=>$u,\u0275defaultIterableDiffers:()=>WC,\u0275defaultKeyValueDiffers:()=>KC,\u0275detectChanges:()=>_m,\u0275devModeEqual:()=>mm,\u0275findLocaleData:()=>ch,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>Ig,\u0275formatRuntimeError:()=>D,\u0275getDebugNode:()=>bc,\u0275getDebugNodeR2:()=>xC,\u0275getDirectives:()=>k_,\u0275getHostElement:()=>Oh,\u0275getInjectableDef:()=>Ze,\u0275getLContext:()=>Gs,\u0275getLocaleCurrencyCode:()=>ay,\u0275getLocalePluralCase:()=>l_,\u0275getSanitizationBypassType:()=>gr,\u0275getUnknownElementStrictMode:()=>Tc,\u0275getUnknownPropertyStrictMode:()=>_d,\u0275global:()=>qe,\u0275injectChangeDetectorRef:()=>Sv,\u0275internalCreateApplication:()=>vC,\u0275isBoundToModule:()=>pv,\u0275isEnvironmentProviders:()=>O,\u0275isInjectable:()=>tt,\u0275isNgModule:()=>Rh,\u0275isObservable:()=>Dm,\u0275isPromise:()=>Sp,\u0275isSubscribable:()=>Cm,\u0275makeDecorator:()=>Do,\u0275noSideEffects:()=>Xt,\u0275patchComponentDefWithScope:()=>Uh,\u0275publishDefaultGlobalUtils:()=>cC,\u0275publishGlobalUtil:()=>Wa,\u0275registerLocaleData:()=>sy,\u0275resetCompiledComponents:()=>x1,\u0275resetJitOptions:()=>T1,\u0275resolveComponentResources:()=>st,\u0275setAllowDuplicateNgModuleIdsForTest:()=>_l,\u0275setClassMetadata:()=>z_,\u0275setCurrentInjector:()=>Rt,\u0275setDocument:()=>_e,\u0275setLocaleId:()=>dh,\u0275setUnknownElementStrictMode:()=>Ic,\u0275setUnknownPropertyStrictMode:()=>Sl,\u0275store:()=>vm,\u0275stringify:()=>p,\u0275transitiveScopesFor:()=>Kl,\u0275unregisterLocaleData:()=>ly,\u0275unwrapSafeValue:()=>lr,\u0275\u0275CopyDefinitionFeature:()=>dm,\u0275\u0275FactoryTarget:()=>He,\u0275\u0275HostDirectivesFeature:()=>um,\u0275\u0275InheritDefinitionFeature:()=>lp,\u0275\u0275NgOnChangesFeature:()=>ti,\u0275\u0275ProvidersFeature:()=>w_,\u0275\u0275StandaloneFeature:()=>j_,\u0275\u0275advance:()=>xf,\u0275\u0275attribute:()=>up,\u0275\u0275attributeInterpolate1:()=>pp,\u0275\u0275attributeInterpolate2:()=>hp,\u0275\u0275attributeInterpolate3:()=>fp,\u0275\u0275attributeInterpolate4:()=>mp,\u0275\u0275attributeInterpolate5:()=>_p,\u0275\u0275attributeInterpolate6:()=>gp,\u0275\u0275attributeInterpolate7:()=>vp,\u0275\u0275attributeInterpolate8:()=>Ep,\u0275\u0275attributeInterpolateV:()=>yp,\u0275\u0275classMap:()=>wm,\u0275\u0275classMapInterpolate1:()=>km,\u0275\u0275classMapInterpolate2:()=>$m,\u0275\u0275classMapInterpolate3:()=>zm,\u0275\u0275classMapInterpolate4:()=>Gm,\u0275\u0275classMapInterpolate5:()=>Ym,\u0275\u0275classMapInterpolate6:()=>Qm,\u0275\u0275classMapInterpolate7:()=>Xm,\u0275\u0275classMapInterpolate8:()=>Zm,\u0275\u0275classMapInterpolateV:()=>Jm,\u0275\u0275classProp:()=>Kp,\u0275\u0275contentQuery:()=>Cg,\u0275\u0275defineComponent:()=>ot,\u0275\u0275defineDirective:()=>Pn,\u0275\u0275defineInjectable:()=>ve,\u0275\u0275defineInjector:()=>et,\u0275\u0275defineNgModule:()=>hn,\u0275\u0275definePipe:()=>Bn,\u0275\u0275directiveInject:()=>cc,\u0275\u0275disableBindings:()=>Dn,\u0275\u0275element:()=>Op,\u0275\u0275elementContainer:()=>Mp,\u0275\u0275elementContainerEnd:()=>Qd,\u0275\u0275elementContainerStart:()=>Yd,\u0275\u0275elementEnd:()=>Gd,\u0275\u0275elementStart:()=>zd,\u0275\u0275enableBindings:()=>Wt,\u0275\u0275getCurrentView:()=>ym,\u0275\u0275getInheritedFactory:()=>Sa,\u0275\u0275hostProperty:()=>ah,\u0275\u0275i18n:()=>R_,\u0275\u0275i18nApply:()=>L_,\u0275\u0275i18nAttributes:()=>x_,\u0275\u0275i18nEnd:()=>fh,\u0275\u0275i18nExp:()=>mh,\u0275\u0275i18nPostprocess:()=>B_,\u0275\u0275i18nStart:()=>hh,\u0275\u0275inject:()=>jt,\u0275\u0275injectAttribute:()=>sa,\u0275\u0275invalidFactory:()=>$f,\u0275\u0275invalidFactoryDep:()=>zt,\u0275\u0275listener:()=>bp,\u0275\u0275loadQuery:()=>Dg,\u0275\u0275namespaceHTML:()=>es,\u0275\u0275namespaceMathML:()=>ao,\u0275\u0275namespaceSVG:()=>Es,\u0275\u0275nextContext:()=>bm,\u0275\u0275ngDeclareClassMetadata:()=>zC,\u0275\u0275ngDeclareComponent:()=>GC,\u0275\u0275ngDeclareDirective:()=>$C,\u0275\u0275ngDeclareFactory:()=>YC,\u0275\u0275ngDeclareInjectable:()=>XC,\u0275\u0275ngDeclareInjector:()=>ZC,\u0275\u0275ngDeclareNgModule:()=>JC,\u0275\u0275ngDeclarePipe:()=>qC,\u0275\u0275pipe:()=>lg,\u0275\u0275pipeBind1:()=>cg,\u0275\u0275pipeBind2:()=>dg,\u0275\u0275pipeBind3:()=>ug,\u0275\u0275pipeBind4:()=>pg,\u0275\u0275pipeBindV:()=>hg,\u0275\u0275projection:()=>Im,\u0275\u0275projectionDef:()=>Pm,\u0275\u0275property:()=>Cp,\u0275\u0275propertyInterpolate:()=>Ip,\u0275\u0275propertyInterpolate1:()=>Xd,\u0275\u0275propertyInterpolate2:()=>Tp,\u0275\u0275propertyInterpolate3:()=>Ap,\u0275\u0275propertyInterpolate4:()=>Rp,\u0275\u0275propertyInterpolate5:()=>xp,\u0275\u0275propertyInterpolate6:()=>Lp,\u0275\u0275propertyInterpolate7:()=>Bp,\u0275\u0275propertyInterpolate8:()=>Up,\u0275\u0275propertyInterpolateV:()=>wp,\u0275\u0275pureFunction0:()=>G_,\u0275\u0275pureFunction1:()=>Y_,\u0275\u0275pureFunction2:()=>Q_,\u0275\u0275pureFunction3:()=>X_,\u0275\u0275pureFunction4:()=>Z_,\u0275\u0275pureFunction5:()=>J_,\u0275\u0275pureFunction6:()=>q_,\u0275\u0275pureFunction7:()=>eg,\u0275\u0275pureFunction8:()=>tg,\u0275\u0275pureFunctionV:()=>ng,\u0275\u0275queryRefresh:()=>Eg,\u0275\u0275reference:()=>Em,\u0275\u0275registerNgModuleType:()=>ml,\u0275\u0275resetView:()=>ui,\u0275\u0275resolveBody:()=>Sf,\u0275\u0275resolveDocument:()=>Mf,\u0275\u0275resolveWindow:()=>Of,\u0275\u0275restoreView:()=>Zr,\u0275\u0275sanitizeHtml:()=>ef,\u0275\u0275sanitizeResourceUrl:()=>Lu,\u0275\u0275sanitizeScript:()=>nf,\u0275\u0275sanitizeStyle:()=>tf,\u0275\u0275sanitizeUrl:()=>xu,\u0275\u0275sanitizeUrlOrResourceUrl:()=>af,\u0275\u0275setComponentScope:()=>rn,\u0275\u0275setNgModuleScope:()=>En,\u0275\u0275styleMap:()=>Xa,\u0275\u0275styleMapInterpolate1:()=>qm,\u0275\u0275styleMapInterpolate2:()=>e_,\u0275\u0275styleMapInterpolate3:()=>t_,\u0275\u0275styleMapInterpolate4:()=>n_,\u0275\u0275styleMapInterpolate5:()=>r_,\u0275\u0275styleMapInterpolate6:()=>i_,\u0275\u0275styleMapInterpolate7:()=>o_,\u0275\u0275styleMapInterpolate8:()=>s_,\u0275\u0275styleMapInterpolateV:()=>a_,\u0275\u0275styleProp:()=>Wp,\u0275\u0275stylePropInterpolate1:()=>Jp,\u0275\u0275stylePropInterpolate2:()=>qp,\u0275\u0275stylePropInterpolate3:()=>eh,\u0275\u0275stylePropInterpolate4:()=>th,\u0275\u0275stylePropInterpolate5:()=>nh,\u0275\u0275stylePropInterpolate6:()=>rh,\u0275\u0275stylePropInterpolate7:()=>ih,\u0275\u0275stylePropInterpolate8:()=>oh,\u0275\u0275stylePropInterpolateV:()=>sh,\u0275\u0275syntheticHostListener:()=>Pp,\u0275\u0275syntheticHostProperty:()=>lh,\u0275\u0275template:()=>gm,\u0275\u0275templateRefExtractor:()=>bg,\u0275\u0275text:()=>Hm,\u0275\u0275textInterpolate:()=>Hp,\u0275\u0275textInterpolate1:()=>qd,\u0275\u0275textInterpolate2:()=>kp,\u0275\u0275textInterpolate3:()=>$p,\u0275\u0275textInterpolate4:()=>zp,\u0275\u0275textInterpolate5:()=>Gp,\u0275\u0275textInterpolate6:()=>Yp,\u0275\u0275textInterpolate7:()=>Qp,\u0275\u0275textInterpolate8:()=>Xp,\u0275\u0275textInterpolateV:()=>Zp,\u0275\u0275trustConstantHtml:()=>rf,\u0275\u0275trustConstantResourceUrl:()=>sf,\u0275\u0275validateIframeAttribute:()=>Qc,\u0275\u0275viewQuery:()=>yg});var t=e(1828),n=e(40024),a=e(42878),i=e(29054),d=e(42569);function r(u){for(let f in u)if(u[f]===r)return f;throw Error("Could not find renamed property on target object.")}function l(u,f){for(const E in f)f.hasOwnProperty(E)&&!u.hasOwnProperty(E)&&(u[E]=f[E])}function p(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(p).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const f=u.toString();if(null==f)return""+f;const E=f.indexOf("\n");return-1===E?f:f.substring(0,E)}function h(u,f){return null==u||""===u?null===f?"":f:null==f||""===f?u:u+" "+f}const m=r({__forward_ref__:r});function _(u){return u.__forward_ref__=_,u.toString=function(){return p(this())},u}function v(u){return y(u)?u():u}function y(u){return"function"==typeof u&&u.hasOwnProperty(m)&&u.__forward_ref__===_}function O(u){return u&&!!u.\u0275providers}const b="https://g.co/ng/security#xss";class o extends Error{constructor(f,E){super(D(f,E)),this.code=f}}function D(u,f){return`NG0${Math.abs(u)}${f?": "+f.trim():""}`}function M(u){return"string"==typeof u?u:null==u?"":String(u)}function C(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():M(u)}function L(u,f){throw new o(-201,!1)}function J(u,f,E,P){throw new Error(`ASSERTION ERROR: ${u}`+(null==P?"":` [Expected=> ${E} ${P} ${f} <=Actual]`))}function ve(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}const Pe=ve;function et(u){return{providers:u.providers||[],imports:u.imports||[]}}function Ze(u){return yt(u,Dt)||yt(u,Jt)}function tt(u){return null!==Ze(u)}function yt(u,f){return u.hasOwnProperty(f)?u[f]:null}function mt(u){return u&&(u.hasOwnProperty(At)||u.hasOwnProperty($t))?u[At]:null}const Dt=r({\u0275prov:r}),At=r({\u0275inj:r}),Jt=r({ngInjectableDef:r}),$t=r({ngInjectorDef:r});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Ht;function ft(u){const f=Ht;return Ht=u,f}function Je(u,f,E){const P=Ze(u);return P&&"root"==P.providedIn?void 0===P.value?P.value=P.factory():P.value:E&lt.Optional?null:void 0!==f?f:void L(p(u))}const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),St={},It="__NG_DI_FLAG__",Yt="ngTempTokenPath",en="ngTokenPath",Tt=/\n/gm,Mn="\u0275",xn="__source";let qn;function Rt(u){const f=qn;return qn=u,f}function sn(u,f=lt.Default){if(void 0===qn)throw new o(-203,!1);return null===qn?Je(u,void 0,f):qn.get(u,f&lt.Optional?null:void 0,f)}function jt(u,f=lt.Default){return(function Qe(){return Ht}()||sn)(v(u),f)}function zt(u){throw new o(202,!1)}function on(u,f=lt.Default){return jt(u,ke(f))}function ke(u){return typeof u>"u"||"number"==typeof u?u:0|(u.optional&&8)|(u.host&&1)|(u.self&&2)|(u.skipSelf&&4)}function xe(u){const f=[];for(let E=0;E<u.length;E++){const P=v(u[E]);if(Array.isArray(P)){if(0===P.length)throw new o(900,!1);let x,F=lt.Default;for(let te=0;te<P.length;te++){const pe=P[te],Ce=pt(pe);"number"==typeof Ce?-1===Ce?x=pe.token:F|=Ce:x=pe}f.push(jt(x,F))}else f.push(jt(P))}return f}function we(u,f){return u[It]=f,u.prototype[It]=f,u}function pt(u){return u[It]}function Xt(u){return{toString:u}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Gt=(()=>{return(u=Gt||(Gt={}))[u.Emulated=0]="Emulated",u[u.None=2]="None",u[u.ShadowDom=3]="ShadowDom",Gt;var u})();const dn={},fn=[],ct=r({\u0275cmp:r}),Mt=r({\u0275dir:r}),Ve=r({\u0275pipe:r}),vt=r({\u0275mod:r}),Bt=r({\u0275fac:r}),je=r({__NG_ELEMENT_ID__:r});let be=0;function ot(u){return Xt(()=>{const f=Er(u),E={...f,decls:u.decls,vars:u.vars,template:u.template,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,onPush:u.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:f.standalone&&u.dependencies||null,getStandaloneInjector:null,data:u.data||{},encapsulation:u.encapsulation||Gt.Emulated,id:"c"+be++,styles:u.styles||fn,_:null,schemas:u.schemas||null,tView:null};Ir(E);const P=u.dependencies;return E.directiveDefs=si(P,!1),E.pipeDefs=si(P,!0),E})}function rn(u,f,E){const P=u.\u0275cmp;P.directiveDefs=si(f,!1),P.pipeDefs=si(E,!0)}function Cn(u){return An(u)||In(u)}function tr(u){return null!==u}function hn(u){return Xt(()=>({type:u.type,bootstrap:u.bootstrap||fn,declarations:u.declarations||fn,imports:u.imports||fn,exports:u.exports||fn,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null}))}function En(u,f){return Xt(()=>{const E=Yn(u,!0);E.declarations=f.declarations||fn,E.imports=f.imports||fn,E.exports=f.exports||fn})}function cn(u,f){if(null==u)return dn;const E={};for(const P in u)if(u.hasOwnProperty(P)){let x=u[P],F=x;Array.isArray(x)&&(F=x[1],x=x[0]),E[x]=P,f&&(f[x]=F)}return E}function Pn(u){return Xt(()=>{const f=Er(u);return Ir(f),f})}function Bn(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,standalone:!0===u.standalone,onDestroy:u.type.prototype.ngOnDestroy||null}}function An(u){return u[ct]||null}function In(u){return u[Mt]||null}function Fn(u){return u[Ve]||null}function er(u){const f=An(u)||In(u)||Fn(u);return null!==f&&f.standalone}function Yn(u,f){const E=u[vt]||null;if(!E&&!0===f)throw new Error(`Type ${p(u)} does not have '\u0275mod' property.`);return E}function Er(u){const f={};return{type:u.type,providersResolver:null,factory:null,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:f,exportAs:u.exportAs||null,standalone:!0===u.standalone,selectors:u.selectors||fn,viewQuery:u.viewQuery||null,features:u.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cn(u.inputs,f),outputs:cn(u.outputs)}}function Ir(u){u.features?.forEach(f=>f(u))}function si(u,f){if(!u)return null;const E=f?Fn:Cn;return()=>("function"==typeof u?u():u).map(P=>E(P)).filter(tr)}const yr=0,Sn=1,Qn=2,hr=3,Br=4,Xr=5,br=6,Oi=7,Nr=8,_i=9,Ri=10,kn=11,hi=12,ai=13,to=14,Wi=15,qr=16,Bi=17,dt=18,Zt=19,Kt=20,ln=21,_n=22,$n=1,Mr=2,Ur=7,Tr=8,Vn=9,Xn=10;function li(u){return Array.isArray(u)&&"object"==typeof u[$n]}function Wr(u){return Array.isArray(u)&&!0===u[$n]}function So(u){return 0!=(4&u.flags)}function co(u){return u.componentOffset>-1}function Ki(u){return 1==(1&u.flags)}function ei(u){return!!u.template}function ko(u){return 0!=(256&u[Qn])}function rr(u,f){return u.hasOwnProperty(Bt)?u[Bt]:null}class Ar{constructor(f,E,P){this.previousValue=f,this.currentValue=E,this.firstChange=P}isFirstChange(){return this.firstChange}}function ti(){return cr}function cr(u){return u.type.prototype.ngOnChanges&&(u.setInput=ci),gi}function gi(){const u=yo(this),f=u?.current;if(f){const E=u.previous;if(E===dn)u.previous=f;else for(let P in f)E[P]=f[P];u.current=null,this.ngOnChanges(f)}}function ci(u,f,E,P){const x=this.declaredInputs[E],F=yo(u)||function zo(u,f){return u[Fi]=f}(u,{previous:dn,current:null}),te=F.current||(F.current={}),pe=F.previous,Ce=pe[x];te[x]=new Ar(Ce&&Ce.currentValue,f,pe===dn),u[P]=f}ti.ngInherit=!0;const Fi="__ngSimpleChanges__";function yo(u){return u[Fi]||null}let vi=null;const Go=u=>{vi=u},di=function(u,f,E){vi?.(u,f,E)},Yo="svg",go="math";function Ei(u){for(;Array.isArray(u);)u=u[yr];return u}function Yi(u,f){return Ei(f[u])}function Gr(u,f){return Ei(f[u.index])}function Qo(u,f){return u.data[f]}function vo(u,f){return u[f]}function Si(u,f){const E=f[u];return li(E)?E:E[yr]}function bi(u){return 64==(64&u[Qn])}function Io(u,f){return null==f?null:u[f]}function xs(u){u[dt]=0}function Zo(u,f){u[Xr]+=f;let E=u,P=u[hr];for(;null!==P&&(1===f&&1===E[Xr]||-1===f&&0===E[Xr]);)P[Xr]+=f,E=P,P=P[hr]}const dr={lFrame:To(null),bindingsEnabled:!0};function rt(){return dr.bindingsEnabled}function Wt(){dr.bindingsEnabled=!0}function Dn(){dr.bindingsEnabled=!1}function xt(){return dr.lFrame.lView}function Un(){return dr.lFrame.tView}function Zr(u){return dr.lFrame.contextLView=u,u[Nr]}function ui(u){return dr.lFrame.contextLView=null,u}function Jr(){let u=Ws();for(;null!==u&&64===u.type;)u=u.parent;return u}function Ws(){return dr.lFrame.currentTNode}function Is(){const u=dr.lFrame,f=u.currentTNode;return u.isParent?f:f.parent}function Vi(u,f){const E=dr.lFrame;E.currentTNode=u,E.isParent=f}function ra(){return dr.lFrame.isParent}function cs(){dr.lFrame.isParent=!1}function Ni(){const u=dr.lFrame;let f=u.bindingRootIndex;return-1===f&&(f=u.bindingRootIndex=u.tView.bindingStartIndex),f}function Qi(){return dr.lFrame.bindingIndex}function oo(u){return dr.lFrame.bindingIndex=u}function gs(){return dr.lFrame.bindingIndex++}function Li(u){const f=dr.lFrame,E=f.bindingIndex;return f.bindingIndex=f.bindingIndex+u,E}function Jo(u){dr.lFrame.inI18n=u}function Rr(u,f){const E=dr.lFrame;E.bindingIndex=E.bindingRootIndex=u,wo(f)}function wo(u){dr.lFrame.currentDirectiveIndex=u}function Gn(u){const f=dr.lFrame.currentDirectiveIndex;return-1===f?null:u[f]}function pa(){return dr.lFrame.currentQueryIndex}function Qs(u){dr.lFrame.currentQueryIndex=u}function Bs(u){const f=u[Sn];return 2===f.type?f.declTNode:1===f.type?u[br]:null}function qo(u,f,E){if(E&lt.SkipSelf){let x=f,F=u;for(;!(x=x.parent,null!==x||E&lt.Host||(x=Bs(F),null===x||(F=F[Wi],10&x.type))););if(null===x)return!1;f=x,u=F}const P=dr.lFrame=so();return P.currentTNode=f,P.lView=u,!0}function Ts(u){const f=so(),E=u[Sn];dr.lFrame=f,f.currentTNode=E.firstChild,f.lView=u,f.tView=E,f.contextLView=u,f.bindingIndex=E.bindingStartIndex,f.inI18n=!1}function so(){const u=dr.lFrame,f=null===u?null:u.child;return null===f?To(u):f}function To(u){const f={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=f),f}function ha(){const u=dr.lFrame;return dr.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const Hi=ha;function Hs(){const u=ha();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function fi(){return dr.lFrame.selectedIndex}function vs(u){dr.lFrame.selectedIndex=u}function ri(){const u=dr.lFrame;return Qo(u.tView,u.selectedIndex)}function Es(){dr.lFrame.currentNamespace=Yo}function ao(){dr.lFrame.currentNamespace=go}function es(){!function ys(){dr.lFrame.currentNamespace=null}()}function As(u,f){for(let E=f.directiveStart,P=f.directiveEnd;E<P;E++){const F=u.data[E].type.prototype,{ngAfterContentInit:te,ngAfterContentChecked:pe,ngAfterViewInit:Ce,ngAfterViewChecked:Ue,ngOnDestroy:nt}=F;te&&(u.contentHooks??(u.contentHooks=[])).push(-E,te),pe&&((u.contentHooks??(u.contentHooks=[])).push(E,pe),(u.contentCheckHooks??(u.contentCheckHooks=[])).push(E,pe)),Ce&&(u.viewHooks??(u.viewHooks=[])).push(-E,Ce),Ue&&((u.viewHooks??(u.viewHooks=[])).push(E,Ue),(u.viewCheckHooks??(u.viewCheckHooks=[])).push(E,Ue)),null!=nt&&(u.destroyHooks??(u.destroyHooks=[])).push(E,nt)}}function _a(u,f,E){Be(u,f,3,E)}function va(u,f,E,P){(3&u[Qn])===E&&Be(u,f,E,P)}function ge(u,f){let E=u[Qn];(3&E)===f&&(E&=2047,E+=1,u[Qn]=E)}function Be(u,f,E,P){const F=P??-1,te=f.length-1;let pe=0;for(let Ce=void 0!==P?65535&u[dt]:0;Ce<te;Ce++)if("number"==typeof f[Ce+1]){if(pe=f[Ce],null!=P&&pe>=P)break}else f[Ce]<0&&(u[dt]+=65536),(pe<F||-1==F)&&(ye(u,E,f,Ce),u[dt]=(4294901760&u[dt])+Ce+2),Ce++}function ye(u,f,E,P){const x=E[P]<0,F=E[P+1],pe=u[x?-E[P]:E[P]];if(x){if(u[Qn]>>11<u[dt]>>16&&(3&u[Qn])===f){u[Qn]+=2048,di(4,pe,F);try{F.call(pe)}finally{di(5,pe,F)}}}else{di(4,pe,F);try{F.call(pe)}finally{di(5,pe,F)}}}const ze=-1;class _t{constructor(f,E,P){this.factory=f,this.resolving=!1,this.canSeeViewProviders=E,this.injectImpl=P}}function Vr(u,f,E){let P=0;for(;P<E.length;){const x=E[P];if("number"==typeof x){if(0!==x)break;P++;const F=E[P++],te=E[P++],pe=E[P++];u.setAttribute(f,te,pe,F)}else{const F=x,te=E[++P];ts(F)?u.setProperty(f,F,te):u.setAttribute(f,F,te),P++}}return P}function pi(u){return 3===u||4===u||6===u}function ts(u){return 64===u.charCodeAt(0)}function xr(u,f){if(null!==f&&0!==f.length)if(null===u||0===u.length)u=f.slice();else{let E=-1;for(let P=0;P<f.length;P++){const x=f[P];"number"==typeof x?E=x:0===E||ki(u,E,x,null,-1===E||2===E?f[++P]:null)}}return u}function ki(u,f,E,P,x){let F=0,te=u.length;if(-1===f)te=-1;else for(;F<u.length;){const pe=u[F++];if("number"==typeof pe){if(pe===f){te=-1;break}if(pe>f){te=F-1;break}}}for(;F<u.length;){const pe=u[F];if("number"==typeof pe)break;if(pe===E){if(null===P)return void(null!==x&&(u[F+1]=x));if(P===u[F+1])return void(u[F+2]=x)}F++,null!==P&&F++,null!==x&&F++}-1!==te&&(u.splice(te,0,f),F=te+1),u.splice(F++,0,E),null!==P&&u.splice(F++,0,P),null!==x&&u.splice(F++,0,x)}function po(u){return u!==ze}function Ii(u){return 32767&u}function ns(u,f){let E=function zr(u){return u>>16}(u),P=f;for(;E>0;)P=P[Wi],E--;return P}let Us=!0;function Fo(u){const f=Us;return Us=u,f}const ds=255,ks=5;let $i=0;const Qr={};function yi(u,f){const E=Kr(u,f);if(-1!==E)return E;const P=f[Sn];P.firstCreatePass&&(u.injectorIndex=f.length,ii(P.data,u),ii(f,null),ii(P.blueprint,null));const x=No(u,f),F=u.injectorIndex;if(po(x)){const te=Ii(x),pe=ns(x,f),Ce=pe[Sn].data;for(let Ue=0;Ue<8;Ue++)f[F+Ue]=pe[te+Ue]|Ce[te+Ue]}return f[F+8]=x,F}function ii(u,f){u.push(0,0,0,0,0,0,0,0,f)}function Kr(u,f){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===f[u.injectorIndex+8]?-1:u.injectorIndex}function No(u,f){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let E=0,P=null,x=f;for(;null!==x;){if(P=oa(x),null===P)return ze;if(E++,x=x[Wi],-1!==P.injectorIndex)return P.injectorIndex|E<<16}return ze}function ws(u,f,E){!function ho(u,f,E){let P;"string"==typeof E?P=E.charCodeAt(0)||0:E.hasOwnProperty(je)&&(P=E[je]),null==P&&(P=E[je]=$i++);const x=P&ds;f.data[u+(x>>ks)]|=1<<x}(u,f,E)}function Ci(u,f,E){if(E&lt.Optional||void 0!==u)return u;L()}function Eo(u,f,E,P){if(E&lt.Optional&&void 0===P&&(P=null),!(E&(lt.Self|lt.Host))){const x=u[_i],F=ft(void 0);try{return x?x.get(f,P,E&lt.Optional):Je(f,P,E&lt.Optional)}finally{ft(F)}}return Ci(P,0,E)}function fo(u,f,E,P=lt.Default,x){if(null!==u){if(1024&f[Qn]){const te=function Ds(u,f,E,P,x){let F=u,te=f;for(;null!==F&&null!==te&&1024&te[Qn]&&!(256&te[Qn]);){const pe=Fs(F,te,E,P|lt.Self,Qr);if(pe!==Qr)return pe;let Ce=F.parent;if(!Ce){const Ue=te[ln];if(Ue){const nt=Ue.get(E,Qr,P);if(nt!==Qr)return nt}Ce=oa(te),te=te[Wi]}F=Ce}return x}(u,f,E,P,Qr);if(te!==Qr)return te}const F=Fs(u,f,E,P,Qr);if(F!==Qr)return F}return Eo(f,E,P,x)}function Fs(u,f,E,P,x){const F=function Rs(u){if("string"==typeof u)return u.charCodeAt(0)||0;const f=u.hasOwnProperty(je)?u[je]:void 0;return"number"==typeof f?f>=0?f&ds:Ma:f}(E);if("function"==typeof F){if(!qo(f,u,P))return P&lt.Host?Ci(x,0,P):Eo(f,E,P,x);try{const te=F(P);if(null!=te||P&lt.Optional)return te;L()}finally{Hi()}}else if("number"==typeof F){let te=null,pe=Kr(u,f),Ce=ze,Ue=P&lt.Host?f[qr][br]:null;for((-1===pe||P&lt.SkipSelf)&&(Ce=-1===pe?No(u,f):f[pe+8],Ce!==ze&&Oa(P,!1)?(te=f[Sn],pe=Ii(Ce),f=ns(Ce,f)):pe=-1);-1!==pe;){const nt=f[Sn];if(ia(F,pe,nt.data)){const Ct=Cs(pe,f,E,te,P,Ue);if(Ct!==Qr)return Ct}Ce=f[pe+8],Ce!==ze&&Oa(P,f[Sn].data[pe+8]===Ue)&&ia(F,pe,f)?(te=nt,pe=Ii(Ce),f=ns(Ce,f)):pe=-1}}return x}function Cs(u,f,E,P,x,F){const te=f[Sn],pe=te.data[u+8],nt=Ao(pe,te,E,null==P?co(pe)&&Us:P!=te&&0!=(3&pe.type),x&lt.Host&&F===pe);return null!==nt?Zi(f,te,nt,pe):Qr}function Ao(u,f,E,P,x){const F=u.providerIndexes,te=f.data,pe=1048575&F,Ce=u.directiveStart,nt=F>>20,Vt=x?pe+nt:u.directiveEnd;for(let nn=P?pe:pe+nt;nn<Vt;nn++){const yn=te[nn];if(nn<Ce&&E===yn||nn>=Ce&&yn.type===E)return nn}if(x){const nn=te[Ce];if(nn&&ei(nn)&&nn.type===E)return Ce}return null}function Zi(u,f,E,P){let x=u[E];const F=f.data;if(function an(u){return u instanceof _t}(x)){const te=x;te.resolving&&function T(u,f){const E=f?`. Dependency path: ${f.join(" > ")} > ${u}`:"";throw new o(-200,`Circular dependency in DI detected for ${u}${E}`)}(C(F[E]));const pe=Fo(te.canSeeViewProviders);te.resolving=!0;const Ce=te.injectImpl?ft(te.injectImpl):null;qo(u,P,lt.Default);try{x=u[E]=te.factory(void 0,F,u,P),f.firstCreatePass&&E>=P.directiveStart&&function ma(u,f,E){const{ngOnChanges:P,ngOnInit:x,ngDoCheck:F}=f.type.prototype;if(P){const te=cr(f);(E.preOrderHooks??(E.preOrderHooks=[])).push(u,te),(E.preOrderCheckHooks??(E.preOrderCheckHooks=[])).push(u,te)}x&&(E.preOrderHooks??(E.preOrderHooks=[])).push(0-u,x),F&&((E.preOrderHooks??(E.preOrderHooks=[])).push(u,F),(E.preOrderCheckHooks??(E.preOrderCheckHooks=[])).push(u,F))}(E,F[E],f)}finally{null!==Ce&&ft(Ce),Fo(pe),te.resolving=!1,Hi()}}return x}function ia(u,f,E){return!!(E[f+(u>>ks)]&1<<u)}function Oa(u,f){return!(u&lt.Self||u&lt.Host&&f)}class $s{constructor(f,E){this._tNode=f,this._lView=E}get(f,E,P){return fo(this._tNode,this._lView,f,ke(P),E)}}function Ma(){return new $s(Jr(),xt())}function Sa(u){return Xt(()=>{const f=u.prototype.constructor,E=f[Bt]||Zs(f),P=Object.prototype;let x=Object.getPrototypeOf(u.prototype).constructor;for(;x&&x!==P;){const F=x[Bt]||Zs(x);if(F&&F!==E)return F;x=Object.getPrototypeOf(x)}return F=>new F})}function Zs(u){return y(u)?()=>{const f=Zs(v(u));return f&&f()}:rr(u)}function oa(u){const f=u[Sn],E=f.type;return 2===E?f.declTNode:1===E?u[br]:null}function sa(u){return function Co(u,f){if("class"===f)return u.classes;if("style"===f)return u.styles;const E=u.attrs;if(E){const P=E.length;let x=0;for(;x<P;){const F=E[x];if(pi(F))break;if(0===F)x+=2;else if("number"==typeof F)for(x++;x<P&&"string"==typeof E[x];)x++;else{if(F===f)return E[x+1];x+=2}}}return null}(Jr(),u)}const rs="__annotations__",Ro="__parameters__",xo="__prop__metadata__";function Do(u,f,E,P,x){return Xt(()=>{const F=aa(f);function te(...pe){if(this instanceof te)return F.call(this,...pe),this;const Ce=new te(...pe);return function(nt){return x&&x(nt,...pe),(nt.hasOwnProperty(rs)?nt[rs]:Object.defineProperty(nt,rs,{value:[]})[rs]).push(Ce),P&&P(nt),nt}}return E&&(te.prototype=Object.create(E.prototype)),te.prototype.ngMetadataName=u,te.annotationCls=te,te})}function aa(u){return function(...E){if(u){const P=u(...E);for(const x in P)this[x]=P[x]}}}function Ji(u,f,E){return Xt(()=>{const P=aa(f);function x(...F){if(this instanceof x)return P.apply(this,F),this;const te=new x(...F);return pe.annotation=te,pe;function pe(Ce,Ue,nt){const Ct=Ce.hasOwnProperty(Ro)?Ce[Ro]:Object.defineProperty(Ce,Ro,{value:[]})[Ro];for(;Ct.length<=nt;)Ct.push(null);return(Ct[nt]=Ct[nt]||[]).push(te),Ce}}return E&&(x.prototype=Object.create(E.prototype)),x.prototype.ngMetadataName=u,x.annotationCls=x,x})}function Oo(u,f,E,P){return Xt(()=>{const x=aa(f);function F(...te){if(this instanceof F)return x.apply(this,te),this;const pe=new F(...te);return function Ce(Ue,nt){const Ct=Ue.constructor,Vt=Ct.hasOwnProperty(xo)?Ct[xo]:Object.defineProperty(Ct,xo,{value:{}})[xo];Vt[nt]=Vt.hasOwnProperty(nt)&&Vt[nt]||[],Vt[nt].unshift(pe),P&&P(Ue,nt,...te)}}return E&&(F.prototype=Object.create(E.prototype)),F.prototype.ngMetadataName=u,F.annotationCls=F,F})}const Js=Ji("Attribute",u=>({attributeName:u,__NG_ELEMENT_ID__:()=>sa(u)}));class Hr{constructor(f,E){this._desc=f,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof E?this.__NG_ELEMENT_ID__=E:void 0!==E&&(this.\u0275prov=ve({token:this,providedIn:E.providedIn||"root",factory:E.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jo=new Hr("AnalyzeForEntryComponents");class Os{}const Wo=Oo("ContentChildren",(u,f={})=>({selector:u,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...f}),Os),ya=Oo("ContentChild",(u,f={})=>({selector:u,first:!0,isViewQuery:!1,descendants:!0,...f}),Os),lo=Oo("ViewChildren",(u,f={})=>({selector:u,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...f}),Os),Ms=Oo("ViewChild",(u,f)=>({selector:u,first:!0,isViewQuery:!0,descendants:!0,...f}),Os);var He=(()=>((He=He||{})[He.Directive=0]="Directive",He[He.Component=1]="Component",He[He.Injectable=2]="Injectable",He[He.Pipe=3]="Pipe",He[He.NgModule=4]="NgModule",He))();function Te(u){const f=qe.ng;if(f&&f.\u0275compilerFacade)return f.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const N=Function;function X(u){return"function"==typeof u}function le(u){return u.flat(Number.POSITIVE_INFINITY)}function Me(u,f){u.forEach(E=>Array.isArray(E)?Me(E,f):f(E))}function Fe(u,f,E){f>=u.length?u.push(E):u.splice(f,0,E)}function Xe(u,f){return f>=u.length-1?u.pop():u.splice(f,1)[0]}function Lt(u,f){const E=[];for(let P=0;P<u;P++)E.push(f);return E}function or(u,f,E){let P=qi(u,f);return P>=0?u[1|P]=E:(P=~P,function Kn(u,f,E,P){let x=u.length;if(x==f)u.push(E,P);else if(1===x)u.push(P,u[0]),u[0]=E;else{for(x--,u.push(u[x-1],u[x]);x>f;)u[x]=u[x-2],x--;u[f]=E,u[f+1]=P}}(u,P,f,E)),P}function Ko(u,f){const E=qi(u,f);if(E>=0)return u[1|E]}function qi(u,f){return function zi(u,f,E){let P=0,x=u.length>>E;for(;x!==P;){const F=P+(x-P>>1),te=u[F<<E];if(f===te)return F<<E;te>f?x=F:P=F+1}return~(x<<E)}(u,f,1)}const Ca=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,zs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ta=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Aa{constructor(f){this._reflect=f||qe.Reflect}factory(f){return(...E)=>new f(...E)}_zipTypesAndAnnotations(f,E){let P;P=Lt(typeof f>"u"?E.length:f.length);for(let x=0;x<P.length;x++)P[x]=typeof f>"u"?[]:f[x]&&f[x]!=Object?[f[x]]:[],E&&null!=E[x]&&(P[x]=P[x].concat(E[x]));return P}_ownParameters(f,E){if(function Ss(u){return Ca.test(u)||Ta.test(u)||zs.test(u)&&!qs.test(u)}(f.toString()))return null;if(f.parameters&&f.parameters!==E.parameters)return f.parameters;const x=f.ctorParameters;if(x&&x!==E.ctorParameters){const pe="function"==typeof x?x():x,Ce=pe.map(nt=>nt&&nt.type),Ue=pe.map(nt=>nt&&la(nt.decorators));return this._zipTypesAndAnnotations(Ce,Ue)}const F=f.hasOwnProperty(Ro)&&f[Ro],te=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",f);return te||F?this._zipTypesAndAnnotations(te,F):Lt(f.length)}parameters(f){if(!X(f))return[];const E=Ra(f);let P=this._ownParameters(f,E);return!P&&E!==Object&&(P=this.parameters(E)),P||[]}_ownAnnotations(f,E){if(f.annotations&&f.annotations!==E.annotations){let P=f.annotations;return"function"==typeof P&&P.annotations&&(P=P.annotations),P}return f.decorators&&f.decorators!==E.decorators?la(f.decorators):f.hasOwnProperty(rs)?f[rs]:null}annotations(f){if(!X(f))return[];const E=Ra(f),P=this._ownAnnotations(f,E)||[];return(E!==Object?this.annotations(E):[]).concat(P)}_ownPropMetadata(f,E){if(f.propMetadata&&f.propMetadata!==E.propMetadata){let P=f.propMetadata;return"function"==typeof P&&P.propMetadata&&(P=P.propMetadata),P}if(f.propDecorators&&f.propDecorators!==E.propDecorators){const P=f.propDecorators,x={};return Object.keys(P).forEach(F=>{x[F]=la(P[F])}),x}return f.hasOwnProperty(xo)?f[xo]:null}propMetadata(f){if(!X(f))return{};const E=Ra(f),P={};if(E!==Object){const F=this.propMetadata(E);Object.keys(F).forEach(te=>{P[te]=F[te]})}const x=this._ownPropMetadata(f,E);return x&&Object.keys(x).forEach(F=>{const te=[];P.hasOwnProperty(F)&&te.push(...P[F]),te.push(...x[F]),P[F]=te}),P}ownPropMetadata(f){return X(f)&&this._ownPropMetadata(f,Ra(f))||{}}hasLifecycleHook(f,E){return f instanceof N&&E in f.prototype}}function la(u){return u?u.map(f=>new(0,f.type.annotationCls)(...f.args?f.args:[])):[]}function Ra(u){const f=u.prototype?Object.getPrototypeOf(u.prototype):null;return(f?f.constructor:null)||Object}const Ns=we(Ji("Inject",u=>({token:u})),-1),ba=we(Ji("Optional"),8),xa=we(Ji("Self"),2),ca=we(Ji("SkipSelf"),4),qa=we(Ji("Host"),1);let us=null;function La(){return us=us||new Aa}function Va(u){return cl(La().parameters(u))}function cl(u){return u.map(f=>function Ke(u){const f={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(u)&&u.length>0)for(let E=0;E<u.length;E++){const P=u[E];if(void 0===P)continue;const x=Object.getPrototypeOf(P);if(P instanceof ba||"Optional"===x.ngMetadataName)f.optional=!0;else if(P instanceof ca||"SkipSelf"===x.ngMetadataName)f.skipSelf=!0;else if(P instanceof xa||"Self"===x.ngMetadataName)f.self=!0;else if(P instanceof qa||"Host"===x.ngMetadataName)f.host=!0;else if(P instanceof Ns)f.token=P.token;else if(P instanceof Js){if(void 0===P.attributeName)throw new o(204,!1);f.attribute=P.attributeName}else f.token=P}else f.token=void 0===u||Array.isArray(u)&&0===u.length?null:u;return f}(f))}function st(u){const f=[],E=new Map;function P(x){let F=E.get(x);if(!F){const te=u(x);E.set(x,F=te.then(fr))}return F}return Se.forEach((x,F)=>{const te=[];x.templateUrl&&te.push(P(x.templateUrl).then(Ct=>{x.template=Ct}));const pe=x.styleUrls,Ce=x.styles||(x.styles=[]),Ue=x.styles.length;pe&&pe.forEach((Ct,Vt)=>{Ce.push(""),te.push(P(Ct).then(nn=>{Ce[Ue+Vt]=nn,pe.splice(pe.indexOf(Ct),1),0==pe.length&&(x.styleUrls=void 0)}))});const nt=Promise.all(te).then(()=>function sr(u){Ft.delete(u)}(F));f.push(nt)}),On(),Promise.all(f).then(()=>{})}let Se=new Map;const Ft=new Set;function kt(u){return!!(u.templateUrl&&!u.hasOwnProperty("template")||u.styleUrls&&u.styleUrls.length)}function On(){const u=Se;return Se=new Map,u}function fr(u){return"string"==typeof u?u:u.text()}const pr=new Map;let ji=!0;function ml(u,f){(function Ba(u,f,E){if(f&&f!==E&&ji)throw new Error(`Duplicate module registered for ${u} - ${p(f)} vs ${p(f.name)}`)})(f,pr.get(f)||null,u),pr.set(f,u)}function Hl(u){return pr.get(u)}function _l(u){ji=!u}const kl={name:"custom-elements"},$l={name:"no-errors-schema"};let gl=!1;function Ic(u){gl=u}function Tc(){return gl}let Ml=!1;function Sl(u){Ml=u}function _d(){return Ml}var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();const Ac=/^>|^->|<!--|-->|--!>|<!-$/g,Rc=/(<|>)/,xc="\u200b$1\u200b";const Il=new Map;let Xl=0;function Zl(u){return Il.get(u)||null}class Uc{get lView(){return Zl(this.lViewId)}constructor(f,E,P){this.lViewId=f,this.nodeIndex=E,this.native=P}}function Gs(u){let f=me(u);if(f){if(li(f)){const E=f;let P,x,F;if(Pt(u)){if(P=Nn(E,u),-1==P)throw new Error("The provided component was not found in the application");x=u}else if(function qt(u){return u&&u.constructor&&u.constructor.\u0275dir}(u)){if(P=function mr(u,f){let E=u[Sn].firstChild;for(;E;){const x=E.directiveEnd;for(let F=E.directiveStart;F<x;F++)if(u[F]===f)return E.index;E=Tn(E)}return-1}(E,u),-1==P)throw new Error("The provided directive was not found in the application");F=Jn(P,E)}else if(P=gn(E,u),-1==P)return null;const te=Ei(E[P]),pe=me(te),Ce=pe&&!Array.isArray(pe)?pe:B(E,P,te);if(x&&void 0===Ce.component&&(Ce.component=x,k(Ce.component,Ce)),F&&void 0===Ce.directives){Ce.directives=F;for(let Ue=0;Ue<F.length;Ue++)k(F[Ue],Ce)}k(Ce.native,Ce),f=Ce}}else{const E=u;let P=E;for(;P=P.parentNode;){const x=me(P);if(x){const F=Array.isArray(x)?x:x.lView;if(!F)return null;const te=gn(F,E);if(te>=0){const pe=Ei(F[te]),Ce=B(F,te,pe);k(pe,Ce),f=Ce;break}}}}return f||null}function B(u,f,E){return new Uc(u[Kt],f,E)}function ae(u){let E,f=me(u);if(li(f)){const P=f,x=Nn(P,u);E=Si(x,P);const F=B(P,x,E[yr]);F.component=u,k(u,F),k(F.native,F)}else E=Si(f.nodeIndex,f.lView);return E}const I="__ngContext__";function k(u,f){li(f)?(u[I]=f[Kt],function Bc(u){Il.set(u[Kt],u)}(f)):u[I]=f}function me(u){const f=u[I];return"number"==typeof f?Zl(f):f||null}function Ae(u){const f=me(u);return f?li(f)?f:f.lView:null}function Pt(u){return u&&u.constructor&&u.constructor.\u0275cmp}function gn(u,f){const E=u[Sn];for(let P=_n;P<E.bindingStartIndex;P++)if(Ei(u[P])===f)return P;return-1}function Tn(u){if(u.child)return u.child;if(u.next)return u.next;for(;u.parent&&!u.parent.next;)u=u.parent;return u.parent&&u.parent.next}function Nn(u,f){const E=u[Sn].components;if(E)for(let P=0;P<E.length;P++){const x=E[P];if(Si(x,u)[Nr]===f)return x}else if(Si(_n,u)[Nr]===f)return _n;return-1}function Jn(u,f){const E=f[Sn].data[u];if(0===E.directiveStart)return fn;const P=[];for(let x=E.directiveStart;x<E.directiveEnd;x++){const F=f[x];Pt(F)||P.push(F)}return P}let Ti;function Vo(u,f){return Ti(u,f)}function Mo(u){const f=u[hr];return Wr(f)?f[hr]:f}function dl(u){return function Al(u){let f=li(u)?u:Ae(u);for(;f&&!(256&f[Qn]);)f=Mo(f);return f}(u)[Nr]}function el(u){return El(u[ai])}function vl(u){return El(u[Br])}function El(u){for(;null!==u&&!Wr(u);)u=u[Br];return u}function ea(u,f,E,P,x){if(null!=P){let F,te=!1;Wr(P)?F=P:li(P)&&(te=!0,P=P[yr]);const pe=Ei(P);0===u&&null!==E?null==x?Vc(f,E,pe):Ha(f,E,pe,x||null,!0):1===u&&null!==E?Ha(f,E,pe,x||null,!0):2===u?zc(f,pe,te):3===u&&f.destroyNode(pe),null!=F&&function bu(u,f,E,P,x){const F=E[Ur];F!==Ei(E)&&ea(f,u,P,F,x);for(let pe=Xn;pe<E.length;pe++){const Ce=E[pe];xl(Ce[Sn],Ce,u,f,P,F)}}(f,u,F,E,x)}}function wc(u,f){return u.createText(f)}function Jl(u,f,E){u.setValue(f,E)}function Eu(u,f){return u.createComment(function Ql(u){return u.replace(Ac,f=>f.replace(Rc,xc))}(f))}function Rl(u,f,E){return u.createElement(f,E)}function Ed(u,f){const E=u[Vn],P=E.indexOf(f),x=f[hr];512&f[Qn]&&(f[Qn]&=-513,Zo(x,-1)),E.splice(P,1)}function jc(u,f){if(u.length<=Xn)return;const E=Xn+f,P=u[E];if(P){const x=P[Bi];null!==x&&x!==u&&Ed(x,P),f>0&&(u[E-1][Br]=P[Br]);const F=Xe(u,Xn+f);!function Fc(u,f){xl(u,f,f[kn],2,null,null),f[yr]=null,f[br]=null}(P[Sn],P);const te=F[Zt];null!==te&&te.detachView(F[Sn]),P[hr]=null,P[Br]=null,P[Qn]&=-65}return P}function yd(u,f){if(!(128&f[Qn])){const E=f[kn];E.destroyNode&&xl(u,f,E,3,null,null),function Nc(u){let f=u[ai];if(!f)return Wc(u[Sn],u);for(;f;){let E=null;if(li(f))E=f[ai];else{const P=f[Xn];P&&(E=P)}if(!E){for(;f&&!f[Br]&&f!==u;)li(f)&&Wc(f[Sn],f),f=f[hr];null===f&&(f=u),li(f)&&Wc(f[Sn],f),E=f&&f[Br]}f=E}}(f)}}function Wc(u,f){if(!(128&f[Qn])){f[Qn]&=-65,f[Qn]|=128,function Cd(u,f){let E;if(null!=u&&null!=(E=u.destroyHooks))for(let P=0;P<E.length;P+=2){const x=f[E[P]];if(!(x instanceof _t)){const F=E[P+1];if(Array.isArray(F))for(let te=0;te<F.length;te+=2){const pe=x[F[te]],Ce=F[te+1];di(4,pe,Ce);try{Ce.call(pe)}finally{di(5,pe,Ce)}}else{di(4,x,F);try{F.call(x)}finally{di(5,x,F)}}}}}(u,f),function Kc(u,f){const E=u.cleanup,P=f[Oi];let x=-1;if(null!==E)for(let F=0;F<E.length-1;F+=2)if("string"==typeof E[F]){const te=E[F+3];te>=0?P[x=te]():P[x=-te].unsubscribe(),F+=2}else{const te=P[x=E[F+1]];E[F].call(te)}if(null!==P){for(let F=x+1;F<P.length;F++)(0,P[F])();f[Oi]=null}}(u,f),1===f[Sn].type&&f[kn].destroy();const E=f[Bi];if(null!==E&&Wr(f[hr])){E!==f[hr]&&Ed(E,f);const P=f[Zt];null!==P&&P.detachView(u)}!function Tl(u){Il.delete(u[Kt])}(f)}}function Dd(u,f,E){return Od(u,f.parent,E)}function Od(u,f,E){let P=f;for(;null!==P&&40&P.type;)P=(f=P).parent;if(null===P)return E[yr];{const{componentOffset:x}=P;if(x>-1){const{encapsulation:F}=u.data[P.directiveStart+x];if(F===Gt.None||F===Gt.Emulated)return null}return Gr(P,E)}}function Ha(u,f,E,P,x){u.insertBefore(f,E,P,x)}function Vc(u,f,E){u.appendChild(f,E)}function Md(u,f,E,P,x){null!==P?Ha(u,f,E,P,x):Vc(u,f,E)}function ql(u,f){return u.parentNode(f)}function Sd(u,f,E){return kc(u,f,E)}function Hc(u,f,E){return 40&u.type?Gr(u,E):null}let ec,rc,ic,H,kc=Hc;function tc(u,f){kc=u,ec=f}function tl(u,f,E,P){const x=Dd(u,P,f),F=f[kn],pe=Sd(P.parent||f[br],P,f);if(null!=x)if(Array.isArray(E))for(let Ce=0;Ce<E.length;Ce++)Md(F,x,E[Ce],pe,!1);else Md(F,x,E,pe,!1);void 0!==ec&&ec(F,P,f,E,x)}function nc(u,f){if(null!==f){const E=f.type;if(3&E)return Gr(f,u);if(4&E)return $c(-1,u[f.index]);if(8&E){const P=f.child;if(null!==P)return nc(u,P);{const x=u[f.index];return Wr(x)?$c(-1,x):Ei(x)}}if(32&E)return Vo(f,u)()||Ei(u[f.index]);{const P=bd(u,f);return null!==P?Array.isArray(P)?P[0]:nc(Mo(u[qr]),P):nc(u,f.next)}}return null}function bd(u,f){return null!==f?u[qr][br].projection[f.projection]:null}function $c(u,f){const E=Xn+u+1;if(E<f.length){const P=f[E],x=P[Sn].firstChild;if(null!==x)return nc(P,x)}return f[Ur]}function zc(u,f,E){const P=ql(u,f);P&&function Ou(u,f,E,P){u.removeChild(f,E,P)}(u,P,f,E)}function Gc(u,f,E,P,x,F,te){for(;null!=E;){const pe=P[E.index],Ce=E.type;if(te&&0===f&&(pe&&k(Ei(pe),P),E.flags|=2),32!=(32&E.flags))if(8&Ce)Gc(u,f,E.child,P,x,F,!1),ea(f,u,x,pe,F);else if(32&Ce){const Ue=Vo(E,P);let nt;for(;nt=Ue();)ea(f,u,x,nt,F);ea(f,u,x,pe,F)}else 16&Ce?Pd(u,f,P,E,x,F):ea(f,u,x,pe,F);E=te?E.projectionNext:E.next}}function xl(u,f,E,P,x,F){Gc(E,P,u.firstChild,f,x,F,!1)}function Pd(u,f,E,P,x,F){const te=E[qr],Ce=te[br].projection[P.projection];if(Array.isArray(Ce))for(let Ue=0;Ue<Ce.length;Ue++)ea(f,u,x,Ce[Ue],F);else Gc(u,f,Ce,te[hr],x,F,!0)}function Td(u,f,E){""===E?u.removeAttribute(f,"class"):u.setAttribute(f,"class",E)}function Ad(u,f,E){const{mergedAttrs:P,classes:x,styles:F}=E;null!==P&&Vr(u,f,P),null!==x&&Td(u,f,x),null!==F&&function Id(u,f,E){u.setAttribute(f,"style",E)}(u,f,F)}function Yc(){if(void 0===rc&&(rc=null,qe.trustedTypes))try{rc=qe.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch{}return rc}function yl(u){return Yc()?.createHTML(u)||u}function Qc(u,f,E){const P=xt(),x=ri(),F=Gr(x,P);if(2===x.type&&"iframe"===f.toLowerCase()){const te=F;throw te.src="",te.srcdoc=yl(""),zc(P[kn],te),new o(-910,!1)}return u}function _e(u){ic=u}function Y(){return void 0!==ic?ic:typeof document<"u"?document:void 0}function ue(){if(void 0===H&&(H=null,qe.trustedTypes))try{H=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch{}return H}function Ie(u){return ue()?.createHTML(u)||u}function Ye(u){return ue()?.createScript(u)||u}function ut(u){return ue()?.createScriptURL(u)||u}class Ot{constructor(f){this.changingThisBreaksApplicationSecurity=f}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${b})`}}class Nt extends Ot{getTypeName(){return"HTML"}}class tn extends Ot{getTypeName(){return"Style"}}class Ln extends Ot{getTypeName(){return"Script"}}class Hn extends Ot{getTypeName(){return"URL"}}class Dr extends Ot{getTypeName(){return"ResourceURL"}}function lr(u){return u instanceof Ot?u.changingThisBreaksApplicationSecurity:u}function nr(u,f){const E=gr(u);if(null!=E&&E!==f){if("ResourceURL"===E&&"URL"===f)return!0;throw new Error(`Required a safe ${f}, got a ${E} (see ${b})`)}return E===f}function gr(u){return u instanceof Ot&&u.getTypeName()||null}function oi(u){return new Nt(u)}function Di(u){return new tn(u)}function Ai(u){return new Ln(u)}function os(u){return new Hn(u)}function ss(u){return new Dr(u)}function wa(u){const f=new ta(u);return function ka(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new Fa(f):f}class Fa{constructor(f){this.inertDocumentHelper=f}getInertBodyElement(f){f="<body><remove></remove>"+f;try{const E=(new window.DOMParser).parseFromString(yl(f),"text/html").body;return null===E?this.inertDocumentHelper.getInertBodyElement(f):(E.removeChild(E.firstChild),E)}catch{return null}}}class ta{constructor(f){this.defaultDoc=f,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(f){const E=this.inertDocument.createElement("template");return E.innerHTML=yl(f),E}}const $a=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pa(u){return(u=String(u)).match($a)?u:"unsafe:"+u}function Na(u){const f={};for(const E of u.split(","))f[E]=!0;return f}function za(...u){const f={};for(const E of u)for(const P in E)E.hasOwnProperty(P)&&(f[P]=!0);return f}const nl=Na("area,br,col,hr,img,wbr"),Xc=Na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zc=Na("rp,rt"),mi=za(nl,za(Xc,Na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(Zc,Na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),za(Zc,Xc)),hs=Na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ya=za(hs,Na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lo=Na("script,style,template");class Rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(f){let E=f.firstChild,P=!0;for(;E;)if(E.nodeType===Node.ELEMENT_NODE?P=this.startElement(E):E.nodeType===Node.TEXT_NODE?this.chars(E.nodeValue):this.sanitizedSomething=!0,P&&E.firstChild)E=E.firstChild;else for(;E;){E.nodeType===Node.ELEMENT_NODE&&this.endElement(E);let x=this.checkClobberedElement(E,E.nextSibling);if(x){E=x;break}E=this.checkClobberedElement(E,E.parentNode)}return this.buf.join("")}startElement(f){const E=f.nodeName.toLowerCase();if(!mi.hasOwnProperty(E))return this.sanitizedSomething=!0,!Lo.hasOwnProperty(E);this.buf.push("<"),this.buf.push(E);const P=f.attributes;for(let x=0;x<P.length;x++){const F=P.item(x),te=F.name,pe=te.toLowerCase();if(!Ya.hasOwnProperty(pe)){this.sanitizedSomething=!0;continue}let Ce=F.value;hs[pe]&&(Ce=Pa(Ce)),this.buf.push(" ",te,'="',rl(Ce),'"')}return this.buf.push(">"),!0}endElement(f){const E=f.nodeName.toLowerCase();mi.hasOwnProperty(E)&&!nl.hasOwnProperty(E)&&(this.buf.push("</"),this.buf.push(E),this.buf.push(">"))}chars(f){this.buf.push(rl(f))}checkClobberedElement(f,E){if(E&&(f.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${f.outerHTML}`);return E}}const Ru=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ys=/([^\#-~ |!])/g;function rl(u){return u.replace(/&/g,"&amp;").replace(Ru,function(f){return"&#"+(1024*(f.charCodeAt(0)-55296)+(f.charCodeAt(1)-56320)+65536)+";"}).replace(Ys,function(f){return"&#"+f.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let na;function Ll(u,f){let E=null;try{na=na||wa(u);let P=f?String(f):"";E=na.getInertBodyElement(P);let x=5,F=P;do{if(0===x)throw new Error("Failed to sanitize html because the input is unstable");x--,P=F,F=E.innerHTML,E=na.getInertBodyElement(P)}while(P!==F);return yl((new Rd).sanitizeChildren(Bl(E)||E))}finally{if(E){const P=Bl(E)||E;for(;P.firstChild;)P.removeChild(P.firstChild)}}}function Bl(u){return"content"in u&&function wv(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var bs=(()=>((bs=bs||{})[bs.NONE=0]="NONE",bs[bs.HTML=1]="HTML",bs[bs.STYLE=2]="STYLE",bs[bs.SCRIPT=3]="SCRIPT",bs[bs.URL=4]="URL",bs[bs.RESOURCE_URL=5]="RESOURCE_URL",bs))();function ef(u){const f=Jc();return f?Ie(f.sanitize(bs.HTML,u)||""):nr(u,"HTML")?Ie(lr(u)):Ll(Y(),M(u))}function tf(u){const f=Jc();return f?f.sanitize(bs.STYLE,u)||"":nr(u,"Style")?lr(u):M(u)}function xu(u){const f=Jc();return f?f.sanitize(bs.URL,u)||"":nr(u,"URL")?lr(u):Pa(M(u))}function Lu(u){const f=Jc();if(f)return ut(f.sanitize(bs.RESOURCE_URL,u)||"");if(nr(u,"ResourceURL"))return ut(lr(u));throw new o(904,!1)}function nf(u){const f=Jc();if(f)return Ye(f.sanitize(bs.SCRIPT,u)||"");if(nr(u,"Script"))return Ye(lr(u));throw new o(905,!1)}function rf(u){return yl(u[0])}function sf(u){return function Tu(u){return Yc()?.createScriptURL(u)||u}(u[0])}function af(u,f,E){return function Fv(u,f){return"src"===f&&("embed"===u||"frame"===u||"iframe"===u||"media"===u||"script"===u)||"href"===f&&("base"===u||"link"===u)?Lu:xu}(f,E)(u)}function Jc(){const u=xt();return u&&u[hi]}const Bu=new Hr("ENVIRONMENT_INITIALIZER"),Uu=new Hr("INJECTOR",-1),lf=new Hr("INJECTOR_DEF_TYPES");class cf{get(f,E=St){if(E===St){const P=new Error(`NullInjectorError: No provider for ${p(f)}!`);throw P.name="NullInjectorError",P}return E}}function Nv(u){return{\u0275providers:u}}function df(...u){return{\u0275providers:uf(0,u),\u0275fromNgModule:!0}}function uf(u,...f){const E=[],P=new Set;let x;return Me(f,F=>{const te=F;wu(te,E,[],P)&&(x||(x=[]),x.push(te))}),void 0!==x&&pf(x,E),E}function pf(u,f){for(let E=0;E<u.length;E++){const{providers:x}=u[E];Fu(x,F=>{f.push(F)})}}function wu(u,f,E,P){if(!(u=v(u)))return!1;let x=null,F=mt(u);const te=!F&&An(u);if(F||te){if(te&&!te.standalone)return!1;x=u}else{const Ce=u.ngModule;if(F=mt(Ce),!F)return!1;x=Ce}const pe=P.has(x);if(te){if(pe)return!1;if(P.add(x),te.dependencies){const Ce="function"==typeof te.dependencies?te.dependencies():te.dependencies;for(const Ue of Ce)wu(Ue,f,E,P)}}else{if(!F)return!1;{if(null!=F.imports&&!pe){let Ue;P.add(x);try{Me(F.imports,nt=>{wu(nt,f,E,P)&&(Ue||(Ue=[]),Ue.push(nt))})}finally{}void 0!==Ue&&pf(Ue,f)}if(!pe){const Ue=rr(x)||(()=>new x);f.push({provide:x,useFactory:Ue,deps:fn},{provide:lf,useValue:x,multi:!0},{provide:Bu,useValue:()=>jt(x),multi:!0})}const Ce=F.providers;null==Ce||pe||Fu(Ce,nt=>{f.push(nt)})}}return x!==u&&void 0!==u.providers}function Fu(u,f){for(let E of u)O(E)&&(E=E.\u0275providers),Array.isArray(E)?Fu(E,f):f(E)}const jv=r({provide:String,useValue:r});function Nu(u){return null!==u&&"object"==typeof u&&jv in u}function Ul(u){return"function"==typeof u}const ju=new Hr("Set Injector scope."),xd={},Kv={};let Wu;function Ld(){return void 0===Wu&&(Wu=new cf),Wu}class wl{}class mf extends wl{get destroyed(){return this._destroyed}constructor(f,E,P,x){super(),this.parent=E,this.source=P,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vu(f,te=>this.processProvider(te)),this.records.set(Uu,oc(void 0,this)),x.has("environment")&&this.records.set(wl,oc(void 0,this));const F=this.records.get(ju);null!=F&&"string"==typeof F.value&&this.scopes.add(F.value),this.injectorDefTypes=new Set(this.get(lf.multi,fn,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();for(const f of this._onDestroyHooks)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(f){this._onDestroyHooks.push(f)}runInContext(f){this.assertNotDestroyed();const E=Rt(this),P=ft(void 0);try{return f()}finally{Rt(E),ft(P)}}get(f,E=St,P=lt.Default){this.assertNotDestroyed(),P=ke(P);const x=Rt(this),F=ft(void 0);try{if(!(P&lt.SkipSelf)){let pe=this.records.get(f);if(void 0===pe){const Ce=function zv(u){return"function"==typeof u||"object"==typeof u&&u instanceof Hr}(f)&&Ze(f);pe=Ce&&this.injectableDefInScope(Ce)?oc(Ku(f),xd):null,this.records.set(f,pe)}if(null!=pe)return this.hydrate(f,pe)}return(P&lt.Self?Ld():this.parent).get(f,E=P&lt.Optional&&E===St?null:E)}catch(te){if("NullInjectorError"===te.name){if((te[Yt]=te[Yt]||[]).unshift(p(f)),x)throw te;return function bt(u,f,E,P){const x=u[Yt];throw f[xn]&&x.unshift(f[xn]),u.message=function wt(u,f,E,P=null){u=u&&"\n"===u.charAt(0)&&u.charAt(1)==Mn?u.slice(2):u;let x=p(f);if(Array.isArray(f))x=f.map(p).join(" -> ");else if("object"==typeof f){let F=[];for(let te in f)if(f.hasOwnProperty(te)){let pe=f[te];F.push(te+":"+("string"==typeof pe?JSON.stringify(pe):p(pe)))}x=`{${F.join(", ")}}`}return`${E}${P?"("+P+")":""}[${x}]: ${u.replace(Tt,"\n  ")}`}("\n"+u.message,x,E,P),u[en]=x,u[Yt]=null,u}(te,f,"R3InjectorError",this.source)}throw te}finally{ft(F),Rt(x)}}resolveInjectorInitializers(){const f=Rt(this),E=ft(void 0);try{const P=this.get(Bu.multi,fn,lt.Self);for(const x of P)x()}finally{Rt(f),ft(E)}}toString(){const f=[],E=this.records;for(const P of E.keys())f.push(p(P));return`R3Injector[${f.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new o(205,!1)}processProvider(f){let E=Ul(f=v(f))?f:v(f&&f.provide);const P=function Hv(u){return Nu(u)?oc(void 0,u.useValue):oc(_f(u),xd)}(f);if(Ul(f)||!0!==f.multi)this.records.get(E);else{let x=this.records.get(E);x||(x=oc(void 0,xd,!0),x.factory=()=>xe(x.multi),this.records.set(E,x)),E=f,x.multi.push(f)}this.records.set(E,P)}hydrate(f,E){return E.value===xd&&(E.value=Kv,E.value=E.factory()),"object"==typeof E.value&&E.value&&function $v(u){return null!==u&&"object"==typeof u&&"function"==typeof u.ngOnDestroy}(E.value)&&this._ngOnDestroyHooks.add(E.value),E.value}injectableDefInScope(f){if(!f.providedIn)return!1;const E=v(f.providedIn);return"string"==typeof E?"any"===E||this.scopes.has(E):this.injectorDefTypes.has(E)}}function Ku(u){const f=Ze(u),E=null!==f?f.factory:rr(u);if(null!==E)return E;if(u instanceof Hr)throw new o(204,!1);if(u instanceof Function)return function Vv(u){const f=u.length;if(f>0)throw Lt(f,"?"),new o(204,!1);const E=function Ne(u){return u&&(u[Dt]||u[Jt])||null}(u);return null!==E?()=>E.factory(u):()=>new u}(u);throw new o(204,!1)}function _f(u,f,E){let P;if(Ul(u)){const x=v(u);return rr(x)||Ku(x)}if(Nu(u))P=()=>v(u.useValue);else if(function ff(u){return!(!u||!u.useFactory)}(u))P=()=>u.useFactory(...xe(u.deps||[]));else if(function hf(u){return!(!u||!u.useExisting)}(u))P=()=>jt(v(u.useExisting));else{const x=v(u&&(u.useClass||u.provide));if(!function kv(u){return!!u.deps}(u))return rr(x)||Ku(x);P=()=>new x(...xe(u.deps))}return P}function oc(u,f,E=!1){return{factory:u,value:f,multi:E?[]:void 0}}function Vu(u,f){for(const E of u)Array.isArray(E)?Vu(E,f):E&&O(E)?Vu(E.\u0275providers,f):f(E)}class gf{}class Bd{}class Yv{resolveComponentFactory(f){throw function Gv(u){const f=Error(`No component factory found for ${p(u)}. Did you add it to @NgModule.entryComponents?`);return f.ngComponent=u,f}(f)}}let qc=(()=>{class u{}return u.NULL=new Yv,u})();function Qv(){return sc(Jr(),xt())}function sc(u,f){return new ed(Gr(u,f))}let ed=(()=>{class u{constructor(E){this.nativeElement=E}}return u.__NG_ELEMENT_ID__=Qv,u})();function Xv(u){return u instanceof ed?u.nativeElement:u}class Ef{}let Zv=(()=>{class u{}return u.__NG_ELEMENT_ID__=()=>function Jv(){const u=xt(),E=Si(Jr().index,u);return(li(E)?E:u)[kn]}(),u})(),yf=(()=>{class u{}return u.\u0275prov=ve({token:u,providedIn:"root",factory:()=>null}),u})();class Cf{constructor(f){this.full=f,this.major=f.split(".")[0],this.minor=f.split(".")[1],this.patch=f.split(".").slice(2).join(".")}}const Df=new Cf("15.2.8"),Ud={},Hu="ngOriginalError";function ku(u){return u[Hu]}class td{constructor(){this._console=console}handleError(f){const E=this._findOriginalError(f);this._console.error("ERROR",f),E&&this._console.error("ORIGINAL ERROR",E)}_findOriginalError(f){let E=f&&ku(f);for(;E&&ku(E);)E=ku(E);return E||null}}function Of(u){return u.ownerDocument.defaultView}function Mf(u){return u.ownerDocument}function Sf(u){return u.ownerDocument.body}function ul(u){return u instanceof Function?u():u}function Pf(u,f,E){let P=u.length;for(;;){const x=u.indexOf(f,E);if(-1===x)return x;if(0===x||u.charCodeAt(x-1)<=32){const F=f.length;if(x+F===P||u.charCodeAt(x+F)<=32)return x}E=x+1}}const If="ng-template";function sE(u,f,E){let P=0,x=!0;for(;P<u.length;){let F=u[P++];if("string"==typeof F&&x){const te=u[P++];if(E&&"class"===F&&-1!==Pf(te.toLowerCase(),f,0))return!0}else{if(1===F){for(;P<u.length&&"string"==typeof(F=u[P++]);)if(F.toLowerCase()===f)return!0;return!1}"number"==typeof F&&(x=!1)}}return!1}function Tf(u){return 4===u.type&&u.value!==If}function aE(u,f,E){return f===(4!==u.type||E?u.value:If)}function lE(u,f,E){let P=4;const x=u.attrs||[],F=function uE(u){for(let f=0;f<u.length;f++)if(pi(u[f]))return f;return u.length}(x);let te=!1;for(let pe=0;pe<f.length;pe++){const Ce=f[pe];if("number"!=typeof Ce){if(!te)if(4&P){if(P=2|1&P,""!==Ce&&!aE(u,Ce,E)||""===Ce&&1===f.length){if(Qa(P))return!1;te=!0}}else{const Ue=8&P?Ce:f[++pe];if(8&P&&null!==u.attrs){if(!sE(u.attrs,Ue,E)){if(Qa(P))return!1;te=!0}continue}const Ct=cE(8&P?"class":Ce,x,Tf(u),E);if(-1===Ct){if(Qa(P))return!1;te=!0;continue}if(""!==Ue){let Vt;Vt=Ct>F?"":x[Ct+1].toLowerCase();const nn=8&P?Vt:null;if(nn&&-1!==Pf(nn,Ue,0)||2&P&&Ue!==Vt){if(Qa(P))return!1;te=!0}}}}else{if(!te&&!Qa(P)&&!Qa(Ce))return!1;if(te&&Qa(Ce))continue;te=!1,P=Ce|1&P}}return Qa(P)||te}function Qa(u){return 0==(1&u)}function cE(u,f,E,P){if(null===f)return-1;let x=0;if(P||!E){let F=!1;for(;x<f.length;){const te=f[x];if(te===u)return x;if(3===te||6===te)F=!0;else{if(1===te||2===te){let pe=f[++x];for(;"string"==typeof pe;)pe=f[++x];continue}if(4===te)break;if(0===te){x+=4;continue}}x+=F?1:2}return-1}return function pE(u,f){let E=u.indexOf(4);if(E>-1)for(E++;E<u.length;){const P=u[E];if("number"==typeof P)return-1;if(P===f)return E;E++}return-1}(f,u)}function Af(u,f,E=!1){for(let P=0;P<f.length;P++)if(lE(u,f[P],E))return!0;return!1}function hE(u,f){e:for(let E=0;E<f.length;E++){const P=f[E];if(u.length===P.length){for(let x=0;x<u.length;x++)if(u[x]!==P[x])continue e;return!0}}return!1}function Rf(u,f){return u?":not("+f.trim()+")":f}function fE(u){let f=u[0],E=1,P=2,x="",F=!1;for(;E<u.length;){let te=u[E];if("string"==typeof te)if(2&P){const pe=u[++E];x+="["+te+(pe.length>0?'="'+pe+'"':"")+"]"}else 8&P?x+="."+te:4&P&&(x+=" "+te);else""!==x&&!Qa(te)&&(f+=Rf(F,x),x=""),P=te,F=F||!Qa(P);E++}return""!==x&&(f+=Rf(F,x)),f}const kr={};function xf(u){Lf(Un(),xt(),fi()+u,!1)}function Lf(u,f,E,P){if(!P)if(3==(3&f[Qn])){const F=u.preOrderCheckHooks;null!==F&&_a(f,F,E)}else{const F=u.preOrderHooks;null!==F&&va(f,F,0,E)}vs(E)}const Bf={\u0275\u0275defineInjectable:ve,\u0275\u0275defineInjector:et,\u0275\u0275inject:jt,\u0275\u0275invalidFactoryDep:zt,resolveForwardRef:v};const vE=r({provide:String,useValue:r});function Uf(u){return void 0!==u.useClass}function wf(u){return void 0!==u.useFactory}const DE=Do("Injectable",void 0,void 0,void 0,(u,f)=>function gE(u,f){let E=null,P=null;u.hasOwnProperty(Dt)||Object.defineProperty(u,Dt,{get:()=>(null===E&&(E=Te().compileInjectable(Bf,`ng:///${u.name}/\u0275prov.js`,function CE(u,f){const E=f||{providedIn:null},P={name:u.name,type:u,typeArgumentCount:0,providedIn:E.providedIn};return(Uf(E)||wf(E))&&void 0!==E.deps&&(P.deps=cl(E.deps)),Uf(E)?P.useClass=E.useClass:function EE(u){return vE in u}(E)?P.useValue=E.useValue:wf(E)?P.useFactory=E.useFactory:function yE(u){return void 0!==u.useExisting}(E)&&(P.useExisting=E.useExisting),P}(u,f))),E)}),u.hasOwnProperty(Bt)||Object.defineProperty(u,Bt,{get:()=>{if(null===P){const x=Te();P=x.compileFactory(Bf,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u,typeArgumentCount:0,deps:Va(u),target:x.FactoryTarget.Injectable})}return P},configurable:!0})}(u,f));function $u(u,f=null,E=null,P){const x=Ff(u,f,E,P);return x.resolveInjectorInitializers(),x}function Ff(u,f=null,E=null,P,x=new Set){const F=[E||fn,df(u)];return P=P||("object"==typeof u?void 0:p(u)),new mf(F,f||Ld(),P||null,x)}let Cl=(()=>{class u{static create(E,P){if(Array.isArray(E))return $u({name:""},P,E,"");{const x=E.name??"";return $u({name:x},E.parent,E.providers,x)}}}return u.THROW_IF_NOT_FOUND=St,u.NULL=new cf,u.\u0275prov=ve({token:u,providedIn:"any",factory:()=>jt(Uu)}),u.__NG_ELEMENT_ID__=-1,u})();function zu(u){return u.length>1?" ("+function OE(u){const f=[];for(let E=0;E<u.length;++E){if(f.indexOf(u[E])>-1)return f.push(u[E]),f;f.push(u[E])}return f}(u.slice().reverse()).map(P=>p(P.token)).join(" -> ")+")":""}function Gu(u,f,E,P){const x=[f],F=E(x),te=P?function qv(u,f){const E=`${u} caused by: ${f instanceof Error?f.message:f}`,P=Error(E);return P[Hu]=f,P}(F,P):Error(F);return te.addKey=ME,te.keys=x,te.injectors=[u],te.constructResolvingMessage=E,te[Hu]=P,te}function ME(u,f){this.injectors.push(u),this.keys.push(f),this.message=this.constructResolvingMessage(this.keys)}function Nf(u,f){const E=[];for(let P=0,x=f.length;P<x;P++){const F=f[P];E.push(F&&0!=F.length?F.map(p).join(" "):"?")}return Error("Cannot resolve all parameters for '"+p(u)+"'("+E.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+p(u)+"' is decorated with Injectable.")}function AE(u,f){return Error(`Cannot mix multi providers and regular providers, got: ${u} ${f}`)}class pl{constructor(f,E){if(this.token=f,this.id=E,!f)throw new o(208,!1);this.displayName=p(this.token)}static get(f){return jf.get(v(f))}static get numberOfKeys(){return jf.numberOfKeys}}class RE{constructor(){this._allKeys=new Map}get(f){if(f instanceof pl)return f;if(this._allKeys.has(f))return this._allKeys.get(f);const E=new pl(f,pl.numberOfKeys);return this._allKeys.set(f,E),E}get numberOfKeys(){return this._allKeys.size}}const jf=new RE;class wd{constructor(f,E,P){this.key=f,this.optional=E,this.visibility=P}static fromKey(f){return new wd(f,!1,null)}}const xE=[];class Wf{constructor(f,E,P){this.key=f,this.resolvedFactories=E,this.multiProvider=P,this.resolvedFactory=this.resolvedFactories[0]}}class Kf{constructor(f,E){this.factory=f,this.dependencies=E}}function LE(u){let f,E;if(u.useClass){const P=v(u.useClass);f=La().factory(P),E=Hf(P)}else u.useExisting?(f=P=>P,E=[wd.fromKey(pl.get(u.useExisting))]):u.useFactory?(f=u.useFactory,E=function FE(u,f){if(f){const E=f.map(P=>[P]);return f.map(P=>kf(u,P,E))}return Hf(u)}(u.useFactory,u.deps)):(f=()=>u.useValue,E=xE);return new Kf(f,E)}function BE(u){return new Wf(pl.get(u.provide),[LE(u)],u.multi||!1)}function UE(u){const P=function wE(u,f){for(let E=0;E<u.length;E++){const P=u[E],x=f.get(P.key.id);if(x){if(P.multiProvider!==x.multiProvider)throw AE(x,P);if(P.multiProvider)for(let F=0;F<P.resolvedFactories.length;F++)x.resolvedFactories.push(P.resolvedFactories[F]);else f.set(P.key.id,P)}else{let F;F=P.multiProvider?new Wf(P.key,P.resolvedFactories.slice(),P.multiProvider):P,f.set(P.key.id,F)}}return f}(Vf(u,[]).map(BE),new Map);return Array.from(P.values())}function Vf(u,f){return u.forEach(E=>{if(E instanceof N)f.push({provide:E,useClass:E});else if(E&&"object"==typeof E&&void 0!==E.provide)f.push(E);else{if(!Array.isArray(E))throw function IE(u){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${u}`)}(E);Vf(E,f)}}),f}function Hf(u){const f=La().parameters(u);if(!f)return[];if(f.some(E=>null==E))throw Nf(u,f);return f.map(E=>kf(u,E,f))}function kf(u,f,E){let P=null,x=!1;if(!Array.isArray(f))return Yu(f instanceof Ns?f.token:f,x,null);let F=null;for(let te=0;te<f.length;++te){const pe=f[te];pe instanceof N?P=pe:pe instanceof Ns?P=pe.token:pe instanceof ba?x=!0:pe instanceof xa||pe instanceof ca?F=pe:pe instanceof Hr&&(P=pe)}if(P=v(P),null!=P)return Yu(P,x,F);throw Nf(u,E)}function Yu(u,f,E){return new wd(pl.get(u),f,E)}const nd={};class lc{static resolve(f){return UE(f)}static resolveAndCreate(f,E){const P=lc.resolve(f);return lc.fromResolvedProviders(P,E)}static fromResolvedProviders(f,E){return new NE(f,E)}}let NE=(()=>{class u{constructor(E,P){this._constructionCounter=0,this._providers=E,this.parent=P||null;const x=E.length;this.keyIds=[],this.objs=[];for(let F=0;F<x;F++)this.keyIds[F]=E[F].key.id,this.objs[F]=nd}get(E,P=St){return this._getByKey(pl.get(E),null,P)}resolveAndCreateChild(E){const P=lc.resolve(E);return this.createChildFromResolved(P)}createChildFromResolved(E){const P=new u(E);return P.parent=this,P}resolveAndInstantiate(E){return this.instantiateResolved(lc.resolve([E])[0])}instantiateResolved(E){return this._instantiateProvider(E)}getProviderAtIndex(E){if(E<0||E>=this._providers.length)throw function TE(u){return Error(`Index ${u} is out-of-bounds.`)}(E);return this._providers[E]}_new(E){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function bE(u,f){return Gu(u,f,function(E){return`Cannot instantiate cyclic dependency!${zu(E)}`})}(this,E.key);return this._instantiateProvider(E)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(E){if(E.multiProvider){const P=[];for(let x=0;x<E.resolvedFactories.length;++x)P[x]=this._instantiate(E,E.resolvedFactories[x]);return P}return this._instantiate(E,E.resolvedFactories[0])}_instantiate(E,P){const x=P.factory;let F,te;try{F=P.dependencies.map(pe=>this._getByReflectiveDependency(pe))}catch(pe){throw pe.addKey&&pe.addKey(this,E.key),pe}try{te=x(...F)}catch(pe){throw function PE(u,f,E,P){return Gu(u,P,function(x){const F=p(x[0].token);return`${f.message}: Error during instantiation of ${F}!${zu(x)}.`},f)}(this,pe,0,E.key)}return te}_getByReflectiveDependency(E){return this._getByKey(E.key,E.visibility,E.optional?null:St)}_getByKey(E,P,x){return E===u.INJECTOR_KEY?this:P instanceof xa?this._getByKeySelf(E,x):this._getByKeyDefault(E,x,P)}_getObjByKeyId(E){for(let P=0;P<this.keyIds.length;P++)if(this.keyIds[P]===E)return this.objs[P]===nd&&(this.objs[P]=this._new(this._providers[P])),this.objs[P];return nd}_throwOrNull(E,P){if(P!==St)return P;throw function SE(u,f){return Gu(u,f,function(E){return`No provider for ${p(E[0].token)}!${zu(E)}`})}(this,E)}_getByKeySelf(E,P){const x=this._getObjByKeyId(E.id);return x!==nd?x:this._throwOrNull(E,P)}_getByKeyDefault(E,P,x){let F;for(F=x instanceof ca?this.parent:this;F instanceof u;){const te=F,pe=te._getObjByKeyId(E.id);if(pe!==nd)return pe;F=te.parent}return null!==F?F.get(E.token,P):this._throwOrNull(E,P)}get displayName(){return`ReflectiveInjector(providers: [${function jE(u,f){const E=[];for(let P=0;P<u._providers.length;++P)E[P]=f(u.getProviderAtIndex(P));return E}(this,P=>' "'+P.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return u.INJECTOR_KEY=pl.get(Cl),u})();function cc(u,f=lt.Default){const E=xt();return null===E?jt(u,f):fo(Jr(),E,v(u),f)}function $f(){throw new Error("invalid")}function zf(u,f){const E=u.contentQueries;if(null!==E)for(let P=0;P<E.length;P+=2){const F=E[P+1];if(-1!==F){const te=u.data[F];Qs(E[P]),te.contentQueries(2,f[F],F)}}}function Fd(u,f,E,P,x,F,te,pe,Ce,Ue,nt){const Ct=f.blueprint.slice();return Ct[yr]=x,Ct[Qn]=76|P,(null!==nt||u&&1024&u[Qn])&&(Ct[Qn]|=1024),xs(Ct),Ct[hr]=Ct[Wi]=u,Ct[Nr]=E,Ct[Ri]=te||u&&u[Ri],Ct[kn]=pe||u&&u[kn],Ct[hi]=Ce||u&&u[hi]||null,Ct[_i]=Ue||u&&u[_i]||null,Ct[br]=F,Ct[Kt]=function Lc(){return Xl++}(),Ct[ln]=nt,Ct[qr]=2==f.type?u[qr]:Ct,Ct}function dc(u,f,E,P,x){let F=u.data[f];if(null===F)F=Qu(u,f,E,P,x),function Vs(){return dr.lFrame.inI18n}()&&(F.flags|=32);else if(64&F.type){F.type=E,F.value=P,F.attrs=x;const te=Is();F.injectorIndex=null===te?-1:te.injectorIndex}return Vi(F,!0),F}function Qu(u,f,E,P,x){const F=Ws(),te=ra(),Ce=u.data[f]=function $E(u,f,E,P,x,F){return{type:E,index:P,insertBeforeIndex:null,injectorIndex:f?f.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:x,attrs:F,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:f,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,te?F:F&&F.parent,E,f,P,x);return null===u.firstChild&&(u.firstChild=Ce),null!==F&&(te?null==F.child&&null!==Ce.parent&&(F.child=Ce):null===F.next&&(F.next=Ce,Ce.prev=F)),Ce}function rd(u,f,E,P){if(0===E)return-1;const x=f.length;for(let F=0;F<E;F++)f.push(P),u.blueprint.push(P),u.data.push(null);return x}function Xu(u,f,E){Ts(f);try{const P=u.viewQuery;null!==P&&op(1,P,E);const x=u.template;null!==x&&Gf(u,f,x,1,E),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&zf(u,f),u.staticViewQueries&&op(2,u.viewQuery,E);const F=u.components;null!==F&&function VE(u,f){for(let E=0;E<f.length;E++)p0(u,f[E])}(f,F)}catch(P){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),P}finally{f[Qn]&=-5,Hs()}}function Nd(u,f,E,P){const x=f[Qn];if(128!=(128&x)){Ts(f);try{xs(f),oo(u.bindingStartIndex),null!==E&&Gf(u,f,E,2,P);const te=3==(3&x);if(te){const Ue=u.preOrderCheckHooks;null!==Ue&&_a(f,Ue,null)}else{const Ue=u.preOrderHooks;null!==Ue&&va(f,Ue,0,null),ge(f,0)}if(function d0(u){for(let f=el(u);null!==f;f=vl(f)){if(!f[Mr])continue;const E=f[Vn];for(let P=0;P<E.length;P++){const x=E[P];512&x[Qn]||Zo(x[hr],1),x[Qn]|=512}}}(f),function c0(u){for(let f=el(u);null!==f;f=vl(f))for(let E=Xn;E<f.length;E++){const P=f[E],x=P[Sn];bi(P)&&Nd(x,P,x.template,P[Nr])}}(f),null!==u.contentQueries&&zf(u,f),te){const Ue=u.contentCheckHooks;null!==Ue&&_a(f,Ue)}else{const Ue=u.contentHooks;null!==Ue&&va(f,Ue,1),ge(f,1)}!function WE(u,f){const E=u.hostBindingOpCodes;if(null!==E)try{for(let P=0;P<E.length;P++){const x=E[P];if(x<0)vs(~x);else{const F=x,te=E[++P],pe=E[++P];Rr(te,F),pe(2,f[F])}}}finally{vs(-1)}}(u,f);const pe=u.components;null!==pe&&function KE(u,f){for(let E=0;E<f.length;E++)u0(u,f[E])}(f,pe);const Ce=u.viewQuery;if(null!==Ce&&op(2,Ce,P),te){const Ue=u.viewCheckHooks;null!==Ue&&_a(f,Ue)}else{const Ue=u.viewHooks;null!==Ue&&va(f,Ue,2),ge(f,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),f[Qn]&=-41,512&f[Qn]&&(f[Qn]&=-513,Zo(f[hr],-1))}finally{Hs()}}}function Gf(u,f,E,P,x){const F=fi(),te=2&P;try{vs(-1),te&&f.length>_n&&Lf(u,f,_n,!1),di(te?2:0,x),E(P,x)}finally{vs(F),di(te?3:1,x)}}function Zu(u,f,E){if(So(f)){const x=f.directiveEnd;for(let F=f.directiveStart;F<x;F++){const te=u.data[F];te.contentQueries&&te.contentQueries(1,E[F],F)}}}function Ju(u,f,E){rt()&&(function JE(u,f,E,P){const x=E.directiveStart,F=E.directiveEnd;co(E)&&function s0(u,f,E){const P=Gr(f,u),x=Yf(E),F=u[Ri],te=jd(u,Fd(u,x,null,E.onPush?32:16,P,f,F,F.createRenderer(P,E),null,null,null));u[f.index]=te}(f,E,u.data[x+E.componentOffset]),u.firstCreatePass||yi(E,f),k(P,f);const te=E.initialInputs;for(let pe=x;pe<F;pe++){const Ce=u.data[pe],Ue=Zi(f,u,pe,E);k(Ue,f),null!==te&&a0(0,pe-x,Ue,Ce,0,te),ei(Ce)&&(Si(E.index,f)[Nr]=Zi(f,u,pe,E))}}(u,f,E,Gr(E,f)),64==(64&E.flags)&&qf(u,f,E))}function qu(u,f,E=Gr){const P=f.localNames;if(null!==P){let x=f.index+1;for(let F=0;F<P.length;F+=2){const te=P[F+1],pe=-1===te?E(f,u):u[te];u[x++]=pe}}}function Yf(u){const f=u.tView;return null===f||f.incompleteFirstPass?u.tView=ep(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts):f}function ep(u,f,E,P,x,F,te,pe,Ce,Ue){const nt=_n+P,Ct=nt+x,Vt=function HE(u,f){const E=[];for(let P=0;P<f;P++)E.push(P<u?null:kr);return E}(nt,Ct),nn="function"==typeof Ue?Ue():Ue;return Vt[Sn]={type:u,blueprint:Vt,template:E,queries:null,viewQuery:pe,declTNode:f,data:Vt.slice().fill(null,nt),bindingStartIndex:nt,expandoStartIndex:Ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof F?F():F,pipeRegistry:"function"==typeof te?te():te,firstChild:null,schemas:Ce,consts:nn,incompleteFirstPass:!1}}function Qf(u,f,E,P){const x=tm(f);null===E?x.push(P):(x.push(E),u.firstCreatePass&&nm(u).push(P,x.length-1))}function Xf(u,f,E,P){for(let x in u)if(u.hasOwnProperty(x)){E=null===E?{}:E;const F=u[x];null===P?Zf(E,f,x,F):P.hasOwnProperty(x)&&Zf(E,f,P[x],F)}return E}function Zf(u,f,E,P){u.hasOwnProperty(E)?u[E].push(f,P):u[E]=[f,P]}function Ua(u,f,E,P,x,F,te,pe){const Ce=Gr(f,E);let nt,Ue=f.inputs;!pe&&null!=Ue&&(nt=Ue[P])?(ap(u,E,nt,P,x),co(f)&&function YE(u,f){const E=Si(f,u);16&E[Qn]||(E[Qn]|=32)}(E,f.index)):3&f.type&&(P=function GE(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(P),x=null!=te?te(x,f.value||"",P):x,F.setProperty(Ce,P,x))}function tp(u,f,E,P){if(rt()){const x=null===P?null:{"":-1},F=function e0(u,f){const E=u.directiveRegistry;let P=null,x=null;if(E)for(let F=0;F<E.length;F++){const te=E[F];if(Af(f,te.selectors,!1))if(P||(P=[]),ei(te))if(null!==te.findHostDirectiveDefs){const pe=[];x=x||new Map,te.findHostDirectiveDefs(te,pe,x),P.unshift(...pe,te),np(u,f,pe.length)}else P.unshift(te),np(u,f,0);else x=x||new Map,te.findHostDirectiveDefs?.(te,P,x),P.push(te)}return null===P?null:[P,x]}(u,E);let te,pe;null===F?te=pe=null:[te,pe]=F,null!==te&&Jf(u,f,E,te,x,pe),x&&function t0(u,f,E){if(f){const P=u.localNames=[];for(let x=0;x<f.length;x+=2){const F=E[f[x+1]];if(null==F)throw new o(-301,!1);P.push(f[x],F)}}}(E,P,x)}E.mergedAttrs=xr(E.mergedAttrs,E.attrs)}function Jf(u,f,E,P,x,F){for(let Ue=0;Ue<P.length;Ue++)ws(yi(E,f),u,P[Ue].type);!function r0(u,f,E){u.flags|=1,u.directiveStart=f,u.directiveEnd=f+E,u.providerIndexes=f}(E,u.data.length,P.length);for(let Ue=0;Ue<P.length;Ue++){const nt=P[Ue];nt.providersResolver&&nt.providersResolver(nt)}let te=!1,pe=!1,Ce=rd(u,f,P.length,null);for(let Ue=0;Ue<P.length;Ue++){const nt=P[Ue];E.mergedAttrs=xr(E.mergedAttrs,nt.hostAttrs),o0(u,E,f,Ce,nt),n0(Ce,nt,x),null!==nt.contentQueries&&(E.flags|=4),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(E.flags|=64);const Ct=nt.type.prototype;!te&&(Ct.ngOnChanges||Ct.ngOnInit||Ct.ngDoCheck)&&((u.preOrderHooks??(u.preOrderHooks=[])).push(E.index),te=!0),!pe&&(Ct.ngOnChanges||Ct.ngDoCheck)&&((u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(E.index),pe=!0),Ce++}!function zE(u,f,E){const x=f.directiveEnd,F=u.data,te=f.attrs,pe=[];let Ce=null,Ue=null;for(let nt=f.directiveStart;nt<x;nt++){const Ct=F[nt],Vt=E?E.get(Ct):null,yn=Vt?Vt.outputs:null;Ce=Xf(Ct.inputs,nt,Ce,Vt?Vt.inputs:null),Ue=Xf(Ct.outputs,nt,Ue,yn);const jn=null===Ce||null===te||Tf(f)?null:l0(Ce,nt,te);pe.push(jn)}null!==Ce&&(Ce.hasOwnProperty("class")&&(f.flags|=8),Ce.hasOwnProperty("style")&&(f.flags|=16)),f.initialInputs=pe,f.inputs=Ce,f.outputs=Ue}(u,E,F)}function qf(u,f,E){const P=E.directiveStart,x=E.directiveEnd,F=E.index,te=function ni(){return dr.lFrame.currentDirectiveIndex}();try{vs(F);for(let pe=P;pe<x;pe++){const Ce=u.data[pe],Ue=f[pe];wo(pe),(null!==Ce.hostBindings||0!==Ce.hostVars||null!==Ce.hostAttrs)&&qE(Ce,Ue)}}finally{vs(-1),wo(te)}}function qE(u,f){null!==u.hostBindings&&u.hostBindings(1,f)}function np(u,f,E){f.componentOffset=E,(u.components??(u.components=[])).push(f.index)}function n0(u,f,E){if(E){if(f.exportAs)for(let P=0;P<f.exportAs.length;P++)E[f.exportAs[P]]=u;ei(f)&&(E[""]=u)}}function o0(u,f,E,P,x){u.data[P]=x;const F=x.factory||(x.factory=rr(x.type)),te=new _t(F,ei(x),cc);u.blueprint[P]=te,E[P]=te,function XE(u,f,E,P,x){const F=x.hostBindings;if(F){let te=u.hostBindingOpCodes;null===te&&(te=u.hostBindingOpCodes=[]);const pe=~f.index;(function ZE(u){let f=u.length;for(;f>0;){const E=u[--f];if("number"==typeof E&&E<0)return E}return 0})(te)!=pe&&te.push(pe),te.push(E,P,F)}}(u,f,P,rd(u,E,x.hostVars,kr),x)}function il(u,f,E,P,x,F){const te=Gr(u,f);rp(f[kn],te,F,u.value,E,P,x)}function rp(u,f,E,P,x,F,te){if(null==F)u.removeAttribute(f,x,E);else{const pe=null==te?M(F):te(F,P||"",x);u.setAttribute(f,x,pe,E)}}function a0(u,f,E,P,x,F){const te=F[f];if(null!==te){const pe=P.setInput;for(let Ce=0;Ce<te.length;){const Ue=te[Ce++],nt=te[Ce++],Ct=te[Ce++];null!==pe?P.setInput(E,Ct,Ue,nt):E[nt]=Ct}}}function l0(u,f,E){let P=null,x=0;for(;x<E.length;){const F=E[x];if(0!==F)if(5!==F){if("number"==typeof F)break;if(u.hasOwnProperty(F)){null===P&&(P=[]);const te=u[F];for(let pe=0;pe<te.length;pe+=2)if(te[pe]===f){P.push(F,te[pe+1],E[x+1]);break}}x+=2}else x+=2;else x+=4}return P}function em(u,f,E,P){return[u,!0,!1,f,null,0,P,E,null,null]}function u0(u,f){const E=Si(f,u);if(bi(E)){const P=E[Sn];48&E[Qn]?Nd(P,E,P.template,E[Nr]):E[Xr]>0&&ip(E)}}function ip(u){for(let P=el(u);null!==P;P=vl(P))for(let x=Xn;x<P.length;x++){const F=P[x];if(bi(F))if(512&F[Qn]){const te=F[Sn];Nd(te,F,te.template,F[Nr])}else F[Xr]>0&&ip(F)}const E=u[Sn].components;if(null!==E)for(let P=0;P<E.length;P++){const x=Si(E[P],u);bi(x)&&x[Xr]>0&&ip(x)}}function p0(u,f){const E=Si(f,u),P=E[Sn];(function h0(u,f){for(let E=f.length;E<u.blueprint.length;E++)f.push(u.blueprint[E])})(P,E),Xu(P,E,E[Nr])}function jd(u,f){return u[ai]?u[to][Br]=f:u[ai]=f,u[to]=f,f}function Wd(u){for(;u;){u[Qn]|=32;const f=Mo(u);if(ko(u)&&!f)return u;u=f}return null}function Kd(u,f,E,P=!0){const x=f[Ri];x.begin&&x.begin();try{Nd(u,f,u.template,E)}catch(te){throw P&&im(f,te),te}finally{x.end&&x.end()}}function op(u,f,E){Qs(0),f(u,E)}function tm(u){return u[Oi]||(u[Oi]=[])}function nm(u){return u.cleanup||(u.cleanup=[])}function rm(u,f,E){return(null===u||ei(u))&&(E=function Gi(u){for(;Array.isArray(u);){if("object"==typeof u[$n])return u;u=u[yr]}return null}(E[f.index])),E[kn]}function im(u,f){const E=u[_i],P=E?E.get(td,null):null;P&&P.handleError(f)}function ap(u,f,E,P,x){for(let F=0;F<E.length;){const te=E[F++],pe=E[F++],Ce=f[te],Ue=u.data[te];null!==Ue.setInput?Ue.setInput(Ce,x,P,pe):Ce[pe]=x}}function hl(u,f,E){const P=Yi(f,u);Jl(u[kn],P,E)}function Vd(u,f,E){let P=E?u.styles:null,x=E?u.classes:null,F=0;if(null!==f)for(let te=0;te<f.length;te++){const pe=f[te];"number"==typeof pe?F=pe:1==F?x=h(x,pe):2==F&&(P=h(P,pe+": "+f[++te]+";"))}E?u.styles=P:u.stylesWithoutHost=P,E?u.classes=x:u.classesWithoutHost=x}function Hd(u,f,E,P,x=!1){for(;null!==E;){const F=f[E.index];if(null!==F&&P.push(Ei(F)),Wr(F))for(let pe=Xn;pe<F.length;pe++){const Ce=F[pe],Ue=Ce[Sn].firstChild;null!==Ue&&Hd(Ce[Sn],Ce,Ue,P)}const te=E.type;if(8&te)Hd(u,f,E.child,P);else if(32&te){const pe=Vo(E,f);let Ce;for(;Ce=pe();)P.push(Ce)}else if(16&te){const pe=bd(f,E);if(Array.isArray(pe))P.push(...pe);else{const Ce=Mo(f[qr]);Hd(Ce[Sn],Ce,pe,P,!0)}}E=x?E.projectionNext:E.next}return P}class uc{get rootNodes(){const f=this._lView,E=f[Sn];return Hd(E,f,E.firstChild,[])}constructor(f,E){this._lView=f,this._cdRefInjectingView=E,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(f){this._lView[Nr]=f}get destroyed(){return 128==(128&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const f=this._lView[hr];if(Wr(f)){const E=f[Tr],P=E?E.indexOf(this):-1;P>-1&&(jc(f,P),Xe(E,P))}this._attachedToViewContainer=!1}yd(this._lView[Sn],this._lView)}onDestroy(f){Qf(this._lView[Sn],this._lView,null,f)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-65}reattach(){this._lView[Qn]|=64}detectChanges(){Kd(this._lView[Sn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new o(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vd(u,f){xl(u,f,f[kn],2,null,null)}(this._lView[Sn],this._lView)}attachToAppRef(f){if(this._attachedToViewContainer)throw new o(902,!1);this._appRef=f}}class f0 extends uc{constructor(f){super(f),this._view=f}detectChanges(){const f=this._view;Kd(f[Sn],f,f[Nr],!1)}checkNoChanges(){}get context(){return null}}class om extends qc{constructor(f){super(),this.ngModule=f}resolveComponentFactory(f){const E=An(f);return new pc(E,this.ngModule)}}function sm(u){const f=[];for(let E in u)u.hasOwnProperty(E)&&f.push({propName:u[E],templateName:E});return f}class _0{constructor(f,E){this.injector=f,this.parentInjector=E}get(f,E,P){P=ke(P);const x=this.injector.get(f,Ud,P);return x!==Ud||E===Ud?x:this.parentInjector.get(f,E,P)}}class pc extends Bd{get inputs(){return sm(this.componentDef.inputs)}get outputs(){return sm(this.componentDef.outputs)}constructor(f,E){super(),this.componentDef=f,this.ngModule=E,this.componentType=f.type,this.selector=function mE(u){return u.map(fE).join(",")}(f.selectors),this.ngContentSelectors=f.ngContentSelectors?f.ngContentSelectors:[],this.isBoundToModule=!!E}create(f,E,P,x){let F=(x=x||this.ngModule)instanceof wl?x:x?.injector;F&&null!==this.componentDef.getStandaloneInjector&&(F=this.componentDef.getStandaloneInjector(F)||F);const te=F?new _0(f,F):f,pe=te.get(Ef,null);if(null===pe)throw new o(407,!1);const Ce=te.get(yf,null),Ue=pe.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",Ct=P?function kE(u,f,E){return u.selectRootElement(f,E===Gt.ShadowDom)}(Ue,P,this.componentDef.encapsulation):Rl(Ue,nt,function m0(u){const f=u.toLowerCase();return"svg"===f?Yo:"math"===f?go:null}(nt)),Vt=this.componentDef.onPush?288:272,nn=ep(0,null,null,1,0,null,null,null,null,null),yn=Fd(null,nn,null,Vt,null,null,pe,Ue,Ce,te,null);let jn,Zn;Ts(yn);try{const ar=this.componentDef;let Fr,Rn=null;ar.findHostDirectiveDefs?(Fr=[],Rn=new Map,ar.findHostDirectiveDefs(ar,Fr,Rn),Fr.push(ar)):Fr=[ar];const $r=function g0(u,f){const E=u[Sn],P=_n;return u[P]=f,dc(E,P,2,"#host",null)}(yn,Ct),Ho=function v0(u,f,E,P,x,F,te,pe){const Ce=x[Sn];!function E0(u,f,E,P){for(const x of u)f.mergedAttrs=xr(f.mergedAttrs,x.hostAttrs);null!==f.mergedAttrs&&(Vd(f,f.mergedAttrs,!0),null!==E&&Ad(P,E,f))}(P,u,f,te);const Ue=F.createRenderer(f,E),nt=Fd(x,Yf(E),null,E.onPush?32:16,x[u.index],u,F,Ue,pe||null,null,null);return Ce.firstCreatePass&&np(Ce,u,P.length-1),jd(x,nt),x[u.index]=nt}($r,Ct,ar,Fr,yn,pe,Ue);Zn=Qo(nn,_n),Ct&&function C0(u,f,E,P){if(P)Vr(u,E,["ng-version",Df.full]);else{const{attrs:x,classes:F}=function _E(u){const f=[],E=[];let P=1,x=2;for(;P<u.length;){let F=u[P];if("string"==typeof F)2===x?""!==F&&f.push(F,u[++P]):8===x&&E.push(F);else{if(!Qa(x))break;x=F}P++}return{attrs:f,classes:E}}(f.selectors[0]);x&&Vr(u,E,x),F&&F.length>0&&Td(u,E,F.join(" "))}}(Ue,ar,Ct,P),void 0!==E&&function D0(u,f,E){const P=u.projection=[];for(let x=0;x<f.length;x++){const F=E[x];P.push(null!=F?Array.from(F):null)}}(Zn,this.ngContentSelectors,E),jn=function y0(u,f,E,P,x,F){const te=Jr(),pe=x[Sn],Ce=Gr(te,x);Jf(pe,x,te,E,null,P);for(let nt=0;nt<E.length;nt++)k(Zi(x,pe,te.directiveStart+nt,te),x);qf(pe,x,te),Ce&&k(Ce,x);const Ue=Zi(x,pe,te.directiveStart+te.componentOffset,te);if(u[Nr]=x[Nr]=Ue,null!==F)for(const nt of F)nt(Ue,f);return Zu(pe,te,u),Ue}(Ho,ar,Fr,Rn,yn,[lm]),Xu(nn,yn,null)}finally{Hs()}return new am(this.componentType,jn,sc(Zn,yn),yn,Zn)}}class am extends gf{constructor(f,E,P,x,F){super(),this.location=P,this._rootLView=x,this._tNode=F,this.instance=E,this.hostView=this.changeDetectorRef=new f0(x),this.componentType=f}setInput(f,E){const P=this._tNode.inputs;let x;if(null!==P&&(x=P[f])){const F=this._rootLView;ap(F[Sn],F,x,f,E),Wd(Si(this._tNode.index,F))}}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(f){this.hostView.onDestroy(f)}}function lm(){const u=Jr();As(xt()[Sn],u)}function cm(u){return Object.getPrototypeOf(u.prototype).constructor}function lp(u){let f=cm(u.type),E=!0;const P=[u];for(;f;){let x;if(ei(u))x=f.\u0275cmp||f.\u0275dir;else{if(f.\u0275cmp)throw new o(903,!1);x=f.\u0275dir}if(x){if(E){P.push(x);const te=u;te.inputs=cp(u.inputs),te.declaredInputs=cp(u.declaredInputs),te.outputs=cp(u.outputs);const pe=x.hostBindings;pe&&b0(u,pe);const Ce=x.viewQuery,Ue=x.contentQueries;if(Ce&&M0(u,Ce),Ue&&S0(u,Ue),l(u.inputs,x.inputs),l(u.declaredInputs,x.declaredInputs),l(u.outputs,x.outputs),ei(x)&&x.data.animation){const nt=u.data;nt.animation=(nt.animation||[]).concat(x.data.animation)}}const F=x.features;if(F)for(let te=0;te<F.length;te++){const pe=F[te];pe&&pe.ngInherit&&pe(u),pe===lp&&(E=!1)}}f=Object.getPrototypeOf(f)}!function O0(u){let f=0,E=null;for(let P=u.length-1;P>=0;P--){const x=u[P];x.hostVars=f+=x.hostVars,x.hostAttrs=xr(x.hostAttrs,E=xr(E,x.hostAttrs))}}(P)}function cp(u){return u===dn?{}:u===fn?[]:u}function M0(u,f){const E=u.viewQuery;u.viewQuery=E?(P,x)=>{f(P,x),E(P,x)}:f}function S0(u,f){const E=u.contentQueries;u.contentQueries=E?(P,x,F)=>{f(P,x,F),E(P,x,F)}:f}function b0(u,f){const E=u.hostBindings;u.hostBindings=E?(P,x)=>{f(P,x),E(P,x)}:f}const P0=["providersResolver"],I0=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function dm(u){let E,f=cm(u.type);E=ei(u)?f.\u0275cmp:f.\u0275dir;const P=u;for(const x of P0)P[x]=E[x];if(ei(E))for(const x of I0)P[x]=E[x]}function um(u){return f=>{f.findHostDirectiveDefs=pm,f.hostDirectives=(Array.isArray(u)?u:u()).map(E=>"function"==typeof E?{directive:v(E),inputs:dn,outputs:dn}:{directive:v(E.directive),inputs:hm(E.inputs),outputs:hm(E.outputs)})}}function pm(u,f,E){if(null!==u.hostDirectives)for(const P of u.hostDirectives){const x=In(P.directive);T0(x.declaredInputs,P.inputs),pm(x,f,E),E.set(x,P),f.push(x)}}function hm(u){if(void 0===u||0===u.length)return dn;const f={};for(let E=0;E<u.length;E+=2)f[u[E]]=u[E+1];return f}function T0(u,f){for(const E in f)f.hasOwnProperty(E)&&(u[f[E]]=u[E])}function kd(u){return!!dp(u)&&(Array.isArray(u)||!(u instanceof Map)&&Symbol.iterator in u)}function dp(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function mm(u,f){const E=kd(u),P=kd(f);return E&&P?function A0(u,f,E){const P=u[Symbol.iterator](),x=f[Symbol.iterator]();for(;;){const F=P.next(),te=x.next();if(F.done&&te.done)return!0;if(F.done||te.done||!E(F.value,te.value))return!1}}(u,f,mm):!(E||!u||"object"!=typeof u&&"function"!=typeof u||P||!f||"object"!=typeof f&&"function"!=typeof f)||Object.is(u,f)}function ol(u,f,E){return u[f]=E}function id(u,f){return u[f]}function ua(u,f,E){return!Object.is(u[f],E)&&(u[f]=E,!0)}function Fl(u,f,E,P){const x=ua(u,f,E);return ua(u,f+1,P)||x}function $d(u,f,E,P,x){const F=Fl(u,f,E,P);return ua(u,f+2,x)||F}function ja(u,f,E,P,x,F){const te=Fl(u,f,E,P);return Fl(u,f+2,x,F)||te}function up(u,f,E,P){const x=xt();return ua(x,gs(),f)&&(Un(),il(ri(),x,u,f,E,P)),up}function hc(u,f){let E=!1,P=Qi();for(let F=1;F<f.length;F+=2)E=ua(u,P++,f[F])||E;if(oo(P),!E)return kr;let x=f[0];for(let F=1;F<f.length;F+=2)x+=M(f[F])+f[F+1];return x}function fc(u,f,E,P){return ua(u,gs(),E)?f+M(E)+P:kr}function mc(u,f,E,P,x,F){const pe=Fl(u,Qi(),E,x);return Li(2),pe?f+M(E)+P+M(x)+F:kr}function _c(u,f,E,P,x,F,te,pe){const Ue=$d(u,Qi(),E,x,te);return Li(3),Ue?f+M(E)+P+M(x)+F+M(te)+pe:kr}function gc(u,f,E,P,x,F,te,pe,Ce,Ue){const Ct=ja(u,Qi(),E,x,te,Ce);return Li(4),Ct?f+M(E)+P+M(x)+F+M(te)+pe+M(Ce)+Ue:kr}function vc(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct){const Vt=Qi();let nn=ja(u,Vt,E,x,te,Ce);return nn=ua(u,Vt+4,nt)||nn,Li(5),nn?f+M(E)+P+M(x)+F+M(te)+pe+M(Ce)+Ue+M(nt)+Ct:kr}function Ec(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn){const yn=Qi();let jn=ja(u,yn,E,x,te,Ce);return jn=Fl(u,yn+4,nt,Vt)||jn,Li(6),jn?f+M(E)+P+M(x)+F+M(te)+pe+M(Ce)+Ue+M(nt)+Ct+M(Vt)+nn:kr}function yc(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn){const Zn=Qi();let ar=ja(u,Zn,E,x,te,Ce);return ar=$d(u,Zn+4,nt,Vt,yn)||ar,Li(7),ar?f+M(E)+P+M(x)+F+M(te)+pe+M(Ce)+Ue+M(nt)+Ct+M(Vt)+nn+M(yn)+jn:kr}function Cc(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar){const Fr=Qi();let Rn=ja(u,Fr,E,x,te,Ce);return Rn=ja(u,Fr+4,nt,Vt,yn,Zn)||Rn,Li(8),Rn?f+M(E)+P+M(x)+F+M(te)+pe+M(Ce)+Ue+M(nt)+Ct+M(Vt)+nn+M(yn)+jn+M(Zn)+ar:kr}function pp(u,f,E,P,x,F){const te=xt(),pe=fc(te,f,E,P);return pe!==kr&&il(ri(),te,u,pe,x,F),pp}function hp(u,f,E,P,x,F,te,pe){const Ce=xt(),Ue=mc(Ce,f,E,P,x,F);return Ue!==kr&&il(ri(),Ce,u,Ue,te,pe),hp}function fp(u,f,E,P,x,F,te,pe,Ce,Ue){const nt=xt(),Ct=_c(nt,f,E,P,x,F,te,pe);return Ct!==kr&&il(ri(),nt,u,Ct,Ce,Ue),fp}function mp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct){const Vt=xt(),nn=gc(Vt,f,E,P,x,F,te,pe,Ce,Ue);return nn!==kr&&il(ri(),Vt,u,nn,nt,Ct),mp}function _p(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn){const yn=xt(),jn=vc(yn,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct);return jn!==kr&&il(ri(),yn,u,jn,Vt,nn),_p}function gp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn){const Zn=xt(),ar=Ec(Zn,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn);return ar!==kr&&il(ri(),Zn,u,ar,yn,jn),gp}function vp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar){const Fr=xt(),Rn=yc(Fr,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn);return Rn!==kr&&il(ri(),Fr,u,Rn,Zn,ar),vp}function Ep(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar,Fr,Rn){const $r=xt(),Ho=Cc($r,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar);return Ho!==kr&&il(ri(),$r,u,Ho,Fr,Rn),Ep}function yp(u,f,E,P){const x=xt(),F=hc(x,f);return F!==kr&&il(ri(),x,u,F,E,P),yp}function _m(u){const f=ae(u);Kd(f[Sn],f,u)}function gm(u,f,E,P,x,F,te,pe){const Ce=xt(),Ue=Un(),nt=u+_n,Ct=Ue.firstCreatePass?function x0(u,f,E,P,x,F,te,pe,Ce){const Ue=f.consts,nt=dc(f,u,4,te||null,Io(Ue,pe));tp(f,E,nt,Io(Ue,Ce)),As(f,nt);const Ct=nt.tView=ep(2,nt,P,x,F,f.directiveRegistry,f.pipeRegistry,null,f.schemas,Ue);return null!==f.queries&&(f.queries.template(f,nt),Ct.queries=f.queries.embeddedTView(nt)),nt}(nt,Ue,Ce,f,E,P,x,F,te):Ue.data[nt];Vi(Ct,!1);const Vt=Ce[kn].createComment("");tl(Ue,Ce,Vt,Ct),k(Vt,Ce),jd(Ce,Ce[nt]=em(Vt,Ce,Vt,Ct)),Ki(Ct)&&Ju(Ue,Ce,Ct),null!=te&&qu(Ce,Ct,pe)}function vm(u,f,E,P){E>=u.data.length&&(u.data[E]=null,u.blueprint[E]=null),f[E]=P}function Em(u){return vo(function Ks(){return dr.lFrame.contextLView}(),_n+u)}function Cp(u,f,E){const P=xt();return ua(P,gs(),f)&&Ua(Un(),ri(),P,u,f,P[kn],E,!1),Cp}function Dp(u,f,E,P,x){const te=x?"class":"style";ap(u,E,f.inputs[te],te,P)}function zd(u,f,E,P){const x=xt(),F=Un(),te=_n+u,pe=x[kn],Ce=F.firstCreatePass?function L0(u,f,E,P,x,F){const te=f.consts,Ce=dc(f,u,2,P,Io(te,x));return tp(f,E,Ce,Io(te,F)),null!==Ce.attrs&&Vd(Ce,Ce.attrs,!1),null!==Ce.mergedAttrs&&Vd(Ce,Ce.mergedAttrs,!0),null!==f.queries&&f.queries.elementStart(f,Ce),Ce}(te,F,x,f,E,P):F.data[te],Ue=x[te]=Rl(pe,f,function fa(){return dr.lFrame.currentNamespace}()),nt=Ki(Ce);return Vi(Ce,!0),Ad(pe,Ue,Ce),32!=(32&Ce.flags)&&tl(F,x,Ue,Ce),0===function he(){return dr.lFrame.elementDepthCount}()&&k(Ue,x),function V(){dr.lFrame.elementDepthCount++}(),nt&&(Ju(F,x,Ce),Zu(F,Ce,x)),null!==P&&qu(x,Ce),zd}function Gd(){let u=Jr();ra()?cs():(u=u.parent,Vi(u,!1));const f=u;!function De(){dr.lFrame.elementDepthCount--}();const E=Un();return E.firstCreatePass&&(As(E,u),So(u)&&E.queries.elementEnd(u)),null!=f.classesWithoutHost&&function wr(u){return 0!=(8&u.flags)}(f)&&Dp(E,f,xt(),f.classesWithoutHost,!0),null!=f.stylesWithoutHost&&function ir(u){return 0!=(16&u.flags)}(f)&&Dp(E,f,xt(),f.stylesWithoutHost,!1),Gd}function Op(u,f,E,P){return zd(u,f,E,P),Gd(),Op}function Yd(u,f,E){const P=xt(),x=Un(),F=u+_n,te=x.firstCreatePass?function B0(u,f,E,P,x){const F=f.consts,te=Io(F,P),pe=dc(f,u,8,"ng-container",te);return null!==te&&Vd(pe,te,!0),tp(f,E,pe,Io(F,x)),null!==f.queries&&f.queries.elementStart(f,pe),pe}(F,x,P,f,E):x.data[F];Vi(te,!0);const pe=P[F]=P[kn].createComment("");return tl(x,P,pe,te),k(pe,P),Ki(te)&&(Ju(x,P,te),Zu(x,te,P)),null!=E&&qu(P,te),Yd}function Qd(){let u=Jr();const f=Un();return ra()?cs():(u=u.parent,Vi(u,!1)),f.firstCreatePass&&(As(f,u),So(u)&&f.queries.elementEnd(u)),Qd}function Mp(u,f,E){return Yd(u,f,E),Qd(),Mp}function ym(){return xt()}function Sp(u){return!!u&&"function"==typeof u.then}function Cm(u){return!!u&&"function"==typeof u.subscribe}const Dm=Cm;function bp(u,f,E,P){const x=xt(),F=Un(),te=Jr();return Om(F,x,x[kn],te,u,f,P),bp}function Pp(u,f){const E=Jr(),P=xt(),x=Un();return Om(x,P,rm(Gn(x.data),E,P),E,u,f),Pp}function Om(u,f,E,P,x,F,te){const pe=Ki(P),Ue=u.firstCreatePass&&nm(u),nt=f[Nr],Ct=tm(f);let Vt=!0;if(3&P.type||te){const jn=Gr(P,f),Zn=te?te(jn):jn,ar=Ct.length,Fr=te?$r=>te(Ei($r[P.index])):P.index;let Rn=null;if(!te&&pe&&(Rn=function U0(u,f,E,P){const x=u.cleanup;if(null!=x)for(let F=0;F<x.length-1;F+=2){const te=x[F];if(te===E&&x[F+1]===P){const pe=f[Oi],Ce=x[F+2];return pe.length>Ce?pe[Ce]:null}"string"==typeof te&&(F+=2)}return null}(u,f,x,P.index)),null!==Rn)(Rn.__ngLastListenerFn__||Rn).__ngNextListenerFn__=F,Rn.__ngLastListenerFn__=F,Vt=!1;else{F=Sm(P,f,nt,F,!1);const $r=E.listen(Zn,x,F);Ct.push(F,$r),Ue&&Ue.push(x,Fr,ar,ar+1)}}else F=Sm(P,f,nt,F,!1);const nn=P.outputs;let yn;if(Vt&&null!==nn&&(yn=nn[x])){const jn=yn.length;if(jn)for(let Zn=0;Zn<jn;Zn+=2){const Ho=f[yn[Zn]][yn[Zn+1]].subscribe(F),Ps=Ct.length;Ct.push(F,Ho),Ue&&Ue.push(x,P.index,Ps,-(Ps+1))}}}function Mm(u,f,E,P){try{return di(6,f,E),!1!==E(P)}catch(x){return im(u,x),!1}finally{di(7,f,E)}}function Sm(u,f,E,P,x){return function F(te){if(te===Function)return P;Wd(u.componentOffset>-1?Si(u.index,f):f);let Ce=Mm(f,E,P,te),Ue=F.__ngNextListenerFn__;for(;Ue;)Ce=Mm(f,E,Ue,te)&&Ce,Ue=Ue.__ngNextListenerFn__;return x&&!1===Ce&&(te.preventDefault(),te.returnValue=!1),Ce}}function bm(u=1){return function Xi(u){return(dr.lFrame.contextLView=function Xs(u,f){for(;u>0;)f=f[Wi],u--;return f}(u,dr.lFrame.contextLView))[Nr]}(u)}function w0(u,f){let E=null;const P=function dE(u){const f=u.attrs;if(null!=f){const E=f.indexOf(5);if(!(1&E))return f[E+1]}return null}(u);for(let x=0;x<f.length;x++){const F=f[x];if("*"!==F){if(null===P?Af(u,F,!0):hE(P,F))return x}else E=x}return E}function Pm(u){const f=xt()[qr][br];if(!f.projection){const P=f.projection=Lt(u?u.length:1,null),x=P.slice();let F=f.child;for(;null!==F;){const te=u?w0(F,u):0;null!==te&&(x[te]?x[te].projectionNext=F:P[te]=F,x[te]=F),F=F.next}}}function Im(u,f=0,E){const P=xt(),x=Un(),F=dc(x,_n+u,16,null,E||null);null===F.projection&&(F.projection=f),cs(),32!=(32&F.flags)&&function Su(u,f,E){Pd(f[kn],0,f,E,Dd(u,E,f),Sd(E.parent||f[br],E,f))}(x,P,F)}function Ip(u,f,E){return Xd(u,"",f,"",E),Ip}function Xd(u,f,E,P,x){const F=xt(),te=fc(F,f,E,P);return te!==kr&&Ua(Un(),ri(),F,u,te,F[kn],x,!1),Xd}function Tp(u,f,E,P,x,F,te){const pe=xt(),Ce=mc(pe,f,E,P,x,F);return Ce!==kr&&Ua(Un(),ri(),pe,u,Ce,pe[kn],te,!1),Tp}function Ap(u,f,E,P,x,F,te,pe,Ce){const Ue=xt(),nt=_c(Ue,f,E,P,x,F,te,pe);return nt!==kr&&Ua(Un(),ri(),Ue,u,nt,Ue[kn],Ce,!1),Ap}function Rp(u,f,E,P,x,F,te,pe,Ce,Ue,nt){const Ct=xt(),Vt=gc(Ct,f,E,P,x,F,te,pe,Ce,Ue);return Vt!==kr&&Ua(Un(),ri(),Ct,u,Vt,Ct[kn],nt,!1),Rp}function xp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt){const nn=xt(),yn=vc(nn,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct);return yn!==kr&&Ua(Un(),ri(),nn,u,yn,nn[kn],Vt,!1),xp}function Lp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn){const jn=xt(),Zn=Ec(jn,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn);return Zn!==kr&&Ua(Un(),ri(),jn,u,Zn,jn[kn],yn,!1),Lp}function Bp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn){const ar=xt(),Fr=yc(ar,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn);return Fr!==kr&&Ua(Un(),ri(),ar,u,Fr,ar[kn],Zn,!1),Bp}function Up(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar,Fr){const Rn=xt(),$r=Cc(Rn,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar);return $r!==kr&&Ua(Un(),ri(),Rn,u,$r,Rn[kn],Fr,!1),Up}function wp(u,f,E){const P=xt(),x=hc(P,f);return x!==kr&&Ua(Un(),ri(),P,u,x,P[kn],E,!1),wp}function Zd(u,f){return u<<17|f<<2}function Dl(u){return u>>17&32767}function Fp(u){return 2|u}function Nl(u){return(131068&u)>>2}function Np(u,f){return-131069&u|f<<2}function jp(u){return 1|u}function Tm(u,f,E,P,x){const F=u[E+1],te=null===f;let pe=P?Dl(F):Nl(F),Ce=!1;for(;0!==pe&&(!1===Ce||te);){const nt=u[pe+1];V0(u[pe],f)&&(Ce=!0,u[pe+1]=P?jp(nt):Fp(nt)),pe=P?Dl(nt):Nl(nt)}Ce&&(u[E+1]=P?Fp(F):jp(F))}function V0(u,f){return null===u||null==f||(Array.isArray(u)?u[1]:u)===f||!(!Array.isArray(u)||"string"!=typeof f)&&qi(u,f)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Am(u){return u.substring(js.key,js.keyEnd)}function H0(u){return u.substring(js.value,js.valueEnd)}function Rm(u,f){const E=js.textEnd;return E===f?-1:(f=js.keyEnd=function z0(u,f,E){for(;f<E&&u.charCodeAt(f)>32;)f++;return f}(u,js.key=f,E),Dc(u,f,E))}function xm(u,f){const E=js.textEnd;let P=js.key=Dc(u,f,E);return E===P?-1:(P=js.keyEnd=function G0(u,f,E){let P;for(;f<E&&(45===(P=u.charCodeAt(f))||95===P||(-33&P)>=65&&(-33&P)<=90||P>=48&&P<=57);)f++;return f}(u,P,E),P=Bm(u,P,E),P=js.value=Dc(u,P,E),P=js.valueEnd=function Y0(u,f,E){let P=-1,x=-1,F=-1,te=f,pe=te;for(;te<E;){const Ce=u.charCodeAt(te++);if(59===Ce)return pe;34===Ce||39===Ce?pe=te=Um(u,Ce,te,E):f===te-4&&85===F&&82===x&&76===P&&40===Ce?pe=te=Um(u,41,te,E):Ce>32&&(pe=te),F=x,x=P,P=-33&Ce}return pe}(u,P,E),Bm(u,P,E))}function Lm(u){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=u.length}function Dc(u,f,E){for(;f<E&&u.charCodeAt(f)<=32;)f++;return f}function Bm(u,f,E,P){return(f=Dc(u,f,E))<E&&f++,f}function Um(u,f,E,P){let x=-1,F=E;for(;F<P;){const te=u.charCodeAt(F++);if(te==f&&92!==x)return F;x=92==te&&92===x?0:te}throw new Error}function Wp(u,f,E){return Za(u,f,E,!1),Wp}function Kp(u,f){return Za(u,f,null,!0),Kp}function Xa(u){Ja(jm,Q0,u,!1)}function Q0(u,f){for(let E=function $0(u){return Lm(u),xm(u,Dc(u,0,js.textEnd))}(f);E>=0;E=xm(f,E))jm(u,Am(f),H0(f))}function wm(u){Ja(ty,sl,u,!0)}function sl(u,f){for(let E=function k0(u){return Lm(u),Rm(u,Dc(u,0,js.textEnd))}(f);E>=0;E=Rm(f,E))or(u,Am(f),!0)}function Za(u,f,E,P){const x=xt(),F=Un(),te=Li(2);F.firstUpdatePass&&Nm(F,u,te,P),f!==kr&&ua(x,te,f)&&Wm(F,F.data[fi()],x,x[kn],u,x[te+1]=function ry(u,f){return null==u||""===u||("string"==typeof f?u+=f:"object"==typeof u&&(u=p(lr(u)))),u}(f,E),P,te)}function Ja(u,f,E,P){const x=Un(),F=Li(2);x.firstUpdatePass&&Nm(x,null,F,P);const te=xt();if(E!==kr&&ua(te,F,E)){const pe=x.data[fi()];if(Vm(pe,P)&&!Fm(x,F)){let Ce=P?pe.classesWithoutHost:pe.stylesWithoutHost;null!==Ce&&(E=h(Ce,E||"")),Dp(x,pe,te,E,P)}else!function ny(u,f,E,P,x,F,te,pe){x===kr&&(x=fn);let Ce=0,Ue=0,nt=0<x.length?x[0]:null,Ct=0<F.length?F[0]:null;for(;null!==nt||null!==Ct;){const Vt=Ce<x.length?x[Ce+1]:void 0,nn=Ue<F.length?F[Ue+1]:void 0;let jn,yn=null;nt===Ct?(Ce+=2,Ue+=2,Vt!==nn&&(yn=Ct,jn=nn)):null===Ct||null!==nt&&nt<Ct?(Ce+=2,yn=nt):(Ue+=2,yn=Ct,jn=nn),null!==yn&&Wm(u,f,E,P,yn,jn,te,pe),nt=Ce<x.length?x[Ce]:null,Ct=Ue<F.length?F[Ue]:null}}(x,pe,te,te[kn],te[F+1],te[F+1]=function ey(u,f,E){if(null==E||""===E)return fn;const P=[],x=lr(E);if(Array.isArray(x))for(let F=0;F<x.length;F++)u(P,x[F],!0);else if("object"==typeof x)for(const F in x)x.hasOwnProperty(F)&&u(P,F,x[F]);else"string"==typeof x&&f(P,x);return P}(u,f,E),P,F)}}function Fm(u,f){return f>=u.expandoStartIndex}function Nm(u,f,E,P){const x=u.data;if(null===x[E+1]){const F=x[fi()],te=Fm(u,E);Vm(F,P)&&null===f&&!te&&(f=!1),f=function X0(u,f,E,P){const x=Gn(u);let F=P?f.residualClasses:f.residualStyles;if(null===x)0===(P?f.classBindings:f.styleBindings)&&(E=od(E=Vp(null,u,f,E,P),f.attrs,P),F=null);else{const te=f.directiveStylingLast;if(-1===te||u[te]!==x)if(E=Vp(x,u,f,E,P),null===F){let Ce=function Z0(u,f,E){const P=E?f.classBindings:f.styleBindings;if(0!==Nl(P))return u[Dl(P)]}(u,f,P);void 0!==Ce&&Array.isArray(Ce)&&(Ce=Vp(null,u,f,Ce[1],P),Ce=od(Ce,f.attrs,P),function J0(u,f,E,P){u[Dl(E?f.classBindings:f.styleBindings)]=P}(u,f,P,Ce))}else F=function q0(u,f,E){let P;const x=f.directiveEnd;for(let F=1+f.directiveStylingLast;F<x;F++)P=od(P,u[F].hostAttrs,E);return od(P,f.attrs,E)}(u,f,P)}return void 0!==F&&(P?f.residualClasses=F:f.residualStyles=F),E}(x,F,f,P),function W0(u,f,E,P,x,F){let te=F?f.classBindings:f.styleBindings,pe=Dl(te),Ce=Nl(te);u[P]=E;let nt,Ue=!1;if(Array.isArray(E)?(nt=E[1],(null===nt||qi(E,nt)>0)&&(Ue=!0)):nt=E,x)if(0!==Ce){const Vt=Dl(u[pe+1]);u[P+1]=Zd(Vt,pe),0!==Vt&&(u[Vt+1]=Np(u[Vt+1],P)),u[pe+1]=function N0(u,f){return 131071&u|f<<17}(u[pe+1],P)}else u[P+1]=Zd(pe,0),0!==pe&&(u[pe+1]=Np(u[pe+1],P)),pe=P;else u[P+1]=Zd(Ce,0),0===pe?pe=P:u[Ce+1]=Np(u[Ce+1],P),Ce=P;Ue&&(u[P+1]=Fp(u[P+1])),Tm(u,nt,P,!0),Tm(u,nt,P,!1),function K0(u,f,E,P,x){const F=x?u.residualClasses:u.residualStyles;null!=F&&"string"==typeof f&&qi(F,f)>=0&&(E[P+1]=jp(E[P+1]))}(f,nt,u,P,F),te=Zd(pe,Ce),F?f.classBindings=te:f.styleBindings=te}(x,F,f,E,te,P)}}function Vp(u,f,E,P,x){let F=null;const te=E.directiveEnd;let pe=E.directiveStylingLast;for(-1===pe?pe=E.directiveStart:pe++;pe<te&&(F=f[pe],P=od(P,F.hostAttrs,x),F!==u);)pe++;return null!==u&&(E.directiveStylingLast=pe),P}function od(u,f,E){const P=E?1:2;let x=-1;if(null!==f)for(let F=0;F<f.length;F++){const te=f[F];"number"==typeof te?x=te:x===P&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),or(u,te,!!E||f[++F]))}return void 0===u?null:u}function jm(u,f,E){or(u,f,lr(E))}function ty(u,f,E){const P=String(f);""!==P&&!P.includes(" ")&&or(u,P,E)}function Wm(u,f,E,P,x,F,te,pe){if(!(3&f.type))return;const Ce=u.data,Ue=Ce[pe+1],nt=function j0(u){return 1==(1&u)}(Ue)?Km(Ce,f,E,x,Nl(Ue),te):void 0;Jd(nt)||(Jd(F)||function F0(u){return 2==(2&u)}(Ue)&&(F=Km(Ce,null,E,x,pe,te)),function Pu(u,f,E,P,x){if(f)x?u.addClass(E,P):u.removeClass(E,P);else{let F=-1===P.indexOf("-")?void 0:da.DashCase;null==x?u.removeStyle(E,P,F):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),F|=da.Important),u.setStyle(E,P,x,F))}}(P,te,Yi(fi(),E),x,F))}function Km(u,f,E,P,x,F){const te=null===f;let pe;for(;x>0;){const Ce=u[x],Ue=Array.isArray(Ce),nt=Ue?Ce[1]:Ce,Ct=null===nt;let Vt=E[x+1];Vt===kr&&(Vt=Ct?fn:void 0);let nn=Ct?Ko(Vt,P):nt===P?Vt:void 0;if(Ue&&!Jd(nn)&&(nn=Ko(Ce,P)),Jd(nn)&&(pe=nn,te))return pe;const yn=u[x+1];x=te?Dl(yn):Nl(yn)}if(null!==f){let Ce=F?f.residualClasses:f.residualStyles;null!=Ce&&(pe=Ko(Ce,P))}return pe}function Jd(u){return void 0!==u}function Vm(u,f){return 0!=(u.flags&(f?8:16))}function Hm(u,f=""){const E=xt(),P=Un(),x=u+_n,F=P.firstCreatePass?dc(P,x,1,f,null):P.data[x],te=E[x]=wc(E[kn],f);tl(P,E,te,F),Vi(F,!1)}function Hp(u){return qd("",u,""),Hp}function qd(u,f,E){const P=xt(),x=fc(P,u,f,E);return x!==kr&&hl(P,fi(),x),qd}function kp(u,f,E,P,x){const F=xt(),te=mc(F,u,f,E,P,x);return te!==kr&&hl(F,fi(),te),kp}function $p(u,f,E,P,x,F,te){const pe=xt(),Ce=_c(pe,u,f,E,P,x,F,te);return Ce!==kr&&hl(pe,fi(),Ce),$p}function zp(u,f,E,P,x,F,te,pe,Ce){const Ue=xt(),nt=gc(Ue,u,f,E,P,x,F,te,pe,Ce);return nt!==kr&&hl(Ue,fi(),nt),zp}function Gp(u,f,E,P,x,F,te,pe,Ce,Ue,nt){const Ct=xt(),Vt=vc(Ct,u,f,E,P,x,F,te,pe,Ce,Ue,nt);return Vt!==kr&&hl(Ct,fi(),Vt),Gp}function Yp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt){const nn=xt(),yn=Ec(nn,u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt);return yn!==kr&&hl(nn,fi(),yn),Yp}function Qp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn){const jn=xt(),Zn=yc(jn,u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn);return Zn!==kr&&hl(jn,fi(),Zn),Qp}function Xp(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn){const ar=xt(),Fr=Cc(ar,u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn);return Fr!==kr&&hl(ar,fi(),Fr),Xp}function Zp(u){const f=xt(),E=hc(f,u);return E!==kr&&hl(f,fi(),E),Zp}function km(u,f,E){Ja(or,sl,fc(xt(),u,f,E),!0)}function $m(u,f,E,P,x){Ja(or,sl,mc(xt(),u,f,E,P,x),!0)}function zm(u,f,E,P,x,F,te){Ja(or,sl,_c(xt(),u,f,E,P,x,F,te),!0)}function Gm(u,f,E,P,x,F,te,pe,Ce){Ja(or,sl,gc(xt(),u,f,E,P,x,F,te,pe,Ce),!0)}function Ym(u,f,E,P,x,F,te,pe,Ce,Ue,nt){Ja(or,sl,vc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt),!0)}function Qm(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt){Ja(or,sl,Ec(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt),!0)}function Xm(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn){Ja(or,sl,yc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn),!0)}function Zm(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn){Ja(or,sl,Cc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn),!0)}function Jm(u){Ja(or,sl,hc(xt(),u),!0)}function qm(u,f,E){Xa(fc(xt(),u,f,E))}function e_(u,f,E,P,x){Xa(mc(xt(),u,f,E,P,x))}function t_(u,f,E,P,x,F,te){Xa(_c(xt(),u,f,E,P,x,F,te))}function n_(u,f,E,P,x,F,te,pe,Ce){Xa(gc(xt(),u,f,E,P,x,F,te,pe,Ce))}function r_(u,f,E,P,x,F,te,pe,Ce,Ue,nt){Xa(vc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt))}function i_(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt){Xa(Ec(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt))}function o_(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn){Xa(yc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn))}function s_(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn){Xa(Cc(xt(),u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn))}function a_(u){Xa(hc(xt(),u))}function Jp(u,f,E,P,x){return Za(u,fc(xt(),f,E,P),x,!1),Jp}function qp(u,f,E,P,x,F,te){return Za(u,mc(xt(),f,E,P,x,F),te,!1),qp}function eh(u,f,E,P,x,F,te,pe,Ce){return Za(u,_c(xt(),f,E,P,x,F,te,pe),Ce,!1),eh}function th(u,f,E,P,x,F,te,pe,Ce,Ue,nt){return Za(u,gc(xt(),f,E,P,x,F,te,pe,Ce,Ue),nt,!1),th}function nh(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt){return Za(u,vc(xt(),f,E,P,x,F,te,pe,Ce,Ue,nt,Ct),Vt,!1),nh}function rh(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn){return Za(u,Ec(xt(),f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn),yn,!1),rh}function ih(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn){return Za(u,yc(xt(),f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn),Zn,!1),ih}function oh(u,f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar,Fr){return Za(u,Cc(xt(),f,E,P,x,F,te,pe,Ce,Ue,nt,Ct,Vt,nn,yn,jn,Zn,ar),Fr,!1),oh}function sh(u,f,E){return Za(u,hc(xt(),f),E,!1),sh}function ah(u,f,E){const P=xt();return ua(P,gs(),f)&&Ua(Un(),ri(),P,u,f,P[kn],E,!0),ah}function lh(u,f,E){const P=xt();if(ua(P,gs(),f)){const F=Un(),te=ri();Ua(F,te,P,u,f,rm(Gn(F.data),te,P),E,!0)}return lh}const jl=void 0;var oy=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iy(u){const E=Math.floor(Math.abs(u)),P=u.toString().replace(/^[^.]*\.?/,"").length;return 1===E&&0===P?1:5}];let Oc={};function sy(u,f,E){"string"!=typeof f&&(E=f,f=u[Lr.LocaleId]),f=f.toLowerCase().replace(/_/g,"-"),Oc[f]=u,E&&(Oc[f][Lr.ExtraData]=E)}function ch(u){const f=function cy(u){return u.toLowerCase().replace(/_/g,"-")}(u);let E=c_(f);if(E)return E;const P=f.split("-")[0];if(E=c_(P),E)return E;if("en"===P)return oy;throw new o(701,!1)}function ay(u){return ch(u)[Lr.CurrencyCode]||null}function l_(u){return ch(u)[Lr.PluralCase]}function c_(u){return u in Oc||(Oc[u]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[u]),Oc[u]}function ly(){Oc={}}var Lr=(()=>((Lr=Lr||{})[Lr.LocaleId=0]="LocaleId",Lr[Lr.DayPeriodsFormat=1]="DayPeriodsFormat",Lr[Lr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lr[Lr.DaysFormat=3]="DaysFormat",Lr[Lr.DaysStandalone=4]="DaysStandalone",Lr[Lr.MonthsFormat=5]="MonthsFormat",Lr[Lr.MonthsStandalone=6]="MonthsStandalone",Lr[Lr.Eras=7]="Eras",Lr[Lr.FirstDayOfWeek=8]="FirstDayOfWeek",Lr[Lr.WeekendRange=9]="WeekendRange",Lr[Lr.DateFormat=10]="DateFormat",Lr[Lr.TimeFormat=11]="TimeFormat",Lr[Lr.DateTimeFormat=12]="DateTimeFormat",Lr[Lr.NumberSymbols=13]="NumberSymbols",Lr[Lr.NumberFormats=14]="NumberFormats",Lr[Lr.CurrencyCode=15]="CurrencyCode",Lr[Lr.CurrencySymbol=16]="CurrencySymbol",Lr[Lr.CurrencyName=17]="CurrencyName",Lr[Lr.Currencies=18]="Currencies",Lr[Lr.Directionality=19]="Directionality",Lr[Lr.PluralCase=20]="PluralCase",Lr[Lr.ExtraData=21]="ExtraData",Lr))();const dy=["zero","one","two","few","many"],Wl="en-US",eu={marker:"element"},tu={marker:"ICU"};var fs=(()=>((fs=fs||{})[fs.SHIFT=2]="SHIFT",fs[fs.APPEND_EAGERLY=1]="APPEND_EAGERLY",fs[fs.COMMENT=2]="COMMENT",fs))();let d_=Wl;function dh(u){(function ee(u,f){null==u&&J(f,u,null,"!=")})(u,"Expected localeId to be defined"),"string"==typeof u&&(d_=u.toLowerCase().replace(/_/g,"-"))}function u_(u,f,E){const P=f.insertBeforeIndex,x=Array.isArray(P)?P[0]:P;return null===x?Hc(u,0,E):Ei(E[x])}function p_(u,f,E,P,x){const F=f.insertBeforeIndex;if(Array.isArray(F)){let te=P,pe=null;if(3&f.type||(pe=te,te=x),null!==te&&-1===f.componentOffset)for(let Ce=1;Ce<F.length;Ce++)Ha(u,te,E[F[Ce]],pe,!1)}}function h_(u,f){if(u.push(f),u.length>1)for(let E=u.length-2;E>=0;E--){const P=u[E];f_(P)||fy(P,f)&&null===my(P)&&_y(P,f.index)}}function f_(u){return!(64&u.type)}function fy(u,f){return f_(f)||u.index>f.index}function my(u){const f=u.insertBeforeIndex;return Array.isArray(f)?f[0]:f}function _y(u,f){const E=u.insertBeforeIndex;Array.isArray(E)?E[0]=f:(tc(u_,p_),u.insertBeforeIndex=f)}function sd(u,f){const E=u.data[f];return null===E||"string"==typeof E?null:E.hasOwnProperty("currentCaseLViewIndex")?E:E.value}function Ey(u,f,E){const P=Qu(u,E,64,null,null);return h_(f,P),P}function nu(u,f){const E=f[u.currentCaseLViewIndex];return null===E?E:E<0?~E:E}function m_(u){return u>>>17}function __(u){return(131070&u)>>>1}let ad=0,ld=0;function v_(u,f,E,P){const x=E[kn];let te,F=null;for(let pe=0;pe<f.length;pe++){const Ce=f[pe];if("string"==typeof Ce){const Ue=f[++pe];null===E[Ue]&&(E[Ue]=wc(x,Ce))}else if("number"==typeof Ce)switch(1&Ce){case 0:const Ue=m_(Ce);let nt,Ct;if(null===F&&(F=Ue,te=ql(x,P)),Ue===F?(nt=P,Ct=te):(nt=null,Ct=Ei(E[Ue])),null!==Ct){const jn=__(Ce);Ha(x,Ct,E[jn],nt,!1);const ar=sd(u,jn);if(null!==ar&&"object"==typeof ar){const Fr=nu(ar,E);null!==Fr&&v_(u,ar.create[Fr],E,E[ar.anchorIdx])}}break;case 1:const nn=f[++pe],yn=f[++pe];rp(x,Yi(Ce>>>1,E),null,null,nn,yn,null)}else switch(Ce){case tu:const Ue=f[++pe],nt=f[++pe];null===E[nt]&&k(E[nt]=Eu(x,Ue),E);break;case eu:const Ct=f[++pe],Vt=f[++pe];null===E[Vt]&&k(E[Vt]=Rl(x,Ct,null),E)}}}function E_(u,f,E,P,x){for(let F=0;F<E.length;F++){const te=E[F],pe=E[++F];if(te&x){let Ce="";for(let Ue=F+1;Ue<=F+pe;Ue++){const nt=E[Ue];if("string"==typeof nt)Ce+=nt;else if("number"==typeof nt)if(nt<0)Ce+=M(f[P-nt]);else{const Ct=nt>>>2;switch(3&nt){case 1:const Vt=E[++Ue],nn=E[++Ue],yn=u.data[Ct];"string"==typeof yn?rp(f[kn],f[Ct],null,yn,Vt,Ce,nn):Ua(u,yn,f,Vt,Ce,f[kn],nn,!1);break;case 0:const jn=f[Ct];null!==jn&&Jl(f[kn],jn,Ce);break;case 2:My(u,sd(u,Ct),f,Ce);break;case 3:y_(u,sd(u,Ct),P,f)}}}}else{const Ce=E[F+1];if(Ce>0&&3==(3&Ce)){const nt=sd(u,Ce>>>2);f[nt.currentCaseLViewIndex]<0&&y_(u,nt,P,f)}}F+=pe}}function y_(u,f,E,P){let x=P[f.currentCaseLViewIndex];if(null!==x){let F=ad;x<0&&(x=P[f.currentCaseLViewIndex]=~x,F=-1),E_(u,P,f.update[x],E,F)}}function My(u,f,E,P){const x=function Sy(u,f){let E=u.cases.indexOf(f);if(-1===E)switch(u.type){case 1:{const P=function uy(u,f){const E=l_(f)(parseInt(u,10)),P=dy[E];return void 0!==P?P:"other"}(f,function hy(){return d_}());E=u.cases.indexOf(P),-1===E&&"other"!==P&&(E=u.cases.indexOf("other"));break}case 0:E=u.cases.indexOf("other")}return-1===E?null:E}(f,P);if(nu(f,E)!==x&&(C_(u,f,E),E[f.currentCaseLViewIndex]=null===x?null:~x,null!==x)){const te=E[f.anchorIdx];te&&v_(u,f.create[x],E,te)}}function C_(u,f,E){let P=nu(f,E);if(null!==P){const x=f.remove[P];for(let F=0;F<x.length;F++){const te=x[F];if(te>0){const pe=Yi(te,E);null!==pe&&zc(E[kn],pe)}else C_(u,sd(u,~te),E)}}}function by(){const u=[];let E,P,f=-1;function F(pe,Ce){f=0;const Ue=nu(pe,Ce);P=null!==Ue?pe.remove[Ue]:fn}function te(){if(f<P.length){const pe=P[f++];return pe>0?E[pe]:(u.push(f,P),F(E[Sn].data[~pe],E),te())}return 0===u.length?null:(P=u.pop(),f=u.pop(),te())}return function x(pe,Ce){for(E=Ce;u.length;)u.pop();return F(pe.value,Ce),te}}const ru=/\ufffd(\d+):?\d*\ufffd/gi,Py=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Iy=/\ufffd(\d+)\ufffd/,O_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cd="\ufffd",Ty=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ay=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ry=/\uE500/g;function M_(u,f,E,P,x,F,te){const pe=rd(u,P,1,null);let Ce=pe<<fs.SHIFT,Ue=Is();f===Ue&&(Ue=null),null===Ue&&(Ce|=fs.APPEND_EAGERLY),te&&(Ce|=fs.COMMENT,function ps(u){void 0===Ti&&(Ti=u())}(by)),x.push(Ce,null===F?"":F);const nt=Qu(u,pe,te?32:1,null===F?"":F,null);h_(E,nt);const Ct=nt.index;return Vi(nt,!1),null!==Ue&&f!==Ue&&function vy(u,f){let E=u.insertBeforeIndex;null===E?(tc(u_,p_),E=u.insertBeforeIndex=[null,f]):(function W(u,f,E){u!=f&&J(E,u,f,"==")}(Array.isArray(E),!0,"Expecting array here"),E.push(f))}(Ue,Ct),nt}function By(u,f,E,P,x,F,te){const pe=te.match(ru),Ce=M_(u,f,E,F,P,pe?null:te,!1);pe&&dd(x,te,Ce.index,null,0,null)}function dd(u,f,E,P,x,F){const te=u.length,pe=te+1;u.push(null,null);const Ce=te+2,Ue=f.split(ru);let nt=0;for(let Ct=0;Ct<Ue.length;Ct++){const Vt=Ue[Ct];if(1&Ct){const nn=x+parseInt(Vt,10);u.push(-1-nn),nt|=S_(nn)}else""!==Vt&&u.push(Vt)}return u.push(E<<2|(P?1:0)),P&&u.push(P,F),u[te]=nt,u[pe]=u.length-Ce,nt}function wy(u){let f=0;for(let E=0;E<u.length;E++){const P=u[E];"number"==typeof P&&P<0&&f++}return f}function S_(u){return 1<<Math.min(u,31)}function b_(u){let f,F,E="",P=0,x=!1;for(;null!==(f=Ty.exec(u));)x?f[0]===`${cd}/*${F}${cd}`&&(P=f.index,x=!1):(E+=u.substring(P,f.index+f[0].length),F=f[1],x=!0);return E+=u.slice(P),E}function P_(u,f,E,P,x,F){let te=0;const pe={type:x.type,currentCaseLViewIndex:rd(u,f,1,null),anchorIdx:F,cases:[],create:[],remove:[],update:[]};(function Vy(u,f,E){u.push(S_(f.mainBinding),2,-1-f.mainBinding,E<<2|2)})(E,x,F),function gy(u,f,E){const P=u.data[f];null===P?u.data[f]=E:P.value=E}(u,F,pe);const Ce=x.values;for(let Ue=0;Ue<Ce.length;Ue++){const nt=Ce[Ue],Ct=[];for(let Vt=0;Vt<nt.length;Vt++){const nn=nt[Vt];if("string"!=typeof nn){const yn=Ct.push(nn)-1;nt[Vt]=`\x3c!--\ufffd${yn}\ufffd--\x3e`}}te=Wy(u,pe,f,E,P,x.cases[Ue],nt.join(""),Ct)|te}te&&function Hy(u,f,E){u.push(f,1,E<<2|3)}(E,te,F)}function jy(u){const f=[],E=[];let P=1,x=0;const F=uh(u=u.replace(O_,function(te,pe,Ce){return P="select"===Ce?0:1,x=parseInt(pe.slice(1),10),""}));for(let te=0;te<F.length;){let pe=F[te++].trim();1===P&&(pe=pe.replace(/\s*(?:=)?(\w+)\s*/,"$1")),pe.length&&f.push(pe);const Ce=uh(F[te++]);f.length>E.length&&E.push(Ce)}return{type:P,mainBinding:x,cases:f,values:E}}function uh(u){if(!u)return[];let f=0;const E=[],P=[],x=/[{}]/g;let F;for(x.lastIndex=0;F=x.exec(u);){const pe=F.index;if("}"==F[0]){if(E.pop(),0==E.length){const Ce=u.substring(f,pe);O_.test(Ce)?P.push(jy(Ce)):P.push(Ce),f=pe+1}}else{if(0==E.length){const Ce=u.substring(f,pe);P.push(Ce),f=pe+1}E.push("{")}}const te=u.substring(f);return P.push(te),P}function Wy(u,f,E,P,x,F,te,pe){const Ce=[],Ue=[],nt=[];f.cases.push(F),f.create.push(Ce),f.remove.push(Ue),f.update.push(nt);const Vt=wa(Y()).getInertBodyElement(te),nn=Bl(Vt)||Vt;return nn?I_(u,f,E,P,Ce,Ue,nt,nn,x,pe,0):0}function I_(u,f,E,P,x,F,te,pe,Ce,Ue,nt){let Ct=0,Vt=pe.firstChild;for(;Vt;){const nn=rd(u,E,1,null);switch(Vt.nodeType){case Node.ELEMENT_NODE:const yn=Vt,jn=yn.tagName.toLowerCase();if(mi.hasOwnProperty(jn)){ph(x,eu,jn,Ce,nn),u.data[nn]=jn;const Rn=yn.attributes;for(let $r=0;$r<Rn.length;$r++){const Ho=Rn.item($r),Ps=Ho.name.toLowerCase();Ho.value.match(ru)?Ya.hasOwnProperty(Ps)&&dd(te,Ho.value,nn,Ho.name,0,hs[Ps]?Pa:null):ky(x,nn,Ho)}Ct=I_(u,f,E,P,x,F,te,Vt,nn,Ue,nt+1)|Ct,T_(F,nn,nt)}break;case Node.TEXT_NODE:const Zn=Vt.textContent||"",ar=Zn.match(ru);ph(x,null,ar?"":Zn,Ce,nn),T_(F,nn,nt),ar&&(Ct=dd(te,Zn,nn,null,0,null)|Ct);break;case Node.COMMENT_NODE:const Fr=Iy.exec(Vt.textContent||"");if(Fr){const $r=Ue[parseInt(Fr[1],10)];ph(x,tu,"",Ce,nn),P_(u,E,P,Ce,$r,nn),Ky(F,nn,nt)}}Vt=Vt.nextSibling}return Ct}function T_(u,f,E){0===E&&u.push(f)}function Ky(u,f,E){0===E&&(u.push(~f),u.push(f))}function ph(u,f,E,P,x){null!==f&&u.push(f),u.push(E,x,function yy(u,f,E){return u|f<<17|E<<1}(0,P,x))}function ky(u,f,E){u.push(f<<1|1,E.name,E.value)}const A_=0,$y=/\[(\ufffd.+?\ufffd?)\]/,zy=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Gy=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Yy=/{([A-Z0-9_]+)}/g,Qy=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Xy=/\/\*/,Zy=/\d+\:(\d+)/;function hh(u,f,E=-1){const P=Un(),x=xt(),F=_n+u,te=Io(P.consts,f),pe=Is();P.firstCreatePass&&function Ly(u,f,E,P,x,F){const te=Is(),pe=[],Ce=[],Ue=[[]];x=function Ny(u,f){if(function Fy(u){return-1===u}(f))return b_(u);{const E=u.indexOf(`:${f}${cd}`)+2+f.toString().length,P=u.search(new RegExp(`${cd}\\/\\*\\d+:${f}${cd}`));return b_(u.substring(E,P))}}(x,F);const nt=function xy(u){return u.replace(Ry," ")}(x).split(Ay);for(let Ct=0;Ct<nt.length;Ct++){let Vt=nt[Ct];if(1&Ct){const nn=47===Vt.charCodeAt(0),jn=(Vt.charCodeAt(nn?1:0),_n+Number.parseInt(Vt.substring(nn?2:1)));if(nn)Ue.shift(),Vi(Is(),!1);else{const Zn=Ey(u,Ue[0],jn);Ue.unshift([]),Vi(Zn,!0)}}else{const nn=uh(Vt);for(let yn=0;yn<nn.length;yn++){let jn=nn[yn];if(1&yn){const Zn=jn;if("object"!=typeof Zn)throw new Error(`Unable to parse ICU expression in "${x}" message.`);P_(u,E,Ce,f,Zn,M_(u,te,Ue[0],E,pe,"",!0).index)}else""!==jn&&By(u,te,Ue[0],pe,Ce,E,jn)}}}u.data[P]={create:pe,update:Ce}}(P,null===pe?0:pe.index,x,F,te,E);const Ce=P.data[F],nt=Od(P,pe===x[br]?null:pe,x);(function Oy(u,f,E,P){const x=u[kn];for(let F=0;F<f.length;F++){const te=f[F++],pe=f[F],Ue=(te&fs.APPEND_EAGERLY)===fs.APPEND_EAGERLY,nt=te>>>fs.SHIFT;let Ct=u[nt];null===Ct&&(Ct=u[nt]=(te&fs.COMMENT)===fs.COMMENT?x.createComment(pe):wc(x,pe)),Ue&&null!==E&&Ha(x,E,Ct,P,!1)}})(x,Ce.create,nt,pe&&8&pe.type?x[pe.index]:null),Jo(!0)}function fh(){Jo(!1)}function R_(u,f,E){hh(u,f,E),fh()}function x_(u,f){const E=Un(),P=Io(E.consts,f);!function Uy(u,f,E){const x=Jr().index,F=[];if(u.firstCreatePass&&null===u.data[f]){for(let te=0;te<E.length;te+=2){const pe=E[te],Ce=E[te+1];if(""!==Ce){if(Py.test(Ce))throw new Error(`ICU expressions are not supported in attributes. Message: "${Ce}".`);dd(F,Ce,x,pe,wy(F),null)}}u.data[f]=F}}(E,u+_n,P)}function mh(u){return function Cy(u){u&&(ad|=1<<Math.min(ld,31)),ld++}(ua(xt(),gs(),u)),mh}function L_(u){!function Dy(u,f,E){if(ld>0){const P=u.data[E];E_(u,f,Array.isArray(P)?P:P.update,Qi()-ld-1,ad)}ad=0,ld=0}(Un(),xt(),u+_n)}function B_(u,f={}){return function Jy(u,f={}){let E=u;if($y.test(u)){const P={},x=[A_];E=E.replace(zy,(F,te,pe)=>{const Ce=te||pe,Ue=P[Ce]||[];if(Ue.length||(Ce.split("|").forEach(jn=>{const Zn=jn.match(Zy),ar=Zn?parseInt(Zn[1],10):A_,Fr=Xy.test(jn);Ue.push([ar,Fr,jn])}),P[Ce]=Ue),!Ue.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Ce}`);const nt=x[x.length-1];let Ct=0;for(let jn=0;jn<Ue.length;jn++)if(Ue[jn][0]===nt){Ct=jn;break}const[Vt,nn,yn]=Ue[Ct];return nn?x.pop():nt!==Vt&&x.push(Vt),Ue.splice(Ct,1),yn})}return Object.keys(f).length&&(E=E.replace(Gy,(P,x,F,te,pe,Ce)=>f.hasOwnProperty(F)?`${x}${f[F]}${Ce}`:P),E=E.replace(Yy,(P,x)=>f.hasOwnProperty(x)?f[x]:P),E=E.replace(Qy,(P,x)=>{if(f.hasOwnProperty(x)){const F=f[x];if(!F.length)throw new Error(`i18n postprocess: unmatched ICU - ${P} with key: ${x}`);return F.shift()}return P})),E}(u,f)}function _h(u,f,E,P,x){if(u=v(u),Array.isArray(u))for(let F=0;F<u.length;F++)_h(u[F],f,E,P,x);else{const F=Un(),te=xt();let pe=Ul(u)?u:v(u.provide),Ce=_f(u);const Ue=Jr(),nt=1048575&Ue.providerIndexes,Ct=Ue.directiveStart,Vt=Ue.providerIndexes>>20;if(Ul(u)||!u.multi){const nn=new _t(Ce,x,cc),yn=vh(pe,f,x?nt:nt+Vt,Ct);-1===yn?(ws(yi(Ue,te),F,pe),gh(F,u,f.length),f.push(pe),Ue.directiveStart++,Ue.directiveEnd++,x&&(Ue.providerIndexes+=1048576),E.push(nn),te.push(nn)):(E[yn]=nn,te[yn]=nn)}else{const nn=vh(pe,f,nt+Vt,Ct),yn=vh(pe,f,nt,nt+Vt),Zn=yn>=0&&E[yn];if(x&&!Zn||!x&&!(nn>=0&&E[nn])){ws(yi(Ue,te),F,pe);const ar=function n1(u,f,E,P,x){const F=new _t(u,E,cc);return F.multi=[],F.index=f,F.componentProviders=0,U_(F,x,P&&!E),F}(x?t1:e1,E.length,x,P,Ce);!x&&Zn&&(E[yn].providerFactory=ar),gh(F,u,f.length,0),f.push(pe),Ue.directiveStart++,Ue.directiveEnd++,x&&(Ue.providerIndexes+=1048576),E.push(ar),te.push(ar)}else gh(F,u,nn>-1?nn:yn,U_(E[x?yn:nn],Ce,!x&&P));!x&&P&&Zn&&E[yn].componentProviders++}}}function gh(u,f,E,P){const x=Ul(f),F=function Wv(u){return!!u.useClass}(f);if(x||F){const Ce=(F?v(f.useClass):f).prototype.ngOnDestroy;if(Ce){const Ue=u.destroyHooks||(u.destroyHooks=[]);if(!x&&f.multi){const nt=Ue.indexOf(E);-1===nt?Ue.push(E,[P,Ce]):Ue[nt+1].push(P,Ce)}else Ue.push(E,Ce)}}}function U_(u,f,E){return E&&u.componentProviders++,u.multi.push(f)-1}function vh(u,f,E,P){for(let x=E;x<P;x++)if(f[x]===u)return x;return-1}function e1(u,f,E,P){return Eh(this.multi,[])}function t1(u,f,E,P){const x=this.multi;let F;if(this.providerFactory){const te=this.providerFactory.componentProviders,pe=Zi(E,E[Sn],this.providerFactory.index,P);F=pe.slice(0,te),Eh(x,F);for(let Ce=te;Ce<pe.length;Ce++)F.push(pe[Ce])}else F=[],Eh(x,F);return F}function Eh(u,f){for(let E=0;E<u.length;E++)f.push((0,u[E])());return f}function w_(u,f=[]){return E=>{E.providersResolver=(P,x)=>function qy(u,f,E){const P=Un();if(P.firstCreatePass){const x=ei(u);_h(E,P.data,P.blueprint,x,!0),_h(f,P.data,P.blueprint,x,!1)}}(P,x?x(u):u,f)}}class Mc{}class F_{}function N_(u,f){return new yh(u,f??null)}const r1=N_;class yh extends Mc{constructor(f,E){super(),this._parent=E,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new om(this);const P=Yn(f);this._bootstrapComponents=ul(P.bootstrap),this._r3Injector=Ff(f,E,[{provide:Mc,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],p(f),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(f)}get injector(){return this._r3Injector}destroy(){const f=this._r3Injector;!f.destroyed&&f.destroy(),this.destroyCbs.forEach(E=>E()),this.destroyCbs=null}onDestroy(f){this.destroyCbs.push(f)}}class iu extends F_{constructor(f){super(),this.moduleType=f}create(f){return new yh(this.moduleType,f)}}class o1 extends Mc{constructor(f,E,P){super(),this.componentFactoryResolver=new om(this),this.instance=null;const x=new mf([...f,{provide:Mc,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],E||Ld(),P,new Set(["environment"]));this.injector=x,x.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(f){this.injector.onDestroy(f)}}function Ch(u,f,E=null){return new o1(u,f,E).injector}let s1=(()=>{class u{constructor(E){this._injector=E,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(E){if(!E.standalone)return null;if(!this.cachedInjectors.has(E.id)){const P=uf(0,E.type),x=P.length>0?Ch([P],this._injector,`Standalone[${E.type.name}]`):null;this.cachedInjectors.set(E.id,x)}return this.cachedInjectors.get(E.id)}ngOnDestroy(){try{for(const E of this.cachedInjectors.values())null!==E&&E.destroy()}finally{this.cachedInjectors.clear()}}}return u.\u0275prov=ve({token:u,providedIn:"environment",factory:()=>new u(jt(wl))}),u})();function j_(u){u.getStandaloneInjector=f=>f.get(s1).getOrCreateStandaloneInjector(u)}function Dh(u){const f=Gs(u);if(null===f)return null;if(void 0===f.component){const E=f.lView;if(null===E)return null;f.component=function Pr(u,f){const E=f[Sn].data[u],{directiveStart:P,componentOffset:x}=E;return x>-1?f[P+x]:null}(f.nodeIndex,E)}return f.component}function W_(u){!function p1(u){if(typeof Element<"u"&&!(u instanceof Element))throw new Error("Expecting instance of DOM Element")}(u);const f=Gs(u),E=f?f.lView:null;return null===E?null:E[Nr]}function K_(u){const f=Gs(u);let P,E=f?f.lView:null;if(null===E)return null;for(;2===E[Sn].type&&(P=Mo(E));)E=P;return 256&E[Qn]?null:E[Nr]}function V_(u){const f=Ae(u);return null!==f?[dl(f)]:[]}function H_(u){const f=Gs(u),E=f?f.lView:null;return null===E?Cl.NULL:new $s(E[Sn].data[f.nodeIndex],E)}function k_(u){if(u instanceof Text)return[];const f=Gs(u),E=f?f.lView:null;if(null===E)return[];const x=f.nodeIndex;return E[Sn]?.data[x]?(void 0===f.directives&&(f.directives=Jn(x,E)),null===f.directives?[]:[...f.directives]):[]}function l1(u){const{constructor:f}=u;if(!f)throw new Error("Unable to find the instance constructor");const E=An(f);if(E)return{inputs:E.inputs,outputs:E.outputs,encapsulation:E.encapsulation,changeDetection:E.onPush?Qt.OnPush:Qt.Default};const P=In(f);return P?{inputs:P.inputs,outputs:P.outputs}:null}function Oh(u){return Gs(u).native}function $_(u){const f=Gs(u),E=null===f?null:f.lView;if(null===E)return[];const x=E[Oi],F=E[Sn].cleanup,te=[];if(F&&x)for(let pe=0;pe<F.length;){const Ce=F[pe++],Ue=F[pe++];if("string"==typeof Ce){const nt=Ce,Ct=Ei(E[Ue]),Vt=x[F[pe++]],nn=F[pe++];u==Ct&&te.push({element:u,name:nt,callback:Vt,useCapture:"boolean"==typeof nn&&nn,type:"boolean"==typeof nn||nn>=0?"dom":"output"})}}return te.sort(d1),te}function d1(u,f){return u.name==f.name?0:u.name<f.name?-1:1}function u1(u){return void 0!==u.type&&void 0!==u.declaredInputs&&void 0!==u.findHostDirectiveDefs}function z_(u,f,E,P){return Xt(()=>{const x=u;null!==f&&(x.hasOwnProperty("decorators")&&void 0!==x.decorators?x.decorators.push(...f):x.decorators=f),null!==E&&(x.ctorParameters=E),null!==P&&(x.propDecorators=x.hasOwnProperty("propDecorators")&&void 0!==x.propDecorators?{...x.propDecorators,...P}:P)})}function G_(u,f,E){const P=Ni()+u,x=xt();return x[P]===kr?ol(x,P,E?f.call(E):f()):id(x,P)}function Y_(u,f,E,P){return rg(xt(),Ni(),u,f,E,P)}function Q_(u,f,E,P,x){return ig(xt(),Ni(),u,f,E,P,x)}function X_(u,f,E,P,x,F){return og(xt(),Ni(),u,f,E,P,x,F)}function Z_(u,f,E,P,x,F,te){return sg(xt(),Ni(),u,f,E,P,x,F,te)}function J_(u,f,E,P,x,F,te,pe){const Ce=Ni()+u,Ue=xt(),nt=ja(Ue,Ce,E,P,x,F);return ua(Ue,Ce+4,te)||nt?ol(Ue,Ce+5,pe?f.call(pe,E,P,x,F,te):f(E,P,x,F,te)):id(Ue,Ce+5)}function q_(u,f,E,P,x,F,te,pe,Ce){const Ue=Ni()+u,nt=xt(),Ct=ja(nt,Ue,E,P,x,F);return Fl(nt,Ue+4,te,pe)||Ct?ol(nt,Ue+6,Ce?f.call(Ce,E,P,x,F,te,pe):f(E,P,x,F,te,pe)):id(nt,Ue+6)}function eg(u,f,E,P,x,F,te,pe,Ce,Ue){const nt=Ni()+u,Ct=xt();let Vt=ja(Ct,nt,E,P,x,F);return $d(Ct,nt+4,te,pe,Ce)||Vt?ol(Ct,nt+7,Ue?f.call(Ue,E,P,x,F,te,pe,Ce):f(E,P,x,F,te,pe,Ce)):id(Ct,nt+7)}function tg(u,f,E,P,x,F,te,pe,Ce,Ue,nt){const Ct=Ni()+u,Vt=xt(),nn=ja(Vt,Ct,E,P,x,F);return ja(Vt,Ct+4,te,pe,Ce,Ue)||nn?ol(Vt,Ct+8,nt?f.call(nt,E,P,x,F,te,pe,Ce,Ue):f(E,P,x,F,te,pe,Ce,Ue)):id(Vt,Ct+8)}function ng(u,f,E,P){return ag(xt(),Ni(),u,f,E,P)}function ud(u,f){const E=u[f];return E===kr?void 0:E}function rg(u,f,E,P,x,F){const te=f+E;return ua(u,te,x)?ol(u,te+1,F?P.call(F,x):P(x)):ud(u,te+1)}function ig(u,f,E,P,x,F,te){const pe=f+E;return Fl(u,pe,x,F)?ol(u,pe+2,te?P.call(te,x,F):P(x,F)):ud(u,pe+2)}function og(u,f,E,P,x,F,te,pe){const Ce=f+E;return $d(u,Ce,x,F,te)?ol(u,Ce+3,pe?P.call(pe,x,F,te):P(x,F,te)):ud(u,Ce+3)}function sg(u,f,E,P,x,F,te,pe,Ce){const Ue=f+E;return ja(u,Ue,x,F,te,pe)?ol(u,Ue+4,Ce?P.call(Ce,x,F,te,pe):P(x,F,te,pe)):ud(u,Ue+4)}function ag(u,f,E,P,x,F){let te=f+E,pe=!1;for(let Ce=0;Ce<x.length;Ce++)ua(u,te++,x[Ce])&&(pe=!0);return pe?ol(u,te,P.apply(F,x)):ud(u,te)}function lg(u,f){const E=Un();let P;const x=u+_n;E.firstCreatePass?(P=function h1(u,f){if(f)for(let E=f.length-1;E>=0;E--){const P=f[E];if(u===P.name)return P}}(f,E.pipeRegistry),E.data[x]=P,P.onDestroy&&(E.destroyHooks??(E.destroyHooks=[])).push(x,P.onDestroy)):P=E.data[x];const F=P.factory||(P.factory=rr(P.type)),te=ft(cc);try{const pe=Fo(!1),Ce=F();return Fo(pe),vm(E,xt(),x,Ce),Ce}finally{ft(te)}}function cg(u,f,E){const P=u+_n,x=xt(),F=vo(x,P);return pd(x,P)?rg(x,Ni(),f,F.transform,E,F):F.transform(E)}function dg(u,f,E,P){const x=u+_n,F=xt(),te=vo(F,x);return pd(F,x)?ig(F,Ni(),f,te.transform,E,P,te):te.transform(E,P)}function ug(u,f,E,P,x){const F=u+_n,te=xt(),pe=vo(te,F);return pd(te,F)?og(te,Ni(),f,pe.transform,E,P,x,pe):pe.transform(E,P,x)}function pg(u,f,E,P,x,F){const te=u+_n,pe=xt(),Ce=vo(pe,te);return pd(pe,te)?sg(pe,Ni(),f,Ce.transform,E,P,x,F,Ce):Ce.transform(E,P,x,F)}function hg(u,f,E){const P=u+_n,x=xt(),F=vo(x,P);return pd(x,P)?ag(x,Ni(),f,F.transform,E,F):F.transform.apply(F,E)}function pd(u,f){return u[Sn].data[f].pure}function Mh(u){return f=>{setTimeout(u,void 0,f)}}const al=class f1 extends t.x{constructor(f=!1){super(),this.__isAsync=f}emit(f){super.next(f)}subscribe(f,E,P){let x=f,F=E||(()=>null),te=P;if(f&&"object"==typeof f){const Ce=f;x=Ce.next?.bind(Ce),F=Ce.error?.bind(Ce),te=Ce.complete?.bind(Ce)}this.__isAsync&&(F=Mh(F),x&&(x=Mh(x)),te&&(te=Mh(te)));const pe=super.subscribe({next:x,error:F,complete:te});return f instanceof n.w0&&f.add(pe),pe}};function m1(){return this._results[Symbol.iterator]()}class ou{get changes(){return this._changes||(this._changes=new al)}constructor(f=!1){this._emitDistinctChangesOnly=f,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const E=ou.prototype;E[Symbol.iterator]||(E[Symbol.iterator]=m1)}get(f){return this._results[f]}map(f){return this._results.map(f)}filter(f){return this._results.filter(f)}find(f){return this._results.find(f)}reduce(f,E){return this._results.reduce(f,E)}forEach(f){this._results.forEach(f)}some(f){return this._results.some(f)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(f,E){const P=this;P.dirty=!1;const x=le(f);(this._changesDetected=!function G(u,f,E){if(u.length!==f.length)return!1;for(let P=0;P<u.length;P++){let x=u[P],F=f[P];if(E&&(x=E(x),F=E(F)),F!==x)return!1}return!0}(P._results,x,E))&&(P._results=x,P.length=x.length,P.last=x[this.length-1],P.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hd=(()=>{class u{}return u.__NG_ELEMENT_ID__=v1,u})();const _1=hd,g1=class extends _1{constructor(f,E,P){super(),this._declarationLView=f,this._declarationTContainer=E,this.elementRef=P}createEmbeddedView(f,E){const P=this._declarationTContainer.tView,x=Fd(this._declarationLView,P,f,16,null,P.declTNode,null,null,null,null,E||null);x[Bi]=this._declarationLView[this._declarationTContainer.index];const te=this._declarationLView[Zt];return null!==te&&(x[Zt]=te.createEmbeddedView(P)),Xu(P,x,f),new uc(x)}};function v1(){return su(Jr(),xt())}function su(u,f){return 4&u.type?new g1(f,u,sc(u,f)):null}let au=(()=>{class u{}return u.__NG_ELEMENT_ID__=E1,u})();function E1(){return _g(Jr(),xt())}const y1=au,fg=class extends y1{constructor(f,E,P){super(),this._lContainer=f,this._hostTNode=E,this._hostLView=P}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const f=No(this._hostTNode,this._hostLView);if(po(f)){const E=ns(f,this._hostLView),P=Ii(f);return new $s(E[Sn].data[P+8],E)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(f){const E=mg(this._lContainer);return null!==E&&E[f]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(f,E,P){let x,F;"number"==typeof P?x=P:null!=P&&(x=P.index,F=P.injector);const te=f.createEmbeddedView(E||{},F);return this.insert(te,x),te}createComponent(f,E,P,x,F){const te=f&&!X(f);let pe;if(te)pe=E;else{const Ct=E||{};pe=Ct.index,P=Ct.injector,x=Ct.projectableNodes,F=Ct.environmentInjector||Ct.ngModuleRef}const Ce=te?f:new pc(An(f)),Ue=P||this.parentInjector;if(!F&&null==Ce.ngModule){const Vt=(te?Ue:this.parentInjector).get(wl,null);Vt&&(F=Vt)}const nt=Ce.create(Ue,x,void 0,F);return this.insert(nt.hostView,pe),nt}insert(f,E){const P=f._lView,x=P[Sn];if(function ls(u){return Wr(u[hr])}(P)){const nt=this.indexOf(f);if(-1!==nt)this.detach(nt);else{const Ct=P[hr],Vt=new fg(Ct,Ct[br],Ct[hr]);Vt.detach(Vt.indexOf(f))}}const F=this._adjustIndex(E),te=this._lContainer;!function Cu(u,f,E,P){const x=Xn+P,F=E.length;P>0&&(E[x-1][Br]=f),P<F-Xn?(f[Br]=E[x],Fe(E,Xn+P,f)):(E.push(f),f[Br]=null),f[hr]=E;const te=f[Bi];null!==te&&E!==te&&function Du(u,f){const E=u[Vn];f[qr]!==f[hr][hr][qr]&&(u[Mr]=!0),null===E?u[Vn]=[f]:E.push(f)}(te,f);const pe=f[Zt];null!==pe&&pe.insertView(u),f[Qn]|=64}(x,P,te,F);const pe=$c(F,te),Ce=P[kn],Ue=ql(Ce,te[Ur]);return null!==Ue&&function yu(u,f,E,P,x,F){P[yr]=x,P[br]=f,xl(u,P,E,1,x,F)}(x,te[br],Ce,P,Ue,pe),f.attachToViewContainerRef(),Fe(Sh(te),F,f),f}move(f,E){return this.insert(f,E)}indexOf(f){const E=mg(this._lContainer);return null!==E?E.indexOf(f):-1}remove(f){const E=this._adjustIndex(f,-1),P=jc(this._lContainer,E);P&&(Xe(Sh(this._lContainer),E),yd(P[Sn],P))}detach(f){const E=this._adjustIndex(f,-1),P=jc(this._lContainer,E);return P&&null!=Xe(Sh(this._lContainer),E)?new uc(P):null}_adjustIndex(f,E=0){return f??this.length+E}};function mg(u){return u[Tr]}function Sh(u){return u[Tr]||(u[Tr]=[])}function _g(u,f){let E;const P=f[u.index];if(Wr(P))E=P;else{let x;if(8&u.type)x=Ei(P);else{const F=f[kn];x=F.createComment("");const te=Gr(u,f);Ha(F,ql(F,te),x,function Mu(u,f){return u.nextSibling(f)}(F,te),!1)}f[u.index]=E=em(P,f,x,u),jd(f,E)}return new fg(E,u,f)}class bh{constructor(f){this.queryList=f,this.matches=null}clone(){return new bh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ph{constructor(f=[]){this.queries=f}createEmbeddedView(f){const E=f.queries;if(null!==E){const P=null!==f.contentQueries?f.contentQueries[0]:E.length,x=[];for(let F=0;F<P;F++){const te=E.getByIndex(F);x.push(this.queries[te.indexInDeclarationView].clone())}return new Ph(x)}return null}insertView(f){this.dirtyQueriesWithMatches(f)}detachView(f){this.dirtyQueriesWithMatches(f)}dirtyQueriesWithMatches(f){for(let E=0;E<this.queries.length;E++)null!==Sg(f,E).matches&&this.queries[E].setDirty()}}class gg{constructor(f,E,P=null){this.predicate=f,this.flags=E,this.read=P}}class Ih{constructor(f=[]){this.queries=f}elementStart(f,E){for(let P=0;P<this.queries.length;P++)this.queries[P].elementStart(f,E)}elementEnd(f){for(let E=0;E<this.queries.length;E++)this.queries[E].elementEnd(f)}embeddedTView(f){let E=null;for(let P=0;P<this.length;P++){const x=null!==E?E.length:0,F=this.getByIndex(P).embeddedTView(f,x);F&&(F.indexInDeclarationView=P,null!==E?E.push(F):E=[F])}return null!==E?new Ih(E):null}template(f,E){for(let P=0;P<this.queries.length;P++)this.queries[P].template(f,E)}getByIndex(f){return this.queries[f]}get length(){return this.queries.length}track(f){this.queries.push(f)}}class Th{constructor(f,E=-1){this.metadata=f,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=E}elementStart(f,E){this.isApplyingToNode(E)&&this.matchTNode(f,E)}elementEnd(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}template(f,E){this.elementStart(f,E)}embeddedTView(f,E){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,E),new Th(this.metadata)):null}isApplyingToNode(f){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const E=this._declarationNodeIndex;let P=f.parent;for(;null!==P&&8&P.type&&P.index!==E;)P=P.parent;return E===(null!==P?P.index:-1)}return this._appliesToNextNode}matchTNode(f,E){const P=this.metadata.predicate;if(Array.isArray(P))for(let x=0;x<P.length;x++){const F=P[x];this.matchTNodeWithReadOption(f,E,C1(E,F)),this.matchTNodeWithReadOption(f,E,Ao(E,f,F,!1,!1))}else P===hd?4&E.type&&this.matchTNodeWithReadOption(f,E,-1):this.matchTNodeWithReadOption(f,E,Ao(E,f,P,!1,!1))}matchTNodeWithReadOption(f,E,P){if(null!==P){const x=this.metadata.read;if(null!==x)if(x===ed||x===au||x===hd&&4&E.type)this.addMatch(E.index,-2);else{const F=Ao(E,f,x,!1,!1);null!==F&&this.addMatch(E.index,F)}else this.addMatch(E.index,P)}}addMatch(f,E){null===this.matches?this.matches=[f,E]:this.matches.push(f,E)}}function C1(u,f){const E=u.localNames;if(null!==E)for(let P=0;P<E.length;P+=2)if(E[P]===f)return E[P+1];return null}function O1(u,f,E,P){return-1===E?function D1(u,f){return 11&u.type?sc(u,f):4&u.type?su(u,f):null}(f,u):-2===E?function M1(u,f,E){return E===ed?sc(f,u):E===hd?su(f,u):E===au?_g(f,u):void 0}(u,f,P):Zi(u,u[Sn],E,f)}function vg(u,f,E,P){const x=f[Zt].queries[P];if(null===x.matches){const F=u.data,te=E.matches,pe=[];for(let Ce=0;Ce<te.length;Ce+=2){const Ue=te[Ce];pe.push(Ue<0?null:O1(f,F[Ue],te[Ce+1],E.metadata.read))}x.matches=pe}return x.matches}function Ah(u,f,E,P){const x=u.queries.getByIndex(E),F=x.matches;if(null!==F){const te=vg(u,f,x,E);for(let pe=0;pe<F.length;pe+=2){const Ce=F[pe];if(Ce>0)P.push(te[pe/2]);else{const Ue=F[pe+1],nt=f[-Ce];for(let Ct=Xn;Ct<nt.length;Ct++){const Vt=nt[Ct];Vt[Bi]===Vt[hr]&&Ah(Vt[Sn],Vt,Ue,P)}if(null!==nt[Vn]){const Ct=nt[Vn];for(let Vt=0;Vt<Ct.length;Vt++){const nn=Ct[Vt];Ah(nn[Sn],nn,Ue,P)}}}}}return P}function Eg(u){const f=xt(),E=Un(),P=pa();Qs(P+1);const x=Sg(E,P);if(u.dirty&&function Xo(u){return 4==(4&u[Qn])}(f)===(2==(2&x.metadata.flags))){if(null===x.matches)u.reset([]);else{const F=x.crossesNgTemplate?Ah(E,f,P,[]):vg(E,f,x,P);u.reset(F,Xv),u.notifyOnChanges()}return!0}return!1}function yg(u,f,E){const P=Un();P.firstCreatePass&&(Mg(P,new gg(u,f,E),-1),2==(2&f)&&(P.staticViewQueries=!0)),Og(P,xt(),f)}function Cg(u,f,E,P){const x=Un();if(x.firstCreatePass){const F=Jr();Mg(x,new gg(f,E,P),F.index),function b1(u,f){const E=u.contentQueries||(u.contentQueries=[]);f!==(E.length?E[E.length-1]:-1)&&E.push(u.queries.length-1,f)}(x,u),2==(2&E)&&(x.staticContentQueries=!0)}Og(x,xt(),E)}function Dg(){return function S1(u,f){return u[Zt].queries[f].queryList}(xt(),pa())}function Og(u,f,E){const P=new ou(4==(4&E));Qf(u,f,P,P.destroy),null===f[Zt]&&(f[Zt]=new Ph),f[Zt].queries.push(new bh(P))}function Mg(u,f,E){null===u.queries&&(u.queries=new Ih),u.queries.track(new Th(f,E))}function Sg(u,f){return u.queries.getByIndex(f)}function bg(u,f){return su(u,f)}const Da=(()=>({\u0275\u0275attribute:up,\u0275\u0275attributeInterpolate1:pp,\u0275\u0275attributeInterpolate2:hp,\u0275\u0275attributeInterpolate3:fp,\u0275\u0275attributeInterpolate4:mp,\u0275\u0275attributeInterpolate5:_p,\u0275\u0275attributeInterpolate6:gp,\u0275\u0275attributeInterpolate7:vp,\u0275\u0275attributeInterpolate8:Ep,\u0275\u0275attributeInterpolateV:yp,\u0275\u0275defineComponent:ot,\u0275\u0275defineDirective:Pn,\u0275\u0275defineInjectable:ve,\u0275\u0275defineInjector:et,\u0275\u0275defineNgModule:hn,\u0275\u0275definePipe:Bn,\u0275\u0275directiveInject:cc,\u0275\u0275getInheritedFactory:Sa,\u0275\u0275inject:jt,\u0275\u0275injectAttribute:sa,\u0275\u0275invalidFactory:$f,\u0275\u0275invalidFactoryDep:zt,\u0275\u0275templateRefExtractor:bg,\u0275\u0275resetView:ui,\u0275\u0275HostDirectivesFeature:um,\u0275\u0275NgOnChangesFeature:ti,\u0275\u0275ProvidersFeature:w_,\u0275\u0275CopyDefinitionFeature:dm,\u0275\u0275InheritDefinitionFeature:lp,\u0275\u0275StandaloneFeature:j_,\u0275\u0275nextContext:bm,\u0275\u0275namespaceHTML:es,\u0275\u0275namespaceMathML:ao,\u0275\u0275namespaceSVG:Es,\u0275\u0275enableBindings:Wt,\u0275\u0275disableBindings:Dn,\u0275\u0275elementStart:zd,\u0275\u0275elementEnd:Gd,\u0275\u0275element:Op,\u0275\u0275elementContainerStart:Yd,\u0275\u0275elementContainerEnd:Qd,\u0275\u0275elementContainer:Mp,\u0275\u0275pureFunction0:G_,\u0275\u0275pureFunction1:Y_,\u0275\u0275pureFunction2:Q_,\u0275\u0275pureFunction3:X_,\u0275\u0275pureFunction4:Z_,\u0275\u0275pureFunction5:J_,\u0275\u0275pureFunction6:q_,\u0275\u0275pureFunction7:eg,\u0275\u0275pureFunction8:tg,\u0275\u0275pureFunctionV:ng,\u0275\u0275getCurrentView:ym,\u0275\u0275restoreView:Zr,\u0275\u0275listener:bp,\u0275\u0275projection:Im,\u0275\u0275syntheticHostProperty:lh,\u0275\u0275syntheticHostListener:Pp,\u0275\u0275pipeBind1:cg,\u0275\u0275pipeBind2:dg,\u0275\u0275pipeBind3:ug,\u0275\u0275pipeBind4:pg,\u0275\u0275pipeBindV:hg,\u0275\u0275projectionDef:Pm,\u0275\u0275hostProperty:ah,\u0275\u0275property:Cp,\u0275\u0275propertyInterpolate:Ip,\u0275\u0275propertyInterpolate1:Xd,\u0275\u0275propertyInterpolate2:Tp,\u0275\u0275propertyInterpolate3:Ap,\u0275\u0275propertyInterpolate4:Rp,\u0275\u0275propertyInterpolate5:xp,\u0275\u0275propertyInterpolate6:Lp,\u0275\u0275propertyInterpolate7:Bp,\u0275\u0275propertyInterpolate8:Up,\u0275\u0275propertyInterpolateV:wp,\u0275\u0275pipe:lg,\u0275\u0275queryRefresh:Eg,\u0275\u0275viewQuery:yg,\u0275\u0275loadQuery:Dg,\u0275\u0275contentQuery:Cg,\u0275\u0275reference:Em,\u0275\u0275classMap:wm,\u0275\u0275classMapInterpolate1:km,\u0275\u0275classMapInterpolate2:$m,\u0275\u0275classMapInterpolate3:zm,\u0275\u0275classMapInterpolate4:Gm,\u0275\u0275classMapInterpolate5:Ym,\u0275\u0275classMapInterpolate6:Qm,\u0275\u0275classMapInterpolate7:Xm,\u0275\u0275classMapInterpolate8:Zm,\u0275\u0275classMapInterpolateV:Jm,\u0275\u0275styleMap:Xa,\u0275\u0275styleMapInterpolate1:qm,\u0275\u0275styleMapInterpolate2:e_,\u0275\u0275styleMapInterpolate3:t_,\u0275\u0275styleMapInterpolate4:n_,\u0275\u0275styleMapInterpolate5:r_,\u0275\u0275styleMapInterpolate6:i_,\u0275\u0275styleMapInterpolate7:o_,\u0275\u0275styleMapInterpolate8:s_,\u0275\u0275styleMapInterpolateV:a_,\u0275\u0275styleProp:Wp,\u0275\u0275stylePropInterpolate1:Jp,\u0275\u0275stylePropInterpolate2:qp,\u0275\u0275stylePropInterpolate3:eh,\u0275\u0275stylePropInterpolate4:th,\u0275\u0275stylePropInterpolate5:nh,\u0275\u0275stylePropInterpolate6:rh,\u0275\u0275stylePropInterpolate7:ih,\u0275\u0275stylePropInterpolate8:oh,\u0275\u0275stylePropInterpolateV:sh,\u0275\u0275classProp:Kp,\u0275\u0275advance:xf,\u0275\u0275template:gm,\u0275\u0275text:Hm,\u0275\u0275textInterpolate:Hp,\u0275\u0275textInterpolate1:qd,\u0275\u0275textInterpolate2:kp,\u0275\u0275textInterpolate3:$p,\u0275\u0275textInterpolate4:zp,\u0275\u0275textInterpolate5:Gp,\u0275\u0275textInterpolate6:Yp,\u0275\u0275textInterpolate7:Qp,\u0275\u0275textInterpolate8:Xp,\u0275\u0275textInterpolateV:Zp,\u0275\u0275i18n:R_,\u0275\u0275i18nAttributes:x_,\u0275\u0275i18nExp:mh,\u0275\u0275i18nStart:hh,\u0275\u0275i18nEnd:fh,\u0275\u0275i18nApply:L_,\u0275\u0275i18nPostprocess:B_,\u0275\u0275resolveWindow:Of,\u0275\u0275resolveDocument:Mf,\u0275\u0275resolveBody:Sf,\u0275\u0275setComponentScope:rn,\u0275\u0275setNgModuleScope:En,\u0275\u0275registerNgModuleType:ml,\u0275\u0275sanitizeHtml:ef,\u0275\u0275sanitizeStyle:tf,\u0275\u0275sanitizeResourceUrl:Lu,\u0275\u0275sanitizeScript:nf,\u0275\u0275sanitizeUrl:xu,\u0275\u0275sanitizeUrlOrResourceUrl:af,\u0275\u0275trustConstantHtml:rf,\u0275\u0275trustConstantResourceUrl:sf,\u0275\u0275validateIframeAttribute:Qc,forwardRef:_,resolveForwardRef:v}))();let Sc=null;function T1(){Sc=null}function Rh(u){return!!Yn(u)}const fd=[];let xh=!1;function Ig(){if(!xh){xh=!0;try{for(let u=fd.length-1;u>=0;u--){const{moduleType:f,ngModule:E}=fd[u];E.declarations&&E.declarations.every(Tg)&&(fd.splice(u,1),L1(f,E))}}finally{xh=!1}}}function Tg(u){return Array.isArray(u)?u.every(Tg):!!v(u)}function Ag(u,f={}){Rg(u,f),void 0!==f.id&&ml(u,f.id),function A1(u,f){fd.push({moduleType:u,ngModule:f})}(u,f)}function Rg(u,f,E=!1){const P=le(f.declarations||fn);let x=null;Object.defineProperty(u,vt,{configurable:!0,get:()=>(null===x&&(x=Te().compileNgModule(Da,`ng:///${u.name}/\u0275mod.js`,{type:u,bootstrap:le(f.bootstrap||fn).map(v),declarations:P.map(v),imports:le(f.imports||fn).map(v).map(Ug),exports:le(f.exports||fn).map(v).map(Ug),schemas:f.schemas?le(f.schemas):null,id:f.id||null}),x.schemas||(x.schemas=[])),x)});let F=null;Object.defineProperty(u,Bt,{get:()=>{if(null===F){const pe=Te();F=pe.compileFactory(Da,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u,deps:Va(u),target:pe.FactoryTarget.NgModule,typeArgumentCount:0})}return F},configurable:!1});let te=null;Object.defineProperty(u,At,{get:()=>{if(null===te){const pe={name:u.name,type:u,providers:f.providers||fn,imports:[(f.imports||fn).map(v),(f.exports||fn).map(v)]};te=Te().compileInjector(Da,`ng:///${u.name}/\u0275inj.js`,pe)}return te},configurable:!1})}let lu=new WeakMap,Bh=new WeakMap;function x1(){lu=new WeakMap,Bh=new WeakMap,fd.length=0}function L1(u,f){const E=le(f.declarations||fn),P=Kl(u);E.forEach(x=>{(x=v(x)).hasOwnProperty(ct)?Uh(An(x),P):!x.hasOwnProperty(Mt)&&!x.hasOwnProperty(Ve)&&(x.ngSelectorScope=u)})}function Uh(u,f){u.directiveDefs=()=>Array.from(f.compilation.directives).map(E=>E.hasOwnProperty(ct)?An(E):In(E)).filter(E=>!!E),u.pipeDefs=()=>Array.from(f.compilation.pipes).map(E=>Fn(E)),u.schemas=f.schemas,u.tView=null}function Kl(u){if(Rh(u))return function B1(u){const f=Yn(u,!0);if(null!==f.transitiveCompileScopes)return f.transitiveCompileScopes;const E={schemas:f.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ul(f.imports).forEach(P=>{const x=Kl(P);x.exported.directives.forEach(F=>E.compilation.directives.add(F)),x.exported.pipes.forEach(F=>E.compilation.pipes.add(F))}),ul(f.declarations).forEach(P=>{Fn(P)?E.compilation.pipes.add(P):E.compilation.directives.add(P)}),ul(f.exports).forEach(P=>{const x=P;if(Rh(x)){const F=Kl(x);F.exported.directives.forEach(te=>{E.compilation.directives.add(te),E.exported.directives.add(te)}),F.exported.pipes.forEach(te=>{E.compilation.pipes.add(te),E.exported.pipes.add(te)})}else Fn(x)?E.exported.pipes.add(x):E.exported.directives.add(x)}),f.transitiveCompileScopes=E,E}(u);if(er(u)){if(null!==(An(u)||In(u)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([u]),pipes:new Set}};if(null!==Fn(u))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([u])}}}throw new Error(`${u.name} does not have a module def (\u0275mod property)`)}function Ug(u){return function Pg(u){return void 0!==u.ngModule}(u)?u.ngModule:u}let wh=0;function wg(u,f){let E=null;(function We(u,f){kt(f)&&(Se.set(u,f),Ft.add(u))})(u,f),Ng(u,f),Object.defineProperty(u,ct,{get:()=>{if(null===E){const P=Te();if(kt(f)){const Ue=[`Component '${u.name}' is not resolved:`];throw f.templateUrl&&Ue.push(` - templateUrl: ${f.templateUrl}`),f.styleUrls&&f.styleUrls.length&&Ue.push(` - styleUrls: ${JSON.stringify(f.styleUrls)}`),Ue.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(Ue.join("\n"))}const x=function I1(){return Sc}();let F=f.preserveWhitespaces;void 0===F&&(F=null!==x&&void 0!==x.preserveWhitespaces&&x.preserveWhitespaces);let te=f.encapsulation;void 0===te&&(te=null!==x&&void 0!==x.defaultEncapsulation?x.defaultEncapsulation:Gt.Emulated);const pe=f.templateUrl||`ng:///${u.name}/template.html`,Ce={...jg(u,f),typeSourceSpan:P.createParseSourceSpan("Component",u.name,pe),template:f.template||"",preserveWhitespaces:F,styles:f.styles||fn,animations:f.animations,declarations:[],changeDetection:f.changeDetection,encapsulation:te,interpolation:f.interpolation,viewProviders:f.viewProviders||null};wh++;try{if(Ce.usesInheritance&&Wg(u),E=P.compileComponent(Da,pe,Ce),f.standalone){const Ue=le(f.imports||fn),{directiveDefs:nt,pipeDefs:Ct}=function w1(u,f){let E=null,P=null;return{directiveDefs:()=>{if(null===E){E=[An(u)];const te=new Set;for(const pe of f){const Ce=v(pe);if(!te.has(Ce))if(te.add(Ce),Yn(Ce)){const Ue=Kl(Ce);for(const nt of Ue.exported.directives){const Ct=An(nt)||In(nt);Ct&&!te.has(nt)&&(te.add(nt),E.push(Ct))}}else{const Ue=An(Ce)||In(Ce);Ue&&E.push(Ue)}}}return E},pipeDefs:()=>{if(null===P){P=[];const te=new Set;for(const pe of f){const Ce=v(pe);if(!te.has(Ce))if(te.add(Ce),Yn(Ce)){const Ue=Kl(Ce);for(const nt of Ue.exported.pipes){const Ct=Fn(nt);Ct&&!te.has(nt)&&(te.add(nt),P.push(Ct))}}else{const Ue=Fn(Ce);Ue&&P.push(Ue)}}}return P}}}(u,Ue);E.directiveDefs=nt,E.pipeDefs=Ct,E.dependencies=()=>Ue.map(v)}}finally{wh--}if(0===wh&&Ig(),function F1(u){return void 0!==u.ngSelectorScope}(u)){const Ue=Kl(u.ngSelectorScope);Uh(E,Ue)}if(f.schemas){if(!f.standalone)throw new Error(`The 'schemas' was specified for the ${C(u)} but is only valid on a component that is standalone.`);E.schemas=f.schemas}else f.standalone&&(E.schemas=[])}return E},configurable:!1})}function Fh(u,f){let E=null;Ng(u,f||{}),Object.defineProperty(u,Mt,{get:()=>{if(null===E){const P=Fg(u,f||{});E=Te().compileDirective(Da,P.sourceMapUrl,P.metadata)}return E},configurable:!1})}function Fg(u,f){const E=u&&u.name,P=`ng:///${E}/\u0275dir.js`,x=Te(),F=jg(u,f);return F.typeSourceSpan=x.createParseSourceSpan("Directive",E,P),F.usesInheritance&&Wg(u),{metadata:F,sourceMapUrl:P}}function Ng(u,f){let E=null;Object.defineProperty(u,Bt,{get:()=>{if(null===E){const P=Fg(u,f),x=Te();E=x.compileFactory(Da,`ng:///${u.name}/\u0275fac.js`,{name:P.metadata.name,type:P.metadata.type,typeArgumentCount:0,deps:Va(u),target:x.FactoryTarget.Directive})}return E},configurable:!1})}function N1(u){return Object.getPrototypeOf(u.prototype)===Object.prototype}function jg(u,f){const E=La(),P=E.ownPropMetadata(u);return{name:u.name,type:u,selector:void 0!==f.selector?f.selector:null,host:f.host||dn,propMetadata:P,inputs:f.inputs||fn,outputs:f.outputs||fn,queries:Kg(u,P,Vg),lifecycle:{usesOnChanges:E.hasLifecycleHook(u,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!N1(u),exportAs:K1(f.exportAs),providers:f.providers||null,viewQueries:Kg(u,P,Hg),isStandalone:!!f.standalone,hostDirectives:f.hostDirectives?.map(x=>"function"==typeof x?{directive:x}:x)||null}}function Wg(u){const f=Object.prototype;let E=Object.getPrototypeOf(u.prototype).constructor;for(;E&&E!==f;)!In(E)&&!An(E)&&H1(E)&&Fh(E,null),E=Object.getPrototypeOf(E)}function j1(u){return"string"==typeof u?$g(u):v(u)}function W1(u,f){return{propertyName:u,predicate:j1(f.selector),descendants:f.descendants,first:f.first,read:f.read?f.read:null,static:!!f.static,emitDistinctChangesOnly:!!f.emitDistinctChangesOnly}}function Kg(u,f,E){const P=[];for(const x in f)if(f.hasOwnProperty(x)){const F=f[x];F.forEach(te=>{if(E(te)){if(!te.selector)throw new Error(`Can't construct a query for the property "${x}" of "${C(u)}" since the query selector wasn't defined.`);if(F.some(kg))throw new Error("Cannot combine @Input decorators with query decorators");P.push(W1(x,te))}})}return P}function K1(u){return void 0===u?null:$g(u)}function Vg(u){const f=u.ngMetadataName;return"ContentChild"===f||"ContentChildren"===f}function Hg(u){const f=u.ngMetadataName;return"ViewChild"===f||"ViewChildren"===f}function kg(u){return"Input"===u.ngMetadataName}function $g(u){return u.split(",").map(f=>f.trim())}const V1=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function H1(u){const f=La();if(V1.some(P=>f.hasLifecycleHook(u,P)))return!0;const E=f.propMetadata(u);for(const P in E){const x=E[P];for(let F=0;F<x.length;F++){const te=x[F],pe=te.ngMetadataName;if(kg(te)||Vg(te)||Hg(te)||"Output"===pe||"HostBinding"===pe||"HostListener"===pe)return!0}}return!1}function zg(u,f){let E=null,P=null;Object.defineProperty(u,Bt,{get:()=>{if(null===P){const x=Gg(u,f),F=Te();P=F.compileFactory(Da,`ng:///${x.name}/\u0275fac.js`,{name:x.name,type:x.type,typeArgumentCount:0,deps:Va(u),target:F.FactoryTarget.Pipe})}return P},configurable:!1}),Object.defineProperty(u,Ve,{get:()=>{if(null===E){const x=Gg(u,f);E=Te().compilePipe(Da,`ng:///${x.name}/\u0275pipe.js`,x)}return E},configurable:!1})}function Gg(u,f){return{type:u,name:u.name,pipeName:f.name,pure:void 0===f.pure||f.pure,isStandalone:!!f.standalone}}const Yg=Do("Directive",(u={})=>u,void 0,void 0,(u,f)=>Fh(u,f)),k1=Do("Component",(u={})=>({changeDetection:Qt.Default,...u}),Yg,void 0,(u,f)=>wg(u,f)),$1=Do("Pipe",u=>({pure:!0,...u}),void 0,void 0,(u,f)=>zg(u,f)),z1=Oo("Input",u=>({bindingPropertyName:u})),G1=Oo("Output",u=>({bindingPropertyName:u})),Y1=Oo("HostBinding",u=>({hostPropertyName:u})),Q1=Oo("HostListener",(u,f)=>({eventName:u,args:f})),X1=Do("NgModule",u=>u,void 0,void 0,(u,f)=>Ag(u,f));function cu(...u){}const Qg=new Hr("Application Initializer");let du=(()=>{class u{constructor(E){this.appInits=E,this.resolve=cu,this.reject=cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((P,x)=>{this.resolve=P,this.reject=x})}runInitializers(){if(this.initialized)return;const E=[],P=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let x=0;x<this.appInits.length;x++){const F=this.appInits[x]();if(Sp(F))E.push(F);else if(Dm(F)){const te=new Promise((pe,Ce)=>{F.subscribe({complete:pe,error:Ce})});E.push(te)}}Promise.all(E).then(()=>{P()}).catch(x=>{this.reject(x)}),0===E.length&&P(),this.initialized=!0}}return u.\u0275fac=function(E){return new(E||u)(jt(Qg,8))},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Xg=new Hr("AppId",{providedIn:"root",factory:Zg});function Zg(){return`${Nh()}${Nh()}${Nh()}`}const Z1={provide:Xg,useFactory:Zg,deps:[]};function Nh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jg=new Hr("Platform Initializer"),J1=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q1=new Hr("Application Packages Root URL"),eC=new Hr("AnimationModuleType");let tC=(()=>{class u{log(E){console.log(E)}warn(E){console.warn(E)}}return u.\u0275fac=function(E){return new(E||u)},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"platform"}),u})();const uu=new Hr("LocaleId",{providedIn:"root",factory:()=>on(uu,lt.Optional|lt.SkipSelf)||function nC(){return typeof $localize<"u"&&$localize.locale||Wl}()}),rC=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),iC=new Hr("Translations"),oC=new Hr("TranslationsFormat");var ll=(()=>((ll=ll||{})[ll.Error=0]="Error",ll[ll.Warning=1]="Warning",ll[ll.Ignore=2]="Ignore",ll))();class qg{constructor(f,E){this.ngModuleFactory=f,this.componentFactories=E}}let sC=(()=>{class u{compileModuleSync(E){return new iu(E)}compileModuleAsync(E){return Promise.resolve(this.compileModuleSync(E))}compileModuleAndAllComponentsSync(E){const P=this.compileModuleSync(E),F=ul(Yn(E).declarations).reduce((te,pe)=>{const Ce=An(pe);return Ce&&te.push(new pc(Ce)),te},[]);return new qg(P,F)}compileModuleAndAllComponentsAsync(E){return Promise.resolve(this.compileModuleAndAllComponentsSync(E))}clearCache(){}clearCacheFor(E){}getModuleId(E){}}return u.\u0275fac=function(E){return new(E||u)},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const ev=new Hr("compilerOptions");class aC{}function lC(u){Wd(ae(u)),V_(u).forEach(f=>_m(f))}const tv="ng";let nv=!1;function cC(){nv||(nv=!0,Wa("\u0275setProfiler",Go),Wa("getDirectiveMetadata",l1),Wa("getComponent",Dh),Wa("getContext",W_),Wa("getListeners",$_),Wa("getOwningComponent",K_),Wa("getHostElement",Oh),Wa("getInjector",H_),Wa("getRootComponents",V_),Wa("getDirectives",k_),Wa("applyChanges",lC))}function Wa(u,f){if((typeof COMPILED>"u"||!COMPILED)&&qe){let P=qe[tv];P||(P=qe[tv]={}),P[u]=f}}const dC=(()=>Promise.resolve(0))();function jh(u){typeof Zone>"u"?dC.then(()=>{u&&u.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",u)}class Ka{constructor({enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:E=!1,shouldCoalesceRunChangeDetection:P=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),typeof Zone>"u")throw new o(908,!1);Zone.assertZonePatched();const x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!P&&E,x.shouldCoalesceRunChangeDetection=P,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function uC(){let u=qe.requestAnimationFrame,f=qe.cancelAnimationFrame;if(typeof Zone<"u"&&u&&f){const E=u[Zone.__symbol__("OriginalDelegate")];E&&(u=E);const P=f[Zone.__symbol__("OriginalDelegate")];P&&(f=P)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function fC(u){const f=()=>{!function hC(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call(qe,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,Kh(u),u.isCheckStableRunning=!0,Wh(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),Kh(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(E,P,x,F,te,pe)=>{try{return rv(u),E.invokeTask(x,F,te,pe)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===F.type||u.shouldCoalesceRunChangeDetection)&&f(),iv(u)}},onInvoke:(E,P,x,F,te,pe,Ce)=>{try{return rv(u),E.invoke(x,F,te,pe,Ce)}finally{u.shouldCoalesceRunChangeDetection&&f(),iv(u)}},onHasTask:(E,P,x,F)=>{E.hasTask(x,F),P===x&&("microTask"==F.change?(u._hasPendingMicrotasks=F.microTask,Kh(u),Wh(u)):"macroTask"==F.change&&(u.hasPendingMacrotasks=F.macroTask))},onHandleError:(E,P,x,F)=>(E.handleError(x,F),u.runOutsideAngular(()=>u.onError.emit(F)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ka.isInAngularZone())throw new o(909,!1)}static assertNotInAngularZone(){if(Ka.isInAngularZone())throw new o(909,!1)}run(f,E,P){return this._inner.run(f,E,P)}runTask(f,E,P,x){const F=this._inner,te=F.scheduleEventTask("NgZoneEvent: "+x,f,pC,cu,cu);try{return F.runTask(te,E,P)}finally{F.cancelTask(te)}}runGuarded(f,E,P){return this._inner.runGuarded(f,E,P)}runOutsideAngular(f){return this._outer.run(f)}}const pC={};function Wh(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function Kh(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function rv(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function iv(u){u._nesting--,Wh(u)}class ov{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(f,E,P){return f.apply(E,P)}runGuarded(f,E,P){return f.apply(E,P)}runOutsideAngular(f){return f()}runTask(f,E,P,x){return f.apply(E,P)}}const sv=new Hr(""),av=new Hr("");let Vh,mC=(()=>{class u{constructor(E,P,x){this._ngZone=E,this.registry=P,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vh||(cv(x),x.addToWindow(P)),this._watchAngularEvents(),E.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ka.assertNotInAngularZone(),jh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jh(()=>{for(;0!==this._callbacks.length;){let E=this._callbacks.pop();clearTimeout(E.timeoutId),E.doneCb(this._didWork)}this._didWork=!1});else{let E=this.getPendingTasks();this._callbacks=this._callbacks.filter(P=>!P.updateCb||!P.updateCb(E)||(clearTimeout(P.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(E=>({source:E.source,creationLocation:E.creationLocation,data:E.data})):[]}addCallback(E,P,x){let F=-1;P&&P>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(te=>te.timeoutId!==F),E(this._didWork,this.getPendingTasks())},P)),this._callbacks.push({doneCb:E,timeoutId:F,updateCb:x})}whenStable(E,P,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(E,P,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(E){this.registry.registerApplication(E,this)}unregisterApplication(E){this.registry.unregisterApplication(E)}findProviders(E,P,x){return[]}}return u.\u0275fac=function(E){return new(E||u)(jt(Ka),jt(lv),jt(av))},u.\u0275prov=ve({token:u,factory:u.\u0275fac}),u})(),lv=(()=>{class u{constructor(){this._applications=new Map}registerApplication(E,P){this._applications.set(E,P)}unregisterApplication(E){this._applications.delete(E)}unregisterAllApplications(){this._applications.clear()}getTestability(E){return this._applications.get(E)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(E,P=!0){return Vh?.findTestabilityInTree(this,E,P)??null}}return u.\u0275fac=function(E){return new(E||u)},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"platform"}),u})();function cv(u){Vh=u}const fl=!1;let Ol=null;const Hh=new Hr("AllowMultipleToken"),kh=new Hr("PlatformDestroyListeners"),dv=new Hr("appBootstrapListener");function uv(u,f,E){const P=new iu(E);return Promise.resolve(P)}function pv(u){return u.isBoundToModule}class _C{constructor(f,E){this.name=f,this.token=E}}function hv(u){if(Ol&&!Ol.get(Hh,!1))throw new o(400,!1);Ol=u;const f=u.get($h);return fv(u),f}function fv(u){const f=u.get(Jg,null);f&&f.forEach(E=>E())}function vC(u){const{rootComponent:f,appProviders:E,platformProviders:P}=u;fl&&void 0!==f&&function iE(u){if(function oE(u){if(!An(u))throw new o(906,`The ${C(u)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(u),!An(u).standalone)throw new o(907,`The ${C(u)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${C(u)} component has the \`standalone: true\` flag in the decorator.`)}(f);const x=function gC(u=[]){if(Ol)return Ol;const f=gv(u);return Ol=f,fv(f),f}(P),F=Ev("zone.js",vv());return F.run(()=>{const pe=Ch([{provide:Ka,useValue:F},...E||[]],x,"Environment Injector"),Ce=pe.get(td,null);if(fl&&!Ce)throw new o(402,"No `ErrorHandler` found in the Dependency Injection tree.");let Ue;F.runOutsideAngular(()=>{Ue=F.onError.subscribe({next:Vt=>{Ce.handleError(Vt)}})});const nt=()=>pe.destroy(),Ct=x.get(kh);return Ct.add(nt),pe.onDestroy(()=>{Ue.unsubscribe(),Ct.delete(nt)}),yv(Ce,F,()=>{const Vt=pe.get(du);return Vt.runInitializers(),Vt.donePromise.then(()=>{dh(pe.get(uu,Wl)||Wl);const yn=pe.get(hu);return void 0!==f&&yn.bootstrap(f),yn})})})}function mv(u,f,E=[]){const P=`Platform: ${f}`,x=new Hr(P);return(F=[])=>{let te=pu();if(!te||te.injector.get(Hh,!1)){const pe=[...E,...F,{provide:x,useValue:!0}];u?u(pe):hv(gv(pe,P))}return _v()}}function _v(u){const f=pu();if(!f)throw new o(401,!1);return f}function gv(u=[],f){return Cl.create({name:f,providers:[{provide:ju,useValue:"platform"},{provide:kh,useValue:new Set([()=>Ol=null])},...u]})}function EC(){pu()?.destroy()}function pu(){return Ol?.get($h)??null}let $h=(()=>{class u{constructor(E){this._injector=E,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(E,P){const x=Ev(P?.ngZone,vv(P)),F=[{provide:Ka,useValue:x}];return x.run(()=>{const te=Cl.create({providers:F,parent:this.injector,name:E.moduleType.name}),pe=E.create(te),Ce=pe.injector.get(td,null);if(!Ce)throw new o(402,!1);return x.runOutsideAngular(()=>{const Ue=x.onError.subscribe({next:nt=>{Ce.handleError(nt)}});pe.onDestroy(()=>{fu(this._modules,pe),Ue.unsubscribe()})}),yv(Ce,x,()=>{const Ue=pe.injector.get(du);return Ue.runInitializers(),Ue.donePromise.then(()=>(dh(pe.injector.get(uu,Wl)||Wl),this._moduleDoBootstrap(pe),pe))})})}bootstrapModule(E,P=[]){const x=Cv({},P);return uv(0,0,E).then(F=>this.bootstrapModuleFactory(F,x))}_moduleDoBootstrap(E){const P=E.injector.get(hu);if(E._bootstrapComponents.length>0)E._bootstrapComponents.forEach(x=>P.bootstrap(x));else{if(!E.instance.ngDoBootstrap)throw new o(-403,!1);E.instance.ngDoBootstrap(P)}this._modules.push(E)}onDestroy(E){this._destroyListeners.push(E)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new o(404,!1);this._modules.slice().forEach(P=>P.destroy()),this._destroyListeners.forEach(P=>P());const E=this._injector.get(kh,null);E&&(E.forEach(P=>P()),E.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return u.\u0275fac=function(E){return new(E||u)(jt(Cl))},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"platform"}),u})();function vv(u){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!u||!u.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!u||!u.ngZoneRunCoalescing)||!1}}function Ev(u,f){let E;return E="noop"===u?new ov:("zone.js"===u?void 0:u)||new Ka(f),E}function yv(u,f,E){try{const P=E();return Sp(P)?P.catch(x=>{throw f.runOutsideAngular(()=>u.handleError(x)),x}):P}catch(P){throw f.runOutsideAngular(()=>u.handleError(P)),P}}function Cv(u,f){return Array.isArray(f)?f.reduce(Cv,u):{...u,...f}}let hu=(()=>{class u{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(E,P,x){this._zone=E,this._injector=P,this._exceptionHandler=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const F=new a.y(pe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{pe.next(this._stable),pe.complete()})}),te=new a.y(pe=>{let Ce;this._zone.runOutsideAngular(()=>{Ce=this._zone.onStable.subscribe(()=>{Ka.assertNotInAngularZone(),jh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,pe.next(!0))})})});const Ue=this._zone.onUnstable.subscribe(()=>{Ka.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{pe.next(!1)}))});return()=>{Ce.unsubscribe(),Ue.unsubscribe()}});this.isStable=(0,i.T)(F,te.pipe((0,d.B)()))}bootstrap(E,P){fl&&this.warnIfDestroyed();const x=E instanceof Bd;if(!this._injector.get(du).done){const nn="Cannot bootstrap as there are still asynchronous initializers running."+(!x&&er(E)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new o(405,fl&&nn)}let te;te=x?E:this._injector.get(qc).resolveComponentFactory(E),this.componentTypes.push(te.componentType);const pe=pv(te)?void 0:this._injector.get(Mc),Ue=te.create(Cl.NULL,[],P||te.selector,pe),nt=Ue.location.nativeElement,Ct=Ue.injector.get(sv,null);return Ct?.registerApplication(nt),Ue.onDestroy(()=>{this.detachView(Ue.hostView),fu(this.components,Ue),Ct?.unregisterApplication(nt)}),this._loadComponent(Ue),Ue}tick(){if(fl&&this.warnIfDestroyed(),this._runningTick)throw new o(101,!1);try{this._runningTick=!0;for(let E of this._views)E.detectChanges()}catch(E){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(E))}finally{this._runningTick=!1}}attachView(E){fl&&this.warnIfDestroyed();const P=E;this._views.push(P),P.attachToAppRef(this)}detachView(E){fl&&this.warnIfDestroyed();const P=E;fu(this._views,P),P.detachFromAppRef()}_loadComponent(E){this.attachView(E.hostView),this.tick(),this.components.push(E);const P=this._injector.get(dv,[]);P.push(...this._bootstrapListeners),P.forEach(x=>x(E))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(E=>E()),this._views.slice().forEach(E=>E.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(E){return fl&&this.warnIfDestroyed(),this._destroyListeners.push(E),()=>fu(this._destroyListeners,E)}destroy(){if(this._destroyed)throw new o(406,!1);const E=this._injector;E.destroy&&!E.destroyed&&E.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){fl&&this._destroyed&&console.warn(D(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return u.\u0275fac=function(E){return new(E||u)(jt(Ka),jt(wl),jt(td))},u.\u0275prov=ve({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function fu(u,f){const E=u.indexOf(f);E>-1&&u.splice(E,1)}function CC(){return!1}function DC(){}function OC(u){const f=Hl(u);if(!f)throw Ov(u);return new iu(f)}function MC(u){const f=Hl(u);if(!f)throw Ov(u);return f}function Ov(u){return new Error(`No module with ID ${u} loaded`)}let Mv=(()=>{class u{}return u.__NG_ELEMENT_ID__=Sv,u})();function Sv(u){return function SC(u,f,E){if(co(u)&&!E){const P=Si(u.index,f);return new uc(P,P)}return 47&u.type?new uc(f[qr],f):null}(Jr(),xt(),16==(16&u))}class bv extends Mv{}class bC extends bv{}class PC{constructor(f,E){this.name=f,this.callback=E}}function IC(u){return u.map(f=>f.nativeElement)}class zh{constructor(f){this.nativeNode=f}get parent(){const f=this.nativeNode.parentNode;return f?new md(f):null}get injector(){return H_(this.nativeNode)}get componentInstance(){const f=this.nativeNode;return f&&(Dh(f)||K_(f))}get context(){return Dh(this.nativeNode)||W_(this.nativeNode)}get listeners(){return $_(this.nativeNode).filter(f=>"dom"===f.type)}get references(){return function c1(u){const f=Gs(u);if(null===f)return{};if(void 0===f.localRefs){const E=f.lView;if(null===E)return{};f.localRefs=function eo(u,f){const E=u[Sn].data[f];if(E&&E.localNames){const P={};let x=E.index+1;for(let F=0;F<E.localNames.length;F+=2)P[E.localNames[F]]=u[x],x++;return P}return null}(E,f.nodeIndex)}return f.localRefs||{}}(this.nativeNode)}get providerTokens(){return function a1(u){const f=Gs(u),E=f?f.lView:null;if(null===E)return[];const P=E[Sn],x=P.data[f.nodeIndex],F=[],pe=x.directiveEnd;for(let Ce=1048575&x.providerIndexes;Ce<pe;Ce++){let Ue=P.data[Ce];u1(Ue)&&(Ue=Ue.type),F.push(Ue)}return F}(this.nativeNode)}}class md extends zh{constructor(f){super(f)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const f=Gs(this.nativeNode),E=f?f.lView:null;return null!==E?E[Sn].data[f.nodeIndex].value:this.nativeNode.nodeName}get properties(){const f=Gs(this.nativeNode),E=f?f.lView:null;if(null===E)return{};const P=E[Sn].data,x=P[f.nodeIndex],F={};return function TC(u,f){if(u){let E=Object.getPrototypeOf(u);const P=Node.prototype;for(;null!==E&&E!==P;){const x=Object.getOwnPropertyDescriptors(E);for(let F in x)if(!F.startsWith("__")&&!F.startsWith("on")){const te=u[F];AC(te)&&(f[F]=te)}E=Object.getPrototypeOf(E)}}}(this.nativeElement,F),function RC(u,f,E,P){let x=f.propertyBindings;if(null!==x)for(let F=0;F<x.length;F++){const te=x[F],Ce=P[te].split("\ufffd"),Ue=Ce[0];if(Ce.length>1){let nt=Ce[1];for(let Ct=1;Ct<Ce.length-1;Ct++)nt+=M(E[te+Ct-1])+Ce[Ct+1];u[Ue]=nt}else u[Ue]=E[te]}}(F,x,E,P),F}get attributes(){const f={},E=this.nativeElement;if(!E)return f;const P=Gs(E),x=P?P.lView:null;if(null===x)return{};const F=x[Sn].data[P.nodeIndex].attrs,te=[];if(F){let pe=0;for(;pe<F.length;){const Ce=F[pe];if("string"!=typeof Ce)break;f[Ce]=F[pe+1],te.push(Ce.toLowerCase()),pe+=2}}for(const pe of E.attributes)te.includes(pe.name)||(f[pe.name]=pe.value);return f}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const f={},P=this.nativeElement.className;return("string"!=typeof P?P.baseVal.split(" "):P.split(" ")).forEach(F=>f[F]=!0),f}get childNodes(){const f=this.nativeNode.childNodes,E=[];for(let P=0;P<f.length;P++)E.push(bc(f[P]));return E}get children(){const f=this.nativeElement;if(!f)return[];const E=f.children,P=[];for(let x=0;x<E.length;x++)P.push(bc(E[x]));return P}query(f){return this.queryAll(f)[0]||null}queryAll(f){const E=[];return Pv(this,f,E,!0),E}queryAllNodes(f){const E=[];return Pv(this,f,E,!1),E}triggerEventHandler(f,E){const P=this.nativeNode,x=[];this.listeners.forEach(F=>{if(F.name===f){const te=F.callback;te.call(P,E),x.push(te)}}),"function"==typeof P.eventListeners&&P.eventListeners(f).forEach(F=>{if(-1!==F.toString().indexOf("__ngUnwrap__")){const te=F("__ngUnwrap__");return-1===x.indexOf(te)&&te.call(P,E)}})}}function AC(u){return"string"==typeof u||"boolean"==typeof u||"number"==typeof u||null===u}function Pv(u,f,E,P){const x=Gs(u.nativeNode),F=x?x.lView:null;null!==F?Vl(F[Sn].data[x.nodeIndex],F,f,E,P,u.nativeNode):Yh(u.nativeNode,f,E,P)}function Vl(u,f,E,P,x,F){const te=function io(u,f){const E=null===u?-1:u.index;return-1!==E?Ei(f[E]):null}(u,f);if(11&u.type){if(Gh(te,E,P,x,F),co(u)){const Ce=Si(u.index,f);Ce&&Ce[Sn].firstChild&&Vl(Ce[Sn].firstChild,Ce,E,P,x,F)}else u.child&&Vl(u.child,f,E,P,x,F),te&&Yh(te,E,P,x);const pe=f[u.index];Wr(pe)&&Iv(pe,E,P,x,F)}else if(4&u.type){const pe=f[u.index];Gh(pe[Ur],E,P,x,F),Iv(pe,E,P,x,F)}else if(16&u.type){const pe=f[qr],Ue=pe[br].projection[u.projection];if(Array.isArray(Ue))for(let nt of Ue)Gh(nt,E,P,x,F);else if(Ue){const nt=pe[hr];Vl(nt[Sn].data[Ue.index],nt,E,P,x,F)}}else u.child&&Vl(u.child,f,E,P,x,F);if(F!==te){const pe=2&u.flags?u.projectionNext:u.next;pe&&Vl(pe,f,E,P,x,F)}}function Iv(u,f,E,P,x){for(let F=Xn;F<u.length;F++){const te=u[F],pe=te[Sn].firstChild;pe&&Vl(pe,te,f,E,P,x)}}function Gh(u,f,E,P,x){if(x!==u){const F=bc(u);if(!F)return;(P&&F instanceof md&&f(F)&&-1===E.indexOf(F)||!P&&f(F)&&-1===E.indexOf(F))&&E.push(F)}}function Yh(u,f,E,P){const x=u.childNodes,F=x.length;for(let te=0;te<F;te++){const pe=x[te],Ce=bc(pe);Ce&&((P&&Ce instanceof md&&f(Ce)&&-1===E.indexOf(Ce)||!P&&f(Ce)&&-1===E.indexOf(Ce))&&E.push(Ce),Yh(pe,f,E,P))}}const Xh="__ng_debug__";function bc(u){return u instanceof Node?(u.hasOwnProperty(Xh)||(u[Xh]=u.nodeType==Node.ELEMENT_NODE?new md(u):new zh(u)),u[Xh]):null}function xC(u){return null}class Tv{constructor(){}supports(f){return kd(f)}create(f){return new Av(f)}}const LC=(u,f)=>f;class Av{constructor(f){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=f||LC}forEachItem(f){let E;for(E=this._itHead;null!==E;E=E._next)f(E)}forEachOperation(f){let E=this._itHead,P=this._removalsHead,x=0,F=null;for(;E||P;){const te=!P||E&&E.currentIndex<xv(P,x,F)?E:P,pe=xv(te,x,F),Ce=te.currentIndex;if(te===P)x--,P=P._nextRemoved;else if(E=E._next,null==te.previousIndex)x++;else{F||(F=[]);const Ue=pe-x,nt=Ce-x;if(Ue!=nt){for(let Vt=0;Vt<Ue;Vt++){const nn=Vt<F.length?F[Vt]:F[Vt]=0,yn=nn+Vt;nt<=yn&&yn<Ue&&(F[Vt]=nn+1)}F[te.previousIndex]=nt-Ue}}pe!==Ce&&f(te,pe,Ce)}}forEachPreviousItem(f){let E;for(E=this._previousItHead;null!==E;E=E._nextPrevious)f(E)}forEachAddedItem(f){let E;for(E=this._additionsHead;null!==E;E=E._nextAdded)f(E)}forEachMovedItem(f){let E;for(E=this._movesHead;null!==E;E=E._nextMoved)f(E)}forEachRemovedItem(f){let E;for(E=this._removalsHead;null!==E;E=E._nextRemoved)f(E)}forEachIdentityChange(f){let E;for(E=this._identityChangesHead;null!==E;E=E._nextIdentityChange)f(E)}diff(f){if(null==f&&(f=[]),!kd(f))throw new o(900,!1);return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let x,F,te,E=this._itHead,P=!1;if(Array.isArray(f)){this.length=f.length;for(let pe=0;pe<this.length;pe++)F=f[pe],te=this._trackByFn(pe,F),null!==E&&Object.is(E.trackById,te)?(P&&(E=this._verifyReinsertion(E,F,te,pe)),Object.is(E.item,F)||this._addIdentityChange(E,F)):(E=this._mismatch(E,F,te,pe),P=!0),E=E._next}else x=0,function R0(u,f){if(Array.isArray(u))for(let E=0;E<u.length;E++)f(u[E]);else{const E=u[Symbol.iterator]();let P;for(;!(P=E.next()).done;)f(P.value)}}(f,pe=>{te=this._trackByFn(x,pe),null!==E&&Object.is(E.trackById,te)?(P&&(E=this._verifyReinsertion(E,pe,te,x)),Object.is(E.item,pe)||this._addIdentityChange(E,pe)):(E=this._mismatch(E,pe,te,x),P=!0),E=E._next,x++}),this.length=x;return this._truncate(E),this.collection=f,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(f,E,P,x){let F;return null===f?F=this._itTail:(F=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null))?(Object.is(f.item,E)||this._addIdentityChange(f,E),this._reinsertAfter(f,F,x)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(P,x))?(Object.is(f.item,E)||this._addIdentityChange(f,E),this._moveAfter(f,F,x)):f=this._addAfter(new BC(E,P),F,x),f}_verifyReinsertion(f,E,P,x){let F=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null);return null!==F?f=this._reinsertAfter(F,f._prev,x):f.currentIndex!=x&&(f.currentIndex=x,this._addToMoves(f,x)),f}_truncate(f){for(;null!==f;){const E=f._next;this._addToRemovals(this._unlink(f)),f=E}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(f,E,P){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);const x=f._prevRemoved,F=f._nextRemoved;return null===x?this._removalsHead=F:x._nextRemoved=F,null===F?this._removalsTail=x:F._prevRemoved=x,this._insertAfter(f,E,P),this._addToMoves(f,P),f}_moveAfter(f,E,P){return this._unlink(f),this._insertAfter(f,E,P),this._addToMoves(f,P),f}_addAfter(f,E,P){return this._insertAfter(f,E,P),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}_insertAfter(f,E,P){const x=null===E?this._itHead:E._next;return f._next=x,f._prev=E,null===x?this._itTail=f:x._prev=f,null===E?this._itHead=f:E._next=f,null===this._linkedRecords&&(this._linkedRecords=new Rv),this._linkedRecords.put(f),f.currentIndex=P,f}_remove(f){return this._addToRemovals(this._unlink(f))}_unlink(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);const E=f._prev,P=f._next;return null===E?this._itHead=P:E._next=P,null===P?this._itTail=E:P._prev=E,f}_addToMoves(f,E){return f.previousIndex===E||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}_addToRemovals(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rv),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}_addIdentityChange(f,E){return f.item=E,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}class BC{constructor(f,E){this.item=f,this.trackById=E,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UC{constructor(){this._head=null,this._tail=null}add(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}get(f,E){let P;for(P=this._head;null!==P;P=P._nextDup)if((null===E||E<=P.currentIndex)&&Object.is(P.trackById,f))return P;return null}remove(f){const E=f._prevDup,P=f._nextDup;return null===E?this._head=P:E._nextDup=P,null===P?this._tail=E:P._prevDup=E,null===this._head}}class Rv{constructor(){this.map=new Map}put(f){const E=f.trackById;let P=this.map.get(E);P||(P=new UC,this.map.set(E,P)),P.add(f)}get(f,E){const x=this.map.get(f);return x?x.get(f,E):null}remove(f){const E=f.trackById;return this.map.get(E).remove(f)&&this.map.delete(E),f}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xv(u,f,E){const P=u.previousIndex;if(null===P)return P;let x=0;return E&&P<E.length&&(x=E[P]),P+f+x}class Lv{constructor(){}supports(f){return f instanceof Map||dp(f)}create(){return new wC}}class wC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(f){let E;for(E=this._mapHead;null!==E;E=E._next)f(E)}forEachPreviousItem(f){let E;for(E=this._previousMapHead;null!==E;E=E._nextPrevious)f(E)}forEachChangedItem(f){let E;for(E=this._changesHead;null!==E;E=E._nextChanged)f(E)}forEachAddedItem(f){let E;for(E=this._additionsHead;null!==E;E=E._nextAdded)f(E)}forEachRemovedItem(f){let E;for(E=this._removalsHead;null!==E;E=E._nextRemoved)f(E)}diff(f){if(f){if(!(f instanceof Map||dp(f)))throw new o(900,!1)}else f=new Map;return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let E=this._mapHead;if(this._appendAfter=null,this._forEach(f,(P,x)=>{if(E&&E.key===x)this._maybeAddToChanges(E,P),this._appendAfter=E,E=E._next;else{const F=this._getOrCreateRecordForKey(x,P);E=this._insertBeforeOrAppend(E,F)}}),E){E._prev&&(E._prev._next=null),this._removalsHead=E;for(let P=E;null!==P;P=P._nextRemoved)P===this._mapHead&&(this._mapHead=null),this._records.delete(P.key),P._nextRemoved=P._next,P.previousValue=P.currentValue,P.currentValue=null,P._prev=null,P._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(f,E){if(f){const P=f._prev;return E._next=f,E._prev=P,f._prev=E,P&&(P._next=E),f===this._mapHead&&(this._mapHead=E),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=E,E._prev=this._appendAfter):this._mapHead=E,this._appendAfter=E,null}_getOrCreateRecordForKey(f,E){if(this._records.has(f)){const x=this._records.get(f);this._maybeAddToChanges(x,E);const F=x._prev,te=x._next;return F&&(F._next=te),te&&(te._prev=F),x._next=null,x._prev=null,x}const P=new FC(f);return this._records.set(f,P),P.currentValue=E,this._addToAdditions(P),P}_reset(){if(this.isDirty){let f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(f,E){Object.is(E,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=E,this._addToChanges(f))}_addToAdditions(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}_addToChanges(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}_forEach(f,E){f instanceof Map?f.forEach(E):Object.keys(f).forEach(P=>E(f[P],P))}}class FC{constructor(f){this.key=f,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bv(){return new Zh([new Tv])}let Zh=(()=>{class u{constructor(E){this.factories=E}static create(E,P){if(null!=P){const x=P.factories.slice();E=E.concat(x)}return new u(E)}static extend(E){return{provide:u,useFactory:P=>u.create(E,P||Bv()),deps:[[u,new ca,new ba]]}}find(E){const P=this.factories.find(x=>x.supports(E));if(null!=P)return P;throw new o(901,!1)}}return u.\u0275prov=ve({token:u,providedIn:"root",factory:Bv}),u})();function Uv(){return new Jh([new Lv])}let Jh=(()=>{class u{constructor(E){this.factories=E}static create(E,P){if(P){const x=P.factories.slice();E=E.concat(x)}return new u(E)}static extend(E){return{provide:u,useFactory:P=>u.create(E,P||Uv()),deps:[[u,new ca,new ba]]}}find(E){const P=this.factories.find(x=>x.supports(E));if(P)return P;throw new o(901,!1)}}return u.\u0275prov=ve({token:u,providedIn:"root",factory:Uv}),u})();const NC=[new Lv],WC=new Zh([new Tv]),KC=new Jh(NC),VC=mv(null,"core",[]);let HC=(()=>{class u{constructor(E){}}return u.\u0275fac=function(E){return new(E||u)(jt(hu))},u.\u0275mod=hn({type:u}),u.\u0275inj=et({}),u})();function kC(u){return"boolean"==typeof u?u:null!=u&&"false"!==u}function $C(u){return Te().compileDirectiveDeclaration(Da,`ng:///${u.type.name}/\u0275fac.js`,u)}function zC(u){z_(u.type,u.decorators,u.ctorParameters??null,u.propDecorators??null)}function GC(u){return Te().compileComponentDeclaration(Da,`ng:///${u.type.name}/\u0275cmp.js`,u)}function YC(u){return Te(function QC(u){switch(u){case He.Directive:return"directive";case He.Component:return"component";case He.Injectable:return"injectable";case He.Pipe:return"pipe";case He.NgModule:return"NgModule"}}(u.target)).compileFactoryDeclaration(Da,`ng:///${u.type.name}/\u0275fac.js`,u)}function XC(u){return Te().compileInjectableDeclaration(Da,`ng:///${u.type.name}/\u0275prov.js`,u)}function ZC(u){return Te().compileInjectorDeclaration(Da,`ng:///${u.type.name}/\u0275inj.js`,u)}function JC(u){return Te().compileNgModuleDeclaration(Da,`ng:///${u.type.name}/\u0275mod.js`,u)}function qC(u){return Te().compilePipeDeclaration(Da,`ng:///${u.type.name}/\u0275pipe.js`,u)}function eD(u,f){const E=An(u),P=f.elementInjector||Ld();return new pc(E).create(P,f.projectableNodes,f.hostElement,f.environmentInjector)}function tD(u){const f=An(u);if(!f)return null;const E=new pc(f);return{get selector(){return E.selector},get type(){return E.componentType},get inputs(){return E.inputs},get outputs(){return E.outputs},get ngContentSelectors(){return E.ngContentSelectors},get isStandalone(){return f.standalone}}}},5476:(R,c,e)=>{"use strict";e.d(c,{CE:()=>no,Cf:()=>D,EJ:()=>uo,F:()=>br,Fj:()=>O,JJ:()=>$t,JL:()=>lt,JU:()=>p,Kr:()=>Le,Mq:()=>dt,NI:()=>_i,Oe:()=>vo,On:()=>ln,Q7:()=>Fi,QS:()=>xs,SD:()=>M,UX:()=>Yr,Wl:()=>m,YN:()=>ro,Zs:()=>yo,_:()=>Xn,_Y:()=>_n,a5:()=>mt,c5:()=>Gi,cw:()=>Gt,gN:()=>Ne,kI:()=>T,nD:()=>go,nJ:()=>dn,oH:()=>co,p4:()=>Ri,sg:()=>ei,u:()=>mo,u5:()=>dr,vC:()=>Si,wO:()=>di,x0:()=>bo});var t=e(98678),n=e(35103),a=e(14111),i=e(90654),d=e(48358);let r=(()=>{class se{constructor(V,De){this._renderer=V,this._elementRef=De,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(V,De){this._renderer.setProperty(this._elementRef.nativeElement,V,De)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se}),se})(),l=(()=>{class se extends r{}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,features:[t.\u0275\u0275InheritDefinitionFeature]}),se})();const p=new t.InjectionToken("NgValueAccessor"),h={provide:p,useExisting:(0,t.forwardRef)(()=>m),multi:!0};let m=(()=>{class se extends l{writeValue(V){this.setProperty("checked",V)}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("change",function(Wt){return De.onChange(Wt.target.checked)})("blur",function(){return De.onTouched()})},features:[t.\u0275\u0275ProvidersFeature([h]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const _={provide:p,useExisting:(0,t.forwardRef)(()=>O),multi:!0},y=new t.InjectionToken("CompositionEventMode");let O=(()=>{class se extends r{constructor(V,De,rt){super(V,De),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function v(){const se=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(se.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(y,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("input",function(Wt){return De._handleInput(Wt.target.value)})("blur",function(){return De.onTouched()})("compositionstart",function(){return De._compositionStart()})("compositionend",function(Wt){return De._compositionEnd(Wt.target.value)})},features:[t.\u0275\u0275ProvidersFeature([_]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const S=!1;function b(se){return null==se||("string"==typeof se||Array.isArray(se))&&0===se.length}function o(se){return null!=se&&"number"==typeof se.length}const D=new t.InjectionToken("NgValidators"),M=new t.InjectionToken("NgAsyncValidators"),C=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class T{static min(he){return function g(se){return he=>{if(b(he.value)||b(se))return null;const V=parseFloat(he.value);return!isNaN(V)&&V<se?{min:{min:se,actual:he.value}}:null}}(he)}static max(he){return function U(se){return he=>{if(b(he.value)||b(se))return null;const V=parseFloat(he.value);return!isNaN(V)&&V>se?{max:{max:se,actual:he.value}}:null}}(he)}static required(he){return L(he)}static requiredTrue(he){return j(he)}static email(he){return function $(se){return b(se.value)||C.test(se.value)?null:{email:!0}}(he)}static minLength(he){return z(he)}static maxLength(he){return re(he)}static pattern(he){return W(he)}static nullValidator(he){return null}static compose(he){return q(he)}static composeAsync(he){return J(he)}}function L(se){return b(se.value)?{required:!0}:null}function j(se){return!0===se.value?null:{required:!0}}function z(se){return he=>b(he.value)||!o(he.value)?null:he.value.length<se?{minlength:{requiredLength:se,actualLength:he.value.length}}:null}function re(se){return he=>o(he.value)&&he.value.length>se?{maxlength:{requiredLength:se,actualLength:he.value.length}}:null}function W(se){if(!se)return ie;let he,V;return"string"==typeof se?(V="","^"!==se.charAt(0)&&(V+="^"),V+=se,"$"!==se.charAt(se.length-1)&&(V+="$"),he=new RegExp(V)):(V=se.toString(),he=se),De=>{if(b(De.value))return null;const rt=De.value;return he.test(rt)?null:{pattern:{requiredPattern:V,actualValue:rt}}}}function ie(se){return null}function ce(se){return null!=se}function ne(se){const he=(0,t.\u0275isPromise)(se)?(0,a.D)(se):se;if(S&&!(0,t.\u0275isObservable)(he)){let V="Expected async validator to return Promise or Observable.";throw"object"==typeof se&&(V+=" Are you using a synchronous validator where an async validator is expected?"),new t.\u0275RuntimeError(-1101,V)}return he}function K(se){let he={};return se.forEach(V=>{he=null!=V?{...he,...V}:he}),0===Object.keys(he).length?null:he}function w(se,he){return he.map(V=>V(se))}function oe(se){return se.map(he=>function Q(se){return!se.validate}(he)?he:V=>he.validate(V))}function q(se){if(!se)return null;const he=se.filter(ce);return 0==he.length?null:function(V){return K(w(V,he))}}function ee(se){return null!=se?q(oe(se)):null}function J(se){if(!se)return null;const he=se.filter(ce);return 0==he.length?null:function(V){const De=w(V,he).map(ne);return(0,i.D)(De).pipe((0,d.U)(K))}}function Ee(se){return null!=se?J(oe(se)):null}function Oe(se,he){return null===se?[he]:Array.isArray(se)?[...se,he]:[se,he]}function Re(se){return se._rawValidators}function ve(se){return se._rawAsyncValidators}function Pe(se){return se?Array.isArray(se)?se:[se]:[]}function et(se,he){return Array.isArray(se)?se.includes(he):se===he}function Ze(se,he){const V=Pe(he);return Pe(se).forEach(rt=>{et(V,rt)||V.push(rt)}),V}function tt(se,he){return Pe(he).filter(V=>!et(se,V))}class yt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(he){this._rawValidators=he||[],this._composedValidatorFn=ee(this._rawValidators)}_setAsyncValidators(he){this._rawAsyncValidators=he||[],this._composedAsyncValidatorFn=Ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(he){this._onDestroyCallbacks.push(he)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(he=>he()),this._onDestroyCallbacks=[]}reset(he){this.control&&this.control.reset(he)}hasError(he,V){return!!this.control&&this.control.hasError(he,V)}getError(he,V){return this.control?this.control.getError(he,V):null}}class Ne extends yt{get formDirective(){return null}get path(){return null}}class mt extends yt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dt{constructor(he){this._cd=he}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $t=(()=>{class se extends Dt{constructor(V){super(V)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(mt,2))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,De){2&V&&t.\u0275\u0275classProp("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)},features:[t.\u0275\u0275InheritDefinitionFeature]}),se})(),lt=(()=>{class se extends Dt{constructor(V){super(V)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,10))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,De){2&V&&t.\u0275\u0275classProp("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)("ng-submitted",De.isSubmitted)},features:[t.\u0275\u0275InheritDefinitionFeature]}),se})();function Tt(se,he){return se?`with name: '${he}'`:`at index: ${he}`}const Rt=!1,sn="VALID",jt="INVALID",zt="PENDING",on="DISABLED";function ke(se){return(bt(se)?se.validators:se)||null}function we(se,he){return(bt(he)?he.asyncValidators:se)||null}function bt(se){return null!=se&&!Array.isArray(se)&&"object"==typeof se}function wt(se,he,V){const De=se.controls;if(!(he?Object.keys(De):De).length)throw new t.\u0275RuntimeError(1e3,Rt?function Mn(se){return`\n    There are no form controls registered with this ${se?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(he):"");if(!De[V])throw new t.\u0275RuntimeError(1001,Rt?function xn(se,he){return`Cannot find form control ${Tt(se,he)}`}(he,V):"")}function Xt(se,he,V){se._forEachChild((De,rt)=>{if(void 0===V[rt])throw new t.\u0275RuntimeError(1002,Rt?function qn(se,he){return`Must supply a value for form control ${Tt(se,he)}`}(he,rt):"")})}class Qt{constructor(he,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(he),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(he){this._rawValidators=this._composedValidatorFn=he}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(he){this._rawAsyncValidators=this._composedAsyncValidatorFn=he}get parent(){return this._parent}get valid(){return this.status===sn}get invalid(){return this.status===jt}get pending(){return this.status==zt}get disabled(){return this.status===on}get enabled(){return this.status!==on}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(he){this._assignValidators(he)}setAsyncValidators(he){this._assignAsyncValidators(he)}addValidators(he){this.setValidators(Ze(he,this._rawValidators))}addAsyncValidators(he){this.setAsyncValidators(Ze(he,this._rawAsyncValidators))}removeValidators(he){this.setValidators(tt(he,this._rawValidators))}removeAsyncValidators(he){this.setAsyncValidators(tt(he,this._rawAsyncValidators))}hasValidator(he){return et(this._rawValidators,he)}hasAsyncValidator(he){return et(this._rawAsyncValidators,he)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(he={}){this.touched=!0,this._parent&&!he.onlySelf&&this._parent.markAsTouched(he)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(he=>he.markAllAsTouched())}markAsUntouched(he={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!he.onlySelf&&this._parent._updateTouched(he)}markAsDirty(he={}){this.pristine=!1,this._parent&&!he.onlySelf&&this._parent.markAsDirty(he)}markAsPristine(he={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!he.onlySelf&&this._parent._updatePristine(he)}markAsPending(he={}){this.status=zt,!1!==he.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!he.onlySelf&&this._parent.markAsPending(he)}disable(he={}){const V=this._parentMarkedDirty(he.onlySelf);this.status=on,this.errors=null,this._forEachChild(De=>{De.disable({...he,onlySelf:!0})}),this._updateValue(),!1!==he.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...he,skipPristineCheck:V}),this._onDisabledChange.forEach(De=>De(!0))}enable(he={}){const V=this._parentMarkedDirty(he.onlySelf);this.status=sn,this._forEachChild(De=>{De.enable({...he,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:he.emitEvent}),this._updateAncestors({...he,skipPristineCheck:V}),this._onDisabledChange.forEach(De=>De(!1))}_updateAncestors(he){this._parent&&!he.onlySelf&&(this._parent.updateValueAndValidity(he),he.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(he){this._parent=he}getRawValue(){return this.value}updateValueAndValidity(he={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===zt)&&this._runAsyncValidator(he.emitEvent)),!1!==he.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!he.onlySelf&&this._parent.updateValueAndValidity(he)}_updateTreeValidity(he={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(he)),this.updateValueAndValidity({onlySelf:!0,emitEvent:he.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?on:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(he){if(this.asyncValidator){this.status=zt,this._hasOwnPendingAsyncValidator=!0;const V=ne(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(De=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(De,{emitEvent:he})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(he,V={}){this.errors=he,this._updateControlsErrors(!1!==V.emitEvent)}get(he){let V=he;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((De,rt)=>De&&De._find(rt),this)}getError(he,V){const De=V?this.get(V):this;return De&&De.errors?De.errors[he]:null}hasError(he,V){return!!this.getError(he,V)}get root(){let he=this;for(;he._parent;)he=he._parent;return he}_updateControlsErrors(he){this.status=this._calculateStatus(),he&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(he)}_initObservables(){this.valueChanges=new t.EventEmitter,this.statusChanges=new t.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?on:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zt)?zt:this._anyControlsHaveStatus(jt)?jt:sn}_anyControlsHaveStatus(he){return this._anyControls(V=>V.status===he)}_anyControlsDirty(){return this._anyControls(he=>he.dirty)}_anyControlsTouched(){return this._anyControls(he=>he.touched)}_updatePristine(he={}){this.pristine=!this._anyControlsDirty(),this._parent&&!he.onlySelf&&this._parent._updatePristine(he)}_updateTouched(he={}){this.touched=this._anyControlsTouched(),this._parent&&!he.onlySelf&&this._parent._updateTouched(he)}_registerOnCollectionChange(he){this._onCollectionChange=he}_setUpdateStrategy(he){bt(he)&&null!=he.updateOn&&(this._updateOn=he.updateOn)}_parentMarkedDirty(he){return!he&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(he){return null}_assignValidators(he){this._rawValidators=Array.isArray(he)?he.slice():he,this._composedValidatorFn=function xe(se){return Array.isArray(se)?ee(se):se||null}(this._rawValidators)}_assignAsyncValidators(he){this._rawAsyncValidators=Array.isArray(he)?he.slice():he,this._composedAsyncValidatorFn=function pt(se){return Array.isArray(se)?Ee(se):se||null}(this._rawAsyncValidators)}}class Gt extends Qt{constructor(he,V,De){super(ke(V),we(De,V)),this.controls=he,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(he,V){return this.controls[he]?this.controls[he]:(this.controls[he]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(he,V,De={}){this.registerControl(he,V),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}removeControl(he,V={}){this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),delete this.controls[he],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(he,V,De={}){this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),delete this.controls[he],V&&this.registerControl(he,V),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}contains(he){return this.controls.hasOwnProperty(he)&&this.controls[he].enabled}setValue(he,V={}){Xt(this,!0,he),Object.keys(he).forEach(De=>{wt(this,!0,De),this.controls[De].setValue(he[De],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(he,V={}){null!=he&&(Object.keys(he).forEach(De=>{const rt=this.controls[De];rt&&rt.patchValue(he[De],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(he={},V={}){this._forEachChild((De,rt)=>{De.reset(he[rt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(he,V,De)=>(he[De]=V.getRawValue(),he))}_syncPendingControls(){let he=this._reduceChildren(!1,(V,De)=>!!De._syncPendingControls()||V);return he&&this.updateValueAndValidity({onlySelf:!0}),he}_forEachChild(he){Object.keys(this.controls).forEach(V=>{const De=this.controls[V];De&&he(De,V)})}_setUpControls(){this._forEachChild(he=>{he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(he){for(const[V,De]of Object.entries(this.controls))if(this.contains(V)&&he(De))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,De,rt)=>((De.enabled||this.disabled)&&(V[rt]=De.value),V))}_reduceChildren(he,V){let De=he;return this._forEachChild((rt,Wt)=>{De=V(De,rt,Wt)}),De}_allControlsDisabled(){for(const he of Object.keys(this.controls))if(this.controls[he].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(he){return this.controls.hasOwnProperty(he)?this.controls[he]:null}}const dn=Gt;class ct extends Gt{}const Ve=new t.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function Bt(se,he){return[...he.path,se]}function je(se,he,V=vt){Cn(se,he),he.valueAccessor.writeValue(se.value),(se.disabled||"always"===V)&&he.valueAccessor.setDisabledState?.(se.disabled),function hn(se,he){he.valueAccessor.registerOnChange(V=>{se._pendingValue=V,se._pendingChange=!0,se._pendingDirty=!0,"change"===se.updateOn&&cn(se,he)})}(se,he),function Pn(se,he){const V=(De,rt)=>{he.valueAccessor.writeValue(De),rt&&he.viewToModelUpdate(De)};se.registerOnChange(V),he._registerOnDestroy(()=>{se._unregisterOnChange(V)})}(se,he),function En(se,he){he.valueAccessor.registerOnTouched(()=>{se._pendingTouched=!0,"blur"===se.updateOn&&se._pendingChange&&cn(se,he),"submit"!==se.updateOn&&se.markAsTouched()})}(se,he),function rn(se,he){if(he.valueAccessor.setDisabledState){const V=De=>{he.valueAccessor.setDisabledState(De)};se.registerOnDisabledChange(V),he._registerOnDestroy(()=>{se._unregisterOnDisabledChange(V)})}}(se,he)}function be(se,he,V=!0){const De=()=>{};he.valueAccessor&&(he.valueAccessor.registerOnChange(De),he.valueAccessor.registerOnTouched(De)),tr(se,he),se&&(he._invokeOnDestroyCallbacks(),se._registerOnCollectionChange(()=>{}))}function ot(se,he){se.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(he)})}function Cn(se,he){const V=Re(se);null!==he.validator?se.setValidators(Oe(V,he.validator)):"function"==typeof V&&se.setValidators([V]);const De=ve(se);null!==he.asyncValidator?se.setAsyncValidators(Oe(De,he.asyncValidator)):"function"==typeof De&&se.setAsyncValidators([De]);const rt=()=>se.updateValueAndValidity();ot(he._rawValidators,rt),ot(he._rawAsyncValidators,rt)}function tr(se,he){let V=!1;if(null!==se){if(null!==he.validator){const rt=Re(se);if(Array.isArray(rt)&&rt.length>0){const Wt=rt.filter(Dn=>Dn!==he.validator);Wt.length!==rt.length&&(V=!0,se.setValidators(Wt))}}if(null!==he.asyncValidator){const rt=ve(se);if(Array.isArray(rt)&&rt.length>0){const Wt=rt.filter(Dn=>Dn!==he.asyncValidator);Wt.length!==rt.length&&(V=!0,se.setAsyncValidators(Wt))}}}const De=()=>{};return ot(he._rawValidators,De),ot(he._rawAsyncValidators,De),V}function cn(se,he){se._pendingDirty&&se.markAsDirty(),se.setValue(se._pendingValue,{emitModelToViewChange:!1}),he.viewToModelUpdate(se._pendingValue),se._pendingChange=!1}function Bn(se,he){Cn(se,he)}function Ir(se,he){if(!se.hasOwnProperty("model"))return!1;const V=se.model;return!!V.isFirstChange()||!Object.is(he,V.currentValue)}function yr(se,he){se._syncPendingControls(),he.forEach(V=>{const De=V.control;"submit"===De.updateOn&&De._pendingChange&&(V.viewToModelUpdate(De._pendingValue),De._pendingChange=!1)})}function Sn(se,he){if(!he)return null;let V,De,rt;return Array.isArray(he),he.forEach(Wt=>{Wt.constructor===O?V=Wt:function si(se){return Object.getPrototypeOf(se.constructor)===l}(Wt)?De=Wt:rt=Wt}),rt||De||V||null}const Br={provide:Ne,useExisting:(0,t.forwardRef)(()=>br)},Xr=(()=>Promise.resolve())();let br=(()=>{class se extends Ne{constructor(V,De,rt){super(),this.callSetDisabledState=rt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.EventEmitter,this.form=new Gt({},ee(V),Ee(De))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Xr.then(()=>{const De=this._findContainer(V.path);V.control=De.registerControl(V.name,V.control),je(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Xr.then(()=>{const De=this._findContainer(V.path);De&&De.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Xr.then(()=>{const De=this._findContainer(V.path),rt=new Gt({});Bn(rt,V),De.registerControl(V.name,rt),rt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Xr.then(()=>{const De=this._findContainer(V.path);De&&De.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,De){Xr.then(()=>{this.form.get(V.path).setValue(De)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,yr(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10),t.\u0275\u0275directiveInject(Ve,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("submit",function(Wt){return De.onSubmit(Wt)})("reset",function(){return De.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.\u0275\u0275ProvidersFeature([Br]),t.\u0275\u0275InheritDefinitionFeature]}),se})();function Oi(se,he){const V=se.indexOf(he);V>-1&&se.splice(V,1)}function Nr(se){return"object"==typeof se&&null!==se&&2===Object.keys(se).length&&"value"in se&&"disabled"in se}const _i=class extends Qt{constructor(he=null,V,De){super(ke(V),we(De,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(he),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Nr(he)?he.value:he)}setValue(he,V={}){this.value=this._pendingValue=he,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(De=>De(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(he,V={}){this.setValue(he,V)}reset(he=this.defaultValue,V={}){this._applyFormState(he),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(he){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(he){this._onChange.push(he)}_unregisterOnChange(he){Oi(this._onChange,he)}registerOnDisabledChange(he){this._onDisabledChange.push(he)}_unregisterOnDisabledChange(he){Oi(this._onDisabledChange,he)}_forEachChild(he){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(he){Nr(he)?(this.value=this._pendingValue=he.value,he.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=he}},Ri=_i;let hi=(()=>{class se extends Ne{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,features:[t.\u0275\u0275InheritDefinitionFeature]}),se})();const Bi={provide:Ne,useExisting:(0,t.forwardRef)(()=>dt)};let dt=(()=>{class se extends hi{constructor(V,De,rt){super(),this._parent=V,this._setValidators(De),this._setAsyncValidators(rt)}_checkParentType(){}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,5),t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[t.\u0275\u0275ProvidersFeature([Bi]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Zt={provide:mt,useExisting:(0,t.forwardRef)(()=>ln)},Kt=(()=>Promise.resolve())();let ln=(()=>{class se extends mt{constructor(V,De,rt,Wt,Dn,xt){super(),this._changeDetectorRef=Dn,this.callSetDisabledState=xt,this.control=new _i,this._registered=!1,this.update=new t.EventEmitter,this._parent=V,this._setValidators(De),this._setAsyncValidators(rt),this.valueAccessor=Sn(0,Wt)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const De=V.name.previousValue;this.formDirective.removeControl({name:De,path:this._getPath(De)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Ir(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){je(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Kt.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const De=V.isDisabled.currentValue,rt=0!==De&&(0,t.\u0275coerceToBoolean)(De);Kt.then(()=>{rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Bt(V,this._parent):[V]}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,9),t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10),t.\u0275\u0275directiveInject(p,10),t.\u0275\u0275directiveInject(t.ChangeDetectorRef,8),t.\u0275\u0275directiveInject(Ve,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.\u0275\u0275ProvidersFeature([Zt]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]}),se})(),_n=(()=>{class se{}return se.\u0275fac=function(V){return new(V||se)},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),se})();const Mr={provide:p,useExisting:(0,t.forwardRef)(()=>Xn),multi:!0};let Tr=(()=>{class se{}return se.\u0275fac=function(V){return new(V||se)},se.\u0275mod=t.\u0275\u0275defineNgModule({type:se}),se.\u0275inj=t.\u0275\u0275defineInjector({}),se})(),Vn=(()=>{class se{constructor(){this._accessors=[]}add(V,De){this._accessors.push([V,De])}remove(V){for(let De=this._accessors.length-1;De>=0;--De)if(this._accessors[De][1]===V)return void this._accessors.splice(De,1)}select(V){this._accessors.forEach(De=>{this._isSameGroup(De,V)&&De[1]!==V&&De[1].fireUncheck(V.value)})}_isSameGroup(V,De){return!!V[0].control&&V[0]._parent===De._control._parent&&V[1].name===De.name}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:Tr}),se})(),Xn=(()=>{class se extends l{constructor(V,De,rt,Wt){super(V,De),this._registry=rt,this._injector=Wt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,t.inject)(Ve,{optional:!0})??vt}ngOnInit(){this._control=this._injector.get(mt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Vn),t.\u0275\u0275directiveInject(t.Injector))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("change",function(){return De.onChange()})("blur",function(){return De.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t.\u0275\u0275ProvidersFeature([Mr]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Wr=new t.InjectionToken("NgModelWithFormControlWarning"),So={provide:mt,useExisting:(0,t.forwardRef)(()=>co)};let co=(()=>{class se extends mt{set isDisabled(V){}constructor(V,De,rt,Wt,Dn){super(),this._ngModelWarningConfig=Wt,this.callSetDisabledState=Dn,this.update=new t.EventEmitter,this._ngModelWarningSent=!1,this._setValidators(V),this._setAsyncValidators(De),this.valueAccessor=Sn(0,rt)}ngOnChanges(V){if(this._isControlChanged(V)){const De=V.form.previousValue;De&&be(De,this,!1),je(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ir(V,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&be(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_isControlChanged(V){return V.hasOwnProperty("form")}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10),t.\u0275\u0275directiveInject(p,10),t.\u0275\u0275directiveInject(Wr,8),t.\u0275\u0275directiveInject(Ve,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t.\u0275\u0275ProvidersFeature([So]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]}),se})();const Ki={provide:Ne,useExisting:(0,t.forwardRef)(()=>ei)};let ei=(()=>{class se extends Ne{constructor(V,De,rt){super(),this.callSetDisabledState=rt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.EventEmitter,this._setValidators(V),this._setAsyncValidators(De)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const De=this.form.get(V.path);return je(De,V,this.callSetDisabledState),De.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),De}getControl(V){return this.form.get(V.path)}removeControl(V){be(V.control||null,V,!1),function Qn(se,he){const V=se.indexOf(he);V>-1&&se.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,De){this.form.get(V.path).setValue(De)}onSubmit(V){return this.submitted=!0,yr(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const De=V.control,rt=this.form.get(V.path);De!==rt&&(be(De||null,V),(se=>se instanceof _i)(rt)&&(je(rt,V,this.callSetDisabledState),V.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const De=this.form.get(V.path);Bn(De,V),De.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const De=this.form.get(V.path);De&&function An(se,he){return tr(se,he)}(De,V)&&De.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cn(this.form,this),this._oldForm&&tr(this._oldForm,this)}_checkFormPresent(){}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10),t.\u0275\u0275directiveInject(Ve,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formGroup",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("submit",function(Wt){return De.onSubmit(Wt)})("reset",function(){return De.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.\u0275\u0275ProvidersFeature([Ki]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]}),se})();const ko={provide:Ne,useExisting:(0,t.forwardRef)(()=>bo)};let bo=(()=>{class se extends hi{constructor(V,De,rt){super(),this._parent=V,this._setValidators(De),this._setAsyncValidators(rt)}_checkParentType(){Uo(this._parent)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,13),t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[t.\u0275\u0275ProvidersFeature([ko]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Bo={provide:Ne,useExisting:(0,t.forwardRef)(()=>no)};let no=(()=>{class se extends Ne{constructor(V,De,rt){super(),this._parent=V,this._setValidators(De),this._setAsyncValidators(rt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Bt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Uo(this._parent)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,13),t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[t.\u0275\u0275ProvidersFeature([Bo]),t.\u0275\u0275InheritDefinitionFeature]}),se})();function Uo(se){return!(se instanceof bo||se instanceof ei||se instanceof no)}const Po={provide:mt,useExisting:(0,t.forwardRef)(()=>mo)};let mo=(()=>{class se extends mt{set isDisabled(V){}constructor(V,De,rt,Wt,Dn){super(),this._ngModelWarningConfig=Dn,this._added=!1,this.update=new t.EventEmitter,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(De),this._setAsyncValidators(rt),this.valueAccessor=Sn(0,Wt)}ngOnChanges(V){this._added||this._setUpControl(),Ir(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(Ne,13),t.\u0275\u0275directiveInject(D,10),t.\u0275\u0275directiveInject(M,10),t.\u0275\u0275directiveInject(p,10),t.\u0275\u0275directiveInject(Wr,8))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t.\u0275\u0275ProvidersFeature([Po]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]}),se})();const Mi={provide:p,useExisting:(0,t.forwardRef)(()=>uo),multi:!0};function $o(se,he){return null==se?`${he}`:(he&&"object"==typeof he&&(he="Object"),`${se}: ${he}`.slice(0,50))}let uo=(()=>{class se extends l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const rt=$o(this._getOptionId(V),V);this.setProperty("value",rt)}registerOnChange(V){this.onChange=De=>{this.value=this._getOptionValue(De),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const De of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(De),V))return De;return null}_getOptionValue(V){const De=function as(se){return se.split(":")[0]}(V);return this._optionMap.has(De)?this._optionMap.get(De):V}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("change",function(Wt){return De.onChange(Wt.target.value)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[t.\u0275\u0275ProvidersFeature([Mi]),t.\u0275\u0275InheritDefinitionFeature]}),se})(),ro=(()=>{class se{constructor(V,De,rt){this._element=V,this._renderer=De,this._select=rt,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue($o(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(uo,9))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})();const ms={provide:p,useExisting:(0,t.forwardRef)(()=>vn),multi:!0};function _s(se,he){return null==se?`${he}`:("string"==typeof he&&(he=`'${he}'`),he&&"object"==typeof he&&(he="Object"),`${se}: ${he}`.slice(0,50))}let vn=(()=>{class se extends l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let De;if(this.value=V,Array.isArray(V)){const rt=V.map(Wt=>this._getOptionId(Wt));De=(Wt,Dn)=>{Wt._setSelected(rt.indexOf(Dn.toString())>-1)}}else De=(rt,Wt)=>{rt._setSelected(!1)};this._optionMap.forEach(De)}registerOnChange(V){this.onChange=De=>{const rt=[],Wt=De.selectedOptions;if(void 0!==Wt){const Dn=Wt;for(let xt=0;xt<Dn.length;xt++){const Zr=this._getOptionValue(Dn[xt].value);rt.push(Zr)}}else{const Dn=De.options;for(let xt=0;xt<Dn.length;xt++){const Un=Dn[xt];if(Un.selected){const Zr=this._getOptionValue(Un.value);rt.push(Zr)}}}this.value=rt,V(rt)}}_registerOption(V){const De=(this._idCounter++).toString();return this._optionMap.set(De,V),De}_getOptionId(V){for(const De of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(De)._value,V))return De;return null}_getOptionValue(V){const De=function _o(se){return se.split(":")[0]}(V);return this._optionMap.has(De)?this._optionMap.get(De)._value:V}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(V,De){1&V&&t.\u0275\u0275listener("change",function(Wt){return De.onChange(Wt.target)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[t.\u0275\u0275ProvidersFeature([ms]),t.\u0275\u0275InheritDefinitionFeature]}),se})(),Le=(()=>{class se{constructor(V,De,rt){this._element=V,this._renderer=De,this._select=rt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(_s(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(_s(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(vn,9))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})();function $e(se){return"number"==typeof se?se:parseInt(se,10)}let pn=(()=>{class se{constructor(){this._validator=ie}ngOnChanges(V){if(this.inputName in V){const De=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(De),this._validator=this._enabled?this.createValidator(De):ie,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,features:[t.\u0275\u0275NgOnChangesFeature]}),se})();const gi={provide:D,useExisting:(0,t.forwardRef)(()=>Fi),multi:!0},ci={provide:D,useExisting:(0,t.forwardRef)(()=>yo),multi:!0};let Fi=(()=>{class se extends pn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.\u0275coerceToBoolean,this.createValidator=V=>L}enabled(V){return V}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,De){2&V&&t.\u0275\u0275attribute("required",De._enabled?"":null)},inputs:{required:"required"},features:[t.\u0275\u0275ProvidersFeature([gi]),t.\u0275\u0275InheritDefinitionFeature]}),se})(),yo=(()=>{class se extends Fi{constructor(){super(...arguments),this.createValidator=V=>j}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(V,De){2&V&&t.\u0275\u0275attribute("required",De._enabled?"":null)},features:[t.\u0275\u0275ProvidersFeature([ci]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Go={provide:D,useExisting:(0,t.forwardRef)(()=>di),multi:!0};let di=(()=>{class se extends pn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=V=>$e(V),this.createValidator=V=>z(V)}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(V,De){2&V&&t.\u0275\u0275attribute("minlength",De._enabled?De.minlength:null)},inputs:{minlength:"minlength"},features:[t.\u0275\u0275ProvidersFeature([Go]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Yo={provide:D,useExisting:(0,t.forwardRef)(()=>go),multi:!0};let go=(()=>{class se extends pn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=V=>$e(V),this.createValidator=V=>re(V)}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(V,De){2&V&&t.\u0275\u0275attribute("maxlength",De._enabled?De.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t.\u0275\u0275ProvidersFeature([Yo]),t.\u0275\u0275InheritDefinitionFeature]}),se})();const Ei={provide:D,useExisting:(0,t.forwardRef)(()=>Gi),multi:!0};let Gi=(()=>{class se extends pn{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=V=>V,this.createValidator=V=>W(V)}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(V,De){2&V&&t.\u0275\u0275attribute("pattern",De._enabled?De.pattern:null)},inputs:{pattern:"pattern"},features:[t.\u0275\u0275ProvidersFeature([Ei]),t.\u0275\u0275InheritDefinitionFeature]}),se})(),Qo=(()=>{class se{}return se.\u0275fac=function(V){return new(V||se)},se.\u0275mod=t.\u0275\u0275defineNgModule({type:se}),se.\u0275inj=t.\u0275\u0275defineInjector({imports:[Tr]}),se})();class vo extends Qt{constructor(he,V,De){super(ke(V),we(De,V)),this.controls=he,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(he){return this.controls[this._adjustIndex(he)]}push(he,V={}){this.controls.push(he),this._registerControl(he),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(he,V,De={}){this.controls.splice(he,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:De.emitEvent})}removeAt(he,V={}){let De=this._adjustIndex(he);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(he,V,De={}){let rt=this._adjustIndex(he);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),V&&(this.controls.splice(rt,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(he,V={}){Xt(this,!1,he),he.forEach((De,rt)=>{wt(this,!1,rt),this.at(rt).setValue(De,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(he,V={}){null!=he&&(he.forEach((De,rt)=>{this.at(rt)&&this.at(rt).patchValue(De,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(he=[],V={}){this._forEachChild((De,rt)=>{De.reset(he[rt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(he=>he.getRawValue())}clear(he={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:he.emitEvent}))}_adjustIndex(he){return he<0?he+this.length:he}_syncPendingControls(){let he=this.controls.reduce((V,De)=>!!De._syncPendingControls()||V,!1);return he&&this.updateValueAndValidity({onlySelf:!0}),he}_forEachChild(he){this.controls.forEach((V,De)=>{he(V,De)})}_updateValue(){this.value=this.controls.filter(he=>he.enabled||this.disabled).map(he=>he.value)}_anyControls(he){return this.controls.some(V=>V.enabled&&he(V))}_setUpControls(){this._forEachChild(he=>this._registerControl(he))}_allControlsDisabled(){for(const he of this.controls)if(he.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(he){he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange)}_find(he){return this.at(he)??null}}const Si=vo;function bi(se){return!!se&&(void 0!==se.asyncValidators||void 0!==se.validators||void 0!==se.updateOn)}let ls=(()=>{class se{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new se;return V.useNonNullable=!0,V}group(V,De=null){const rt=this._reduceControls(V);let Wt={};return bi(De)?Wt=De:null!==De&&(Wt.validators=De.validator,Wt.asyncValidators=De.asyncValidator),new Gt(rt,Wt)}record(V,De=null){const rt=this._reduceControls(V);return new ct(rt,De)}control(V,De,rt){let Wt={};return this.useNonNullable?(bi(De)?Wt=De:(Wt.validators=De,Wt.asyncValidators=rt),new _i(V,{...Wt,nonNullable:!0})):new _i(V,De,rt)}array(V,De,rt){const Wt=V.map(Dn=>this._createControl(Dn));return new vo(Wt,De,rt)}_reduceControls(V){const De={};return Object.keys(V).forEach(rt=>{De[rt]=this._createControl(V[rt])}),De}_createControl(V){return V instanceof _i||V instanceof Qt?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),xs=(()=>{class se extends ls{group(V,De=null){return super.group(V,De)}control(V,De,rt){return super.control(V,De,rt)}array(V,De,rt){return super.array(V,De,rt)}}return se.\u0275fac=function(){let he;return function(De){return(he||(he=t.\u0275\u0275getInheritedFactory(se)))(De||se)}}(),se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),dr=(()=>{class se{static withConfig(V){return{ngModule:se,providers:[{provide:Ve,useValue:V.callSetDisabledState??vt}]}}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275mod=t.\u0275\u0275defineNgModule({type:se}),se.\u0275inj=t.\u0275\u0275defineInjector({imports:[Qo]}),se})(),Yr=(()=>{class se{static withConfig(V){return{ngModule:se,providers:[{provide:Wr,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Ve,useValue:V.callSetDisabledState??vt}]}}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275mod=t.\u0275\u0275defineNgModule({type:se}),se.\u0275inj=t.\u0275\u0275defineInjector({imports:[Qo]}),se})()},91823:(R,c,e)=>{"use strict";e.d(c,{Cb:()=>Rt,Cu:()=>zt,Dx:()=>gt,H7:()=>Qt,b2:()=>Qe,h_:()=>Je,hm:()=>bt,ki:()=>sn,ok:()=>we,q6:()=>Jt,se:()=>ce});var t=e(35103),n=e(98678);class a extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class i extends a{static makeCurrent(){(0,t.HT)(new i)}onAndCancel(Mt,Ve,vt){return Mt.addEventListener(Ve,vt,!1),()=>{Mt.removeEventListener(Ve,vt,!1)}}dispatchEvent(Mt,Ve){Mt.dispatchEvent(Ve)}remove(Mt){Mt.parentNode&&Mt.parentNode.removeChild(Mt)}createElement(Mt,Ve){return(Ve=Ve||this.getDefaultDocument()).createElement(Mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Mt){return Mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Mt){return Mt instanceof DocumentFragment}getGlobalEventTarget(Mt,Ve){return"window"===Ve?window:"document"===Ve?Mt:"body"===Ve?Mt.body:null}getBaseHref(Mt){const Ve=function r(){return d=d||document.querySelector("base"),d?d.getAttribute("href"):null}();return null==Ve?null:function p(ct){l=l||document.createElement("a"),l.setAttribute("href",ct);const Mt=l.pathname;return"/"===Mt.charAt(0)?Mt:`/${Mt}`}(Ve)}resetBaseElement(){d=null}getUserAgent(){return window.navigator.userAgent}getCookie(Mt){return(0,t.Mx)(document.cookie,Mt)}}let l,d=null;const h=new n.InjectionToken("TRANSITION_ID"),_=[{provide:n.APP_INITIALIZER,useFactory:function m(ct,Mt,Ve){return()=>{Ve.get(n.ApplicationInitStatus).donePromise.then(()=>{const vt=(0,t.q)(),Bt=Mt.querySelectorAll(`style[ng-transition="${ct}"]`);for(let je=0;je<Bt.length;je++)vt.remove(Bt[je])})}},deps:[h,t.K0,n.Injector],multi:!0}];let y=(()=>{class ct{build(){return new XMLHttpRequest}}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();const O=new n.InjectionToken("EventManagerPlugins");let S=(()=>{class ct{constructor(Ve,vt){this._zone=vt,this._eventNameToPlugin=new Map,Ve.forEach(Bt=>{Bt.manager=this}),this._plugins=Ve.slice().reverse()}addEventListener(Ve,vt,Bt){return this._findPluginFor(vt).addEventListener(Ve,vt,Bt)}addGlobalEventListener(Ve,vt,Bt){return this._findPluginFor(vt).addGlobalEventListener(Ve,vt,Bt)}getZone(){return this._zone}_findPluginFor(Ve){const vt=this._eventNameToPlugin.get(Ve);if(vt)return vt;const Bt=this._plugins;for(let je=0;je<Bt.length;je++){const be=Bt[je];if(be.supports(Ve))return this._eventNameToPlugin.set(Ve,be),be}throw new Error(`No event manager plugin found for event ${Ve}`)}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(O),n.\u0275\u0275inject(n.NgZone))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();class b{constructor(Mt){this._doc=Mt}addGlobalEventListener(Mt,Ve,vt){const Bt=(0,t.q)().getGlobalEventTarget(this._doc,Mt);if(!Bt)throw new Error(`Unsupported event target ${Bt} for event ${Ve}`);return this.addEventListener(Bt,Ve,vt)}}let o=(()=>{class ct{constructor(){this.usageCount=new Map}addStyles(Ve){for(const vt of Ve)1===this.changeUsageCount(vt,1)&&this.onStyleAdded(vt)}removeStyles(Ve){for(const vt of Ve)0===this.changeUsageCount(vt,-1)&&this.onStyleRemoved(vt)}onStyleRemoved(Ve){}onStyleAdded(Ve){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Ve,vt){const Bt=this.usageCount;let je=Bt.get(Ve)??0;return je+=vt,je>0?Bt.set(Ve,je):Bt.delete(Ve),je}ngOnDestroy(){for(const Ve of this.getAllStyles())this.onStyleRemoved(Ve);this.usageCount.clear()}}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})(),D=(()=>{class ct extends o{constructor(Ve){super(),this.doc=Ve,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Ve){for(const vt of this.hostNodes)this.addStyleToHost(vt,Ve)}onStyleRemoved(Ve){const vt=this.styleRef;vt.get(Ve)?.forEach(je=>je.remove()),vt.delete(Ve)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Ve){this.hostNodes.add(Ve);for(const vt of this.getAllStyles())this.addStyleToHost(Ve,vt)}removeHost(Ve){this.hostNodes.delete(Ve)}addStyleToHost(Ve,vt){const Bt=this.doc.createElement("style");Bt.textContent=vt,Ve.appendChild(Bt);const je=this.styleRef.get(vt);je?je.push(Bt):this.styleRef.set(vt,[Bt])}resetHostNodes(){const Ve=this.hostNodes;Ve.clear(),Ve.add(this.doc.head)}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();const M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C=/%COMP%/g,g="%COMP%",U=`_nghost-${g}`,L=`_ngcontent-${g}`,$=new n.InjectionToken("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function W(ct,Mt){return Mt.flat(100).map(Ve=>Ve.replace(C,ct))}function ie(ct){return Mt=>{if("__ngUnwrap__"===Mt)return ct;!1===ct(Mt)&&(Mt.preventDefault(),Mt.returnValue=!1)}}let ce=(()=>{class ct{constructor(Ve,vt,Bt,je){this.eventManager=Ve,this.sharedStylesHost=vt,this.appId=Bt,this.removeStylesOnCompDestory=je,this.rendererByCompId=new Map,this.defaultRenderer=new ne(Ve)}createRenderer(Ve,vt){if(!Ve||!vt)return this.defaultRenderer;const Bt=this.getOrCreateRenderer(Ve,vt);return Bt instanceof ee?Bt.applyToHost(Ve):Bt instanceof q&&Bt.applyStyles(),Bt}getOrCreateRenderer(Ve,vt){const Bt=this.rendererByCompId;let je=Bt.get(vt.id);if(!je){const be=this.eventManager,ot=this.sharedStylesHost,rn=this.removeStylesOnCompDestory;switch(vt.encapsulation){case n.ViewEncapsulation.Emulated:je=new ee(be,ot,vt,this.appId,rn);break;case n.ViewEncapsulation.ShadowDom:return new oe(be,ot,Ve,vt);default:je=new q(be,ot,vt,rn)}je.onDestroy=()=>Bt.delete(vt.id),Bt.set(vt.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(S),n.\u0275\u0275inject(D),n.\u0275\u0275inject(n.APP_ID),n.\u0275\u0275inject($))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();class ne{constructor(Mt){this.eventManager=Mt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Mt,Ve){return Ve?document.createElementNS(M[Ve]||Ve,Mt):document.createElement(Mt)}createComment(Mt){return document.createComment(Mt)}createText(Mt){return document.createTextNode(Mt)}appendChild(Mt,Ve){(Q(Mt)?Mt.content:Mt).appendChild(Ve)}insertBefore(Mt,Ve,vt){Mt&&(Q(Mt)?Mt.content:Mt).insertBefore(Ve,vt)}removeChild(Mt,Ve){Mt&&Mt.removeChild(Ve)}selectRootElement(Mt,Ve){let vt="string"==typeof Mt?document.querySelector(Mt):Mt;if(!vt)throw new Error(`The selector "${Mt}" did not match any elements`);return Ve||(vt.textContent=""),vt}parentNode(Mt){return Mt.parentNode}nextSibling(Mt){return Mt.nextSibling}setAttribute(Mt,Ve,vt,Bt){if(Bt){Ve=Bt+":"+Ve;const je=M[Bt];je?Mt.setAttributeNS(je,Ve,vt):Mt.setAttribute(Ve,vt)}else Mt.setAttribute(Ve,vt)}removeAttribute(Mt,Ve,vt){if(vt){const Bt=M[vt];Bt?Mt.removeAttributeNS(Bt,Ve):Mt.removeAttribute(`${vt}:${Ve}`)}else Mt.removeAttribute(Ve)}addClass(Mt,Ve){Mt.classList.add(Ve)}removeClass(Mt,Ve){Mt.classList.remove(Ve)}setStyle(Mt,Ve,vt,Bt){Bt&(n.RendererStyleFlags2.DashCase|n.RendererStyleFlags2.Important)?Mt.style.setProperty(Ve,vt,Bt&n.RendererStyleFlags2.Important?"important":""):Mt.style[Ve]=vt}removeStyle(Mt,Ve,vt){vt&n.RendererStyleFlags2.DashCase?Mt.style.removeProperty(Ve):Mt.style[Ve]=""}setProperty(Mt,Ve,vt){Mt[Ve]=vt}setValue(Mt,Ve){Mt.nodeValue=Ve}listen(Mt,Ve,vt){return"string"==typeof Mt?this.eventManager.addGlobalEventListener(Mt,Ve,ie(vt)):this.eventManager.addEventListener(Mt,Ve,ie(vt))}}function Q(ct){return"TEMPLATE"===ct.tagName&&void 0!==ct.content}class oe extends ne{constructor(Mt,Ve,vt,Bt){super(Mt),this.sharedStylesHost=Ve,this.hostEl=vt,this.shadowRoot=vt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const je=W(Bt.id,Bt.styles);for(const be of je){const ot=document.createElement("style");ot.textContent=be,this.shadowRoot.appendChild(ot)}}nodeOrShadowRoot(Mt){return Mt===this.hostEl?this.shadowRoot:Mt}appendChild(Mt,Ve){return super.appendChild(this.nodeOrShadowRoot(Mt),Ve)}insertBefore(Mt,Ve,vt){return super.insertBefore(this.nodeOrShadowRoot(Mt),Ve,vt)}removeChild(Mt,Ve){return super.removeChild(this.nodeOrShadowRoot(Mt),Ve)}parentNode(Mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class q extends ne{constructor(Mt,Ve,vt,Bt,je=vt.id){super(Mt),this.sharedStylesHost=Ve,this.removeStylesOnCompDestory=Bt,this.rendererUsageCount=0,this.styles=W(je,vt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ee extends q{constructor(Mt,Ve,vt,Bt,je){const be=Bt+"-"+vt.id;super(Mt,Ve,vt,je,be),this.contentAttr=function z(ct){return L.replace(C,ct)}(be),this.hostAttr=function re(ct){return U.replace(C,ct)}(be)}applyToHost(Mt){this.applyStyles(),this.setAttribute(Mt,this.hostAttr,"")}createElement(Mt,Ve){const vt=super.createElement(Mt,Ve);return super.setAttribute(vt,this.contentAttr,""),vt}}let J=(()=>{class ct extends b{constructor(Ve){super(Ve)}supports(Ve){return!0}addEventListener(Ve,vt,Bt){return Ve.addEventListener(vt,Bt,!1),()=>this.removeEventListener(Ve,vt,Bt)}removeEventListener(Ve,vt,Bt){return Ve.removeEventListener(vt,Bt)}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();const Ee=["alt","control","meta","shift"],Oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={alt:ct=>ct.altKey,control:ct=>ct.ctrlKey,meta:ct=>ct.metaKey,shift:ct=>ct.shiftKey};let ve=(()=>{class ct extends b{constructor(Ve){super(Ve)}supports(Ve){return null!=ct.parseEventName(Ve)}addEventListener(Ve,vt,Bt){const je=ct.parseEventName(vt),be=ct.eventCallback(je.fullKey,Bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(Ve,je.domEventName,be))}static parseEventName(Ve){const vt=Ve.toLowerCase().split("."),Bt=vt.shift();if(0===vt.length||"keydown"!==Bt&&"keyup"!==Bt)return null;const je=ct._normalizeKey(vt.pop());let be="",ot=vt.indexOf("code");if(ot>-1&&(vt.splice(ot,1),be="code."),Ee.forEach(Cn=>{const tr=vt.indexOf(Cn);tr>-1&&(vt.splice(tr,1),be+=Cn+".")}),be+=je,0!=vt.length||0===je.length)return null;const rn={};return rn.domEventName=Bt,rn.fullKey=be,rn}static matchEventFullKeyCode(Ve,vt){let Bt=Oe[Ve.key]||Ve.key,je="";return vt.indexOf("code.")>-1&&(Bt=Ve.code,je="code."),!(null==Bt||!Bt)&&(Bt=Bt.toLowerCase()," "===Bt?Bt="space":"."===Bt&&(Bt="dot"),Ee.forEach(be=>{be!==Bt&&(0,Re[be])(Ve)&&(je+=be+".")}),je+=Bt,je===vt)}static eventCallback(Ve,vt,Bt){return je=>{ct.matchEventFullKeyCode(je,Ve)&&Bt.runGuarded(()=>vt(je))}}static _normalizeKey(Ve){return"esc"===Ve?"escape":Ve}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})();const Jt=(0,n.createPlatformFactory)(n.platformCore,"browser",[{provide:n.PLATFORM_ID,useValue:t.bD},{provide:n.PLATFORM_INITIALIZER,useValue:function Ne(){i.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function Dt(){return(0,n.\u0275setDocument)(document),document},deps:[]}]),$t=new n.InjectionToken(""),lt=[{provide:n.\u0275TESTABILITY_GETTER,useClass:class v{addToWindow(Mt){n.\u0275global.getAngularTestability=(vt,Bt=!0)=>{const je=Mt.findTestabilityInTree(vt,Bt);if(null==je)throw new Error("Could not find testability for element.");return je},n.\u0275global.getAllAngularTestabilities=()=>Mt.getAllTestabilities(),n.\u0275global.getAllAngularRootElements=()=>Mt.getAllRootElements(),n.\u0275global.frameworkStabilizers||(n.\u0275global.frameworkStabilizers=[]),n.\u0275global.frameworkStabilizers.push(vt=>{const Bt=n.\u0275global.getAllAngularTestabilities();let je=Bt.length,be=!1;const ot=function(rn){be=be||rn,je--,0==je&&vt(be)};Bt.forEach(function(rn){rn.whenStable(ot)})})}findTestabilityInTree(Mt,Ve,vt){return null==Ve?null:Mt.getTestability(Ve)??(vt?(0,t.q)().isShadowRoot(Ve)?this.findTestabilityInTree(Mt,Ve.host,!0):this.findTestabilityInTree(Mt,Ve.parentElement,!0):null)}},deps:[]},{provide:n.\u0275TESTABILITY,useClass:n.Testability,deps:[n.NgZone,n.TestabilityRegistry,n.\u0275TESTABILITY_GETTER]},{provide:n.Testability,useClass:n.Testability,deps:[n.NgZone,n.TestabilityRegistry,n.\u0275TESTABILITY_GETTER]}],Ht=[{provide:n.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:n.ErrorHandler,useFactory:function mt(){return new n.ErrorHandler},deps:[]},{provide:O,useClass:J,multi:!0,deps:[t.K0,n.NgZone,n.PLATFORM_ID]},{provide:O,useClass:ve,multi:!0,deps:[t.K0]},{provide:ce,useClass:ce,deps:[S,D,n.APP_ID,$]},{provide:n.RendererFactory2,useExisting:ce},{provide:o,useExisting:D},{provide:D,useClass:D,deps:[t.K0]},{provide:S,useClass:S,deps:[O,n.NgZone]},{provide:t.JF,useClass:y,deps:[]},[]];let Qe=(()=>{class ct{constructor(Ve){}static withServerTransition(Ve){return{ngModule:ct,providers:[{provide:n.APP_ID,useValue:Ve.appId},{provide:h,useExisting:n.APP_ID},_]}}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject($t,12))},ct.\u0275mod=n.\u0275\u0275defineNgModule({type:ct}),ct.\u0275inj=n.\u0275\u0275defineInjector({providers:[...Ht,...lt],imports:[t.ez,n.ApplicationModule]}),ct})(),Je=(()=>{class ct{constructor(Ve){this._doc=Ve,this._dom=(0,t.q)()}addTag(Ve,vt=!1){return Ve?this._getOrCreateElement(Ve,vt):null}addTags(Ve,vt=!1){return Ve?Ve.reduce((Bt,je)=>(je&&Bt.push(this._getOrCreateElement(je,vt)),Bt),[]):[]}getTag(Ve){return Ve&&this._doc.querySelector(`meta[${Ve}]`)||null}getTags(Ve){if(!Ve)return[];const vt=this._doc.querySelectorAll(`meta[${Ve}]`);return vt?[].slice.call(vt):[]}updateTag(Ve,vt){if(!Ve)return null;vt=vt||this._parseSelector(Ve);const Bt=this.getTag(vt);return Bt?this._setMetaElementAttributes(Ve,Bt):this._getOrCreateElement(Ve,!0)}removeTag(Ve){this.removeTagElement(this.getTag(Ve))}removeTagElement(Ve){Ve&&this._dom.remove(Ve)}_getOrCreateElement(Ve,vt=!1){if(!vt){const be=this._parseSelector(Ve),ot=this.getTags(be).filter(rn=>this._containsAttributes(Ve,rn))[0];if(void 0!==ot)return ot}const Bt=this._dom.createElement("meta");return this._setMetaElementAttributes(Ve,Bt),this._doc.getElementsByTagName("head")[0].appendChild(Bt),Bt}_setMetaElementAttributes(Ve,vt){return Object.keys(Ve).forEach(Bt=>vt.setAttribute(this._getMetaKeyMap(Bt),Ve[Bt])),vt}_parseSelector(Ve){const vt=Ve.name?"name":"property";return`${vt}="${Ve[vt]}"`}_containsAttributes(Ve,vt){return Object.keys(Ve).every(Bt=>vt.getAttribute(this._getMetaKeyMap(Bt))===Ve[Bt])}_getMetaKeyMap(Ve){return Ge[Ve]||Ve}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:function(Ve){let vt=null;return vt=Ve?new Ve:function ft(){return new Je((0,n.\u0275\u0275inject)(t.K0))}(),vt},providedIn:"root"}),ct})();const Ge={httpEquiv:"http-equiv"};let gt=(()=>{class ct{constructor(Ve){this._doc=Ve}getTitle(){return this._doc.title}setTitle(Ve){this._doc.title=Ve||""}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:function(Ve){let vt=null;return vt=Ve?new Ve:function qe(){return new gt((0,n.\u0275\u0275inject)(t.K0))}(),vt},providedIn:"root"}),ct})();function Rt(ct){return ct}typeof window<"u"&&window;let sn=(()=>{class ct{constructor(){this.store={},this.onSerializeCallbacks={},this.store=function jt(ct,Mt){const Ve=ct.getElementById(Mt+"-state");let vt={};if(Ve&&Ve.textContent)try{vt=JSON.parse(function qn(ct){const Mt={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return ct.replace(/&[^;]+;/g,Ve=>Mt[Ve])}(Ve.textContent))}catch(Bt){console.warn("Exception while restoring TransferState for app "+Mt,Bt)}return vt}((0,n.inject)(t.K0),(0,n.inject)(n.APP_ID))}get(Ve,vt){return void 0!==this.store[Ve]?this.store[Ve]:vt}set(Ve,vt){this.store[Ve]=vt}remove(Ve){delete this.store[Ve]}hasKey(Ve){return this.store.hasOwnProperty(Ve)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(Ve,vt){this.onSerializeCallbacks[Ve]=vt}toJson(){for(const Ve in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(Ve))try{this.store[Ve]=this.onSerializeCallbacks[Ve]()}catch(vt){console.warn("Exception in onSerialize callback: ",vt)}return JSON.stringify(this.store)}}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),zt=(()=>{class ct{}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275mod=n.\u0275\u0275defineNgModule({type:ct}),ct.\u0275inj=n.\u0275\u0275defineInjector({}),ct})();const we=new n.InjectionToken("HammerGestureConfig");let bt=(()=>{class ct{constructor(){this.events=[],this.overrides={}}buildHammer(Ve){const vt=new Hammer(Ve,this.options);vt.get("pinch").set({enable:!0}),vt.get("rotate").set({enable:!0});for(const Bt in this.overrides)vt.get(Bt).set(this.overrides[Bt]);return vt}}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac}),ct})(),Qt=(()=>{class ct{}return ct.\u0275fac=function(Ve){return new(Ve||ct)},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:function(Ve){let vt=null;return vt=Ve?new(Ve||ct):n.\u0275\u0275inject(dn),vt},providedIn:"root"}),ct})(),dn=(()=>{class ct extends Qt{constructor(Ve){super(),this._doc=Ve}sanitize(Ve,vt){if(null==vt)return null;switch(Ve){case n.SecurityContext.NONE:return vt;case n.SecurityContext.HTML:return(0,n.\u0275allowSanitizationBypassAndThrow)(vt,"HTML")?(0,n.\u0275unwrapSafeValue)(vt):(0,n.\u0275_sanitizeHtml)(this._doc,String(vt)).toString();case n.SecurityContext.STYLE:return(0,n.\u0275allowSanitizationBypassAndThrow)(vt,"Style")?(0,n.\u0275unwrapSafeValue)(vt):vt;case n.SecurityContext.SCRIPT:if((0,n.\u0275allowSanitizationBypassAndThrow)(vt,"Script"))return(0,n.\u0275unwrapSafeValue)(vt);throw new Error("unsafe value used in a script context");case n.SecurityContext.URL:return(0,n.\u0275allowSanitizationBypassAndThrow)(vt,"URL")?(0,n.\u0275unwrapSafeValue)(vt):(0,n.\u0275_sanitizeUrl)(String(vt));case n.SecurityContext.RESOURCE_URL:if((0,n.\u0275allowSanitizationBypassAndThrow)(vt,"ResourceURL"))return(0,n.\u0275unwrapSafeValue)(vt);throw new Error(`unsafe value used in a resource URL context (see ${n.\u0275XSS_SECURITY_URL})`);default:throw new Error(`Unexpected SecurityContext ${Ve} (see ${n.\u0275XSS_SECURITY_URL})`)}}bypassSecurityTrustHtml(Ve){return(0,n.\u0275bypassSanitizationTrustHtml)(Ve)}bypassSecurityTrustStyle(Ve){return(0,n.\u0275bypassSanitizationTrustStyle)(Ve)}bypassSecurityTrustScript(Ve){return(0,n.\u0275bypassSanitizationTrustScript)(Ve)}bypassSecurityTrustUrl(Ve){return(0,n.\u0275bypassSanitizationTrustUrl)(Ve)}bypassSecurityTrustResourceUrl(Ve){return(0,n.\u0275bypassSanitizationTrustResourceUrl)(Ve)}}return ct.\u0275fac=function(Ve){return new(Ve||ct)(n.\u0275\u0275inject(t.K0))},ct.\u0275prov=n.\u0275\u0275defineInjectable({token:ct,factory:function(Ve){let vt=null;return vt=Ve?new Ve:function Gt(ct){return new dn(ct.get(t.K0))}(n.\u0275\u0275inject(n.Injector)),vt},providedIn:"root"}),ct})()},67522:(R,c,e)=>{"use strict";e.d(c,{Av:()=>kn,Bz:()=>Os,F0:()=>$i,GZ:()=>ws,OD:()=>Qn,Od:()=>yi,Q3:()=>br,R9:()=>Oi,Xs:()=>dt,bq:()=>qe,gk:()=>Br,gz:()=>Wr,lC:()=>vn,m2:()=>hr,rH:()=>ho,sz:()=>It});var t=e(98678),n=e(14111),a=e(9237),i=e(35841),d=e(24586),r=e(53426),l=e(34146),p=e(43651),h=e(91809),m=e(99911),_=e(42878),v=e(27164),y=e(93591),O=e(1828),S=e(35103),b=e(48358),o=e(21160),D=e(77176),M=e(9302),C=e(77007),T=e(69637),g=e(76215),U=e(27193),L=e(27303),j=e(9249),$=e(46897),z=e(77224),re=e(64793),W=e(71891),ie=e(29328),ce=e(84633),ne=e(90410),K=e(76771),w=e(55969),Q=e(91823);const oe="primary",q=Symbol("RouteTitle");class ee{constructor(X){this.params=X||{}}has(X){return Object.prototype.hasOwnProperty.call(this.params,X)}get(X){if(this.has(X)){const G=this.params[X];return Array.isArray(G)?G[0]:G}return null}getAll(X){if(this.has(X)){const G=this.params[X];return Array.isArray(G)?G:[G]}return[]}get keys(){return Object.keys(this.params)}}function J(N){return new ee(N)}function Ee(N,X,G){const le=G.path.split("/");if(le.length>N.length||"full"===G.pathMatch&&(X.hasChildren()||le.length<N.length))return null;const Me={};for(let Fe=0;Fe<le.length;Fe++){const Xe=le[Fe],Lt=N[Fe];if(Xe.startsWith(":"))Me[Xe.substring(1)]=Lt;else if(Xe!==Lt.path)return null}return{consumed:N.slice(0,le.length),posParams:Me}}function Re(N,X){const G=N?Object.keys(N):void 0,le=X?Object.keys(X):void 0;if(!G||!le||G.length!=le.length)return!1;let Me;for(let Fe=0;Fe<G.length;Fe++)if(Me=G[Fe],!ve(N[Me],X[Me]))return!1;return!0}function ve(N,X){if(Array.isArray(N)&&Array.isArray(X)){if(N.length!==X.length)return!1;const G=[...N].sort(),le=[...X].sort();return G.every((Me,Fe)=>le[Fe]===Me)}return N===X}function Pe(N){return Array.prototype.concat.apply([],N)}function et(N){return N.length>0?N[N.length-1]:null}function tt(N,X){for(const G in N)N.hasOwnProperty(G)&&X(N[G],G)}function yt(N){return(0,t.\u0275isObservable)(N)?N:(0,t.\u0275isPromise)(N)?(0,n.D)(Promise.resolve(N)):(0,a.of)(N)}const Ne=!1,mt={exact:function $t(N,X,G){if(!it(N.segments,X.segments)||!ft(N.segments,X.segments,G)||N.numberOfChildren!==X.numberOfChildren)return!1;for(const le in X.children)if(!N.children[le]||!$t(N.children[le],X.children[le],G))return!1;return!0},subset:Ht},Dt={exact:function Jt(N,X){return Re(N,X)},subset:function lt(N,X){return Object.keys(X).length<=Object.keys(N).length&&Object.keys(X).every(G=>ve(N[G],X[G]))},ignored:()=>!0};function At(N,X,G){return mt[G.paths](N.root,X.root,G.matrixParams)&&Dt[G.queryParams](N.queryParams,X.queryParams)&&!("exact"===G.fragment&&N.fragment!==X.fragment)}function Ht(N,X,G){return Qe(N,X,X.segments,G)}function Qe(N,X,G,le){if(N.segments.length>G.length){const Me=N.segments.slice(0,G.length);return!(!it(Me,G)||X.hasChildren()||!ft(Me,G,le))}if(N.segments.length===G.length){if(!it(N.segments,G)||!ft(N.segments,G,le))return!1;for(const Me in X.children)if(!N.children[Me]||!Ht(N.children[Me],X.children[Me],le))return!1;return!0}{const Me=G.slice(0,N.segments.length),Fe=G.slice(N.segments.length);return!!(it(N.segments,Me)&&ft(N.segments,Me,le)&&N.children[oe])&&Qe(N.children[oe],X,Fe,le)}}function ft(N,X,G){return X.every((le,Me)=>Dt[G](N[Me].parameters,le.parameters))}class Je{constructor(X=new Ge([],{}),G={},le=null){this.root=X,this.queryParams=G,this.fragment=le}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class Ge{constructor(X,G){this.segments=X,this.children=G,this.parent=null,tt(G,(le,Me)=>le.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class qe{constructor(X,G){this.path=X,this.parameters=G}get parameterMap(){return this._parameterMap||(this._parameterMap=J(this.parameters)),this._parameterMap}toString(){return zt(this)}}function it(N,X){return N.length===X.length&&N.every((G,le)=>G.path===X[le].path)}let St=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:function(){return new It},providedIn:"root"}),N})();class It{parse(X){const G=new Qt(X);return new Je(G.parseRootSegment(),G.parseQueryParams(),G.parseFragment())}serialize(X){const G=`/${Tt(X.root,!0)}`,le=function ke(N){const X=Object.keys(N).map(G=>{const le=N[G];return Array.isArray(le)?le.map(Me=>`${xn(G)}=${xn(Me)}`).join("&"):`${xn(G)}=${xn(le)}`}).filter(G=>!!G);return X.length?`?${X.join("&")}`:""}(X.queryParams);return`${G}${le}${"string"==typeof X.fragment?`#${function qn(N){return encodeURI(N)}(X.fragment)}`:""}`}}const Yt=new It;function en(N){return N.segments.map(X=>zt(X)).join("/")}function Tt(N,X){if(!N.hasChildren())return en(N);if(X){const G=N.children[oe]?Tt(N.children[oe],!1):"",le=[];return tt(N.children,(Me,Fe)=>{Fe!==oe&&le.push(`${Fe}:${Tt(Me,!1)}`)}),le.length>0?`${G}(${le.join("//")})`:G}{const G=function ht(N,X){let G=[];return tt(N.children,(le,Me)=>{Me===oe&&(G=G.concat(X(le,Me)))}),tt(N.children,(le,Me)=>{Me!==oe&&(G=G.concat(X(le,Me)))}),G}(N,(le,Me)=>Me===oe?[Tt(N.children[oe],!1)]:[`${Me}:${Tt(le,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[oe]?`${en(N)}/${G[0]}`:`${en(N)}/(${G.join("//")})`}}function Mn(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(N){return Mn(N).replace(/%3B/gi,";")}function Rt(N){return Mn(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sn(N){return decodeURIComponent(N)}function jt(N){return sn(N.replace(/\+/g,"%20"))}function zt(N){return`${Rt(N.path)}${function on(N){return Object.keys(N).map(X=>`;${Rt(X)}=${Rt(N[X])}`).join("")}(N.parameters)}`}const xe=/^[^\/()?;=#]+/;function we(N){const X=N.match(xe);return X?X[0]:""}const pt=/^[^=?&#]+/,wt=/^[^&#]+/;class Qt{constructor(X){this.url=X,this.remaining=X}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const X={};if(this.consumeOptional("?"))do{this.parseQueryParam(X)}while(this.consumeOptional("&"));return X}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const X=[];for(this.peekStartsWith("(")||X.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),X.push(this.parseSegment());let G={};this.peekStartsWith("/(")&&(this.capture("/"),G=this.parseParens(!0));let le={};return this.peekStartsWith("(")&&(le=this.parseParens(!1)),(X.length>0||Object.keys(G).length>0)&&(le[oe]=new Ge(X,G)),le}parseSegment(){const X=we(this.remaining);if(""===X&&this.peekStartsWith(";"))throw new t.\u0275RuntimeError(4009,Ne);return this.capture(X),new qe(sn(X),this.parseMatrixParams())}parseMatrixParams(){const X={};for(;this.consumeOptional(";");)this.parseParam(X);return X}parseParam(X){const G=we(this.remaining);if(!G)return;this.capture(G);let le="";if(this.consumeOptional("=")){const Me=we(this.remaining);Me&&(le=Me,this.capture(le))}X[sn(G)]=sn(le)}parseQueryParam(X){const G=function bt(N){const X=N.match(pt);return X?X[0]:""}(this.remaining);if(!G)return;this.capture(G);let le="";if(this.consumeOptional("=")){const Xe=function Xt(N){const X=N.match(wt);return X?X[0]:""}(this.remaining);Xe&&(le=Xe,this.capture(le))}const Me=jt(G),Fe=jt(le);if(X.hasOwnProperty(Me)){let Xe=X[Me];Array.isArray(Xe)||(Xe=[Xe],X[Me]=Xe),Xe.push(Fe)}else X[Me]=Fe}parseParens(X){const G={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const le=we(this.remaining),Me=this.remaining[le.length];if("/"!==Me&&")"!==Me&&";"!==Me)throw new t.\u0275RuntimeError(4010,Ne);let Fe;le.indexOf(":")>-1?(Fe=le.slice(0,le.indexOf(":")),this.capture(Fe),this.capture(":")):X&&(Fe=oe);const Xe=this.parseChildren();G[Fe]=1===Object.keys(Xe).length?Xe[oe]:new Ge([],Xe),this.consumeOptional("//")}return G}peekStartsWith(X){return this.remaining.startsWith(X)}consumeOptional(X){return!!this.peekStartsWith(X)&&(this.remaining=this.remaining.substring(X.length),!0)}capture(X){if(!this.consumeOptional(X))throw new t.\u0275RuntimeError(4011,Ne)}}function Gt(N){return N.segments.length>0?new Ge([],{[oe]:N}):N}function dn(N){const X={};for(const le of Object.keys(N.children)){const Fe=dn(N.children[le]);(Fe.segments.length>0||Fe.hasChildren())&&(X[le]=Fe)}return function fn(N){if(1===N.numberOfChildren&&N.children[oe]){const X=N.children[oe];return new Ge(N.segments.concat(X.segments),X.children)}return N}(new Ge(N.segments,X))}function ct(N){return N instanceof Je}const Mt=!1;function je(N,X,G,le,Me){if(0===G.length)return rn(X.root,X.root,X.root,le,Me);const Fe=function hn(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new tr(!0,0,N);let X=0,G=!1;const le=N.reduce((Me,Fe,Xe)=>{if("object"==typeof Fe&&null!=Fe){if(Fe.outlets){const Lt={};return tt(Fe.outlets,(un,wn)=>{Lt[wn]="string"==typeof un?un.split("/"):un}),[...Me,{outlets:Lt}]}if(Fe.segmentPath)return[...Me,Fe.segmentPath]}return"string"!=typeof Fe?[...Me,Fe]:0===Xe?(Fe.split("/").forEach((Lt,un)=>{0==un&&"."===Lt||(0==un&&""===Lt?G=!0:".."===Lt?X++:""!=Lt&&Me.push(Lt))}),Me):[...Me,Fe]},[]);return new tr(G,X,le)}(G);return Fe.toRoot()?rn(X.root,X.root,new Ge([],{}),le,Me):function Xe(un){const wn=function Pn(N,X,G,le){if(N.isAbsolute)return new En(X.root,!0,0);if(-1===le)return new En(G,G===X.root,0);return function Bn(N,X,G){let le=N,Me=X,Fe=G;for(;Fe>Me;){if(Fe-=Me,le=le.parent,!le)throw new t.\u0275RuntimeError(4005,Mt&&"Invalid number of '../'");Me=le.segments.length}return new En(le,!1,Me-Fe)}(G,le+(be(N.commands[0])?0:1),N.numberOfDoubleDots)}(Fe,X,N.snapshot?._urlSegment,un),Kn=wn.processChildren?Fn(wn.segmentGroup,wn.index,Fe.commands):In(wn.segmentGroup,wn.index,Fe.commands);return rn(X.root,wn.segmentGroup,Kn,le,Me)}(N.snapshot?._lastPathIndex)}function be(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function ot(N){return"object"==typeof N&&null!=N&&N.outlets}function rn(N,X,G,le,Me){let Xe,Fe={};le&&tt(le,(un,wn)=>{Fe[wn]=Array.isArray(un)?un.map(Kn=>`${Kn}`):`${un}`}),Xe=N===X?G:Cn(N,X,G);const Lt=Gt(dn(Xe));return new Je(Lt,Fe,Me)}function Cn(N,X,G){const le={};return tt(N.children,(Me,Fe)=>{le[Fe]=Me===X?G:Cn(Me,X,G)}),new Ge(N.segments,le)}class tr{constructor(X,G,le){if(this.isAbsolute=X,this.numberOfDoubleDots=G,this.commands=le,X&&le.length>0&&be(le[0]))throw new t.\u0275RuntimeError(4003,Mt&&"Root segment cannot have matrix parameters");const Me=le.find(ot);if(Me&&Me!==et(le))throw new t.\u0275RuntimeError(4004,Mt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class En{constructor(X,G,le){this.segmentGroup=X,this.processChildren=G,this.index=le}}function In(N,X,G){if(N||(N=new Ge([],{})),0===N.segments.length&&N.hasChildren())return Fn(N,X,G);const le=function er(N,X,G){let le=0,Me=X;const Fe={match:!1,pathIndex:0,commandIndex:0};for(;Me<N.segments.length;){if(le>=G.length)return Fe;const Xe=N.segments[Me],Lt=G[le];if(ot(Lt))break;const un=`${Lt}`,wn=le<G.length-1?G[le+1]:null;if(Me>0&&void 0===un)break;if(un&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!si(un,wn,Xe))return Fe;le+=2}else{if(!si(un,{},Xe))return Fe;le++}Me++}return{match:!0,pathIndex:Me,commandIndex:le}}(N,X,G),Me=G.slice(le.commandIndex);if(le.match&&le.pathIndex<N.segments.length){const Fe=new Ge(N.segments.slice(0,le.pathIndex),{});return Fe.children[oe]=new Ge(N.segments.slice(le.pathIndex),N.children),Fn(Fe,0,Me)}return le.match&&0===Me.length?new Ge(N.segments,{}):le.match&&!N.hasChildren()?Yn(N,X,G):le.match?Fn(N,0,Me):Yn(N,X,G)}function Fn(N,X,G){if(0===G.length)return new Ge(N.segments,{});{const le=function An(N){return ot(N[0])?N[0].outlets:{[oe]:N}}(G),Me={};if(!le[oe]&&N.children[oe]&&1===N.numberOfChildren&&0===N.children[oe].segments.length){const Fe=Fn(N.children[oe],X,G);return new Ge(N.segments,Fe.children)}return tt(le,(Fe,Xe)=>{"string"==typeof Fe&&(Fe=[Fe]),null!==Fe&&(Me[Xe]=In(N.children[Xe],X,Fe))}),tt(N.children,(Fe,Xe)=>{void 0===le[Xe]&&(Me[Xe]=Fe)}),new Ge(N.segments,Me)}}function Yn(N,X,G){const le=N.segments.slice(0,X);let Me=0;for(;Me<G.length;){const Fe=G[Me];if(ot(Fe)){const un=Er(Fe.outlets);return new Ge(le,un)}if(0===Me&&be(G[0])){le.push(new qe(N.segments[X].path,Ir(G[0]))),Me++;continue}const Xe=ot(Fe)?Fe.outlets[oe]:`${Fe}`,Lt=Me<G.length-1?G[Me+1]:null;Xe&&Lt&&be(Lt)?(le.push(new qe(Xe,Ir(Lt))),Me+=2):(le.push(new qe(Xe,{})),Me++)}return new Ge(le,{})}function Er(N){const X={};return tt(N,(G,le)=>{"string"==typeof G&&(G=[G]),null!==G&&(X[le]=Yn(new Ge([],{}),0,G))}),X}function Ir(N){const X={};return tt(N,(G,le)=>X[le]=`${G}`),X}function si(N,X,G){return N==G.path&&Re(X,G.parameters)}const yr="imperative";class Sn{constructor(X,G){this.id=X,this.url=G}}class Qn extends Sn{constructor(X,G,le="imperative",Me=null){super(X,G),this.type=0,this.navigationTrigger=le,this.restoredState=Me}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends Sn{constructor(X,G,le){super(X,G),this.urlAfterRedirects=le,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends Sn{constructor(X,G,le,Me){super(X,G),this.reason=le,this.code=Me,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xr extends Sn{constructor(X,G,le,Me){super(X,G),this.reason=le,this.code=Me,this.type=16}}class br extends Sn{constructor(X,G,le,Me){super(X,G),this.error=le,this.target=Me,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oi extends Sn{constructor(X,G,le,Me){super(X,G),this.urlAfterRedirects=le,this.state=Me,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr extends Sn{constructor(X,G,le,Me){super(X,G),this.urlAfterRedirects=le,this.state=Me,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Sn{constructor(X,G,le,Me,Fe){super(X,G),this.urlAfterRedirects=le,this.state=Me,this.shouldActivate=Fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ri extends Sn{constructor(X,G,le,Me){super(X,G),this.urlAfterRedirects=le,this.state=Me,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Sn{constructor(X,G,le,Me){super(X,G),this.urlAfterRedirects=le,this.state=Me,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(X){this.route=X,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ai{constructor(X){this.route=X,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class to{constructor(X){this.snapshot=X,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(X){this.snapshot=X,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(X){this.snapshot=X,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(X){this.snapshot=X,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(X,G,le){this.routerEvent=X,this.position=G,this.anchor=le,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ln=(()=>{class N{createUrlTree(G,le,Me,Fe,Xe,Lt){return je(G||le.root,Me,Fe,Xe,Lt)}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})(),bn=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:function(X){return ln.\u0275fac(X)},providedIn:"root"}),N})();class $n{constructor(X){this._root=X}get root(){return this._root.value}parent(X){const G=this.pathFromRoot(X);return G.length>1?G[G.length-2]:null}children(X){const G=Mr(X,this._root);return G?G.children.map(le=>le.value):[]}firstChild(X){const G=Mr(X,this._root);return G&&G.children.length>0?G.children[0].value:null}siblings(X){const G=Ur(X,this._root);return G.length<2?[]:G[G.length-2].children.map(Me=>Me.value).filter(Me=>Me!==X)}pathFromRoot(X){return Ur(X,this._root).map(G=>G.value)}}function Mr(N,X){if(N===X.value)return X;for(const G of X.children){const le=Mr(N,G);if(le)return le}return null}function Ur(N,X){if(N===X.value)return[X];for(const G of X.children){const le=Ur(N,G);if(le.length)return le.unshift(X),le}return[]}class Tr{constructor(X,G){this.value=X,this.children=G}toString(){return`TreeNode(${this.value})`}}function Vn(N){const X={};return N&&N.children.forEach(G=>X[G.value.outlet]=G),X}class Xn extends $n{constructor(X,G){super(X),this.snapshot=G,ko(this,X)}toString(){return this.snapshot.toString()}}function xi(N,X){const G=function li(N,X){const Xe=new Ki([],{},{},"",{},oe,X,null,N.root,-1,{});return new ei("",new Tr(Xe,[]))}(N,X),le=new i.X([new qe("",{})]),Me=new i.X({}),Fe=new i.X({}),Xe=new i.X({}),Lt=new i.X(""),un=new Wr(le,Me,Xe,Lt,Fe,oe,X,G.root);return un.snapshot=G.root,new Xn(new Tr(un,[]),G)}class Wr{constructor(X,G,le,Me,Fe,Xe,Lt,un){this.url=X,this.params=G,this.queryParams=le,this.fragment=Me,this.data=Fe,this.outlet=Xe,this.component=Lt,this.title=this.data?.pipe((0,b.U)(wn=>wn[q]))??(0,a.of)(void 0),this._futureSnapshot=un}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b.U)(X=>J(X)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b.U)(X=>J(X)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function So(N,X="emptyOnly"){const G=N.pathFromRoot;let le=0;if("always"!==X)for(le=G.length-1;le>=1;){const Me=G[le],Fe=G[le-1];if(Me.routeConfig&&""===Me.routeConfig.path)le--;else{if(Fe.component)break;le--}}return function co(N){return N.reduce((X,G)=>({params:{...X.params,...G.params},data:{...X.data,...G.data},resolve:{...G.data,...X.resolve,...G.routeConfig?.data,...G._resolvedData}}),{params:{},data:{},resolve:{}})}(G.slice(le))}class Ki{get title(){return this.data?.[q]}constructor(X,G,le,Me,Fe,Xe,Lt,un,wn,Kn,vr){this.url=X,this.params=G,this.queryParams=le,this.fragment=Me,this.data=Fe,this.outlet=Xe,this.component=Lt,this.routeConfig=un,this._urlSegment=wn,this._lastPathIndex=Kn,this._resolve=vr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=J(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(le=>le.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ei extends $n{constructor(X,G){super(G),this.url=X,ko(this,G)}toString(){return bo(this._root)}}function ko(N,X){X.value._routerState=N,X.children.forEach(G=>ko(N,G))}function bo(N){const X=N.children.length>0?` { ${N.children.map(bo).join(", ")} } `:"";return`${N.value}${X}`}function Bo(N){if(N.snapshot){const X=N.snapshot,G=N._futureSnapshot;N.snapshot=G,Re(X.queryParams,G.queryParams)||N.queryParams.next(G.queryParams),X.fragment!==G.fragment&&N.fragment.next(G.fragment),Re(X.params,G.params)||N.params.next(G.params),function Oe(N,X){if(N.length!==X.length)return!1;for(let G=0;G<N.length;++G)if(!Re(N[G],X[G]))return!1;return!0}(X.url,G.url)||N.url.next(G.url),Re(X.data,G.data)||N.data.next(G.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function no(N,X){const G=Re(N.params,X.params)&&function gt(N,X){return it(N,X)&&N.every((G,le)=>Re(G.parameters,X[le].parameters))}(N.url,X.url);return G&&!(!N.parent!=!X.parent)&&(!N.parent||no(N.parent,X.parent))}function Po(N,X,G){if(G&&N.shouldReuseRoute(X.value,G.value.snapshot)){const le=G.value;le._futureSnapshot=X.value;const Me=function mo(N,X,G){return X.children.map(le=>{for(const Me of G.children)if(N.shouldReuseRoute(le.value,Me.value.snapshot))return Po(N,le,Me);return Po(N,le)})}(N,X,G);return new Tr(le,Me)}{if(N.shouldAttach(X.value)){const Fe=N.retrieve(X.value);if(null!==Fe){const Xe=Fe.route;return Xe.value._futureSnapshot=X.value,Xe.children=X.children.map(Lt=>Po(N,Lt)),Xe}}const le=function Mi(N){return new Wr(new i.X(N.url),new i.X(N.params),new i.X(N.queryParams),new i.X(N.fragment),new i.X(N.data),N.outlet,N.component,N)}(X.value),Me=X.children.map(Fe=>Po(N,Fe));return new Tr(le,Me)}}const $o="ngNavigationCancelingError";function as(N,X){const{redirectTo:G,navigationBehaviorOptions:le}=ct(X)?{redirectTo:X,navigationBehaviorOptions:void 0}:X,Me=uo(!1,0,X);return Me.url=G,Me.navigationBehaviorOptions=le,Me}function uo(N,X,G){const le=new Error("NavigationCancelingError: "+(N||""));return le[$o]=!0,le.cancellationCode=X,G&&(le.url=G),le}function ro(N){return ms(N)&&ct(N.url)}function ms(N){return N&&N[$o]}class _s{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _o,this.attachRef=null}}let _o=(()=>{class N{constructor(){this.contexts=new Map}onChildOutletCreated(G,le){const Me=this.getOrCreateContext(G);Me.outlet=le,this.contexts.set(G,Me)}onChildOutletDestroyed(G){const le=this.getContext(G);le&&(le.outlet=null,le.attachRef=null)}onOutletDeactivated(){const G=this.contexts;return this.contexts=new Map,G}onOutletReAttached(G){this.contexts=G}getOrCreateContext(G){let le=this.getContext(G);return le||(le=new _s,this.contexts.set(G,le)),le}getContext(G){return this.contexts.get(G)||null}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Et=!1;let vn=(()=>{class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new t.EventEmitter,this.deactivateEvents=new t.EventEmitter,this.attachEvents=new t.EventEmitter,this.detachEvents=new t.EventEmitter,this.parentContexts=(0,t.inject)(_o),this.location=(0,t.inject)(t.ViewContainerRef),this.changeDetector=(0,t.inject)(t.ChangeDetectorRef),this.environmentInjector=(0,t.inject)(t.EnvironmentInjector)}ngOnChanges(G){if(G.name){const{firstChange:le,previousValue:Me}=G.name;if(le)return;this.isTrackedInParentContexts(Me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Me)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(G){return this.parentContexts.getContext(G)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const G=this.parentContexts.getContext(this.name);G?.route&&(G.attachRef?this.attach(G.attachRef,G.route):this.activateWith(G.route,G.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.\u0275RuntimeError(4012,Et);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.\u0275RuntimeError(4012,Et);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.\u0275RuntimeError(4012,Et);this.location.detach();const G=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(G.instance),G}attach(G,le){this.activated=G,this._activatedRoute=le,this.location.insert(G.hostView),this.attachEvents.emit(G.instance)}deactivate(){if(this.activated){const G=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(G)}}activateWith(G,le){if(this.isActivated)throw new t.\u0275RuntimeError(4013,Et);this._activatedRoute=G;const Me=this.location,Xe=G.snapshot.component,Lt=this.parentContexts.getOrCreateContext(this.name).children,un=new Le(G,Lt,Me.injector);if(le&&function $e(N){return!!N.resolveComponentFactory}(le)){const wn=le.resolveComponentFactory(Xe);this.activated=Me.createComponent(wn,Me.length,un)}else this.activated=Me.createComponent(Xe,{index:Me.length,injector:un,environmentInjector:le??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275dir=t.\u0275\u0275defineDirective({type:N,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]}),N})();class Le{constructor(X,G,le){this.route=X,this.childContexts=G,this.parent=le}get(X,G){return X===Wr?this.route:X===_o?this.childContexts:this.parent.get(X,G)}}let Ut=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275cmp=t.\u0275\u0275defineComponent({type:N,selectors:[["ng-component"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(G,le){1&G&&t.\u0275\u0275element(0,"router-outlet")},dependencies:[vn],encapsulation:2}),N})();function pn(N,X){return N.providers&&!N._injector&&(N._injector=(0,t.createEnvironmentInjector)(N.providers,X,`Route: ${N.path}`)),N._injector??X}function zo(N){const X=N.children&&N.children.map(zo),G=X?{...N,children:X}:{...N};return!G.component&&!G.loadComponent&&(X||G.loadChildren)&&G.outlet&&G.outlet!==oe&&(G.component=Ut),G}function vi(N){return N.outlet||oe}function Go(N,X){const G=N.filter(le=>vi(le)===X);return G.push(...N.filter(le=>vi(le)!==X)),G}function di(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let X=N.parent;X;X=X.parent){const G=X.routeConfig;if(G?._loadedInjector)return G._loadedInjector;if(G?._injector)return G._injector}return null}class go{constructor(X,G,le,Me){this.routeReuseStrategy=X,this.futureState=G,this.currState=le,this.forwardEvent=Me}activate(X){const G=this.futureState._root,le=this.currState?this.currState._root:null;this.deactivateChildRoutes(G,le,X),Bo(this.futureState.root),this.activateChildRoutes(G,le,X)}deactivateChildRoutes(X,G,le){const Me=Vn(G);X.children.forEach(Fe=>{const Xe=Fe.value.outlet;this.deactivateRoutes(Fe,Me[Xe],le),delete Me[Xe]}),tt(Me,(Fe,Xe)=>{this.deactivateRouteAndItsChildren(Fe,le)})}deactivateRoutes(X,G,le){const Me=X.value,Fe=G?G.value:null;if(Me===Fe)if(Me.component){const Xe=le.getContext(Me.outlet);Xe&&this.deactivateChildRoutes(X,G,Xe.children)}else this.deactivateChildRoutes(X,G,le);else Fe&&this.deactivateRouteAndItsChildren(G,le)}deactivateRouteAndItsChildren(X,G){X.value.component&&this.routeReuseStrategy.shouldDetach(X.value.snapshot)?this.detachAndStoreRouteSubtree(X,G):this.deactivateRouteAndOutlet(X,G)}detachAndStoreRouteSubtree(X,G){const le=G.getContext(X.value.outlet),Me=le&&X.value.component?le.children:G,Fe=Vn(X);for(const Xe of Object.keys(Fe))this.deactivateRouteAndItsChildren(Fe[Xe],Me);if(le&&le.outlet){const Xe=le.outlet.detach(),Lt=le.children.onOutletDeactivated();this.routeReuseStrategy.store(X.value.snapshot,{componentRef:Xe,route:X,contexts:Lt})}}deactivateRouteAndOutlet(X,G){const le=G.getContext(X.value.outlet),Me=le&&X.value.component?le.children:G,Fe=Vn(X);for(const Xe of Object.keys(Fe))this.deactivateRouteAndItsChildren(Fe[Xe],Me);le&&(le.outlet&&(le.outlet.deactivate(),le.children.onOutletDeactivated()),le.attachRef=null,le.resolver=null,le.route=null)}activateChildRoutes(X,G,le){const Me=Vn(G);X.children.forEach(Fe=>{this.activateRoutes(Fe,Me[Fe.value.outlet],le),this.forwardEvent(new Bi(Fe.value.snapshot))}),X.children.length&&this.forwardEvent(new Wi(X.value.snapshot))}activateRoutes(X,G,le){const Me=X.value,Fe=G?G.value:null;if(Bo(Me),Me===Fe)if(Me.component){const Xe=le.getOrCreateContext(Me.outlet);this.activateChildRoutes(X,G,Xe.children)}else this.activateChildRoutes(X,G,le);else if(Me.component){const Xe=le.getOrCreateContext(Me.outlet);if(this.routeReuseStrategy.shouldAttach(Me.snapshot)){const Lt=this.routeReuseStrategy.retrieve(Me.snapshot);this.routeReuseStrategy.store(Me.snapshot,null),Xe.children.onOutletReAttached(Lt.contexts),Xe.attachRef=Lt.componentRef,Xe.route=Lt.route.value,Xe.outlet&&Xe.outlet.attach(Lt.componentRef,Lt.route.value),Bo(Lt.route.value),this.activateChildRoutes(X,null,Xe.children)}else{const Lt=di(Me.snapshot),un=Lt?.get(t.ComponentFactoryResolver)??null;Xe.attachRef=null,Xe.route=Me,Xe.resolver=un,Xe.injector=Lt,Xe.outlet&&Xe.outlet.activateWith(Me,Xe.injector),this.activateChildRoutes(X,null,Xe.children)}}else this.activateChildRoutes(X,null,le)}}class Ei{constructor(X){this.path=X,this.route=this.path[this.path.length-1]}}class Gi{constructor(X,G){this.component=X,this.route=G}}function Yi(N,X,G){const le=N._root;return Qo(le,X?X._root:null,G,[le.value])}function io(N,X){const G=Symbol(),le=X.get(N,G);return le===G?"function"!=typeof N||(0,t.\u0275isInjectable)(N)?X.get(N):N:le}function Qo(N,X,G,le,Me={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=Vn(X);return N.children.forEach(Xe=>{(function vo(N,X,G,le,Me={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=N.value,Xe=X?X.value:null,Lt=G?G.getContext(N.value.outlet):null;if(Xe&&Fe.routeConfig===Xe.routeConfig){const un=function Si(N,X,G){if("function"==typeof G)return G(N,X);switch(G){case"pathParamsChange":return!it(N.url,X.url);case"pathParamsOrQueryParamsChange":return!it(N.url,X.url)||!Re(N.queryParams,X.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!no(N,X)||!Re(N.queryParams,X.queryParams);default:return!no(N,X)}}(Xe,Fe,Fe.routeConfig.runGuardsAndResolvers);un?Me.canActivateChecks.push(new Ei(le)):(Fe.data=Xe.data,Fe._resolvedData=Xe._resolvedData),Qo(N,X,Fe.component?Lt?Lt.children:null:G,le,Me),un&&Lt&&Lt.outlet&&Lt.outlet.isActivated&&Me.canDeactivateChecks.push(new Gi(Lt.outlet.component,Xe))}else Xe&&Xo(X,Lt,Me),Me.canActivateChecks.push(new Ei(le)),Qo(N,null,Fe.component?Lt?Lt.children:null:G,le,Me)})(Xe,Fe[Xe.value.outlet],G,le.concat([Xe.value]),Me),delete Fe[Xe.value.outlet]}),tt(Fe,(Xe,Lt)=>Xo(Xe,G.getContext(Lt),Me)),Me}function Xo(N,X,G){const le=Vn(N),Me=N.value;tt(le,(Fe,Xe)=>{Xo(Fe,Me.component?X?X.children.getContext(Xe):null:X,G)}),G.canDeactivateChecks.push(new Gi(Me.component&&X&&X.outlet&&X.outlet.isActivated?X.outlet.component:null,Me))}function bi(N){return"function"==typeof N}function V(N){return N instanceof d.K||"EmptyError"===N?.name}const De=Symbol("INITIAL_VALUE");function rt(){return(0,o.w)(N=>(0,r.a)(N.map(X=>X.pipe((0,D.q)(1),(0,M.O)(De)))).pipe((0,b.U)(X=>{for(const G of X)if(!0!==G){if(G===De)return De;if(!1===G||G instanceof Je)return G}return!0}),(0,C.h)(X=>X!==De),(0,D.q)(1)))}function Vi(N){return(0,h.z)((0,L.b)(X=>{if(ct(X))throw as(0,X)}),(0,b.U)(X=>!0===X))}const cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ks(N,X,G,le,Me){const Fe=Ls(N,X,G);return Fe.matched?function ra(N,X,G,le){const Me=X.canMatch;if(!Me||0===Me.length)return(0,a.of)(!0);const Fe=Me.map(Xe=>{const Lt=io(Xe,N);return yt(function Yr(N){return N&&bi(N.canMatch)}(Lt)?Lt.canMatch(X,G):N.runInContext(()=>Lt(X,G)))});return(0,a.of)(Fe).pipe(rt(),Vi())}(le=pn(X,le),X,G).pipe((0,b.U)(Xe=>!0===Xe?Fe:{...cs})):(0,a.of)(Fe)}function Ls(N,X,G){if(""===X.path)return"full"===X.pathMatch&&(N.hasChildren()||G.length>0)?{...cs}:{matched:!0,consumedSegments:[],remainingSegments:G,parameters:{},positionalParamSegments:{}};const Me=(X.matcher||Ee)(G,N,X);if(!Me)return{...cs};const Fe={};tt(Me.posParams,(Lt,un)=>{Fe[un]=Lt.path});const Xe=Me.consumed.length>0?{...Fe,...Me.consumed[Me.consumed.length-1].parameters}:Fe;return{matched:!0,consumedSegments:Me.consumed,remainingSegments:G.slice(Me.consumed.length),parameters:Xe,positionalParamSegments:Me.posParams??{}}}function Ui(N,X,G,le){if(G.length>0&&function oo(N,X,G){return G.some(le=>Li(N,X,le)&&vi(le)!==oe)}(N,G,le)){const Fe=new Ge(X,function Qi(N,X,G,le){const Me={};Me[oe]=le,le._sourceSegment=N,le._segmentIndexShift=X.length;for(const Fe of G)if(""===Fe.path&&vi(Fe)!==oe){const Xe=new Ge([],{});Xe._sourceSegment=N,Xe._segmentIndexShift=X.length,Me[vi(Fe)]=Xe}return Me}(N,X,le,new Ge(G,N.children)));return Fe._sourceSegment=N,Fe._segmentIndexShift=X.length,{segmentGroup:Fe,slicedSegments:[]}}if(0===G.length&&function gs(N,X,G){return G.some(le=>Li(N,X,le))}(N,G,le)){const Fe=new Ge(N.segments,function Ni(N,X,G,le,Me){const Fe={};for(const Xe of le)if(Li(N,G,Xe)&&!Me[vi(Xe)]){const Lt=new Ge([],{});Lt._sourceSegment=N,Lt._segmentIndexShift=X.length,Fe[vi(Xe)]=Lt}return{...Me,...Fe}}(N,X,G,le,N.children));return Fe._sourceSegment=N,Fe._segmentIndexShift=X.length,{segmentGroup:Fe,slicedSegments:G}}const Me=new Ge(N.segments,N.children);return Me._sourceSegment=N,Me._segmentIndexShift=X.length,{segmentGroup:Me,slicedSegments:G}}function Li(N,X,G){return(!(N.hasChildren()||X.length>0)||"full"!==G.pathMatch)&&""===G.path}function Vs(N,X,G,le){return!!(vi(N)===le||le!==oe&&Li(X,G,N))&&("**"===N.path||Ls(X,N,G).matched)}function Jo(N,X,G){return 0===X.length&&!N.children[G]}const Rr=!1;class ni{constructor(X){this.segmentGroup=X||null}}class wo{constructor(X){this.urlTree=X}}function Gn(N){return(0,m._)(new ni(N))}function pa(N){return(0,m._)(new wo(N))}class Ts{constructor(X,G,le,Me,Fe){this.injector=X,this.configLoader=G,this.urlSerializer=le,this.urlTree=Me,this.config=Fe,this.allowRedirects=!0}apply(){const X=Ui(this.urlTree.root,[],[],this.config).segmentGroup,G=new Ge(X.segments,X.children);return this.expandSegmentGroup(this.injector,this.config,G,oe).pipe((0,b.U)(Fe=>this.createUrlTree(dn(Fe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,j.K)(Fe=>{if(Fe instanceof wo)return this.allowRedirects=!1,this.match(Fe.urlTree);throw Fe instanceof ni?this.noMatchError(Fe):Fe}))}match(X){return this.expandSegmentGroup(this.injector,this.config,X.root,oe).pipe((0,b.U)(Me=>this.createUrlTree(dn(Me),X.queryParams,X.fragment))).pipe((0,j.K)(Me=>{throw Me instanceof ni?this.noMatchError(Me):Me}))}noMatchError(X){return new t.\u0275RuntimeError(4002,Rr)}createUrlTree(X,G,le){const Me=Gt(X);return new Je(Me,G,le)}expandSegmentGroup(X,G,le,Me){return 0===le.segments.length&&le.hasChildren()?this.expandChildren(X,G,le).pipe((0,b.U)(Fe=>new Ge([],Fe))):this.expandSegment(X,le,G,le.segments,Me,!0)}expandChildren(X,G,le){const Me=[];for(const Fe of Object.keys(le.children))"primary"===Fe?Me.unshift(Fe):Me.push(Fe);return(0,n.D)(Me).pipe((0,U.b)(Fe=>{const Xe=le.children[Fe],Lt=Go(G,Fe);return this.expandSegmentGroup(X,Lt,Xe,Fe).pipe((0,b.U)(un=>({segment:un,outlet:Fe})))}),(0,$.R)((Fe,Xe)=>(Fe[Xe.outlet]=Xe.segment,Fe),{}),(0,z.Z)())}expandSegment(X,G,le,Me,Fe,Xe){return(0,n.D)(le).pipe((0,U.b)(Lt=>this.expandSegmentAgainstRoute(X,G,le,Lt,Me,Fe,Xe).pipe((0,j.K)(wn=>{if(wn instanceof ni)return(0,a.of)(null);throw wn}))),(0,g.P)(Lt=>!!Lt),(0,j.K)((Lt,un)=>{if(V(Lt))return Jo(G,Me,Fe)?(0,a.of)(new Ge([],{})):Gn(G);throw Lt}))}expandSegmentAgainstRoute(X,G,le,Me,Fe,Xe,Lt){return Vs(Me,G,Fe,Xe)?void 0===Me.redirectTo?this.matchSegmentAgainstRoute(X,G,Me,Fe,Xe):Lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(X,G,le,Me,Fe,Xe):Gn(G):Gn(G)}expandSegmentAgainstRouteUsingRedirect(X,G,le,Me,Fe,Xe){return"**"===Me.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(X,le,Me,Xe):this.expandRegularSegmentAgainstRouteUsingRedirect(X,G,le,Me,Fe,Xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(X,G,le,Me){const Fe=this.applyRedirectCommands([],le.redirectTo,{});return le.redirectTo.startsWith("/")?pa(Fe):this.lineralizeSegments(le,Fe).pipe((0,T.z)(Xe=>{const Lt=new Ge(Xe,{});return this.expandSegment(X,Lt,G,Xe,Me,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(X,G,le,Me,Fe,Xe){const{matched:Lt,consumedSegments:un,remainingSegments:wn,positionalParamSegments:Kn}=Ls(G,Me,Fe);if(!Lt)return Gn(G);const vr=this.applyRedirectCommands(un,Me.redirectTo,Kn);return Me.redirectTo.startsWith("/")?pa(vr):this.lineralizeSegments(Me,vr).pipe((0,T.z)(or=>this.expandSegment(X,G,le,or.concat(wn),Xe,!1)))}matchSegmentAgainstRoute(X,G,le,Me,Fe){return"**"===le.path?(X=pn(le,X),le.loadChildren?(le._loadedRoutes?(0,a.of)({routes:le._loadedRoutes,injector:le._loadedInjector}):this.configLoader.loadChildren(X,le)).pipe((0,b.U)(Lt=>(le._loadedRoutes=Lt.routes,le._loadedInjector=Lt.injector,new Ge(Me,{})))):(0,a.of)(new Ge(Me,{}))):Ks(G,le,Me,X).pipe((0,o.w)(({matched:Xe,consumedSegments:Lt,remainingSegments:un})=>Xe?this.getChildConfig(X=le._injector??X,le,Me).pipe((0,T.z)(Kn=>{const vr=Kn.injector??X,or=Kn.routes,{segmentGroup:Ko,slicedSegments:qi}=Ui(G,Lt,un,or),wi=new Ge(Ko.segments,Ko.children);if(0===qi.length&&wi.hasChildren())return this.expandChildren(vr,or,wi).pipe((0,b.U)(qs=>new Ge(Lt,qs)));if(0===or.length&&0===qi.length)return(0,a.of)(new Ge(Lt,{}));const zi=vi(le)===Fe;return this.expandSegment(vr,wi,or,qi,zi?oe:Fe,!0).pipe((0,b.U)(zs=>new Ge(Lt.concat(zs.segments),zs.children)))})):Gn(G)))}getChildConfig(X,G,le){return G.children?(0,a.of)({routes:G.children,injector:X}):G.loadChildren?void 0!==G._loadedRoutes?(0,a.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):function Is(N,X,G,le){const Me=X.canLoad;if(void 0===Me||0===Me.length)return(0,a.of)(!0);const Fe=Me.map(Xe=>{const Lt=io(Xe,N);return yt(function Io(N){return N&&bi(N.canLoad)}(Lt)?Lt.canLoad(X,G):N.runInContext(()=>Lt(X,G)))});return(0,a.of)(Fe).pipe(rt(),Vi())}(X,G,le).pipe((0,T.z)(Me=>Me?this.configLoader.loadChildren(X,G).pipe((0,L.b)(Fe=>{G._loadedRoutes=Fe.routes,G._loadedInjector=Fe.injector})):function Bs(N){return(0,m._)(uo(Rr,3))}())):(0,a.of)({routes:[],injector:X})}lineralizeSegments(X,G){let le=[],Me=G.root;for(;;){if(le=le.concat(Me.segments),0===Me.numberOfChildren)return(0,a.of)(le);if(Me.numberOfChildren>1||!Me.children[oe])return X.redirectTo,(0,m._)(new t.\u0275RuntimeError(4e3,Rr));Me=Me.children[oe]}}applyRedirectCommands(X,G,le){return this.applyRedirectCreateUrlTree(G,this.urlSerializer.parse(G),X,le)}applyRedirectCreateUrlTree(X,G,le,Me){const Fe=this.createSegmentGroup(X,G.root,le,Me);return new Je(Fe,this.createQueryParams(G.queryParams,this.urlTree.queryParams),G.fragment)}createQueryParams(X,G){const le={};return tt(X,(Me,Fe)=>{if("string"==typeof Me&&Me.startsWith(":")){const Lt=Me.substring(1);le[Fe]=G[Lt]}else le[Fe]=Me}),le}createSegmentGroup(X,G,le,Me){const Fe=this.createSegments(X,G.segments,le,Me);let Xe={};return tt(G.children,(Lt,un)=>{Xe[un]=this.createSegmentGroup(X,Lt,le,Me)}),new Ge(Fe,Xe)}createSegments(X,G,le,Me){return G.map(Fe=>Fe.path.startsWith(":")?this.findPosParam(X,Fe,Me):this.findOrReturn(Fe,le))}findPosParam(X,G,le){const Me=le[G.path.substring(1)];if(!Me)throw new t.\u0275RuntimeError(4001,Rr);return Me}findOrReturn(X,G){let le=0;for(const Me of G){if(Me.path===X.path)return G.splice(le),Me;le++}return X}}class ha{}class Xi{constructor(X,G,le,Me,Fe,Xe,Lt){this.injector=X,this.rootComponentType=G,this.config=le,this.urlTree=Me,this.url=Fe,this.paramsInheritanceStrategy=Xe,this.urlSerializer=Lt}recognize(){const X=Ui(this.urlTree.root,[],[],this.config.filter(G=>void 0===G.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,X,oe).pipe((0,b.U)(G=>{if(null===G)return null;const le=new Ki([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),Me=new Tr(le,G),Fe=new ei(this.url,Me);return this.inheritParamsAndData(Fe._root),Fe}))}inheritParamsAndData(X){const G=X.value,le=So(G,this.paramsInheritanceStrategy);G.params=Object.freeze(le.params),G.data=Object.freeze(le.data),X.children.forEach(Me=>this.inheritParamsAndData(Me))}processSegmentGroup(X,G,le,Me){return 0===le.segments.length&&le.hasChildren()?this.processChildren(X,G,le):this.processSegment(X,G,le,le.segments,Me)}processChildren(X,G,le){return(0,n.D)(Object.keys(le.children)).pipe((0,U.b)(Me=>{const Fe=le.children[Me],Xe=Go(G,Me);return this.processSegmentGroup(X,Xe,Fe,Me)}),(0,$.R)((Me,Fe)=>Me&&Fe?(Me.push(...Fe),Me):null),(0,re.o)(Me=>null!==Me),(0,W.d)(null),(0,z.Z)(),(0,b.U)(Me=>{if(null===Me)return null;const Fe=ri(Me);return function Xs(N){N.sort((X,G)=>X.value.outlet===oe?-1:G.value.outlet===oe?1:X.value.outlet.localeCompare(G.value.outlet))}(Fe),Fe}))}processSegment(X,G,le,Me,Fe){return(0,n.D)(G).pipe((0,U.b)(Xe=>this.processSegmentAgainstRoute(Xe._injector??X,Xe,le,Me,Fe)),(0,g.P)(Xe=>!!Xe),(0,j.K)(Xe=>{if(V(Xe))return Jo(le,Me,Fe)?(0,a.of)([]):(0,a.of)(null);throw Xe}))}processSegmentAgainstRoute(X,G,le,Me,Fe){if(G.redirectTo||!Vs(G,le,Me,Fe))return(0,a.of)(null);let Xe;if("**"===G.path){const Lt=Me.length>0?et(Me).parameters:{},un=es(le)+Me.length,wn=new Ki(Me,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(G),vi(G),G.component??G._loadedComponent??null,G,ao(le),un,ma(G));Xe=(0,a.of)({snapshot:wn,consumedSegments:[],remainingSegments:[]})}else Xe=Ks(le,G,Me,X).pipe((0,b.U)(({matched:Lt,consumedSegments:un,remainingSegments:wn,parameters:Kn})=>{if(!Lt)return null;const vr=es(le)+un.length;return{snapshot:new Ki(un,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(G),vi(G),G.component??G._loadedComponent??null,G,ao(le),vr,ma(G)),consumedSegments:un,remainingSegments:wn}}));return Xe.pipe((0,o.w)(Lt=>{if(null===Lt)return(0,a.of)(null);const{snapshot:un,consumedSegments:wn,remainingSegments:Kn}=Lt;X=G._injector??X;const vr=G._loadedInjector??X,or=function fi(N){return N.children?N.children:N.loadChildren?N._loadedRoutes:[]}(G),{segmentGroup:Ko,slicedSegments:qi}=Ui(le,wn,Kn,or.filter(zi=>void 0===zi.redirectTo));if(0===qi.length&&Ko.hasChildren())return this.processChildren(vr,or,Ko).pipe((0,b.U)(zi=>null===zi?null:[new Tr(un,zi)]));if(0===or.length&&0===qi.length)return(0,a.of)([new Tr(un,[])]);const wi=vi(G)===Fe;return this.processSegment(vr,or,Ko,qi,wi?oe:Fe).pipe((0,b.U)(zi=>null===zi?null:[new Tr(un,zi)]))}))}}function vs(N){const X=N.value.routeConfig;return X&&""===X.path&&void 0===X.redirectTo}function ri(N){const X=[],G=new Set;for(const le of N){if(!vs(le)){X.push(le);continue}const Me=X.find(Fe=>le.value.routeConfig===Fe.value.routeConfig);void 0!==Me?(Me.children.push(...le.children),G.add(Me)):X.push(le)}for(const le of G){const Me=ri(le.children);X.push(new Tr(le.value,Me))}return X.filter(le=>!G.has(le))}function ao(N){let X=N;for(;X._sourceSegment;)X=X._sourceSegment;return X}function es(N){let X=N,G=X._segmentIndexShift??0;for(;X._sourceSegment;)X=X._sourceSegment,G+=X._segmentIndexShift??0;return G-1}function fa(N){return N.data||{}}function ma(N){return N.resolve||{}}function ze(N){return"string"==typeof N.title||null===N.title}function _t(N){return(0,o.w)(X=>{const G=N(X);return G?(0,n.D)(G).pipe((0,b.U)(()=>X)):(0,a.of)(X)})}const mn=new t.InjectionToken("ROUTES");let zn=(()=>{class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.inject)(t.Compiler)}loadComponent(G){if(this.componentLoaders.get(G))return this.componentLoaders.get(G);if(G._loadedComponent)return(0,a.of)(G._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(G);const le=yt(G.loadComponent()).pipe((0,b.U)(wr),(0,L.b)(Fe=>{this.onLoadEndListener&&this.onLoadEndListener(G),G._loadedComponent=Fe}),(0,ne.x)(()=>{this.componentLoaders.delete(G)})),Me=new y.c(le,()=>new O.x).pipe((0,K.x)());return this.componentLoaders.set(G,Me),Me}loadChildren(G,le){if(this.childrenLoaders.get(le))return this.childrenLoaders.get(le);if(le._loadedRoutes)return(0,a.of)({routes:le._loadedRoutes,injector:le._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(le);const Fe=this.loadModuleFactoryOrRoutes(le.loadChildren).pipe((0,b.U)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(le);let un,wn,Kn=!1;Array.isArray(Lt)?wn=Lt:(un=Lt.create(G).injector,wn=Pe(un.get(mn,[],t.InjectFlags.Self|t.InjectFlags.Optional)));return{routes:wn.map(zo),injector:un}}),(0,ne.x)(()=>{this.childrenLoaders.delete(le)})),Xe=new y.c(Fe,()=>new O.x).pipe((0,K.x)());return this.childrenLoaders.set(le,Xe),Xe}loadModuleFactoryOrRoutes(G){return yt(G()).pipe((0,b.U)(wr),(0,T.z)(le=>le instanceof t.NgModuleFactory||Array.isArray(le)?(0,a.of)(le):(0,n.D)(this.compiler.compileModuleAsync(le))))}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function wr(N){return function Or(N){return N&&"object"==typeof N&&"default"in N}(N)?N.default:N}let Cr=(()=>{class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new O.x,this.configLoader=(0,t.inject)(zn),this.environmentInjector=(0,t.inject)(t.EnvironmentInjector),this.urlSerializer=(0,t.inject)(St),this.rootContexts=(0,t.inject)(_o),this.navigationId=0,this.afterPreactivation=()=>(0,a.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Me=>this.events.next(new ai(Me)),this.configLoader.onLoadStartListener=Me=>this.events.next(new hi(Me))}complete(){this.transitions?.complete()}handleNavigationRequest(G){const le=++this.navigationId;this.transitions?.next({...this.transitions.value,...G,id:le})}setupNavigations(G){return this.transitions=new i.X({id:0,targetPageId:0,currentUrlTree:G.currentUrlTree,currentRawUrl:G.currentUrlTree,extractedUrl:G.urlHandlingStrategy.extract(G.currentUrlTree),urlAfterRedirects:G.urlHandlingStrategy.extract(G.currentUrlTree),rawUrl:G.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yr,restoredState:null,currentSnapshot:G.routerState.snapshot,targetSnapshot:null,currentRouterState:G.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,C.h)(le=>0!==le.id),(0,b.U)(le=>({...le,extractedUrl:G.urlHandlingStrategy.extract(le.rawUrl)})),(0,o.w)(le=>{let Me=!1,Fe=!1;return(0,a.of)(le).pipe((0,L.b)(Xe=>{this.currentNavigation={id:Xe.id,initialUrl:Xe.rawUrl,extractedUrl:Xe.extractedUrl,trigger:Xe.source,extras:Xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,o.w)(Xe=>{const Lt=G.browserUrlTree.toString(),un=!G.navigated||Xe.extractedUrl.toString()!==Lt||Lt!==G.currentUrlTree.toString();if(!un&&"reload"!==(Xe.extras.onSameUrlNavigation??G.onSameUrlNavigation)){const Kn="";return this.events.next(new Xr(Xe.id,G.serializeUrl(le.rawUrl),Kn,0)),G.rawUrlTree=Xe.rawUrl,Xe.resolve(null),v.E}if(G.urlHandlingStrategy.shouldProcessUrl(Xe.rawUrl))return Pi(Xe.source)&&(G.browserUrlTree=Xe.extractedUrl),(0,a.of)(Xe).pipe((0,o.w)(Kn=>{const vr=this.transitions?.getValue();return this.events.next(new Qn(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),Kn.source,Kn.restoredState)),vr!==this.transitions?.getValue()?v.E:Promise.resolve(Kn)}),function so(N,X,G,le){return(0,o.w)(Me=>function qo(N,X,G,le,Me){return new Ts(N,X,G,le,Me).apply()}(N,X,G,Me.extractedUrl,le).pipe((0,b.U)(Fe=>({...Me,urlAfterRedirects:Fe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,G.config),(0,L.b)(Kn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Kn.urlAfterRedirects},le.urlAfterRedirects=Kn.urlAfterRedirects}),function As(N,X,G,le,Me){return(0,T.z)(Fe=>function Hs(N,X,G,le,Me,Fe,Xe="emptyOnly"){return new Xi(N,X,G,le,Me,Xe,Fe).recognize().pipe((0,o.w)(Lt=>null===Lt?function Hi(N){return new _.y(X=>X.error(N))}(new ha):(0,a.of)(Lt)))}(N,X,G,Fe.urlAfterRedirects,le.serialize(Fe.urlAfterRedirects),le,Me).pipe((0,b.U)(Xe=>({...Fe,targetSnapshot:Xe}))))}(this.environmentInjector,this.rootComponentType,G.config,this.urlSerializer,G.paramsInheritanceStrategy),(0,L.b)(Kn=>{if(le.targetSnapshot=Kn.targetSnapshot,"eager"===G.urlUpdateStrategy){if(!Kn.extras.skipLocationChange){const or=G.urlHandlingStrategy.merge(Kn.urlAfterRedirects,Kn.rawUrl);G.setBrowserUrl(or,Kn)}G.browserUrlTree=Kn.urlAfterRedirects}const vr=new Oi(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(vr)}));if(un&&G.urlHandlingStrategy.shouldProcessUrl(G.rawUrlTree)){const{id:Kn,extractedUrl:vr,source:or,restoredState:Ko,extras:qi}=Xe,wi=new Qn(Kn,this.urlSerializer.serialize(vr),or,Ko);this.events.next(wi);const zi=xi(vr,this.rootComponentType).snapshot;return le={...Xe,targetSnapshot:zi,urlAfterRedirects:vr,extras:{...qi,skipLocationChange:!1,replaceUrl:!1}},(0,a.of)(le)}{const Kn="";return this.events.next(new Xr(Xe.id,G.serializeUrl(le.extractedUrl),Kn,1)),G.rawUrlTree=Xe.rawUrl,Xe.resolve(null),v.E}}),(0,L.b)(Xe=>{const Lt=new Nr(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Lt)}),(0,b.U)(Xe=>le={...Xe,guards:Yi(Xe.targetSnapshot,Xe.currentSnapshot,this.rootContexts)}),function Wt(N,X){return(0,T.z)(G=>{const{targetSnapshot:le,currentSnapshot:Me,guards:{canActivateChecks:Fe,canDeactivateChecks:Xe}}=G;return 0===Xe.length&&0===Fe.length?(0,a.of)({...G,guardsResult:!0}):function Dn(N,X,G,le){return(0,n.D)(N).pipe((0,T.z)(Me=>function Ws(N,X,G,le,Me){const Fe=X&&X.routeConfig?X.routeConfig.canDeactivate:null;if(!Fe||0===Fe.length)return(0,a.of)(!0);const Xe=Fe.map(Lt=>{const un=di(X)??Me,wn=io(Lt,un);return yt(function dr(N){return N&&bi(N.canDeactivate)}(wn)?wn.canDeactivate(N,X,G,le):un.runInContext(()=>wn(N,X,G,le))).pipe((0,g.P)())});return(0,a.of)(Xe).pipe(rt())}(Me.component,Me.route,G,X,le)),(0,g.P)(Me=>!0!==Me,!0))}(Xe,le,Me,N).pipe((0,T.z)(Lt=>Lt&&function ls(N){return"boolean"==typeof N}(Lt)?function xt(N,X,G,le){return(0,n.D)(X).pipe((0,U.b)(Me=>(0,l.z)(function Zr(N,X){return null!==N&&X&&X(new to(N)),(0,a.of)(!0)}(Me.route.parent,le),function Un(N,X){return null!==N&&X&&X(new qr(N)),(0,a.of)(!0)}(Me.route,le),function Jr(N,X,G){const le=X[X.length-1],Fe=X.slice(0,X.length-1).reverse().map(Xe=>function Gr(N){const X=N.routeConfig?N.routeConfig.canActivateChild:null;return X&&0!==X.length?{node:N,guards:X}:null}(Xe)).filter(Xe=>null!==Xe).map(Xe=>(0,p.P)(()=>{const Lt=Xe.guards.map(un=>{const wn=di(Xe.node)??G,Kn=io(un,wn);return yt(function Zo(N){return N&&bi(N.canActivateChild)}(Kn)?Kn.canActivateChild(le,N):wn.runInContext(()=>Kn(le,N))).pipe((0,g.P)())});return(0,a.of)(Lt).pipe(rt())}));return(0,a.of)(Fe).pipe(rt())}(N,Me.path,G),function ui(N,X,G){const le=X.routeConfig?X.routeConfig.canActivate:null;if(!le||0===le.length)return(0,a.of)(!0);const Me=le.map(Fe=>(0,p.P)(()=>{const Xe=di(X)??G,Lt=io(Fe,Xe);return yt(function xs(N){return N&&bi(N.canActivate)}(Lt)?Lt.canActivate(X,N):Xe.runInContext(()=>Lt(X,N))).pipe((0,g.P)())}));return(0,a.of)(Me).pipe(rt())}(N,Me.route,G))),(0,g.P)(Me=>!0!==Me,!0))}(le,Fe,N,X):(0,a.of)(Lt)),(0,b.U)(Lt=>({...G,guardsResult:Lt})))})}(this.environmentInjector,Xe=>this.events.next(Xe)),(0,L.b)(Xe=>{if(le.guardsResult=Xe.guardsResult,ct(Xe.guardsResult))throw as(0,Xe.guardsResult);const Lt=new _i(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot,!!Xe.guardsResult);this.events.next(Lt)}),(0,C.h)(Xe=>!!Xe.guardsResult||(G.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",3),!1)),_t(Xe=>{if(Xe.guards.canActivateChecks.length)return(0,a.of)(Xe).pipe((0,L.b)(Lt=>{const un=new Ri(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(un)}),(0,o.w)(Lt=>{let un=!1;return(0,a.of)(Lt).pipe(function _a(N,X){return(0,T.z)(G=>{const{targetSnapshot:le,guards:{canActivateChecks:Me}}=G;if(!Me.length)return(0,a.of)(G);let Fe=0;return(0,n.D)(Me).pipe((0,U.b)(Xe=>function va(N,X,G,le){const Me=N.routeConfig,Fe=N._resolve;return void 0!==Me?.title&&!ze(Me)&&(Fe[q]=Me.title),function ge(N,X,G,le){const Me=function Be(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}(N);if(0===Me.length)return(0,a.of)({});const Fe={};return(0,n.D)(Me).pipe((0,T.z)(Xe=>function ye(N,X,G,le){const Me=di(X)??le,Fe=io(N,Me);return yt(Fe.resolve?Fe.resolve(X,G):Me.runInContext(()=>Fe(X,G)))}(N[Xe],X,G,le).pipe((0,g.P)(),(0,L.b)(Lt=>{Fe[Xe]=Lt}))),(0,ie.h)(1),(0,ce.h)(Fe),(0,j.K)(Xe=>V(Xe)?v.E:(0,m._)(Xe)))}(Fe,N,X,le).pipe((0,b.U)(Xe=>(N._resolvedData=Xe,N.data=So(N,G).resolve,Me&&ze(Me)&&(N.data[q]=Me.title),null)))}(Xe.route,le,N,X)),(0,L.b)(()=>Fe++),(0,ie.h)(1),(0,T.z)(Xe=>Fe===Me.length?(0,a.of)(G):v.E))})}(G.paramsInheritanceStrategy,this.environmentInjector),(0,L.b)({next:()=>un=!0,complete:()=>{un||(G.restoreHistory(Lt),this.cancelNavigationTransition(Lt,"",2))}}))}),(0,L.b)(Lt=>{const un=new kn(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(un)}))}),_t(Xe=>{const Lt=un=>{const wn=[];un.routeConfig?.loadComponent&&!un.routeConfig._loadedComponent&&wn.push(this.configLoader.loadComponent(un.routeConfig).pipe((0,L.b)(Kn=>{un.component=Kn}),(0,b.U)(()=>{})));for(const Kn of un.children)wn.push(...Lt(Kn));return wn};return(0,r.a)(Lt(Xe.targetSnapshot.root)).pipe((0,W.d)(),(0,D.q)(1))}),_t(()=>this.afterPreactivation()),(0,b.U)(Xe=>{const Lt=function Uo(N,X,G){const le=Po(N,X._root,G?G._root:void 0);return new Xn(le,X)}(G.routeReuseStrategy,Xe.targetSnapshot,Xe.currentRouterState);return le={...Xe,targetRouterState:Lt}}),(0,L.b)(Xe=>{G.currentUrlTree=Xe.urlAfterRedirects,G.rawUrlTree=G.urlHandlingStrategy.merge(Xe.urlAfterRedirects,Xe.rawUrl),G.routerState=Xe.targetRouterState,"deferred"===G.urlUpdateStrategy&&(Xe.extras.skipLocationChange||G.setBrowserUrl(G.rawUrlTree,Xe),G.browserUrlTree=Xe.urlAfterRedirects)}),((N,X,G)=>(0,b.U)(le=>(new go(X,le.targetRouterState,le.currentRouterState,G).activate(N),le)))(this.rootContexts,G.routeReuseStrategy,Xe=>this.events.next(Xe)),(0,D.q)(1),(0,L.b)({next:Xe=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,G.navigated=!0,this.events.next(new hr(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(G.currentUrlTree))),G.titleStrategy?.updateTitle(Xe.targetRouterState.snapshot),Xe.resolve(!0)},complete:()=>{Me=!0}}),(0,ne.x)(()=>{Me||Fe||this.cancelNavigationTransition(le,"",1),this.currentNavigation?.id===le.id&&(this.currentNavigation=null)}),(0,j.K)(Xe=>{if(Fe=!0,ms(Xe)){ro(Xe)||(G.navigated=!0,G.restoreHistory(le,!0));const Lt=new Br(le.id,this.urlSerializer.serialize(le.extractedUrl),Xe.message,Xe.cancellationCode);if(this.events.next(Lt),ro(Xe)){const un=G.urlHandlingStrategy.merge(Xe.url,G.rawUrlTree),wn={skipLocationChange:le.extras.skipLocationChange,replaceUrl:"eager"===G.urlUpdateStrategy||Pi(le.source)};G.scheduleNavigation(un,yr,null,wn,{resolve:le.resolve,reject:le.reject,promise:le.promise})}else le.resolve(!1)}else{G.restoreHistory(le,!0);const Lt=new br(le.id,this.urlSerializer.serialize(le.extractedUrl),Xe,le.targetSnapshot??void 0);this.events.next(Lt);try{le.resolve(G.errorHandler(Xe))}catch(un){le.reject(un)}}return v.E}))}))}cancelNavigationTransition(G,le,Me){const Fe=new Br(G.id,this.urlSerializer.serialize(G.extractedUrl),le,Me);this.events.next(Fe),G.resolve(!1)}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Pi(N){return N!==yr}let Vr=(()=>{class N{buildTitle(G){let le,Me=G.root;for(;void 0!==Me;)le=this.getResolvedTitleForRoute(Me)??le,Me=Me.children.find(Fe=>Fe.outlet===oe);return le}getResolvedTitleForRoute(G){return G.data[q]}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:function(){return(0,t.inject)(pi)},providedIn:"root"}),N})(),pi=(()=>{class N extends Vr{constructor(G){super(),this.title=G}updateTitle(G){const le=this.buildTitle(G);void 0!==le&&this.title.setTitle(le)}}return N.\u0275fac=function(G){return new(G||N)(t.\u0275\u0275inject(Q.Dx))},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ts=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:function(){return(0,t.inject)(ki)},providedIn:"root"}),N})();class xr{shouldDetach(X){return!1}store(X,G){}shouldAttach(X){return!1}retrieve(X){return null}shouldReuseRoute(X,G){return X.routeConfig===G.routeConfig}}let ki=(()=>{class N extends xr{}return N.\u0275fac=function(){let X;return function(le){return(X||(X=t.\u0275\u0275getInheritedFactory(N)))(le||N)}}(),N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Ii=new t.InjectionToken("",{providedIn:"root",factory:()=>({})});let zr=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:function(){return(0,t.inject)(ns)},providedIn:"root"}),N})(),ns=(()=>{class N{shouldProcessUrl(G){return!0}extract(G){return G}merge(G,le){return G}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Fo(N){throw N}function Ea(N,X,G){return X.parse("/")}const ds={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class N{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,t.inject)(t.\u0275Console),this.isNgZoneEnabled=!1,this.options=(0,t.inject)(Ii,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ea,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,t.inject)(zr),this.routeReuseStrategy=(0,t.inject)(ts),this.urlCreationStrategy=(0,t.inject)(bn),this.titleStrategy=(0,t.inject)(Vr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Pe((0,t.inject)(mn,{optional:!0})??[]),this.navigationTransitions=(0,t.inject)(Cr),this.urlSerializer=(0,t.inject)(St),this.location=(0,t.inject)(S.Ye),this.isNgZoneEnabled=(0,t.inject)(t.NgZone)instanceof t.NgZone&&t.NgZone.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Je,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(G=>{this.lastSuccessfulId=G.id,this.currentPageId=this.browserPageId??0},G=>{this.console.warn(`Unhandled Navigation Error: ${G}`)})}resetRootComponentType(G){this.routerState.root.component=G,this.navigationTransitions.rootComponentType=G}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const G=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yr,G)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(G=>{const le="popstate"===G.type?"popstate":"hashchange";"popstate"===le&&setTimeout(()=>{this.navigateToSyncWithBrowser(G.url,le,G.state)},0)}))}navigateToSyncWithBrowser(G,le,Me){const Fe={replaceUrl:!0},Xe=Me?.navigationId?Me:null;if(Me){const un={...Me};delete un.navigationId,delete un.\u0275routerPageId,0!==Object.keys(un).length&&(Fe.state=un)}const Lt=this.parseUrl(G);this.scheduleNavigation(Lt,le,Xe,Fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(G){this.config=G.map(zo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(G,le={}){const{relativeTo:Me,queryParams:Fe,fragment:Xe,queryParamsHandling:Lt,preserveFragment:un}=le,wn=un?this.currentUrlTree.fragment:Xe;let Kn=null;switch(Lt){case"merge":Kn={...this.currentUrlTree.queryParams,...Fe};break;case"preserve":Kn=this.currentUrlTree.queryParams;break;default:Kn=Fe||null}return null!==Kn&&(Kn=this.removeEmptyProps(Kn)),this.urlCreationStrategy.createUrlTree(Me,this.routerState,this.currentUrlTree,G,Kn,wn??null)}navigateByUrl(G,le={skipLocationChange:!1}){const Me=ct(G)?G:this.parseUrl(G),Fe=this.urlHandlingStrategy.merge(Me,this.rawUrlTree);return this.scheduleNavigation(Fe,yr,null,le)}navigate(G,le={skipLocationChange:!1}){return function Qr(N){for(let X=0;X<N.length;X++){const G=N[X];if(null==G)throw new t.\u0275RuntimeError(4008,false)}}(G),this.navigateByUrl(this.createUrlTree(G,le),le)}serializeUrl(G){return this.urlSerializer.serialize(G)}parseUrl(G){let le;try{le=this.urlSerializer.parse(G)}catch(Me){le=this.malformedUriErrorHandler(Me,this.urlSerializer,G)}return le}isActive(G,le){let Me;if(Me=!0===le?{...ds}:!1===le?{...ks}:le,ct(G))return At(this.currentUrlTree,G,Me);const Fe=this.parseUrl(G);return At(this.currentUrlTree,Fe,Me)}removeEmptyProps(G){return Object.keys(G).reduce((le,Me)=>{const Fe=G[Me];return null!=Fe&&(le[Me]=Fe),le},{})}scheduleNavigation(G,le,Me,Fe,Xe){if(this.disposed)return Promise.resolve(!1);let Lt,un,wn,Kn;return Xe?(Lt=Xe.resolve,un=Xe.reject,wn=Xe.promise):wn=new Promise((vr,or)=>{Lt=vr,un=or}),Kn="computed"===this.canceledNavigationResolution?Me&&Me.\u0275routerPageId?Me.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Kn,source:le,restoredState:Me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:G,extras:Fe,resolve:Lt,reject:un,promise:wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wn.catch(vr=>Promise.reject(vr))}setBrowserUrl(G,le){const Me=this.urlSerializer.serialize(G);if(this.location.isCurrentPathEqualTo(Me)||le.extras.replaceUrl){const Xe={...le.extras.state,...this.generateNgRouterState(le.id,this.browserPageId)};this.location.replaceState(Me,"",Xe)}else{const Fe={...le.extras.state,...this.generateNgRouterState(le.id,le.targetPageId)};this.location.go(Me,"",Fe)}}restoreHistory(G,le=!1){if("computed"===this.canceledNavigationResolution){const Fe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Fe?this.location.historyGo(Fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Fe&&(this.resetState(G),this.browserUrlTree=G.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(le&&this.resetState(G),this.resetUrlToCurrentUrlTree())}resetState(G){this.routerState=G.currentRouterState,this.currentUrlTree=G.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,G.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(G,le){return"computed"===this.canceledNavigationResolution?{navigationId:G,\u0275routerPageId:le}:{navigationId:G}}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ho=(()=>{class N{constructor(G,le,Me,Fe,Xe,Lt){this.router=G,this.route=le,this.tabIndexAttribute=Me,this.renderer=Fe,this.el=Xe,this.locationStrategy=Lt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new O.x;const un=Xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===un||"area"===un,this.isAnchorElement?this.subscription=G.events.subscribe(wn=>{wn instanceof hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(G){this._preserveFragment=(0,t.\u0275coerceToBoolean)(G)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(G){this._skipLocationChange=(0,t.\u0275coerceToBoolean)(G)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(G){this._replaceUrl=(0,t.\u0275coerceToBoolean)(G)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(G){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",G)}ngOnChanges(G){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(G){null!=G?(this.commands=Array.isArray(G)?G:[G],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(G,le,Me,Fe,Xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==G||le||Me||Fe||Xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const G=null===this.href?null:(0,t.\u0275\u0275sanitizeUrlOrResourceUrl)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",G)}applyAttributeValue(G,le){const Me=this.renderer,Fe=this.el.nativeElement;null!==le?Me.setAttribute(Fe,G,le):Me.removeAttribute(Fe,G)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return N.\u0275fac=function(G){return new(G||N)(t.\u0275\u0275directiveInject($i),t.\u0275\u0275directiveInject(Wr),t.\u0275\u0275injectAttribute("tabindex"),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(S.S$))},N.\u0275dir=t.\u0275\u0275defineDirective({type:N,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(G,le){1&G&&t.\u0275\u0275listener("click",function(Fe){return le.onClick(Fe.button,Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey)}),2&G&&t.\u0275\u0275attribute("target",le.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]}),N})(),yi=(()=>{class N{get isActive(){return this._isActive}constructor(G,le,Me,Fe,Xe){this.router=G,this.element=le,this.renderer=Me,this.cdr=Fe,this.link=Xe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.EventEmitter,this.routerEventsSubscription=G.events.subscribe(Lt=>{Lt instanceof hr&&this.update()})}ngAfterContentInit(){(0,a.of)(this.links.changes,(0,a.of)(null)).pipe((0,w.J)()).subscribe(G=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const G=[...this.links.toArray(),this.link].filter(le=>!!le).map(le=>le.onChanges);this.linkInputChangesSubscription=(0,n.D)(G).pipe((0,w.J)()).subscribe(le=>{this._isActive!==this.isLinkActive(this.router)(le)&&this.update()})}set routerLinkActive(G){const le=Array.isArray(G)?G:G.split(" ");this.classes=le.filter(Me=>!!Me)}ngOnChanges(G){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const G=this.hasActiveLinks();this._isActive!==G&&(this._isActive=G,this.cdr.markForCheck(),this.classes.forEach(le=>{G?this.renderer.addClass(this.element.nativeElement,le):this.renderer.removeClass(this.element.nativeElement,le)}),G&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(G))})}isLinkActive(G){const le=function ii(N){return!!N.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Me=>!!Me.urlTree&&G.isActive(Me.urlTree,le)}hasActiveLinks(){const G=this.isLinkActive(this.router);return this.link&&G(this.link)||this.links.some(G)}}return N.\u0275fac=function(G){return new(G||N)(t.\u0275\u0275directiveInject($i),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(ho,8))},N.\u0275dir=t.\u0275\u0275defineDirective({type:N,selectors:[["","routerLinkActive",""]],contentQueries:function(G,le,Me){if(1&G&&t.\u0275\u0275contentQuery(Me,ho,5),2&G){let Fe;t.\u0275\u0275queryRefresh(Fe=t.\u0275\u0275loadQuery())&&(le.links=Fe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]}),N})();class Kr{}let ws=(()=>{class N{preload(G,le){return(0,a.of)(null)}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Co=(()=>{class N{constructor(G,le,Me,Fe,Xe){this.router=G,this.injector=Me,this.preloadingStrategy=Fe,this.loader=Xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,C.h)(G=>G instanceof hr),(0,U.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(G,le){const Me=[];for(const Fe of le){Fe.providers&&!Fe._injector&&(Fe._injector=(0,t.createEnvironmentInjector)(Fe.providers,G,`Route: ${Fe.path}`));const Xe=Fe._injector??G,Lt=Fe._loadedInjector??Xe;(Fe.loadChildren&&!Fe._loadedRoutes&&void 0===Fe.canLoad||Fe.loadComponent&&!Fe._loadedComponent)&&Me.push(this.preloadConfig(Xe,Fe)),(Fe.children||Fe._loadedRoutes)&&Me.push(this.processRoutes(Lt,Fe.children??Fe._loadedRoutes))}return(0,n.D)(Me).pipe((0,w.J)())}preloadConfig(G,le){return this.preloadingStrategy.preload(le,()=>{let Me;Me=le.loadChildren&&void 0===le.canLoad?this.loader.loadChildren(G,le):(0,a.of)(null);const Fe=Me.pipe((0,T.z)(Xe=>null===Xe?(0,a.of)(void 0):(le._loadedRoutes=Xe.routes,le._loadedInjector=Xe.injector,this.processRoutes(Xe.injector??G,Xe.routes))));if(le.loadComponent&&!le._loadedComponent){const Xe=this.loader.loadComponent(le);return(0,n.D)([Fe,Xe]).pipe((0,w.J)())}return Fe})}}return N.\u0275fac=function(G){return new(G||N)(t.\u0275\u0275inject($i),t.\u0275\u0275inject(t.Compiler),t.\u0275\u0275inject(t.EnvironmentInjector),t.\u0275\u0275inject(Kr),t.\u0275\u0275inject(zn))},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Ci=new t.InjectionToken("");let Eo=(()=>{class N{constructor(G,le,Me,Fe,Xe={}){this.urlSerializer=G,this.transitions=le,this.viewportScroller=Me,this.zone=Fe,this.options=Xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xe.scrollPositionRestoration=Xe.scrollPositionRestoration||"disabled",Xe.anchorScrolling=Xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(G=>{G instanceof Qn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=G.navigationTrigger,this.restoredId=G.restoredState?G.restoredState.navigationId:0):G instanceof hr&&(this.lastId=G.id,this.scheduleScrollEvent(G,this.urlSerializer.parse(G.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(G=>{G instanceof dt&&(G.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(G.position):G.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(G.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(G,le){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dt(G,"popstate"===this.lastSource?this.store[this.restoredId]:null,le))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return N.\u0275fac=function(G){t.\u0275\u0275invalidFactory()},N.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})();var fo=(()=>((fo=fo||{})[fo.COMPLETE=0]="COMPLETE",fo[fo.FAILED=1]="FAILED",fo[fo.REDIRECTING=2]="REDIRECTING",fo))();const Cs=!1;function Rs(N,X){return{\u0275kind:N,\u0275providers:X}}const ia=new t.InjectionToken("",{providedIn:"root",factory:()=>!1});function Sa(){const N=(0,t.inject)(t.Injector);return X=>{const G=N.get(t.ApplicationRef);if(X!==G.components[0])return;const le=N.get($i),Me=N.get(Zs);1===N.get(Ds)&&le.initialNavigation(),N.get(Ro,null,t.InjectFlags.Optional)?.setUpPreloading(),N.get(Ci,null,t.InjectFlags.Optional)?.init(),le.resetRootComponentType(G.componentTypes[0]),Me.closed||(Me.next(),Me.complete(),Me.unsubscribe())}}const Zs=new t.InjectionToken(Cs?"bootstrap done indicator":"",{factory:()=>new O.x}),Ds=new t.InjectionToken(Cs?"initial navigation":"",{providedIn:"root",factory:()=>1});function rs(){let N=[];return N=Cs?[{provide:t.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>{const X=(0,t.inject)($i);return()=>X.events.subscribe(G=>{console.group?.(`Router Event: ${G.constructor.name}`),console.log(function Zt(N){if(!("type"in N))return`Unknown Router Event: ${N.constructor.name}`;switch(N.type){case 14:return`ActivationEnd(path: '${N.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${N.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${N.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${N.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}', state: ${N.state}, shouldActivate: ${N.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}', state: ${N.state})`;case 2:return`NavigationCancel(id: ${N.id}, url: '${N.url}')`;case 16:return`NavigationSkipped(id: ${N.id}, url: '${N.url}')`;case 1:return`NavigationEnd(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${N.id}, url: '${N.url}', error: ${N.error})`;case 0:return`NavigationStart(id: ${N.id}, url: '${N.url}')`;case 6:return`ResolveEnd(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}', state: ${N.state})`;case 5:return`ResolveStart(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}', state: ${N.state})`;case 10:return`RouteConfigLoadEnd(path: ${N.route.path})`;case 9:return`RouteConfigLoadStart(path: ${N.route.path})`;case 4:return`RoutesRecognized(id: ${N.id}, url: '${N.url}', urlAfterRedirects: '${N.urlAfterRedirects}', state: ${N.state})`;case 15:return`Scroll(anchor: '${N.anchor}', position: '${N.position?`${N.position[0]}, ${N.position[1]}`:null}')`}}(G)),console.log(G),console.groupEnd?.()})}}]:[],Rs(1,N)}const Ro=new t.InjectionToken(Cs?"router preloader":"");function xo(N){return Rs(0,[{provide:Ro,useExisting:Co},{provide:Kr,useExisting:N}])}const Oo=!1,Hr=new t.InjectionToken(Oo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),jo=[S.Ye,{provide:St,useClass:It},$i,_o,{provide:Wr,useFactory:function Zi(N){return N.routerState.root},deps:[$i]},zn,Oo?{provide:ia,useValue:!0}:[]];function is(){return new t.NgProbeToken("Router",$i)}let Os=(()=>{class N{constructor(G){}static forRoot(G,le){return{ngModule:N,providers:[jo,Oo&&le?.enableTracing?rs().\u0275providers:[],{provide:mn,multi:!0,useValue:G},{provide:Hr,useFactory:Ms,deps:[[$i,new t.Optional,new t.SkipSelf]]},{provide:Ii,useValue:le||{}},le?.useHash?{provide:S.S$,useClass:S.Do}:{provide:S.S$,useClass:S.b0},{provide:Ci,useFactory:()=>{const N=(0,t.inject)(S.EM),X=(0,t.inject)(t.NgZone),G=(0,t.inject)(Ii),le=(0,t.inject)(Cr),Me=(0,t.inject)(St);return G.scrollOffset&&N.setOffset(G.scrollOffset),new Eo(Me,le,N,X,G)}},le?.preloadingStrategy?xo(le.preloadingStrategy).\u0275providers:[],{provide:t.NgProbeToken,multi:!0,useFactory:is},le?.initialNavigation?He(le):[],[{provide:fe,useFactory:Sa},{provide:t.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:fe}]]}}static forChild(G){return{ngModule:N,providers:[{provide:mn,multi:!0,useValue:G}]}}}return N.\u0275fac=function(G){return new(G||N)(t.\u0275\u0275inject(Hr,8))},N.\u0275mod=t.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=t.\u0275\u0275defineInjector({imports:[Ut]}),N})();function Ms(N){if(Oo&&N)throw new t.\u0275RuntimeError(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function He(N){return["disabled"===N.initialNavigation?Rs(3,[{provide:t.APP_INITIALIZER,multi:!0,useFactory:()=>{const X=(0,t.inject)($i);return()=>{X.setUpLocationChangeListener()}}},{provide:Ds,useValue:2}]).\u0275providers:[],"enabledBlocking"===N.initialNavigation?Rs(2,[{provide:Ds,useValue:0},{provide:t.APP_INITIALIZER,multi:!0,deps:[t.Injector],useFactory:X=>{const G=X.get(S.V_,Promise.resolve());return()=>G.then(()=>new Promise(le=>{const Me=X.get($i),Fe=X.get(Zs);(function Fs(N,X){N.events.pipe((0,C.h)(G=>G instanceof hr||G instanceof Br||G instanceof br||G instanceof Xr),(0,b.U)(G=>G instanceof hr||G instanceof Xr?fo.COMPLETE:G instanceof Br&&(0===G.code||1===G.code)?fo.REDIRECTING:fo.FAILED),(0,C.h)(G=>G!==fo.REDIRECTING),(0,D.q)(1)).subscribe(()=>{X()})})(Me,()=>{le(!0)}),X.get(Cr).afterPreactivation=()=>(le(!0),Fe.closed?(0,a.of)(void 0):Fe),Me.initialNavigation()}))}}]).\u0275providers:[]]}const fe=new t.InjectionToken(Oo?"Router Initializer":"")},65706:(R,c,e)=>{"use strict";e.d(c,{gY:()=>Ut,Gs:()=>Ar,Kz:()=>de,mL:()=>Fi,xZ:()=>Yo,W9:()=>yo,_D:()=>Zo,lQ:()=>dr,VL:()=>Bs,M4:()=>gs,M:()=>Ji,jt:()=>Wo,YE:()=>is,TH:()=>Hr,Vi:()=>jo,XC:()=>lo,iD:()=>Os,J4:()=>ma,FF:()=>Fe,NM:()=>Me,bz:()=>Xe,IJ:()=>Gs,Pz:()=>or,uN:()=>Kn,nv:()=>vr,Vx:()=>Ko,Oz:()=>qs,tO:()=>Ca,M2:()=>Js,N9:()=>ca,pM:()=>Ta,jF:()=>us,Gk:()=>Le,gW:()=>vn,k9:()=>_o,Cu:()=>Et,aB:()=>Go,py:()=>vi,OC:()=>ji,mO:()=>Ba,Pm:()=>Ml,Kk:()=>Pc,UL:()=>Sl,_L:()=>Yl,HK:()=>da,dR:()=>Zl,ZS:()=>Tl});var t=e(98678),n=e(35103),a=e(42878),i=e(27164),d=e(9237),r=e(1828),l=e(43035),p=e(26729),h=e(56615),m=e(35841),v=(e(53426),e(34589));new a.y(v.Z);var S=e(60276),b=e(29054),o=e(34146),M=e(35879),C=e(77007),T=e(77176),g=e(48358),U=e(9302),L=e(49887),j=e(21160),$=e(27303),z=e(22040),re=e(98843),W=e(69637),ie=e(43535),ce=e(42569),ne=e(5476);function K(B,ae){}function w(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"button",3),t.\u0275\u0275text(1),t.\u0275\u0275template(2,K,0,0,"ng-template",4),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit;t.\u0275\u0275property("ngbPanelToggle",I),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",I.title,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",null==I.titleTpl?null:I.titleTpl.templateRef)}}function Q(B,ae){}function oe(B,ae){}function q(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275listener("ngbRef",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275resetView(Ae.panelDiv=me)}),t.\u0275\u0275elementStart(1,"div",9),t.\u0275\u0275template(2,oe,0,0,"ng-template",4),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275propertyInterpolate("id",I.id),t.\u0275\u0275attribute("aria-labelledby",I.id+"-header"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",(null==I.contentTpl?null:I.contentTpl.templateRef)||null)}}const ee=function(B,ae){return{$implicit:B,opened:ae}};function J(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div")(1,"div",5),t.\u0275\u0275template(2,Q,0,0,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,q,3,3,"div",7),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext(),me=t.\u0275\u0275reference(1);t.\u0275\u0275classMap("card "+(I.cardClass||"")),t.\u0275\u0275advance(1),t.\u0275\u0275classMap("card-header "+(I.type?"bg-"+I.type:k.type?"bg-"+k.type:"")),t.\u0275\u0275propertyInterpolate1("id","",I.id,"-header"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.headerTpl?null:I.headerTpl.templateRef)||me)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(8,ee,I,I.isOpen)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!k.destroyOnHide||I.isOpen||I.transitionRunning)}}const Oe=["*"],tt=["ngbDatepickerDayView",""],yt=["month"],Ne=["year"];function mt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"option",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",I),t.\u0275\u0275attribute("aria-label",k.i18n.getMonthFullName(I,null==k.date?null:k.date.year)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(k.i18n.getMonthShortName(I,null==k.date?null:k.date.year))}}function Dt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"option",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",I),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(k.i18n.getYearNumerals(I))}}function At(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngb-datepicker-navigation-select",7),t.\u0275\u0275listener("select",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ae.select.emit(me))}),t.\u0275\u0275elementEnd()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275property("date",I.date)("disabled",I.disabled)("months",I.selectBoxes.months)("years",I.selectBoxes.years)}}function Jt(B,ae){1&B&&t.\u0275\u0275element(0,"div",0)}function $t(B,ae){1&B&&t.\u0275\u0275element(0,"div",0)}function lt(B,ae){if(1&B&&(t.\u0275\u0275template(0,Jt,1,0,"div",9),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,$t,1,0,"div",9)),2&B){const I=ae.$implicit,k=ae.index,me=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",k>0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",me.i18n.getMonthLabel(I.firstDate)," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k!==me.months.length-1)}}function Ht(B,ae){if(1&B&&t.\u0275\u0275template(0,lt,4,3,"ng-template",8),2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",I.months)}}const Qe=["defaultDayTemplate"],ft=["content"];function Je(B,ae){if(1&B&&t.\u0275\u0275element(0,"div",7),2&B){const k=ae.currentMonth,me=ae.selected,Ae=ae.disabled,Pt=ae.focused;t.\u0275\u0275property("date",ae.date)("currentMonth",k)("selected",me)("disabled",Ae)("focused",Pt)}}function Ge(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",k.i18n.getMonthLabel(I.firstDate)," ")}}function qe(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275template(1,Ge,2,1,"div",10),t.\u0275\u0275element(2,"ngb-datepicker-month",11),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","none"===k.navigation||k.displayMonths>1&&"select"===k.navigation),t.\u0275\u0275advance(1),t.\u0275\u0275property("month",I.firstDate)}}function gt(B,ae){if(1&B&&t.\u0275\u0275template(0,qe,3,2,"div",8),2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",I.model.months)}}function it(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ngb-datepicker-navigation",13),t.\u0275\u0275listener("navigate",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ae.onNavigateEvent(me))})("select",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ae.onNavigateDateSelect(me))}),t.\u0275\u0275elementEnd()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275property("date",I.model.firstDate)("months",I.model.months)("disabled",I.model.disabled)("showSelect","select"===I.model.navigation)("prevDisabled",I.model.prevDisabled)("nextDisabled",I.model.nextDisabled)("selectBoxes",I.model.selectBoxes)}}function ht(B,ae){}function St(B,ae){}function It(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(I.i18n.getWeekLabel())}}function Yt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(I)}}function en(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,It,2,1,"div",3),t.\u0275\u0275template(2,Yt,2,1,"div",4),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",I.datepicker.showWeekNumbers),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",I.viewModel.weekdays)}}function Tt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext(2).$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(k.i18n.getWeekNumerals(I.number))}}function Mn(B,ae){}function xn(B,ae){if(1&B&&t.\u0275\u0275template(0,Mn,0,0,"ng-template",14),2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngTemplateOutlet",k.datepicker.dayTemplate)("ngTemplateOutletContext",I.context)}}function qn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275listener("click",function(me){const Pt=t.\u0275\u0275restoreView(I).$implicit;return t.\u0275\u0275nextContext(3).doSelect(Pt),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(1,xn,1,2,"ng-template",13),t.\u0275\u0275elementEnd()}if(2&B){const I=ae.$implicit;t.\u0275\u0275classProp("disabled",I.context.disabled)("hidden",I.hidden)("ngb-dp-today",I.context.today),t.\u0275\u0275property("tabindex",I.tabindex),t.\u0275\u0275attribute("aria-label",I.ariaLabel),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!I.hidden)}}function Rt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275template(1,Tt,2,1,"div",9),t.\u0275\u0275template(2,qn,2,9,"div",10),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.datepicker.showWeekNumbers),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",I.days)}}function sn(B,ae){1&B&&t.\u0275\u0275template(0,Rt,3,2,"div",7),2&B&&t.\u0275\u0275property("ngIf",!ae.$implicit.collapsed)}const jt=["dialog"],zt=["ngbNavOutlet",""];function on(B,ae){}const ke=function(B){return{$implicit:B}};function xe(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,on,0,0,"ng-template",3),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275property("item",I)("nav",k.nav)("role",k.paneRole),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.contentTpl?null:I.contentTpl.templateRef)||null)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(5,ke,I.active||k.isPanelTransitioning(I)))}}function we(B,ae){if(1&B&&t.\u0275\u0275template(0,xe,2,7,"div",1),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",I.isPanelInDom()||k.isPanelTransitioning(I))}}function pt(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"span",9),t.\u0275\u0275i18n(1,10),t.\u0275\u0275elementEnd())}function bt(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"span",9),t.\u0275\u0275i18n(1,11),t.\u0275\u0275elementEnd())}function wt(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"span",9),t.\u0275\u0275i18n(1,12),t.\u0275\u0275elementEnd())}function Xt(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"span",9),t.\u0275\u0275i18n(1,13),t.\u0275\u0275elementEnd())}function Qt(B,ae){1&B&&t.\u0275\u0275text(0,"...")}function Gt(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"span",15),t.\u0275\u0275text(1,"(current)"),t.\u0275\u0275elementEnd())}function dn(B,ae){if(1&B&&(t.\u0275\u0275text(0),t.\u0275\u0275template(1,Gt,2,0,"span",14)),2&B){const I=ae.$implicit,k=ae.currentPage;t.\u0275\u0275textInterpolate1(" ",I," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",I===k)}}function fn(B,ae){}const ct=function(B){return{disabled:!0,currentPage:B}};function Mt(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"a",20),t.\u0275\u0275template(1,fn,0,0,"ng-template",8),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext(2).$implicit,k=t.\u0275\u0275nextContext(),me=t.\u0275\u0275reference(9);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==k.tplEllipsis?null:k.tplEllipsis.templateRef)||me)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,ct,I))}}function Ve(B,ae){}const vt=function(B,ae,I){return{disabled:B,$implicit:ae,currentPage:I}};function Bt(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",21),t.\u0275\u0275listener("click",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275nextContext(2).selectPage(Ae),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(1,Ve,0,0,"ng-template",8),t.\u0275\u0275elementEnd()}if(2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext(),me=k.disabled,Ae=k.$implicit,Pt=t.\u0275\u0275nextContext(),qt=t.\u0275\u0275reference(11);t.\u0275\u0275attribute("tabindex",me?"-1":null)("aria-disabled",me?"true":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==Pt.tplNumber?null:Pt.tplNumber.templateRef)||qt)("ngTemplateOutletContext",t.\u0275\u0275pureFunction3(4,vt,me,I,Ae))}}function je(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"li",17),t.\u0275\u0275template(1,Mt,2,4,"a",18),t.\u0275\u0275template(2,Bt,2,8,"a",19),t.\u0275\u0275elementEnd()),2&B){const I=ae.$implicit,k=t.\u0275\u0275nextContext(),me=k.$implicit,Ae=k.disabled,Pt=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",I===me)("disabled",Pt.isEllipsis(I)||Ae),t.\u0275\u0275attribute("aria-current",I===me?"page":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",Pt.isEllipsis(I)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!Pt.isEllipsis(I))}}function be(B,ae){1&B&&t.\u0275\u0275template(0,je,3,7,"li",16),2&B&&t.\u0275\u0275property("ngForOf",ae.pages)}function ot(B,ae){}const rn=function(B,ae){return{disabled:B,currentPage:ae}};function Cn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",17)(1,"a",22),t.\u0275\u0275listener("click",function(me){return t.\u0275\u0275restoreView(I),t.\u0275\u0275nextContext().selectPage(1),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(2,ot,0,0,"ng-template",8),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(),k=t.\u0275\u0275reference(1);t.\u0275\u0275classProp("disabled",I.previousDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275attribute("tabindex",I.previousDisabled()?"-1":null)("aria-disabled",I.previousDisabled()?"true":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.tplFirst?null:I.tplFirst.templateRef)||k)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(6,rn,I.previousDisabled(),I.page))}}function tr(B,ae){}const hn=function(B){return{disabled:B}};function En(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",17)(1,"a",23),t.\u0275\u0275listener("click",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return Ae.selectPage(Ae.page-1),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(2,tr,0,0,"ng-template",8),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(),k=t.\u0275\u0275reference(3);t.\u0275\u0275classProp("disabled",I.previousDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275attribute("tabindex",I.previousDisabled()?"-1":null)("aria-disabled",I.previousDisabled()?"true":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.tplPrevious?null:I.tplPrevious.templateRef)||k)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(6,hn,I.previousDisabled()))}}function cn(B,ae){}function Pn(B,ae){}function Bn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",17)(1,"a",24),t.\u0275\u0275listener("click",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return Ae.selectPage(Ae.page+1),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(2,Pn,0,0,"ng-template",8),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(),k=t.\u0275\u0275reference(5);t.\u0275\u0275classProp("disabled",I.nextDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275attribute("tabindex",I.nextDisabled()?"-1":null)("aria-disabled",I.nextDisabled()?"true":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.tplNext?null:I.tplNext.templateRef)||k)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(6,rn,I.nextDisabled(),I.page))}}function An(B,ae){}function In(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",17)(1,"a",25),t.\u0275\u0275listener("click",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return Ae.selectPage(Ae.pageCount),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275template(2,An,0,0,"ng-template",8),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(),k=t.\u0275\u0275reference(7);t.\u0275\u0275classProp("disabled",I.nextDisabled()),t.\u0275\u0275advance(1),t.\u0275\u0275attribute("tabindex",I.nextDisabled()?"-1":null)("aria-disabled",I.nextDisabled()?"true":null),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==I.tplLast?null:I.tplLast.templateRef)||k)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(6,rn,I.nextDisabled(),I.page))}}const Fn=function(B,ae,I){return{$implicit:B,pages:ae,disabled:I}};function si(B,ae){1&B&&t.\u0275\u0275text(0),2&B&&t.\u0275\u0275textInterpolate(100===ae.fill?"\u2605":"\u2606")}function yr(B,ae){}function Sn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",2),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"span",3),t.\u0275\u0275listener("mouseenter",function(){const Ae=t.\u0275\u0275restoreView(I).index,Pt=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Pt.enter(Ae+1))})("click",function(){const Ae=t.\u0275\u0275restoreView(I).index,Pt=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Pt.handleClick(Ae+1))}),t.\u0275\u0275template(3,yr,0,0,"ng-template",4),t.\u0275\u0275elementEnd()}if(2&B){const I=ae.index,k=t.\u0275\u0275nextContext(),me=t.\u0275\u0275reference(1);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("(",I<k.nextRate?"*":" ",")"),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("cursor",k.isInteractive()?"pointer":"default"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",k.starTemplate||k.starTemplateFromContent||me)("ngTemplateOutletContext",k.contexts[I])}}function Qn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.changeHour(me.hourStep))}),t.\u0275\u0275element(1,"span",12),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,14),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function hr(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.changeHour(-me.hourStep))}),t.\u0275\u0275element(1,"span",15),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,16),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function Br(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.changeMinute(me.minuteStep))}),t.\u0275\u0275element(1,"span",12),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,17),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function Xr(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.changeMinute(-me.minuteStep))}),t.\u0275\u0275element(1,"span",15),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,18),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function br(B,ae){1&B&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275text(1,":"),t.\u0275\u0275elementEnd())}function Oi(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(me.changeSecond(me.secondStep))}),t.\u0275\u0275element(1,"span",12),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,21),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function Nr(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(me.changeSecond(-me.secondStep))}),t.\u0275\u0275element(1,"span",15),t.\u0275\u0275elementStart(2,"span",13),t.\u0275\u0275i18n(3,22),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),t.\u0275\u0275property("disabled",I.disabled)}}function _i(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,Oi,4,7,"button",3),t.\u0275\u0275elementStart(2,"input",20),t.\u0275\u0275listener("change",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ae.updateSecond(me.target.value))})("blur",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.handleBlur())})("input",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Ae.formatInput(me.target))})("keydown.ArrowUp",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return Ae.changeSecond(Ae.secondStep),t.\u0275\u0275resetView(me.preventDefault())})("keydown.ArrowDown",function(me){t.\u0275\u0275restoreView(I);const Ae=t.\u0275\u0275nextContext();return Ae.changeSecond(-Ae.secondStep),t.\u0275\u0275resetView(me.preventDefault())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Nr,4,7,"button",3),t.\u0275\u0275elementEnd()}if(2&B){const I=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",I.spinners),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("form-control-sm",I.isSmallSize)("form-control-lg",I.isLargeSize),t.\u0275\u0275property("value",I.formatMinSec(null==I.model?null:I.model.second))("readOnly",I.readonlyInputs)("disabled",I.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",I.spinners)}}function Ri(B,ae){1&B&&t.\u0275\u0275element(0,"div",5)}function kn(B,ae){if(1&B&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275i18n(1,27),t.\u0275\u0275elementContainerEnd()),2&B){const I=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275i18nExp(I.i18n.getAfternoonPeriod()),t.\u0275\u0275i18nApply(1)}}function hi(B,ae){if(1&B&&t.\u0275\u0275i18n(0,28),2&B){const I=t.\u0275\u0275nextContext(2);t.\u0275\u0275i18nExp(I.i18n.getMorningPeriod()),t.\u0275\u0275i18nApply(0)}}function ai(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"button",24),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(I);const me=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(me.toggleMeridian())}),t.\u0275\u0275template(2,kn,2,1,"ng-container",25),t.\u0275\u0275template(3,hi,1,1,"ng-template",null,26,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(2&B){const I=t.\u0275\u0275reference(4),k=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275classProp("btn-sm",k.isSmallSize)("btn-lg",k.isLargeSize)("disabled",k.disabled),t.\u0275\u0275property("disabled",k.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.model&&k.model.hour>=12)("ngIfElse",I)}}function Bi(B,ae){if(1&B&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&B){const I=t.\u0275\u0275nextContext().$implicit,k=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(k.highlightClass),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(I)}}function dt(B,ae){if(1&B&&t.\u0275\u0275text(0),2&B){const I=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275textInterpolate(I)}}function Zt(B,ae){if(1&B&&(t.\u0275\u0275template(0,Bi,2,3,"span",1),t.\u0275\u0275template(1,dt,1,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)),2&B){const I=ae.odd,k=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",I)("ngIfElse",k)}}function Kt(B,ae){if(1&B&&t.\u0275\u0275element(0,"ngb-highlight",2),2&B){const k=ae.term;t.\u0275\u0275property("result",(0,ae.formatter)(ae.result))("term",k)}}function ln(B,ae){}const _n=function(B,ae,I){return{result:B,term:ae,formatter:I}};function bn(B,ae){if(1&B){const I=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",3),t.\u0275\u0275listener("mouseenter",function(){const Ae=t.\u0275\u0275restoreView(I).index,Pt=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Pt.markActive(Ae))})("click",function(){const Ae=t.\u0275\u0275restoreView(I).$implicit,Pt=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(Pt.select(Ae))}),t.\u0275\u0275template(1,ln,0,0,"ng-template",4),t.\u0275\u0275elementEnd()}if(2&B){const I=ae.$implicit,k=ae.index,me=t.\u0275\u0275nextContext(),Ae=t.\u0275\u0275reference(1);t.\u0275\u0275classProp("active",k===me.activeIdx),t.\u0275\u0275property("id",me.id+"-"+k),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",me.resultTemplate||Ae)("ngTemplateOutletContext",t.\u0275\u0275pureFunction3(5,_n,I,me.term,me.formatter))}}function $n(B){return parseInt(`${B}`,10)}function Mr(B){return null!=B?`${B}`:""}function Ur(B,ae,I=0){return Math.max(Math.min(B,ae),I)}function Tr(B){return"string"==typeof B}function Vn(B){return!isNaN($n(B))}function Xn(B){return"number"==typeof B&&isFinite(B)&&Math.floor(B)===B}function xi(B){return null!=B}function Wr(B){return Vn(B)?`0${B}`.slice(-2):""}function co(B,ae){return B&&B.className&&B.className.split&&B.className.split(/\s+/).indexOf(ae)>=0}function ei(B){return(B||document.body).getBoundingClientRect()}function bo(B){return B.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(B){let ae=this;if(!document.documentElement.contains(ae))return null;do{if(ae.matches(B))return ae;ae=ae.parentElement||ae.parentNode}while(null!==ae&&1===ae.nodeType);return null});const no={animation:!0,transitionTimerDelayMs:5},Uo=()=>{},{transitionTimerDelayMs:Po}=no,mo=new Map,Mi=(B,ae,I,k)=>{let me=k.context||{};const Ae=mo.get(ae);if(Ae)switch(k.runningTransition){case"continue":return i.E;case"stop":B.run(()=>Ae.transition$.complete()),me=Object.assign(Ae.context,me),mo.delete(ae)}const Pt=I(ae,k.animation,me)||Uo;if(!k.animation||"none"===window.getComputedStyle(ae).transitionProperty)return B.run(()=>Pt()),(0,d.of)(void 0).pipe(function ko(B){return ae=>new a.y(I=>ae.subscribe({next:Pt=>B.run(()=>I.next(Pt)),error:Pt=>B.run(()=>I.error(Pt)),complete:()=>B.run(()=>I.complete())}))}(B));const qt=new r.x,gn=new r.x,Tn=qt.pipe(function D(...B){return ae=>(0,o.z)(ae,(0,d.of)(...B))}(!0));mo.set(ae,{transition$:qt,complete:()=>{gn.next(),gn.complete()},context:me});const Nn=function Bo(B){const{transitionDelay:ae,transitionDuration:I}=window.getComputedStyle(B);return 1e3*(parseFloat(ae)+parseFloat(I))}(ae);return B.runOutsideAngular(()=>{const mr=(0,l.R)(ae,"transitionend").pipe((0,M.R)(Tn),(0,C.h)(({target:Pr})=>Pr===ae)),Jn=(0,p.H)(Nn+Po).pipe((0,M.R)(Tn));(0,h.S)(Jn,mr,gn).pipe((0,M.R)(Tn)).subscribe(()=>{mo.delete(ae),B.run(()=>{Pt(),qt.next(),qt.complete()})})}),qt.asObservable()},uo=(B,ae,I)=>{let{direction:k,maxHeight:me}=I;const{classList:Ae}=B;function Pt(){Ae.add("collapse"),"show"===k?Ae.add("show"):Ae.remove("show")}if(ae)return me||(me=function as(B){if(typeof navigator>"u")return"0px";const{classList:ae}=B,I=ae.contains("show");I||ae.add("show"),B.style.height="";const k=B.getBoundingClientRect().height+"px";return I||ae.remove("show"),k}(B),I.maxHeight=me,B.style.height="show"!==k?me:"0px",Ae.remove("collapse"),Ae.remove("collapsing"),Ae.remove("show"),ei(B),Ae.add("collapsing")),B.style.height="show"===k?me:"0px",()=>{Pt(),Ae.remove("collapsing"),B.style.height=""};Pt()};let ro=(()=>{class B{constructor(){this.animation=no.animation}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ms=(()=>{class B{constructor(I){this._ngbConfig=I,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(ro))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),_s=0,_o=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPanelHeader",""]]}),B})(),Et=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPanelTitle",""]]}),B})(),vn=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPanelContent",""]]}),B})(),Le=(()=>{class B{constructor(){this.disabled=!1,this.id="ngb-panel-"+_s++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ngb-panel"]],contentQueries:function(I,k,me){if(1&I&&(t.\u0275\u0275contentQuery(me,Et,4),t.\u0275\u0275contentQuery(me,_o,4),t.\u0275\u0275contentQuery(me,vn,4)),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.titleTpls=Ae),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.headerTpls=Ae),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.contentTpls=Ae)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),B})(),$e=(()=>{class B{constructor(I){this._El=I,this.ngbRef=new t.EventEmitter}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),B})(),Ut=(()=>{class B{constructor(I,k,me){this._ngZone=k,this._changeDetector=me,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new t.EventEmitter,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter,this.animation=I.animation,this.type=I.type,this.closeOtherPanels=I.closeOthers}isExpanded(I){return this.activeIds.indexOf(I)>-1}expand(I){this._changeOpenState(this._findPanelById(I),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(I=>this._changeOpenState(I,!0))}collapse(I){this._changeOpenState(this._findPanelById(I),!1)}collapseAll(){this.panels.forEach(I=>{this._changeOpenState(I,!1)})}toggle(I){const k=this._findPanelById(I);k&&this._changeOpenState(k,!k.isOpen)}ngAfterContentChecked(){Tr(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(I=>{I.isOpen=!I.disabled&&this.activeIds.indexOf(I.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(()=>{this.panels.forEach(I=>{const k=I.panelDiv;k?I.initClassDone||(I.initClassDone=!0,Mi(this._ngZone,k,uo,{animation:!1,runningTransition:"continue",context:{direction:I.isOpen?"show":"hide"}})):I.initClassDone=!1})})}_changeOpenState(I,k){if(null!=I&&!I.disabled&&I.isOpen!==k){let me=!1;this.panelChange.emit({panelId:I.id,nextState:k,preventDefault:()=>{me=!0}}),me||(I.isOpen=k,I.transitionRunning=!0,k&&this.closeOtherPanels&&this._closeOthers(I.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(I,k=!0){this.panels.forEach(me=>{me.id!==I&&me.isOpen&&(me.isOpen=!1,me.transitionRunning=k)})}_findPanelById(I){return this.panels.find(k=>k.id===I)||null}_updateActiveIds(){this.activeIds=this.panels.filter(I=>I.isOpen&&!I.disabled).map(I=>I.id)}_runTransitions(I){this._changeDetector.detectChanges(),this.panels.forEach(k=>{k.transitionRunning&&Mi(this._ngZone,k.panelDiv,uo,{animation:I,runningTransition:"stop",context:{direction:k.isOpen?"show":"hide"}}).subscribe(()=>{k.transitionRunning=!1;const{id:Ae}=k;k.isOpen?(k.shown.emit(),this.shown.emit(Ae)):(k.hidden.emit(),this.hidden.emit(Ae))})})}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(ms),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-accordion"]],contentQueries:function(I,k,me){if(1&I&&t.\u0275\u0275contentQuery(me,Le,4),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.panels=Ae)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(I,k){2&I&&t.\u0275\u0275attribute("aria-multiselectable",!k.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"card-body"]],template:function(I,k){1&I&&(t.\u0275\u0275template(0,w,3,3,"ng-template",0,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,J,4,11,"ng-template",2)),2&I&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",k.panels))},dependencies:function(){return[_o,pn,n.tP,n.sg,n.O5,$e]},encapsulation:2}),B})(),pn=(()=>{class B{constructor(I,k){this.accordion=I,this.panel=k}set ngbPanelToggle(I){I&&(this.panel=I)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ut),t.\u0275\u0275directiveInject(Le,9))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("click",function(){return k.accordion.toggle(k.panel.id)}),2&I&&(t.\u0275\u0275hostProperty("disabled",k.panel.disabled),t.\u0275\u0275attribute("aria-expanded",k.panel.isOpen)("aria-controls",k.panel.id),t.\u0275\u0275classProp("collapsed",!k.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),B})(),Ar=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),ci=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),Fi=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(I,k){2&I&&t.\u0275\u0275classProp("btn",!0)("active",k.active)("disabled",k.disabled)("focus",k.focused)}}),B})(),yo=(()=>{class B{constructor(I,k){this._label=I,this._cd=k,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=me=>{},this.onTouched=()=>{}}set focused(I){this._label.focused=I,I||this.onTouched()}onInputChange(I){const k=I.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(k),this.onTouched(),this.writeValue(k)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.disabled=I,this._label.disabled=I}writeValue(I){this.checked=I===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Fi),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("change",function(Ae){return k.onInputChange(Ae)})("focus",function(){return k.focused=!0})("blur",function(){return k.focused=!1}),2&I&&t.\u0275\u0275hostProperty("checked",k.checked)("disabled",k.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0}])]}),B})(),zo=0,vi=(()=>{class B{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+zo++,this.onChange=I=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(I){this.setDisabledState(I)}onRadioChange(I){this.writeValue(I.value),this.onChange(I.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(I){this._radios.add(I)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this._disabled=I,this._updateRadiosDisabled()}unregister(I){this._radios.delete(I)}writeValue(I){this._value=I,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(I=>I.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(I=>I.updateDisabled())}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0}])]}),B})(),Go=(()=>{class B{constructor(I,k,me,Ae,Pt){this._group=I,this._label=k,this._renderer=me,this._element=Ae,this._cd=Pt,this._value=null,this._group.register(this),this.updateDisabled()}set value(I){this._value=I;const k=I?I.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",k),this._group.onRadioValueUpdate()}set disabled(I){this._disabled=!1!==I,this.updateDisabled()}set focused(I){this._label&&(this._label.focused=I),I||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(I){this.value!==I&&this._cd.markForCheck(),this._checked=this.value===I,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(vi),t.\u0275\u0275directiveInject(Fi),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("change",function(){return k.onChange()})("focus",function(){return k.focused=!0})("blur",function(){return k.focused=!1}),2&I&&t.\u0275\u0275hostProperty("checked",k.checked)("disabled",k.disabled)("name",k.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),B})(),Yo=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({}),B})(),Io=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),xs=(()=>{class B{constructor(I){this._ngbConfig=I}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(ro))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Zo=(()=>{class B{constructor(I,k,me){this._element=I,this._zone=me,this.collapsed=!1,this.ngbCollapseChange=new t.EventEmitter,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter,this.animation=k.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:I}){I.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(I=this.collapsed){this.collapsed=!I,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(I,k){return Mi(this._zone,this._element.nativeElement,uo,{animation:k,runningTransition:"stop",context:{direction:I?"hide":"show"}})}_runTransitionWithEvents(I,k){this._runTransition(I,k).subscribe(()=>{I?this.hidden.emit():this.shown.emit()})}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(xs),t.\u0275\u0275directiveInject(t.NgZone))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[t.\u0275\u0275NgOnChangesFeature]}),B})(),dr=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({}),B})();class Yr{constructor(ae,I,k){this.year=Xn(ae)?ae:null,this.month=Xn(I)?I:null,this.day=Xn(k)?k:null}static from(ae){return ae instanceof Yr?ae:ae?new Yr(ae.year,ae.month,ae.day):null}equals(ae){return null!=ae&&this.year===ae.year&&this.month===ae.month&&this.day===ae.day}before(ae){return!!ae&&(this.year===ae.year?this.month===ae.month?this.day!==ae.day&&this.day<ae.day:this.month<ae.month:this.year<ae.year)}after(ae){return!!ae&&(this.year===ae.year?this.month===ae.month?this.day!==ae.day&&this.day>ae.day:this.month>ae.month:this.year>ae.year)}}function se(B,ae){return!function V(B,ae){return!B&&!ae||!!B&&!!ae&&B.equals(ae)}(B,ae)}function he(B,ae){return!(!B&&!ae||B&&ae&&B.year===ae.year&&B.month===ae.month)}function rt(B,ae,I){return B&&ae&&B.before(ae)?ae:B&&I&&B.after(I)?I:B||null}function Wt(B,ae){const{minDate:I,maxDate:k,disabled:me,markDisabled:Ae}=ae;return!(null==B||me||Ae&&Ae(B,{year:B.year,month:B.month})||I&&B.before(I)||k&&B.after(k))}function Is(B){return new Yr(B.getFullYear(),B.getMonth()+1,B.getDate())}function Vi(B){const ae=new Date(B.year,B.month-1,B.day,12);return isNaN(ae.getTime())||ae.setFullYear(B.year),ae}let cs=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(){return function ra(){return new Ks}()},providedIn:"root"}),B})(),Ks=(()=>{class B extends cs{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(I,k="d",me=1){let Ae=Vi(I),Pt=!0,qt=Ae.getMonth();switch(k){case"y":Ae.setFullYear(Ae.getFullYear()+me);break;case"m":qt+=me,Ae.setMonth(qt),qt%=12,qt<0&&(qt+=12);break;case"d":Ae.setDate(Ae.getDate()+me),Pt=!1;break;default:return I}return Pt&&Ae.getMonth()!==qt&&Ae.setDate(0),Is(Ae)}getPrev(I,k="d",me=1){return this.getNext(I,k,-me)}getWeekday(I){let me=Vi(I).getDay();return 0===me?7:me}getWeekNumber(I,k){7===k&&(k=0);const Pt=Vi(I[(11-k)%7]);Pt.setDate(Pt.getDate()+4-(Pt.getDay()||7));const qt=Pt.getTime();return Pt.setMonth(0),Pt.setDate(1),Math.floor(Math.round((qt-Pt.getTime())/864e5)/7)+1}getToday(){return Is(new Date)}isValid(I){if(!(I&&Xn(I.year)&&Xn(I.month)&&Xn(I.day)&&0!==I.year))return!1;const k=Vi(I);return!isNaN(k.getTime())&&k.getFullYear()===I.year&&k.getMonth()+1===I.month&&k.getDate()===I.day}}return B.\u0275fac=function(){let ae;return function(k){return(ae||(ae=t.\u0275\u0275getInheritedFactory(B)))(k||B)}}(),B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})(),Ui=(()=>{class B{getMonthLabel(I){return`${this.getMonthFullName(I.month,I.year)} ${this.getYearNumerals(I.year)}`}getDayNumerals(I){return`${I.day}`}getWeekNumerals(I){return`${I}`}getYearNumerals(I){return`${I}`}getWeekLabel(){return""}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(I){let k=null;return k=I?new I:function Ls(B){return new Ni(B)}(t.\u0275\u0275inject(t.LOCALE_ID)),k},providedIn:"root"}),B})(),Ni=(()=>{class B extends Ui{constructor(I){super(),this._locale=I,this._monthsShort=(0,n.UT)(I,n.x.Standalone,n.Tn.Abbreviated),this._monthsFull=(0,n.UT)(I,n.x.Standalone,n.Tn.Wide)}getWeekdayLabel(I,k){const me=(0,n.Mn)(this._locale,n.x.Standalone,void 0===k?n.Tn.Short:k);return me.map((Pt,qt)=>me[(qt+1)%7])[I-1]||""}getMonthShortName(I){return this._monthsShort[I-1]||""}getMonthFullName(I){return this._monthsFull[I-1]||""}getDayAriaLabel(I){const k=new Date(I.year,I.month-1,I.day);return(0,n.p6)(k,"fullDate",this._locale)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(t.LOCALE_ID))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})(),Qi=(()=>{class B{constructor(I,k){this._calendar=I,this._i18n=k,this._VALIDATORS={dayTemplateData:me=>{if(this._state.dayTemplateData!==me)return{dayTemplateData:me}},displayMonths:me=>{if(Xn(me=$n(me))&&me>0&&this._state.displayMonths!==me)return{displayMonths:me}},disabled:me=>{if(this._state.disabled!==me)return{disabled:me}},firstDayOfWeek:me=>{if(Xn(me=$n(me))&&me>=0&&this._state.firstDayOfWeek!==me)return{firstDayOfWeek:me}},focusVisible:me=>{if(this._state.focusVisible!==me&&!this._state.disabled)return{focusVisible:me}},markDisabled:me=>{if(this._state.markDisabled!==me)return{markDisabled:me}},maxDate:me=>{const Ae=this.toValidDate(me,null);if(se(this._state.maxDate,Ae))return{maxDate:Ae}},minDate:me=>{const Ae=this.toValidDate(me,null);if(se(this._state.minDate,Ae))return{minDate:Ae}},navigation:me=>{if(this._state.navigation!==me)return{navigation:me}},outsideDays:me=>{if(this._state.outsideDays!==me)return{outsideDays:me}},weekdays:me=>{const Ae=!0===me||!1===me?n.Tn.Short:me,Pt=!0!==me&&!1!==me||me;if(this._state.weekdayWidth!==Ae||this._state.weekdaysVisible!==Pt)return{weekdayWidth:Ae,weekdaysVisible:Pt}}},this._model$=new r.x,this._dateSelect$=new r.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:n.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,C.h)(I=>I.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,C.h)(I=>null!==I))}set(I){let k=Object.keys(I).map(me=>this._VALIDATORS[me](I[me])).reduce((me,Ae)=>({...me,...Ae}),{});Object.keys(k).length>0&&this._nextState(k)}focus(I){const k=this.toValidDate(I,null);null!=k&&!this._state.disabled&&se(this._state.focusDate,k)&&this._nextState({focusDate:I})}focusSelect(){Wt(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(I){const k=this.toValidDate(I,this._calendar.getToday());null!=k&&!this._state.disabled&&(!this._state.firstDate||he(this._state.firstDate,k))&&this._nextState({firstDate:k})}select(I,k={}){const me=this.toValidDate(I,null);null!=me&&!this._state.disabled&&(se(this._state.selectedDate,me)&&this._nextState({selectedDate:me}),k.emitEvent&&Wt(me,this._state)&&this._dateSelect$.next(me))}toValidDate(I,k){const me=Yr.from(I);return void 0===k&&(k=this._calendar.getToday()),this._calendar.isValid(me)?me:k}getMonth(I){for(let k of this._state.months)if(I.month===k.number&&I.year===k.year)return k;throw new Error(`month ${I.month} of year ${I.year} not found`)}_nextState(I){const k=this._updateState(I);this._patchContexts(k),this._state=k,this._model$.next(this._state)}_patchContexts(I){const{months:k,displayMonths:me,selectedDate:Ae,focusDate:Pt,focusVisible:qt,disabled:gn,outsideDays:Tn}=I;I.months.forEach(Nn=>{Nn.weeks.forEach(mr=>{mr.days.forEach(Jn=>{Pt&&(Jn.context.focused=Pt.equals(Jn.date)&&qt),Jn.tabindex=!gn&&Pt&&Jn.date.equals(Pt)&&Pt.month===Nn.number?0:-1,!0===gn&&(Jn.context.disabled=!0),void 0!==Ae&&(Jn.context.selected=null!==Ae&&Ae.equals(Jn.date)),Nn.number!==Jn.date.month&&(Jn.hidden="hidden"===Tn||"collapsed"===Tn||me>1&&Jn.date.after(k[0].firstDate)&&Jn.date.before(k[me-1].lastDate))})})})}_updateState(I){const k=Object.assign({},this._state,I);let me=k.firstDate;if(("minDate"in I||"maxDate"in I)&&(function De(B,ae){if(ae&&B&&ae.before(B))throw new Error(`'maxDate' ${ae} should be greater than 'minDate' ${B}`)}(k.minDate,k.maxDate),k.focusDate=rt(k.focusDate,k.minDate,k.maxDate),k.firstDate=rt(k.firstDate,k.minDate,k.maxDate),me=k.focusDate),"disabled"in I&&(k.focusVisible=!1),"selectedDate"in I&&0===this._state.months.length&&(me=k.selectedDate),"focusVisible"in I||"focusDate"in I&&(k.focusDate=rt(k.focusDate,k.minDate,k.maxDate),me=k.focusDate,0!==k.months.length&&k.focusDate&&!k.focusDate.before(k.firstDate)&&!k.focusDate.after(k.lastDate)))return k;if("firstDate"in I&&(k.firstDate=rt(k.firstDate,k.minDate,k.maxDate),me=k.firstDate),me){const Pt=function ui(B,ae,I,k,me){const{displayMonths:Ae,months:Pt}=I,qt=Pt.splice(0,Pt.length);return Array.from({length:Ae},(Tn,Nn)=>{const mr=Object.assign(B.getNext(ae,"m",Nn),{day:1});if(Pt[Nn]=null,!me){const Jn=qt.findIndex(Pr=>Pr.firstDate.equals(mr));-1!==Jn&&(Pt[Nn]=qt.splice(Jn,1)[0])}return mr}).forEach((Tn,Nn)=>{null===Pt[Nn]&&(Pt[Nn]=function Jr(B,ae,I,k,me={}){const{dayTemplateData:Ae,minDate:Pt,maxDate:qt,firstDayOfWeek:gn,markDisabled:Tn,outsideDays:Nn,weekdayWidth:mr,weekdaysVisible:Jn}=I,Pr=B.getToday();me.firstDate=null,me.lastDate=null,me.number=ae.month,me.year=ae.year,me.weeks=me.weeks||[],me.weekdays=me.weekdays||[],ae=function Ws(B,ae,I){const k=B.getDaysPerWeek(),me=new Yr(ae.year,ae.month,1),Ae=B.getWeekday(me)%k;return B.getPrev(me,"d",(k+Ae-I)%k)}(B,ae,gn),Jn||(me.weekdays.length=0);for(let eo=0;eo<B.getWeeksPerMonth();eo++){let Ti=me.weeks[eo];Ti||(Ti=me.weeks[eo]={number:0,days:[],collapsed:!0});const Vo=Ti.days;for(let ps=0;ps<B.getDaysPerWeek();ps++){0===eo&&Jn&&(me.weekdays[ps]=k.getWeekdayLabel(B.getWeekday(ae),mr));const Mo=new Yr(ae.year,ae.month,ae.day),Al=B.getNext(Mo),dl=k.getDayAriaLabel(Mo);let el=!!(Pt&&Mo.before(Pt)||qt&&Mo.after(qt));!el&&Tn&&(el=Tn(Mo,{month:me.number,year:me.year}));let vl=Mo.equals(Pr),El=Ae?Ae(Mo,{month:me.number,year:me.year}):void 0;null===me.firstDate&&Mo.month===me.number&&(me.firstDate=Mo),Mo.month===me.number&&Al.month!==me.number&&(me.lastDate=Mo);let ea=Vo[ps];ea||(ea=Vo[ps]={}),ea.date=Mo,ea.context=Object.assign(ea.context||{},{$implicit:Mo,date:Mo,data:El,currentMonth:me.number,currentYear:me.year,disabled:el,focused:!1,selected:!1,today:vl}),ea.tabindex=-1,ea.ariaLabel=dl,ea.hidden=!1,ae=Al}Ti.number=B.getWeekNumber(Vo.map(ps=>ps.date),gn),Ti.collapsed="collapsed"===Nn&&Vo[0].date.month!==me.number&&Vo[Vo.length-1].date.month!==me.number}return me}(B,Tn,I,k,qt.shift()||{}))}),Pt}(this._calendar,me,k,this._i18n,"dayTemplateData"in I||"firstDayOfWeek"in I||"markDisabled"in I||"minDate"in I||"maxDate"in I||"disabled"in I||"outsideDays"in I||"weekdaysVisible"in I);k.months=Pt,k.firstDate=Pt[0].firstDate,k.lastDate=Pt[Pt.length-1].lastDate,"selectedDate"in I&&!Wt(k.selectedDate,k)&&(k.selectedDate=null),"firstDate"in I&&(!k.focusDate||k.focusDate.before(k.firstDate)||k.focusDate.after(k.lastDate))&&(k.focusDate=me);const qt=!this._state.firstDate||this._state.firstDate.year!==k.firstDate.year,gn=!this._state.firstDate||this._state.firstDate.month!==k.firstDate.month;"select"===k.navigation?(("minDate"in I||"maxDate"in I||0===k.selectBoxes.years.length||qt)&&(k.selectBoxes.years=function xt(B,ae,I){if(!B)return[];const k=ae?Math.max(ae.year,B.year-500):B.year-10,Ae=(I?Math.min(I.year,B.year+500):B.year+10)-k+1,Pt=Array(Ae);for(let qt=0;qt<Ae;qt++)Pt[qt]=k+qt;return Pt}(k.firstDate,k.minDate,k.maxDate)),("minDate"in I||"maxDate"in I||0===k.selectBoxes.months.length||qt)&&(k.selectBoxes.months=function Dn(B,ae,I,k){if(!ae)return[];let me=B.getMonths(ae.year);if(I&&ae.year===I.year){const Ae=me.findIndex(Pt=>Pt===I.month);me=me.slice(Ae)}if(k&&ae.year===k.year){const Ae=me.findIndex(Pt=>Pt===k.month);me=me.slice(0,Ae+1)}return me}(this._calendar,k.firstDate,k.minDate,k.maxDate))):k.selectBoxes={years:[],months:[]},("arrows"===k.navigation||"select"===k.navigation)&&(gn||qt||"minDate"in I||"maxDate"in I||"disabled"in I)&&(k.prevDisabled=k.disabled||function Zr(B,ae,I){const k=Object.assign(B.getPrev(ae,"m"),{day:1});return null!=I&&(k.year===I.year&&k.month<I.month||k.year<I.year&&1===I.month)}(this._calendar,k.firstDate,k.minDate),k.nextDisabled=k.disabled||function Un(B,ae,I){const k=Object.assign(B.getNext(ae,"m"),{day:1});return null!=I&&k.after(I)}(this._calendar,k.lastDate,k.maxDate))}return k}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(cs),t.\u0275\u0275inject(Ui))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();var oo=(()=>{return(B=oo||(oo={}))[B.PREV=0]="PREV",B[B.NEXT=1]="NEXT",oo;var B})();let gs=(()=>{class B{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=n.Tn.Short}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Vs=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(){return function Li(){return new Jo}()},providedIn:"root"}),B})(),Jo=(()=>{class B extends Vs{fromModel(I){return I&&Xn(I.year)&&Xn(I.month)&&Xn(I.day)?{year:I.year,month:I.month,day:I.day}:null}toModel(I){return I&&Xn(I.year)&&Xn(I.month)&&Xn(I.day)?{year:I.year,month:I.month,day:I.day}:null}}return B.\u0275fac=function(){let ae;return function(k){return(ae||(ae=t.\u0275\u0275getInheritedFactory(B)))(k||B)}}(),B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})(),Rr=(()=>{class B{constructor(I){this.i18n=I}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ui))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(I,k){2&I&&t.\u0275\u0275classProp("bg-primary",k.selected)("text-white",k.selected)("text-muted",k.isMuted())("outside",k.isMuted())("active",k.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:tt,decls:1,vars:1,template:function(I,k){1&I&&t.\u0275\u0275text(0),2&I&&t.\u0275\u0275textInterpolate(k.i18n.getDayNumerals(k.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),B})(),ni=(()=>{class B{constructor(I,k){this.i18n=I,this._renderer=k,this.select=new t.EventEmitter,this._month=-1,this._year=-1}changeMonth(I){this.select.emit(new Yr(this.date.year,$n(I),1))}changeYear(I){this.select.emit(new Yr($n(I),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ui),t.\u0275\u0275directiveInject(t.Renderer2))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(I,k){if(1&I&&(t.\u0275\u0275viewQuery(yt,7,t.ElementRef),t.\u0275\u0275viewQuery(Ne,7,t.ElementRef)),2&I){let me;t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k.monthSelect=me.first),t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k.yearSelect=me.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let ae,I,k,me;return ae=$localize`:@@ngb.datepicker.select-month:Select month`,I=$localize`:@@ngb.datepicker.select-month:Select month`,k=$localize`:@@ngb.datepicker.select-year:Select year`,me=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",ae,"title",I,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",k,"title",me,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(I,k){1&I&&(t.\u0275\u0275elementStart(0,"select",0,1),t.\u0275\u0275listener("change",function(Ae){return k.changeMonth(Ae.target.value)}),t.\u0275\u0275template(2,mt,2,3,"option",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"select",3,4),t.\u0275\u0275listener("change",function(Ae){return k.changeYear(Ae.target.value)}),t.\u0275\u0275template(5,Dt,2,2,"option",2),t.\u0275\u0275elementEnd()),2&I&&(t.\u0275\u0275property("disabled",k.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",k.months),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",k.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",k.years))},dependencies:[n.sg,ne.YN,ne.Kr],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),B})(),wo=(()=>{class B{constructor(I){this.i18n=I,this.navigation=oo,this.months=[],this.navigate=new t.EventEmitter,this.select=new t.EventEmitter}onClickPrev(I){I.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(I){I.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ui))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let ae,I,k,me;return ae=$localize`:@@ngb.datepicker.previous-month:Previous month`,I=$localize`:@@ngb.datepicker.previous-month:Previous month`,k=$localize`:@@ngb.datepicker.next-month:Next month`,me=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",ae,"title",I,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",k,"title",me,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(I,k){1&I&&(t.\u0275\u0275elementStart(0,"div",0)(1,"button",1),t.\u0275\u0275listener("click",function(Ae){return k.onClickPrev(Ae)}),t.\u0275\u0275element(2,"span",2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(3,At,1,4,"ngb-datepicker-navigation-select",3),t.\u0275\u0275template(4,Ht,1,1,null,4),t.\u0275\u0275elementStart(5,"div",5)(6,"button",6),t.\u0275\u0275listener("click",function(Ae){return k.onClickNext(Ae)}),t.\u0275\u0275element(7,"span",2),t.\u0275\u0275elementEnd()()),2&I&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",k.prevDisabled),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",k.showSelect),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!k.showSelect),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",k.nextDisabled))},dependencies:[ni,n.O5,n.sg],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),B})();var Gn=(()=>{return(B=Gn||(Gn={}))[B.Tab=9]="Tab",B[B.Enter=13]="Enter",B[B.Escape=27]="Escape",B[B.Space=32]="Space",B[B.PageUp=33]="PageUp",B[B.PageDown=34]="PageDown",B[B.End=35]="End",B[B.Home=36]="Home",B[B.ArrowLeft=37]="ArrowLeft",B[B.ArrowUp=38]="ArrowUp",B[B.ArrowRight=39]="ArrowRight",B[B.ArrowDown=40]="ArrowDown",Gn;var B})();let pa=(()=>{class B{processKey(I,k){const{state:me,calendar:Ae}=k;switch(I.which){case Gn.PageUp:k.focusDate(Ae.getPrev(me.focusedDate,I.shiftKey?"y":"m",1));break;case Gn.PageDown:k.focusDate(Ae.getNext(me.focusedDate,I.shiftKey?"y":"m",1));break;case Gn.End:k.focusDate(I.shiftKey?me.maxDate:me.lastDate);break;case Gn.Home:k.focusDate(I.shiftKey?me.minDate:me.firstDate);break;case Gn.ArrowLeft:k.focusDate(Ae.getPrev(me.focusedDate,"d",1));break;case Gn.ArrowUp:k.focusDate(Ae.getPrev(me.focusedDate,"d",Ae.getDaysPerWeek()));break;case Gn.ArrowRight:k.focusDate(Ae.getNext(me.focusedDate,"d",1));break;case Gn.ArrowDown:k.focusDate(Ae.getNext(me.focusedDate,"d",Ae.getDaysPerWeek()));break;case Gn.Enter:case Gn.Space:k.focusSelect();break;default:return}I.preventDefault(),I.stopPropagation()}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Qs=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbDatepickerContent",""]]}),B})(),Bs=(()=>{class B{constructor(I,k,me,Ae,Pt,qt,gn,Tn){this._service=I,this._calendar=k,this.i18n=me,this._elementRef=qt,this._ngbDateAdapter=gn,this._ngZone=Tn,this._controlValue=null,this._destroyed$=new r.x,this._publicState={},this.navigate=new t.EventEmitter,this.dateSelect=new t.EventEmitter,this.onChange=Nn=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Nn=>this[Nn]=Ae[Nn]),I.dateSelect$.pipe((0,M.R)(this._destroyed$)).subscribe(Nn=>{this.dateSelect.emit(Nn)}),I.model$.pipe((0,M.R)(this._destroyed$)).subscribe(Nn=>{const mr=Nn.firstDate,Jn=this.model?this.model.firstDate:null;this._publicState={maxDate:Nn.maxDate,minDate:Nn.minDate,firstDate:Nn.firstDate,lastDate:Nn.lastDate,focusedDate:Nn.focusDate,months:Nn.months.map(ps=>ps.firstDate)};let Pr=!1;if(!mr.equals(Jn)&&(this.navigate.emit({current:Jn?{year:Jn.year,month:Jn.month}:null,next:{year:mr.year,month:mr.month},preventDefault:()=>Pr=!0}),Pr&&null!==Jn))return void this._service.open(Jn);const eo=Nn.selectedDate,Ti=Nn.focusDate,Vo=this.model?this.model.focusDate:null;this.model=Nn,se(eo,this._controlValue)&&(this._controlValue=eo,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(eo))),se(Ti,Vo)&&Vo&&Nn.focusVisible&&this.focus(),Pt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(I){this._service.focus(Yr.from(I))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{const I=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');I&&I.focus()})}navigateTo(I){this._service.open(Yr.from(I?I.day?I:{...I,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const I=(0,l.R)(this._contentEl.nativeElement,"focusin"),k=(0,l.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:me}=this._elementRef;(0,b.T)(I,k).pipe((0,C.h)(({target:Ae,relatedTarget:Pt})=>!(co(Ae,"ngb-dp-day")&&co(Pt,"ngb-dp-day")&&me.contains(Ae)&&me.contains(Pt))),(0,M.R)(this._destroyed$)).subscribe(({type:Ae})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Ae})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const I={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(k=>I[k]=this[k]),this._service.set(I),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(I){const k={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(me=>me in I).forEach(me=>k[me]=this[me]),this._service.set(k),"startDate"in I){const{currentValue:me,previousValue:Ae}=I.startDate;he(Ae,me)&&this.navigateTo(this.startDate)}}onDateSelect(I){this._service.focus(I),this._service.select(I,{emitEvent:!0})}onNavigateDateSelect(I){this._service.open(I)}onNavigateEvent(I){switch(I){case oo.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case oo.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this._service.set({disabled:I})}writeValue(I){this._controlValue=Yr.from(this._ngbDateAdapter.fromModel(I)),this._service.select(this._controlValue)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Qi),t.\u0275\u0275directiveInject(cs),t.\u0275\u0275directiveInject(Ui),t.\u0275\u0275directiveInject(gs),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Vs),t.\u0275\u0275directiveInject(t.NgZone))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-datepicker"]],contentQueries:function(I,k,me){if(1&I&&t.\u0275\u0275contentQuery(me,Qs,7),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.contentTemplate=Ae.first)}},viewQuery:function(I,k){if(1&I&&(t.\u0275\u0275viewQuery(Qe,7),t.\u0275\u0275viewQuery(ft,7)),2&I){let me;t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k._defaultDayTemplate=me.first),t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k._contentEl=me.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0},Qi]),t.\u0275\u0275NgOnChangesFeature],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(I,k){if(1&I&&(t.\u0275\u0275template(0,Je,1,5,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,gt,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(4,"div",2),t.\u0275\u0275template(5,it,1,7,"ngb-datepicker-navigation",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",4,5),t.\u0275\u0275template(8,ht,0,0,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,St,0,0,"ng-template",6)),2&I){const me=t.\u0275\u0275reference(3);t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf","none"!==k.navigation),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("ngb-dp-months",!k.contentTemplate),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",(null==k.contentTemplate?null:k.contentTemplate.templateRef)||me),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",k.footerTemplate)}},dependencies:function(){return[Rr,qo,wo,n.sg,n.O5,n.tP]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),B})(),qo=(()=>{class B{constructor(I,k,me,Ae){this.i18n=I,this.datepicker=k,this._keyboardService=me,this._service=Ae}set month(I){this.viewModel=this._service.getMonth(I)}onKeyDown(I){this._keyboardService.processKey(I,this.datepicker)}doSelect(I){!I.context.disabled&&!I.hidden&&this.datepicker.onDateSelect(I.date)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ui),t.\u0275\u0275directiveInject(Bs),t.\u0275\u0275directiveInject(pa),t.\u0275\u0275directiveInject(Qi))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("keydown",function(Ae){return k.onKeyDown(Ae)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,k){1&I&&(t.\u0275\u0275template(0,en,3,2,"div",0),t.\u0275\u0275template(1,sn,1,1,"ng-template",1)),2&I&&(t.\u0275\u0275property("ngIf",k.viewModel.weekdays.length>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",k.viewModel.weeks))},dependencies:[n.O5,n.sg,n.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),B})();const Ts=(B,ae)=>!!ae&&ae.some(I=>I.contains(B)),so=(B,ae)=>!ae||null!=function Ki(B,ae){return!ae||typeof B.closest>"u"?null:B.closest(ae)}(B,ae),To=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),ha=B=>To?()=>setTimeout(()=>B(),100):B;function Hi(B,ae,I,k,me,Ae,Pt,qt){I&&B.runOutsideAngular(ha(()=>{const Tn=(0,l.R)(ae,"keydown").pipe((0,M.R)(me),(0,C.h)(Jn=>Jn.which===Gn.Escape),(0,$.b)(Jn=>Jn.preventDefault())),Nn=(0,l.R)(ae,"mousedown").pipe((0,g.U)(Jn=>{const Pr=Jn.target;return 2!==Jn.button&&!Ts(Pr,Pt)&&("inside"===I?Ts(Pr,Ae)&&so(Pr,qt):"outside"===I?!Ts(Pr,Ae):so(Pr,qt)||!Ts(Pr,Ae))}),(0,M.R)(me)),mr=(0,l.R)(ae,"mouseup").pipe((0,z.M)(Nn),(0,C.h)(([Jn,Pr])=>Pr),(0,re.g)(0),(0,M.R)(me));(0,h.S)([Tn.pipe((0,g.U)(Jn=>0)),mr.pipe((0,g.U)(Jn=>1))]).subscribe(Jn=>B.run(()=>k(Jn)))}))}const Hs=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Xi(B){const ae=Array.from(B.querySelectorAll(Hs)).filter(I=>-1!==I.tabIndex);return[ae[0],ae[ae.length-1]]}const Xs=(B,ae,I,k=!1)=>{B.runOutsideAngular(()=>{const me=(0,l.R)(ae,"focusin").pipe((0,M.R)(I),(0,g.U)(Ae=>Ae.target));(0,l.R)(ae,"keydown").pipe((0,M.R)(I),(0,C.h)(Ae=>Ae.which===Gn.Tab),(0,z.M)(me)).subscribe(([Ae,Pt])=>{const[qt,gn]=Xi(ae);(Pt===qt||Pt===ae)&&Ae.shiftKey&&(gn.focus(),Ae.preventDefault()),Pt===gn&&!Ae.shiftKey&&(qt.focus(),Ae.preventDefault())}),k&&(0,l.R)(ae,"click").pipe((0,M.R)(I),(0,z.M)(me),(0,g.U)(Ae=>Ae[1])).subscribe(Ae=>Ae.focus())})},vs=/\s+/,ri=new class fi{getAllStyles(ae){return window.getComputedStyle(ae)}getStyle(ae,I){return this.getAllStyles(ae)[I]}isStaticPositioned(ae){return"static"===(this.getStyle(ae,"position")||"static")}offsetParent(ae){let I=ae.offsetParent||document.documentElement;for(;I&&I!==document.documentElement&&this.isStaticPositioned(I);)I=I.offsetParent;return I||document.documentElement}position(ae,I=!0){let k,me={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(ae,"position"))k=ae.getBoundingClientRect(),k={top:k.top,bottom:k.bottom,left:k.left,right:k.right,height:k.height,width:k.width};else{const Ae=this.offsetParent(ae);k=this.offset(ae,!1),Ae!==document.documentElement&&(me=this.offset(Ae,!1)),me.top+=Ae.clientTop,me.left+=Ae.clientLeft}return k.top-=me.top,k.bottom-=me.top,k.left-=me.left,k.right-=me.left,I&&(k.top=Math.round(k.top),k.bottom=Math.round(k.bottom),k.left=Math.round(k.left),k.right=Math.round(k.right)),k}offset(ae,I=!0){const k=ae.getBoundingClientRect(),me_top=window.scrollY-document.documentElement.clientTop,me_left=window.scrollX-document.documentElement.clientLeft;let Ae={height:k.height||ae.offsetHeight,width:k.width||ae.offsetWidth,top:k.top+me_top,bottom:k.bottom+me_top,left:k.left+me_left,right:k.right+me_left};return I&&(Ae.height=Math.round(Ae.height),Ae.width=Math.round(Ae.width),Ae.top=Math.round(Ae.top),Ae.bottom=Math.round(Ae.bottom),Ae.left=Math.round(Ae.left),Ae.right=Math.round(Ae.right)),Ae}positionElements(ae,I,k,me){const[Ae="top",Pt="center"]=k.split("-"),qt=me?this.offset(ae,!1):this.position(ae,!1),gn=this.getAllStyles(I),Tn=parseFloat(gn.marginTop),Nn=parseFloat(gn.marginBottom),mr=parseFloat(gn.marginLeft),Jn=parseFloat(gn.marginRight);let Pr=0,eo=0;switch(Ae){case"top":Pr=qt.top-(I.offsetHeight+Tn+Nn);break;case"bottom":Pr=qt.top+qt.height;break;case"left":eo=qt.left-(I.offsetWidth+mr+Jn);break;case"right":eo=qt.left+qt.width}switch(Pt){case"top":Pr=qt.top;break;case"bottom":Pr=qt.top+qt.height-I.offsetHeight;break;case"left":eo=qt.left;break;case"right":eo=qt.left+qt.width-I.offsetWidth;break;case"center":"top"===Ae||"bottom"===Ae?eo=qt.left+qt.width/2-I.offsetWidth/2:Pr=qt.top+qt.height/2-I.offsetHeight/2}I.style.transform=`translate(${Math.round(eo)}px, ${Math.round(Pr)}px)`;const Ti=I.getBoundingClientRect(),Vo=document.documentElement,ps=window.innerHeight||Vo.clientHeight,Mo=window.innerWidth||Vo.clientWidth;return Ti.left>=0&&Ti.top>=0&&Ti.right<=Mo&&Ti.bottom<=ps}};function Es(B,ae,I,k,me){let Ae=Array.isArray(I)?I:I.split(vs);const Pt=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],qt=ae.classList,gn=Pr=>{const[eo,Ti]=Pr.split("-"),Vo=[];return me&&(Vo.push(`${me}-${eo}`),Ti&&Vo.push(`${me}-${eo}-${Ti}`),Vo.forEach(ps=>{qt.add(ps)})),Vo};me&&Pt.forEach(Pr=>{qt.remove(`${me}-${Pr}`)});let Tn=Ae.findIndex(Pr=>"auto"===Pr);Tn>=0&&Pt.forEach(function(Pr){null==Ae.find(eo=>-1!==eo.search("^"+Pr))&&Ae.splice(Tn++,1,Pr)});const Nn=ae.style;Nn.position="absolute",Nn.top="0",Nn.left="0",Nn["will-change"]="transform";let mr=null,Jn=!1;for(mr of Ae){let Pr=gn(mr);if(ri.positionElements(B,ae,mr,k)){Jn=!0;break}me&&Pr.forEach(eo=>{qt.remove(eo)})}return Jn||(mr=Ae[0],gn(mr),ri.positionElements(B,ae,mr,k)),mr}let ao=(()=>{class B extends gs{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return B.\u0275fac=function(){let ae;return function(k){return(ae||(ae=t.\u0275\u0275getInheritedFactory(B)))(k||B)}}(),B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ys=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(){return function es(){return new fa}()},providedIn:"root"}),B})(),fa=(()=>{class B extends ys{parse(I){if(null!=I){const k=I.trim().split("-");if(1===k.length&&Vn(k[0]))return{year:$n(k[0]),month:null,day:null};if(2===k.length&&Vn(k[0])&&Vn(k[1]))return{year:$n(k[0]),month:$n(k[1]),day:null};if(3===k.length&&Vn(k[0])&&Vn(k[1])&&Vn(k[2]))return{year:$n(k[0]),month:$n(k[1]),day:$n(k[2])}}return null}format(I){return I?`${I.year}-${Vn(I.month)?Wr(I.month):""}-${Vn(I.day)?Wr(I.day):""}`:""}}return B.\u0275fac=function(){let ae;return function(k){return(ae||(ae=t.\u0275\u0275getInheritedFactory(B)))(k||B)}}(),B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})(),ma=(()=>{class B{constructor(I,k,me,Ae,Pt,qt,gn,Tn,Nn,mr){this._parserFormatter=I,this._elRef=k,this._vcRef=me,this._renderer=Ae,this._ngZone=Pt,this._calendar=qt,this._dateAdapter=gn,this._document=Tn,this._changeDetector=Nn,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new t.EventEmitter,this.navigate=new t.EventEmitter,this.closed=new t.EventEmitter,this._onChange=Jn=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(Jn=>this[Jn]=mr[Jn]),this._zoneSubscription=Pt.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(I){this._disabled=""===I||I&&"false"!==I,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouched=I}registerOnValidatorChange(I){this._validatorChange=I}setDisabledState(I){this.disabled=I}validate(I){const{value:k}=I;if(null!=k){const me=this._fromDateStruct(this._dateAdapter.fromModel(k));if(!me)return{ngbDate:{invalid:k}};if(this.minDate&&me.before(Yr.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:k}}};if(this.maxDate&&me.after(Yr.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:k}}}}return null}writeValue(I){this._model=this._fromDateStruct(this._dateAdapter.fromModel(I)),this._writeModelValue(this._model)}manualDateChange(I,k=!1){const me=I!==this._inputValue;me&&(this._inputValue=I,this._model=this._fromDateStruct(this._parserFormatter.parse(I))),(me||!k)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===I?null:I),k&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){this.isOpen()||(this._cRef=this._vcRef.createComponent(Bs),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(I=>{this.writeValue(I),this._onChange(I),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Xs(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),Hi(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement]))}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let I=this._elWithFocus;Tr(this.restoreFocus)?I=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(I=this.restoreFocus),I&&I.focus?I.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(I){this.isOpen()&&this._cRef.instance.navigateTo(I)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(I){if((I.minDate||I.maxDate)&&(this._validatorChange(),this.isOpen()&&(I.minDate&&(this._cRef.instance.minDate=this.minDate),I.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(I))),I.datepickerClass){const{currentValue:k,previousValue:me}=I.datepickerClass;this._applyPopupClass(k,me)}}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(I){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(k=>{void 0!==this[k]&&(I[k]=this[k])}),I.startDate=this.startDate||this._model}_applyPopupClass(I,k){const me=this._cRef?.location.nativeElement;me&&(I&&this._renderer.addClass(me,I),k&&this._renderer.removeClass(me,k))}_applyPopupStyling(I){this._renderer.addClass(I,"dropdown-menu"),this._renderer.addClass(I,"show"),"body"===this.container&&this._renderer.addClass(I,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(I){I.navigate.subscribe(k=>this.navigate.emit(k)),I.dateSelect.subscribe(k=>{this.dateSelect.emit(k),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(I){const k=this._parserFormatter.format(I);this._inputValue=k,this._renderer.setProperty(this._elRef.nativeElement,"value",k),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(I)),this._onTouched())}_fromDateStruct(I){const k=I?new Yr(I.year,I.month,I.day):null;return this._calendar.isValid(k)?k:null}_updatePopupPosition(){if(!this._cRef)return;let I;if(I=Tr(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!I)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");Es(I,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(ys),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(cs),t.\u0275\u0275directiveInject(Vs),t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(ao))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("input",function(Ae){return k.manualDateChange(Ae.target.value)})("change",function(Ae){return k.manualDateChange(Ae.target.value,!0)})("focus",function(){return k.onFocus()})("blur",function(){return k.onBlur()}),2&I&&t.\u0275\u0275hostProperty("disabled",k.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0},{provide:ne.Cf,useExisting:(0,t.forwardRef)(()=>B),multi:!0},{provide:gs,useExisting:ao}]),t.\u0275\u0275NgOnChangesFeature]}),B})();new Date(1882,10,12),new Date(2174,10,25);let Ji=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez,ne.u5]]}),B})(),Oo=(()=>{class B{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Js=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["",8,"navbar"]]}),B})(),Hr=(()=>{class B{constructor(I,k){this.elementRef=I,this._renderer=k,this._disabled=!1}set disabled(I){this._disabled=""===I||!0===I,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(I,k){2&I&&(t.\u0275\u0275hostProperty("tabIndex",k.disabled?-1:0),t.\u0275\u0275classProp("disabled",k.disabled))},inputs:{disabled:"disabled"}}),B})(),jo=(()=>{class B{constructor(I,k){this.dropdown=I,this.placement="bottom",this.isOpen=!1,this.nativeElement=k.nativeElement}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject((0,t.forwardRef)(()=>Wo)),t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(I,k,me){if(1&I&&t.\u0275\u0275contentQuery(me,Hr,4),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.menuItems=Ae)}},hostVars:5,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("keydown.ArrowUp",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Enter",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Space",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return k.dropdown.onKeyDown(Ae)}),2&I&&(t.\u0275\u0275attribute("x-placement",k.placement),t.\u0275\u0275classProp("dropdown-menu",!0)("show",k.dropdown.isOpen()))}}),B})(),is=(()=>{class B{constructor(I,k){this.dropdown=I,this.nativeElement=k.nativeElement}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject((0,t.forwardRef)(()=>Wo)),t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(I,k){2&I&&t.\u0275\u0275attribute("aria-expanded",k.dropdown.isOpen())}}),B})(),Os=(()=>{class B extends is{constructor(I,k){super(I,k)}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject((0,t.forwardRef)(()=>Wo)),t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("click",function(){return k.dropdown.toggle()})("keydown.ArrowUp",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return k.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return k.dropdown.onKeyDown(Ae)}),2&I&&t.\u0275\u0275attribute("aria-expanded",k.dropdown.isOpen())},features:[t.\u0275\u0275ProvidersFeature([{provide:is,useExisting:(0,t.forwardRef)(()=>B)}]),t.\u0275\u0275InheritDefinitionFeature]}),B})(),Wo=(()=>{class B{constructor(I,k,me,Ae,Pt,qt,gn){this._changeDetector=I,this._document=me,this._ngZone=Ae,this._elementRef=Pt,this._renderer=qt,this._closed$=new r.x,this._bodyContainer=null,this._open=!1,this.openChange=new t.EventEmitter,this.placement=k.placement,this.container=k.container,this.autoClose=k.autoClose,this.display=gn?"static":"dynamic",this._zoneSubscription=Ae.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(I){if(I.container&&this._open&&this._applyContainer(this.container),I.placement&&!I.placement.isFirstChange&&this._applyPlacementClasses(),I.dropdownClass){const{currentValue:k,previousValue:me}=I.dropdownClass;this._applyCustomDropdownClass(k,me)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){Hi(this._ngZone,this._document,this.autoClose,I=>{this.close(),0===I&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(I){const k=I.which,me=this._getMenuElements();let Ae=-1,Pt=null;const qt=this._isEventFromToggle(I);if(!qt&&me.length&&me.forEach((gn,Tn)=>{gn.contains(I.target)&&(Pt=gn),gn===this._document.activeElement&&(Ae=Tn)}),k!==Gn.Space&&k!==Gn.Enter){if(k!==Gn.Tab){if(qt||Pt){if(this.open(),me.length){switch(k){case Gn.ArrowDown:Ae=Math.min(Ae+1,me.length-1);break;case Gn.ArrowUp:if(this._isDropup()&&-1===Ae){Ae=me.length-1;break}Ae=Math.max(Ae-1,0);break;case Gn.Home:Ae=0;break;case Gn.End:Ae=me.length-1}me[Ae].focus()}I.preventDefault()}}else if(I.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===I.target)return void("body"!==this.container||I.shiftKey?I.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const gn=this._menu.nativeElement.querySelectorAll(Hs);I.shiftKey&&I.target===gn[0]?(this._anchor.nativeElement.focus(),I.preventDefault()):!I.shiftKey&&I.target===gn[gn.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,l.R)(I.target,"focusout").pipe((0,T.q)(1)).subscribe(({relatedTarget:gn})=>{this._elementRef.nativeElement.contains(gn)||this.close()})}}else Pt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,l.R)(Pt,"click").pipe((0,T.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(I){return this._anchor.nativeElement.contains(I.target)}_getMenuElements(){const I=this._menu;return null==I?[]:I.menuItems.filter(k=>!k.disabled).map(k=>k.elementRef.nativeElement)}_positionMenu(){const I=this._menu;this.isOpen()&&I&&this._applyPlacementClasses("dynamic"===this.display?Es(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(I){return Array.isArray(I)?I[0]:I.split(" ")[0]}_resetContainer(){const I=this._renderer;if(this._menu){const me=this._menu.nativeElement;I.appendChild(this._elementRef.nativeElement,me),I.removeStyle(me,"position"),I.removeStyle(me,"transform")}this._bodyContainer&&(I.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(I=null){if(this._resetContainer(),"body"===I){const k=this._renderer,me=this._menu.nativeElement,Ae=this._bodyContainer=this._bodyContainer||k.createElement("div");k.setStyle(Ae,"position","absolute"),k.setStyle(me,"position","static"),k.setStyle(Ae,"z-index","1050"),k.appendChild(Ae,me),k.appendChild(this._document.body,Ae)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(I,k){const me="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;me&&(k&&this._renderer.removeClass(me,k),I&&this._renderer.addClass(me,I))}_applyPlacementClasses(I){const k=this._menu;if(k){I||(I=this._getFirstPlacement(this.placement));const me=this._renderer,Ae=this._elementRef.nativeElement;me.removeClass(Ae,"dropup"),me.removeClass(Ae,"dropdown"),k.placement="static"===this.display?null:I;const Pt=-1!==I.search("^top")?"dropup":"dropdown";me.addClass(Ae,Pt);const qt=this._bodyContainer;qt&&(me.removeClass(qt,"dropup"),me.removeClass(qt,"dropdown"),me.addClass(qt,Pt))}}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Oo),t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(Js,8))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbDropdown",""]],contentQueries:function(I,k,me){if(1&I&&(t.\u0275\u0275contentQuery(me,jo,5),t.\u0275\u0275contentQuery(me,is,5)),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k._menu=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k._anchor=Ae.first)}},hostVars:2,hostBindings:function(I,k){2&I&&t.\u0275\u0275classProp("show",k.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[t.\u0275\u0275NgOnChangesFeature]}),B})(),lo=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({}),B})();class Ms{constructor(ae,I,k){this.nodes=ae,this.viewRef=I,this.componentRef=k}}class He{constructor(ae,I,k,me,Ae,Pt){this._type=ae,this._injector=I,this._viewContainerRef=k,this._renderer=me,this._ngZone=Ae,this._applicationRef=Pt,this._windowRef=null,this._contentRef=null}open(ae,I,k=!1){this._windowRef||(this._contentRef=this._getContentRef(ae,I),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:me}=this._windowRef.location,Ae=this._ngZone.onStable.pipe((0,T.q)(1),(0,W.z)(()=>Mi(this._ngZone,me,({classList:Pt})=>Pt.add("show"),{animation:k,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Ae}}close(ae=!1){return this._windowRef?Mi(this._ngZone,this._windowRef.location.nativeElement,({classList:I})=>I.remove("show"),{animation:ae,runningTransition:"stop"}).pipe((0,$.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,d.of)(void 0)}_getContentRef(ae,I){if(ae){if(ae instanceof t.TemplateRef){const k=ae.createEmbeddedView(I);return this._applicationRef.attachView(k),new Ms([k.rootNodes],k)}return new Ms([[this._renderer.createText(`${ae}`)]])}return new Ms([])}}let fe=(()=>{class B{constructor(I,k){this._el=I,this._zone=k}ngOnInit(){this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{Mi(this._zone,this._el.nativeElement,(I,k)=>{k&&ei(I),I.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._el.nativeElement,({classList:I})=>I.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(I,k){2&I&&(t.\u0275\u0275classMap("modal-backdrop"+(k.backdropClass?" "+k.backdropClass:"")),t.\u0275\u0275classProp("show",!k.animation)("fade",k.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(I,k){},encapsulation:2}),B})();class de{close(ae){}dismiss(ae){}}class Te{constructor(ae,I,k,me){this._windowCmptRef=ae,this._contentRef=I,this._backdropCmptRef=k,this._beforeDismiss=me,this._closed=new r.x,this._dismissed=new r.x,this._hidden=new r.x,ae.instance.dismissEvent.subscribe(Ae=>{this.dismiss(Ae)}),this.result=new Promise((Ae,Pt)=>{this._resolve=Ae,this._reject=Pt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,M.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,M.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(ae){this._windowCmptRef&&(this._closed.next(ae),this._resolve(ae),this._removeModalElements())}_dismiss(ae){this._dismissed.next(ae),this._reject(ae),this._removeModalElements()}dismiss(ae){if(this._windowCmptRef)if(this._beforeDismiss){const I=this._beforeDismiss();!function li(B){return B&&B.then}(I)?!1!==I&&this._dismiss(ae):I.then(k=>{!1!==k&&this._dismiss(ae)},()=>{})}else this._dismiss(ae)}_removeModalElements(){const ae=this._windowCmptRef.instance.hide(),I=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,d.of)(void 0);ae.subscribe(()=>{const{nativeElement:k}=this._windowCmptRef.location;k.parentNode.removeChild(k),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),I.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:k}=this._backdropCmptRef.location;k.parentNode.removeChild(k),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,S.$)(ae,I).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var N=(()=>{return(B=N||(N={}))[B.BACKDROP_CLICK=0]="BACKDROP_CLICK",B[B.ESC=1]="ESC",N;var B})();let X=(()=>{class B{constructor(I,k,me){this._document=I,this._elRef=k,this._zone=me,this._closed$=new r.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.EventEmitter,this.shown=new r.x,this.hidden=new r.x}dismiss(I){this.dismissEvent.emit(I)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:I}=this._elRef,k={animation:this.animation,runningTransition:"stop"},me=Mi(this._zone,I,()=>I.classList.remove("show"),k),Ae=Mi(this._zone,this._dialogEl.nativeElement,()=>{},k),Pt=(0,S.$)(me,Ae);return Pt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Pt}_show(){const I={animation:this.animation,runningTransition:"continue"},k=Mi(this._zone,this._elRef.nativeElement,(Ae,Pt)=>{Pt&&ei(Ae),Ae.classList.add("show")},I),me=Mi(this._zone,this._dialogEl.nativeElement,()=>{},I);(0,S.$)(k,me).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:I}=this._elRef;this._zone.runOutsideAngular(()=>{(0,l.R)(I,"keydown").pipe((0,M.R)(this._closed$),(0,C.h)(me=>me.which===Gn.Escape)).subscribe(me=>{this.keyboard?requestAnimationFrame(()=>{me.defaultPrevented||this._zone.run(()=>this.dismiss(N.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let k=!1;(0,l.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,M.R)(this._closed$),(0,$.b)(()=>k=!1),(0,j.w)(()=>(0,l.R)(I,"mouseup").pipe((0,M.R)(this._closed$),(0,T.q)(1))),(0,C.h)(({target:me})=>I===me)).subscribe(()=>{k=!0}),(0,l.R)(I,"click").pipe((0,M.R)(this._closed$)).subscribe(({target:me})=>{I===me&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!k&&this._zone.run(()=>this.dismiss(N.BACKDROP_CLICK))),k=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:I}=this._elRef;if(!I.contains(document.activeElement)){const k=I.querySelector("[ngbAutofocus]"),me=Xi(I)[0];(k||me||I).focus()}}_restoreFocus(){const I=this._document.body,k=this._elWithFocus;let me;me=k&&k.focus&&I.contains(k)?k:I,this._zone.runOutsideAngular(()=>{setTimeout(()=>me.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mi(this._zone,this._elRef.nativeElement,({classList:I})=>(I.add("modal-static"),()=>I.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-modal-window"]],viewQuery:function(I,k){if(1&I&&t.\u0275\u0275viewQuery(jt,7),2&I){let me;t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k._dialogEl=me.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(I,k){2&I&&(t.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",k.ariaLabelledBy)("aria-describedby",k.ariaDescribedBy),t.\u0275\u0275classMap("modal d-block"+(k.windowClass?" "+k.windowClass:"")),t.\u0275\u0275classProp("fade",k.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Oe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(I,k){1&I&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),t.\u0275\u0275projection(3),t.\u0275\u0275elementEnd()()),2&I&&t.\u0275\u0275classMap("modal-dialog"+(k.size?" modal-"+k.size:"")+(k.centered?" modal-dialog-centered":"")+(k.scrollable?" modal-dialog-scrollable":"")+(k.modalDialogClass?" "+k.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),B})(),G=(()=>{class B{constructor(I){this._document=I}hide(){const I=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),k=this._document.body,me=k.style,{overflow:Ae,paddingRight:Pt}=me;if(I>0){const qt=parseFloat(window.getComputedStyle(k).paddingRight);me.paddingRight=`${qt+I}px`}return me.overflow="hidden",()=>{I>0&&(me.paddingRight=Pt),me.overflow=Ae}}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(n.K0))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),le=(()=>{class B{constructor(I,k,me,Ae,Pt,qt){this._applicationRef=I,this._injector=k,this._document=me,this._scrollBar=Ae,this._rendererFactory=Pt,this._ngZone=qt,this._activeWindowCmptHasChanged=new r.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const gn=this._windowCmpts[this._windowCmpts.length-1];Xs(this._ngZone,gn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(gn.location.nativeElement)}})}_restoreScrollBar(){const I=this._scrollBarRestoreFn;I&&(this._scrollBarRestoreFn=null,I())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(I,k,me,Ae){const Pt=Ae.container instanceof HTMLElement?Ae.container:xi(Ae.container)?this._document.querySelector(Ae.container):this._document.body,qt=this._rendererFactory.createRenderer(null,null);if(!Pt)throw new Error(`The specified modal container "${Ae.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const gn=new de,Tn=this._getContentRef(I,Ae.injector||k,me,gn,Ae);let Nn=!1!==Ae.backdrop?this._attachBackdrop(I,Pt):void 0,mr=this._attachWindowComponent(I,Pt,Tn),Jn=new Te(mr,Tn,Nn,Ae.beforeDismiss);return this._registerModalRef(Jn),this._registerWindowCmpt(mr),Jn.hidden.pipe((0,T.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(qt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),gn.close=Pr=>{Jn.close(Pr)},gn.dismiss=Pr=>{Jn.dismiss(Pr)},this._applyWindowOptions(mr.instance,Ae),1===this._modalRefs.length&&qt.addClass(this._document.body,"modal-open"),Nn&&Nn.instance&&(this._applyBackdropOptions(Nn.instance,Ae),Nn.changeDetectorRef.detectChanges()),mr.changeDetectorRef.detectChanges(),Jn}get activeInstances(){return this._activeInstances}dismissAll(I){this._modalRefs.forEach(k=>k.dismiss(I))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(I,k){let Ae=I.resolveComponentFactory(fe).create(this._injector);return this._applicationRef.attachView(Ae.hostView),k.appendChild(Ae.location.nativeElement),Ae}_attachWindowComponent(I,k,me){let Pt=I.resolveComponentFactory(X).create(this._injector,me.nodes);return this._applicationRef.attachView(Pt.hostView),k.appendChild(Pt.location.nativeElement),Pt}_applyWindowOptions(I,k){this._windowAttributes.forEach(me=>{xi(k[me])&&(I[me]=k[me])})}_applyBackdropOptions(I,k){this._backdropAttributes.forEach(me=>{xi(k[me])&&(I[me]=k[me])})}_getContentRef(I,k,me,Ae,Pt){return me?me instanceof t.TemplateRef?this._createFromTemplateRef(me,Ae):Tr(me)?this._createFromString(me):this._createFromComponent(I,k,me,Ae,Pt):new Ms([])}_createFromTemplateRef(I,k){const Ae=I.createEmbeddedView({$implicit:k,close(Pt){k.close(Pt)},dismiss(Pt){k.dismiss(Pt)}});return this._applicationRef.attachView(Ae),new Ms([Ae.rootNodes],Ae)}_createFromString(I){const k=this._document.createTextNode(`${I}`);return new Ms([[k]])}_createFromComponent(I,k,me,Ae,Pt){const qt=I.resolveComponentFactory(me),gn=t.Injector.create({providers:[{provide:de,useValue:Ae}],parent:k}),Tn=qt.create(gn),Nn=Tn.location.nativeElement;return Pt.scrollable&&Nn.classList.add("component-host-scrollable"),this._applicationRef.attachView(Tn.hostView),new Ms([[Nn]],Tn.hostView,Tn)}_setAriaHidden(I){const k=I.parentElement;k&&I!==this._document.body&&(Array.from(k.children).forEach(me=>{me!==I&&"SCRIPT"!==me.nodeName&&(this._ariaHiddenValues.set(me,me.getAttribute("aria-hidden")),me.setAttribute("aria-hidden","true"))}),this._setAriaHidden(k))}_revertAriaHidden(){this._ariaHiddenValues.forEach((I,k)=>{I?k.setAttribute("aria-hidden",I):k.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(I){const k=()=>{const me=this._modalRefs.indexOf(I);me>-1&&(this._modalRefs.splice(me,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(I),this._activeInstances.emit(this._modalRefs),I.result.then(k,k)}_registerWindowCmpt(I){this._windowCmpts.push(I),this._activeWindowCmptHasChanged.next(),I.onDestroy(()=>{const k=this._windowCmpts.indexOf(I);k>-1&&(this._windowCmpts.splice(k,1),this._activeWindowCmptHasChanged.next())})}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(t.ApplicationRef),t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(n.K0),t.\u0275\u0275inject(G),t.\u0275\u0275inject(t.RendererFactory2),t.\u0275\u0275inject(t.NgZone))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Me=(()=>{class B{constructor(I){this._ngbConfig=I,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(ro))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Fe=(()=>{class B{constructor(I,k,me,Ae){this._moduleCFR=I,this._injector=k,this._modalStack=me,this._config=Ae}open(I,k={}){const me={...this._config,animation:this._config.animation,...k};return this._modalStack.open(this._moduleCFR,this._injector,I,me)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(I){this._modalStack.dismissAll(I)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(t.ComponentFactoryResolver),t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(le),t.\u0275\u0275inject(Me))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Xe=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({providers:[Fe]}),B})(),Lt=(()=>{class B{constructor(I){this._ngbConfig=I,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(ro))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();const un=B=>xi(B)&&""!==B;let wn=0,Kn=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbNavContent",""]]}),B})(),vr=(()=>{class B{constructor(I,k){this.elementRef=k,this.disabled=!1,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter,this._nav=I}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){xi(this.domId)||(this.domId="ngb-nav-"+wn++)}get active(){return this._nav.activeId===this.id}get id(){return un(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(xi(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject((0,t.forwardRef)(()=>or)),t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbNavItem",""]],contentQueries:function(I,k,me){if(1&I&&t.\u0275\u0275contentQuery(me,Kn,4),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.contentTpls=Ae)}},hostVars:2,hostBindings:function(I,k){2&I&&t.\u0275\u0275classProp("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),B})(),or=(()=>{class B{constructor(I,k,me,Ae){this.role=I,this._cd=me,this._document=Ae,this.activeIdChange=new t.EventEmitter,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter,this.destroy$=new r.x,this.navItemChange$=new r.x,this.navChange=new t.EventEmitter,this.animation=k.animation,this.destroyOnHide=k.destroyOnHide,this.orientation=k.orientation,this.roles=k.roles,this.keyboard=k.keyboard}click(I){I.disabled||this._updateActiveId(I.id)}onKeyDown(I){if("tablist"!==this.roles||!this.keyboard)return;const k=I.which,me=this.links.filter(qt=>!qt.navItem.disabled),{length:Ae}=me;let Pt=-1;if(me.forEach((qt,gn)=>{qt.elRef.nativeElement===this._document.activeElement&&(Pt=gn)}),Ae){switch(k){case Gn.ArrowLeft:if("vertical"===this.orientation)return;Pt=(Pt-1+Ae)%Ae;break;case Gn.ArrowRight:if("vertical"===this.orientation)return;Pt=(Pt+1)%Ae;break;case Gn.ArrowDown:if("horizontal"===this.orientation)return;Pt=(Pt+1)%Ae;break;case Gn.ArrowUp:if("horizontal"===this.orientation)return;Pt=(Pt-1+Ae)%Ae;break;case Gn.Home:Pt=0;break;case Gn.End:Pt=Ae-1}"changeWithArrows"===this.keyboard&&this.select(me[Pt].navItem.id),me[Pt].elRef.nativeElement.focus(),I.preventDefault()}}select(I){this._updateActiveId(I,!1)}ngAfterContentInit(){if(!xi(this.activeId)){const I=this.items.first?this.items.first.id:null;un(I)&&(this._updateActiveId(I,!1),this._cd.detectChanges())}this.items.changes.pipe((0,M.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:I}){I&&!I.firstChange&&this._notifyItemChanged(I.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(I,k=!0){if(this.activeId!==I){let me=!1;k&&this.navChange.emit({activeId:this.activeId,nextId:I,preventDefault:()=>{me=!0}}),me||(this.activeId=I,this.activeIdChange.emit(I),this._notifyItemChanged(I))}}_notifyItemChanged(I){this.navItemChange$.next(this._getItemById(I))}_getItemById(I){return this.items&&this.items.find(k=>k.id===I)||null}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275injectAttribute("role"),t.\u0275\u0275directiveInject(Lt),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(n.K0))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbNav",""]],contentQueries:function(I,k,me){if(1&I&&(t.\u0275\u0275contentQuery(me,vr,4),t.\u0275\u0275contentQuery(me,Ko,5)),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.items=Ae),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.links=Ae)}},hostVars:6,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("keydown.arrowLeft",function(Ae){return k.onKeyDown(Ae)})("keydown.arrowRight",function(Ae){return k.onKeyDown(Ae)})("keydown.arrowDown",function(Ae){return k.onKeyDown(Ae)})("keydown.arrowUp",function(Ae){return k.onKeyDown(Ae)})("keydown.Home",function(Ae){return k.onKeyDown(Ae)})("keydown.End",function(Ae){return k.onKeyDown(Ae)}),2&I&&(t.\u0275\u0275attribute("aria-orientation","vertical"===k.orientation&&"tablist"===k.roles?"vertical":void 0)("role",k.role?k.role:k.roles?"tablist":void 0),t.\u0275\u0275classProp("nav",!0)("flex-column","vertical"===k.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[t.\u0275\u0275NgOnChangesFeature]}),B})(),Ko=(()=>{class B{constructor(I,k,me,Ae){this.role=I,this.navItem=k,this.nav=me,this.elRef=Ae}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275injectAttribute("role"),t.\u0275\u0275directiveInject(vr),t.\u0275\u0275directiveInject(or),t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("click",function(Ae){return k.nav.click(k.navItem),Ae.preventDefault()}),2&I&&(t.\u0275\u0275hostProperty("id",k.navItem.domId),t.\u0275\u0275attribute("role",k.role?k.role:k.nav.roles?"tab":void 0)("tabindex",k.navItem.disabled?-1:void 0)("aria-controls",k.navItem.isPanelInDom()?k.navItem.panelDomId:null)("aria-selected",k.navItem.active)("aria-disabled",k.navItem.disabled),t.\u0275\u0275classProp("nav-link",!0)("nav-item",k.hasNavItemClass())("active",k.navItem.active)("disabled",k.navItem.disabled))}}),B})();const qi=({classList:B})=>(B.remove("show"),()=>B.remove("active")),wi=(B,ae)=>{ae&&ei(B),B.classList.add("show")};let zi=(()=>{class B{constructor(I){this.elRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(I,k){2&I&&(t.\u0275\u0275hostProperty("id",k.item.panelDomId),t.\u0275\u0275attribute("role",k.role?k.role:k.nav.roles?"tabpanel":void 0)("aria-labelledby",k.item.domId),t.\u0275\u0275classProp("fade",k.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),B})(),Ca=(()=>{class B{constructor(I,k){this._cd=I,this._ngZone=k,this._activePane=null}isPanelTransitioning(I){return this._activePane?.item===I}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,M.R)(this.nav.destroy$),(0,U.O)(this._activePane?.item||null),(0,L.x)(),(0,ie.T)(1)).subscribe(I=>{const k={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Mi(this._ngZone,this._activePane.elRef.nativeElement,qi,k).subscribe(()=>{const me=this._activePane?.item;this._activePane=this._getPaneForItem(I),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Mi(this._ngZone,this._activePane.elRef.nativeElement,wi,k).subscribe(()=>{I&&(I.shown.emit(),this.nav.shown.emit(I.id))})),me&&(me.hidden.emit(),this.nav.hidden.emit(me.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(I){return this._panes&&this._panes.find(k=>k.item===I)||null}_getActivePane(){return this._panes&&this._panes.find(I=>I.item.active)||null}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.NgZone))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["","ngbNavOutlet",""]],viewQuery:function(I,k){if(1&I&&t.\u0275\u0275viewQuery(zi,5),2&I){let me;t.\u0275\u0275queryRefresh(me=t.\u0275\u0275loadQuery())&&(k._panes=me)}},hostVars:2,hostBindings:function(I,k){2&I&&t.\u0275\u0275classProp("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:zt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,k){1&I&&t.\u0275\u0275template(0,we,1,1,"ng-template",0),2&I&&t.\u0275\u0275property("ngForOf",k.nav.items)},dependencies:[n.sg,n.O5,zi,n.tP],encapsulation:2,changeDetection:0}),B})(),qs=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),Ta=(()=>{class B{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Ss=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),B})(),Aa=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationFirst",""]]}),B})(),la=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationLast",""]]}),B})(),Ra=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationNext",""]]}),B})(),Ns=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationNumber",""]]}),B})(),ba=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationPrevious",""]]}),B})(),xa=(()=>{class B{constructor(I){this.templateRef=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.TemplateRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["ng-template","ngbPaginationPages",""]]}),B})(),ca=(()=>{class B{constructor(I){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new t.EventEmitter(!0),this.disabled=I.disabled,this.boundaryLinks=I.boundaryLinks,this.directionLinks=I.directionLinks,this.ellipses=I.ellipses,this.maxSize=I.maxSize,this.pageSize=I.pageSize,this.rotate=I.rotate,this.size=I.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(I){this._updatePages(I)}ngOnChanges(I){this._updatePages(this.page)}isEllipsis(I){return-1===I}_applyEllipses(I,k){this.ellipses&&(I>0&&(I>2?this.pages.unshift(-1):2===I&&this.pages.unshift(2),this.pages.unshift(1)),k<this.pageCount&&(k<this.pageCount-2?this.pages.push(-1):k===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let I=0,k=this.pageCount,me=Math.floor(this.maxSize/2);return this.page<=me?k=this.maxSize:this.pageCount-this.page<me?I=this.pageCount-this.maxSize:(I=this.page-me-1,k=this.page+(this.maxSize%2==0?me-1:me)),[I,k]}_applyPagination(){let k=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[k,k+this.maxSize]}_setPageInRange(I){const k=this.page;this.page=Ur(I,this.pageCount,1),this.page!==k&&Vn(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(I){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Vn(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let k=1;k<=this.pageCount;k++)this.pages.push(k);if(this._setPageInRange(I),this.maxSize>0&&this.pageCount>this.maxSize){let k=0,me=this.pageCount;[k,me]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(k,me),this._applyEllipses(k,me)}}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Ta))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-pagination"]],contentQueries:function(I,k,me){if(1&I&&(t.\u0275\u0275contentQuery(me,Ss,5),t.\u0275\u0275contentQuery(me,Aa,5),t.\u0275\u0275contentQuery(me,la,5),t.\u0275\u0275contentQuery(me,Ra,5),t.\u0275\u0275contentQuery(me,Ns,5),t.\u0275\u0275contentQuery(me,ba,5),t.\u0275\u0275contentQuery(me,xa,5)),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplEllipsis=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplFirst=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplLast=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplNext=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplNumber=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplPrevious=Ae.first),t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.tplPages=Ae.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[t.\u0275\u0275NgOnChangesFeature],decls:20,vars:12,consts:function(){let ae,I,k,me,Ae,Pt,qt,gn;return ae=$localize`:@@ngb.pagination.first:««`,I=$localize`:@@ngb.pagination.previous:«`,k=$localize`:@@ngb.pagination.next:»`,me=$localize`:@@ngb.pagination.last:»»`,Ae=$localize`:@@ngb.pagination.first-aria:First`,Pt=$localize`:@@ngb.pagination.previous-aria:Previous`,qt=$localize`:@@ngb.pagination.next-aria:Next`,gn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],ae,I,k,me,["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Ae,"href","",1,"page-link",3,"click"],["aria-label",Pt,"href","",1,"page-link",3,"click"],["aria-label",qt,"href","",1,"page-link",3,"click"],["aria-label",gn,"href","",1,"page-link",3,"click"]]},template:function(I,k){if(1&I&&(t.\u0275\u0275template(0,pt,2,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,bt,2,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,wt,2,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(6,Xt,2,0,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(8,Qt,1,0,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(10,dn,2,2,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(12,be,1,1,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(14,"ul"),t.\u0275\u0275template(15,Cn,3,9,"li",7),t.\u0275\u0275template(16,En,3,8,"li",7),t.\u0275\u0275template(17,cn,0,0,"ng-template",8),t.\u0275\u0275template(18,Bn,3,9,"li",7),t.\u0275\u0275template(19,In,3,9,"li",7),t.\u0275\u0275elementEnd()),2&I){const me=t.\u0275\u0275reference(13);t.\u0275\u0275advance(14),t.\u0275\u0275classMap("pagination"+(k.size?" pagination-"+k.size:"")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.boundaryLinks),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.directionLinks),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",(null==k.tplPages?null:k.tplPages.templateRef)||me)("ngTemplateOutletContext",t.\u0275\u0275pureFunction3(8,Fn,k.page,k.pages,k.disabled)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.directionLinks),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.boundaryLinks)}},dependencies:[n.O5,n.sg,n.tP],encapsulation:2,changeDetection:0}),B})(),us=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})();class La{constructor(ae,I){this.open=ae,this.close=I,I||(this.close=ae)}isManual(){return"manual"===this.open||"manual"===this.close}}const Va={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},st=B=>B>0?(0,re.g)(B):ae=>ae;let Wn=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),sr=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),pr=(()=>{class B{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ji=(()=>{class B{constructor(I,k){this._changeDetectorRef=k,this.contexts=[],this.disabled=!1,this.hover=new t.EventEmitter,this.leave=new t.EventEmitter,this.rateChange=new t.EventEmitter(!0),this.onChange=me=>{},this.onTouched=()=>{},this.max=I.max,this.readonly=I.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(I){this.isInteractive()&&this._updateState(I),this.hover.emit(I)}handleBlur(){this.onTouched()}handleClick(I){this.isInteractive()&&this.update(this.resettable&&this.rate===I?0:I)}handleKeyDown(I){switch(I.which){case Gn.ArrowDown:case Gn.ArrowLeft:this.update(this.rate-1);break;case Gn.ArrowUp:case Gn.ArrowRight:this.update(this.rate+1);break;case Gn.Home:this.update(0);break;case Gn.End:this.update(this.max);break;default:return}I.preventDefault()}ngOnChanges(I){I.rate&&this.update(this.rate),I.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(I){this.disabled=I}update(I,k=!0){const me=Ur(I,this.max,0);this.isInteractive()&&this.rate!==me&&(this.rate=me,this.rateChange.emit(this.rate)),k&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(I){this.update(I,!1),this._changeDetectorRef.markForCheck()}_updateState(I){this.nextRate=I,this.contexts.forEach((k,me)=>k.fill=Math.round(100*Ur(I-me,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(I,k)=>({fill:0,index:k}))}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(pr),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-rating"]],contentQueries:function(I,k,me){if(1&I&&t.\u0275\u0275contentQuery(me,t.TemplateRef,5),2&I){let Ae;t.\u0275\u0275queryRefresh(Ae=t.\u0275\u0275loadQuery())&&(k.starTemplateFromContent=Ae.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("blur",function(){return k.handleBlur()})("keydown",function(Ae){return k.handleKeyDown(Ae)})("mouseleave",function(){return k.reset()}),2&I&&(t.\u0275\u0275hostProperty("tabindex",k.disabled?-1:0),t.\u0275\u0275attribute("aria-valuemax",k.max)("aria-valuenow",k.nextRate)("aria-valuetext",k.ariaValueText())("aria-disabled",!!k.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0}]),t.\u0275\u0275NgOnChangesFeature],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,k){1&I&&(t.\u0275\u0275template(0,si,1,1,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,Sn,4,5,"ng-template",1)),2&I&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",k.contexts))},dependencies:[n.sg,n.tP],encapsulation:2,changeDetection:0}),B})(),Ba=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})();class ml{constructor(ae,I,k){this.hour=$n(ae),this.minute=$n(I),this.second=$n(k)}changeHour(ae=1){this.updateHour((isNaN(this.hour)?0:this.hour)+ae)}updateHour(ae){this.hour=Vn(ae)?(ae<0?24+ae:ae)%24:NaN}changeMinute(ae=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+ae)}updateMinute(ae){Vn(ae)?(this.minute=ae%60<0?60+ae%60:ae%60,this.changeHour(Math.floor(ae/60))):this.minute=NaN}changeSecond(ae=1){this.updateSecond((isNaN(this.second)?0:this.second)+ae)}updateSecond(ae){Vn(ae)?(this.second=ae<0?60+ae%60:ae%60,this.changeMinute(Math.floor(ae/60))):this.second=NaN}isValid(ae=!0){return Vn(this.hour)&&Vn(this.minute)&&(!ae||Vn(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Pc=(()=>{class B{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),_l=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(){return function Hl(){return new kl}()},providedIn:"root"}),B})(),kl=(()=>{class B extends _l{fromModel(I){return I&&Xn(I.hour)&&Xn(I.minute)?{hour:I.hour,minute:I.minute,second:Xn(I.second)?I.second:null}:null}toModel(I){return I&&Xn(I.hour)&&Xn(I.minute)?{hour:I.hour,minute:I.minute,second:Xn(I.second)?I.second:null}:null}}return B.\u0275fac=function(){let ae;return function(k){return(ae||(ae=t.\u0275\u0275getInheritedFactory(B)))(k||B)}}(),B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})(),gl=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(I){let k=null;return k=I?new I:function $l(B){return new Ic(B)}(t.\u0275\u0275inject(t.LOCALE_ID)),k},providedIn:"root"}),B})(),Ic=(()=>{class B extends gl{constructor(I){super(),this._periods=(0,n.ol)(I,n.x.Standalone,n.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(t.LOCALE_ID))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();const Tc=/[^0-9]/g;let Ml=(()=>{class B{constructor(I,k,me,Ae){this._config=I,this._ngbTimeAdapter=k,this._cd=me,this.i18n=Ae,this.onChange=Pt=>{},this.onTouched=()=>{},this.meridian=I.meridian,this.spinners=I.spinners,this.seconds=I.seconds,this.hourStep=I.hourStep,this.minuteStep=I.minuteStep,this.secondStep=I.secondStep,this.disabled=I.disabled,this.readonlyInputs=I.readonlyInputs,this.size=I.size}set hourStep(I){this._hourStep=Xn(I)?I:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(I){this._minuteStep=Xn(I)?I:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(I){this._secondStep=Xn(I)?I:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(I){const k=this._ngbTimeAdapter.fromModel(I);this.model=k?new ml(k.hour,k.minute,k.second):new ml,!this.seconds&&(!k||!Vn(k.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.disabled=I}changeHour(I){this.model.changeHour(I),this.propagateModelChange()}changeMinute(I){this.model.changeMinute(I),this.propagateModelChange()}changeSecond(I){this.model.changeSecond(I),this.propagateModelChange()}updateHour(I){const k=this.model.hour>=12,me=$n(I);this.model.updateHour(this.meridian&&(k&&me<12||!k&&12===me)?me+12:me),this.propagateModelChange()}updateMinute(I){this.model.updateMinute($n(I)),this.propagateModelChange()}updateSecond(I){this.model.updateSecond($n(I)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(I){I.value=I.value.replace(Tc,"")}formatHour(I){return Vn(I)?Wr(this.meridian?I%12==0?12:I%12:I%24):Wr(NaN)}formatMinSec(I){return Wr(Vn(I)?I:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(I){I.seconds&&!this.seconds&&this.model&&!Vn(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(I=!0){I&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(Pc),t.\u0275\u0275directiveInject(_l),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(gl))},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0}]),t.\u0275\u0275NgOnChangesFeature],decls:16,vars:25,consts:function(){let ae,I,k,me,Ae,Pt,qt,gn,Tn,Nn,mr,Jn,Pr,eo;return ae=$localize`:@@ngb.timepicker.HH:HH`,I=$localize`:@@ngb.timepicker.hours:Hours`,k=$localize`:@@ngb.timepicker.MM:MM`,me=$localize`:@@ngb.timepicker.minutes:Minutes`,Ae=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Pt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,qt=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,gn=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Tn=$localize`:@@ngb.timepicker.SS:SS`,Nn=$localize`:@@ngb.timepicker.seconds:Seconds`,mr=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Jn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Pr=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,eo=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",ae,"aria-label",I,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",k,"aria-label",me,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],Ae,[1,"chevron","ngb-tp-chevron","bottom"],Pt,qt,gn,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Tn,"aria-label",Nn,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],mr,Jn,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Pr,eo]},template:function(I,k){1&I&&(t.\u0275\u0275elementStart(0,"fieldset",0)(1,"div",1)(2,"div",2),t.\u0275\u0275template(3,Qn,4,7,"button",3),t.\u0275\u0275elementStart(4,"input",4),t.\u0275\u0275listener("change",function(Ae){return k.updateHour(Ae.target.value)})("blur",function(){return k.handleBlur()})("input",function(Ae){return k.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return k.changeHour(k.hourStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return k.changeHour(-k.hourStep),Ae.preventDefault()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,hr,4,7,"button",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275text(7,":"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",6),t.\u0275\u0275template(9,Br,4,7,"button",3),t.\u0275\u0275elementStart(10,"input",7),t.\u0275\u0275listener("change",function(Ae){return k.updateMinute(Ae.target.value)})("blur",function(){return k.handleBlur()})("input",function(Ae){return k.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return k.changeMinute(k.minuteStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return k.changeMinute(-k.minuteStep),Ae.preventDefault()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,Xr,4,7,"button",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,br,2,0,"div",8),t.\u0275\u0275template(13,_i,4,9,"div",9),t.\u0275\u0275template(14,Ri,1,0,"div",8),t.\u0275\u0275template(15,ai,5,9,"div",10),t.\u0275\u0275elementEnd()()),2&I&&(t.\u0275\u0275classProp("disabled",k.disabled),t.\u0275\u0275property("disabled",k.disabled),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",k.spinners),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("form-control-sm",k.isSmallSize)("form-control-lg",k.isLargeSize),t.\u0275\u0275property("value",k.formatHour(null==k.model?null:k.model.hour))("readOnly",k.readonlyInputs)("disabled",k.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.spinners),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",k.spinners),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("form-control-sm",k.isSmallSize)("form-control-lg",k.isLargeSize),t.\u0275\u0275property("value",k.formatMinSec(null==k.model?null:k.model.minute))("readOnly",k.readonlyInputs)("disabled",k.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.spinners),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.seconds),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.seconds),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.meridian),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",k.meridian))},dependencies:[n.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),B})(),Sl=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),bl=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})(),Pl=(()=>{class B{constructor(I){this._ngbConfig=I,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(ro))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),zl=0,Gl=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(I,k){2&I&&(t.\u0275\u0275hostProperty("id",k.id),t.\u0275\u0275classMap("tooltip"+(k.tooltipClass?" "+k.tooltipClass:"")),t.\u0275\u0275classProp("fade",k.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Oe,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(I,k){1&I&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275element(0,"div",0),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275projection(2),t.\u0275\u0275elementEnd())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),B})(),Yl=(()=>{class B{constructor(I,k,me,Ae,Pt,qt,gn,Tn,Nn){this._elementRef=I,this._renderer=k,this._ngZone=qt,this._document=gn,this._changeDetector=Tn,this.shown=new t.EventEmitter,this.hidden=new t.EventEmitter,this._ngbTooltipWindowId="ngb-tooltip-"+zl++,this._windowRef=null,this.animation=Pt.animation,this.autoClose=Pt.autoClose,this.placement=Pt.placement,this.triggers=Pt.triggers,this.container=Pt.container,this.disableTooltip=Pt.disableTooltip,this.tooltipClass=Pt.tooltipClass,this.openDelay=Pt.openDelay,this.closeDelay=Pt.closeDelay,this._popupService=new He(Gl,me,Ae,k,this._ngZone,Nn),this._zoneSubscription=qt.onStable.subscribe(()=>{this._windowRef&&Es(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(I){this._ngbTooltip=I,!I&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(I){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:k,transition$:me}=this._popupService.open(this._ngbTooltip,I,this.animation);this._windowRef=k,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),Hi(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),me.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Ft(B,ae,I,k,me,Ae,Pt=0,qt=0){const gn=function cl(B,ae=Va){const I=(B||"").trim();if(0===I.length)return[];const k=I.split(/\s+/).map(Ae=>Ae.split(":")).map(Ae=>{let Pt=ae[Ae[0]]||Ae;return new La(Pt[0],Pt[1])}),me=k.filter(Ae=>Ae.isManual());if(me.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===me.length&&k.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return k}(I);if(1===gn.length&&gn[0].isManual())return()=>{};const Tn=function Ke(B,ae,I,k){return new a.y(me=>{const Ae=[],Pt=()=>me.next(!0),qt=()=>me.next(!1),gn=()=>me.next(!k());return I.forEach(Tn=>{Tn.open===Tn.close?Ae.push(B.listen(ae,Tn.open,gn)):Ae.push(B.listen(ae,Tn.open,Pt),B.listen(ae,Tn.close,qt))}),()=>{Ae.forEach(Tn=>Tn())}})}(B,ae,gn,k).pipe(function Se(B,ae,I){return k=>{let me=null;const Ae=k.pipe((0,g.U)(gn=>({open:gn})),(0,C.h)(gn=>{const Tn=I();return Tn===gn.open||me&&me.open!==Tn?(me&&me.open!==gn.open&&(me=null),!1):(me=gn,!0)}),(0,ce.B)()),Pt=Ae.pipe((0,C.h)(gn=>gn.open),st(B)),qt=Ae.pipe((0,C.h)(gn=>!gn.open),st(ae));return(0,b.T)(Pt,qt).pipe((0,C.h)(gn=>gn===me&&(me=null,gn.open!==I())),(0,g.U)(gn=>gn.open))}}(Pt,qt,k)).subscribe(Nn=>Nn?me():Ae());return()=>Tn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:I}){I&&this.isOpen()&&(this._windowRef.instance.tooltipClass=I.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(Pl),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ApplicationRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[t.\u0275\u0275NgOnChangesFeature]}),B})(),da=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({}),B})(),Ac=(()=>{class B{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(I){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const k=Mr(this.result),me=Array.isArray(this.term)?this.term:[this.term],Ae=Tn=>this.accentSensitive?Tn:bo(Tn),Pt=me.map(Tn=>function So(B){return B.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Ae(Mr(Tn)))).filter(Tn=>Tn),qt=this.accentSensitive?k:bo(k),gn=Pt.length?qt.split(new RegExp(`(${Pt.join("|")})`,"gmi")):[k];if(this.accentSensitive)this.parts=gn;else{let Tn=0;this.parts=gn.map(Nn=>k.substring(Tn,Tn+=Nn.length))}}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(I,k){1&I&&t.\u0275\u0275template(0,Zt,3,2,"ng-template",0),2&I&&t.\u0275\u0275property("ngForOf",k.parts)},dependencies:[n.sg,n.O5],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),B})(),Rc=(()=>{class B{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Mr,this.selectEvent=new t.EventEmitter,this.activeChangeEvent=new t.EventEmitter}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(I){this.activeIdx=I,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(I){this.selectEvent.emit(I)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275cmp=t.\u0275\u0275defineComponent({type:B,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("mousedown",function(Ae){return Ae.preventDefault()}),2&I&&(t.\u0275\u0275hostProperty("id",k.id),t.\u0275\u0275classMap("dropdown-menu show"+(k.popupClass?" "+k.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,k){1&I&&(t.\u0275\u0275template(0,Kt,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,bn,2,9,"ng-template",1)),2&I&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",k.results))},dependencies:[Ac,n.sg,n.tP],encapsulation:2}),B})(),xc=(()=>{class B{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return B.\u0275fac=function(I){return new(I||B)},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();const Ql=new t.InjectionToken("live announcer delay",{providedIn:"root",factory:function Il(){return 100}});function Xl(B,ae=!1){let I=B.body.querySelector("#ngb-live");return null==I&&ae&&(I=B.createElement("div"),I.setAttribute("id","ngb-live"),I.setAttribute("aria-live","polite"),I.setAttribute("aria-atomic","true"),I.classList.add("sr-only"),B.body.appendChild(I)),I}let Lc=(()=>{class B{constructor(I,k){this._document=I,this._delay=k}ngOnDestroy(){const I=Xl(this._document);I&&I.parentElement.removeChild(I)}say(I){const k=Xl(this._document,!0),me=this._delay;if(null!=k){k.textContent="";const Ae=()=>k.textContent=I;null===me?Ae():setTimeout(Ae,me)}}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275inject(n.K0),t.\u0275\u0275inject(Ql))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Bc=0,Zl=(()=>{class B{constructor(I,k,me,Ae,Pt,qt,gn,Tn,Nn,mr,Jn){this._elementRef=I,this._renderer=me,this._live=gn,this._document=Tn,this._ngZone=Nn,this._changeDetector=mr,this._subscription=null,this._closed$=new r.x,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new t.EventEmitter,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Bc++,this._onTouched=()=>{},this._onChange=Pr=>{},this.container=Pt.container,this.editable=Pt.editable,this.focusFirst=Pt.focusFirst,this.showHint=Pt.showHint,this.placement=Pt.placement,this._valueChanges=(0,l.R)(I.nativeElement,"input").pipe((0,g.U)(Pr=>Pr.target.value)),this._resubscribeTypeahead=new m.X(null),this._popupService=new He(Rc,Ae,k,me,this._ngZone,Jn),this._zoneSubscription=qt.onStable.subscribe(()=>{this.isPopupOpen()&&Es(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:I}){I&&!I.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouched=I}writeValue(I){this._writeInputValue(this._formatItemForInput(I)),this.showHint&&(this._inputValueBackup=I)}setDisabledState(I){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",I)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(I){if(this.isPopupOpen())switch(I.which){case Gn.ArrowDown:I.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Gn.ArrowUp:I.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Gn.Enter:case Gn.Tab:{const k=this._windowRef.instance.getActive();xi(k)&&(I.preventDefault(),I.stopPropagation(),this._selectResult(k)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:I}=this._popupService.open();this._windowRef=I,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(k=>this._selectResultClosePopup(k)),this._windowRef.instance.activeChangeEvent.subscribe(k=>this.activeDescendant=k),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),Hi(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(I){let k=!1;this.selectItem.emit({item:I,preventDefault:()=>{k=!0}}),this._resubscribeTypeahead.next(null),k||(this.writeValue(I),this._onChange(I))}_selectResultClosePopup(I){this._selectResult(I),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const I=this._inputValueBackup.toLowerCase(),k=this._formatItemForInput(this._windowRef.instance.getActive());I===k.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+k.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,k.length])):this._writeInputValue(k)}}_formatItemForInput(I){return null!=I&&this.inputFormatter?this.inputFormatter(I):Mr(I)}_writeInputValue(I){this._renderer.setProperty(this._elementRef.nativeElement,"value",Mr(I))}_subscribeToUserInput(){const I=this._valueChanges.pipe((0,$.b)(k=>{this._inputValueBackup=this.showHint?k:null,this._onChange(this.editable?k:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,d.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,j.w)(()=>I)).subscribe(k=>{k&&0!==k.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=k,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const me=k?k.length:0;this._live.say(0===me?"No results available":`${me} result${1===me?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return B.\u0275fac=function(I){return new(I||B)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(xc),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(Lc),t.\u0275\u0275directiveInject(n.K0),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ApplicationRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(I,k){1&I&&t.\u0275\u0275listener("blur",function(){return k.handleBlur()})("keydown",function(Ae){return k.handleKeyDown(Ae)}),2&I&&(t.\u0275\u0275hostProperty("autocomplete",k.autocomplete),t.\u0275\u0275attribute("aria-autocomplete",k.showHint?"both":"list")("aria-activedescendant",k.activeDescendant)("aria-owns",k.isPopupOpen()?k.popupId:null)("aria-expanded",k.isPopupOpen()),t.\u0275\u0275classProp("open",k.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[t.\u0275\u0275ProvidersFeature([{provide:ne.JU,useExisting:(0,t.forwardRef)(()=>B),multi:!0}]),t.\u0275\u0275NgOnChangesFeature]}),B})(),Tl=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[[n.ez]]}),B})();const Uc=[Ar,ci,Yo,Io,dr,Ji,lo,Xe,qs,us,Wn,sr,Ba,Sl,bl,da,Tl];let Gs=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275mod=t.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=t.\u0275\u0275defineInjector({imports:[Uc,Ar,ci,Yo,Io,dr,Ji,lo,Xe,qs,us,Wn,sr,Ba,Sl,bl,da,Tl]}),B})()},5737:(R,c,e)=>{"use strict";e.d(c,{JHc:()=>Sn,dd1:()=>Wi,muF:()=>Mn,y8$:()=>re,i9b:()=>Ee,fSU:()=>ve,aTt:()=>sn,VId:()=>xe,Qam:()=>qn,X9S:()=>Ze,e6P:()=>fn,Lq6:()=>vt,Pdh:()=>Cn,BKB:()=>cn,yOA:()=>hr,nh9:()=>Ri,jbD:()=>jt,dwp:()=>Pe,x7Z:()=>ke,oqv:()=>we,CRj:()=>$,NJD:()=>J,RRz:()=>Oe,rmD:()=>ie,rJA:()=>W,LvC:()=>j,wT7:()=>hi,nm_:()=>ce,S_O:()=>Rt,vnf:()=>St,uTg:()=>kn,w1X:()=>Fn,fhz:()=>xn,H9g:()=>Yr,b1u:()=>gt,fQg:()=>to,WS:()=>dn,TJt:()=>ct,nMt:()=>Bt,ATj:()=>ht,HBf:()=>En,O6Y:()=>Yn,_Vz:()=>yr,F8e:()=>Qn,Gp8:()=>ne,WMN:()=>In,BgY:()=>w});var t=e(98678),n=e(70655),a=e(35841),i=e(29011),d=e(9237),r=e(29054),p=(e(20802),e(27303)),h=e(48358),m=e(9302),_=e(49887),v=e(77025),y=e(58886),O=e(370),b=e(77007),o=e(1908),D=e(5476),M=e(35103);function C(se){return"boolean"==typeof se}function T(se){return"function"==typeof se}function g(se){return"number"==typeof se}function U(se){return"object"==typeof se&&null!==se}function L(se){return"string"==typeof se}class j{constructor(he,V){this.layoutService=he,this.validationService=V,this._hasFocus=!1}get control(){const he=this.group.get(this.model.id);if(null===he)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return he}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass(he,V,De=this.model){const rt=De===this.model?this.layout:this.layoutService.findByModel(De,this.formLayout)??De.layout;return this.layoutService.getClass(rt,he,V)}onBlur(he){he instanceof Event&&he.stopPropagation(),this._hasFocus=!1,this.blur.emit(he)}onChange(he){he instanceof Event&&he.stopPropagation(),this.change.emit(he)}onCustomEvent(he,V=null,De=!1){De?this.customEvent?.emit(he):L(V)&&this.customEvent?.emit({customEvent:he,customEventType:V})}onFocus(he){he instanceof Event&&he.stopPropagation(),this._hasFocus=!0,this.focus.emit(he)}}class $ extends j{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof t.QueryList&&this.components.forEach(he=>he.markForCheck())}}class z extends j{markForCheck(){this.components instanceof t.QueryList&&this.components.forEach(he=>he.markForCheck())}}const re=new t.InjectionToken("DYNAMIC_FORM_CONTROL_MAP_FN");let W=(()=>{class se{constructor(V){this.DYNAMIC_FORM_CONTROL_MAP_FN=V,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=V}getForms(){return this.forms.values()}registerForm(V){this.forms.push(V)}unregisterForm(V){const De=this.forms.indexOf(V);-1!==De&&this.forms.splice(De,1)}getFormControlRef(V,De){const rt=this.formControls[V];return g(De)?Array.isArray(rt)?rt[De]:void 0:rt}registerFormControl(V,De,rt){if(g(rt)){const Wt=this.formControls[V.id]||[];Array.isArray(Wt)?(Wt.splice(rt,0,De),this.formControls[V.id]=Wt):console.warn(`registerFormControlRef is called with index for a non-array form control: ${V.id}`)}else this.formControls[V.id]=De}unregisterFormControl(V,De){const rt=this.formControls[V];g(De)?Array.isArray(rt)&&void 0!==rt[De]&&rt.splice(De,1):void 0!==rt&&delete this.formControls[V]}getCustomComponentType(V){return T(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(V):null}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275inject(re,8))},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),ie=(()=>{class se{constructor(V,De){this.changeDetectorRef=V,this.componentService=De}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(V,De){return De.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof t.QueryList&&this.components.forEach(V=>V.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(V){this.blur?.emit(V)}onChange(V){this.change?.emit(V)}onFocus(V){this.focus?.emit(V)}onCustomEvent(V,De){De.emit(V)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(W))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se}),se})();var ce=(()=>{return(se=ce||(ce={})).Blur="blur",se.Change="change",se.Focus="focus",ce;var se})();function ne(se){return U(se)&&se.hasOwnProperty("$event")}const K="SERIALIZABLE";function w(se){return(he,V)=>{Reflect.defineMetadata(K,{key:V,name:se||V},he,V)}}function oe(se,he){return function Q(se){const he=[];for(const V in se){const De=Reflect.getMetadata(K,se,V);De&&he.push(De)}return he}(he||se).reduce((V,De)=>(V[De.name]=se[De.key],V),{})}let q=(()=>{class se{constructor(V,De=null){this.parent=null,this.asyncValidators=V.asyncValidators??null,this.errorMessages=V.errorMessages??null,this.hidden=!!C(V.hidden)&&V.hidden,this.id=V.id,this.label=V.label??null,this.labelTooltip=V.labelTooltip??null,this.controlTooltip=V.controlTooltip??null,this.layout=De,this.name=V.name??V.id,this.relations=Array.isArray(V.relations)?V.relations:[],this.updateOn=L(V.updateOn)?V.updateOn:null,this.validators=V.validators??null,this._disabled=!!C(V.disabled)&&V.disabled,this.disabled$=new a.X(this._disabled),this.disabled$.subscribe(rt=>this._disabled=rt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(V){this.disabled$.next(V)}get hasErrorMessages(){return U(this.errorMessages)}toJSON(){return oe(this)}}return(0,n.__decorate)([w()],se.prototype,"asyncValidators",void 0),(0,n.__decorate)([w("disabled")],se.prototype,"_disabled",void 0),(0,n.__decorate)([w()],se.prototype,"errorMessages",void 0),(0,n.__decorate)([w()],se.prototype,"hidden",void 0),(0,n.__decorate)([w()],se.prototype,"id",void 0),(0,n.__decorate)([w()],se.prototype,"label",void 0),(0,n.__decorate)([w()],se.prototype,"labelTooltip",void 0),(0,n.__decorate)([w()],se.prototype,"controlTooltip",void 0),(0,n.__decorate)([w()],se.prototype,"layout",void 0),(0,n.__decorate)([w()],se.prototype,"name",void 0),(0,n.__decorate)([w()],se.prototype,"relations",void 0),(0,n.__decorate)([w()],se.prototype,"updateOn",void 0),(0,n.__decorate)([w()],se.prototype,"validators",void 0),se})(),ee=(()=>{class se extends q{constructor(V,De){super(V,De),this.additional=U(V.additional)?V.additional:null,this.hint=V.hint??null,this.required=!!C(V.required)&&V.required,this.tabIndex=V.tabIndex??null,this._value=V.value??null,this.value$=new a.X(this._value),this.value$.subscribe(rt=>this._value=rt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(V){this.value$.next(V)}getAdditional(V,De){return null!==this.additional&&this.additional.hasOwnProperty(V)?this.additional[V]:De}}return(0,n.__decorate)([w()],se.prototype,"additional",void 0),(0,n.__decorate)([w()],se.prototype,"hint",void 0),(0,n.__decorate)([w()],se.prototype,"required",void 0),(0,n.__decorate)([w()],se.prototype,"tabIndex",void 0),(0,n.__decorate)([w("value")],se.prototype,"_value",void 0),se})(),J=(()=>{class se{constructor(V,De=[],rt=-1){this.$implicit=this,this.context=V,this.group=De,this.index=rt}get parent(){return this.context}get(V){return this.group[V]}toJSON(){return oe(this)}}return(0,n.__decorate)([w()],se.prototype,"group",void 0),(0,n.__decorate)([w()],se.prototype,"index",void 0),se})();const Ee="ARRAY";let Oe=(()=>{class se extends q{constructor(V,De){if(super(V,De),this.groups=[],this.type=Ee,!T(V.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=V.groupFactory,this.groupAsyncValidators=V.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=V.groupValidators??null,this.initialCount=g(V.initialCount)?V.initialCount:1,Array.isArray(V.groups))V.groups.forEach((rt,Wt)=>{this.groups.push(new J(this,rt.group,rt.index??Wt))});else for(let rt=0;rt<this.initialCount;rt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((V,De)=>V.index=De)}get size(){return this.groups.length}get(V){return this.groups[V]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(V){const De=new J(this,this.groupFactory());return this.groups.splice(V,0,De),this.updateGroupIndex(),De}moveGroup(V,De){this.groups.splice(V+De,0,...this.groups.splice(V,1)),this.updateGroupIndex()}removeGroup(V){this.groups.splice(V,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,n.__decorate)([w()],se.prototype,"groupAsyncValidators",void 0),(0,n.__decorate)([w()],se.prototype,"groupValidators",void 0),(0,n.__decorate)([w()],se.prototype,"groups",void 0),(0,n.__decorate)([w()],se.prototype,"initialCount",void 0),(0,n.__decorate)([w()],se.prototype,"groupPrototype",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),Re=(()=>{class se extends ee{constructor(V,De){super(V,De),this.labelPosition=V.labelPosition??null,this.checked=!!C(this.value)&&this.value}get checked(){return this.value??!1}set checked(V){this.value=V}toggle(){this.checked=!this.checked}}return(0,n.__decorate)([w()],se.prototype,"labelPosition",void 0),se})();const ve="CHECKBOX";let Pe=(()=>{class se extends Re{constructor(V,De){super(V,De),this.type=ve,this.indeterminate=!!C(V.indeterminate)&&V.indeterminate}}return(0,n.__decorate)([w()],se.prototype,"indeterminate",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),et=(()=>{class se extends ee{constructor(V,De){super(V,De),this.autoComplete=V.autoComplete??"on",this.autoFocus=!!C(V.autoFocus)&&V.autoFocus,this.maxLength=g(V.maxLength)?V.maxLength:null,this.minLength=g(V.minLength)?V.minLength:null,this.placeholder=V.placeholder??"",this.prefix=V.prefix??null,this.readOnly=!!C(V.readOnly)&&V.readOnly,this.spellCheck=!!C(V.spellCheck)&&V.spellCheck,this.suffix=V.suffix??null}}return(0,n.__decorate)([w()],se.prototype,"autoComplete",void 0),(0,n.__decorate)([w()],se.prototype,"autoFocus",void 0),(0,n.__decorate)([w()],se.prototype,"maxLength",void 0),(0,n.__decorate)([w()],se.prototype,"minLength",void 0),(0,n.__decorate)([w()],se.prototype,"placeholder",void 0),(0,n.__decorate)([w()],se.prototype,"prefix",void 0),(0,n.__decorate)([w()],se.prototype,"readOnly",void 0),(0,n.__decorate)([w()],se.prototype,"spellCheck",void 0),(0,n.__decorate)([w()],se.prototype,"suffix",void 0),se})();const Ze="INPUT";let gt=(()=>{class se extends et{constructor(V,De){super(V,De),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=Ze,this.accept=V.accept??null,this.inputType=V.inputType??"text",this.mask=V.mask??"",this.maskConfig=V.maskConfig?{...o.um,...V.maskConfig}:o.um,this.max=void 0!==V.max?V.max:null,this.min=void 0!==V.min?V.min:null,this.multiple=C(V.multiple)?V.multiple:null,this.pattern=V.pattern??null,this.step=g(V.step)?V.step:null,void 0!==V.list&&(this.list=V.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,i.b)(this.list$)}set list(V){Array.isArray(V)?(this._list=V,this.list$=(0,d.of)(this._list)):(0,i.b)(V)?this.list$=V.pipe((0,p.b)(De=>this._list=De)):(this._list=null,this.list$=null)}}return(0,n.__decorate)([w()],se.prototype,"accept",void 0),(0,n.__decorate)([w()],se.prototype,"inputType",void 0),(0,n.__decorate)([w()],se.prototype,"mask",void 0),(0,n.__decorate)([w()],se.prototype,"maskConfig",void 0),(0,n.__decorate)([w()],se.prototype,"max",void 0),(0,n.__decorate)([w()],se.prototype,"min",void 0),(0,n.__decorate)([w()],se.prototype,"multiple",void 0),(0,n.__decorate)([w()],se.prototype,"pattern",void 0),(0,n.__decorate)([w()],se.prototype,"step",void 0),(0,n.__decorate)([w("list")],se.prototype,"_list",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();var it=(()=>{return(se=it||(it={})).Start="START",se.End="END",it;var se})();let ht=(()=>{class se{constructor(V){this.templateRef=V,this.align=it.End,this.as=null}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.TemplateRef))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),se})(),St=(()=>{class se{findById(V,De){if(U(De))for(const rt of Object.keys(De))if(rt===V)return De[rt];return null}findByModel(V,De){let rt=null;if(U(De))for(const Wt of Object.keys(De))Wt.split(",").forEach(Dn=>{const xt=Dn.trim();(xt===V.id||xt===V.type)&&(rt=De[Wt])});return rt}filterTemplatesByModel(V,De){return De instanceof t.QueryList||Array.isArray(De)?De.filter(Wt=>Wt.modelId===V.id||Wt.modelType===V.type):[]}getAlignedTemplate(V,De,rt){return this.filterTemplatesByModel(V,De).find(Wt=>null===Wt.as&&Wt.align===rt)}getStartTemplate(V,De){return this.getAlignedTemplate(V,De,it.Start)}getEndTemplate(V,De){return this.getAlignedTemplate(V,De,it.End)}getClass(V,De,rt){if(U(V)&&V.hasOwnProperty(De)){const Wt=V[De];if(Wt.hasOwnProperty(rt))return Wt[rt]}return""}getHostClass(V){let rt="";return U(V)&&["element","grid"].forEach(Wt=>{U(V[Wt])&&L(V[Wt]?.host)&&(rt+=` ${V[Wt]?.host}`)}),rt}getElementId(V){let De=V.id,rt=V.parent;for(;null!==rt;){if(rt instanceof J){De=`${rt.context.id}-${rt.index}-${V.id}`;break}rt=rt.parent}return De}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();var It=(()=>{return(se=It||(It={})).Blur="blur",se.Change="change",se.Submit="submit",It;var se})();const Yt=new t.InjectionToken("DYNAMIC_VALIDATORS"),Mn=new t.InjectionToken("DYNAMIC_ERROR_MESSAGES_MATCHER");let xn=(()=>{class se{constructor(V,De,rt,Wt){this._NG_VALIDATORS=V,this._NG_ASYNC_VALIDATORS=De,this._DYNAMIC_VALIDATORS=rt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=Wt}getValidatorFn(V,De=null,rt=this._NG_VALIDATORS){let Wt;if(D.kI.hasOwnProperty(V)?Wt=D.kI[V]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(V)?Wt=this._DYNAMIC_VALIDATORS.get(V):rt&&(Wt=rt.find(Dn=>Dn.name===V)),void 0===Wt)throw new Error(`validator "${V}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==De?Wt(De):Wt}getValidatorFns(V,De=this._NG_VALIDATORS){let rt=[];return U(V)&&(rt=Object.keys(V).map(Wt=>{const Dn=V[Wt];return this.isValidatorDescriptor(Dn)?this.getValidatorFn(Dn.name,Dn.args,De):this.getValidatorFn(Wt,Dn,De)})),rt}getValidator(V,De=null){return this.getValidatorFn(V,De)}getAsyncValidator(V,De=null){return this.getValidatorFn(V,De,this._NG_ASYNC_VALIDATORS)}getValidators(V){return this.getValidatorFns(V)}getAsyncValidators(V){return this.getValidatorFns(V,this._NG_ASYNC_VALIDATORS)}updateValidators(V,De,rt){rt.validators=V,null===V?De.clearValidators():De.setValidators(this.getValidators(V)),De.updateValueAndValidity()}updateAsyncValidators(V,De,rt){rt.asyncValidators=V,null===V?De.clearAsyncValidators():De.setAsyncValidators(this.getAsyncValidators(V)),De.updateValueAndValidity()}showErrorMessages(V,De,rt){const Wt=V.invalid&&De.hasErrorMessages,Dn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(V,De,rt):((se,he,V)=>se.touched&&!V)(V,0,rt);return Wt&&Dn}parseErrorMessageConfig(V,De,rt=null){return V.replace(/{{\s*(.+?)\s*}}/gm,(Wt,Dn)=>{let xt=De,Un=Dn;return Dn.indexOf("validator.")>=0&&rt&&(xt=rt,Un=Dn.replace("validator.","")),null!=xt[Un]?xt[Un]:null})}createErrorMessages(V,De){const rt=[];if(De.hasErrorMessages){const Wt=De.errorMessages;Object.keys(V.errors||{}).forEach(Dn=>{let xt=Dn;if(("minlength"===Dn||"maxlength"===Dn)&&(xt=xt.replace("length","Length")),Wt.hasOwnProperty(xt)){const Un=V.getError(Dn);rt.push(this.parseErrorMessageConfig(Wt[xt],De,Un))}})}return rt}isFormHook(V){return L(V)&&Object.values(It).includes(V)}isValidatorDescriptor(V){return!!U(V)&&V.hasOwnProperty("name")&&V.hasOwnProperty("args")}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275inject(D.Cf,8),t.\u0275\u0275inject(D.SD,8),t.\u0275\u0275inject(Yt,8),t.\u0275\u0275inject(Mn,8))},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const qn="GROUP";let Rt=(()=>{class se extends q{constructor(V,De){super(V,De),this.type=qn,this.group=Array.isArray(V.group)?V.group:[],this.legend=V.legend??null}get(V){return this.group[V]}set(V,De){this.group[V]=De}add(V){this.group.push(V)}insert(V,De){this.group.splice(V,0,De)}move(V,De){this.group.splice(V+De,0,...this.group.splice(V,1))}remove(V){this.group.splice(V,1)}size(){return this.group.length}}return(0,n.__decorate)([w()],se.prototype,"group",void 0),(0,n.__decorate)([w()],se.prototype,"legend",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();const sn="CHECKBOX_GROUP";let jt=(()=>{class se extends Rt{constructor(V,De){super(V,De),this.type=sn}check(...V){V.forEach(De=>this.group[De].checked=!0)}uncheck(...V){V.forEach(De=>this.group[De].checked=!1)}checkAll(){this.group.forEach(V=>V.checked=!0)}uncheckAll(){this.group.forEach(V=>V.checked=!1)}}return(0,n.__decorate)([w()],se.prototype,"group",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();const zt="COLORPICKER";let on=(()=>{class se extends ee{constructor(V,De){super(V,De),this.type=zt,this.format=L(V.format)?V.format:null,this.inline=!!C(V.inline)&&V.inline}}return(0,n.__decorate)([w()],se.prototype,"format",void 0),(0,n.__decorate)([w()],se.prototype,"inline",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),ke=(()=>{class se extends ee{constructor(V,De){super(V,De),this.format=V.format??null,this.max=V.max??null,this.min=V.min??null,this.placeholder=V.placeholder??null}}return(0,n.__decorate)([w()],se.prototype,"format",void 0),(0,n.__decorate)([w()],se.prototype,"max",void 0),(0,n.__decorate)([w()],se.prototype,"min",void 0),(0,n.__decorate)([w()],se.prototype,"placeholder",void 0),se})();const xe="DATEPICKER";let we=(()=>{class se extends ke{constructor(V,De){super(V,De),this.type=xe,this.autoFocus=!!C(V.autoFocus)&&V.autoFocus,this.focusedDate=V.focusedDate??null,this.inline=!!C(V.inline)&&V.inline,this.prefix=V.prefix??null,this.readOnly=!!C(V.readOnly)&&V.readOnly,this.toggleIcon=L(V.toggleIcon)?V.toggleIcon:null,this.toggleLabel=L(V.toggleLabel)?V.toggleLabel:null,this.suffix=V.suffix??null}}return(0,n.__decorate)([w()],se.prototype,"autoFocus",void 0),(0,n.__decorate)([w()],se.prototype,"focusedDate",void 0),(0,n.__decorate)([w()],se.prototype,"inline",void 0),(0,n.__decorate)([w()],se.prototype,"prefix",void 0),(0,n.__decorate)([w()],se.prototype,"readOnly",void 0),(0,n.__decorate)([w()],se.prototype,"suffix",void 0),(0,n.__decorate)([w()],se.prototype,"toggleIcon",void 0),(0,n.__decorate)([w()],se.prototype,"toggleLabel",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),bt=(()=>{class se extends et{constructor(V,De){super(V,De),this.type="EDITOR"}}return(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),wt=(()=>{class se extends ee{constructor(V,De){super(V,De),this.multiple=!!C(V.multiple)&&V.multiple}}return(0,n.__decorate)([w()],se.prototype,"multiple",void 0),se})();const Xt="FILE_UPLOAD";let Qt=(()=>{class se extends wt{constructor(V,De){super(V,De),this.type=Xt,this.accept=Array.isArray(V.accept)?V.accept:null,this.autoUpload=!C(V.autoUpload)||V.autoUpload,this.maxSize=g(V.maxSize)?V.maxSize:null,this.minSize=g(V.minSize)?V.minSize:null,this.removeUrl=V.removeUrl??null,this.showFileList=!C(V.showFileList)||V.showFileList,this.url=V.url??null}}return(0,n.__decorate)([w()],se.prototype,"accept",void 0),(0,n.__decorate)([w()],se.prototype,"autoUpload",void 0),(0,n.__decorate)([w()],se.prototype,"maxSize",void 0),(0,n.__decorate)([w()],se.prototype,"minSize",void 0),(0,n.__decorate)([w()],se.prototype,"removeUrl",void 0),(0,n.__decorate)([w()],se.prototype,"showFileList",void 0),(0,n.__decorate)([w()],se.prototype,"url",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),Gt=(()=>{class se{constructor(V){this.disabled=!!C(V.disabled)&&V.disabled,this.label=V.label??null,this.value=V.value}get text(){return this.label}set text(V){this.label=V}toJSON(){return oe(this)}}return(0,n.__decorate)([w()],se.prototype,"disabled",void 0),(0,n.__decorate)([w()],se.prototype,"label",void 0),(0,n.__decorate)([w()],se.prototype,"value",void 0),se})(),dn=(()=>{class se extends ee{constructor(V,De){super(V,De),this._options=[],this.options=V.options}updateOptions$(){this.options$=(0,d.of)(this.options)}set options(V){Array.isArray(V)?(this._options=V.map(De=>new Gt(De)),this.updateOptions$()):(0,i.b)(V)?this.options$=V.pipe((0,h.U)(De=>(this._options=De.map(rt=>new Gt(rt)),this._options))):this.updateOptions$()}get options(){return this._options}add(V){return this.insert(this.options.length,V)}get(V){return this.options[V]}insert(V,De){const rt=new Gt(De);return this.options.splice(V,0,rt),this.updateOptions$(),rt}remove(...V){V.forEach(De=>this.options.splice(De,1)),this.updateOptions$()}}return(0,n.__decorate)([w("options")],se.prototype,"_options",void 0),se})();const fn="RADIO_GROUP";let ct=(()=>{class se extends dn{constructor(V,De){super(V,De),this.type=fn,this.legend=V.legend??null}select(V){this.value=this.get(V).value}}return(0,n.__decorate)([w()],se.prototype,"legend",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),Ve=(()=>{class se extends ee{constructor(V,De){super(V,De),this.type="RATING",this.max=g(V.max)?V.max:10}}return(0,n.__decorate)([w()],se.prototype,"max",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();const vt="SELECT";let Bt=(()=>{class se extends dn{constructor(V,De){super(V,De),this.type=vt,this.compareWithFn=T(V.compareWithFn)?V.compareWithFn:Object.is,this.filterable=!!C(V.filterable)&&V.filterable,this.multiple=!!C(V.multiple)&&V.multiple,this.placeholder=V.placeholder??"",this.prefix=V.prefix??null,this.suffix=V.suffix??null}select(...V){this.value=this.multiple?V.map(De=>this.get(De).value):this.get(V[0]).value}}return(0,n.__decorate)([w()],se.prototype,"filterable",void 0),(0,n.__decorate)([w()],se.prototype,"multiple",void 0),(0,n.__decorate)([w()],se.prototype,"placeholder",void 0),(0,n.__decorate)([w()],se.prototype,"prefix",void 0),(0,n.__decorate)([w()],se.prototype,"suffix",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),be=(()=>{class se extends ee{constructor(V,De){super(V,De),this.type="SLIDER",this.max=g(V.max)?V.max:10,this.min=g(V.min)?V.min:0,this.step=g(V.step)?V.step:1,this.vertical=!!C(V.vertical)&&V.vertical}}return(0,n.__decorate)([w()],se.prototype,"max",void 0),(0,n.__decorate)([w()],se.prototype,"min",void 0),(0,n.__decorate)([w()],se.prototype,"step",void 0),(0,n.__decorate)([w()],se.prototype,"vertical",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})(),rn=(()=>{class se extends Re{constructor(V,De){super(V,De),this.type="SWITCH",this.offLabel=V.offLabel??null,this.onLabel=V.onLabel??null}}return(0,n.__decorate)([w()],se.prototype,"offLabel",void 0),(0,n.__decorate)([w()],se.prototype,"onLabel",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();const Cn="TEXTAREA";let En=(()=>{class se extends et{constructor(V,De){super(V,De),this.type=Cn,this.cols=g(V.cols)?V.cols:20,this.rows=g(V.rows)?V.rows:2,this.wrap=V.wrap??"soft"}}return(0,n.__decorate)([w()],se.prototype,"cols",void 0),(0,n.__decorate)([w()],se.prototype,"rows",void 0),(0,n.__decorate)([w()],se.prototype,"wrap",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();const cn="TIMEPICKER";let Pn=(()=>{class se extends ke{constructor(V,De){super(V,De),this.type=cn,this.meridian=!!C(V.meridian)&&V.meridian,this.showSeconds=!!C(V.showSeconds)&&V.showSeconds}}return(0,n.__decorate)([w()],se.prototype,"meridian",void 0),(0,n.__decorate)([w()],se.prototype,"showSeconds",void 0),(0,n.__decorate)([w()],se.prototype,"type",void 0),se})();function In(se,he){return L(he)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(he)?new Date(he):he}let Fn=(()=>{class se{constructor(V,De){this.componentService=V,this.validationService=De}createAbstractControlOptions(V=null,De=null,rt=null){return{asyncValidators:null!==De?this.validationService.getAsyncValidators(De):null,validators:null!==V?this.validationService.getValidators(V):null,updateOn:null!==rt&&this.validationService.isFormHook(rt)?rt:It.Change}}createFormArray(V){const De=[],rt=this.createAbstractControlOptions(V.validators,V.asyncValidators,V.updateOn);for(let Wt=0;Wt<V.size;Wt++){const Dn=V.get(Wt),xt=this.createAbstractControlOptions(V.groupValidators,V.groupAsyncValidators,V.updateOn);De.push(this.createFormGroup(Dn.group,xt,Dn))}return new D.Oe(De,rt)}createFormGroup(V,De=null,rt=null){const Wt={};return V.forEach(Dn=>{switch(Dn.parent=rt,Dn.type){case Ee:Wt[Dn.id]=this.createFormArray(Dn);break;case qn:case sn:const xt=Dn,Un=this.createAbstractControlOptions(xt.validators,xt.asyncValidators,xt.updateOn);Wt[Dn.id]=this.createFormGroup(xt.group,Un,xt);break;default:const ui={value:Dn.value,disabled:Dn.disabled},Jr=this.createAbstractControlOptions(Dn.validators,Dn.asyncValidators,Dn.updateOn);Wt[Dn.id]=new D.NI(ui,Jr)}}),new D.cw(Wt,De)}getPathSegment(V){return V instanceof J?V.index.toString():V.id}getPath(V,De=!1){const rt=[this.getPathSegment(V)];let Wt=V.parent;for(;Wt;)rt.unshift(this.getPathSegment(Wt)),Wt=Wt.parent;return De?rt.join("."):rt}addFormGroupControl(V,De,...rt){De instanceof Rt?this.insertFormGroupControl(De.size(),V,De,...rt):this.insertFormGroupControl(De.length,V,De,...rt)}moveFormGroupControl(V,De,rt){rt instanceof Rt?rt.move(V,De):rt.splice(V+De,0,...rt.splice(V,1))}insertFormGroupControl(V,De,rt,...Wt){const xt=this.createFormGroup(Wt,null,rt instanceof Rt?rt:null).controls;Object.keys(xt).forEach((Un,Zr)=>{const ui=Wt[Zr];rt instanceof Rt?rt.insert(V,ui):rt.splice(V,0,ui),De.addControl(Un,xt[Un])})}removeFormGroupControl(V,De,rt){rt instanceof Rt?(De.removeControl(rt.get(V).id),rt.remove(V)):(De.removeControl(rt[V].id),rt.splice(V,1))}addFormArrayGroup(V,De){const rt=De.addGroup();V.push(this.createFormGroup(rt.group,null,rt))}insertFormArrayGroup(V,De,rt){const Wt=rt.insertGroup(V);De.insert(V,this.createFormGroup(Wt.group,null,Wt))}moveFormArrayGroup(V,De,rt,Wt){const Dn=V+De,xt=De>=0;if(!(V>=0&&V<Wt.size&&Dn>=0&&Dn<Wt.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const Un=[];for(let Zr=xt?V:Dn;Zr<=(xt?Dn:V);Zr++)Un.push(rt.at(Zr));Un.forEach((Zr,ui)=>{let Jr;Jr=xt?0===ui?Dn:V+ui-1:ui===Un.length-1?Dn:Dn+ui+1,rt.setControl(Jr,Zr)}),Wt.moveGroup(V,De)}}removeFormArrayGroup(V,De,rt){De.removeAt(V),rt.removeGroup(V)}clearFormArray(V,De){V.clear(),De.clear()}findById(V,De){const rt=(Dn,xt)=>{for(const Un of xt){if(Un.id===Dn){Wt=Un;break}Un instanceof Rt&&rt(Dn,Un.group)}};let Wt=null;return rt(V,De),Wt}findModelById(V,De){return this.findById(V,De)}findControlByModel(V,De){return De.root.get(this.getPath(V,!0))}detectChanges(V){if(V instanceof ie)V.markForCheck(),V.detectChanges();else for(const De of this.componentService.getForms())De.markForCheck(),De.detectChanges()}fromJSON(V){const De=L(V)?JSON.parse(V,In):V,rt=[];return De.forEach(Wt=>{const Dn=Wt.layout??null;switch(Wt.type){case Ee:const xt=Wt;Array.isArray(xt.groups)&&xt.groups.forEach(Un=>{Un.group=this.fromJSON(Un.group)}),xt.groupFactory=()=>this.fromJSON(xt.groupPrototype),rt.push(new Oe(Wt,Dn));break;case ve:rt.push(new Pe(Wt,Dn));break;case sn:Wt.group=this.fromJSON(Wt.group),rt.push(new jt(Wt,Dn));break;case zt:rt.push(new on(Wt,Dn));break;case xe:rt.push(new we(Wt,Dn));break;case"EDITOR":rt.push(new bt(Wt,Dn));break;case Xt:Wt.value=null,rt.push(new Qt(Wt,Dn));break;case qn:Wt.group=this.fromJSON(Wt.group),rt.push(new Rt(Wt,Dn));break;case Ze:rt.push(new gt(Wt,Dn));break;case fn:rt.push(new ct(Wt,Dn));break;case"RATING":rt.push(new Ve(Wt,Dn));break;case vt:rt.push(new Bt(Wt,Dn));break;case"SLIDER":rt.push(new be(Wt,Dn));break;case"SWITCH":rt.push(new rn(Wt,Dn));break;case Cn:rt.push(new En(Wt,Dn));break;case cn:rt.push(new Pn(Wt,Dn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${Wt.id}"`)}}),rt}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275inject(W),t.\u0275\u0275inject(xn))},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const Yn="ENABLED",yr="VISIBLE",Sn="AND",Qn="OR",hr=new t.InjectionToken("DYNAMIC_MATCHERS"),Ri=[{provide:hr,useValue:{match:"DISABLED",opposingMatch:Yn,onChange(se,he){he.disabled=se}},multi:!0},{provide:hr,useValue:{match:"HIDDEN",opposingMatch:yr,onChange(se,he){he.hidden=se}},multi:!0},{provide:hr,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(se,he,V,De){let rt=null;se?rt=U(he.validators)?{...he.validators,required:null}:{required:null}:U(he.validators)&&(delete he.validators.required,rt={...he.validators}),De.get(xn).updateValidators(rt,V,he),De.get(Fn).detectChanges()}},multi:!0}];let kn=(()=>{class se{constructor(V,De){this.MATCHERS=V,this.injector=De}getRelatedFormControls(V,De){const rt=(Dn,xt)=>{const Un=xt.rootPath??xt.id;if(L(Un)&&!Dn.hasOwnProperty(Un)){const Zr=xt.rootPath?De.root.get(xt.rootPath):De.get(xt.id);Zr instanceof D.NI?Dn[Un]=Zr:console.warn(`No related form control with id ${xt.id} could be found`)}return Dn};return V.relations.reduce((Dn,xt)=>xt.when.reduce(rt,Dn),{})}findRelationByMatcher(V,De){return V.find(rt=>[De.match,De.opposingMatch].includes(rt.match))}matchesCondition(V,De,rt){const Wt=V.operator??Qn;return V.when.reduce((Dn,xt,Un)=>{const Zr=xt.rootPath??xt.id;let ui;for(const[Jr,Ws]of Object.entries(De))if(Jr===Zr){ui=Ws;break}return ui&&V.match===rt.match?!(Un>0&&Wt===Sn&&!Dn||!(Un>0&&Wt===Qn&&Dn)&&xt.value!==ui.value&&xt.status!==ui.status):!(!ui||V.match!==rt.opposingMatch||!(Un>0&&Wt===Sn&&Dn)&&(Un>0&&Wt===Qn&&!Dn||xt.value===ui.value||xt.status===ui.status))},!1)}subscribeRelations(V,De,rt){const Wt=this.getRelatedFormControls(V,De),Dn=[];return Object.values(Wt).forEach(xt=>{const Un=xt.valueChanges.pipe((0,m.O)(xt.value),(0,_.x)()),Zr=xt.statusChanges.pipe((0,m.O)(xt.status),(0,_.x)());Dn.push((0,r.T)(Un,Zr).subscribe(()=>{this.MATCHERS.forEach(ui=>{const Jr=this.findRelationByMatcher(V.relations,ui);if(void 0!==Jr){const Ws=this.matchesCondition(Jr,Wt,ui);ui.onChange(Ws,V,rt,this.injector)}})}))}),Dn}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275inject(hr,8),t.\u0275\u0275inject(t.Injector))},se.\u0275prov=t.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),hi=(()=>{class se{constructor(V,De,rt,Wt,Dn,xt){this.changeDetectorRef=V,this.componentFactoryResolver=De,this.layoutService=rt,this.validationService=Wt,this.componentService=Dn,this.relationService=xt,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(V){const De=V.group,Wt=V.model;(V.layout||Wt)&&this.onLayoutOrModelChange(),Wt&&this.onModelChange(),(De||Wt)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function S(se,he=null){return he=he??se,(0,v.e)((V,De)=>{let rt=[],Wt=0;V.subscribe((0,y.x)(De,Dn=>{let xt=null;Wt++%he==0&&rt.push([]);for(const Un of rt)Un.push(Dn),se<=Un.length&&(xt=xt??[],xt.push(Un));if(xt)for(const Un of xt)(0,O.P)(rt,Un),De.next(Un)},()=>{for(const Dn of rt)De.next(Dn);De.complete()},void 0,()=>{rt=null}))})}(2,1),(0,h.U)(V=>V[0]),(0,b.h)(V=>"PENDING"===V)).subscribe(V=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return L(this.model.label)}get hasHint(){return L(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===ve}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==Ee?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==Ee?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(V,De){return this.layoutService.getClass(this.controlLayout,V,De)}markForCheck(){this.changeDetectorRef.markForCheck();const V=this.componentRef&&this.componentRef.instance;V&&(V instanceof z||V instanceof $)&&V.markForCheck()}createFormControlComponent(){const V=this.componentType;if(null!==V){const De=this.componentFactoryResolver.resolveComponentFactory(V);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(De);const rt=this.componentRef.instance;rt.formLayout=this.layout,rt.group=this.group,rt.layout=this.controlLayout,rt.model=this.model,this.templates&&(rt.templates=this.templates),this.componentSubscriptions.push(rt.blur.subscribe(Wt=>this.onBlur(Wt))),this.componentSubscriptions.push(rt.change.subscribe(Wt=>this.onChange(Wt))),this.componentSubscriptions.push(rt.focus.subscribe(Wt=>this.onFocus(Wt))),void 0!==rt.customEvent&&this.componentSubscriptions.push(rt.customEvent.subscribe(Wt=>this.onCustomEvent(Wt))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(V=>V.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(V,De){return{$event:V,context:this.context,control:this.control,group:this.group,model:this.model,type:De}}unsubscribe(){this.subscriptions.forEach(V=>V.unsubscribe()),this.subscriptions=[]}onControlValueChanges(V){this.model instanceof ee&&this.model.value!==V&&(this.model.value=V)}onModelValueUpdates(V){this.control.value!==V&&this.control.setValue(V)}onModelDisabledUpdates(V){V?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(V=>this.onControlValueChanges(V)))),this.subscriptions.push(this.model.disabledChanges.subscribe(V=>this.onModelDisabledUpdates(V))),this.model instanceof ee&&this.subscriptions.push(this.model.valueChanges.subscribe(De=>this.onModelValueUpdates(De))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(V){if(V instanceof Event){if(this.model.type===Ze){const De=this.model;"file"===De.inputType&&(De.files=V.target.files)}this.change.emit(this.createDynamicFormControlEvent(V,ce.Change))}else ne(V)?this.change.emit(V):this.change.emit(this.createDynamicFormControlEvent(V,ce.Change))}onBlur(V){ne(V)?this.blur.emit(V):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(V,ce.Blur)))}onFocus(V){ne(V)?this.focus.emit(V):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(V,ce.Focus)))}onCustomEvent(V){const De=this.customEvent;ne(V)?De.emit(V):De.emit(this.createDynamicFormControlEvent(V.customEvent,V.customEventType))}registerFormControlComponentRef(V){this.context instanceof J?this.componentService.registerFormControl(this.model,V,this.context.index):this.componentService.registerFormControl(this.model,V)}unregisterFormControlComponentRef(){this.context instanceof J?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ComponentFactoryResolver),t.\u0275\u0275directiveInject(St),t.\u0275\u0275directiveInject(xn),t.\u0275\u0275directiveInject(W),t.\u0275\u0275directiveInject(kn))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,features:[t.\u0275\u0275NgOnChangesFeature]}),se})(),to=(()=>{class se{constructor(V,De){this.elementRef=V,this.renderer=De}ngAfterViewInit(){L(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return se.\u0275fac=function(V){return new(V||se)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))},se.\u0275dir=t.\u0275\u0275defineDirective({type:se,selectors:[["","dynamicList",""]],inputs:{listId:["dynamicList","listId"]}}),se})();const Wi="off";let Yr=(()=>{class se{static forRoot(){return{ngModule:se,providers:[Fn,St,xn,W,kn]}}}return se.\u0275fac=function(V){return new(V||se)},se.\u0275mod=t.\u0275\u0275defineNgModule({type:se}),se.\u0275inj=t.\u0275\u0275defineInjector({imports:[[M.ez,D.UX]]}),se})()},589:(R,c,e)=>{"use strict";e.d(c,{eX:()=>J,sQ:()=>Yt,jK:()=>yt,GW:()=>re,l4:()=>Ee});var t=e(29054),n=e(42878),a=e(1828),i=e(81510),d=e(27164),r=e(9237),l=e(99911),p=e(48490);class m{constructor(sn,jt,zt){this.kind=sn,this.value=jt,this.error=zt,this.hasValue="N"===sn}observe(sn){return _(this,sn)}do(sn,jt,zt){const{kind:on,value:ke,error:xe}=this;return"N"===on?sn?.(ke):"E"===on?jt?.(xe):zt?.()}accept(sn,jt,zt){var on;return(0,p.m)(null===(on=sn)||void 0===on?void 0:on.next)?this.observe(sn):this.do(sn,jt,zt)}toObservable(){const{kind:sn,value:jt,error:zt}=this,on="N"===sn?(0,r.of)(jt):"E"===sn?(0,l._)(()=>zt):"C"===sn?d.E:0;if(!on)throw new TypeError(`Unexpected notification kind ${sn}`);return on}static createNext(sn){return new m("N",sn)}static createError(sn){return new m("E",void 0,sn)}static createComplete(){return m.completeNotification}}function _(Rt,sn){var jt,zt,on;const{kind:ke,value:xe,error:we}=Rt;if("string"!=typeof ke)throw new TypeError('Invalid notification, missing "kind"');"N"===ke?null===(jt=sn.next)||void 0===jt||jt.call(sn,xe):"E"===ke?null===(zt=sn.error)||void 0===zt||zt.call(sn,we):null===(on=sn.complete)||void 0===on||on.call(sn)}m.completeNotification=new m("C");var v=e(77025),y=e(58886),S=e(48358),b=e(9249),o=e(77007),D=e(73522);function M(Rt,sn,jt,zt){return(0,v.e)((on,ke)=>{let xe;sn&&"function"!=typeof sn?({duration:jt,element:xe,connector:zt}=sn):xe=sn;const we=new Map,pt=dn=>{we.forEach(dn),dn(ke)},bt=dn=>pt(fn=>fn.error(dn));let wt=0,Xt=!1;const Qt=new y.Q(ke,dn=>{try{const fn=Rt(dn);let ct=we.get(fn);if(!ct){we.set(fn,ct=zt?zt():new a.x);const Mt=function Gt(dn,fn){const ct=new n.y(Mt=>{wt++;const Ve=fn.subscribe(Mt);return()=>{Ve.unsubscribe(),0==--wt&&Xt&&Qt.unsubscribe()}});return ct.key=dn,ct}(fn,ct);if(ke.next(Mt),jt){const Ve=(0,y.x)(ct,()=>{ct.complete(),Ve?.unsubscribe()},void 0,void 0,()=>we.delete(fn));Qt.add((0,D.Xf)(jt(Mt)).subscribe(Ve))}}ct.next(xe?xe(dn):dn)}catch(fn){bt(fn)}},()=>pt(dn=>dn.complete()),bt,()=>we.clear(),()=>(Xt=!0,0===wt));on.subscribe(Qt)})}var C=e(69637),T=e(87317),U=e(77176),L=e(98678),j=e(89702);const $={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},z="__@ngrx/effects_create__";function re(Rt,sn={}){const jt=sn.functional?Rt:Rt(),zt={...$,...sn};return Object.defineProperty(jt,z,{value:zt}),jt}function ne(Rt){return Object.getPrototypeOf(Rt)}function w(Rt){return"function"==typeof Rt}function Q(Rt){return Rt.filter(w)}function oe(Rt,sn,jt){const zt=ne(Rt).constructor.name,on=function ce(Rt){return function W(Rt){return Object.getOwnPropertyNames(Rt).filter(zt=>!(!Rt[zt]||!Rt[zt].hasOwnProperty(z))&&Rt[zt][z].hasOwnProperty("dispatch")).map(zt=>({propertyName:zt,...Rt[zt][z]}))}(Rt)}(Rt).map(({propertyName:ke,dispatch:xe,useEffectsErrorHandler:we})=>{const pt="function"==typeof Rt[ke]?Rt[ke]():Rt[ke],bt=we?jt(pt,sn):pt;return!1===xe?bt.pipe((0,i.l)()):bt.pipe(function O(){return(0,v.e)((Rt,sn)=>{Rt.subscribe((0,y.x)(sn,jt=>{sn.next(m.createNext(jt))},()=>{sn.next(m.createComplete()),sn.complete()},jt=>{sn.next(m.createError(jt)),sn.complete()}))})}()).pipe((0,S.U)(Xt=>({effect:Rt[ke],notification:Xt,propertyName:ke,sourceName:zt,sourceInstance:Rt})))});return(0,t.T)(...on)}const q=10;function ee(Rt,sn,jt=q){return Rt.pipe((0,b.K)(zt=>(sn&&sn.handleError(zt),jt<=1?Rt:ee(Rt,sn,jt-1))))}let J=(()=>{class Rt extends n.y{constructor(jt){super(),jt&&(this.source=jt)}lift(jt){const zt=new Rt;return zt.source=this,zt.operator=jt,zt}}return Rt.\u0275fac=function(jt){return new(jt||Rt)(L.\u0275\u0275inject(j.Y$))},Rt.\u0275prov=L.\u0275\u0275defineInjectable({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})();function Ee(...Rt){return(0,o.h)(sn=>Rt.some(jt=>"string"==typeof jt?jt===sn.type:jt.type===sn.type))}const Oe=new L.InjectionToken("@ngrx/effects Internal Root Guard"),Re=new L.InjectionToken("@ngrx/effects User Provided Effects"),ve=new L.InjectionToken("@ngrx/effects Internal Root Effects"),Pe=new L.InjectionToken("@ngrx/effects Internal Root Effects Instances"),et=new L.InjectionToken("@ngrx/effects Internal Feature Effects"),Ze=new L.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),tt=new L.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ee}),yt="@ngrx/effects/init";(0,j.PH)(yt);const $t="ngrxOnIdentifyEffects",ft="ngrxOnInitEffects";function Je(Rt){return Ge(Rt,ft)}function Ge(Rt,sn){return Rt&&sn in Rt&&"function"==typeof Rt[sn]}let qe=(()=>{class Rt extends a.x{constructor(jt,zt){super(),this.errorHandler=jt,this.effectsErrorHandler=zt}addEffects(jt){this.next(jt)}toActions(){return this.pipe(M(jt=>function K(Rt){return"Object"!==Rt.constructor.name&&"Function"!==Rt.constructor.name}(jt)?ne(jt):jt),(0,C.z)(jt=>jt.pipe(M(gt))),(0,C.z)(jt=>{const zt=jt.pipe((0,T.z)(ke=>function it(Rt,sn){return jt=>{const zt=oe(jt,Rt,sn);return function Qe(Rt){return Ge(Rt,"ngrxOnRunEffects")}(jt)?jt.ngrxOnRunEffects(zt):zt}}(this.errorHandler,this.effectsErrorHandler)(ke)),(0,S.U)(ke=>(function mt(Rt,sn){if("N"===Rt.notification.kind){const jt=Rt.notification.value;!function Dt(Rt){return"function"!=typeof Rt&&Rt&&Rt.type&&"string"==typeof Rt.type}(jt)&&sn.handleError(new Error(`Effect ${function At({propertyName:Rt,sourceInstance:sn,sourceName:jt}){const zt="function"==typeof sn[Rt];return`"${jt}.${String(Rt)}${zt?"()":""}"`}(Rt)} dispatched an invalid action: ${function Jt(Rt){try{return JSON.stringify(Rt)}catch{return Rt}}(jt)}`))}}(ke,this.errorHandler),ke.notification)),(0,o.h)(ke=>"N"===ke.kind&&null!=ke.value),function g(){return(0,v.e)((Rt,sn)=>{Rt.subscribe((0,y.x)(sn,jt=>_(jt,sn)))})}()),on=jt.pipe((0,U.q)(1),(0,o.h)(Je),(0,S.U)(ke=>ke.ngrxOnInitEffects()));return(0,t.T)(zt,on)}))}}return Rt.\u0275fac=function(jt){return new(jt||Rt)(L.\u0275\u0275inject(L.ErrorHandler),L.\u0275\u0275inject(tt))},Rt.\u0275prov=L.\u0275\u0275defineInjectable({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})();function gt(Rt){return function lt(Rt){return Ge(Rt,$t)}(Rt)?Rt.ngrxOnIdentifyEffects():""}let ht=(()=>{class Rt{constructor(jt,zt){this.effectSources=jt,this.store=zt,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return Rt.\u0275fac=function(jt){return new(jt||Rt)(L.\u0275\u0275inject(qe),L.\u0275\u0275inject(j.yh))},Rt.\u0275prov=L.\u0275\u0275defineInjectable({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})(),St=(()=>{class Rt{constructor(jt,zt,on,ke,xe,we,pt){this.sources=jt,zt.start();for(const bt of ke)jt.addEffects(bt);on.dispatch({type:yt})}addEffects(jt){this.sources.addEffects(jt)}}return Rt.\u0275fac=function(jt){return new(jt||Rt)(L.\u0275\u0275inject(qe),L.\u0275\u0275inject(ht),L.\u0275\u0275inject(j.yh),L.\u0275\u0275inject(Pe),L.\u0275\u0275inject(j.cr,8),L.\u0275\u0275inject(j.CK,8),L.\u0275\u0275inject(Oe,8))},Rt.\u0275mod=L.\u0275\u0275defineNgModule({type:Rt}),Rt.\u0275inj=L.\u0275\u0275defineInjector({}),Rt})(),It=(()=>{class Rt{constructor(jt,zt,on,ke){const xe=zt.flat();for(const we of xe)jt.addEffects(we)}}return Rt.\u0275fac=function(jt){return new(jt||Rt)(L.\u0275\u0275inject(St),L.\u0275\u0275inject(Ze),L.\u0275\u0275inject(j.cr,8),L.\u0275\u0275inject(j.CK,8))},Rt.\u0275mod=L.\u0275\u0275defineNgModule({type:Rt}),Rt.\u0275inj=L.\u0275\u0275defineInjector({}),Rt})(),Yt=(()=>{class Rt{static forFeature(...jt){const zt=jt.flat(),on=Q(zt);return{ngModule:It,providers:[on,{provide:et,multi:!0,useValue:zt},{provide:Re,multi:!0,useValue:[]},{provide:Ze,multi:!0,useFactory:en,deps:[et,Re]}]}}static forRoot(...jt){const zt=jt.flat(),on=Q(zt);return{ngModule:St,providers:[on,{provide:ve,useValue:[zt]},{provide:Oe,useFactory:Tt},{provide:Re,multi:!0,useValue:[]},{provide:Pe,useFactory:en,deps:[ve,Re]}]}}}return Rt.\u0275fac=function(jt){return new(jt||Rt)},Rt.\u0275mod=L.\u0275\u0275defineNgModule({type:Rt}),Rt.\u0275inj=L.\u0275\u0275defineInjector({}),Rt})();function en(Rt,sn){const jt=[];for(const zt of Rt)jt.push(...zt);for(const zt of sn)jt.push(...zt);return jt.map(zt=>w(zt)?(0,L.inject)(zt):zt)}function Tt(){const Rt=(0,L.inject)(ht,{optional:!0,skipSelf:!0}),sn=(0,L.inject)(ve,{self:!0});if((1!==sn.length||0!==sn[0].length)&&Rt)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},80233:(R,c,e)=>{"use strict";e.d(c,{GC:()=>U,Qi:()=>W,mg:()=>S,tE:()=>l});var t=e(89702),n=e(98678),a=e(67522),i=e(22040);const d="@ngrx/router-store/request",l=((0,t.PH)(d,(0,t.Ky)()),"@ngrx/router-store/navigation"),h=((0,t.PH)(l,(0,t.Ky)()),"@ngrx/router-store/cancel"),_=((0,t.PH)(h,(0,t.Ky)()),"@ngrx/router-store/error"),y=((0,t.PH)(_,(0,t.Ky)()),"@ngrx/router-store/navigated");function S(K,w){const Q=w;switch(Q.type){case l:case _:case h:return{state:Q.payload.routerState,navigationId:Q.payload.event.id};default:return K}}(0,t.PH)(y,(0,t.Ky)());class b{serialize(w){return{root:this.serializeRoute(w.root),url:w.url}}serializeRoute(w){const Q=w.children.map(oe=>this.serializeRoute(oe));return{params:w.params,data:w.data,url:w.url,outlet:w.outlet,title:w.title,routeConfig:w.routeConfig?{path:w.routeConfig.path,pathMatch:w.routeConfig.pathMatch,redirectTo:w.routeConfig.redirectTo,outlet:w.routeConfig.outlet,title:"string"==typeof w.routeConfig.title?w.routeConfig.title:void 0}:null,queryParams:w.queryParams,fragment:w.fragment,firstChild:Q[0],children:Q}}}var o=(()=>{return(K=o||(o={}))[K.PreActivation=1]="PreActivation",K[K.PostActivation=2]="PostActivation",o;var K})();const D="router",M=new n.InjectionToken("@ngrx/router-store Internal Configuration"),C=new n.InjectionToken("@ngrx/router-store Configuration");function T(K){return{stateKey:D,serializer:b,navigationActionTiming:o.PreActivation,...K}}class g{serialize(w){return{root:this.serializeRoute(w.root),url:w.url}}serializeRoute(w){const Q=w.children.map(oe=>this.serializeRoute(oe));return{params:w.params,paramMap:w.paramMap,data:w.data,url:w.url,outlet:w.outlet,title:w.title,routeConfig:w.routeConfig?{component:w.routeConfig.component,path:w.routeConfig.path,pathMatch:w.routeConfig.pathMatch,redirectTo:w.routeConfig.redirectTo,outlet:w.routeConfig.outlet,title:w.routeConfig.title}:null,queryParams:w.queryParams,queryParamMap:w.queryParamMap,fragment:w.fragment,component:w.routeConfig?w.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Q[0],pathFromRoot:void 0,children:Q}}}class U{}var L=(()=>{return(K=L||(L={}))[K.NONE=1]="NONE",K[K.ROUTER=2]="ROUTER",K[K.STORE=3]="STORE",L;var K})();let j=(()=>{class K{constructor(Q,oe,q,ee,J,Ee){this.store=Q,this.router=oe,this.serializer=q,this.errorHandler=ee,this.config=J,this.activeRuntimeChecks=Ee,this.lastEvent=null,this.routerState=null,this.trigger=L.NONE,this.stateKey=this.config.stateKey,!(0,t.rM)()&&(0,n.isDevMode)()&&(Ee?.strictActionSerializability||Ee?.strictStateSerializability)&&this.serializer instanceof g&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,t.Ys)(this.stateKey),(0,i.M)(this.store)).subscribe(([Q,oe])=>{this.navigateIfNeeded(Q,oe)})}navigateIfNeeded(Q,oe){if(!Q||!Q.state||this.trigger===L.ROUTER||this.lastEvent instanceof a.OD)return;const q=Q.state.url;(function $(K,w){return z(K)===z(w)})(this.router.url,q)||(this.storeState=oe,this.trigger=L.STORE,this.router.navigateByUrl(q).catch(ee=>{this.errorHandler.handleError(ee)}))}setUpRouterEventsListener(){const Q=this.config.navigationActionTiming===o.PostActivation;let oe;this.router.events.pipe((0,i.M)(this.store)).subscribe(([q,ee])=>{this.lastEvent=q,q instanceof a.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==L.STORE&&(this.storeState=ee,this.dispatchRouterRequest(q))):q instanceof a.R9?(oe=q,!Q&&this.trigger!==L.STORE&&this.dispatchRouterNavigation(q)):q instanceof a.gk?(this.dispatchRouterCancel(q),this.reset()):q instanceof a.Q3?(this.dispatchRouterError(q),this.reset()):q instanceof a.m2&&(this.trigger!==L.STORE&&(Q&&this.dispatchRouterNavigation(oe),this.dispatchRouterNavigated(q)),this.reset())})}dispatchRouterRequest(Q){this.dispatchRouterAction(d,{event:Q})}dispatchRouterNavigation(Q){const oe=this.serializer.serialize(Q.state);this.dispatchRouterAction(l,{routerState:oe,event:new a.R9(Q.id,Q.url,Q.urlAfterRedirects,oe)})}dispatchRouterCancel(Q){this.dispatchRouterAction(h,{storeState:this.storeState,event:Q})}dispatchRouterError(Q){this.dispatchRouterAction(_,{storeState:this.storeState,event:new a.Q3(Q.id,Q.url,`${Q}`)})}dispatchRouterNavigated(Q){const oe=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(y,{event:Q,routerState:oe})}dispatchRouterAction(Q,oe){this.trigger=L.ROUTER;try{this.store.dispatch({type:Q,payload:{routerState:this.routerState,...oe,event:0===this.config.routerState?oe.event:{id:oe.event.id,url:oe.event.url,urlAfterRedirects:oe.event.urlAfterRedirects}}})}finally{this.trigger=L.NONE}}reset(){this.trigger=L.NONE,this.storeState=null,this.routerState=null}}return K.\u0275fac=function(Q){return new(Q||K)(n.\u0275\u0275inject(t.yh),n.\u0275\u0275inject(a.F0),n.\u0275\u0275inject(U),n.\u0275\u0275inject(n.ErrorHandler),n.\u0275\u0275inject(C),n.\u0275\u0275inject(t.hg))},K.\u0275prov=n.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();function z(K){return K?.length>0&&"/"===K[K.length-1]?K.substring(0,K.length-1):K}function re(K={}){return(0,n.makeEnvironmentProviders)([{provide:M,useValue:K},{provide:C,useFactory:T,deps:[M]},{provide:U,useClass:K.serializer?K.serializer:0===K.routerState?g:b},{provide:n.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,n.inject)(j)},j])}let W=(()=>{class K{static forRoot(Q={}){return{ngModule:K,providers:[re(Q)]}}}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275mod=n.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=n.\u0275\u0275defineInjector({}),K})()},89702:(R,c,e)=>{"use strict";e.d(c,{hg:()=>et,Y$:()=>Je,yh:()=>St,CK:()=>to,Aw:()=>Wi,cr:()=>ai,su:()=>Ee,PH:()=>O,ZF:()=>Ve,P1:()=>fn,rM:()=>wt,Ky:()=>S,Ys:()=>Yt});var t=e(98678),n=e(35841),a=e(42878),i=e(1828),d=e(70180),r=e(91233),l=e(22040),p=e(46897),h=e(48358),_=e(49887);const v={};function O(dt,Zt){if(v[dt]=(v[dt]||0)+1,"function"==typeof Zt)return o(dt,(...ln)=>({...Zt(...ln),type:dt}));switch(Zt?Zt._as:"empty"){case"empty":return o(dt,()=>({type:dt}));case"props":return o(dt,ln=>({...ln,type:dt}));default:throw new Error("Unexpected config.")}}function S(){return{_as:"props",_p:void 0}}function o(dt,Zt){return Object.defineProperty(Zt,"type",{value:dt,writable:!1})}const U="@ngrx/store/init";let L=(()=>{class dt extends n.X{constructor(){super({type:U})}next(Kt){if("function"==typeof Kt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Kt>"u")throw new TypeError("Actions must be objects");if(typeof Kt.type>"u")throw new TypeError("Actions must have a type property");super.next(Kt)}complete(){}ngOnDestroy(){super.complete()}}return dt.\u0275fac=function(Kt){return new(Kt||dt)},dt.\u0275prov=t.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac}),dt})();const j=[L],$=new t.InjectionToken("@ngrx/store Internal Root Guard"),z=new t.InjectionToken("@ngrx/store Internal Initial State"),re=new t.InjectionToken("@ngrx/store Initial State"),W=new t.InjectionToken("@ngrx/store Reducer Factory"),ie=new t.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),ce=new t.InjectionToken("@ngrx/store Initial Reducers"),ne=new t.InjectionToken("@ngrx/store Internal Initial Reducers"),K=new t.InjectionToken("@ngrx/store Store Features"),w=new t.InjectionToken("@ngrx/store Internal Store Reducers"),Q=new t.InjectionToken("@ngrx/store Internal Feature Reducers"),oe=new t.InjectionToken("@ngrx/store Internal Feature Configs"),q=new t.InjectionToken("@ngrx/store Internal Store Features"),ee=new t.InjectionToken("@ngrx/store Internal Feature Reducers Token"),J=new t.InjectionToken("@ngrx/store Feature Reducers"),Ee=new t.InjectionToken("@ngrx/store User Provided Meta Reducers"),Oe=new t.InjectionToken("@ngrx/store Meta Reducers"),Re=new t.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),ve=new t.InjectionToken("@ngrx/store User Runtime Checks Config"),Pe=new t.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),et=new t.InjectionToken("@ngrx/store Internal Runtime Checks"),Ze=new t.InjectionToken("@ngrx/store Check if Action types are unique");function Ne(dt,Zt={}){const Kt=Object.keys(dt),ln={};for(let bn=0;bn<Kt.length;bn++){const $n=Kt[bn];"function"==typeof dt[$n]&&(ln[$n]=dt[$n])}const _n=Object.keys(ln);return function($n,Mr){$n=void 0===$n?Zt:$n;let Ur=!1;const Tr={};for(let Vn=0;Vn<_n.length;Vn++){const Xn=_n[Vn],li=$n[Xn],Wr=(0,ln[Xn])(li,Mr);Tr[Xn]=Wr,Ur=Ur||Wr!==li}return Ur?Tr:$n}}function Dt(...dt){return function(Zt){if(0===dt.length)return Zt;const Kt=dt[dt.length-1];return dt.slice(0,-1).reduceRight((_n,bn)=>bn(_n),Kt(Zt))}}function At(dt,Zt){return Array.isArray(Zt)&&Zt.length>0&&(dt=Dt.apply(null,[...Zt,dt])),(Kt,ln)=>{const _n=dt(Kt);return(bn,$n)=>_n(bn=void 0===bn?ln:bn,$n)}}new t.InjectionToken("@ngrx/store Root Store Provider"),new t.InjectionToken("@ngrx/store Feature State Provider");class $t extends a.y{}class lt extends L{}let Qe=(()=>{class dt extends n.X{constructor(Kt,ln,_n,bn){super(bn(_n,ln)),this.dispatcher=Kt,this.initialState=ln,this.reducers=_n,this.reducerFactory=bn}get currentReducers(){return this.reducers}addFeature(Kt){this.addFeatures([Kt])}addFeatures(Kt){const ln=Kt.reduce((_n,{reducers:bn,reducerFactory:$n,metaReducers:Mr,initialState:Ur,key:Tr})=>{const Vn="function"==typeof bn?function Jt(dt){const Zt=Array.isArray(dt)&&dt.length>0?Dt(...dt):Kt=>Kt;return(Kt,ln)=>(Kt=Zt(Kt),(_n,bn)=>Kt(_n=void 0===_n?ln:_n,bn))}(Mr)(bn,Ur):At($n,Mr)(bn,Ur);return _n[Tr]=Vn,_n},{});this.addReducers(ln)}removeFeature(Kt){this.removeFeatures([Kt])}removeFeatures(Kt){this.removeReducers(Kt.map(ln=>ln.key))}addReducer(Kt,ln){this.addReducers({[Kt]:ln})}addReducers(Kt){this.reducers={...this.reducers,...Kt},this.updateReducers(Object.keys(Kt))}removeReducer(Kt){this.removeReducers([Kt])}removeReducers(Kt){Kt.forEach(ln=>{this.reducers=function mt(dt,Zt){return Object.keys(dt).filter(Kt=>Kt!==Zt).reduce((Kt,ln)=>Object.assign(Kt,{[ln]:dt[ln]}),{})}(this.reducers,ln)}),this.updateReducers(Kt)}updateReducers(Kt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:Kt})}ngOnDestroy(){this.complete()}}return dt.\u0275fac=function(Kt){return new(Kt||dt)(t.\u0275\u0275inject(lt),t.\u0275\u0275inject(re),t.\u0275\u0275inject(ce),t.\u0275\u0275inject(W))},dt.\u0275prov=t.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac}),dt})();const ft=[Qe,{provide:$t,useExisting:Qe},{provide:lt,useExisting:L}];let Je=(()=>{class dt extends i.x{ngOnDestroy(){this.complete()}}return dt.\u0275fac=function(){let Zt;return function(ln){return(Zt||(Zt=t.\u0275\u0275getInheritedFactory(dt)))(ln||dt)}}(),dt.\u0275prov=t.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac}),dt})();const Ge=[Je];class qe extends a.y{}let gt=(()=>{class dt extends n.X{constructor(Kt,ln,_n,bn){super(bn);const Tr=Kt.pipe((0,r.Q)(d.N)).pipe((0,l.M)(ln)).pipe((0,p.R)(it,{state:bn}));this.stateSubscription=Tr.subscribe(({state:Vn,action:Xn})=>{this.next(Vn),_n.next(Xn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return dt.INIT=U,dt.\u0275fac=function(Kt){return new(Kt||dt)(t.\u0275\u0275inject(L),t.\u0275\u0275inject($t),t.\u0275\u0275inject(Je),t.\u0275\u0275inject(re))},dt.\u0275prov=t.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac}),dt})();function it(dt={state:void 0},[Zt,Kt]){const{state:ln}=dt;return{state:Kt(ln,Zt),action:Zt}}const ht=[gt,{provide:qe,useExisting:gt}];let St=(()=>{class dt extends a.y{constructor(Kt,ln,_n){super(),this.actionsObserver=ln,this.reducerManager=_n,this.source=Kt}select(Kt,...ln){return Yt.call(null,Kt,...ln)(this)}lift(Kt){const ln=new dt(this,this.actionsObserver,this.reducerManager);return ln.operator=Kt,ln}dispatch(Kt){this.actionsObserver.next(Kt)}next(Kt){this.actionsObserver.next(Kt)}error(Kt){this.actionsObserver.error(Kt)}complete(){this.actionsObserver.complete()}addReducer(Kt,ln){this.reducerManager.addReducer(Kt,ln)}removeReducer(Kt){this.reducerManager.removeReducer(Kt)}}return dt.\u0275fac=function(Kt){return new(Kt||dt)(t.\u0275\u0275inject(qe),t.\u0275\u0275inject(L),t.\u0275\u0275inject(Qe))},dt.\u0275prov=t.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac}),dt})();const It=[St];function Yt(dt,Zt,...Kt){return function(_n){let bn;if("string"==typeof dt){const $n=[Zt,...Kt].filter(Boolean);bn=_n.pipe(function m(...dt){const Zt=dt.length;if(0===Zt)throw new Error("list of properties cannot be empty.");return(0,h.U)(Kt=>{let ln=Kt;for(let _n=0;_n<Zt;_n++){const bn=ln?.[dt[_n]];if(!(typeof bn<"u"))return;ln=bn}return ln})}(dt,...$n))}else{if("function"!=typeof dt)throw new TypeError(`Unexpected type '${typeof dt}' in select operator, expected 'string' or 'function'`);bn=_n.pipe((0,h.U)($n=>dt($n,Zt)))}return bn.pipe((0,_.x)())}}const en="https://ngrx.io/guide/store/configuration/runtime-checks";function Tt(dt){return void 0===dt}function Mn(dt){return null===dt}function xn(dt){return Array.isArray(dt)}function jt(dt){return"object"==typeof dt&&null!==dt}function ke(dt){return"function"==typeof dt}let pt=!1;function wt(){return pt}function Xt(dt,Zt){return dt===Zt}function dn(dt,Zt=Xt,Kt=Xt){let bn,ln=null,_n=null;return{memoized:function Tr(){if(void 0!==bn)return bn.result;if(!ln)return _n=dt.apply(null,arguments),ln=arguments,_n;if(!function Qt(dt,Zt,Kt){for(let ln=0;ln<dt.length;ln++)if(!Kt(dt[ln],Zt[ln]))return!0;return!1}(arguments,ln,Zt))return _n;const Vn=dt.apply(null,arguments);return ln=arguments,Kt(_n,Vn)?_n:(_n=Vn,Vn)},reset:function $n(){ln=null,_n=null},setResult:function Mr(Vn){bn={result:Vn}},clearResult:function Ur(){bn=void 0}}}function fn(...dt){return function Mt(dt,Zt={stateFn:ct}){return function(...Kt){let ln=Kt;if(Array.isArray(ln[0])){const[Vn,...Xn]=ln;ln=[...Vn,...Xn]}else 1===ln.length&&function vt(dt){return!!dt&&"object"==typeof dt&&Object.values(dt).every(Zt=>"function"==typeof Zt)}(ln[0])&&(ln=function Bt(dt){const Zt=Object.values(dt),Kt=Object.keys(dt);return[...Zt,(..._n)=>Kt.reduce((bn,$n,Mr)=>({...bn,[$n]:_n[Mr]}),{})]}(ln[0]));const _n=ln.slice(0,ln.length-1),bn=ln[ln.length-1],$n=_n.filter(Vn=>Vn.release&&"function"==typeof Vn.release),Mr=dt(function(...Vn){return bn.apply(null,Vn)}),Ur=dn(function(Vn,Xn){return Zt.stateFn.apply(null,[Vn,_n,Xn,Mr])});return Object.assign(Ur.memoized,{release:function Tr(){Ur.reset(),Mr.reset(),$n.forEach(Vn=>Vn.release())},projector:Mr.memoized,setResult:Ur.setResult,clearResult:Ur.clearResult})}}(dn)(...dt)}function ct(dt,Zt,Kt,ln){if(void 0===Kt){const bn=Zt.map($n=>$n(dt));return ln.memoized.apply(null,bn)}const _n=Zt.map(bn=>bn(dt,Kt));return ln.memoized.apply(null,[..._n,Kt])}function Ve(dt){return fn(Zt=>{const Kt=Zt[dt];return!wt()&&(0,t.isDevMode)()&&!(dt in Zt)&&console.warn(`@ngrx/store: The feature name "${dt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${dt}', ...) or StoreModule.forFeature('${dt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Kt},Zt=>Zt)}function rn(dt){return dt instanceof t.InjectionToken?(0,t.inject)(dt):dt}function Cn(dt,Zt){return Zt.map((Kt,ln)=>{if(dt[ln]instanceof t.InjectionToken){const _n=(0,t.inject)(dt[ln]);return{key:Kt.key,reducerFactory:_n.reducerFactory?_n.reducerFactory:Ne,metaReducers:_n.metaReducers?_n.metaReducers:[],initialState:_n.initialState}}return Kt})}function tr(dt){return dt.map(Zt=>Zt instanceof t.InjectionToken?(0,t.inject)(Zt):Zt)}function hn(dt){return"function"==typeof dt?dt():dt}function En(dt,Zt){return dt.concat(Zt)}function cn(){if((0,t.inject)(St,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Bn(dt){Object.freeze(dt);const Zt=ke(dt);return Object.getOwnPropertyNames(dt).forEach(Kt=>{if(!Kt.startsWith("\u0275")&&function we(dt,Zt){return Object.prototype.hasOwnProperty.call(dt,Zt)}(dt,Kt)&&(!Zt||"caller"!==Kt&&"callee"!==Kt&&"arguments"!==Kt)){const ln=dt[Kt];(jt(ln)||ke(ln))&&!Object.isFrozen(ln)&&Bn(ln)}}),dt}function In(dt,Zt=[]){return(Tt(dt)||Mn(dt))&&0===Zt.length?{path:["root"],value:dt}:Object.keys(dt).reduce((ln,_n)=>{if(ln)return ln;const bn=dt[_n];return function xe(dt){return ke(dt)&&dt.hasOwnProperty("\u0275cmp")}(bn)?ln:!(Tt(bn)||Mn(bn)||function sn(dt){return"number"==typeof dt}(bn)||function Rt(dt){return"boolean"==typeof dt}(bn)||function qn(dt){return"string"==typeof dt}(bn)||xn(bn))&&(function on(dt){if(!function zt(dt){return jt(dt)&&!xn(dt)}(dt))return!1;const Zt=Object.getPrototypeOf(dt);return Zt===Object.prototype||null===Zt}(bn)?In(bn,[...Zt,_n]):{path:[...Zt,_n],value:bn})},!1)}function Fn(dt,Zt){if(!1===dt)return;const Kt=dt.path.join("."),ln=new Error(`Detected unserializable ${Zt} at "${Kt}". ${en}#strict${Zt}serializability`);throw ln.value=dt.value,ln.unserializablePath=Kt,ln}function Yn(dt){return(0,t.isDevMode)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...dt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Er({strictActionSerializability:dt,strictStateSerializability:Zt}){return Kt=>dt||Zt?function An(dt,Zt){return function(Kt,ln){Zt.action(ln)&&Fn(In(ln),"action");const _n=dt(Kt,ln);return Zt.state()&&Fn(In(_n),"state"),_n}}(Kt,{action:ln=>dt&&!si(ln),state:()=>Zt}):Kt}function Ir({strictActionImmutability:dt,strictStateImmutability:Zt}){return Kt=>dt||Zt?function Pn(dt,Zt){return function(Kt,ln){const _n=Zt.action(ln)?Bn(ln):ln,bn=dt(Kt,_n);return Zt.state()?Bn(bn):bn}}(Kt,{action:ln=>dt&&!si(ln),state:()=>Zt}):Kt}function si(dt){return dt.type.startsWith("@ngrx")}function yr({strictActionWithinNgZone:dt}){return Zt=>dt?function er(dt,Zt){return function(Kt,ln){if(Zt.action(ln)&&!t.NgZone.isInAngularZone())throw new Error(`Action '${ln.type}' running outside NgZone. ${en}#strictactionwithinngzone`);return dt(Kt,ln)}}(Zt,{action:Kt=>dt&&!si(Kt)}):Zt}function Sn(dt){return[{provide:Pe,useValue:dt},{provide:ve,useFactory:hr,deps:[Pe]},{provide:et,deps:[ve],useFactory:Yn},{provide:Oe,multi:!0,deps:[et],useFactory:Ir},{provide:Oe,multi:!0,deps:[et],useFactory:Er},{provide:Oe,multi:!0,deps:[et],useFactory:yr}]}function Qn(){return[{provide:Ze,multi:!0,deps:[et],useFactory:Br}]}function hr(dt){return dt}function Br(dt){if(!dt.strictActionTypeUniqueness)return;const Zt=Object.entries(v).filter(([,Kt])=>Kt>1).map(([Kt])=>Kt);if(Zt.length)throw new Error(`Action types are registered more than once, ${Zt.map(Kt=>`"${Kt}"`).join(", ")}. ${en}#strictactiontypeuniqueness`)}function br(dt={},Zt={}){return[{provide:$,useFactory:cn},{provide:z,useValue:Zt.initialState},{provide:re,useFactory:hn,deps:[z]},{provide:ne,useValue:dt},{provide:w,useExisting:dt instanceof t.InjectionToken?dt:ne},{provide:ce,deps:[ne,[new t.Inject(w)]],useFactory:rn},{provide:Ee,useValue:Zt.metaReducers?Zt.metaReducers:[]},{provide:Re,deps:[Oe,Ee],useFactory:En},{provide:ie,useValue:Zt.reducerFactory?Zt.reducerFactory:Ne},{provide:W,deps:[ie,Re],useFactory:At},j,ft,Ge,ht,It,Sn(Zt.runtimeChecks),Qn()]}function hi(dt,Zt,Kt={}){return[{provide:oe,multi:!0,useValue:dt instanceof Object?{}:Kt},{provide:K,multi:!0,useValue:{key:dt instanceof Object?dt.name:dt,reducerFactory:Kt instanceof t.InjectionToken||!Kt.reducerFactory?Ne:Kt.reducerFactory,metaReducers:Kt instanceof t.InjectionToken||!Kt.metaReducers?[]:Kt.metaReducers,initialState:Kt instanceof t.InjectionToken||!Kt.initialState?void 0:Kt.initialState}},{provide:q,deps:[oe,K],useFactory:Cn},{provide:Q,multi:!0,useValue:dt instanceof Object?dt.reducer:Zt},{provide:ee,multi:!0,useExisting:Zt instanceof t.InjectionToken?Zt:Q},{provide:J,multi:!0,deps:[Q,[new t.Inject(ee)]],useFactory:tr},Qn()]}let ai=(()=>{class dt{constructor(Kt,ln,_n,bn,$n,Mr){}}return dt.\u0275fac=function(Kt){return new(Kt||dt)(t.\u0275\u0275inject(L),t.\u0275\u0275inject($t),t.\u0275\u0275inject(Je),t.\u0275\u0275inject(St),t.\u0275\u0275inject($,8),t.\u0275\u0275inject(Ze,8))},dt.\u0275mod=t.\u0275\u0275defineNgModule({type:dt}),dt.\u0275inj=t.\u0275\u0275defineInjector({}),dt})(),to=(()=>{class dt{constructor(Kt,ln,_n,bn,$n){this.features=Kt,this.featureReducers=ln,this.reducerManager=_n;const Mr=Kt.map((Ur,Tr)=>{const Xn=ln.shift()[Tr];return{...Ur,reducers:Xn,initialState:hn(Ur.initialState)}});_n.addFeatures(Mr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return dt.\u0275fac=function(Kt){return new(Kt||dt)(t.\u0275\u0275inject(q),t.\u0275\u0275inject(J),t.\u0275\u0275inject(Qe),t.\u0275\u0275inject(ai),t.\u0275\u0275inject(Ze,8))},dt.\u0275mod=t.\u0275\u0275defineNgModule({type:dt}),dt.\u0275inj=t.\u0275\u0275defineInjector({}),dt})(),Wi=(()=>{class dt{static forRoot(Kt,ln){return{ngModule:ai,providers:[...br(Kt,ln)]}}static forFeature(Kt,ln,_n={}){return{ngModule:to,providers:[...hi(Kt,ln,_n)]}}}return dt.\u0275fac=function(Kt){return new(Kt||dt)},dt.\u0275mod=t.\u0275\u0275defineNgModule({type:dt}),dt.\u0275inj=t.\u0275\u0275defineInjector({}),dt})()},7754:(R,c,e)=>{"use strict";e.d(c,{Y:()=>a,Z:()=>n});var t=e(98678);const n=new t.InjectionToken("REQUEST"),a=new t.InjectionToken("RESPONSE")},96342:(R,c,e)=>{"use strict";e.d(c,{X$:()=>ce,Zw:()=>v,aw:()=>ne,gC:()=>O,sK:()=>W});var t=e(98678),n=e(9237),a=e(29011),i=e(90654),d=e(34146),r=e(43651),l=e(77176),p=e(32210),h=e(48358),m=e(27193),_=e(21160);class v{}let y=(()=>{class K extends v{getTranslation(Q){return(0,n.of)({})}}return K.\u0275fac=function(){let w;return function(oe){return(w||(w=t.\u0275\u0275getInheritedFactory(K)))(oe||K)}}(),K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class O{}let S=(()=>{class K{handle(Q){return Q.key}}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();function b(K,w){if(K===w)return!0;if(null===K||null===w)return!1;if(K!=K&&w!=w)return!0;let q,ee,J,Q=typeof K;if(Q==typeof w&&"object"==Q){if(!Array.isArray(K)){if(Array.isArray(w))return!1;for(ee in J=Object.create(null),K){if(!b(K[ee],w[ee]))return!1;J[ee]=!0}for(ee in w)if(!(ee in J)&&typeof w[ee]<"u")return!1;return!0}if(!Array.isArray(w))return!1;if((q=K.length)==w.length){for(ee=0;ee<q;ee++)if(!b(K[ee],w[ee]))return!1;return!0}}return!1}function o(K){return typeof K<"u"&&null!==K}function D(K){return K&&"object"==typeof K&&!Array.isArray(K)}function M(K,w){let Q=Object.assign({},K);return D(K)&&D(w)&&Object.keys(w).forEach(oe=>{D(w[oe])?oe in K?Q[oe]=M(K[oe],w[oe]):Object.assign(Q,{[oe]:w[oe]}):Object.assign(Q,{[oe]:w[oe]})}),Q}class C{}let T=(()=>{class K extends C{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Q,oe){let q;return q="string"==typeof Q?this.interpolateString(Q,oe):"function"==typeof Q?this.interpolateFunction(Q,oe):Q,q}getValue(Q,oe){let q="string"==typeof oe?oe.split("."):[oe];oe="";do{oe+=q.shift(),!o(Q)||!o(Q[oe])||"object"!=typeof Q[oe]&&q.length?q.length?oe+=".":Q=void 0:(Q=Q[oe],oe="")}while(q.length);return Q}interpolateFunction(Q,oe){return Q(oe)}interpolateString(Q,oe){return oe?Q.replace(this.templateMatcher,(q,ee)=>{let J=this.getValue(oe,ee);return o(J)?J:q}):Q}}return K.\u0275fac=function(){let w;return function(oe){return(w||(w=t.\u0275\u0275getInheritedFactory(K)))(oe||K)}}(),K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class g{}let U=(()=>{class K extends g{compile(Q,oe){return Q}compileTranslations(Q,oe){return Q}}return K.\u0275fac=function(){let w;return function(oe){return(w||(w=t.\u0275\u0275getInheritedFactory(K)))(oe||K)}}(),K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.EventEmitter,this.onLangChange=new t.EventEmitter,this.onDefaultLangChange=new t.EventEmitter}}const j=new t.InjectionToken("USE_STORE"),$=new t.InjectionToken("USE_DEFAULT_LANG"),z=new t.InjectionToken("DEFAULT_LANGUAGE"),re=new t.InjectionToken("USE_EXTEND");let W=(()=>{class K{constructor(Q,oe,q,ee,J,Ee=!0,Oe=!1,Re=!1,ve){this.store=Q,this.currentLoader=oe,this.compiler=q,this.parser=ee,this.missingTranslationHandler=J,this.useDefaultLang=Ee,this.isolate=Oe,this.extend=Re,this.pending=!1,this._onTranslationChange=new t.EventEmitter,this._onLangChange=new t.EventEmitter,this._onDefaultLangChange=new t.EventEmitter,this._langs=[],this._translations={},this._translationRequests={},ve&&this.setDefaultLang(ve)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Q){this.isolate?this._defaultLang=Q:this.store.defaultLang=Q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Q){this.isolate?this._currentLang=Q:this.store.currentLang=Q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Q){this.isolate?this._langs=Q:this.store.langs=Q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Q){this.isolate?this._translations=Q:this.store.translations=Q}setDefaultLang(Q){if(Q===this.defaultLang)return;let oe=this.retrieveTranslations(Q);typeof oe<"u"?(null==this.defaultLang&&(this.defaultLang=Q),oe.pipe((0,l.q)(1)).subscribe(q=>{this.changeDefaultLang(Q)})):this.changeDefaultLang(Q)}getDefaultLang(){return this.defaultLang}use(Q){if(Q===this.currentLang)return(0,n.of)(this.translations[Q]);let oe=this.retrieveTranslations(Q);return typeof oe<"u"?(this.currentLang||(this.currentLang=Q),oe.pipe((0,l.q)(1)).subscribe(q=>{this.changeLang(Q)}),oe):(this.changeLang(Q),(0,n.of)(this.translations[Q]))}retrieveTranslations(Q){let oe;return(typeof this.translations[Q]>"u"||this.extend)&&(this._translationRequests[Q]=this._translationRequests[Q]||this.getTranslation(Q),oe=this._translationRequests[Q]),oe}getTranslation(Q){this.pending=!0;const oe=this.currentLoader.getTranslation(Q).pipe((0,p.d)(1),(0,l.q)(1));return this.loadingTranslations=oe.pipe((0,h.U)(q=>this.compiler.compileTranslations(q,Q)),(0,p.d)(1),(0,l.q)(1)),this.loadingTranslations.subscribe({next:q=>{this.translations[Q]=this.extend&&this.translations[Q]?{...q,...this.translations[Q]}:q,this.updateLangs(),this.pending=!1},error:q=>{this.pending=!1}}),oe}setTranslation(Q,oe,q=!1){oe=this.compiler.compileTranslations(oe,Q),this.translations[Q]=(q||this.extend)&&this.translations[Q]?M(this.translations[Q],oe):oe,this.updateLangs(),this.onTranslationChange.emit({lang:Q,translations:this.translations[Q]})}getLangs(){return this.langs}addLangs(Q){Q.forEach(oe=>{-1===this.langs.indexOf(oe)&&this.langs.push(oe)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Q,oe,q){let ee;if(oe instanceof Array){let J={},Ee=!1;for(let Oe of oe)J[Oe]=this.getParsedResult(Q,Oe,q),(0,a.b)(J[Oe])&&(Ee=!0);if(Ee){const Oe=oe.map(Re=>(0,a.b)(J[Re])?J[Re]:(0,n.of)(J[Re]));return(0,i.D)(Oe).pipe((0,h.U)(Re=>{let ve={};return Re.forEach((Pe,et)=>{ve[oe[et]]=Pe}),ve}))}return J}if(Q&&(ee=this.parser.interpolate(this.parser.getValue(Q,oe),q)),typeof ee>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(ee=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],oe),q)),typeof ee>"u"){let J={key:oe,translateService:this};typeof q<"u"&&(J.interpolateParams=q),ee=this.missingTranslationHandler.handle(J)}return typeof ee<"u"?ee:oe}get(Q,oe){if(!o(Q)||!Q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,m.b)(q=>(q=this.getParsedResult(q,Q,oe),(0,a.b)(q)?q:(0,n.of)(q))));{let q=this.getParsedResult(this.translations[this.currentLang],Q,oe);return(0,a.b)(q)?q:(0,n.of)(q)}}getStreamOnTranslationChange(Q,oe){if(!o(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,d.z)((0,r.P)(()=>this.get(Q,oe)),this.onTranslationChange.pipe((0,_.w)(q=>{const ee=this.getParsedResult(q.translations,Q,oe);return"function"==typeof ee.subscribe?ee:(0,n.of)(ee)})))}stream(Q,oe){if(!o(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,d.z)((0,r.P)(()=>this.get(Q,oe)),this.onLangChange.pipe((0,_.w)(q=>{const ee=this.getParsedResult(q.translations,Q,oe);return(0,a.b)(ee)?ee:(0,n.of)(ee)})))}instant(Q,oe){if(!o(Q)||!Q.length)throw new Error('Parameter "key" required');let q=this.getParsedResult(this.translations[this.currentLang],Q,oe);if((0,a.b)(q)){if(Q instanceof Array){let ee={};return Q.forEach((J,Ee)=>{ee[Q[Ee]]=Q[Ee]}),ee}return Q}return q}set(Q,oe,q=this.currentLang){this.translations[q][Q]=this.compiler.compile(oe,q),this.updateLangs(),this.onTranslationChange.emit({lang:q,translations:this.translations[q]})}changeLang(Q){this.currentLang=Q,this.onLangChange.emit({lang:Q,translations:this.translations[Q]}),null==this.defaultLang&&this.changeDefaultLang(Q)}changeDefaultLang(Q){this.defaultLang=Q,this.onDefaultLangChange.emit({lang:Q,translations:this.translations[Q]})}reloadLang(Q){return this.resetLang(Q),this.getTranslation(Q)}resetLang(Q){this._translationRequests[Q]=void 0,this.translations[Q]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Q>"u"?void 0:(-1!==Q.indexOf("-")&&(Q=Q.split("-")[0]),-1!==Q.indexOf("_")&&(Q=Q.split("_")[0]),Q)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Q}}return K.\u0275fac=function(Q){return new(Q||K)(t.\u0275\u0275inject(L),t.\u0275\u0275inject(v),t.\u0275\u0275inject(g),t.\u0275\u0275inject(C),t.\u0275\u0275inject(O),t.\u0275\u0275inject($),t.\u0275\u0275inject(j),t.\u0275\u0275inject(re),t.\u0275\u0275inject(z))},K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})(),ce=(()=>{class K{constructor(Q,oe){this.translate=Q,this._ref=oe,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Q,oe,q){let ee=J=>{this.value=void 0!==J?J:Q,this.lastKey=Q,this._ref.markForCheck()};if(q){let J=this.translate.getParsedResult(q,Q,oe);(0,a.b)(J.subscribe)?J.subscribe(ee):ee(J)}this.translate.get(Q,oe).subscribe(ee)}transform(Q,...oe){if(!Q||!Q.length)return Q;if(b(Q,this.lastKey)&&b(oe,this.lastParams))return this.value;let q;if(o(oe[0])&&oe.length)if("string"==typeof oe[0]&&oe[0].length){let ee=oe[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{q=JSON.parse(ee)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${oe[0]}`)}}else"object"==typeof oe[0]&&!Array.isArray(oe[0])&&(q=oe[0]);return this.lastKey=Q,this.lastParams=oe,this.updateValue(Q,q),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(ee=>{this.lastKey&&ee.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Q,q,ee.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(ee=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,q,ee.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,q))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return K.\u0275fac=function(Q){return new(Q||K)(t.\u0275\u0275directiveInject(W,16),t.\u0275\u0275directiveInject(t.ChangeDetectorRef,16))},K.\u0275pipe=t.\u0275\u0275definePipe({name:"translate",type:K,pure:!1}),K.\u0275prov=t.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})(),ne=(()=>{class K{static forRoot(Q={}){return{ngModule:K,providers:[Q.loader||{provide:v,useClass:y},Q.compiler||{provide:g,useClass:U},Q.parser||{provide:C,useClass:T},Q.missingTranslationHandler||{provide:O,useClass:S},L,{provide:j,useValue:Q.isolate},{provide:$,useValue:Q.useDefaultLang},{provide:re,useValue:Q.extend},{provide:z,useValue:Q.defaultLanguage},W]}}static forChild(Q={}){return{ngModule:K,providers:[Q.loader||{provide:v,useClass:y},Q.compiler||{provide:g,useClass:U},Q.parser||{provide:C,useClass:T},Q.missingTranslationHandler||{provide:O,useClass:S},{provide:j,useValue:Q.isolate},{provide:$,useValue:Q.useDefaultLang},{provide:re,useValue:Q.extend},{provide:z,useValue:Q.defaultLanguage},W]}}}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275mod=t.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=t.\u0275\u0275defineInjector({}),K})()},18603:(R,c,e)=>{"use strict";e.d(c,{ij:()=>S,w0:()=>o});var t=e(98678),n=e(35103),a=e(92527),i=e(99911);const d={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},r={easeInQuad:D=>D*D,easeOutQuad:D=>D*(2-D),easeInOutQuad:D=>D<.5?2*D*D:(4-2*D)*D-1,easeInCubic:D=>D*D*D,easeOutCubic:D=>--D*D*D+1,easeInOutCubic:D=>D<.5?4*D*D*D:(D-1)*(2*D-2)*(2*D-2)+1,easeInQuart:D=>D*D*D*D,easeOutQuart:D=>1- --D*D*D*D,easeInOutQuart:D=>D<.5?8*D*D*D*D:1-8*--D*D*D*D,easeInQuint:D=>D*D*D*D*D,easeOutQuint:D=>1+--D*D*D*D*D,easeInOutQuint:D=>D<.5?16*D*D*D*D*D:1+16*--D*D*D*D*D,easeOutElastic:D=>Math.pow(2,-10*D)*Math.sin((D-1/4)*(2*Math.PI)/1)+1};function m(D){return D===window}class O{constructor(M,C,T,g,U,L){this.container=M,this.listenerTarget=C,this.isWindow=T,this.to=g,this.options=U,this.isBrowser=L,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*r[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const j=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach(($,z)=>this.mappedOffset=window.innerWidth>z?$:this.mappedOffset),this.distance+=this.mappedOffset*(j<=0?1:-1),this.source$=new a.t}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let S=(()=>{class D{constructor(C,T){this.document=C,this.platformId=T,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(C){return(0,n.NF)(this.platformId)?this.start(C):(new a.t).asObservable()}start(C){const T={...d,...C};this.animation&&this.animation.stop();const g=this.getNode(T.target);if(T.target&&!g)return(0,i._)(()=>new Error("Unable to find Target Element"));const U=this.getContainer(T,g);if(T.container&&!U)return(0,i._)(()=>new Error("Unable to find Container Element"));const L=this.getListenerTarget(U)||window;let j=U?U.getBoundingClientRect().top:0;g&&(j=m(L)?window.scrollY+g.getBoundingClientRect().top:g.getBoundingClientRect().top),this.animation=new O(U,L,m(L),j,T,(0,n.NF)(this.platformId));const $=()=>this.animation.stop();this.addInterruptiveEventListeners(L,$);const z=this.animation.start();return this.subscribeToAnimation(z,L,$),z}subscribeToAnimation(C,T,g){const U=C.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,T,g),U.unsubscribe()}})}getContainer(C,T){let g=null;return C.container?g=this.getNode(C.container,!0):T&&(g=this.getFirstScrollableParent(T)),g}addInterruptiveEventListeners(C,T){C||(C=window),this.interruptiveEvents.forEach(g=>C.addEventListener(g,T,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let C=!1;try{const T=Object.defineProperty({},"passive",{get:()=>{C=!0}});window.addEventListener("testPassive",null,T),window.removeEventListener("testPassive",null,T)}catch{}return C}removeInterruptiveEventListeners(C,T,g){T||(T=window),C.forEach(U=>T.removeEventListener(U,g))}getFirstScrollableParent(C){let T=window.getComputedStyle(C);const g=/(auto|scroll|overlay)/;if("fixed"===T.position)return null;let U=C;for(;U.parentElement;)if(U=U.parentElement,T=window.getComputedStyle(U),"absolute"!==T.position&&"hidden"!==T.overflow&&"hidden"!==T.overflowY&&(g.test(T.overflow+T.overflowY)||"BODY"===U.tagName))return U;return null}getNode(C,T=!1){let g;return function h(D){return"string"==typeof D||D instanceof String}(C)?g=!T||"body"!==C&&"BODY"!==C?this.document.getElementById(function p(D){return"#"===D.substring(0,1)?D.substring(1):D}(C)):this.document.body:function y(D){return!isNaN(parseFloat(D))&&isFinite(D)}(C)?g=this.document.getElementById(String(C)):function _(D){return D instanceof t.ElementRef}(C)?g=C.nativeElement:function v(D){return D instanceof HTMLElement}(C)&&(g=C),g}getListenerTarget(C){return C?this.isDocumentBody(C)?window:C:null}isDocumentBody(C){return"BODY"===C.tagName.toUpperCase()}}return D.\u0275fac=function(C){return new(C||D)(t.\u0275\u0275inject(n.K0),t.\u0275\u0275inject(t.PLATFORM_ID))},D.\u0275prov=t.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),o=(()=>{class D{static forRoot(){return{ngModule:D,providers:[S]}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275mod=t.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=t.\u0275\u0275defineInjector({}),D})()},37315:(R,c,e)=>{"use strict";e.d(c,{HU:()=>$,OI:()=>y,Ti:()=>T,_Q:()=>L,b:()=>p});var t=e(98678),n=e(35841),a=e(92527),i=e(77007);class d{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const r=new t.InjectionToken("ANGULARTICS2");class l{trackLocation(Re){return new n.X({url:"/"})}prepareExternalUrl(Re){return Re}}let p=(()=>{class Oe{constructor(ve,Pe){this.tracker=ve,this.pageTrack=new a.t(10),this.eventTrack=new a.t(10),this.exceptionTrack=new a.t(10),this.setAlias=new a.t(10),this.setUsername=new a.t(10),this.setUserProperties=new a.t(10),this.setUserPropertiesOnce=new a.t(10),this.setSuperProperties=new a.t(10),this.setSuperPropertiesOnce=new a.t(10),this.userTimings=new a.t(10);const et=new d;this.settings={...et,...Pe.settings},this.settings.pageTracking={...et.pageTracking,...Pe.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(Ze=>this.trackUrlChange(Ze.url))}filterDeveloperMode(){return(0,i.h)((ve,Pe)=>!this.settings.developerMode)}trackUrlChange(ve){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(ve)){const Pe=this.clearUrl(ve);let et;et=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+Pe:this.tracker.prepareExternalUrl(Pe),this.pageTrack.next({path:et})}}matchesExcludedRoute(ve){for(const Pe of this.settings.pageTracking.excludedRoutes)if(Pe instanceof RegExp&&Pe.test(ve)||-1!==ve.indexOf(Pe))return!0;return!1}clearUrl(ve){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?ve.split("/").map(Pe=>this.settings.pageTracking.clearQueryParams?Pe.split("?")[0]:Pe).map(Pe=>this.settings.pageTracking.clearHash?Pe.split("#")[0]:Pe).filter(Pe=>!this.settings.pageTracking.clearIds||!Pe.match(this.settings.pageTracking.idsRegExp)).join("/"):ve}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(t.\u0275\u0275inject(l),t.\u0275\u0275inject(r))},Oe.\u0275prov=t.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),_=(()=>{class Oe{}return Oe.\u0275fac=function(ve){return new(ve||Oe)},Oe.\u0275mod=t.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=t.\u0275\u0275defineInjector({}),Oe})(),y=(()=>{class Oe{static forRoot(ve={}){return{ngModule:Oe,providers:[{provide:r,useValue:{settings:ve}},l,p]}}}return Oe.\u0275fac=function(ve){return new(ve||Oe)},Oe.\u0275mod=t.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=t.\u0275\u0275defineInjector({imports:[[_]]}),Oe})();class C{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let T=(()=>{class Oe{constructor(ve){this.angulartics2=ve,this.dimensionsAndMetrics=[];const Pe=new C;this.angulartics2.settings.ga={...Pe,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(et=>this.setUsername(et)),this.angulartics2.setUserProperties.subscribe(et=>this.setUserProperties(et))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.pageTrack(ve.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.eventTrack(ve.action,ve.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.exceptionTrack(ve)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.userTimings(ve))}pageTrack(ve){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",ve]);for(const Pe of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([Pe+"._trackPageview",ve])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const Pe of this.angulartics2.settings.ga.additionalAccountNames)ga(Pe+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const Pe of this.angulartics2.settings.ga.additionalAccountNames)ga(Pe+".set","anonymizeIp",!0)}ga("send","pageview",ve);for(const Pe of this.angulartics2.settings.ga.additionalAccountNames)ga(Pe+".send","pageview",ve)}}eventTrack(ve,Pe){if((!Pe||!Pe.category)&&((Pe=Pe||{}).category="Event"),Pe.value){const et=parseInt(Pe.value,10);Pe.value=isNaN(et)?0:et}if(typeof ga<"u"){const et={eventCategory:Pe.category,eventAction:ve,eventLabel:Pe.label,eventValue:Pe.value,nonInteraction:Pe.noninteraction,page:Pe.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:Pe.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(Pe),ga("send","event",et);for(const Ze of this.angulartics2.settings.ga.additionalAccountNames)ga(Ze+".send","event",et)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",Pe.category,ve,Pe.label,Pe.value,Pe.noninteraction])}exceptionTrack(ve){void 0===ve.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ve.fatal=!0),ve.exDescription=ve.description;const Pe={exFatal:ve.fatal,exDescription:ve.description};ga("send","exception",Pe);for(const et of this.angulartics2.settings.ga.additionalAccountNames)ga(et+".send","exception",Pe)}userTimings(ve){if(ve&&ve.timingCategory&&ve.timingVar&&ve.timingValue){if(typeof ga<"u"){ga("send","timing",ve);for(const Pe of this.angulartics2.settings.ga.additionalAccountNames)ga(Pe+".send","timing",ve)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(ve){this.angulartics2.settings.ga.userId=ve,!(typeof ga>"u")&&ga("set","userId",ve)}setUserProperties(ve){this.setDimensionsAndMetrics(ve)}setDimensionsAndMetrics(ve){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(Pe=>{ve.hasOwnProperty(Pe)||(ga("set",Pe,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(et=>{ga(`${et}.set`,Pe,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(ve).forEach(Pe=>{(0===Pe.lastIndexOf("dimension",0)||0===Pe.lastIndexOf("metric",0))&&(ga("set",Pe,ve[Pe]),this.angulartics2.settings.ga.additionalAccountNames.forEach(et=>{ga(`${et}.set`,Pe,ve[Pe])}),this.dimensionsAndMetrics.push(Pe))}))}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(t.\u0275\u0275inject(p))},Oe.\u0275prov=t.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();class U{constructor(){this.userId=null}}let L=(()=>{class Oe{constructor(ve){this.angulartics2=ve,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const Pe=new U;this.angulartics2.settings.gtm={...Pe,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(et=>this.setUsername(et))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.pageTrack(ve.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.eventTrack(ve.action,ve.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.exceptionTrack(ve))}pageTrack(ve){this.pushLayer({event:"Page View","content-name":ve,userId:this.angulartics2.settings.gtm.userId})}pushLayer(ve){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(ve)}eventTrack(ve,Pe){this.pushLayer({event:(Pe=Pe||{}).event||"interaction",target:Pe.category||"Event",action:ve,label:Pe.label,value:Pe.value,interactionType:Pe.noninteraction,userId:this.angulartics2.settings.gtm.userId,...Pe.gtmCustom})}exceptionTrack(ve){ve&&ve.appId&&ve.appName&&ve.appVersion?(void 0===ve.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ve.exFatal=!0),ve.exDescription=ve.event?ve.event.stack:ve.description,this.eventTrack(`Exception thrown for ${ve.appName} <${ve.appId}@${ve.appVersion}>`,{category:"Exception",label:ve.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(ve){this.angulartics2.settings.gtm.userId=ve}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(t.\u0275\u0275inject(p))},Oe.\u0275prov=t.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();class j{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(Re=>{const ve=Re.get("trackingId");void 0!==ve&&-1===this.trackingIds.indexOf(ve)&&this.trackingIds.push(ve)})})}}let $=(()=>{class Oe{constructor(ve){this.angulartics2=ve,this.dimensionsAndMetrics={};const Pe=new j;this.angulartics2.settings.gst={...Pe,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.pageTrack(ve.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.eventTrack(ve.action,ve.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.exceptionTrack(ve)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.userTimings(this.convertTimings(ve))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.setUsername(ve)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ve=>this.setUserProperties(ve))}pageTrack(ve){if(typeof gtag<"u"&&gtag){const Pe={page_path:ve,page_location:window.location.protocol+"//"+window.location.host+ve,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(Pe.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(Pe.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(Pe.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const et of this.angulartics2.settings.gst.trackingIds)gtag("config",et,Pe)}}eventTrack(ve,Pe={}){this.eventTrackInternal(ve,{event_category:Pe.category||"interaction",event_label:Pe.label,value:Pe.value,non_interaction:Pe.noninteraction,...Pe.gstCustom})}exceptionTrack(ve){void 0===ve.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ve.fatal=!0),ve.exDescription=ve.event?ve.event.stack:ve.description,this.eventTrack("exception",{gstCustom:{description:ve.exDescription,fatal:ve.fatal,...ve.gstCustom}})}userTimings(ve){ve?this.eventTrackInternal("timing_complete",{name:ve.name,value:ve.value,event_category:ve.category,event_label:ve.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(ve){return{name:ve.timingVar,value:ve.timingValue,category:ve.timingCategory,label:ve.timingLabel}}setUsername(ve){this.angulartics2.settings.gst.userId=ve,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof ve&&ve?ve.userId:ve})}setUserProperties(ve){this.setDimensionsAndMetrics(ve)}setDimensionsAndMetrics(ve){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...ve},Object.keys(this.dimensionsAndMetrics).forEach(Pe=>{null==this.dimensionsAndMetrics[Pe]&&delete this.dimensionsAndMetrics[Pe]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(ve,Pe={}){this.cleanProperties(Pe),typeof gtag<"u"&&gtag&&gtag("event",ve,Pe)}cleanProperties(ve){if(ve.value){const Pe=parseInt(ve.value,10);ve.value=isNaN(Pe)?0:Pe}}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(t.\u0275\u0275inject(p))},Oe.\u0275prov=t.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},55152:(R,c,e)=>{"use strict";e.d(c,{af:()=>g,qu:()=>q,I8:()=>l});var t={};e.r(t),e.d(t,{JsonPatchError:()=>b,_areEquals:()=>$,applyOperation:()=>T,applyPatch:()=>g,applyReducer:()=>U,deepClone:()=>o,getValueByPointer:()=>C,validate:()=>j,validator:()=>L});var n={};e.r(n),e.d(n,{compare:()=>q,generate:()=>Q,observe:()=>w,unobserve:()=>K});var J,a=(J=function(Ee,Oe){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,ve){Re.__proto__=ve}||function(Re,ve){for(var Pe in ve)ve.hasOwnProperty(Pe)&&(Re[Pe]=ve[Pe])})(Ee,Oe)},function(Ee,Oe){function Re(){this.constructor=Ee}J(Ee,Oe),Ee.prototype=null===Oe?Object.create(Oe):(Re.prototype=Oe.prototype,new Re)}),i=Object.prototype.hasOwnProperty;function d(J,Ee){return i.call(J,Ee)}function r(J){if(Array.isArray(J)){for(var Ee=new Array(J.length),Oe=0;Oe<Ee.length;Oe++)Ee[Oe]=""+Oe;return Ee}if(Object.keys)return Object.keys(J);var Re=[];for(var ve in J)d(J,ve)&&Re.push(ve);return Re}function l(J){switch(typeof J){case"object":return JSON.parse(JSON.stringify(J));case"undefined":return null;default:return J}}function p(J){for(var Re,Ee=0,Oe=J.length;Ee<Oe;){if(!((Re=J.charCodeAt(Ee))>=48&&Re<=57))return!1;Ee++}return!0}function h(J){return-1===J.indexOf("/")&&-1===J.indexOf("~")?J:J.replace(/~/g,"~0").replace(/\//g,"~1")}function m(J){return J.replace(/~1/g,"/").replace(/~0/g,"~")}function y(J){if(void 0===J)return!0;if(J)if(Array.isArray(J)){for(var Ee=0,Oe=J.length;Ee<Oe;Ee++)if(y(J[Ee]))return!0}else if("object"==typeof J)for(var Re=r(J),ve=Re.length,Pe=0;Pe<ve;Pe++)if(y(J[Re[Pe]]))return!0;return!1}function O(J,Ee){var Oe=[J];for(var Re in Ee){var ve="object"==typeof Ee[Re]?JSON.stringify(Ee[Re],null,2):Ee[Re];typeof ve<"u"&&Oe.push(Re+": "+ve)}return Oe.join("\n")}var S=function(J){function Ee(Oe,Re,ve,Pe,et){var Ze=this.constructor,tt=J.call(this,O(Oe,{name:Re,index:ve,operation:Pe,tree:et}))||this;return tt.name=Re,tt.index=ve,tt.operation=Pe,tt.tree=et,Object.setPrototypeOf(tt,Ze.prototype),tt.message=O(Oe,{name:Re,index:ve,operation:Pe,tree:et}),tt}return a(Ee,J),Ee}(Error),b=S,o=l,D={add:function(J,Ee,Oe){return J[Ee]=this.value,{newDocument:Oe}},remove:function(J,Ee,Oe){var Re=J[Ee];return delete J[Ee],{newDocument:Oe,removed:Re}},replace:function(J,Ee,Oe){var Re=J[Ee];return J[Ee]=this.value,{newDocument:Oe,removed:Re}},move:function(J,Ee,Oe){var Re=C(Oe,this.path);Re&&(Re=l(Re));var ve=T(Oe,{op:"remove",path:this.from}).removed;return T(Oe,{op:"add",path:this.path,value:ve}),{newDocument:Oe,removed:Re}},copy:function(J,Ee,Oe){var Re=C(Oe,this.from);return T(Oe,{op:"add",path:this.path,value:l(Re)}),{newDocument:Oe}},test:function(J,Ee,Oe){return{newDocument:Oe,test:$(J[Ee],this.value)}},_get:function(J,Ee,Oe){return this.value=J[Ee],{newDocument:Oe}}},M={add:function(J,Ee,Oe){return p(Ee)?J.splice(Ee,0,this.value):J[Ee]=this.value,{newDocument:Oe,index:Ee}},remove:function(J,Ee,Oe){return{newDocument:Oe,removed:J.splice(Ee,1)[0]}},replace:function(J,Ee,Oe){var Re=J[Ee];return J[Ee]=this.value,{newDocument:Oe,removed:Re}},move:D.move,copy:D.copy,test:D.test,_get:D._get};function C(J,Ee){if(""==Ee)return J;var Oe={op:"_get",path:Ee};return T(J,Oe),Oe.value}function T(J,Ee,Oe,Re,ve,Pe){if(void 0===Oe&&(Oe=!1),void 0===Re&&(Re=!0),void 0===ve&&(ve=!0),void 0===Pe&&(Pe=0),Oe&&("function"==typeof Oe?Oe(Ee,0,J,Ee.path):L(Ee,0)),""===Ee.path){var et={newDocument:J};if("add"===Ee.op)return et.newDocument=Ee.value,et;if("replace"===Ee.op)return et.newDocument=Ee.value,et.removed=J,et;if("move"===Ee.op||"copy"===Ee.op)return et.newDocument=C(J,Ee.from),"move"===Ee.op&&(et.removed=J),et;if("test"===Ee.op){if(et.test=$(J,Ee.value),!1===et.test)throw new b("Test operation failed","TEST_OPERATION_FAILED",Pe,Ee,J);return et.newDocument=J,et}if("remove"===Ee.op)return et.removed=J,et.newDocument=null,et;if("_get"===Ee.op)return Ee.value=J,et;if(Oe)throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Pe,Ee,J);return et}Re||(J=l(J));var tt=(Ee.path||"").split("/"),yt=J,Ne=1,mt=tt.length,Dt=void 0,At=void 0,Jt=void 0;for(Jt="function"==typeof Oe?Oe:L;;){if((At=tt[Ne])&&-1!=At.indexOf("~")&&(At=m(At)),ve&&("__proto__"==At||"prototype"==At&&Ne>0&&"constructor"==tt[Ne-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(Oe&&void 0===Dt&&(void 0===yt[At]?Dt=tt.slice(0,Ne).join("/"):Ne==mt-1&&(Dt=Ee.path),void 0!==Dt&&Jt(Ee,0,J,Dt)),Ne++,Array.isArray(yt)){if("-"===At)At=yt.length;else{if(Oe&&!p(At))throw new b("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Pe,Ee,J);p(At)&&(At=~~At)}if(Ne>=mt){if(Oe&&"add"===Ee.op&&At>yt.length)throw new b("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Pe,Ee,J);if(!1===(et=M[Ee.op].call(Ee,yt,At,J)).test)throw new b("Test operation failed","TEST_OPERATION_FAILED",Pe,Ee,J);return et}}else if(Ne>=mt){if(!1===(et=D[Ee.op].call(Ee,yt,At,J)).test)throw new b("Test operation failed","TEST_OPERATION_FAILED",Pe,Ee,J);return et}if(yt=yt[At],Oe&&Ne<mt&&(!yt||"object"!=typeof yt))throw new b("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Pe,Ee,J)}}function g(J,Ee,Oe,Re,ve){if(void 0===Re&&(Re=!0),void 0===ve&&(ve=!0),Oe&&!Array.isArray(Ee))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Re||(J=l(J));for(var Pe=new Array(Ee.length),et=0,Ze=Ee.length;et<Ze;et++)Pe[et]=T(J,Ee[et],Oe,!0,ve,et),J=Pe[et].newDocument;return Pe.newDocument=J,Pe}function U(J,Ee,Oe){var Re=T(J,Ee);if(!1===Re.test)throw new b("Test operation failed","TEST_OPERATION_FAILED",Oe,Ee,J);return Re.newDocument}function L(J,Ee,Oe,Re){if("object"!=typeof J||null===J||Array.isArray(J))throw new b("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ee,J,Oe);if(!D[J.op])throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ee,J,Oe);if("string"!=typeof J.path)throw new b("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ee,J,Oe);if(0!==J.path.indexOf("/")&&J.path.length>0)throw new b('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Ee,J,Oe);if(("move"===J.op||"copy"===J.op)&&"string"!=typeof J.from)throw new b("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ee,J,Oe);if(("add"===J.op||"replace"===J.op||"test"===J.op)&&void 0===J.value)throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Ee,J,Oe);if(("add"===J.op||"replace"===J.op||"test"===J.op)&&y(J.value))throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ee,J,Oe);if(Oe)if("add"==J.op){var ve=J.path.split("/").length,Pe=Re.split("/").length;if(ve!==Pe+1&&ve!==Pe)throw new b("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Ee,J,Oe)}else if("replace"===J.op||"remove"===J.op||"_get"===J.op){if(J.path!==Re)throw new b("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ee,J,Oe)}else if("move"===J.op||"copy"===J.op){var Ze=j([{op:"_get",path:J.from,value:void 0}],Oe);if(Ze&&"OPERATION_PATH_UNRESOLVABLE"===Ze.name)throw new b("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ee,J,Oe)}}function j(J,Ee,Oe){try{if(!Array.isArray(J))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ee)g(l(Ee),l(J),Oe||!0);else{Oe=Oe||L;for(var Re=0;Re<J.length;Re++)Oe(J[Re],Re,Ee,void 0)}}catch(ve){if(ve instanceof b)return ve;throw ve}}function $(J,Ee){if(J===Ee)return!0;if(J&&Ee&&"object"==typeof J&&"object"==typeof Ee){var ve,Pe,et,Oe=Array.isArray(J),Re=Array.isArray(Ee);if(Oe&&Re){if((Pe=J.length)!=Ee.length)return!1;for(ve=Pe;0!=ve--;)if(!$(J[ve],Ee[ve]))return!1;return!0}if(Oe!=Re)return!1;var Ze=Object.keys(J);if((Pe=Ze.length)!==Object.keys(Ee).length)return!1;for(ve=Pe;0!=ve--;)if(!Ee.hasOwnProperty(Ze[ve]))return!1;for(ve=Pe;0!=ve--;)if(!$(J[et=Ze[ve]],Ee[et]))return!1;return!0}return J!=J&&Ee!=Ee}var z=new WeakMap,re=function J(Ee){this.observers=new Map,this.obj=Ee},W=function J(Ee,Oe){this.callback=Ee,this.observer=Oe};function K(J,Ee){Ee.unobserve()}function w(J,Ee){var Re,ve=function ie(J){return z.get(J)}(J);if(ve){var Pe=function ce(J,Ee){return J.observers.get(Ee)}(ve,Ee);Re=Pe&&Pe.observer}else ve=new re(J),z.set(J,ve);if(Re)return Re;if(Re={},ve.value=l(J),Ee){Re.callback=Ee,Re.next=null;var et=function(){Q(Re)},Ze=function(){clearTimeout(Re.next),Re.next=setTimeout(et)};typeof window<"u"&&(window.addEventListener("mouseup",Ze),window.addEventListener("keyup",Ze),window.addEventListener("mousedown",Ze),window.addEventListener("keydown",Ze),window.addEventListener("change",Ze))}return Re.patches=[],Re.object=J,Re.unobserve=function(){Q(Re),clearTimeout(Re.next),function ne(J,Ee){J.observers.delete(Ee.callback)}(ve,Re),typeof window<"u"&&(window.removeEventListener("mouseup",Ze),window.removeEventListener("keyup",Ze),window.removeEventListener("mousedown",Ze),window.removeEventListener("keydown",Ze),window.removeEventListener("change",Ze))},ve.observers.set(Ee,new W(Ee,Re)),Re}function Q(J,Ee){void 0===Ee&&(Ee=!1);var Oe=z.get(J.object);oe(Oe.value,J.object,J.patches,"",Ee),J.patches.length&&g(Oe.value,J.patches);var Re=J.patches;return Re.length>0&&(J.patches=[],J.callback&&J.callback(Re)),Re}function oe(J,Ee,Oe,Re,ve){if(Ee!==J){"function"==typeof Ee.toJSON&&(Ee=Ee.toJSON());for(var Pe=r(Ee),et=r(J),tt=!1,yt=et.length-1;yt>=0;yt--){var mt=J[Ne=et[yt]];if(!d(Ee,Ne)||void 0===Ee[Ne]&&void 0!==mt&&!1===Array.isArray(Ee))Array.isArray(J)===Array.isArray(Ee)?(ve&&Oe.push({op:"test",path:Re+"/"+h(Ne),value:l(mt)}),Oe.push({op:"remove",path:Re+"/"+h(Ne)}),tt=!0):(ve&&Oe.push({op:"test",path:Re,value:J}),Oe.push({op:"replace",path:Re,value:Ee}));else{var Dt=Ee[Ne];"object"==typeof mt&&null!=mt&&"object"==typeof Dt&&null!=Dt&&Array.isArray(mt)===Array.isArray(Dt)?oe(mt,Dt,Oe,Re+"/"+h(Ne),ve):mt!==Dt&&(ve&&Oe.push({op:"test",path:Re+"/"+h(Ne),value:l(mt)}),Oe.push({op:"replace",path:Re+"/"+h(Ne),value:l(Dt)}))}}if(tt||Pe.length!=et.length)for(yt=0;yt<Pe.length;yt++){var Ne;!d(J,Ne=Pe[yt])&&void 0!==Ee[Ne]&&Oe.push({op:"add",path:Re+"/"+h(Ne),value:l(Ee[Ne])})}}}function q(J,Ee,Oe){void 0===Oe&&(Oe=!1);var Re=[];return oe(J,Ee,Re,"",Oe),Re}Object.assign({},t,n,{JsonPatchError:S,deepClone:l,escapePathComponent:h,unescapePathComponent:m})},60235:(R,c,e)=>{"use strict";e.d(c,{Ry:()=>At,Rq:()=>$t});var t=e(98678),n=e(9237),a=e(43035),i=e(69637),d=e(48358),r=e(27303),l=e(77007),p=e(84072),h=e(77025),m=e(58886),_=e(73522);const v={leading:!0,trailing:!1};var O=e(26729);function o(lt,Ht,Qe,ft){const Je=window&&!!window.document&&window.document.documentElement;let Ge=Je&&Ht?window:Qe;if(lt&&(Ge=lt&&Je&&"string"==typeof lt?function D(lt,Ht,Qe){return(Qe?window.document:Ht).querySelector(lt)}(lt,Qe.nativeElement,ft):lt,!Ge))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return Ge}function M(lt){return lt&&!lt.firstChange}const T={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},g={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class U{constructor(Ht=!0){this.vertical=Ht,this.propsMap=Ht?T:g}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function z(lt){return["Window","global"].some(Qe=>Object.prototype.toString.call(lt).includes(Qe))}function re(lt,Ht){return lt?Ht.document.documentElement:null}function W(lt,Ht){const Qe=function K({container:lt,isWindow:Ht,axis:Qe}){const{offsetHeightKey:ft,clientHeightKey:Je}=ne(Qe);return w(lt,Ht,ft,Je)}(Ht);return Ht.isWindow?function ie(lt,Ht,Qe){const{axis:ft,container:Je,isWindow:Ge}=Qe,{offsetHeightKey:qe,clientHeightKey:gt}=ne(ft),it=lt+oe(re(Ge,Je),ft,Ge),ht=w(Ht.nativeElement,Ge,qe,gt),St=function Q(lt,Ht,Qe){const ft=Ht.topKey();if(lt.getBoundingClientRect)return lt.getBoundingClientRect()[ft]+oe(lt,Ht,Qe)}(Ht.nativeElement,ft,Ge)+ht;return{height:lt,scrolled:it,totalToScroll:St,isWindow:Ge}}(Qe,lt,Ht):function ce(lt,Ht,Qe){const{axis:ft,container:Je}=Qe;return{height:lt,scrolled:Je[ft.scrollTopKey()],totalToScroll:Je[ft.scrollHeightKey()],isWindow:!1}}(Qe,0,Ht)}function ne(lt){return{offsetHeightKey:lt.offsetHeightKey(),clientHeightKey:lt.clientHeightKey()}}function w(lt,Ht,Qe,ft){if(isNaN(lt[Qe])){const Je=re(Ht,lt);return Je?Je[ft]:0}return lt[Qe]}function oe(lt,Ht,Qe){const ft=Ht.pageYOffsetKey(),Je=Ht.scrollTopKey(),Ge=Ht.offsetTopKey();return isNaN(window.pageYOffset)?re(Qe,lt)[Je]:lt.ownerDocument?lt.ownerDocument.defaultView[ft]:lt[Ge]}function q(lt,Ht={down:0,up:0},Qe){let ft,Je;if(lt.totalToScroll<=0)return!1;const Ge=lt.isWindow?lt.scrolled:lt.height+lt.scrolled;return Qe?(ft=(lt.totalToScroll-Ge)/lt.totalToScroll,Je=(Ht?.down?Ht.down:0)/10):(ft=lt.scrolled/(lt.scrolled+(lt.totalToScroll-Ge)),Je=(Ht?.up?Ht.up:0)/10),ft<=Je}class Ze{constructor({totalToScroll:Ht}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=Ht}updateScrollPosition(Ht){return this.lastScrollPosition=Ht}updateTotalToScroll(Ht){this.lastTotalToScroll!==Ht&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=Ht)}updateScroll(Ht,Qe){this.updateScrollPosition(Ht),this.updateTotalToScroll(Qe)}updateTriggeredFlag(Ht,Qe){Qe?this.triggered.down=Ht:this.triggered.up=Ht}isTriggeredScroll(Ht,Qe){return Qe?this.triggered.down===Ht:this.triggered.up===Ht}}function tt(lt){const{scrollContainer:Ht,scrollWindow:Qe,element:ft,fromRoot:Je}=lt,Ge=function j({windowElement:lt,axis:Ht}){return function $(lt,Ht){const Qe=lt.isWindow||Ht&&!Ht.nativeElement?Ht:Ht.nativeElement;return{...lt,container:Qe}}({axis:Ht,isWindow:z(lt)},lt)}({axis:new U(!lt.horizontal),windowElement:o(Ht,Qe,ft,Je)}),qe=new Ze({totalToScroll:W(ft,Ge)}),it={up:lt.upDistance,down:lt.downDistance};return function yt(lt){let Ht=(0,a.R)(lt.container,"scroll");return lt.throttle&&(Ht=Ht.pipe(function S(lt,Ht=p.z,Qe=v){const ft=(0,O.H)(lt,Ht);return function y(lt,Ht=v){return(0,h.e)((Qe,ft)=>{const{leading:Je,trailing:Ge}=Ht;let qe=!1,gt=null,it=null,ht=!1;const St=()=>{it?.unsubscribe(),it=null,Ge&&(en(),ht&&ft.complete())},It=()=>{it=null,ht&&ft.complete()},Yt=Tt=>it=(0,_.Xf)(lt(Tt)).subscribe((0,m.x)(ft,St,It)),en=()=>{if(qe){qe=!1;const Tt=gt;gt=null,ft.next(Tt),!ht&&Yt(Tt)}};Qe.subscribe((0,m.x)(ft,Tt=>{qe=!0,gt=Tt,(!it||it.closed)&&(Je?en():Yt(Tt))},()=>{ht=!0,(!(Ge&&qe&&it)||it.closed)&&ft.complete()}))})}(()=>ft,Qe)}(lt.throttle,void 0,{leading:!0,trailing:!0}))),Ht}({container:Ge.container,throttle:lt.throttle}).pipe((0,i.z)(()=>(0,n.of)(W(ft,Ge))),(0,d.U)(ht=>function Ne(lt,Ht,Qe){const{scrollDown:ft,fire:Je}=function J(lt,Ht,Qe){const ft=function ee(lt,Ht){return lt<Ht.scrolled}(lt,Ht);return{fire:q(Ht,Qe,ft),scrollDown:ft}}(lt,Ht,Qe);return{scrollDown:ft,fire:Je,stats:Ht}}(qe.lastScrollPosition,ht,it)),(0,r.b)(({stats:ht})=>qe.updateScroll(ht.scrolled,ht.totalToScroll)),(0,l.h)(({fire:ht,scrollDown:St,stats:{totalToScroll:It}})=>function L(lt,Ht,Qe){return!!(lt&&Ht||!Qe&&Ht)}(lt.alwaysCallback,ht,qe.isTriggeredScroll(It,St))),(0,r.b)(({scrollDown:ht,stats:{totalToScroll:St}})=>{qe.updateTriggeredFlag(St,ht)}),(0,d.U)(Dt))}const mt={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Dt(lt){const{scrollDown:Ht,stats:{scrolled:Qe}}=lt;return{type:Ht?mt.DOWN:mt.UP,payload:{currentScrollPosition:Qe}}}let At=(()=>{class lt{constructor(Qe,ft){this.element=Qe,this.zone=ft,this.scrolled=new t.EventEmitter,this.scrolledUp=new t.EventEmitter,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:Qe,infiniteScrollDisabled:ft,infiniteScrollDistance:Je}){const Ge=M(Qe),qe=M(ft),gt=M(Je),it=!qe&&!this.infiniteScrollDisabled||qe&&!ft.currentValue||gt;(Ge||qe||gt)&&(this.destroyScroller(),it&&this.setup())}setup(){(function C(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=tt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(Qe=>this.handleOnScroll(Qe))})}handleOnScroll({type:Qe,payload:ft}){const Je=Qe===mt.DOWN?this.scrolled:this.scrolledUp;(function Jt(lt){return lt.observed??lt.observers.length>0})(Je)&&this.zone.run(()=>Je.emit(ft))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return lt.\u0275fac=function(Qe){return new(Qe||lt)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},lt.\u0275dir=t.\u0275\u0275defineDirective({type:lt,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[t.\u0275\u0275NgOnChangesFeature]}),lt})(),$t=(()=>{class lt{}return lt.\u0275fac=function(Qe){return new(Qe||lt)},lt.\u0275mod=t.\u0275\u0275defineNgModule({type:lt}),lt.\u0275inj=t.\u0275\u0275defineInjector({}),lt})()},1908:(R,c,e)=>{"use strict";e.d(c,{hx:()=>y,um:()=>p,yI:()=>b});var t=e(44423),n=e(98678),a=e(5476),i=e(35103);const d=new n.InjectionToken("ngx-mask config"),r=new n.InjectionToken("new ngx-mask config"),l=new n.InjectionToken("initial ngx-mask config"),p={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new n.EventEmitter,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},h=["Hh:m0:s0","Hh:m0","m0:s0"],m=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let _=(()=>{class D{constructor(C){this._config=C,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(T,g,U,L)=>{let j=[],$="";if(Array.isArray(U)){const ce=new RegExp(U.map(ne=>"[\\^$.|?*+()".indexOf(ne)>=0?`\\${ne}`:ne).join("|"));j=T.split(ce),$=T.match(ce)?.[0]??""}else j=T.split(U),$=U;const z=j.length>1?`${$}${j[1]}`:"";let re=j[0];const W=this.separatorLimit.replace(/\s/g,"");W&&+W&&(re="-"===re[0]?`-${re.slice(1,re.length).slice(0,W.length)}`:re.slice(0,W.length));const ie=/(\d+)(\d{3})/;for(;g&&ie.test(re);)re=re.replace(ie,"$1"+g+"$2");return void 0===L?re+z:0===L?re:re+z.substr(0,L+1)},this.percentage=T=>Number(T)>=0&&Number(T)<=100,this.getPrecision=T=>{const g=T.split(".");return g.length>1?Number(g[g.length-1]):1/0},this.checkAndRemoveSuffix=T=>{for(let g=this.suffix?.length-1;g>=0;g--){const U=this.suffix.substr(g,this.suffix?.length);if(T.includes(U)&&(g-1<0||!T.includes(this.suffix.substr(g-1,this.suffix?.length))))return T.replace(U,"")}return T},this.checkInputPrecision=(T,g,U)=>{if(g<1/0){if(Array.isArray(U)){const $=U.find(z=>z!==this.thousandSeparator);U=$||U[0]}const L=new RegExp(this._charToRegExpExpression(U)+`\\d{${g}}.*$`),j=T.match(L);j&&j[0].length-1>g&&(T=T.substring(0,T.length-(j[0].length-1-g))),0===g&&this._compareOrIncludes(T[T.length-1],U,this.thousandSeparator)&&(T=T.substring(0,T.length-1))}return T},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(C,T){const[g,U]=T;return this.customPattern=U,this.applyMask(C,g)}applyMask(C,T,g=0,U=!1,L=!1,j=(()=>{})){if(!T||"string"!=typeof C)return"";let $=0,z="",re=!1,W=!1,ie=1,ce=!1;C.slice(0,this.prefix.length)===this.prefix&&(C=C.slice(this.prefix.length,C.length)),this.suffix&&C?.length>0&&(C=this.checkAndRemoveSuffix(C));const ne=C.toString().split("");"IP"===T&&(this.ipError=ne.filter(ee=>"."===ee).length<3&&ne.length<7,T="099.099.099.099");const K=[];for(let ee=0;ee<C.length;ee++)C[ee]?.match("\\d")&&K.push(C[ee]);if("CPF_CNPJ"===T&&(this.cpfCnpjError=11!==K.length&&14!==K.length,T=K.length>11?"00.000.000/0000-00":"000.000.000-00"),T.startsWith("percent")){if(C.match("[a-z]|[A-Z]")||C.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){C=this._stripToDecimal(C);const ee=this.getPrecision(T);C=this.checkInputPrecision(C,ee,this.decimalMarker)}C.indexOf(".")>0&&!this.percentage(C.substring(0,C.indexOf(".")))&&(C=`${C.substring(0,C.indexOf(".")-1)}${C.substring(C.indexOf("."),C.length)}`),z=this.percentage(C)?C:C.substring(0,C.length-1)}else if(T.startsWith("separator")){(C.match("[w\u0430-\u044f\u0410-\u042f]")||C.match("[\u0401\u0451\u0410-\u044f]")||C.match("[a-z]|[A-Z]")||C.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||C.match("[^A-Za-z0-9,]"))&&(C=this._stripToDecimal(C)),C=C.length>1&&"0"===C[0]&&!this._compareOrIncludes(C[1],this.decimalMarker,this.thousandSeparator)&&!L?C.slice(1,C.length):C,L&&(C=this._compareOrIncludes(C[C.length-1],this.decimalMarker,this.thousandSeparator)?C.slice(0,C.length-1):C);const ee=this._charToRegExpExpression(this.thousandSeparator);let J='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(ee,"");if(Array.isArray(this.decimalMarker))for(const et of this.decimalMarker)J=J.replace(this._charToRegExpExpression(et),"");else J=J.replace(this._charToRegExpExpression(this.decimalMarker),"");const Ee=new RegExp("["+J+"]");(C.match(Ee)||1===C.length&&this._compareOrIncludes(C,this.decimalMarker,this.thousandSeparator))&&(C=C.substring(0,C.length-1));const Oe=this.getPrecision(T),Re=(C=this.checkInputPrecision(C,Oe,this.decimalMarker)).replace(new RegExp(ee,"g"),"");z=this._formatWithSeparators(Re,this.thousandSeparator,this.decimalMarker,Oe);const ve=z.indexOf(",")-C.indexOf(","),Pe=z.length-C.length;if(Pe>0&&","!==z[g]){W=!0;let et=0;do{this._shift.add(g+et),et++}while(et<Pe)}else 0!==ve&&g>0&&!(z.indexOf(",")>=g&&g>3)||!(z.indexOf(".")>=g&&g>3)&&Pe<=0?(this._shift.clear(),W=!0,ie=Pe,this._shift.add(g+=Pe)):this._shift.clear()}else for(let ee=0,J=ne[0];ee<ne.length&&$!==T.length;ee++,J=ne[ee])if(this._checkSymbolMask(J,T[$])&&"?"===T[$+1])z+=J,$+=2;else if("*"===T[$+1]&&re&&this._checkSymbolMask(J,T[$+2]))z+=J,$+=3,re=!1;else if(this._checkSymbolMask(J,T[$])&&"*"===T[$+1])z+=J,re=!0;else if("?"===T[$+1]&&this._checkSymbolMask(J,T[$+2]))z+=J,$+=3;else if(this._checkSymbolMask(J,T[$])){if("H"===T[$]&&Number(J)>2){$+=1,this._shiftStep(T,$,ne.length),ee--,this.leadZeroDateTime&&(z+="0");continue}if("h"===T[$]&&"2"===z&&Number(J)>3){$+=1,ee--;continue}if("m"===T[$]&&Number(J)>5){$+=1,this._shiftStep(T,$,ne.length),ee--,this.leadZeroDateTime&&(z+="0");continue}if("s"===T[$]&&Number(J)>5){$+=1,this._shiftStep(T,$,ne.length),ee--,this.leadZeroDateTime&&(z+="0");continue}const Ee=31;if("d"===T[$]&&(Number(J)>3&&this.leadZeroDateTime||Number(C.slice($,$+2))>Ee||"/"===C[$+1])){$+=1,this._shiftStep(T,$,ne.length),ee--,this.leadZeroDateTime&&(z+="0");continue}if("M"===T[$]){const Re=0===$&&(Number(J)>2||Number(C.slice($,$+2))>12||"/"===C[$+1]),ve=C.slice($-3,$-1).includes("/")&&("/"===C[$-2]&&Number(C.slice($-1,$+1))>12&&"/"!==C[$]||"/"===C[$]||"/"===C[$-3]&&Number(C.slice($-2,$))>12&&"/"!==C[$-1]||"/"===C[$-1]),Pe=Number(C.slice($-3,$-1))<=Ee&&!C.slice($-3,$-1).includes("/")&&"/"===C[$-1]&&(Number(C.slice($,$+2))>12||"/"===C[$+1]),et=Number(C.slice($-3,$-1))>Ee&&!C.slice($-3,$-1).includes("/")&&!C.slice($-2,$).includes("/")&&Number(C.slice($-2,$))>12,Ze=Number(C.slice($-3,$-1))<=Ee&&!C.slice($-3,$-1).includes("/")&&"/"!==C[$-1]&&Number(C.slice($-1,$+1))>12;if(Number(J)>1&&this.leadZeroDateTime||Re||ve||Pe||et||Ze){$+=1,this._shiftStep(T,$,ne.length),ee--,this.leadZeroDateTime&&(z+="0");continue}}z+=J,$++}else" "===J&&" "===T[$]?(z+=J,$++):-1!==this.maskSpecialCharacters.indexOf(T[$])?(z+=T[$],$++,this._shiftStep(T,$,ne.length),ee--):this.maskSpecialCharacters.indexOf(J)>-1&&this.maskAvailablePatterns[T[$]]&&this.maskAvailablePatterns[T[$]]?.optional?(ne[$]&&"099.099.099.099"!==T&&"000.000.000-00"!==T&&"00.000.000/0000-00"!==T&&!T.match(/^9+\.0+$/)&&(z+=ne[$]),$++,ee--):"*"===this.maskExpression[$+1]&&this._findSpecialChar(this.maskExpression[$+2])&&this._findSpecialChar(J)===this.maskExpression[$+2]&&re||"?"===this.maskExpression[$+1]&&this._findSpecialChar(this.maskExpression[$+2])&&this._findSpecialChar(J)===this.maskExpression[$+2]&&re?($+=3,z+=J):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(J)<0&&J!==this.placeHolderCharacter&&(ce=!0);z.length+1===T.length&&-1!==this.maskSpecialCharacters.indexOf(T[T.length-1])&&(z+=T[T.length-1]);let w=g+1;for(;this._shift.has(w);)ie++,w++;let Q=U&&!T.startsWith("separator")?$:this._shift.has(g)?ie:0;ce&&Q--,j(Q,W),ie<0&&this._shift.clear();let oe=!1;L&&(oe=ne.every(ee=>this.maskSpecialCharacters.includes(ee)));let q=`${this.prefix}${oe?"":z}${this.suffix}`;return 0===z.length&&(q=`${this.prefix}${z}`),q}_findSpecialChar(C){return this.maskSpecialCharacters.find(T=>T===C)}_checkSymbolMask(C,T){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[T]&&this.maskAvailablePatterns[T].pattern&&this.maskAvailablePatterns[T].pattern.test(C)}_stripToDecimal(C){return C.split("").filter((T,g)=>T.match("^-?\\d")||T.match("\\s")||"."===T||","===T||"-"===T&&0===g&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(C){return C&&(" "===C?"\\s":"[\\^$.|?*+()".indexOf(C)>=0?`\\${C}`:C)}_shiftStep(C,T,g){const U=/[*?]/g.test(C.slice(0,T))?g:T;this._shift.add(U+this.prefix.length||0)}_compareOrIncludes(C,T,g){return Array.isArray(T)?T.filter(U=>U!==g).includes(C):C===T}}return D.\u0275fac=function(C){return new(C||D)(n.\u0275\u0275inject(d))},D.\u0275prov=n.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),v=(()=>{class D extends _{constructor(C,T,g,U){super(T),this.document=C,this._config=T,this._elementRef=g,this._renderer=U,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=L=>{}}applyMask(C,T,g=0,U=!1,L=!1,j=(()=>{})){if(!T)return C!==this.actualValue?this.actualValue:C;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(C||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(C||"#")),!C&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const $=C&&"number"==typeof this.selStart?C[this.selStart]:"";let z="";if(this.hiddenInput&&!this.writingValue){let ce=this.actualValue.split("");""!==C&&ce.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(C.length>ce.length?ce.splice(this.selStart,0,$):C.length<ce.length&&(ce.length-C.length==1?ce.splice(this.selStart-1,1):ce.splice(this.selStart,this.selEnd-this.selStart))):ce=[],this.showMaskTyped&&(C=this.removeMask(C)),z=this.actualValue.length&&ce.length<=C.length?this.shiftTypedSymbols(ce.join("")):C}z=Boolean(z)&&z.length?z:C;const re=super.applyMask(z,T,g,U,L,j);if(this.actualValue=this.getActualValue(re),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(ce=>!this._compareOrIncludes(ce,this.decimalMarker,this.thousandSeparator))),this.formControlResult(re),!this.showMaskTyped)return this.hiddenInput&&re&&re.length?this.hideInput(re,this.maskExpression):re;const W=re.length,ie=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const ce=this._numberSkipedSymbols(re);return re+ie.slice(W+ce)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?re+ie:re+ie.slice(W)}_numberSkipedSymbols(C){const T=/(^|\D)(\d\D)/g;let g=T.exec(C),U=0;for(;null!=g;)U+=1,g=T.exec(C);return U}applyValueChanges(C,T,g,U=(()=>{})){const L=this._elementRef.nativeElement;L.value=this.applyMask(L.value,this.maskExpression,C,T,g,U),L!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(C,T){return C.split("").map((g,U)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[T[U]]&&this.maskAvailablePatterns[T[U]]?.symbol?this.maskAvailablePatterns[T[U]]?.symbol:g).join("")}getActualValue(C){const T=C.split("").filter((g,U)=>this._checkSymbolMask(g,this.maskExpression[U])||this.maskSpecialCharacters.includes(this.maskExpression[U])&&g===this.maskExpression[U]);return T.join("")===C?T.join(""):C}shiftTypedSymbols(C){let T="";return(C&&C.split("").map((U,L)=>{if(this.maskSpecialCharacters.includes(C[L+1])&&C[L+1]!==this.maskExpression[L+1])return T=U,C[L+1];if(T.length){const j=T;return T="",j}return U})||[]).join("")}numberToString(C){return C||0===C?Number(C).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(C)}showMaskInInput(C){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(C){if("IP"===this.maskExpression)return this._checkForIp(C);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(C)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const C=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==C.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(C.value,this.maskExpression))}set formElementProperty([C,T]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,C,T))}checkSpecialCharAmount(C){return C.split("").filter(g=>this._findSpecialChar(g)).length}removeMask(C){return this._removeMask(this._removeSuffix(this._removePrefix(C)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(C){if("#"===C)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const T=[];for(let g=0;g<C.length;g++)C[g]?.match("\\d")&&T.push(C[g]);return T.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:T.length>3&&T.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:T.length>6&&T.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(C){const T=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,g=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===C)return T;const U=[];for(let L=0;L<C.length;L++)C[L]?.match("\\d")&&U.push(C[L]);return U.length<=3?T.slice(U.length,T.length):U.length>3&&U.length<=6?T.slice(U.length+1,T.length):U.length>6&&U.length<=9?T.slice(U.length+2,T.length):U.length>9&&U.length<11?T.slice(U.length+3,T.length):11===U.length?"":12===U.length?g.slice(17===C.length?16:15,g.length):U.length>12&&U.length<=14?g.slice(U.length+4,g.length):""}_getActiveElement(C=this.document){const T=C?.activeElement?.shadowRoot;return T?.activeElement?this._getActiveElement(T):C.activeElement}formControlResult(C){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(C)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(C)):this._removeSuffix(C))}_toNumber(C){if(!this.isNumberValue||""===C)return C;const T=Number(C);return Number.isNaN(T)?C:T}_removeMask(C,T){return C&&C.replace(this._regExpForRemove(T),"")}_removePrefix(C){return this.prefix?C&&C.replace(this.prefix,""):C}_removeSuffix(C){return this.suffix?C&&C.replace(this.suffix,""):C}_retrieveSeparatorValue(C){return this._removeMask(this._removeSuffix(this._removePrefix(C)),this.maskSpecialCharacters)}_regExpForRemove(C){return new RegExp(C.map(T=>`\\${T}`).join("|"),"gi")}_checkSymbols(C){if(""===C)return C;const T=this._retrieveSeparatorPrecision(this.maskExpression);let g=this._retrieveSeparatorValue(C);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&(g=g.replace(this.decimalMarker,".")),this.isNumberValue?T?C===this.decimalMarker?null:this._checkPrecision(this.maskExpression,g):Number(g):g}_retrieveSeparatorPrecision(C){const T=C.match(new RegExp("^separator\\.([^d]*)"));return T?Number(T[1]):null}_checkPrecision(C,T){return C.indexOf("2")>0?Number(T).toFixed(2):Number(T)}}return D.\u0275fac=function(C){return new(C||D)(n.\u0275\u0275inject(i.K0),n.\u0275\u0275inject(d),n.\u0275\u0275inject(n.ElementRef),n.\u0275\u0275inject(n.Renderer2))},D.\u0275prov=n.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),y=(()=>{class D{constructor(C,T,g){this.document=C,this._maskService=T,this._config=g,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new n.EventEmitter,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=U=>{},this.onTouch=()=>{}}ngOnChanges(C){const{maskExpression:T,specialCharacters:g,patterns:U,prefix:L,suffix:j,thousandSeparator:$,decimalMarker:z,dropSpecialCharacters:re,hiddenInput:W,showMaskTyped:ie,placeHolderCharacter:ce,shownMaskExpression:ne,showTemplate:K,clearIfNotMatch:w,validation:Q,separatorLimit:oe,allowNegativeNumbers:q,leadZeroDateTime:ee,triggerOnMaskChange:J}=C;if(T&&(T.currentValue!==T.previousValue&&!T.firstChange&&(this._maskService.maskChanged=!0),T.currentValue&&T.currentValue.split("||").length>1?(this._maskExpressionArray=T.currentValue.split("||").sort((Ee,Oe)=>Ee.length-Oe.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=T.currentValue||"",this._maskService.maskExpression=this._maskValue)),g){if(!g.currentValue||!Array.isArray(g.currentValue))return;this._maskService.maskSpecialCharacters=g.currentValue||[]}U&&U.currentValue&&(this._maskService.maskAvailablePatterns=U.currentValue),L&&(this._maskService.prefix=L.currentValue),j&&(this._maskService.suffix=j.currentValue),$&&(this._maskService.thousandSeparator=$.currentValue),z&&(this._maskService.decimalMarker=z.currentValue),re&&(this._maskService.dropSpecialCharacters=re.currentValue),W&&(this._maskService.hiddenInput=W.currentValue),ie&&(this._maskService.showMaskTyped=ie.currentValue),ce&&(this._maskService.placeHolderCharacter=ce.currentValue),ne&&(this._maskService.shownMaskExpression=ne.currentValue),K&&(this._maskService.showTemplate=K.currentValue),w&&(this._maskService.clearIfNotMatch=w.currentValue),Q&&(this._maskService.validation=Q.currentValue),oe&&(this._maskService.separatorLimit=oe.currentValue),q&&(this._maskService.allowNegativeNumbers=q.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(Ee=>"-"!==Ee))),ee&&(this._maskService.leadZeroDateTime=ee.currentValue),J&&(this._maskService.triggerOnMaskChange=J.currentValue),this._applyMask()}validate({value:C}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(C);if(this._maskService.cpfCnpjError)return this._createValidationError(C);if(this._maskValue.startsWith("separator")||m.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(h.includes(this._maskValue))return this._validateTime(C);if(C&&C.toString().length>=1){let T=0;for(const g in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[g].optional&&(this._maskValue.indexOf(g)!==this._maskValue.lastIndexOf(g)?T+=this._maskValue.split("").filter(L=>L===g).join("").length:-1!==this._maskValue.indexOf(g)&&T++,-1!==this._maskValue.indexOf(g)&&C.toString().length>=this._maskValue.indexOf(g)||T===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&C.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&C.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&C.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(C);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const g=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-T:this._maskValue.length-T;if(C.toString().length<g)return this._createValidationError(C)}}return C&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(C){(""===C||null==C)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(C){const T=C.target;if(this._inputValue=T.value,this._setMask(),!this._maskValue)return void this.onChange(T.value);const g=1===T.selectionStart?T.selectionStart+this._maskService.prefix.length:T.selectionStart;let U=0,L=!1;if(this._maskService.applyValueChanges(g,this._justPasted,"Backspace"===this._code||"Delete"===this._code,($,z)=>{this._justPasted=!1,U=$,L=z}),this._getActiveElement()!==T)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let j=this._position?this._inputValue.length+g+U:g+("Backspace"!==this._code||L?U:0);j>this._getActualInputLength()&&(j=this._getActualInputLength()),j<0&&(j=0),T.setSelectionRange(j,j),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(C){if(!this._maskValue)return;const T=C.target;null!==T&&null!==T.selectionStart&&T.selectionStart===T.selectionEnd&&T.selectionStart>this._maskService.prefix.length&&38!==C.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),T.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===T.value?(T.focus(),T.setSelectionRange(0,0)):T.selectionStart>this._maskService.actualValue.length&&T.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const L=T.value&&T.value!==this._maskService.prefix?T.value:this._maskService.prefix+this._maskService.maskIsShown;T.value!==L&&(T.value=L),(T.selectionStart||T.selectionEnd)<=this._maskService.prefix.length?T.selectionStart=this._maskService.prefix.length:T.selectionEnd>this._getActualInputLength()&&(T.selectionEnd=this._getActualInputLength())}onKeyDown(C){if(!this._maskValue)return;this._code=C.code?C.code:C.key;const T=C.target;if(this._inputValue=T.value,this._setMask(),38===C.keyCode&&C.preventDefault(),37===C.keyCode||8===C.keyCode||46===C.keyCode){if(8===C.keyCode&&0===T.value.length&&(T.selectionStart=T.selectionEnd),8===C.keyCode&&0!==T.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&T.selectionStart<=this.prefix.length)T.setSelectionRange(this.prefix.length,T.selectionEnd);else if(this._inputValue.length!==T.selectionStart&&1!==T.selectionStart)for(;this.specialCharacters.includes(this._inputValue[T.selectionStart-1].toString())&&(this.prefix.length>=1&&T.selectionStart>this.prefix.length||0===this.prefix.length);)T.setSelectionRange(T.selectionStart-1,T.selectionEnd);this.checkSelectionOnDeletion(T),this._maskService.prefix.length&&T.selectionStart<=this._maskService.prefix.length&&T.selectionEnd<=this._maskService.prefix.length&&C.preventDefault(),8===C.keyCode&&!T.readOnly&&0===T.selectionStart&&T.selectionEnd===T.value.length&&0!==T.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<T.selectionStart?T.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===C.keyCode&&C.ctrlKey||65===C.keyCode&&C.metaKey)&&(T.setSelectionRange(0,this._getActualInputLength()),C.preventDefault()),this._maskService.selStart=T.selectionStart,this._maskService.selEnd=T.selectionEnd}writeValue(C){var T=this;return(0,t.Z)(function*(){"object"==typeof C&&null!==C&&"value"in C&&("disable"in C&&T.setDisabledState(Boolean(C.disable)),C=C.value),("number"==typeof C||T._maskValue.startsWith("separator"))&&(C=T._maskService.numberToString(C),Array.isArray(T.decimalMarker)||(C="."!==T.decimalMarker?C.replace(".",T.decimalMarker):C),T._maskService.isNumberValue=!0),"string"!=typeof C&&(C=""),T._inputValue=C,T._setMask(),C&&T._maskService.maskExpression||T._maskService.maskExpression&&(T._maskService.prefix||T._maskService.showMaskTyped)?(T._maskService.writingValue=!0,T._maskService.formElementProperty=["value",T._maskService.applyMask(C,T._maskService.maskExpression)],T._maskService.writingValue=!1):T._maskService.formElementProperty=["value",C],T._inputValue=C})()}registerOnChange(C){this.onChange=C,this._maskService.onChange=this.onChange}registerOnTouched(C){this.onTouch=C}_getActiveElement(C=this.document){const T=C?.activeElement?.shadowRoot;return T?.activeElement?this._getActiveElement(T):C.activeElement}checkSelectionOnDeletion(C){C.selectionStart=Math.min(Math.max(this.prefix.length,C.selectionStart),this._inputValue.length-this.suffix.length),C.selectionEnd=Math.min(Math.max(this.prefix.length,C.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(C){this._maskService.formElementProperty=["disabled",C]}_repeatPatternSymbols(C){return C.match(/{[0-9]+}/)&&C.split("").reduce((T,g,U)=>{if(this._start="{"===g?U:this._start,"}"!==g)return this._maskService._findSpecialChar(g)?T+g:T;this._end=U;const L=Number(C.slice(this._start+1,this._end));return T+new Array(L+1).join(C[this._start-1])},"")||C}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(C){const T=this._maskValue.split("").filter(g=>":"!==g).length;return C&&(0==+C[C.length-1]&&C.length<T||C.length<=T-2)?this._createValidationError(C):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(C){return{mask:{requiredMask:this._maskValue,actualValue:C}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(C=>{const T=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(C)?.length;if(this._inputValue&&T)return this._maskValue=C,this.maskExpression=C,this._maskService.maskExpression=C,T;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return D.\u0275fac=function(C){return new(C||D)(n.\u0275\u0275directiveInject(i.K0),n.\u0275\u0275directiveInject(v),n.\u0275\u0275directiveInject(d))},D.\u0275dir=n.\u0275\u0275defineDirective({type:D,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(C,T){1&C&&n.\u0275\u0275listener("paste",function(){return T.onPaste()})("ngModelChange",function(U){return T.onModelChange(U)})("input",function(U){return T.onInput(U)})("blur",function(){return T.onBlur()})("click",function(U){return T.onClick(U)})("keydown",function(U){return T.onKeyDown(U)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[n.\u0275\u0275ProvidersFeature([{provide:a.JU,useExisting:(0,n.forwardRef)(()=>D),multi:!0},{provide:a.Cf,useExisting:(0,n.forwardRef)(()=>D),multi:!0},v]),n.\u0275\u0275NgOnChangesFeature]}),D})();function S(D,M){return M instanceof Function?{...D,...M()}:{...D,...M}}let b=(()=>{class D{static forRoot(C){return{ngModule:D,providers:[{provide:r,useValue:C},{provide:l,useValue:p},{provide:d,useFactory:S,deps:[l,r]},_]}}static forChild(){return{ngModule:D}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275mod=n.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=n.\u0275\u0275defineInjector({}),D})();const o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};o.KeyboardEvent||(o.KeyboardEvent=function(D,M){})},22413:(R,c,e)=>{"use strict";e.d(c,{JX:()=>T,_s:()=>S});var t=e(98678),n=e(35103);class y{constructor(){this.change=new t.EventEmitter,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(U){return null==U.id&&(U.id=this.DEFAULT_ID),this.instances[U.id]?this.updateInstance(U):(this.instances[U.id]=U,!0)}updateInstance(U){let L=!1;for(let j in this.instances[U.id])U[j]!==this.instances[U.id][j]&&(this.instances[U.id][j]=U[j],L=!0);return L}getCurrentPage(U){return this.instances[U]?this.instances[U].currentPage:1}setCurrentPage(U,L){if(this.instances[U]){let j=this.instances[U];L<=Math.ceil(j.totalItems/j.itemsPerPage)&&1<=L&&(this.instances[U].currentPage=L,this.change.emit(U))}}setTotalItems(U,L){this.instances[U]&&0<=L&&(this.instances[U].totalItems=L,this.change.emit(U))}setItemsPerPage(U,L){this.instances[U]&&(this.instances[U].itemsPerPage=L,this.change.emit(U))}getInstance(U=this.DEFAULT_ID){return this.instances[U]?this.clone(this.instances[U]):{}}clone(U){var L={};for(var j in U)U.hasOwnProperty(j)&&(L[j]=U[j]);return L}}const O=Number.MAX_SAFE_INTEGER;let S=(()=>{class g{constructor(L){this.service=L,this.state={}}transform(L,j){if(!(L instanceof Array)){let K=j.id||this.service.defaultId();return this.state[K]?this.state[K].slice:L}let W,ie,$=j.totalItems&&j.totalItems!==L.length,z=this.createInstance(L,j),re=z.id,ce=z.itemsPerPage,ne=this.service.register(z);if(!$&&L instanceof Array){if(ce=+ce||O,W=(z.currentPage-1)*ce,ie=W+ce,this.stateIsIdentical(re,L,W,ie))return this.state[re].slice;{let w=L.slice(W,ie);return this.saveState(re,L,w,W,ie),this.service.change.emit(re),w}}return ne&&this.service.change.emit(re),this.saveState(re,L,L,W,ie),L}createInstance(L,j){return this.checkConfig(j),{id:null!=j.id?j.id:this.service.defaultId(),itemsPerPage:+j.itemsPerPage||0,currentPage:+j.currentPage||1,totalItems:+j.totalItems||L.length}}checkConfig(L){const $=["itemsPerPage","currentPage"].filter(z=>!(z in L));if(0<$.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${$.join(", ")}`)}saveState(L,j,$,z,re){this.state[L]={collection:j,size:j.length,slice:$,start:z,end:re}}stateIsIdentical(L,j,$,z){let re=this.state[L];return!(!re||re.size!==j.length||re.start!==$||re.end!==z)&&re.slice.every((ie,ce)=>ie===j[$+ce])}}return g.\u0275fac=function(L){return new(L||g)(t.\u0275\u0275directiveInject(y,16))},g.\u0275pipe=t.\u0275\u0275definePipe({name:"paginate",type:g,pure:!1}),g})(),T=(()=>{class g{}return g.\u0275fac=function(L){return new(L||g)},g.\u0275mod=t.\u0275\u0275defineNgModule({type:g}),g.\u0275inj=t.\u0275\u0275defineInjector({providers:[y],imports:[[n.ez]]}),g})()},1599:(R,c,e)=>{"use strict";e.d(c,{S:()=>h,o:()=>p});var t=e(98678),n=e(5476),a=e(35103);function i(m,_){if(1&m&&(t.\u0275\u0275elementStart(0,"label",2)(1,"span",3),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",4),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&m){const v=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("color",v.getColor("checkedTextColor")),t.\u0275\u0275attribute("aria-label",v.checkedLabel),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(v.checkedLabel),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("color",v.getColor("uncheckedTextColor")),t.\u0275\u0275attribute("aria-label",v.uncheckedLabel),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(v.uncheckedLabel)}}const d=["*"],r=new t.InjectionToken("UI_SWITCH_OPTIONS"),l={provide:n.JU,useExisting:(0,t.forwardRef)(()=>p),multi:!0};let p=(()=>{class m{constructor(v={},y){this.cdr=y,this.change=new t.EventEmitter,this.changeEvent=new t.EventEmitter,this.valueChange=new t.EventEmitter,this.onTouchedCallback=O=>{},this.onChangeCallback=O=>{},this.size=v&&v.size||"medium",this.color=v&&v.color,this.switchOffColor=v&&v.switchOffColor,this.switchColor=v&&v.switchColor,this.defaultBgColor=v&&v.defaultBgColor,this.defaultBoColor=v&&v.defaultBoColor,this.checkedLabel=v&&v.checkedLabel,this.uncheckedLabel=v&&v.uncheckedLabel,this.checkedTextColor=v&&v.checkedTextColor,this.uncheckedTextColor=v&&v.uncheckedTextColor}set checked(v){this._checked=!1!==v}get checked(){return this._checked}set disabled(v){this._disabled=!1!==v}get disabled(){return this._disabled}set reverse(v){this._reverse=!1!==v}get reverse(){return this._reverse}set loading(v){this._loading=!1!==v}get loading(){return this._loading}getColor(v=""){return"borderColor"===v?this.defaultBoColor:"switchColor"===v?this.reverse?this.checked&&this.switchOffColor||this.switchColor:this.checked?this.switchColor:this.switchOffColor||this.switchColor:"checkedTextColor"===v?this.reverse?this.uncheckedTextColor:this.checkedTextColor:"uncheckedTextColor"===v?this.reverse?this.checkedTextColor:this.uncheckedTextColor:this.reverse?this.checked?this.defaultBgColor:this.color:this.checked?this.color:this.defaultBgColor}onClick(v){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked),this.valueChange.emit(this.checked),this.changeEvent.emit(v),this.onChangeCallback(this.checked),this.onTouchedCallback(this.checked),this.cdr.markForCheck())}onToggle(v){this.disabled||(this.beforeChange?this._beforeChange=this.beforeChange.subscribe(y=>{y&&this.onClick(v)}):this.onClick(v))}writeValue(v){v!==this.checked&&(this.checked=!!v),this.onChangeCallback(this.checked),this.cdr&&this.cdr.markForCheck()}registerOnChange(v){this.onChangeCallback=v}registerOnTouched(v){this.onTouchedCallback=v}setDisabledState(v){this.disabled=v}ngOnDestroy(){this._beforeChange&&this._beforeChange.unsubscribe()}}return m.\u0275fac=function(v){return new(v||m)(t.\u0275\u0275directiveInject(r,8),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},m.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["ui-switch"]],hostBindings:function(v,y){1&v&&t.\u0275\u0275listener("click",function(S){return y.onToggle(S)})},inputs:{size:"size",color:"color",switchOffColor:"switchOffColor",switchColor:"switchColor",defaultBgColor:"defaultBgColor",defaultBoColor:"defaultBoColor",checkedLabel:"checkedLabel",uncheckedLabel:"uncheckedLabel",checkedTextColor:"checkedTextColor",uncheckedTextColor:"uncheckedTextColor",beforeChange:"beforeChange",checked:"checked",disabled:"disabled",reverse:"reverse",loading:"loading"},outputs:{change:"change",changeEvent:"changeEvent",valueChange:"valueChange"},features:[t.\u0275\u0275ProvidersFeature([l])],ngContentSelectors:d,decls:4,vars:20,consts:[["type","button","role","switch",1,"switch"],["class","switch-pane",4,"ngIf"],[1,"switch-pane"],[1,"switch-label-checked"],[1,"switch-label-unchecked"]],template:function(v,y){1&v&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275template(1,i,5,8,"label",1),t.\u0275\u0275elementStart(2,"small"),t.\u0275\u0275projection(3),t.\u0275\u0275elementEnd()()),2&v&&(t.\u0275\u0275styleProp("background-color",y.getColor())("border-color",y.getColor("borderColor")),t.\u0275\u0275classProp("checked",y.checked)("disabled",y.disabled)("loading",y.loading)("switch-large","large"===y.size)("switch-medium","medium"===y.size)("switch-small","small"===y.size),t.\u0275\u0275attribute("aria-checked",y.checked),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",y.checkedLabel||y.uncheckedLabel),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("background",y.getColor("switchColor")))},dependencies:[a.O5],encapsulation:2}),m})(),h=(()=>{class m{static forRoot(v){return{ngModule:m,providers:[{provide:r,useValue:v||{}}]}}}return m.\u0275fac=function(v){return new(v||m)},m.\u0275mod=t.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=t.\u0275\u0275defineInjector({imports:[a.ez,n.u5,n.u5]}),m})()},44423:(R,c,e)=>{"use strict";function t(a,i,d,r,l,p,h){try{var m=a[p](h),_=m.value}catch(v){return void d(v)}m.done?i(_):Promise.resolve(_).then(r,l)}function n(a){return function(){var i=this,d=arguments;return new Promise(function(r,l){var p=a.apply(i,d);function h(_){t(p,r,l,h,m,"next",_)}function m(_){t(p,r,l,h,m,"throw",_)}h(void 0)})}}e.d(c,{Z:()=>n})}},R=>{R(R.s=44598)}]);