"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4956,exports.ids=[4956],exports.modules={64956:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditCommunityPageModule:()=>EditCommunityPageModule});var common=__webpack_require__(65159),shared_module=__webpack_require__(47013),edit_comcol_page_component=__webpack_require__(12086),community_page_routing_paths=__webpack_require__(50093),core=__webpack_require__(86209),router=__webpack_require__(16088),ngx_translate_core=__webpack_require__(4330);const _c0=__name(function(a0){return{active:a0}},"_c0"),_c1=__name(function(a0){return[a0]},"_c1");function EditCommunityPageComponent_li_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",13)(1,"a",14),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const page_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngClass",core.VKq(5,_c0,page_r2===ctx_r0.currentPage))("routerLink",core.VKq(7,_c1,"./"+page_r2)),core.xp6(1),core.hij(" ",core.lcZ(3,3,ctx_r0.type+".edit.tabs."+page_r2+".head")," ")}}function EditCommunityPageComponent_a_20_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",15),core.ALo(1,"async"),core._UZ(2,"i",16),core._uU(3),core.ALo(4,"translate"),core.qZA()),2&rf){const ctx_r1=core.oxw();let tmp_0_0;core.Q6J("routerLink",ctx_r1.getPageUrl(null==(tmp_0_0=core.lcZ(1,2,ctx_r1.dsoRD$))?null:tmp_0_0.payload)),core.xp6(3),core.hij(" ",core.lcZ(4,4,ctx_r1.type+".edit.return")," ")}}__name(EditCommunityPageComponent_li_15_Template,"EditCommunityPageComponent_li_15_Template"),__name(EditCommunityPageComponent_a_20_Template,"EditCommunityPageComponent_a_20_Template");class EditCommunityPageComponent extends edit_comcol_page_component.x{constructor(router2,route){super(router2,route),this.router=router2,this.route=route,this.type="community"}getPageUrl(community){return(0,community_page_routing_paths.Ke)(community.id)}}__name(EditCommunityPageComponent,"EditCommunityPageComponent"),EditCommunityPageComponent.\u0275fac=__name(function(t){return new(t||EditCommunityPageComponent)(core.Y36(router.F0),core.Y36(router.gz))},"EditCommunityPageComponent_Factory"),EditCommunityPageComponent.\u0275cmp=core.Xpm({type:EditCommunityPageComponent,selectors:[["ds-edit-community"]],features:[core.qOj],decls:21,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom"],[1,"btn","btn-danger",3,"routerLink"],[1,"fas","fa-trash"],[1,"pt-2"],[1,"nav","nav-tabs","justify-content-start","mb-2"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-pane","active"],[1,"mb-4"],[1,"col-12","text-right"],["class","btn btn-outline-secondary",3,"routerLink",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"ngClass","routerLink"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div")(8,"a",4),core.ALo(9,"async"),core._UZ(10,"i",5),core._uU(11),core.ALo(12,"translate"),core.qZA()()(),core.TgZ(13,"div",6)(14,"ul",7),core.YNc(15,EditCommunityPageComponent_li_15_Template,4,9,"li",8),core.qZA(),core.TgZ(16,"div",9)(17,"div",10),core._UZ(18,"router-outlet"),core.qZA(),core.TgZ(19,"div",11),core.YNc(20,EditCommunityPageComponent_a_20_Template,5,6,"a",12),core.qZA()()()()()()),2&rf){let tmp_1_0;core.xp6(5),core.Oqu(core.lcZ(6,5,ctx.type+".edit.head")),core.xp6(3),core.Q6J("routerLink",("community"===ctx.type?"/communities/":"/collections/")+(null==(tmp_1_0=core.lcZ(9,7,ctx.dsoRD$))?null:tmp_1_0.payload.uuid)+"/delete"),core.xp6(3),core.hij(" ",core.lcZ(12,9,ctx.type+".edit.delete"),""),core.xp6(4),core.Q6J("ngForOf",ctx.pages),core.xp6(5),core.Q6J("ngIf",!ctx.hideReturnButton)}},"EditCommunityPageComponent_Template"),dependencies:[common.mk,common.sg,common.O5,router.lC,router.rH,common.Ov,ngx_translate_core.X$],encapsulation:2});var comcol_metadata_component=__webpack_require__(90921),community_model=__webpack_require__(62597),community_data_service=__webpack_require__(62063),notifications_service=__webpack_require__(39373),community_form_component=__webpack_require__(84644);class CommunityMetadataComponent extends comcol_metadata_component.Z{constructor(communityDataService,router2,route,notificationsService,translate){super(communityDataService,router2,route,notificationsService,translate),this.communityDataService=communityDataService,this.router=router2,this.route=route,this.notificationsService=notificationsService,this.translate=translate,this.frontendURL="/communities/",this.type=community_model.S.type}}__name(CommunityMetadataComponent,"CommunityMetadataComponent"),CommunityMetadataComponent.\u0275fac=__name(function(t){return new(t||CommunityMetadataComponent)(core.Y36(community_data_service.w),core.Y36(router.F0),core.Y36(router.gz),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK))},"CommunityMetadataComponent_Factory"),CommunityMetadataComponent.\u0275cmp=core.Xpm({type:CommunityMetadataComponent,selectors:[["ds-community-metadata"]],features:[core.qOj],decls:2,vars:3,consts:[[3,"dso","submitForm","back","finish"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-community-form",0),core.NdJ("submitForm",__name(function($event){return ctx.onSubmit($event)},"CommunityMetadataComponent_Template_ds_community_form_submitForm_0_listener"))("back",__name(function(){return ctx.navigateToHomePage()},"CommunityMetadataComponent_Template_ds_community_form_back_0_listener"))("finish",__name(function(){return ctx.navigateToHomePage()},"CommunityMetadataComponent_Template_ds_community_form_finish_0_listener")),core.ALo(1,"async"),core.qZA()),2&rf){let tmp_0_0;core.Q6J("dso",null==(tmp_0_0=core.lcZ(1,1,ctx.dsoRD$))?null:tmp_0_0.payload)}},"CommunityMetadataComponent_Template"),dependencies:[community_form_component.C,common.Ov],encapsulation:2});var operators=__webpack_require__(96846),shared_operators=__webpack_require__(53829),comcol_role_component=__webpack_require__(47264);function CommunityRolesComponent_ds_comcol_role_0_Template(rf,ctx){if(1&rf&&(core._UZ(0,"ds-comcol-role",1),core.ALo(1,"async")),2&rf){const comcolRole_r1=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("dso",core.lcZ(1,2,ctx_r0.community$))("comcolRole",comcolRole_r1)}}__name(CommunityRolesComponent_ds_comcol_role_0_Template,"CommunityRolesComponent_ds_comcol_role_0_Template");class CommunityRolesComponent{constructor(route){this.route=route}ngOnInit(){this.dsoRD$=this.route.parent.data.pipe((0,operators.Ps)(),(0,operators.UI)(data=>data.dso)),this.community$=this.dsoRD$.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()),this.comcolRoles$=this.community$.pipe((0,operators.UI)(community=>[{name:"community-admin",href:community._links.adminGroup.href}]))}}__name(CommunityRolesComponent,"CommunityRolesComponent"),CommunityRolesComponent.\u0275fac=__name(function(t){return new(t||CommunityRolesComponent)(core.Y36(router.gz))},"CommunityRolesComponent_Factory"),CommunityRolesComponent.\u0275cmp=core.Xpm({type:CommunityRolesComponent,selectors:[["ds-community-roles"]],decls:2,vars:3,consts:[[3,"dso","comcolRole",4,"ngFor","ngForOf"],[3,"dso","comcolRole"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CommunityRolesComponent_ds_comcol_role_0_Template,2,4,"ds-comcol-role",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngForOf",core.lcZ(1,1,ctx.comcolRoles$))},"CommunityRolesComponent_Template"),dependencies:[common.sg,comcol_role_component.b,common.Ov],encapsulation:2});var dso_name_service=__webpack_require__(17306),empty_util=__webpack_require__(59501),curation_form_component=__webpack_require__(52069);const community_curate_component_c0=__name(function(a0){return{community:a0}},"community_curate_component_c0");class CommunityCurateComponent{constructor(route,dsoNameService){this.route=route,this.dsoNameService=dsoNameService}ngOnInit(){this.dsoRD$=this.route.parent.data.pipe((0,operators.qn)(1),(0,operators.UI)(data=>data.dso)),this.communityName$=this.dsoRD$.pipe((0,operators.hX)(rd=>(0,empty_util.Uh)(rd)),(0,operators.UI)(rd=>this.dsoNameService.getName(rd.payload)))}}__name(CommunityCurateComponent,"CommunityCurateComponent"),CommunityCurateComponent.\u0275fac=__name(function(t){return new(t||CommunityCurateComponent)(core.Y36(router.gz),core.Y36(dso_name_service._))},"CommunityCurateComponent_Factory"),CommunityCurateComponent.\u0275cmp=core.Xpm({type:CommunityCurateComponent,selectors:[["ds-community-curate"]],decls:7,vars:11,consts:[[1,"container"],[3,"dsoHandle"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"h3"),core._uU(2),core.ALo(3,"translate"),core.ALo(4,"async"),core.qZA(),core._UZ(5,"ds-curation-form",1),core.ALo(6,"async"),core.qZA()),2&rf){let tmp_1_0;core.xp6(2),core.Oqu(core.xi3(3,2,"community.curate.header",core.VKq(9,community_curate_component_c0,core.lcZ(4,5,ctx.communityName$)))),core.xp6(3),core.Q6J("dsoHandle",null==(tmp_1_0=core.lcZ(6,7,ctx.dsoRD$))?null:tmp_1_0.payload.handle)}},"CommunityCurateComponent_Template"),dependencies:[curation_form_component._,common.Ov,ngx_translate_core.X$],encapsulation:2});var i18n_breadcrumb_resolver=__webpack_require__(96478),resource_policies_component=__webpack_require__(96925);class CommunityAuthorizationsComponent{constructor(route){this.route=route}ngOnInit(){this.dsoRD$=this.route.parent.parent.data.pipe((0,operators.Ps)(),(0,operators.UI)(data=>data.dso))}}__name(CommunityAuthorizationsComponent,"CommunityAuthorizationsComponent"),CommunityAuthorizationsComponent.\u0275fac=__name(function(t){return new(t||CommunityAuthorizationsComponent)(core.Y36(router.gz))},"CommunityAuthorizationsComponent_Factory"),CommunityAuthorizationsComponent.\u0275cmp=core.Xpm({type:CommunityAuthorizationsComponent,selectors:[["ds-community-authorizations"]],decls:3,vars:4,consts:[[1,"container"],[3,"resourceType","resourceUUID"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-resource-policies",1),core.ALo(2,"async"),core.qZA()),2&rf){let tmp_1_0;core.xp6(1),core.Q6J("resourceType","community")("resourceUUID",null==(tmp_1_0=core.lcZ(2,2,ctx.dsoRD$))||null==tmp_1_0.payload?null:tmp_1_0.payload.id)}},"CommunityAuthorizationsComponent_Template"),dependencies:[resource_policies_component.F,common.Ov],encapsulation:2});var resource_policy_target_resolver=__webpack_require__(333),resource_policy_create_component=__webpack_require__(4367),resource_policy_resolver=__webpack_require__(38286),resource_policy_edit_component=__webpack_require__(37175),single_feature_authorization_guard=__webpack_require__(16191),authorization_data_service=__webpack_require__(32418),auth_service=__webpack_require__(22410),cjs=__webpack_require__(93489),feature_id=__webpack_require__(60676);class CommunityAdministratorGuard extends single_feature_authorization_guard.C{constructor(authorizationService,router2,authService){super(authorizationService,router2,authService),this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(route,state){return(0,cjs.of)(feature_id.i.IsCommunityAdmin)}}__name(CommunityAdministratorGuard,"CommunityAdministratorGuard"),CommunityAdministratorGuard.\u0275fac=__name(function(t){return new(t||CommunityAdministratorGuard)(core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"CommunityAdministratorGuard_Factory"),CommunityAdministratorGuard.\u0275prov=core.Yz7({token:CommunityAdministratorGuard,factory:CommunityAdministratorGuard.\u0275fac,providedIn:"root"});var access_control_form_container_component=__webpack_require__(94457);function CommunityAccessControlComponent_ds_access_control_form_container_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-access-control-form-container",1),2&rf){const itemRD_r1=ctx.ngIf;core.Q6J("itemRD",itemRD_r1)("showLimitToSpecificBitstreams",!1)}}__name(CommunityAccessControlComponent_ds_access_control_form_container_0_Template,"CommunityAccessControlComponent_ds_access_control_form_container_0_Template");class CommunityAccessControlComponent{constructor(route){this.route=route}ngOnInit(){this.itemRD$=this.route.parent.parent.data.pipe((0,operators.UI)(data=>data.dso)).pipe((0,shared_operators.xw)())}}__name(CommunityAccessControlComponent,"CommunityAccessControlComponent"),CommunityAccessControlComponent.\u0275fac=__name(function(t){return new(t||CommunityAccessControlComponent)(core.Y36(router.gz))},"CommunityAccessControlComponent_Factory"),CommunityAccessControlComponent.\u0275cmp=core.Xpm({type:CommunityAccessControlComponent,selectors:[["ds-community-access-control"]],decls:2,vars:3,consts:[["titleMessage","community-access-control-title",3,"itemRD","showLimitToSpecificBitstreams",4,"ngIf"],["titleMessage","community-access-control-title",3,"itemRD","showLimitToSpecificBitstreams"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CommunityAccessControlComponent_ds_access_control_form_container_0_Template,1,2,"ds-access-control-form-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.itemRD$))},"CommunityAccessControlComponent_Template"),dependencies:[common.O5,access_control_form_container_component.x,common.Ov]});class EditCommunityPageRoutingModule{}__name(EditCommunityPageRoutingModule,"EditCommunityPageRoutingModule"),EditCommunityPageRoutingModule.\u0275fac=__name(function(t){return new(t||EditCommunityPageRoutingModule)},"EditCommunityPageRoutingModule_Factory"),EditCommunityPageRoutingModule.\u0275mod=core.oAB({type:EditCommunityPageRoutingModule}),EditCommunityPageRoutingModule.\u0275inj=core.cJS({providers:[resource_policy_resolver.b,resource_policy_target_resolver.a],imports:[router.Bz.forChild([{path:"",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{breadcrumbKey:"community.edit"},component:EditCommunityPageComponent,canActivate:[CommunityAdministratorGuard],children:[{path:"",redirectTo:"metadata",pathMatch:"full"},{path:"metadata",component:CommunityMetadataComponent,data:{title:"community.edit.tabs.metadata.title",hideReturnButton:!0,showBreadcrumbs:!0}},{path:"roles",component:CommunityRolesComponent,data:{title:"community.edit.tabs.roles.title",showBreadcrumbs:!0}},{path:"curate",component:CommunityCurateComponent,data:{title:"community.edit.tabs.curate.title",showBreadcrumbs:!0}},{path:"access-control",component:CommunityAccessControlComponent,data:{title:"collection.edit.tabs.access-control.title",showBreadcrumbs:!0}},{path:"authorizations",data:{showBreadcrumbs:!0},children:[{path:"create",resolve:{resourcePolicyTarget:resource_policy_target_resolver.a},component:resource_policy_create_component.v,data:{title:"resource-policies.create.page.title"}},{path:"edit",resolve:{resourcePolicy:resource_policy_resolver.b},component:resource_policy_edit_component.x,data:{title:"resource-policies.edit.page.title"}},{path:"",component:CommunityAuthorizationsComponent,data:{title:"community.edit.tabs.authorizations.title",showBreadcrumbs:!0,hideReturnButton:!0}}]}]}])]});var community_form_module=__webpack_require__(39620),resource_policies_module=__webpack_require__(21574),comcol_module=__webpack_require__(88122),access_control_form_module=__webpack_require__(6363);class EditCommunityPageModule{}__name(EditCommunityPageModule,"EditCommunityPageModule"),EditCommunityPageModule.\u0275fac=__name(function(t){return new(t||EditCommunityPageModule)},"EditCommunityPageModule_Factory"),EditCommunityPageModule.\u0275mod=core.oAB({type:EditCommunityPageModule}),EditCommunityPageModule.\u0275inj=core.cJS({imports:[common.ez,shared_module.m,EditCommunityPageRoutingModule,community_form_module.T,comcol_module.H,resource_policies_module.q,access_control_form_module.J]})},72961:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gr:()=>ITEM_EDIT_MOVE_PATH,Js:()=>ITEM_EDIT_REGISTER_DOI_PATH,M0:()=>ITEM_EDIT_WITHDRAW_PATH,N:()=>ITEM_EDIT_AUTHORIZATIONS_PATH,Pu:()=>ITEM_EDIT_REINSTATE_PATH,X$:()=>ITEM_EDIT_PRIVATE_PATH,dI:()=>ITEM_EDIT_PUBLIC_PATH,kJ:()=>ITEM_EDIT_DELETE_PATH});const ITEM_EDIT_WITHDRAW_PATH="withdraw",ITEM_EDIT_REINSTATE_PATH="reinstate",ITEM_EDIT_PRIVATE_PATH="private",ITEM_EDIT_PUBLIC_PATH="public",ITEM_EDIT_DELETE_PATH="delete",ITEM_EDIT_MOVE_PATH="move",ITEM_EDIT_AUTHORIZATIONS_PATH="authorizations",ITEM_EDIT_REGISTER_DOI_PATH="register-doi"},6363:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>AccessControlFormModule});var _angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(65159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4330),ngx_ui_switch__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42450),_shared_module__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47013),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(23506),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);class AccessControlFormModule{}__name(AccessControlFormModule,"AccessControlFormModule"),AccessControlFormModule.\u0275fac=__name(function(t){return new(t||AccessControlFormModule)},"AccessControlFormModule_Factory"),AccessControlFormModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:AccessControlFormModule}),AccessControlFormModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.ez,_shared_module__WEBPACK_IMPORTED_MODULE_0__.m,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.aw,ngx_ui_switch__WEBPACK_IMPORTED_MODULE_4__.S,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__.M]})},4367:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>ResourcePolicyCreateComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14076),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39373),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17306),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72961),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53829),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14913);class ResourcePolicyCreateComponent{constructor(dsoNameService,notificationsService,resourcePolicyService,route,router,translate){this.dsoNameService=dsoNameService,this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.targetResourceUUID=data.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(data.resourcePolicyTarget.payload)})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}createResourcePolicy(event){let response$;this.processing$.next(!0),response$="eperson"===event.target.type?this.resourcePolicyService.create(event.object,this.targetResourceUUID,event.target.uuid):this.resourcePolicyService.create(event.object,this.targetResourceUUID,null,event.target.uuid),response$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)()).subscribe(responseRD=>{this.processing$.next(!1),responseRD.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))})}}__name(ResourcePolicyCreateComponent,"ResourcePolicyCreateComponent"),ResourcePolicyCreateComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyCreateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyCreateComponent_Factory"),ResourcePolicyCreateComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyCreateComponent,selectors:[["ds-resource-policy-create"]],decls:5,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.createResourcePolicy($event)},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,3,"resource-policies.create.page.heading")," ",ctx.targetResourceName,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("isProcessing",ctx.isProcessing()))},"ResourcePolicyCreateComponent_Template"),dependencies:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},37175:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>ResourcePolicyEditComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14076),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39373),_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92103),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72961),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53829),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14913);class ResourcePolicyEditComponent{constructor(notificationsService,resourcePolicyService,route,router,translate){this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.resourcePolicy=data.resourcePolicy.payload})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}updateResourcePolicy(event){this.processing$.next(!0);const updatedObject=Object.assign({},event.object,{id:this.resourcePolicy.id,type:_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__.A.value,_links:this.resourcePolicy._links}),updateTargetSucceeded$=event.updateTarget?this.resourcePolicyService.updateTarget(this.resourcePolicy.id,this.resourcePolicy._links.self.href,event.target.uuid,event.target.type).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded)):(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0),updateResourcePolicySucceeded$=this.resourcePolicyService.update(updatedObject).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded));(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.combineLatest)([updateTargetSucceeded$,updateResourcePolicySucceeded$]).subscribe(([updateTargetSucceeded,updateResourcePolicySucceeded])=>{this.processing$.next(!1),updateTargetSucceeded&&updateResourcePolicySucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):updateResourcePolicySucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.target-failure.content")):updateTargetSucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.other-failure.content")):this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.failure.content"))})}}__name(ResourcePolicyEditComponent,"ResourcePolicyEditComponent"),ResourcePolicyEditComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyEditComponent_Factory"),ResourcePolicyEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyEditComponent,selectors:[["ds-resource-policy-edit"]],decls:5,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.updateResourcePolicy($event)},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,4,"resource-policies.edit.page.heading")," ",ctx.resourcePolicy.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("resourcePolicy",ctx.resourcePolicy)("isProcessing",ctx.isProcessing()))},"ResourcePolicyEditComponent_Template"),dependencies:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},99095:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>ResourcePolicyEntryComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59501),_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66655),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53829),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17306),_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(54953),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16507),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(32189),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4330);function ResourcePolicyEntryComponent_button_27_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r2);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r1.redirectToGroupEditPage())},"ResourcePolicyEntryComponent_button_27_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(1,1,"resource-policies.table.headers.edit.group"))}__name(ResourcePolicyEntryComponent_button_27_Template,"ResourcePolicyEntryComponent_button_27_Template");class ResourcePolicyEntryComponent{constructor(dsoNameService,groupService,route,router){this.dsoNameService=dsoNameService,this.groupService=groupService,this.route=route,this.router=router,this.toggleCheckbox=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe}ngOnInit(){this.epersonName$=this.getName$(this.entry.policy.eperson),this.groupName$=this.getName$(this.entry.policy.group)}getName$(dso$){return dso$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(rd=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Uh)(rd?.payload))return this.dsoNameService.getName(rd.payload)}))}formatDate(date){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)(date)?(0,_date_util__WEBPACK_IMPORTED_MODULE_0__.UW)((0,_date_util__WEBPACK_IMPORTED_MODULE_0__.bj)(date)):""}redirectToResourcePolicyEditPage(){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:this.entry.policy.id}})}redirectToGroupEditPage(){this.groupService.findByHref(this.entry.policy._links.group.href,!1).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(group=>group.id)).subscribe(groupUUID=>{this.router.navigate([(0,_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_3__.EV)(groupUUID)])})}}__name(ResourcePolicyEntryComponent,"ResourcePolicyEntryComponent"),ResourcePolicyEntryComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEntryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_4__.O),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0))},"ResourcePolicyEntryComponent_Factory"),ResourcePolicyEntryComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:ResourcePolicyEntryComponent,selectors:[["tr","ds-resource-policy-entry",""]],inputs:{entry:"entry"},outputs:{toggleCheckbox:"toggleCheckbox"},attrs:["ds-resource-policy-entry",""],decls:29,vars:21,consts:[[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label",3,"for"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"td",0)(1,"div",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("ngModelChange",__name(function($event){return ctx.toggleCheckbox.emit($event)},"ResourcePolicyEntryComponent_Template_input_ngModelChange_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(4,"th",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(6,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(8,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(10,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(12,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(15,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(18,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(19),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(20,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(22,"td",0)(23,"div",5)(24,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyEditPage()},"ResourcePolicyEntryComponent_Template_button_click_24_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(26,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(27,ResourcePolicyEntryComponent_button_27_Template,3,3,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx.entry.id)("ngModel",ctx.entry.checked),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("for",ctx.entry.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",ctx.entry.id,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(ctx.entry.policy.name),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(ctx.entry.policy.policyType),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(ctx.entry.policy.action),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(14,13,ctx.epersonName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(17,15,ctx.groupName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(ctx.formatDate(ctx.entry.policy.startDate)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(ctx.formatDate(ctx.entry.policy.endDate)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(25,17,"resource-policies.table.headers.edit.policy")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(28,19,ctx.groupName$)))},"ResourcePolicyEntryComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.On,_angular_common__WEBPACK_IMPORTED_MODULE_9__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.X$],encapsulation:2})},14913:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ResourcePolicyFormComponent});var core=__webpack_require__(86209),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),fesm2020_core=__webpack_require__(49417),resource_policy_model=__webpack_require__(35519),ds_dynamic_input_model=__webpack_require__(14156),policy_type_model=__webpack_require__(32255),action_type_model=__webpack_require__(62227);const policyTypeList=[{label:policy_type_model.M.TYPE_SUBMISSION,value:policy_type_model.M.TYPE_SUBMISSION},{label:policy_type_model.M.TYPE_WORKFLOW,value:policy_type_model.M.TYPE_WORKFLOW},{label:policy_type_model.M.TYPE_INHERITED,value:policy_type_model.M.TYPE_INHERITED},{label:policy_type_model.M.TYPE_CUSTOM,value:policy_type_model.M.TYPE_CUSTOM}],policyActionList=[{label:action_type_model.U.READ.toString(),value:action_type_model.U.READ},{label:action_type_model.U.WRITE.toString(),value:action_type_model.U.WRITE},{label:action_type_model.U.REMOVE.toString(),value:action_type_model.U.REMOVE},{label:action_type_model.U.ADMIN.toString(),value:action_type_model.U.ADMIN},{label:action_type_model.U.DELETE.toString(),value:action_type_model.U.DELETE},{label:action_type_model.U.WITHDRAWN_READ.toString(),value:action_type_model.U.WITHDRAWN_READ},{label:action_type_model.U.DEFAULT_BITSTREAM_READ.toString(),value:action_type_model.U.DEFAULT_BITSTREAM_READ},{label:action_type_model.U.DEFAULT_ITEM_READ.toString(),value:action_type_model.U.DEFAULT_ITEM_READ}],RESOURCE_POLICY_FORM_NAME_CONFIG={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG={id:"policyType",label:"resource-policies.form.policy-type.label",options:policyTypeList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG={id:"action",label:"resource-policies.form.action-type.label",options:policyActionList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG={id:"date",group:[]},RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT={element:{control:"form-row"}},RESOURCE_POLICY_FORM_START_DATE_CONFIG={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_START_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},RESOURCE_POLICY_FORM_END_DATE_CONFIG={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_END_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var ds_dynamic_textarea_model=__webpack_require__(15513),dso_name_service=__webpack_require__(17306),empty_util=__webpack_require__(59501),form_service=__webpack_require__(39975),resource_policy_resource_type=__webpack_require__(92103),date_util=__webpack_require__(66655),eperson_data_service=__webpack_require__(74708),group_data_service=__webpack_require__(16507),shared_operators=__webpack_require__(53829),request_service=__webpack_require__(91751),ng_bootstrap=__webpack_require__(23506),common=__webpack_require__(65159),form_component=__webpack_require__(23593),eperson_group_list_component=__webpack_require__(195),ngx_translate_core=__webpack_require__(4330);const _c0=["content"];function ResourcePolicyFormComponent_ds_form_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-form",16,17),2&rf){const ctx_r0=core.oxw();core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!1)("displayCancel",!1)}}function ResourcePolicyFormComponent_ng_template_14_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"ds-eperson-group-list",18),core.NdJ("select",__name(function($event){core.CHM(_r10);const ctx_r9=core.oxw();return core.KtG(ctx_r9.updateObjectSelected($event,!0))},"ResourcePolicyFormComponent_ng_template_14_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}}function ResourcePolicyFormComponent_ng_template_19_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"ds-eperson-group-list",19),core.NdJ("select",__name(function($event){core.CHM(_r12);const ctx_r11=core.oxw();return core.KtG(ctx_r11.updateObjectSelected($event,!1))},"ResourcePolicyFormComponent_ng_template_19_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}2&rf&&core.Q6J("isListOfEPerson",!1)}function ResourcePolicyFormComponent_span_32_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",20),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePolicyFormComponent_span_34_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"form.submit")," "))}function ResourcePolicyFormComponent_ng_template_36_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"div",21)(1,"h4",22),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"button",23),core.NdJ("click",__name(function(){const modal_r13=core.CHM(_r15).$implicit;return core.KtG(modal_r13.close())},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_4_listener")),core.TgZ(5,"span",24),core._uU(6,"\xd7"),core.qZA()()(),core.TgZ(7,"div",25)(8,"div",26)(9,"div",27),core._UZ(10,"i",28),core.qZA(),core.TgZ(11,"div"),core._UZ(12,"p",29),core.ALo(13,"translate"),core._UZ(14,"p",30),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"div",31)(17,"button",32),core.NdJ("click",__name(function(){const modal_r13=core.CHM(_r15).$implicit;return core.KtG(modal_r13.close())},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_17_listener")),core._uU(18),core.ALo(19,"translate"),core.qZA()()}if(2&rf){const ctx_r7=core.oxw();core.xp6(2),core.Oqu(core.lcZ(3,4,"resource-policies.form.eperson-group-list.modal.header")),core.xp6(10),core.Q6J("innerHTML",core.lcZ(13,6,"eperson"===ctx_r7.navActiveId?"resource-policies.form.eperson-group-list.modal.text1.toGroup":"resource-policies.form.eperson-group-list.modal.text1.toEPerson"),core.oJD),core.xp6(2),core.Q6J("innerHTML",core.lcZ(15,8,"resource-policies.form.eperson-group-list.modal.text2"),core.oJD),core.xp6(4),core.Oqu(core.lcZ(19,10,"resource-policies.form.eperson-group-list.modal.close"))}}__name(ResourcePolicyFormComponent_ds_form_1_Template,"ResourcePolicyFormComponent_ds_form_1_Template"),__name(ResourcePolicyFormComponent_ng_template_14_Template,"ResourcePolicyFormComponent_ng_template_14_Template"),__name(ResourcePolicyFormComponent_ng_template_19_Template,"ResourcePolicyFormComponent_ng_template_19_Template"),__name(ResourcePolicyFormComponent_span_32_Template,"ResourcePolicyFormComponent_span_32_Template"),__name(ResourcePolicyFormComponent_span_34_Template,"ResourcePolicyFormComponent_span_34_Template"),__name(ResourcePolicyFormComponent_ng_template_36_Template,"ResourcePolicyFormComponent_ng_template_36_Template");class ResourcePolicyFormComponent{constructor(dsoNameService,ePersonService,formService,groupService,requestService,modalService){this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.formService=formService,this.groupService=groupService,this.requestService=requestService,this.modalService=modalService,this.isProcessing=(0,cjs.of)(!1),this.reset=new core.vpe,this.submit=new core.vpe,this.resourcePolicyTargetName$=new cjs.BehaviorSubject(""),this.subs=[],this.resourcePolicyTargetUpdated=!1}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),this.isBeingEdited()){const epersonRD$=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe((0,shared_operators.xw)()),groupRD$=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe((0,shared_operators.xw)()),dsoRD$=(0,cjs.combineLatest)([epersonRD$,groupRD$]).pipe((0,operators.UI)(rdArr=>rdArr.find(rd=>(0,empty_util.UE)(rd.payload))),(0,empty_util.tz)());this.subs.push(dsoRD$.pipe((0,operators.hX)(()=>this.isActive)).subscribe(dsoRD=>{this.resourcePolicyGrant=dsoRD.payload,this.navActiveId=String(dsoRD.payload.type),this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}))}}isFormValid(){return this.formService.isValid(this.formId).pipe((0,operators.UI)(isValid=>isValid&&(0,empty_util.UE)(this.resourcePolicyGrant)))}buildResourcePolicyForm(){const formModel=[];formModel.push(new ds_dynamic_input_model.u(RESOURCE_POLICY_FORM_NAME_CONFIG),new ds_dynamic_textarea_model.D(RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG),new fesm2020_core.nMt(RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG),new fesm2020_core.nMt(RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG));const startDateModel=new fesm2020_core.oqv(RESOURCE_POLICY_FORM_START_DATE_CONFIG,RESOURCE_POLICY_FORM_START_DATE_LAYOUT),endDateModel=new fesm2020_core.oqv(RESOURCE_POLICY_FORM_END_DATE_CONFIG,RESOURCE_POLICY_FORM_END_DATE_LAYOUT),dateGroupConfig=Object.assign({},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG,{group:[]});return dateGroupConfig.group.push(startDateModel,endDateModel),formModel.push(new fesm2020_core.S_O(dateGroupConfig,RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT)),this.initModelsValue(formModel),formModel}initModelsValue(formModel){return this.resourcePolicy&&formModel.forEach(model=>{"date"===model.id?((0,empty_util.Uh)(this.resourcePolicy.startDate)&&(model.get(0).value=(0,date_util.bj)(this.resourcePolicy.startDate)),(0,empty_util.Uh)(this.resourcePolicy.endDate)&&(model.get(1).value=(0,date_util.bj)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(model.id)&&this.resourcePolicy[model.id]&&(model.value=this.resourcePolicy[model.id])}),formModel}isBeingEdited(){return!(0,empty_util.xb)(this.resourcePolicy)}getResourcePolicyTargetName(){return(0,empty_util.UE)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(object,isEPerson){this.resourcePolicyTargetUpdated=!0,this.resourcePolicyGrant=object,this.resourcePolicyGrantType=isEPerson?"eperson":"group",this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe((0,operators.qn)(1)).subscribe(data=>{const eventPayload=Object.create({});eventPayload.object=this.createResourcePolicyByFormData(data),eventPayload.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},eventPayload.updateTarget=this.resourcePolicyTargetUpdated,this.submit.emit(eventPayload)})}createResourcePolicyByFormData(data){const resourcePolicy=new resource_policy_model.A;return resourcePolicy.name=data.name?data.name[0].value:null,resourcePolicy.description=data.description?data.description[0].value:null,resourcePolicy.policyType=data.policyType?data.policyType[0].value:null,resourcePolicy.action=data.action?data.action[0].value:null,resourcePolicy.startDate=data.date&&data.date.start?(0,date_util.iV)(data.date.start[0].value):null,resourcePolicy.endDate=data.date&&data.date.end?(0,date_util.iV)(data.date.end[0].value):null,resourcePolicy.type=resource_policy_resource_type.A,resourcePolicy}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onNavChange(changeEvent){this.isBeingEdited()&&(changeEvent.preventDefault(),this.modalService.open(this.content))}}__name(ResourcePolicyFormComponent,"ResourcePolicyFormComponent"),ResourcePolicyFormComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyFormComponent)(core.Y36(dso_name_service._),core.Y36(eperson_data_service.k),core.Y36(form_service.o),core.Y36(group_data_service.O),core.Y36(request_service.s),core.Y36(ng_bootstrap.FF))},"ResourcePolicyFormComponent_Factory"),ResourcePolicyFormComponent.\u0275cmp=core.Xpm({type:ResourcePolicyFormComponent,selectors:[["ds-resource-policy-form"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.content=_t.first)}},"ResourcePolicyFormComponent_Query"),inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:38,vars:34,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text",1,"form-control","mb-3",3,"value"],["ngbNav","",1,"nav-pills",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["content",""],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-row"],[1,"mr-3"],[1,"fas","fa-info-circle","fa-2x","text-info"],[1,"font-weight-bold",3,"innerHTML"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,ResourcePolicyFormComponent_ds_form_1_Template,2,4,"ds-form",0),core.TgZ(2,"div",1)(3,"label",2),core._uU(4),core.ALo(5,"translate"),core.qZA(),core._UZ(6,"input",3),core.ALo(7,"async"),core.TgZ(8,"ul",4,5),core.NdJ("activeIdChange",__name(function($event){return ctx.navActiveId=$event},"ResourcePolicyFormComponent_Template_ul_activeIdChange_8_listener"))("navChange",__name(function($event){return ctx.onNavChange($event)},"ResourcePolicyFormComponent_Template_ul_navChange_8_listener")),core.TgZ(10,"li",6)(11,"a",7),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.YNc(14,ResourcePolicyFormComponent_ng_template_14_Template,1,0,"ng-template",8),core.qZA(),core.TgZ(15,"li",6)(16,"a",7),core._uU(17),core.ALo(18,"translate"),core.qZA(),core.YNc(19,ResourcePolicyFormComponent_ng_template_19_Template,1,1,"ng-template",8),core.qZA()(),core._UZ(20,"div",9),core.TgZ(21,"div"),core._UZ(22,"hr"),core.TgZ(23,"div",10)(24,"div",11)(25,"button",12),core.NdJ("click",__name(function(){return ctx.onReset()},"ResourcePolicyFormComponent_Template_button_click_25_listener")),core.ALo(26,"async"),core._uU(27),core.ALo(28,"translate"),core.qZA(),core.TgZ(29,"button",13),core.NdJ("click",__name(function(){return ctx.onSubmit()},"ResourcePolicyFormComponent_Template_button_click_29_listener")),core.ALo(30,"async"),core.ALo(31,"async"),core.YNc(32,ResourcePolicyFormComponent_span_32_Template,4,3,"span",14),core.ALo(33,"async"),core.YNc(34,ResourcePolicyFormComponent_span_34_Template,3,3,"span",14),core.ALo(35,"async"),core.qZA()()()()()(),core.YNc(36,ResourcePolicyFormComponent_ng_template_36_Template,20,12,"ng-template",null,15,core.W1O)),2&rf){const _r1=core.MAs(9);core.xp6(1),core.Q6J("ngIf",ctx.formModel),core.xp6(3),core.Oqu(core.lcZ(5,14,"resource-policies.form.eperson-group-list.label")),core.xp6(2),core.Q6J("value",core.lcZ(7,16,ctx.resourcePolicyTargetName$)),core.xp6(2),core.Q6J("activeId",ctx.navActiveId),core.xp6(2),core.Q6J("ngbNavItem","eperson"),core.xp6(2),core.Oqu(core.lcZ(13,18,"resource-policies.form.eperson-group-list.tab.eperson")),core.xp6(3),core.Q6J("ngbNavItem","group"),core.xp6(2),core.Oqu(core.lcZ(18,20,"resource-policies.form.eperson-group-list.tab.group")),core.xp6(3),core.Q6J("ngbNavOutlet",_r1),core.xp6(5),core.Q6J("disabled",core.lcZ(26,22,ctx.isProcessing)),core.xp6(2),core.Oqu(core.lcZ(28,24,"form.cancel")),core.xp6(2),core.Q6J("disabled",!core.lcZ(30,26,ctx.isFormValid())||core.lcZ(31,28,ctx.isProcessing)),core.xp6(3),core.Q6J("ngIf",core.lcZ(33,30,ctx.isProcessing)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(35,32,ctx.isProcessing))}},"ResourcePolicyFormComponent_Template"),dependencies:[ng_bootstrap.uN,ng_bootstrap.Pz,ng_bootstrap.nv,ng_bootstrap.Vx,ng_bootstrap.tO,common.O5,form_component.U,eperson_group_list_component.W,common.Ov,ngx_translate_core.X$],encapsulation:2})},333:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ResourcePolicyTargetResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43047),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59501),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53829),_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(98303),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16088);class ResourcePolicyTargetResolver{constructor(parentInjector,router){this.parentInjector=parentInjector,this.router=router}resolve(route,state){const targetType=route.queryParamMap.get("targetType"),policyTargetId=route.queryParamMap.get("policyTargetId");((0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(targetType)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyTargetId))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const provider=(0,_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__.p)(new _core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__._(targetType));return this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3.create({providers:[],parent:this.parentInjector}).get(provider),this.dataService.findById(policyTargetId).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.hC)())}}__name(ResourcePolicyTargetResolver,"ResourcePolicyTargetResolver"),ResourcePolicyTargetResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyTargetResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyTargetResolver_Factory"),ResourcePolicyTargetResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyTargetResolver,factory:ResourcePolicyTargetResolver.\u0275fac})},38286:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>ResourcePolicyResolver});var _empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59501),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14076),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58090),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53829),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16088);class ResourcePolicyResolver{constructor(resourcePolicyService,router){this.resourcePolicyService=resourcePolicyService,this.router=router}resolve(route,state){const policyId=route.queryParamMap.get("policyId");return(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyId)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(policyId,!0,!1,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("group")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.hC)())}}__name(ResourcePolicyResolver,"ResourcePolicyResolver"),ResourcePolicyResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyResolver_Factory"),ResourcePolicyResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyResolver,factory:ResourcePolicyResolver.\u0275fac})},96925:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>ResourcePoliciesComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53829),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14076),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17306),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16507),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59501),_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(74708),_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91751),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39373),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(58090),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4330),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(65159),_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(99095);function ResourcePoliciesComponent_ng_container_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.BQk()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" (",ctx_r0.resourceUUID,") ")}}function ResourcePoliciesComponent_span_17_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePoliciesComponent_span_19_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"resource-policies.delete.btn")," "))}function ResourcePoliciesComponent_tr_27_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",13)(1,"th")(2,"div",14)(3,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r6);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r5.selectAllCheckbox($event))},"ResourcePoliciesComponent_tr_27_Template_input_change_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(4,"label",16),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(5,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(8,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(11,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(14,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(17,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(20,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(23,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(26,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(29,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("id","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("for","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(7,11,"resource-policies.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(10,13,"resource-policies.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(13,15,"resource-policies.table.headers.policyType")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,17,"resource-policies.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(19,19,"resource-policies.table.headers.eperson")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,21,"resource-policies.table.headers.group")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(25,23,"resource-policies.table.headers.date.start")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,25,"resource-policies.table.headers.date.end")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(31,27,"resource-policies.table.headers.edit"))}}function ResourcePoliciesComponent_tbody_29_tr_1_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("toggleCheckbox",__name(function($event){const entry_r8=_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r10).$implicit,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r9.selectCheckbox(entry_r8,$event))},"ResourcePoliciesComponent_tbody_29_tr_1_Template_tr_toggleCheckbox_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()}if(2&rf){const entry_r8=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("entry",entry_r8)}}function ResourcePoliciesComponent_tbody_29_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(1,ResourcePoliciesComponent_tbody_29_tr_1_Template,1,1,"tr",17),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(2,1,ctx_r4.getResourcePolicies()))}}__name(ResourcePoliciesComponent_ng_container_11_Template,"ResourcePoliciesComponent_ng_container_11_Template"),__name(ResourcePoliciesComponent_span_17_Template,"ResourcePoliciesComponent_span_17_Template"),__name(ResourcePoliciesComponent_span_19_Template,"ResourcePoliciesComponent_span_19_Template"),__name(ResourcePoliciesComponent_tr_27_Template,"ResourcePoliciesComponent_tr_27_Template"),__name(ResourcePoliciesComponent_tbody_29_tr_1_Template,"ResourcePoliciesComponent_tbody_29_tr_1_Template"),__name(ResourcePoliciesComponent_tbody_29_Template,"ResourcePoliciesComponent_tbody_29_Template");class ResourcePoliciesComponent{constructor(cdr,dsoNameService,ePersonService,groupService,notificationsService,requestService,resourcePolicyService,route,router,translate){this.cdr=cdr,this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.groupService=groupService,this.notificationsService=notificationsService,this.requestService=requestService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processingDelete$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject(!1),this.resourcePoliciesEntries$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyList()}canDelete(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(this.resourcePoliciesEntries$.value).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(entry=>entry.checked),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.u4)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(entries=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(entries)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.xb)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const policiesToDelete=this.resourcePoliciesEntries$.value.filter(entry=>entry.checked);this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(policiesToDelete).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bJ)(entry=>this.resourcePolicyService.delete(entry.policy.id)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Rp)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(results=>results.length===policiesToDelete.length),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.qn)(1)).subscribe(results=>{const failureResults=results.filter(result=>!result);(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(failureResults)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.processingDelete$.next(!1)}))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}initResourcePolicyList(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("group")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(()=>this.isActive),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.g1)()).subscribe(result=>{const entries=result.payload.page.map(policy=>({id:policy.id,policy,checked:!1}));this.resourcePoliciesEntries$.next(entries),this.cdr.detectChanges()}))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}selectAllCheckbox(event){const checked=event.target.checked;this.resourcePoliciesEntries$.value.forEach(entry=>entry.checked=checked)}selectCheckbox(policyEntry,checked){policyEntry.checked=checked}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(ResourcePoliciesComponent,"ResourcePoliciesComponent"),ResourcePoliciesComponent.\u0275fac=__name(function(t){return new(t||ResourcePoliciesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_8__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__.k),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__.O),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__.s),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.sK))},"ResourcePoliciesComponent_Factory"),ResourcePoliciesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePoliciesComponent,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType",resourceName:"resourceName"},decls:31,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"text-info"],[4,"ngIf"],[1,"space-children-mr","flex-shrink-0"],[1,"btn","btn-danger","p-1",3,"disabled","title","click"],[1,"btn","btn-success","p-1",3,"disabled","title","click"],[1,"fas","fa-plus"],["class","text-center",4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox",4,"ngFor","ngForOf"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(9,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(11,ResourcePoliciesComponent_ng_container_11_Template,2,1,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(12,"div",6)(13,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.deleteSelectedResourcePolicies()},"ResourcePoliciesComponent_Template_button_click_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(17,ResourcePoliciesComponent_span_17_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(18,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(19,ResourcePoliciesComponent_span_19_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(20,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(21,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyCreatePage()},"ResourcePoliciesComponent_Template_button_click_21_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(23,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(24,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(25),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(26,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(27,ResourcePoliciesComponent_tr_27_Template,32,29,"tr",10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(29,ResourcePoliciesComponent_tbody_29_Template,3,3,"tbody",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(30,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf){let tmp_10_0,tmp_11_0;_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(8,12,"resource-policies.table.headers.title.for."+ctx.resourceType)," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",ctx.resourceName," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf","item"!=ctx.resourceType),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(14,14,ctx.canDelete())||_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(15,16,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,18,"resource-policies.delete.btn.title")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(18,20,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(20,22,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,24,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(23,26,"resource-policies.add.for."+ctx.resourceType)),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(26,28,"resource-policies.add.button")," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_10_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,30,ctx.getResourcePolicies()))?null:tmp_10_0.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_11_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(30,32,ctx.getResourcePolicies()))?null:tmp_11_0.length)>0)}},"ResourcePoliciesComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__.Y,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}"]})},21574:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>ResourcePoliciesModule});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(65159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4330),_resource_policies_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96925),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14913),_edit_resource_policy_edit_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(37175),_create_resource_policy_create_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4367),_form_form_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(80913),_resolvers_resource_policy_resolver__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(38286),_resolvers_resource_policy_target_resolver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(333),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(23506),_shared_module__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(47013),_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(99095),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86209);_resource_policies_component__WEBPACK_IMPORTED_MODULE_0__.F,_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_8__.Y,_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_1__.Z,_edit_resource_policy_edit_component__WEBPACK_IMPORTED_MODULE_2__.x,_create_resource_policy_create_component__WEBPACK_IMPORTED_MODULE_3__.v;const PROVIDERS=[_resolvers_resource_policy_resolver__WEBPACK_IMPORTED_MODULE_5__.b,_resolvers_resource_policy_target_resolver__WEBPACK_IMPORTED_MODULE_6__.a];class ResourcePoliciesModule{}__name(ResourcePoliciesModule,"ResourcePoliciesModule"),ResourcePoliciesModule.\u0275fac=__name(function(t){return new(t||ResourcePoliciesModule)},"ResourcePoliciesModule_Factory"),ResourcePoliciesModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oAB({type:ResourcePoliciesModule}),ResourcePoliciesModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_9__.cJS({providers:[...PROVIDERS],imports:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__.IJ,_angular_common__WEBPACK_IMPORTED_MODULE_11__.ez,_form_form_module__WEBPACK_IMPORTED_MODULE_4__.e,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.aw,_shared_module__WEBPACK_IMPORTED_MODULE_7__.m]})}};