var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=5567,exports.ids=[5567],exports.modules={95567:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LookupIdModule:()=>LookupIdModule});var common=__webpack_require__(65159),shared_module=__webpack_require__(47013),request_models=__webpack_require__(10289),operators=__webpack_require__(96846),empty_util=__webpack_require__(59501),remote_data_build_service=__webpack_require__(20018),object_cache_service=__webpack_require__(54174),hal_endpoint_service=__webpack_require__(54781),request_service=__webpack_require__(91751),shared_operators=__webpack_require__(53829),identifiable_data_service=__webpack_require__(98937),app_routing_paths=__webpack_require__(22877),hard_redirect_service=__webpack_require__(7212),app_config_interface=__webpack_require__(98482),core=__webpack_require__(86209);class DsoByIdOrUUIDDataService extends identifiable_data_service.t{constructor(requestService,rdbService,objectCache,halService){super(void 0,requestService,rdbService,objectCache,halService,void 0,(endpoint,resourceID)=>endpoint.replace(/{\?id}/,`?id=${resourceID}`).replace(/{\?uuid}/,`?uuid=${resourceID}`)),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}setLinkPath(identifierType){identifierType===request_models.fT.UUID?this.linkPath="dso":this.linkPath="pid"}}__name(DsoByIdOrUUIDDataService,"DsoByIdOrUUIDDataService");class DsoRedirectService{constructor(appConfig,requestService,rdbService,objectCache,halService,hardRedirectService){this.appConfig=appConfig,this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.hardRedirectService=hardRedirectService,this.dataService=new DsoByIdOrUUIDDataService(requestService,rdbService,objectCache,halService)}findByIdAndIDType(id,identifierType=request_models.fT.UUID){return this.dataService.setLinkPath(identifierType),this.dataService.findById(id).pipe((0,shared_operators.hC)(),(0,operators.bw)(response=>{if(response.hasSucceeded){const dso=response.payload;if((0,empty_util.Uh)(dso.uuid)){let newRoute=(0,app_routing_paths.Y4)(dso);(0,empty_util.Uh)(newRoute)&&this.hardRedirectService.redirect(this.appConfig.ui.nameSpace.replace(/\/$/,"")+newRoute,301)}}}))}}__name(DsoRedirectService,"DsoRedirectService"),DsoRedirectService.\u0275fac=__name(function(t){return new(t||DsoRedirectService)(core.LFG(app_config_interface.q),core.LFG(request_service.s),core.LFG(remote_data_build_service.Q),core.LFG(object_cache_service.a),core.LFG(hal_endpoint_service.q),core.LFG(hard_redirect_service.A))},"DsoRedirectService_Factory"),DsoRedirectService.\u0275prov=core.Yz7({token:DsoRedirectService,factory:DsoRedirectService.\u0275fac});class LookupGuard{constructor(dsoService){this.dsoService=dsoService}canActivate(route,state){const params=this.getLookupParams(route);return this.dsoService.findByIdAndIDType(params.id,params.type).pipe((0,operators.UI)(response=>response.hasFailed))}getLookupParams(route){let type,id;const idType=route.params.idType;if(idType!==request_models.fT.HANDLE&&idType!==request_models.fT.UUID){type=request_models.fT.HANDLE;id=`hdl:${route.params.idType}/${route.params.id}`}else route.params.idType===request_models.fT.HANDLE?(type=request_models.fT.HANDLE,id="hdl:"+route.params.id):(type=request_models.fT.UUID,id=route.params.id);return{type,id}}}__name(LookupGuard,"LookupGuard"),LookupGuard.\u0275fac=__name(function(t){return new(t||LookupGuard)(core.LFG(DsoRedirectService))},"LookupGuard_Factory"),LookupGuard.\u0275prov=core.Yz7({token:LookupGuard,factory:LookupGuard.\u0275fac});var router=__webpack_require__(16088),themed_component=__webpack_require__(56787);function ThemedObjectNotFoundComponent_ng_template_0_Template(rf,ctx){}__name(ThemedObjectNotFoundComponent_ng_template_0_Template,"ThemedObjectNotFoundComponent_ng_template_0_Template");class ThemedObjectNotFoundComponent extends themed_component.F{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(themeName){return __webpack_require__(98947)(`./${themeName}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return __webpack_require__.e(6047).then(__webpack_require__.bind(__webpack_require__,46047))}}__name(ThemedObjectNotFoundComponent,"ThemedObjectNotFoundComponent"),ThemedObjectNotFoundComponent.\u0275fac=function(){let \u0275ThemedObjectNotFoundComponent_BaseFactory;return __name(function(t){return(\u0275ThemedObjectNotFoundComponent_BaseFactory||(\u0275ThemedObjectNotFoundComponent_BaseFactory=core.n5z(ThemedObjectNotFoundComponent)))(t||ThemedObjectNotFoundComponent)},"ThemedObjectNotFoundComponent_Factory")}(),ThemedObjectNotFoundComponent.\u0275cmp=core.Xpm({type:ThemedObjectNotFoundComponent,selectors:[["ds-themed-objnotfound"]],features:[core.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(core.F$t(),core.YNc(0,ThemedObjectNotFoundComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O),core.TgZ(2,"div",null,1),core.Hsn(4),core.qZA())},"ThemedObjectNotFoundComponent_Template"),encapsulation:2});class LookupRoutingModule{}function urlMatcher(url){const idType=url[0].path,id=url.slice(1).map(us=>us.path).join("/");return(0,empty_util.UE)(idType)&&(0,empty_util.UE)(id)?{consumed:url,posParams:{idType:new router.bq(idType,{}),id:new router.bq(id,{})}}:null}__name(LookupRoutingModule,"LookupRoutingModule"),LookupRoutingModule.\u0275fac=__name(function(t){return new(t||LookupRoutingModule)},"LookupRoutingModule_Factory"),LookupRoutingModule.\u0275mod=core.oAB({type:LookupRoutingModule}),LookupRoutingModule.\u0275inj=core.cJS({providers:[LookupGuard],imports:[router.Bz.forChild([{matcher:urlMatcher,canActivate:[LookupGuard],component:ThemedObjectNotFoundComponent}])]}),__name(urlMatcher,"urlMatcher");class LookupIdModule{}__name(LookupIdModule,"LookupIdModule"),LookupIdModule.\u0275fac=__name(function(t){return new(t||LookupIdModule)},"LookupIdModule_Factory"),LookupIdModule.\u0275mod=core.oAB({type:LookupIdModule}),LookupIdModule.\u0275inj=core.cJS({providers:[DsoRedirectService],imports:[LookupRoutingModule,common.ez,shared_module.m]})},98947:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":[98191,8191]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=98947,module.exports=webpackAsyncContext}};