var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=8125,exports.ids=[8125],exports.modules={39132:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListPageComponent:()=>CommunityListPageComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),_community_list_themed_community_list_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92845),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4330);class CommunityListPageComponent{}__name(CommunityListPageComponent,"CommunityListPageComponent"),CommunityListPageComponent.\u0275fac=__name(function(t){return new(t||CommunityListPageComponent)},"CommunityListPageComponent_Factory"),CommunityListPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:CommunityListPageComponent,selectors:[["ds-community-list-page"]],decls:5,vars:3,consts:[[1,"container"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(4,"ds-themed-community-list"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_1__.lcZ(3,1,"communityList.title")))},"CommunityListPageComponent_Template"),dependencies:[_community_list_themed_community_list_component__WEBPACK_IMPORTED_MODULE_0__.J,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.X$],encapsulation:2})},88125:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListPageModule:()=>CommunityListPageModule});var common=__webpack_require__(65159),shared_module=__webpack_require__(47013),community_list_page_component=__webpack_require__(39132),router=__webpack_require__(16088),tree=__webpack_require__(47184),community_list_service=__webpack_require__(67261),themed_component=__webpack_require__(56787),core=__webpack_require__(86209);function ThemedCommunityListPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedCommunityListPageComponent_ng_template_0_Template,"ThemedCommunityListPageComponent_ng_template_0_Template");class ThemedCommunityListPageComponent extends themed_component.F{getComponentName(){return"CommunityListPageComponent"}importThemedComponent(themeName){return __webpack_require__(94015)(`./${themeName}/app/community-list-page/community-list-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,39132))}}__name(ThemedCommunityListPageComponent,"ThemedCommunityListPageComponent"),ThemedCommunityListPageComponent.\u0275fac=function(){let \u0275ThemedCommunityListPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedCommunityListPageComponent_BaseFactory||(\u0275ThemedCommunityListPageComponent_BaseFactory=core.n5z(ThemedCommunityListPageComponent)))(t||ThemedCommunityListPageComponent)},"ThemedCommunityListPageComponent_Factory")}(),ThemedCommunityListPageComponent.\u0275cmp=core.Xpm({type:ThemedCommunityListPageComponent,selectors:[["ds-themed-community-list-page"]],features:[core.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(core.F$t(),core.YNc(0,ThemedCommunityListPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O),core.TgZ(2,"div",null,1),core.Hsn(4),core.qZA())},"ThemedCommunityListPageComponent_Template"),encapsulation:2});var i18n_breadcrumb_resolver=__webpack_require__(96478);class CommunityListPageRoutingModule{}__name(CommunityListPageRoutingModule,"CommunityListPageRoutingModule"),CommunityListPageRoutingModule.\u0275fac=__name(function(t){return new(t||CommunityListPageRoutingModule)},"CommunityListPageRoutingModule_Factory"),CommunityListPageRoutingModule.\u0275mod=core.oAB({type:CommunityListPageRoutingModule}),CommunityListPageRoutingModule.\u0275inj=core.cJS({providers:[community_list_service.rv],imports:[router.Bz.forChild([{path:"",component:ThemedCommunityListPageComponent,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"communityList.tabTitle",breadcrumbKey:"communityList"}}]),tree.nZ]});var community_list_component=__webpack_require__(74001),themed_community_list_component=__webpack_require__(92845);community_list_page_component.CommunityListPageComponent,community_list_component.CommunityListComponent,themed_community_list_component.J;class CommunityListPageModule{}__name(CommunityListPageModule,"CommunityListPageModule"),CommunityListPageModule.\u0275fac=__name(function(t){return new(t||CommunityListPageModule)},"CommunityListPageModule_Factory"),CommunityListPageModule.\u0275mod=core.oAB({type:CommunityListPageModule}),CommunityListPageModule.\u0275inj=core.cJS({imports:[common.ez,shared_module.m,CommunityListPageRoutingModule,tree.nZ,tree.nZ]})},67261:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rv:()=>CommunityListService});var ngrx_store=__webpack_require__(60857),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),community_data_service=__webpack_require__(62063),community_model=__webpack_require__(62597),page_info_model=__webpack_require__(96906),empty_util=__webpack_require__(59501),paginated_list_model=__webpack_require__(16733),collection_data_service=__webpack_require__(761),community_list_actions=__webpack_require__(40517),community_page_routing_paths=__webpack_require__(50093),collection_page_routing_paths=__webpack_require__(67328),shared_operators=__webpack_require__(53829),follow_link_config_model=__webpack_require__(58090);class ShowMoreFlatNode{}__name(ShowMoreFlatNode,"ShowMoreFlatNode");var find_list_options_model=__webpack_require__(5414),app_config_interface=__webpack_require__(98482),v4=__webpack_require__(94557),core=__webpack_require__(86209);const combineAndFlatten=__name(obsList=>(0,cjs.combineLatest)([...obsList]).pipe((0,operators.UI)(matrix=>[].concat(...matrix)),(0,operators.hX)(arr=>arr.every(e=>(0,empty_util.Uh)(e)))),"combineAndFlatten"),toFlatNode=__name((c,isExpandable,level,isExpanded,parent)=>({isExpandable$:isExpandable,name:c.name,id:c.id,level,isExpanded,parent,payload:c,isShowMoreNode:!1,route:c instanceof community_model.S?(0,community_page_routing_paths.Ke)(c.id):(0,collection_page_routing_paths.MI)(c.id)}),"toFlatNode"),showMoreFlatNode=__name((id,level,parent)=>({isExpandable$:(0,cjs.of)(!1),name:"Show More Flatnode",id,level,isExpanded:!1,parent,payload:new ShowMoreFlatNode,isShowMoreNode:!0}),"showMoreFlatNode"),communityListStateSelector=__name(state=>state.communityList,"communityListStateSelector"),expandedNodesSelector=(0,ngrx_store.P1)(communityListStateSelector,communityList=>communityList.expandedNodes),loadingNodeSelector=(0,ngrx_store.P1)(communityListStateSelector,communityList=>communityList.loadingNode);class CommunityListService{constructor(appConfig,communityDataService,collectionDataService,store){this.appConfig=appConfig,this.communityDataService=communityDataService,this.collectionDataService=collectionDataService,this.store=store,this.configOnePage=Object.assign(new find_list_options_model.R,{elementsPerPage:1}),this.pageSize=appConfig.communityList.pageSize}saveCommunityListStateToStore(expandedNodes,loadingNode){this.store.dispatch(new community_list_actions.Q(expandedNodes,loadingNode))}getExpandedNodesFromStore(){return this.store.select(expandedNodesSelector)}getLoadingNodeFromStore(){return this.store.select(loadingNodeSelector)}loadCommunities(findOptions,expandedNodes){const currentPage=findOptions.currentPage,topCommunities=[];for(let i=1;i<=currentPage;i++){const pagination=Object.assign({},findOptions,{currentPage:i});topCommunities.push(this.getTopCommunities(pagination))}return(0,cjs.combineLatest)([...topCommunities]).pipe((0,operators.UI)(coms=>{const newPages=coms.map(unit=>unit.page),newPage=[].concat(...newPages);let newPageInfo=new page_info_model.S;return coms&&coms.length>0&&(newPageInfo=Object.assign({},coms[0].pageInfo,{currentPage})),(0,paginated_list_model.b)(newPageInfo,newPage)})).pipe((0,operators.wt)(topComs=>this.transformListOfCommunities(topComs,0,null,expandedNodes)))}getTopCommunities(options){return this.communityDataService.findTop({currentPage:options.currentPage,elementsPerPage:this.pageSize,sort:{field:options.sort.field,direction:options.sort.direction}},(0,follow_link_config_model.l)("subcommunities",{findListOptions:this.configOnePage}),(0,follow_link_config_model.l)("collections",{findListOptions:this.configOnePage})).pipe((0,shared_operators.xw)(),(0,operators.UI)(results=>results.payload))}transformListOfCommunities(listOfPaginatedCommunities,level,parent,expandedNodes){if((0,empty_util.UE)(listOfPaginatedCommunities.page)){let currentPage=listOfPaginatedCommunities.currentPage;(0,empty_util.UE)(parent)&&(currentPage=expandedNodes.find(node=>node.id===parent.id).currentCommunityPage);let obsList=listOfPaginatedCommunities.page.map(community=>this.transformCommunity(community,level,parent,expandedNodes));return currentPage<listOfPaginatedCommunities.totalPages&&currentPage===listOfPaginatedCommunities.currentPage&&(obsList=[...obsList,(0,cjs.of)([showMoreFlatNode(`community-${(0,v4.Z)()}`,level,parent)])]),combineAndFlatten(obsList)}return(0,cjs.of)([])}transformCommunity(community,level,parent,expandedNodes){let isExpanded=!1;(0,empty_util.UE)(expandedNodes)&&(isExpanded=(0,empty_util.Uh)(expandedNodes.find(node=>node.id===community.id)));const isExpandable$=this.getIsExpandable(community),communityFlatNode=toFlatNode(community,isExpandable$,level,isExpanded,parent);let obsList=[(0,cjs.of)([communityFlatNode])];if(isExpanded){const currentCommunityPage=expandedNodes.find(node=>node.id===community.id).currentCommunityPage;let subcoms=[];for(let i=1;i<=currentCommunityPage;i++){const nextSetOfSubcommunitiesPage=this.communityDataService.findByParent(community.uuid,{elementsPerPage:this.pageSize,currentPage:i},(0,follow_link_config_model.l)("subcommunities",{findListOptions:this.configOnePage}),(0,follow_link_config_model.l)("collections",{findListOptions:this.configOnePage})).pipe((0,shared_operators.hC)(),(0,operators.wt)(rd=>(0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)?this.transformListOfCommunities(rd.payload,level+1,communityFlatNode,expandedNodes):(0,cjs.of)([])));subcoms=[...subcoms,nextSetOfSubcommunitiesPage]}obsList=[...obsList,combineAndFlatten(subcoms)];const currentCollectionPage=expandedNodes.find(node=>node.id===community.id).currentCollectionPage;let collections=[];for(let i=1;i<=currentCollectionPage;i++){const nextSetOfCollectionsPage=this.collectionDataService.findByParent(community.uuid,{elementsPerPage:this.pageSize,currentPage:i}).pipe((0,shared_operators.hC)(),(0,operators.UI)(rd=>{if((0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)){let nodes=rd.payload.page.map(collection=>toFlatNode(collection,(0,cjs.of)(!1),level+1,!1,communityFlatNode));return currentCollectionPage<rd.payload.totalPages&&currentCollectionPage===rd.payload.currentPage&&(nodes=[...nodes,showMoreFlatNode(`collection-${(0,v4.Z)()}`,level+1,communityFlatNode)]),nodes}return[]}));collections=[...collections,nextSetOfCollectionsPage]}obsList=[...obsList,combineAndFlatten(collections)]}return combineAndFlatten(obsList)}getIsExpandable(community){let hasSubcoms$,hasColls$,hasChildren$;return hasSubcoms$=this.communityDataService.findByParent(community.uuid,this.configOnePage).pipe((0,operators.UI)(rd=>!(!(0,empty_util.Uh)(rd)||!(0,empty_util.Uh)(rd.payload))&&rd.payload.totalElements>0)),hasColls$=this.collectionDataService.findByParent(community.uuid,this.configOnePage).pipe((0,operators.UI)(rd=>!(!(0,empty_util.Uh)(rd)||!(0,empty_util.Uh)(rd.payload))&&rd.payload.totalElements>0)),hasChildren$=(0,cjs.combineLatest)(hasSubcoms$,hasColls$).pipe((0,operators.UI)(([hasSubcoms,hasColls])=>hasSubcoms||hasColls)),hasChildren$}}__name(CommunityListService,"CommunityListService"),CommunityListService.\u0275fac=__name(function(t){return new(t||CommunityListService)(core.LFG(app_config_interface.q),core.LFG(community_data_service.w),core.LFG(collection_data_service.W),core.LFG(ngrx_store.yh))},"CommunityListService_Factory"),CommunityListService.\u0275prov=core.Yz7({token:CommunityListService,factory:CommunityListService.\u0275fac})},74001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListComponent:()=>CommunityListComponent});var operators=__webpack_require__(96846),sort_options_model=__webpack_require__(12448),community_list_service=__webpack_require__(67261),empty_util=__webpack_require__(59501),cjs=__webpack_require__(93489);class CommunityListDatasource{constructor(communityListService){this.communityListService=communityListService,this.communityList$=new cjs.BehaviorSubject([]),this.loading$=new cjs.BehaviorSubject(!1)}connect(collectionViewer){return this.communityList$.asObservable()}loadCommunities(findOptions,expandedNodes){this.loading$.next(!0),(0,empty_util.Uh)(this.subLoadCommunities)&&this.subLoadCommunities.unsubscribe(),this.subLoadCommunities=this.communityListService.loadCommunities(findOptions,expandedNodes).pipe((0,operators.xS)(()=>this.loading$.next(!1))).subscribe(flatNodes=>{this.communityList$.next(flatNodes)})}disconnect(collectionViewer){this.communityList$.complete(),this.loading$.complete()}}__name(CommunityListDatasource,"CommunityListDatasource");var tree=__webpack_require__(47184),find_list_options_model=__webpack_require__(5414),dso_name_service=__webpack_require__(17306),core=__webpack_require__(86209),common=__webpack_require__(65159),router=__webpack_require__(16088),themed_loading_component=__webpack_require__(24442),truncatable_component=__webpack_require__(15933),truncatable_part_component=__webpack_require__(66941),ngx_translate_core=__webpack_require__(4330);function CommunityListComponent_ds_themed_loading_0_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",5)}function CommunityListComponent_cdk_tree_node_3_button_5_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"button",14),core.NdJ("click",__name(function(){core.CHM(_r9);const node_r4=core.oxw().$implicit,ctx_r7=core.oxw();return core.KtG(ctx_r7.getNextPage(node_r4))},"CommunityListComponent_cdk_tree_node_3_button_5_Template_button_click_0_listener")),core._UZ(1,"i",15),core._uU(2),core.ALo(3,"translate"),core.qZA()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"communityList.showMore")," "))}function CommunityListComponent_cdk_tree_node_3_ds_themed_loading_7_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",5)}function CommunityListComponent_cdk_tree_node_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"cdk-tree-node",6)(1,"div",7)(2,"button",8),core._UZ(3,"span",9),core.qZA(),core.TgZ(4,"div",10),core.YNc(5,CommunityListComponent_cdk_tree_node_3_button_5_Template,4,3,"button",11),core.ALo(6,"async"),core.YNc(7,CommunityListComponent_cdk_tree_node_3_ds_themed_loading_7_Template,1,0,"ds-themed-loading",0),core.ALo(8,"async"),core.qZA()(),core.TgZ(9,"div",12),core._UZ(10,"div",13),core.qZA()()),2&rf){const node_r4=ctx.$implicit,ctx_r1=core.oxw();core.xp6(5),core.Q6J("ngIf",!core.lcZ(6,2,ctx_r1.dataSource.loading$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(8,4,node_r4===ctx_r1.loadingNode&&ctx_r1.dataSource.loading$))}}function CommunityListComponent_cdk_tree_node_4_span_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",27),core._uU(1),core.qZA()),2&rf){const node_r10=core.oxw().$implicit;core.xp6(1),core.Oqu(node_r10.payload.archivedItemsCount)}}function CommunityListComponent_cdk_tree_node_4_div_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",13)(1,"button",28),core._UZ(2,"span",18),core.qZA(),core.TgZ(3,"ds-truncatable-part",29)(4,"span"),core._uU(5),core.qZA()()()),2&rf){const node_r10=core.oxw().$implicit;core.xp6(2),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(1),core.Q6J("id",node_r10.id)("minLines",3),core.xp6(2),core.Oqu(node_r10.payload.shortDescription)}}function CommunityListComponent_cdk_tree_node_4_div_16_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",30)(1,"button",28),core._UZ(2,"span",18),core.qZA(),core._UZ(3,"ds-themed-loading",5),core.qZA()),2&rf){const node_r10=core.oxw().$implicit;core.xp6(2),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right")}}function CommunityListComponent_cdk_tree_node_4_Template(rf,ctx){if(1&rf){const _r18=core.EpF();core.TgZ(0,"cdk-tree-node",16)(1,"div",7)(2,"button",17),core.NdJ("click",__name(function(){const node_r10=core.CHM(_r18).$implicit,ctx_r17=core.oxw();return core.KtG(ctx_r17.toggleExpanded(node_r10))},"CommunityListComponent_cdk_tree_node_4_Template_button_click_2_listener")),core.ALo(3,"async"),core.ALo(4,"async"),core._UZ(5,"span",18),core.qZA(),core.TgZ(6,"div",19)(7,"span",20)(8,"a",21),core._uU(9),core.qZA(),core.TgZ(10,"span",22),core._uU(11,"\xa0"),core.qZA(),core.YNc(12,CommunityListComponent_cdk_tree_node_4_span_12_Template,2,1,"span",23),core.qZA()()(),core.TgZ(13,"ds-truncatable",24)(14,"div",12),core.YNc(15,CommunityListComponent_cdk_tree_node_4_div_15_Template,6,6,"div",25),core.qZA()(),core.YNc(16,CommunityListComponent_cdk_tree_node_4_div_16_Template,4,3,"div",26),core.ALo(17,"async"),core.qZA()}if(2&rf){const node_r10=ctx.$implicit,ctx_r2=core.oxw();core.xp6(2),core.Q6J("title","toggle "+ctx_r2.dsoNameService.getName(node_r10.payload))("ngClass",core.lcZ(3,13,ctx_r2.hasChild(null,node_r10))?"visible":"invisible"),core.uIk("aria-label","toggle "+ctx_r2.dsoNameService.getName(node_r10.payload))("data-test",core.lcZ(4,15,ctx_r2.hasChild(null,node_r10))?"expand-button":""),core.xp6(3),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(3),core.Q6J("routerLink",node_r10.route),core.xp6(1),core.hij(" ",ctx_r2.dsoNameService.getName(node_r10.payload)," "),core.xp6(3),core.Q6J("ngIf",node_r10.payload.archivedItemsCount>=0),core.xp6(1),core.Q6J("id",node_r10.id),core.xp6(2),core.Q6J("ngIf",node_r10.payload.shortDescription),core.xp6(1),core.Q6J("ngIf",core.lcZ(17,17,node_r10===ctx_r2.loadingNode&&ctx_r2.dataSource.loading$))}}function CommunityListComponent_cdk_tree_node_5_div_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",13)(1,"button",28),core._UZ(2,"span",18),core.qZA(),core.TgZ(3,"ds-truncatable-part",29)(4,"span"),core._uU(5),core.qZA()()()),2&rf){const node_r19=core.oxw().$implicit;core.xp6(2),core.Tol(node_r19.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(1),core.Q6J("id",node_r19.id)("minLines",3),core.xp6(2),core.Oqu(node_r19.payload.shortDescription)}}function CommunityListComponent_cdk_tree_node_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"cdk-tree-node",31)(1,"div",7)(2,"button",8),core._UZ(3,"span",9),core.qZA(),core.TgZ(4,"h6",10)(5,"a",21),core._uU(6),core.qZA()()(),core.TgZ(7,"ds-truncatable",24)(8,"div",12),core.YNc(9,CommunityListComponent_cdk_tree_node_5_div_9_Template,6,6,"div",25),core.qZA()()()),2&rf){const node_r19=ctx.$implicit,ctx_r3=core.oxw();core.xp6(5),core.Q6J("routerLink",node_r19.route),core.xp6(1),core.hij(" ",ctx_r3.dsoNameService.getName(node_r19.payload)," "),core.xp6(1),core.Q6J("id",node_r19.id),core.xp6(2),core.Q6J("ngIf",node_r19.payload.shortDescription)}}__name(CommunityListComponent_ds_themed_loading_0_Template,"CommunityListComponent_ds_themed_loading_0_Template"),__name(CommunityListComponent_cdk_tree_node_3_button_5_Template,"CommunityListComponent_cdk_tree_node_3_button_5_Template"),__name(CommunityListComponent_cdk_tree_node_3_ds_themed_loading_7_Template,"CommunityListComponent_cdk_tree_node_3_ds_themed_loading_7_Template"),__name(CommunityListComponent_cdk_tree_node_3_Template,"CommunityListComponent_cdk_tree_node_3_Template"),__name(CommunityListComponent_cdk_tree_node_4_span_12_Template,"CommunityListComponent_cdk_tree_node_4_span_12_Template"),__name(CommunityListComponent_cdk_tree_node_4_div_15_Template,"CommunityListComponent_cdk_tree_node_4_div_15_Template"),__name(CommunityListComponent_cdk_tree_node_4_div_16_Template,"CommunityListComponent_cdk_tree_node_4_div_16_Template"),__name(CommunityListComponent_cdk_tree_node_4_Template,"CommunityListComponent_cdk_tree_node_4_Template"),__name(CommunityListComponent_cdk_tree_node_5_div_9_Template,"CommunityListComponent_cdk_tree_node_5_div_9_Template"),__name(CommunityListComponent_cdk_tree_node_5_Template,"CommunityListComponent_cdk_tree_node_5_Template");class CommunityListComponent{constructor(communityListService,dsoNameService){this.communityListService=communityListService,this.dsoNameService=dsoNameService,this.expandedNodes=[],this.treeControl=new tree.C2(node=>node.level,node=>!0),this.trackBy=(index,node)=>node.id,this.paginationConfig=new find_list_options_model.R,this.paginationConfig.elementsPerPage=2,this.paginationConfig.currentPage=1,this.paginationConfig.sort=new sort_options_model.o("dc.title",sort_options_model.S.ASC)}ngOnInit(){this.dataSource=new CommunityListDatasource(this.communityListService),this.communityListService.getLoadingNodeFromStore().pipe((0,operators.qn)(1)).subscribe(result=>{this.loadingNode=result}),this.communityListService.getExpandedNodesFromStore().pipe((0,operators.qn)(1)).subscribe(result=>{this.expandedNodes=[...result],this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)})}ngOnDestroy(){this.communityListService.saveCommunityListStateToStore(this.expandedNodes,this.loadingNode)}hasChild(_,node){return node.isExpandable$}isShowMore(_,node){return node.isShowMoreNode}toggleExpanded(node){this.loadingNode=node,node.isExpanded?(this.expandedNodes=this.expandedNodes.filter(node2=>node2.id!==node.id),node.isExpanded=!1):(this.expandedNodes.push(node),node.isExpanded=!0,(0,empty_util.xb)(node.currentCollectionPage)&&(node.currentCollectionPage=1),(0,empty_util.xb)(node.currentCommunityPage)&&(node.currentCommunityPage=1)),this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)}getNextPage(node){if(this.loadingNode=node,null!=node.parent){if(node.id.startsWith("collection")){this.expandedNodes.find(node2=>node.parent.id===node2.id).currentCollectionPage++}if(node.id.startsWith("community")){this.expandedNodes.find(node2=>node.parent.id===node2.id).currentCommunityPage++}}else this.paginationConfig.currentPage++;this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)}}__name(CommunityListComponent,"CommunityListComponent"),CommunityListComponent.\u0275fac=__name(function(t){return new(t||CommunityListComponent)(core.Y36(community_list_service.rv),core.Y36(dso_name_service._))},"CommunityListComponent_Factory"),CommunityListComponent.\u0275cmp=core.Xpm({type:CommunityListComponent,selectors:[["ds-community-list"]],decls:6,vars:9,consts:[["class","ds-themed-loading",4,"ngIf"],[3,"dataSource","treeControl","trackBy"],["cdkTreeNodePadding","","class","example-tree-node show-more-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","","class","example-tree-node expandable-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","","class","example-tree-node childless-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"ds-themed-loading"],["cdkTreeNodePadding","",1,"example-tree-node","show-more-node"],[1,"btn-group"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default"],["aria-hidden","true",1,"fa","fa-chevron-right","invisible"],[1,"align-middle","pt-2"],["class","btn btn-outline-primary btn-sm","role","button",3,"click",4,"ngIf"],["cdkTreeNodePadding","",1,"text-muted"],[1,"d-flex"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-angle-down"],["cdkTreeNodePadding","",1,"example-tree-node","expandable-node"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default",3,"title","ngClass","click"],["aria-hidden","true"],[1,"d-flex","flex-row"],[1,"align-middle","pt-2","lead"],[1,"lead",3,"routerLink"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-top archived-items-lead",4,"ngIf"],[3,"id"],["class","d-flex",4,"ngIf"],["class","d-flex","cdkTreeNodePadding","",4,"ngIf"],[1,"badge","badge-pill","badge-secondary","align-top","archived-items-lead"],["type","button",1,"btn","btn-default","invisible"],[3,"id","minLines"],["cdkTreeNodePadding","",1,"d-flex"],["cdkTreeNodePadding","",1,"example-tree-node","childless-node"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CommunityListComponent_ds_themed_loading_0_Template,1,0,"ds-themed-loading",0),core.ALo(1,"async"),core.TgZ(2,"cdk-tree",1),core.YNc(3,CommunityListComponent_cdk_tree_node_3_Template,11,6,"cdk-tree-node",2),core.YNc(4,CommunityListComponent_cdk_tree_node_4_Template,18,19,"cdk-tree-node",3),core.YNc(5,CommunityListComponent_cdk_tree_node_5_Template,10,4,"cdk-tree-node",4),core.qZA()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,7,ctx.dataSource.loading$)&&!ctx.loadingNode),core.xp6(2),core.Q6J("dataSource",ctx.dataSource)("treeControl",ctx.treeControl)("trackBy",ctx.trackBy),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.isShowMore),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.hasChild),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",!(ctx.hasChild&&ctx.isShowMore)))},"CommunityListComponent_Template"),dependencies:[common.mk,common.O5,router.rH,themed_loading_component.Z,truncatable_component.n,truncatable_part_component.L,tree.rO,tree.XJ,tree.Ud,tree._0,tree.Hs,common.Ov,ngx_translate_core.X$],encapsulation:2})},92845:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>ThemedCommunityListComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedCommunityListComponent_ng_template_0_Template(rf,ctx){}__name(ThemedCommunityListComponent_ng_template_0_Template,"ThemedCommunityListComponent_ng_template_0_Template");class ThemedCommunityListComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"CommunityListComponent"}importThemedComponent(themeName){return __webpack_require__(65978)(`./${themeName}/app/community-list-page/community-list/community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,74001))}}__name(ThemedCommunityListComponent,"ThemedCommunityListComponent"),ThemedCommunityListComponent.\u0275fac=function(){let \u0275ThemedCommunityListComponent_BaseFactory;return __name(function(t){return(\u0275ThemedCommunityListComponent_BaseFactory||(\u0275ThemedCommunityListComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedCommunityListComponent)))(t||ThemedCommunityListComponent)},"ThemedCommunityListComponent_Factory")}(),ThemedCommunityListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedCommunityListComponent,selectors:[["ds-themed-community-list"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedCommunityListComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedCommunityListComponent_Template"),encapsulation:2})},94015:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-list-page/community-list-page.component":[84501,4501]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=94015,module.exports=webpackAsyncContext},65978:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-list-page/community-list/community-list.component":[48682,8682]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=65978,module.exports=webpackAsyncContext},47184:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C2:()=>FlatTreeControl,Hs:()=>CdkTreeNode,Ud:()=>CdkTreeNodeToggle,XJ:()=>CdkTreeNodePadding,_0:()=>CdkTree,nZ:()=>CdkTreeModule,rO:()=>CdkTreeNodeDef});var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43033),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96846),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63481),_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62294);class BaseTreeControl{constructor(){this.expansionModel=new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__.Ov(!0)}toggle(dataNode){this.expansionModel.toggle(this._trackByValue(dataNode))}expand(dataNode){this.expansionModel.select(this._trackByValue(dataNode))}collapse(dataNode){this.expansionModel.deselect(this._trackByValue(dataNode))}isExpanded(dataNode){return this.expansionModel.isSelected(this._trackByValue(dataNode))}toggleDescendants(dataNode){this.expansionModel.isSelected(this._trackByValue(dataNode))?this.collapseDescendants(dataNode):this.expandDescendants(dataNode)}collapseAll(){this.expansionModel.clear()}expandDescendants(dataNode){let toBeProcessed=[dataNode];toBeProcessed.push(...this.getDescendants(dataNode)),this.expansionModel.select(...toBeProcessed.map(value=>this._trackByValue(value)))}collapseDescendants(dataNode){let toBeProcessed=[dataNode];toBeProcessed.push(...this.getDescendants(dataNode)),this.expansionModel.deselect(...toBeProcessed.map(value=>this._trackByValue(value)))}_trackByValue(value){return this.trackBy?this.trackBy(value):value}}__name(BaseTreeControl,"BaseTreeControl");class FlatTreeControl extends BaseTreeControl{constructor(getLevel,isExpandable,options){super(),this.getLevel=getLevel,this.isExpandable=isExpandable,this.options=options,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(dataNode){const results=[];for(let i=this.dataNodes.indexOf(dataNode)+1;i<this.dataNodes.length&&this.getLevel(dataNode)<this.getLevel(this.dataNodes[i]);i++)results.push(this.dataNodes[i]);return results}expandAll(){this.expansionModel.select(...this.dataNodes.map(node=>this._trackByValue(node)))}}__name(FlatTreeControl,"FlatTreeControl");__name(class NestedTreeControl extends(null){constructor(getChildren,options){super(),this.getChildren=getChildren,this.options=options,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const allNodes=this.dataNodes.reduce((accumulator,dataNode)=>[...accumulator,...this.getDescendants(dataNode),dataNode],[]);this.expansionModel.select(...allNodes.map(node=>this._trackByValue(node)))}getDescendants(dataNode){const descendants=[];return this._getDescendants(descendants,dataNode),descendants.splice(1)}_getDescendants(descendants,dataNode){descendants.push(dataNode);const childrenNodes=this.getChildren(dataNode);Array.isArray(childrenNodes)?childrenNodes.forEach(child=>this._getDescendants(descendants,child)):isObservable(childrenNodes)&&childrenNodes.pipe(take(1),filter(Boolean)).subscribe(children=>{for(const child of children)this._getDescendants(descendants,child)})}},"NestedTreeControl");const CDK_TREE_NODE_OUTLET_NODE=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("CDK_TREE_NODE_OUTLET_NODE");class CdkTreeNodeOutlet{constructor(viewContainer,_node){this.viewContainer=viewContainer,this._node=_node}}__name(CdkTreeNodeOutlet,"CdkTreeNodeOutlet"),CdkTreeNodeOutlet.\u0275fac=__name(function(t){return new(t||CdkTreeNodeOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.s_b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CDK_TREE_NODE_OUTLET_NODE,8))},"CdkTreeNodeOutlet_Factory"),CdkTreeNodeOutlet.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeOutlet,selectors:[["","cdkTreeNodeOutlet",""]]});class CdkTreeNodeOutletContext{constructor(data){this.$implicit=data}}__name(CdkTreeNodeOutletContext,"CdkTreeNodeOutletContext");class CdkTreeNodeDef{constructor(template){this.template=template}}__name(CdkTreeNodeDef,"CdkTreeNodeDef"),CdkTreeNodeDef.\u0275fac=__name(function(t){return new(t||CdkTreeNodeDef)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Rgc))},"CdkTreeNodeDef_Factory"),CdkTreeNodeDef.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeDef,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),__name(function getTreeNoValidDataSourceError(){return Error("A valid data source must be provided.")},"getTreeNoValidDataSourceError"),__name(function getTreeMultipleDefaultNodeDefsError(){return Error("There can only be one default row without a when predicate function.")},"getTreeMultipleDefaultNodeDefsError"),__name(function getTreeMissingMatchingNodeDefError(){return Error("Could not find a matching node definition for the provided node data.")},"getTreeMissingMatchingNodeDefError"),__name(function getTreeControlMissingError(){return Error("Could not find a tree control for the tree.")},"getTreeControlMissingError"),__name(function getTreeControlFunctionsMissingError(){return Error("Could not find functions for nested/flat tree in tree control.")},"getTreeControlFunctionsMissingError");class CdkTree{get dataSource(){return this._dataSource}set dataSource(dataSource){this._dataSource!==dataSource&&this._switchDataSource(dataSource)}constructor(_differs,_changeDetectorRef){this._differs=_differs,this._changeDetectorRef=_changeDetectorRef,this._onDestroy=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this._levels=new Map,this.viewChange=new rxjs__WEBPACK_IMPORTED_MODULE_2__.BehaviorSubject({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy),this.treeControl}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const defaultNodeDefs=this._nodeDefs.filter(def=>!def.when);defaultNodeDefs.length,this._defaultNodeDef=defaultNodeDefs[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(dataSource){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),dataSource||this._nodeOutlet.viewContainer.clear(),this._dataSource=dataSource,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let dataStream;(0,_angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__.Z9)(this._dataSource)?dataStream=this._dataSource.connect(this):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.isObservable)(this._dataSource)?dataStream=this._dataSource:Array.isArray(this._dataSource)&&(dataStream=(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(this._dataSource)),dataStream&&(this._dataSubscription=dataStream.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._onDestroy)).subscribe(data=>this.renderNodeChanges(data)))}renderNodeChanges(data,dataDiffer=this._dataDiffer,viewContainer=this._nodeOutlet.viewContainer,parentData){const changes=dataDiffer.diff(data);changes&&(changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex)this.insertNode(data[currentIndex],currentIndex,viewContainer,parentData);else if(null==currentIndex)viewContainer.remove(adjustedPreviousIndex),this._levels.delete(item.item);else{const view=viewContainer.get(adjustedPreviousIndex);viewContainer.move(view,currentIndex)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(data,i){if(1===this._nodeDefs.length)return this._nodeDefs.first;return this._nodeDefs.find(def=>def.when&&def.when(i,data))||this._defaultNodeDef}insertNode(nodeData,index,viewContainer,parentData){const node=this._getNodeDef(nodeData,index),context=new CdkTreeNodeOutletContext(nodeData);this.treeControl.getLevel?context.level=this.treeControl.getLevel(nodeData):typeof parentData<"u"&&this._levels.has(parentData)?context.level=this._levels.get(parentData)+1:context.level=0,this._levels.set(nodeData,context.level),(viewContainer||this._nodeOutlet.viewContainer).createEmbeddedView(node.template,context,index),CdkTreeNode.mostRecentTreeNode&&(CdkTreeNode.mostRecentTreeNode.data=nodeData)}}__name(CdkTree,"CdkTree"),CdkTree.\u0275fac=__name(function(t){return new(t||CdkTree)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ZZ4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.sBO))},"CdkTree_Factory"),CdkTree.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:CdkTree,selectors:[["cdk-tree"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Suo(dirIndex,CdkTreeNodeDef,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx._nodeDefs=_t)}},"CdkTree_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gf(CdkTreeNodeOutlet,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx._nodeOutlet=_t.first)}},"CdkTree_Query"),hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0,0)},"CdkTree_Template"),dependencies:[CdkTreeNodeOutlet],encapsulation:2});class CdkTreeNode{get role(){return"treeitem"}set role(_role){this._elementRef.nativeElement.setAttribute("role",_role)}get data(){return this._data}set data(value){value!==this._data&&(this._data=value,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(_elementRef,_tree){this._elementRef=_elementRef,this._tree=_tree,this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this._dataChanges=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,CdkTreeNode.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=getParentNodeAriaLevel(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){CdkTreeNode.mostRecentTreeNode===this&&(CdkTreeNode.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){!this._tree.treeControl.isExpandable&&this._tree.treeControl.getChildren,this.role="treeitem"}}function getParentNodeAriaLevel(nodeElement){let parent=nodeElement.parentElement;for(;parent&&!isNodeElement(parent);)parent=parent.parentElement;return parent?parent.classList.contains("cdk-nested-tree-node")?(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(parent.getAttribute("aria-level")):0:-1}function isNodeElement(element){const classList=element.classList;return!(!classList?.contains("cdk-nested-tree-node")&&!classList?.contains("cdk-tree"))}__name(CdkTreeNode,"CdkTreeNode"),CdkTreeNode.mostRecentTreeNode=null,CdkTreeNode.\u0275fac=__name(function(t){return new(t||CdkTreeNode)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree))},"CdkTreeNode_Factory"),CdkTreeNode.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNode,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.uIk("aria-expanded",ctx.isExpanded)},"CdkTreeNode_HostBindings"),inputs:{role:"role"},exportAs:["cdkTreeNode"]}),__name(getParentNodeAriaLevel,"getParentNodeAriaLevel"),__name(isNodeElement,"isNodeElement");class CdkNestedTreeNode extends CdkTreeNode{constructor(elementRef,tree,_differs){super(elementRef,tree),this._differs=_differs}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree.treeControl.getChildren;const childrenNodes=this._tree.treeControl.getChildren(this.data);Array.isArray(childrenNodes)?this.updateChildrenNodes(childrenNodes):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.isObservable)(childrenNodes)&&childrenNodes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(result=>this.updateChildrenNodes(result)),this.nodeOutlet.changes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(children){const outlet=this._getNodeOutlet();if(children&&(this._children=children),outlet&&this._children){const viewContainer=outlet.viewContainer;this._tree.renderNodeChanges(this._children,this._dataDiffer,viewContainer,this._data)}else this._dataDiffer.diff([])}_clear(){const outlet=this._getNodeOutlet();outlet&&(outlet.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const outlets=this.nodeOutlet;return outlets&&outlets.find(outlet=>!outlet._node||outlet._node===this)}}__name(CdkNestedTreeNode,"CdkNestedTreeNode"),CdkNestedTreeNode.\u0275fac=__name(function(t){return new(t||CdkNestedTreeNode)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ZZ4))},"CdkNestedTreeNode_Factory"),CdkNestedTreeNode.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkNestedTreeNode,selectors:[["cdk-nested-tree-node"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Suo(dirIndex,CdkTreeNodeOutlet,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx.nodeOutlet=_t)}},"CdkNestedTreeNode_ContentQueries"),hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__._Bn([{provide:CdkTreeNode,useExisting:CdkNestedTreeNode},{provide:CDK_TREE_NODE_OUTLET_NODE,useExisting:CdkNestedTreeNode}]),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj]});const cssUnitPattern=/([A-Za-z%]+)$/;class CdkTreeNodePadding{get level(){return this._level}set level(value){this._setLevelInput(value)}get indent(){return this._indent}set indent(indent){this._setIndentInput(indent)}constructor(_treeNode,_tree,_element,_dir){this._treeNode=_treeNode,this._tree=_tree,this._element=_element,this._dir=_dir,this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this.indentUnits="px",this._indent=40,this._setPadding(),_dir&&_dir.change.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(()=>this._setPadding(!0)),_treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const nodeLevel=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,level=null==this._level?nodeLevel:this._level;return"number"==typeof level?`${level*this._indent}${this.indentUnits}`:null}_setPadding(forceChange=!1){const padding=this._paddingIndent();if(padding!==this._currentPadding||forceChange){const element=this._element.nativeElement,paddingProp=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",resetProp="paddingLeft"===paddingProp?"paddingRight":"paddingLeft";element.style[paddingProp]=padding||"",element.style[resetProp]="",this._currentPadding=padding}}_setLevelInput(value){this._level=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(value,null),this._setPadding()}_setIndentInput(indent){let value=indent,units="px";if("string"==typeof indent){const parts=indent.split(cssUnitPattern);value=parts[0],units=parts[1]||units}this.indentUnits=units,this._indent=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(value),this._setPadding()}}__name(CdkTreeNodePadding,"CdkTreeNodePadding"),CdkTreeNodePadding.\u0275fac=__name(function(t){return new(t||CdkTreeNodePadding)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTreeNode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_5__.Is,8))},"CdkTreeNodePadding_Factory"),CdkTreeNodePadding.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodePadding,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}});class CdkTreeNodeToggle{get recursive(){return this._recursive}set recursive(value){this._recursive=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.Ig)(value)}constructor(_tree,_treeNode){this._tree=_tree,this._treeNode=_treeNode,this._recursive=!1}_toggle(event){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),event.stopPropagation()}}__name(CdkTreeNodeToggle,"CdkTreeNodeToggle"),CdkTreeNodeToggle.\u0275fac=__name(function(t){return new(t||CdkTreeNodeToggle)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTreeNode))},"CdkTreeNodeToggle_Factory"),CdkTreeNodeToggle.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeToggle,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",__name(function($event){return ctx._toggle($event)},"CdkTreeNodeToggle_click_HostBindingHandler"))},"CdkTreeNodeToggle_HostBindings"),inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}});class CdkTreeModule{}__name(CdkTreeModule,"CdkTreeModule"),CdkTreeModule.\u0275fac=__name(function(t){return new(t||CdkTreeModule)},"CdkTreeModule_Factory"),CdkTreeModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:CdkTreeModule}),CdkTreeModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({})}};