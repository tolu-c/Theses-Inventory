var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=8167,exports.ids=[8167],exports.modules={96034:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>ThemedEmailRequestCopyComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),src_app_shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787);function ThemedEmailRequestCopyComponent_ng_template_0_Template(rf,ctx){}__name(ThemedEmailRequestCopyComponent_ng_template_0_Template,"ThemedEmailRequestCopyComponent_ng_template_0_Template");class ThemedEmailRequestCopyComponent extends src_app_shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.send=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.inAndOutputNames=["send","subject","message"]}getComponentName(){return"EmailRequestCopyComponent"}importThemedComponent(themeName){return __webpack_require__(52772)(`./${themeName}/app/request-copy/email-request-copy/email-request-copy.component`)}importUnthemedComponent(){return __webpack_require__.e(2141).then(__webpack_require__.bind(__webpack_require__,12141))}}__name(ThemedEmailRequestCopyComponent,"ThemedEmailRequestCopyComponent"),ThemedEmailRequestCopyComponent.\u0275fac=function(){let \u0275ThemedEmailRequestCopyComponent_BaseFactory;return __name(function(t){return(\u0275ThemedEmailRequestCopyComponent_BaseFactory||(\u0275ThemedEmailRequestCopyComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedEmailRequestCopyComponent)))(t||ThemedEmailRequestCopyComponent)},"ThemedEmailRequestCopyComponent_Factory")}(),ThemedEmailRequestCopyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedEmailRequestCopyComponent,selectors:[["ds-themed-email-request-copy"]],inputs:{subject:"subject",message:"message"},outputs:{send:"send"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedEmailRequestCopyComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedEmailRequestCopyComponent_Template"),encapsulation:2})},18167:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GrantRequestCopyComponent:()=>GrantRequestCopyComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53829),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22410),_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64799),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39373),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(80815),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4330),_angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32189),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24442),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(61562),_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96034);function GrantRequestCopyComponent_div_0_div_4_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div")(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-themed-email-request-copy",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("send",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r5);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r4.grant($event))},"GrantRequestCopyComponent_div_0_div_4_Template_ds_themed_email_request_copy_send_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(7,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(10,"form",5)(11,"div",6)(12,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r5);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r6.suggestOpenAccess=$event)},"GrantRequestCopyComponent_div_0_div_4_Template_input_ngModelChange_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(13,"label",8),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(14),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()()()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,6,"grant-request-copy.intro")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("subject",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(5,8,ctx_r2.subject$))("message",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(6,10,ctx_r2.message$)),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(9,12,"grant-deny-request-copy.email.permissions.info")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngModel",ctx_r2.suggestOpenAccess),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(15,14,"grant-deny-request-copy.email.permissions.label"))}}function GrantRequestCopyComponent_div_0_ds_themed_loading_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(0,"ds-themed-loading")}function GrantRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",1)(1,"h3",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(4,GrantRequestCopyComponent_div_0_div_4_Template,16,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(5,GrantRequestCopyComponent_div_0_ds_themed_loading_5_Template,1,0,"ds-themed-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf){const itemRequestRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,3,"grant-request-copy.header")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",itemRequestRD_r1&&itemRequestRD_r1.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",!itemRequestRD_r1||(null==itemRequestRD_r1?null:itemRequestRD_r1.isLoading))}}__name(GrantRequestCopyComponent_div_0_div_4_Template,"GrantRequestCopyComponent_div_0_div_4_Template"),__name(GrantRequestCopyComponent_div_0_ds_themed_loading_5_Template,"GrantRequestCopyComponent_div_0_ds_themed_loading_5_Template"),__name(GrantRequestCopyComponent_div_0_Template,"GrantRequestCopyComponent_div_0_Template");class GrantRequestCopyComponent{constructor(router,route,authService,translateService,itemRequestService,notificationsService){this.router=router,this.route=route,this.authService=authService,this.translateService=translateService,this.itemRequestService=itemRequestService,this.notificationsService=notificationsService,this.suggestOpenAccess=!1}ngOnInit(){this.itemRequestRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.UI)(data=>data.request),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.hC)(),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__.Gh)(this.router,this.authService)),this.subject$=this.translateService.get("grant-request-copy.email.subject")}grant(email){this.itemRequestRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.wt)(itemRequest=>this.itemRequestService.grant(itemRequest.token,email,this.suggestOpenAccess)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get("grant-request-copy.success")),this.router.navigateByUrl("/")):this.notificationsService.error(this.translateService.get("grant-request-copy.error"),rd.errorMessage)})}}__name(GrantRequestCopyComponent,"GrantRequestCopyComponent"),GrantRequestCopyComponent.\u0275fac=__name(function(t){return new(t||GrantRequestCopyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_10__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_10__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.e8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_data_item_request_data_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.T))},"GrantRequestCopyComponent_Factory"),GrantRequestCopyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:GrantRequestCopyComponent,selectors:[["ds-grant-request-copy"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[4,"ngIf"],[3,"subject","message","send"],[1,"mb-3"],[1,"form-check"],["type","checkbox","value","","id","permissions","name","permissions",1,"form-check-input",3,"ngModel","ngModelChange"],["for","permissions",1,"form-check-label"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(0,GrantRequestCopyComponent_div_0_Template,6,5,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(1,1,ctx.itemRequestRD$))},"GrantRequestCopyComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_13__._Y,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.F,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__.Z,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_6__.g,_email_request_copy_themed_email_request_copy_component__WEBPACK_IMPORTED_MODULE_7__.F,_angular_common__WEBPACK_IMPORTED_MODULE_12__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.X$]})},52772:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/request-copy/email-request-copy/email-request-copy.component":[95162,1632]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=52772,module.exports=webpackAsyncContext}};