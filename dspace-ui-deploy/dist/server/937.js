var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=937,exports.ids=[937,9818,9164,8159,1975,5995,1597,1275,3101],exports.modules={95239:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>SubmissionUploadsConfigDataService});var _class,tslib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(70655),_config_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19375),_data_request_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91751),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54781),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(54174),_models_config_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(50092),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20018),_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(98303),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209);let SubmissionUploadsConfigDataService=((_class=__name(class extends _config_data_service__WEBPACK_IMPORTED_MODULE_0__.o{constructor(requestService,rdbService,objectCache,halService){super("submissionuploads",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}},"SubmissionUploadsConfigDataService")).\u0275fac=__name(function(t){return new(t||_class)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_data_request_service__WEBPACK_IMPORTED_MODULE_1__.s),_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_5__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__.a),_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.q))},"SubmissionUploadsConfigDataService_Factory"),_class.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Yz7({token:_class,factory:_class.\u0275fac}),_class);SubmissionUploadsConfigDataService=(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_6__.cQ)(_models_config_type__WEBPACK_IMPORTED_MODULE_4__.fB),(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes",[_data_request_service__WEBPACK_IMPORTED_MODULE_1__.s,_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_5__.Q,_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__.a,_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.q])],SubmissionUploadsConfigDataService)},7036:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>DragService});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209);class DragService{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}}__name(DragService,"DragService"),DragService.\u0275fac=__name(function(t){return new(t||DragService)},"DragService_Factory"),DragService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DragService,factory:DragService.\u0275fac,providedIn:"root"})},95414:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>JsonPatchOperationPathCombiner});var _shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59501),_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(64526);class JsonPatchOperationPathCombiner extends _url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_0__.R{constructor(rootElement,...subRootElements){super(rootElement,...subRootElements),this._rootElement=rootElement,this._subRootElement=subRootElements.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(fragment){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.pT)(fragment)&&Array.isArray(fragment)&&(fragment=fragment.join("/"));let path="/"+this.toString();return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.pT)(fragment)&&(path+="/"+fragment),{rootElement:this._rootElement,subRootElement:this._subRootElement,path}}}__name(JsonPatchOperationPathCombiner,"JsonPatchOperationPathCombiner")},37867:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>JournalEntitiesModule});var _class,common=__webpack_require__(65159),shared_module=__webpack_require__(47013),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(87878),listable_object_decorator=__webpack_require__(86861),item_component=__webpack_require__(78678),core=__webpack_require__(86209),tabbed_related_entities_search_component=__webpack_require__(81756),generic_item_page_field_component=__webpack_require__(57172),related_items_component=__webpack_require__(43239),router=__webpack_require__(16088),themed_thumbnail_component=__webpack_require__(3010),metadata_field_wrapper_component=__webpack_require__(6390),themed_item_page_field_component=__webpack_require__(88883),themed_results_back_button_component=__webpack_require__(29017),dso_edit_menu_component=__webpack_require__(12590),ngx_translate_core=__webpack_require__(4330);function JournalComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",14),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}__name(JournalComponent_ds_themed_results_back_button_0_Template,"JournalComponent_ds_themed_results_back_button_0_Template");const _c0=__name(function(){return["creativeworkseries.issn"]},"_c0"),_c1=__name(function(){return["creativework.publisher"]},"_c1"),_c2=__name(function(){return["creativework.editor"]},"_c2"),_c3=__name(function(){return["dc.description"]},"_c3"),_c4=__name(function(a0){return[a0]},"_c4"),_c5=__name(function(){return{label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"}},"_c5");let JournalComponent=((_class=__name(class extends item_component.P{},"JournalComponent")).\u0275fac=function(){let \u0275JournalComponent_BaseFactory;return __name(function(t){return(\u0275JournalComponent_BaseFactory||(\u0275JournalComponent_BaseFactory=core.n5z(_class)))(t||_class)},"JournalComponent_Factory")}(),_class.\u0275cmp=core.Xpm({type:_class,selectors:[["ds-journal"]],features:[core.qOj],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,JournalComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),core.qZA(),core.TgZ(13,"div",9),core._UZ(14,"ds-related-items",10),core.ALo(15,"translate"),core._UZ(16,"ds-generic-item-page-field",7),core.TgZ(17,"div")(18,"a",11),core._uU(19),core.ALo(20,"translate"),core.qZA()()(),core.TgZ(21,"div",12),core._UZ(22,"ds-tabbed-related-entities-search",13),core.qZA()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,23,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,25,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(31,_c0))("label","journal.page.issn"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(32,_c1))("label","journal.page.publisher"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(33,_c2))("label","journal.page.editor"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isVolumeOfJournal")("label",core.lcZ(15,27,"relationships.isVolumeOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(34,_c3))("label","journal.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(35,_c4,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(20,29,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(38,_c4,core.DdM(37,_c5))))},"JournalComponent_Template"),dependencies:[common.O5,tabbed_related_entities_search_component.i,generic_item_page_field_component.w,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),_class);var journal_issue_component_class;function JournalIssueComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",12),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}JournalComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.StandalonePage)],JournalComponent),__name(JournalIssueComponent_ds_themed_results_back_button_0_Template,"JournalIssueComponent_ds_themed_results_back_button_0_Template");const journal_issue_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_component_c0"),journal_issue_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_component_c1"),journal_issue_component_c2=__name(function(){return["creativework.datePublished"]},"journal_issue_component_c2"),journal_issue_component_c3=__name(function(){return["journal.title"]},"journal_issue_component_c3"),journal_issue_component_c4=__name(function(){return["creativeworkseries.issn"]},"journal_issue_component_c4"),journal_issue_component_c5=__name(function(){return["dc.description"]},"journal_issue_component_c5"),_c6=__name(function(){return["creativework.keywords"]},"_c6"),_c7=__name(function(a0){return[a0]},"_c7");let JournalIssueComponent=((journal_issue_component_class=__name(class extends item_component.P{},"JournalIssueComponent")).\u0275fac=function(){let \u0275JournalIssueComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueComponent_BaseFactory||(\u0275JournalIssueComponent_BaseFactory=core.n5z(journal_issue_component_class)))(t||journal_issue_component_class)},"JournalIssueComponent_Factory")}(),journal_issue_component_class.\u0275cmp=core.Xpm({type:journal_issue_component_class,selectors:[["ds-journal-issue"]],features:[core.qOj],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,JournalIssueComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),core.qZA(),core.TgZ(15,"div",8),core._UZ(16,"ds-related-items",9),core.ALo(17,"translate"),core._UZ(18,"ds-related-items",10),core.ALo(19,"translate"),core._UZ(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),core.TgZ(22,"div")(23,"a",11),core._uU(24),core.ALo(25,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,33,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,35,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(43,journal_issue_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(44,journal_issue_component_c1))("label","journalissue.page.number"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(45,journal_issue_component_c2))("label","journalissue.page.issuedate"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(46,journal_issue_component_c3))("label","journalissue.page.journal-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(47,journal_issue_component_c4))("label","journalissue.page.journal-issn"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalVolumeOfIssue")("label",core.lcZ(17,37,"relationships.isSingleVolumeOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfJournalIssue")("label",core.lcZ(19,39,"relationships.isPublicationOfJournalIssue")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(48,journal_issue_component_c5))("label","journalissue.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(49,_c6))("label","journalissue.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(50,_c7,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(25,41,"item.page.link.full")," "))},"JournalIssueComponent_Template"),dependencies:[common.O5,generic_item_page_field_component.w,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),journal_issue_component_class);var journal_volume_component_class;function JournalVolumeComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",11),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}JournalIssueComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.StandalonePage)],JournalIssueComponent),__name(JournalVolumeComponent_ds_themed_results_back_button_0_Template,"JournalVolumeComponent_ds_themed_results_back_button_0_Template");const journal_volume_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_component_c0"),journal_volume_component_c1=__name(function(){return["creativework.datePublished"]},"journal_volume_component_c1"),journal_volume_component_c2=__name(function(){return["dc.description"]},"journal_volume_component_c2"),journal_volume_component_c3=__name(function(a0){return[a0]},"journal_volume_component_c3");let JournalVolumeComponent=((journal_volume_component_class=__name(class extends item_component.P{},"JournalVolumeComponent")).\u0275fac=function(){let \u0275JournalVolumeComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeComponent_BaseFactory||(\u0275JournalVolumeComponent_BaseFactory=core.n5z(journal_volume_component_class)))(t||journal_volume_component_class)},"JournalVolumeComponent_Factory")}(),journal_volume_component_class.\u0275cmp=core.Xpm({type:journal_volume_component_class,selectors:[["ds-journal-volume"]],features:[core.qOj],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,JournalVolumeComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),core.qZA(),core.TgZ(12,"div",8),core._UZ(13,"ds-related-items",9),core.ALo(14,"translate"),core._UZ(15,"ds-related-items",9),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",7),core.TgZ(18,"div")(19,"a",10),core._uU(20),core.ALo(21,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,21,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,23,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(31,journal_volume_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(32,journal_volume_component_c1))("label","journalvolume.page.issuedate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalOfVolume")("label",core.lcZ(14,25,"relationships.isSingleJournalOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isIssueOfJournalVolume")("label",core.lcZ(16,27,"relationships.isIssueOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(33,journal_volume_component_c2))("label","journalvolume.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(34,journal_volume_component_c3,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,29,"item.page.link.full")," "))},"JournalVolumeComponent_Template"),dependencies:[common.O5,generic_item_page_field_component.w,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),journal_volume_component_class);JournalVolumeComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.StandalonePage)],JournalVolumeComponent);var journal_search_result_list_element_component_class,abstract_listable_element_component=__webpack_require__(99614),item_search_result_list_element_component=__webpack_require__(35977),thumbnail_component=__webpack_require__(85482),truncatable_component=__webpack_require__(15933),truncatable_part_component=__webpack_require__(66941),themed_badges_component=__webpack_require__(49141);const journal_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_list_element_component_c0");function JournalSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(7,journal_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,5,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalSearchResultListElementComponent_div_1_a_1_Template,3,9,"a",11),core.YNc(2,JournalSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalSearchResultListElementComponent_ds_themed_badges_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function JournalSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(4,journal_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function JournalSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(JournalSearchResultListElementComponent_div_1_a_1_Template,"JournalSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalSearchResultListElementComponent_div_1_span_2_Template,"JournalSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalSearchResultListElementComponent_div_1_Template,"JournalSearchResultListElementComponent_div_1_Template"),__name(JournalSearchResultListElementComponent_ds_themed_badges_3_Template,"JournalSearchResultListElementComponent_ds_themed_badges_3_Template"),__name(JournalSearchResultListElementComponent_a_5_Template,"JournalSearchResultListElementComponent_a_5_Template"),__name(JournalSearchResultListElementComponent_span_6_Template,"JournalSearchResultListElementComponent_span_6_Template"),__name(JournalSearchResultListElementComponent_span_9_span_1_Template,"JournalSearchResultListElementComponent_span_9_span_1_Template");const journal_search_result_list_element_component_c1=__name(function(){return["creativeworkseries.issn"]},"journal_search_result_list_element_component_c1");function JournalSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_search_result_list_element_component_c1)))}}__name(JournalSearchResultListElementComponent_span_9_Template,"JournalSearchResultListElementComponent_span_9_Template");let JournalSearchResultListElementComponent=((journal_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{},"JournalSearchResultListElementComponent")).\u0275fac=function(){let \u0275JournalSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultListElementComponent_BaseFactory||(\u0275JournalSearchResultListElementComponent_BaseFactory=core.n5z(journal_search_result_list_element_component_class)))(t||journal_search_result_list_element_component_class)},"JournalSearchResultListElementComponent_Factory")}(),journal_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:journal_search_result_list_element_component_class,selectors:[["ds-journal-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalSearchResultListElementComponent_ds_themed_badges_3_Template,1,2,"ds-themed-badges",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalSearchResultListElementComponent_a_5_Template,1,6,"a",5),core.YNc(6,JournalSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_search_result_list_element_component_c1)).length>0))},"JournalSearchResultListElementComponent_Template"),dependencies:[common.mk,common.sg,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov]}),journal_search_result_list_element_component_class);var journal_list_element_component_class;JournalSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement)],JournalSearchResultListElementComponent);const journal_list_element_component_c0=__name(function(){return{}},"journal_list_element_component_c0"),journal_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_list_element_component_c1");let JournalListElementComponent=((journal_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalListElementComponent")).\u0275fac=function(){let \u0275JournalListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalListElementComponent_BaseFactory||(\u0275JournalListElementComponent_BaseFactory=core.n5z(journal_list_element_component_class)))(t||journal_list_element_component_class)},"JournalListElementComponent_Factory")}(),journal_list_element_component_class.\u0275cmp=core.Xpm({type:journal_list_element_component_class,selectors:[["ds-journal-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_list_element_component_c1,ctx.object,core.DdM(3,journal_list_element_component_c0)))("linkType",ctx.linkType)},"JournalListElementComponent_Template"),dependencies:[JournalSearchResultListElementComponent]}),journal_list_element_component_class);var journal_issue_search_result_list_element_component_class;JournalListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.ListElement)],JournalListElementComponent);const journal_issue_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_list_element_component_c0");function JournalIssueSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(7,journal_issue_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,5,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_a_1_Template,3,9,"a",11),core.YNc(2,JournalIssueSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalIssueSearchResultListElementComponent_ds_themed_badges_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function JournalIssueSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(4,journal_issue_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function JournalIssueSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," - "),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalIssueSearchResultListElementComponent_div_1_a_1_Template,"JournalIssueSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_span_2_Template,"JournalIssueSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_Template,"JournalIssueSearchResultListElementComponent_div_1_Template"),__name(JournalIssueSearchResultListElementComponent_ds_themed_badges_3_Template,"JournalIssueSearchResultListElementComponent_ds_themed_badges_3_Template"),__name(JournalIssueSearchResultListElementComponent_a_5_Template,"JournalIssueSearchResultListElementComponent_a_5_Template"),__name(JournalIssueSearchResultListElementComponent_span_6_Template,"JournalIssueSearchResultListElementComponent_span_6_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_1_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template");const journal_issue_search_result_list_element_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_search_result_list_element_component_c1");function JournalIssueSearchResultListElementComponent_span_9_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,5,2,"span",20),core.qZA()),2&rf){const ctx_r8=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r8.allMetadataValues(core.DdM(1,journal_issue_search_result_list_element_component_c1)))}}__name(JournalIssueSearchResultListElementComponent_span_9_span_2_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_Template");const journal_issue_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_search_result_list_element_component_c2");function JournalIssueSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.YNc(2,JournalIssueSearchResultListElementComponent_span_9_span_2_Template,2,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(2,journal_issue_search_result_list_element_component_c2))),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.allMetadata(core.DdM(3,journal_issue_search_result_list_element_component_c1)).length>0)}}__name(JournalIssueSearchResultListElementComponent_span_9_Template,"JournalIssueSearchResultListElementComponent_span_9_Template");let JournalIssueSearchResultListElementComponent=((journal_issue_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{},"JournalIssueSearchResultListElementComponent")).\u0275fac=function(){let \u0275JournalIssueSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultListElementComponent_BaseFactory||(\u0275JournalIssueSearchResultListElementComponent_BaseFactory=core.n5z(journal_issue_search_result_list_element_component_class)))(t||journal_issue_search_result_list_element_component_class)},"JournalIssueSearchResultListElementComponent_Factory")}(),journal_issue_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:journal_issue_search_result_list_element_component_class,selectors:[["ds-journal-issue-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[1,"item-list-journal-issue-numbers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalIssueSearchResultListElementComponent_ds_themed_badges_3_Template,1,2,"ds-themed-badges",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalIssueSearchResultListElementComponent_a_5_Template,1,6,"a",5),core.YNc(6,JournalIssueSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalIssueSearchResultListElementComponent_span_9_Template,3,4,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_issue_search_result_list_element_component_c2)).length>0))},"JournalIssueSearchResultListElementComponent_Template"),dependencies:[common.mk,common.sg,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov]}),journal_issue_search_result_list_element_component_class);var journal_issue_list_element_component_class;JournalIssueSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement)],JournalIssueSearchResultListElementComponent);const journal_issue_list_element_component_c0=__name(function(){return{}},"journal_issue_list_element_component_c0"),journal_issue_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_list_element_component_c1");let JournalIssueListElementComponent=((journal_issue_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalIssueListElementComponent")).\u0275fac=function(){let \u0275JournalIssueListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueListElementComponent_BaseFactory||(\u0275JournalIssueListElementComponent_BaseFactory=core.n5z(journal_issue_list_element_component_class)))(t||journal_issue_list_element_component_class)},"JournalIssueListElementComponent_Factory")}(),journal_issue_list_element_component_class.\u0275cmp=core.Xpm({type:journal_issue_list_element_component_class,selectors:[["ds-journal-issue-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_list_element_component_c1,ctx.object,core.DdM(3,journal_issue_list_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueListElementComponent_Template"),dependencies:[JournalIssueSearchResultListElementComponent]}),journal_issue_list_element_component_class);var journal_volume_search_result_list_element_component_class;JournalIssueListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.ListElement)],JournalIssueListElementComponent);const journal_volume_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_list_element_component_c0");function JournalVolumeSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",14),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.Q6J("target",ctx_r6.linkType==ctx_r6.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(7,journal_volume_search_result_list_element_component_c0,ctx_r6.itemPageRoute)),core.uIk("rel",ctx_r6.linkType==ctx_r6.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,5,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",16),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r7=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r7.dso?null:ctx_r7.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",11),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,3,9,"a",12),core.YNc(2,JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",13),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalVolumeSearchResultListElementComponent_ds_themed_badges_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",17),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function JournalVolumeSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",18),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(4,journal_volume_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function JournalVolumeSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",19),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalVolumeSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,"JournalVolumeSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_Template"),__name(JournalVolumeSearchResultListElementComponent_ds_themed_badges_3_Template,"JournalVolumeSearchResultListElementComponent_ds_themed_badges_3_Template"),__name(JournalVolumeSearchResultListElementComponent_a_5_Template,"JournalVolumeSearchResultListElementComponent_a_5_Template"),__name(JournalVolumeSearchResultListElementComponent_span_6_Template,"JournalVolumeSearchResultListElementComponent_span_6_Template"),__name(JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_9_span_1_Template");const journal_volume_search_result_list_element_component_c1=__name(function(){return["journal.title"]},"journal_volume_search_result_list_element_component_c1");function JournalVolumeSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c1)))}}function JournalVolumeSearchResultListElementComponent_span_10_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," ("),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA(),core.TgZ(5,"span"),core._uU(6,")"),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_span_9_Template,"JournalVolumeSearchResultListElementComponent_span_9_Template"),__name(JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_10_span_1_Template");const journal_volume_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_search_result_list_element_component_c2");function JournalVolumeSearchResultListElementComponent_span_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,7,2,"span",21),core.qZA()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r5.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c2)))}}__name(JournalVolumeSearchResultListElementComponent_span_10_Template,"JournalVolumeSearchResultListElementComponent_span_10_Template");let JournalVolumeSearchResultListElementComponent=((journal_volume_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{},"JournalVolumeSearchResultListElementComponent")).\u0275fac=function(){let \u0275JournalVolumeSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory=core.n5z(journal_volume_search_result_list_element_component_class)))(t||journal_volume_search_result_list_element_component_class)},"JournalVolumeSearchResultListElementComponent_Factory")}(),journal_volume_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:journal_volume_search_result_list_element_component_class,selectors:[["ds-journal-volume-search-result-list-element"]],features:[core.qOj],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-journal-volume-identifiers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalVolumeSearchResultListElementComponent_ds_themed_badges_3_Template,1,2,"ds-themed-badges",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalVolumeSearchResultListElementComponent_a_5_Template,1,6,"a",5),core.YNc(6,JournalVolumeSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalVolumeSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.YNc(10,JournalVolumeSearchResultListElementComponent_span_10_Template,2,2,"span",10),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(10,journal_volume_search_result_list_element_component_c1)).length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(11,journal_volume_search_result_list_element_component_c2)).length>0))},"JournalVolumeSearchResultListElementComponent_Template"),dependencies:[common.mk,common.sg,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov]}),journal_volume_search_result_list_element_component_class);var journal_volume_list_element_component_class;JournalVolumeSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement)],JournalVolumeSearchResultListElementComponent);const journal_volume_list_element_component_c0=__name(function(){return{}},"journal_volume_list_element_component_c0"),journal_volume_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_list_element_component_c1");let JournalVolumeListElementComponent=((journal_volume_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalVolumeListElementComponent")).\u0275fac=function(){let \u0275JournalVolumeListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeListElementComponent_BaseFactory||(\u0275JournalVolumeListElementComponent_BaseFactory=core.n5z(journal_volume_list_element_component_class)))(t||journal_volume_list_element_component_class)},"JournalVolumeListElementComponent_Factory")}(),journal_volume_list_element_component_class.\u0275cmp=core.Xpm({type:journal_volume_list_element_component_class,selectors:[["ds-journal-volume-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_list_element_component_c1,ctx.object,core.DdM(3,journal_volume_list_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeListElementComponent_Template"),dependencies:[JournalVolumeSearchResultListElementComponent]}),journal_volume_list_element_component_class);JournalVolumeListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.ListElement)],JournalVolumeListElementComponent);var journal_issue_search_result_grid_element_component_class,animations_focus=__webpack_require__(48037),item_search_result_grid_element_component=__webpack_require__(58916);const journal_issue_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_grid_element_component_c0");function JournalIssueSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,journal_issue_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-themed-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function JournalIssueSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("journal.title"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_issue_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(JournalIssueSearchResultGridElementComponent_a_5_Template,"JournalIssueSearchResultGridElementComponent_a_5_Template"),__name(JournalIssueSearchResultGridElementComponent_span_6_Template,"JournalIssueSearchResultGridElementComponent_span_6_Template"),__name(JournalIssueSearchResultGridElementComponent_ds_themed_badges_8_Template,"JournalIssueSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(JournalIssueSearchResultGridElementComponent_p_11_Template,"JournalIssueSearchResultGridElementComponent_p_11_Template"),__name(JournalIssueSearchResultGridElementComponent_p_12_Template,"JournalIssueSearchResultGridElementComponent_p_12_Template"),__name(JournalIssueSearchResultGridElementComponent_div_13_Template,"JournalIssueSearchResultGridElementComponent_div_13_Template");const journal_issue_search_result_grid_element_component_c1=["*","*"];let JournalIssueSearchResultGridElementComponent=((journal_issue_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"JournalIssueSearchResultGridElementComponent")).\u0275fac=function(){let \u0275JournalIssueSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory||(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory=core.n5z(journal_issue_search_result_grid_element_component_class)))(t||journal_issue_search_result_grid_element_component_class)},"JournalIssueSearchResultGridElementComponent_Factory")}(),journal_issue_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_issue_search_result_grid_element_component_class,selectors:[["ds-journal-issue-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_issue_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_issue_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalIssueSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,JournalIssueSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalIssueSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalIssueSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalIssueSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalIssueSearchResultGridElementComponent_div_13_Template,4,8,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("journal.title")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalIssueSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),journal_issue_search_result_grid_element_component_class);var journal_issue_grid_element_component_class;JournalIssueSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.GridElement)],JournalIssueSearchResultGridElementComponent);const journal_issue_grid_element_component_c0=__name(function(){return{}},"journal_issue_grid_element_component_c0"),journal_issue_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_grid_element_component_c1");let JournalIssueGridElementComponent=((journal_issue_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalIssueGridElementComponent")).\u0275fac=function(){let \u0275JournalIssueGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueGridElementComponent_BaseFactory||(\u0275JournalIssueGridElementComponent_BaseFactory=core.n5z(journal_issue_grid_element_component_class)))(t||journal_issue_grid_element_component_class)},"JournalIssueGridElementComponent_Factory")}(),journal_issue_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_issue_grid_element_component_class,selectors:[["ds-journal-issue-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_grid_element_component_c1,ctx.object,core.DdM(3,journal_issue_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueGridElementComponent_Template"),dependencies:[JournalIssueSearchResultGridElementComponent]}),journal_issue_grid_element_component_class);var journal_volume_search_result_grid_element_component_class;JournalIssueGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.GridElement)],JournalIssueGridElementComponent);const journal_volume_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_grid_element_component_c0");function JournalVolumeSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,journal_volume_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-themed-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function JournalVolumeSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_volume_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(JournalVolumeSearchResultGridElementComponent_a_5_Template,"JournalVolumeSearchResultGridElementComponent_a_5_Template"),__name(JournalVolumeSearchResultGridElementComponent_span_6_Template,"JournalVolumeSearchResultGridElementComponent_span_6_Template"),__name(JournalVolumeSearchResultGridElementComponent_ds_themed_badges_8_Template,"JournalVolumeSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_11_Template,"JournalVolumeSearchResultGridElementComponent_p_11_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_12_Template,"JournalVolumeSearchResultGridElementComponent_p_12_Template"),__name(JournalVolumeSearchResultGridElementComponent_div_13_Template,"JournalVolumeSearchResultGridElementComponent_div_13_Template");const journal_volume_search_result_grid_element_component_c1=["*","*"];let JournalVolumeSearchResultGridElementComponent=((journal_volume_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"JournalVolumeSearchResultGridElementComponent")).\u0275fac=function(){let \u0275JournalVolumeSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory=core.n5z(journal_volume_search_result_grid_element_component_class)))(t||journal_volume_search_result_grid_element_component_class)},"JournalVolumeSearchResultGridElementComponent_Factory")}(),journal_volume_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_volume_search_result_grid_element_component_class,selectors:[["ds-journal-volume-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_volume_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_volume_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalVolumeSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,JournalVolumeSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalVolumeSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalVolumeSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalVolumeSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalVolumeSearchResultGridElementComponent_div_13_Template,4,8,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalVolumeSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),journal_volume_search_result_grid_element_component_class);var journal_volume_grid_element_component_class;JournalVolumeSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.GridElement)],JournalVolumeSearchResultGridElementComponent);const journal_volume_grid_element_component_c0=__name(function(){return{}},"journal_volume_grid_element_component_c0"),journal_volume_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_grid_element_component_c1");let JournalVolumeGridElementComponent=((journal_volume_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalVolumeGridElementComponent")).\u0275fac=function(){let \u0275JournalVolumeGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeGridElementComponent_BaseFactory||(\u0275JournalVolumeGridElementComponent_BaseFactory=core.n5z(journal_volume_grid_element_component_class)))(t||journal_volume_grid_element_component_class)},"JournalVolumeGridElementComponent_Factory")}(),journal_volume_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_volume_grid_element_component_class,selectors:[["ds-journal-volume-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_grid_element_component_c1,ctx.object,core.DdM(3,journal_volume_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeGridElementComponent_Template"),dependencies:[JournalVolumeSearchResultGridElementComponent]}),journal_volume_grid_element_component_class);var journal_search_result_grid_element_component_class;JournalVolumeGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.GridElement)],JournalVolumeGridElementComponent);const journal_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_grid_element_component_c0");function JournalSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,journal_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-themed-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function JournalSearchResultGridElementComponent_p_11_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("creativework.publisher")," ")}}function JournalSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),core._uU(3),core.qZA(),core.YNc(4,JournalSearchResultGridElementComponent_p_11_span_4_Template,4,1,"span",19),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(2),core.Oqu(ctx_r3.firstMetadataValue("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx_r3.dso.hasMetadata("creativework.publisher"))}}function JournalSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",21)(1,"ds-truncatable-part",17),core._UZ(2,"span",22),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(JournalSearchResultGridElementComponent_a_5_Template,"JournalSearchResultGridElementComponent_a_5_Template"),__name(JournalSearchResultGridElementComponent_span_6_Template,"JournalSearchResultGridElementComponent_span_6_Template"),__name(JournalSearchResultGridElementComponent_ds_themed_badges_8_Template,"JournalSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(JournalSearchResultGridElementComponent_p_11_span_4_Template,"JournalSearchResultGridElementComponent_p_11_span_4_Template"),__name(JournalSearchResultGridElementComponent_p_11_Template,"JournalSearchResultGridElementComponent_p_11_Template"),__name(JournalSearchResultGridElementComponent_p_12_Template,"JournalSearchResultGridElementComponent_p_12_Template"),__name(JournalSearchResultGridElementComponent_div_13_Template,"JournalSearchResultGridElementComponent_div_13_Template");const journal_search_result_grid_element_component_c1=["*","*"];let JournalSearchResultGridElementComponent=((journal_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"JournalSearchResultGridElementComponent")).\u0275fac=function(){let \u0275JournalSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultGridElementComponent_BaseFactory||(\u0275JournalSearchResultGridElementComponent_BaseFactory=core.n5z(journal_search_result_grid_element_component_class)))(t||journal_search_result_grid_element_component_class)},"JournalSearchResultGridElementComponent_Factory")}(),journal_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_search_result_grid_element_component_class,selectors:[["ds-journal-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,JournalSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalSearchResultGridElementComponent_p_11_Template,5,4,"p",9),core.YNc(12,JournalSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalSearchResultGridElementComponent_div_13_Template,4,8,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),journal_search_result_grid_element_component_class);var journal_grid_element_component_class;JournalSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.GridElement)],JournalSearchResultGridElementComponent);const journal_grid_element_component_c0=__name(function(){return{}},"journal_grid_element_component_c0"),journal_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_grid_element_component_c1");let JournalGridElementComponent=((journal_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"JournalGridElementComponent")).\u0275fac=function(){let \u0275JournalGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalGridElementComponent_BaseFactory||(\u0275JournalGridElementComponent_BaseFactory=core.n5z(journal_grid_element_component_class)))(t||journal_grid_element_component_class)},"JournalGridElementComponent_Factory")}(),journal_grid_element_component_class.\u0275cmp=core.Xpm({type:journal_grid_element_component_class,selectors:[["ds-journal-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_grid_element_component_c1,ctx.object,core.DdM(3,journal_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalGridElementComponent_Template"),dependencies:[JournalSearchResultGridElementComponent]}),journal_grid_element_component_class);JournalGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.GridElement)],JournalGridElementComponent);var journal_volume_sidebar_search_list_element_component_class,context_model=__webpack_require__(66919),sidebar_search_list_element_component=__webpack_require__(53553),empty_util=__webpack_require__(59501);function JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalVolumeSidebarSearchListElementComponent=((journal_volume_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{getDescription(){const titles=this.allMetadataValues(["journal.title"]),numbers=this.allMetadataValues(["publicationvolume.volumeNumber"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),(0,empty_util.UE)(numbers)&&((0,empty_util.UE)(description)&&(description+=" "),description+=numbers.map(n=>`(${n})`).join(" ")),this.undefinedIfEmpty(description)}},"JournalVolumeSidebarSearchListElementComponent")).\u0275fac=function(){let \u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory||(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory=core.n5z(journal_volume_sidebar_search_list_element_component_class)))(t||journal_volume_sidebar_search_list_element_component_class)},"JournalVolumeSidebarSearchListElementComponent_Factory")}(),journal_volume_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:journal_volume_sidebar_search_list_element_component_class,selectors:[["ds-journal-volume-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalVolumeSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),journal_volume_sidebar_search_list_element_component_class);var journal_issue_sidebar_search_list_element_component_class;function JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalVolumeSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalVolumeSidebarSearchListElementComponent),__name(JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalIssueSidebarSearchListElementComponent=((journal_issue_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{getDescription(){const volumeNumbers=this.allMetadataValues(["publicationvolume.volumeNumber"]),issueNumbers=this.allMetadataValues(["publicationissue.issueNumber"]);let description="";return(0,empty_util.UE)(volumeNumbers)&&(description+=volumeNumbers.join(", ")),(0,empty_util.UE)(description)&&(0,empty_util.UE)(issueNumbers)&&(description+=" - "),(0,empty_util.UE)(issueNumbers)&&(description+=issueNumbers.join(", ")),this.undefinedIfEmpty(description)}},"JournalIssueSidebarSearchListElementComponent")).\u0275fac=function(){let \u0275JournalIssueSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory||(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory=core.n5z(journal_issue_sidebar_search_list_element_component_class)))(t||journal_issue_sidebar_search_list_element_component_class)},"JournalIssueSidebarSearchListElementComponent_Factory")}(),journal_issue_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:journal_issue_sidebar_search_list_element_component_class,selectors:[["ds-journal-issue-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalIssueSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),journal_issue_sidebar_search_list_element_component_class);var journal_sidebar_search_list_element_component_class;function JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalIssueSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalIssueSidebarSearchListElementComponent),__name(JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalSidebarSearchListElementComponent=((journal_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{getDescription(){const issns=this.allMetadataValues(["creativeworkseries.issn"]);let description="";return(0,empty_util.UE)(issns)&&(description+=issns.join(", ")),this.undefinedIfEmpty(description)}},"JournalSidebarSearchListElementComponent")).\u0275fac=function(){let \u0275JournalSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSidebarSearchListElementComponent_BaseFactory||(\u0275JournalSidebarSearchListElementComponent_BaseFactory=core.n5z(journal_sidebar_search_list_element_component_class)))(t||journal_sidebar_search_list_element_component_class)},"JournalSidebarSearchListElementComponent_Factory")}(),journal_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:journal_sidebar_search_list_element_component_class,selectors:[["ds-journal-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),journal_sidebar_search_list_element_component_class);JournalSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(41564),results_back_button_module=__webpack_require__(32917),dso_page_module=__webpack_require__(44491);const ENTRY_COMPONENTS=[JournalComponent,JournalIssueComponent,JournalVolumeComponent,JournalListElementComponent,JournalIssueListElementComponent,JournalVolumeListElementComponent,JournalIssueGridElementComponent,JournalVolumeGridElementComponent,JournalGridElementComponent,JournalSearchResultListElementComponent,JournalIssueSearchResultListElementComponent,JournalVolumeSearchResultListElementComponent,JournalIssueSearchResultGridElementComponent,JournalVolumeSearchResultGridElementComponent,JournalSearchResultGridElementComponent,JournalVolumeSidebarSearchListElementComponent,JournalIssueSidebarSearchListElementComponent,JournalSidebarSearchListElementComponent];class JournalEntitiesModule{static withEntryComponents(){return{ngModule:JournalEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(JournalEntitiesModule,"JournalEntitiesModule"),JournalEntitiesModule.\u0275fac=__name(function(t){return new(t||JournalEntitiesModule)},"JournalEntitiesModule_Factory"),JournalEntitiesModule.\u0275mod=core.oAB({type:JournalEntitiesModule}),JournalEntitiesModule.\u0275inj=core.cJS({imports:[common.ez,item_shared_module.e,shared_module.m,results_back_button_module.I,dso_page_module.H]})},98927:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ResearchEntitiesModule});var _class,common=__webpack_require__(65159),ng_bootstrap=__webpack_require__(23506),shared_module=__webpack_require__(47013),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(87878),listable_object_decorator=__webpack_require__(86861),item_component=__webpack_require__(78678),core=__webpack_require__(86209),tabbed_related_entities_search_component=__webpack_require__(81756),generic_item_page_field_component=__webpack_require__(57172),related_items_component=__webpack_require__(43239),router=__webpack_require__(16088),themed_thumbnail_component=__webpack_require__(3010),metadata_field_wrapper_component=__webpack_require__(6390),themed_item_page_field_component=__webpack_require__(88883),themed_results_back_button_component=__webpack_require__(29017),dso_edit_menu_component=__webpack_require__(12590),ngx_translate_core=__webpack_require__(4330);function OrgUnitComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",13),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}__name(OrgUnitComponent_ds_themed_results_back_button_0_Template,"OrgUnitComponent_ds_themed_results_back_button_0_Template");const _c0=__name(function(){return["organization.foundingDate"]},"_c0"),_c1=__name(function(){return["organization.address.addressLocality"]},"_c1"),_c2=__name(function(){return["organization.adress.addressCountry"]},"_c2"),_c3=__name(function(){return["dc.identifier"]},"_c3"),_c4=__name(function(){return["dc.description"]},"_c4"),_c5=__name(function(a0){return[a0]},"_c5"),_c6=__name(function(){return{label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}},"_c6"),_c7=__name(function(){return{label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}},"_c7"),_c8=__name(function(a0,a1){return[a0,a1]},"_c8");let OrgUnitComponent=((_class=__name(class extends item_component.P{},"OrgUnitComponent")).\u0275fac=function(){let \u0275OrgUnitComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitComponent_BaseFactory||(\u0275OrgUnitComponent_BaseFactory=core.n5z(_class)))(t||_class)},"OrgUnitComponent_Factory")}(),_class.\u0275cmp=core.Xpm({type:_class,selectors:[["ds-org-unit"]],features:[core.qOj],decls:24,vars:49,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,OrgUnitComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),core.qZA(),core.TgZ(14,"div",8),core._UZ(15,"ds-related-items",9),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",7),core.TgZ(18,"div")(19,"a",10),core._uU(20),core.ALo(21,"translate"),core.qZA()()(),core.TgZ(22,"div",11),core._UZ(23,"ds-tabbed-related-entities-search",12),core.qZA()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,29,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,31,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(37,_c0))("label","orgunit.page.dateestablished"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(38,_c1))("label","orgunit.page.city"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(39,_c2))("label","orgunit.page.country"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(40,_c3))("label","orgunit.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfOrgUnit")("label",core.lcZ(16,33,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(41,_c4))("label","orgunit.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(42,_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,35,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.WLB(46,_c8,core.DdM(44,_c6),core.DdM(45,_c7))))},"OrgUnitComponent_Template"),dependencies:[common.O5,tabbed_related_entities_search_component.i,generic_item_page_field_component.w,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),_class);var person_component_class;function PersonComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",13),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}OrgUnitComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.StandalonePage)],OrgUnitComponent),__name(PersonComponent_ds_themed_results_back_button_0_Template,"PersonComponent_ds_themed_results_back_button_0_Template");const person_component_c0=__name(function(){return["person.email"]},"person_component_c0"),person_component_c1=__name(function(){return["person.birthDate"]},"person_component_c1"),person_component_c2=__name(function(){return["person.jobTitle"]},"person_component_c2"),person_component_c3=__name(function(){return["person.familyName"]},"person_component_c3"),person_component_c4=__name(function(){return["person.givenName"]},"person_component_c4"),person_component_c5=__name(function(){return["dc.title"]},"person_component_c5"),person_component_c6=__name(function(a0){return[a0]},"person_component_c6"),person_component_c7=__name(function(){return{label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"}},"person_component_c7");let PersonComponent=((person_component_class=__name(class extends item_component.P{},"PersonComponent")).\u0275fac=function(){let \u0275PersonComponent_BaseFactory;return __name(function(t){return(\u0275PersonComponent_BaseFactory||(\u0275PersonComponent_BaseFactory=core.n5z(person_component_class)))(t||person_component_class)},"PersonComponent_Factory")}(),person_component_class.\u0275cmp=core.Xpm({type:person_component_class,selectors:[["ds-person"]],features:[core.qOj],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,PersonComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),core.qZA(),core.TgZ(12,"div",8),core._UZ(13,"ds-related-items",9),core.ALo(14,"translate"),core._UZ(15,"ds-related-items",9),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),core.TgZ(21,"div")(22,"a",10),core._uU(23),core.ALo(24,"translate"),core.qZA()()(),core.TgZ(25,"div",11),core._UZ(26,"ds-tabbed-related-entities-search",12),core.qZA()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,35,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,37,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(45,person_component_c0))("label","person.page.email"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(46,person_component_c1))("label","person.page.birthdate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isProjectOfPerson")("label",core.lcZ(14,39,"relationships.isProjectOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfPerson")("label",core.lcZ(16,41,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(47,person_component_c2))("label","person.page.jobtitle"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(48,person_component_c3))("label","person.page.lastname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(49,person_component_c4))("label","person.page.firstname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(50,person_component_c5))("label","person.page.name"),core.xp6(2),core.Q6J("routerLink",core.VKq(51,person_component_c6,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(24,43,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(54,person_component_c6,core.DdM(53,person_component_c7))))},"PersonComponent_Template"),dependencies:[common.O5,tabbed_related_entities_search_component.i,generic_item_page_field_component.w,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),person_component_class);PersonComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.StandalonePage)],PersonComponent);var project_component_class,themed_metadata_representation_list_component=__webpack_require__(13579);function ProjectComponent_ds_themed_results_back_button_0_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-results-back-button",12),2&rf){const ctx_r0=core.oxw();core.Q6J("back",ctx_r0.back)}}__name(ProjectComponent_ds_themed_results_back_button_0_Template,"ProjectComponent_ds_themed_results_back_button_0_Template");const project_component_c0=__name(function(){return["project.contributor.other"]},"project_component_c0"),project_component_c1=__name(function(){return["project.identifier.funder"]},"project_component_c1"),project_component_c2=__name(function(){return["dc.identifier"]},"project_component_c2"),project_component_c3=__name(function(){return["dc.description"]},"project_component_c3"),project_component_c4=__name(function(){return["dc.subject"]},"project_component_c4"),project_component_c5=__name(function(a0){return[a0]},"project_component_c5");let ProjectComponent=((project_component_class=__name(class extends item_component.P{},"ProjectComponent")).\u0275fac=function(){let \u0275ProjectComponent_BaseFactory;return __name(function(t){return(\u0275ProjectComponent_BaseFactory||(\u0275ProjectComponent_BaseFactory=core.n5z(project_component_class)))(t||project_component_class)},"ProjectComponent_Factory")}(),project_component_class.\u0275cmp=core.Xpm({type:project_component_class,selectors:[["ds-project"]],features:[core.qOj],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,ProjectComponent_ds_themed_results_back_button_0_Template,1,1,"ds-themed-results-back-button",0),core.ALo(1,"async"),core.TgZ(2,"div",1),core._UZ(3,"ds-themed-item-page-title-field",2)(4,"ds-dso-edit-menu"),core.qZA(),core.TgZ(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),core._UZ(8,"ds-themed-thumbnail",6),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-themed-metadata-representation-list",7),core.ALo(11,"translate"),core._UZ(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),core.qZA(),core.TgZ(14,"div",9),core._UZ(15,"ds-related-items",10),core.ALo(16,"translate"),core._UZ(17,"ds-related-items",10),core.ALo(18,"translate"),core._UZ(19,"ds-related-items",10),core.ALo(20,"translate"),core._UZ(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),core.TgZ(23,"div")(24,"a",11),core._uU(25),core.ALo(26,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,34,ctx.showBackButton)),core.xp6(3),core.Q6J("item",ctx.object),core.xp6(4),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,36,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),core.xp6(2),core.Q6J("parentItem",ctx.object)("itemType","OrgUnit")("metadataFields",core.DdM(48,project_component_c0))("label",core.lcZ(11,38,"project.page.contributor")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(49,project_component_c1))("label","project.page.funder"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(50,project_component_c2))("label","project.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPersonOfProject")("label",core.lcZ(16,40,"relationships.isPersonOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfProject")("label",core.lcZ(18,42,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfProject")("label",core.lcZ(20,44,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(51,project_component_c3))("label","project.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,project_component_c4))("label","project.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(53,project_component_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(26,46,"item.page.link.full")," "))},"ProjectComponent_Template"),dependencies:[common.O5,generic_item_page_field_component.w,themed_metadata_representation_list_component.t,related_items_component.e,router.rH,themed_thumbnail_component.z,metadata_field_wrapper_component.n,themed_item_page_field_component.i,themed_results_back_button_component.i,dso_edit_menu_component.g,common.Ov,ngx_translate_core.X$]}),project_component_class);ProjectComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.StandalonePage)],ProjectComponent);var org_unit_search_result_list_element_component_class,abstract_listable_element_component=__webpack_require__(99614),item_search_result_list_element_component=__webpack_require__(35977),thumbnail_component=__webpack_require__(85482),truncatable_component=__webpack_require__(15933),truncatable_part_component=__webpack_require__(66941),themed_badges_component=__webpack_require__(49141);const org_unit_search_result_list_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_list_element_component_c0");function OrgUnitSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,org_unit_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,7,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_a_1_Template,3,11,"a",10),core.YNc(2,OrgUnitSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",11),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function OrgUnitSearchResultListElementComponent_ds_themed_badges_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function OrgUnitSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",16),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,org_unit_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,4,"orgunit.listelement.no-title"),core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function OrgUnitSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",17),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"orgunit.listelement.no-title"),core.oJD)}}function OrgUnitSearchResultListElementComponent_span_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",18)(1,"ds-truncatable-part",19),core._UZ(2,"span",20),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}__name(OrgUnitSearchResultListElementComponent_div_1_a_1_Template,"OrgUnitSearchResultListElementComponent_div_1_a_1_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_span_2_Template,"OrgUnitSearchResultListElementComponent_div_1_span_2_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_Template,"OrgUnitSearchResultListElementComponent_div_1_Template"),__name(OrgUnitSearchResultListElementComponent_ds_themed_badges_3_Template,"OrgUnitSearchResultListElementComponent_ds_themed_badges_3_Template"),__name(OrgUnitSearchResultListElementComponent_a_5_Template,"OrgUnitSearchResultListElementComponent_a_5_Template"),__name(OrgUnitSearchResultListElementComponent_span_6_Template,"OrgUnitSearchResultListElementComponent_span_6_Template"),__name(OrgUnitSearchResultListElementComponent_span_8_Template,"OrgUnitSearchResultListElementComponent_span_8_Template");const org_unit_search_result_list_element_component_c1=__name(function(){return["dc.description"]},"org_unit_search_result_list_element_component_c1");let OrgUnitSearchResultListElementComponent=((org_unit_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{},"OrgUnitSearchResultListElementComponent")).\u0275fac=function(){let \u0275OrgUnitSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultListElementComponent_BaseFactory||(\u0275OrgUnitSearchResultListElementComponent_BaseFactory=core.n5z(org_unit_search_result_list_element_component_class)))(t||org_unit_search_result_list_element_component_class)},"OrgUnitSearchResultListElementComponent_Factory")}(),org_unit_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:org_unit_search_result_list_element_component_class,selectors:[["ds-org-unit-search-result-list-element"]],features:[core.qOj],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,OrgUnitSearchResultListElementComponent_ds_themed_badges_3_Template,1,2,"ds-themed-badges",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,OrgUnitSearchResultListElementComponent_a_5_Template,2,8,"a",5),core.YNc(6,OrgUnitSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7),core.YNc(8,OrgUnitSearchResultListElementComponent_span_8_Template,3,3,"span",8),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(7,org_unit_search_result_list_element_component_c1)).length>0))},"OrgUnitSearchResultListElementComponent_Template"),dependencies:[common.mk,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$]}),org_unit_search_result_list_element_component_class);var org_unit_list_element_component_class;OrgUnitSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement)],OrgUnitSearchResultListElementComponent);const org_unit_list_element_component_c0=__name(function(){return{}},"org_unit_list_element_component_c0"),org_unit_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_list_element_component_c1");let OrgUnitListElementComponent=((org_unit_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"OrgUnitListElementComponent")).\u0275fac=function(){let \u0275OrgUnitListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitListElementComponent_BaseFactory||(\u0275OrgUnitListElementComponent_BaseFactory=core.n5z(org_unit_list_element_component_class)))(t||org_unit_list_element_component_class)},"OrgUnitListElementComponent_Factory")}(),org_unit_list_element_component_class.\u0275cmp=core.Xpm({type:org_unit_list_element_component_class,selectors:[["ds-org-unit-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_list_element_component_c1,ctx.object,core.DdM(3,org_unit_list_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitListElementComponent_Template"),dependencies:[OrgUnitSearchResultListElementComponent]}),org_unit_list_element_component_class);OrgUnitListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.ListElement)],OrgUnitListElementComponent);var person_search_result_list_element_component_class,truncatable_service=__webpack_require__(28226),dso_name_service=__webpack_require__(17306),app_config_interface=__webpack_require__(98482);const person_search_result_list_element_component_c0=__name(function(a0){return[a0]},"person_search_result_list_element_component_c0");function PersonSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,person_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,7,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,PersonSearchResultListElementComponent_div_1_a_1_Template,3,11,"a",11),core.YNc(2,PersonSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListElementComponent_ds_themed_badges_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function PersonSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",17),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,person_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,4,"person.listelement.no-title"),core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function PersonSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",18),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"person.listelement.no-title"),core.oJD)}}function PersonSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(PersonSearchResultListElementComponent_div_1_a_1_Template,"PersonSearchResultListElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListElementComponent_div_1_span_2_Template,"PersonSearchResultListElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListElementComponent_div_1_Template,"PersonSearchResultListElementComponent_div_1_Template"),__name(PersonSearchResultListElementComponent_ds_themed_badges_3_Template,"PersonSearchResultListElementComponent_ds_themed_badges_3_Template"),__name(PersonSearchResultListElementComponent_a_5_Template,"PersonSearchResultListElementComponent_a_5_Template"),__name(PersonSearchResultListElementComponent_span_6_Template,"PersonSearchResultListElementComponent_span_6_Template"),__name(PersonSearchResultListElementComponent_span_9_span_1_Template,"PersonSearchResultListElementComponent_span_9_span_1_Template");const person_search_result_list_element_component_c1=__name(function(){return["person.jobTitle"]},"person_search_result_list_element_component_c1");function PersonSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,PersonSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,person_search_result_list_element_component_c1)))}}__name(PersonSearchResultListElementComponent_span_9_Template,"PersonSearchResultListElementComponent_span_9_Template");let PersonSearchResultListElementComponent=((person_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{constructor(truncatableService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.dsoNameService=dsoNameService,this.appConfig=appConfig}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"PersonSearchResultListElementComponent")).\u0275fac=__name(function(t){return new(t||person_search_result_list_element_component_class)(core.Y36(truncatable_service.F),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListElementComponent_Factory"),person_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:person_search_result_list_element_component_class,selectors:[["ds-person-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,PersonSearchResultListElementComponent_ds_themed_badges_3_Template,1,2,"ds-themed-badges",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,PersonSearchResultListElementComponent_a_5_Template,2,8,"a",5),core.YNc(6,PersonSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,PersonSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9 col-md-10":"col-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,person_search_result_list_element_component_c1)).length>0))},"PersonSearchResultListElementComponent_Template"),dependencies:[common.mk,common.sg,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$]}),person_search_result_list_element_component_class);var person_list_element_component_class;PersonSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement),(0,tslib_es6.__metadata)("design:paramtypes",[truncatable_service.F,dso_name_service._,Object])],PersonSearchResultListElementComponent);const person_list_element_component_c0=__name(function(){return{}},"person_list_element_component_c0"),person_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_list_element_component_c1");let PersonListElementComponent=((person_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"PersonListElementComponent")).\u0275fac=function(){let \u0275PersonListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonListElementComponent_BaseFactory||(\u0275PersonListElementComponent_BaseFactory=core.n5z(person_list_element_component_class)))(t||person_list_element_component_class)},"PersonListElementComponent_Factory")}(),person_list_element_component_class.\u0275cmp=core.Xpm({type:person_list_element_component_class,selectors:[["ds-person-list-element"]],features:[core.qOj],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-list-element",0),2&rf&&core.Q6J("object",core.WLB(5,person_list_element_component_c1,ctx.object,core.DdM(4,person_list_element_component_c0)))("linkType",ctx.linkType)("showLabel",ctx.showLabel)("value",ctx.value)},"PersonListElementComponent_Template"),dependencies:[PersonSearchResultListElementComponent]}),person_list_element_component_class);var project_search_result_list_element_component_class;PersonListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.ListElement)],PersonListElementComponent);const project_search_result_list_element_component_c0=__name(function(a0){return[a0]},"project_search_result_list_element_component_c0");function ProjectSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",10),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r4=core.oxw(2);core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,project_search_result_list_element_component_c0,ctx_r4.itemPageRoute)),core.uIk("rel",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,7,null==ctx_r4.dso?null:ctx_r4.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",7),core.YNc(1,ProjectSearchResultListElementComponent_div_1_a_1_Template,3,11,"a",8),core.YNc(2,ProjectSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",9),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function ProjectSearchResultListElementComponent_ds_themed_badges_4_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",13),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)("context",ctx_r1.context)}}function ProjectSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",14),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(4,project_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null)}}function ProjectSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",15),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}__name(ProjectSearchResultListElementComponent_div_1_a_1_Template,"ProjectSearchResultListElementComponent_div_1_a_1_Template"),__name(ProjectSearchResultListElementComponent_div_1_span_2_Template,"ProjectSearchResultListElementComponent_div_1_span_2_Template"),__name(ProjectSearchResultListElementComponent_div_1_Template,"ProjectSearchResultListElementComponent_div_1_Template"),__name(ProjectSearchResultListElementComponent_ds_themed_badges_4_Template,"ProjectSearchResultListElementComponent_ds_themed_badges_4_Template"),__name(ProjectSearchResultListElementComponent_a_5_Template,"ProjectSearchResultListElementComponent_a_5_Template"),__name(ProjectSearchResultListElementComponent_span_6_Template,"ProjectSearchResultListElementComponent_span_6_Template");let ProjectSearchResultListElementComponent=((project_search_result_list_element_component_class=__name(class extends item_search_result_list_element_component.h{},"ProjectSearchResultListElementComponent")).\u0275fac=function(){let \u0275ProjectSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultListElementComponent_BaseFactory||(\u0275ProjectSearchResultListElementComponent_BaseFactory=core.n5z(project_search_result_list_element_component_class)))(t||project_search_result_list_element_component_class)},"ProjectSearchResultListElementComponent_Factory")}(),project_search_result_list_element_component_class.\u0275cmp=core.Xpm({type:project_search_result_list_element_component_class,selectors:[["ds-project-search-result-list-element"]],features:[core.qOj],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,ProjectSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"ds-truncatable",3),core.YNc(4,ProjectSearchResultListElementComponent_ds_themed_badges_4_Template,1,2,"ds-themed-badges",4),core.YNc(5,ProjectSearchResultListElementComponent_a_5_Template,1,6,"a",5),core.YNc(6,ProjectSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.qZA()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None))},"ProjectSearchResultListElementComponent_Template"),dependencies:[common.mk,common.O5,router.rH,thumbnail_component.ThumbnailComponent,truncatable_component.n,themed_badges_component.k,common.Ov]}),project_search_result_list_element_component_class);var project_list_element_component_class;ProjectSearchResultListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement)],ProjectSearchResultListElementComponent);const project_list_element_component_c0=__name(function(){return{}},"project_list_element_component_c0"),project_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_list_element_component_c1");let ProjectListElementComponent=((project_list_element_component_class=__name(class extends abstract_listable_element_component.i{},"ProjectListElementComponent")).\u0275fac=function(){let \u0275ProjectListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectListElementComponent_BaseFactory||(\u0275ProjectListElementComponent_BaseFactory=core.n5z(project_list_element_component_class)))(t||project_list_element_component_class)},"ProjectListElementComponent_Factory")}(),project_list_element_component_class.\u0275cmp=core.Xpm({type:project_list_element_component_class,selectors:[["ds-project-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_list_element_component_c1,ctx.object,core.DdM(3,project_list_element_component_c0)))("linkType",ctx.linkType)},"ProjectListElementComponent_Template"),dependencies:[ProjectSearchResultListElementComponent]}),project_list_element_component_class);ProjectListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.ListElement)],ProjectListElementComponent);var person_search_result_grid_element_component_class,animations_focus=__webpack_require__(48037),item_search_result_grid_element_component=__webpack_require__(58916);const person_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"person_search_result_grid_element_component_c0");function PersonSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,person_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-themed-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function PersonSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("person.email"),core.oJD)}}function PersonSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("person.jobTitle"),core.oJD)}}function PersonSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,person_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(PersonSearchResultGridElementComponent_a_5_Template,"PersonSearchResultGridElementComponent_a_5_Template"),__name(PersonSearchResultGridElementComponent_span_6_Template,"PersonSearchResultGridElementComponent_span_6_Template"),__name(PersonSearchResultGridElementComponent_ds_themed_badges_8_Template,"PersonSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(PersonSearchResultGridElementComponent_p_11_Template,"PersonSearchResultGridElementComponent_p_11_Template"),__name(PersonSearchResultGridElementComponent_p_12_Template,"PersonSearchResultGridElementComponent_p_12_Template"),__name(PersonSearchResultGridElementComponent_div_13_Template,"PersonSearchResultGridElementComponent_div_13_Template");const person_search_result_grid_element_component_c1=["*","*"];let PersonSearchResultGridElementComponent=((person_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"PersonSearchResultGridElementComponent")).\u0275fac=function(){let \u0275PersonSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonSearchResultGridElementComponent_BaseFactory||(\u0275PersonSearchResultGridElementComponent_BaseFactory=core.n5z(person_search_result_grid_element_component_class)))(t||person_search_result_grid_element_component_class)},"PersonSearchResultGridElementComponent_Factory")}(),person_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:person_search_result_grid_element_component_class,selectors:[["ds-person-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:person_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(person_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,PersonSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,PersonSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,PersonSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,PersonSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,PersonSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,PersonSearchResultGridElementComponent_div_13_Template,4,8,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.email")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.jobTitle")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"PersonSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),person_search_result_grid_element_component_class);var person_grid_element_component_class;PersonSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.GridElement)],PersonSearchResultGridElementComponent);const person_grid_element_component_c0=__name(function(){return{}},"person_grid_element_component_c0"),person_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_grid_element_component_c1");let PersonGridElementComponent=((person_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"PersonGridElementComponent")).\u0275fac=function(){let \u0275PersonGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonGridElementComponent_BaseFactory||(\u0275PersonGridElementComponent_BaseFactory=core.n5z(person_grid_element_component_class)))(t||person_grid_element_component_class)},"PersonGridElementComponent_Factory")}(),person_grid_element_component_class.\u0275cmp=core.Xpm({type:person_grid_element_component_class,selectors:[["ds-person-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,person_grid_element_component_c1,ctx.object,core.DdM(3,person_grid_element_component_c0)))("linkType",ctx.linkType)},"PersonGridElementComponent_Template"),dependencies:[PersonSearchResultGridElementComponent]}),person_grid_element_component_class);var org_unit_search_result_grid_element_component_class;PersonGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.GridElement)],PersonGridElementComponent);const org_unit_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_grid_element_component_c0");function OrgUnitSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,org_unit_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-themed-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function OrgUnitSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("organization.foundingDate"),core.oJD)}}function OrgUnitSearchResultGridElementComponent_p_12_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",22)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("organization.address.addressLocality")," ")}}function OrgUnitSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),core._uU(3),core.qZA(),core.YNc(4,OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,4,1,"span",21),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(2),core.Oqu(ctx_r4.firstMetadataValue("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.hasMetadata("organization.address.addressLocality"))}}function OrgUnitSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,org_unit_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.uIk("rel",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(OrgUnitSearchResultGridElementComponent_a_5_Template,"OrgUnitSearchResultGridElementComponent_a_5_Template"),__name(OrgUnitSearchResultGridElementComponent_span_6_Template,"OrgUnitSearchResultGridElementComponent_span_6_Template"),__name(OrgUnitSearchResultGridElementComponent_ds_themed_badges_8_Template,"OrgUnitSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(OrgUnitSearchResultGridElementComponent_p_11_Template,"OrgUnitSearchResultGridElementComponent_p_11_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,"OrgUnitSearchResultGridElementComponent_p_12_span_4_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_Template,"OrgUnitSearchResultGridElementComponent_p_12_Template"),__name(OrgUnitSearchResultGridElementComponent_div_13_Template,"OrgUnitSearchResultGridElementComponent_div_13_Template");const org_unit_search_result_grid_element_component_c1=["*","*"];let OrgUnitSearchResultGridElementComponent=((org_unit_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"OrgUnitSearchResultGridElementComponent")).\u0275fac=function(){let \u0275OrgUnitSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory||(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory=core.n5z(org_unit_search_result_grid_element_component_class)))(t||org_unit_search_result_grid_element_component_class)},"OrgUnitSearchResultGridElementComponent_Factory")}(),org_unit_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:org_unit_search_result_grid_element_component_class,selectors:[["ds-org-unit-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:org_unit_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(org_unit_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,OrgUnitSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,OrgUnitSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,OrgUnitSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,OrgUnitSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,OrgUnitSearchResultGridElementComponent_p_12_Template,5,4,"p",10),core.YNc(13,OrgUnitSearchResultGridElementComponent_div_13_Template,4,8,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.foundingDate")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"OrgUnitSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),org_unit_search_result_grid_element_component_class);var org_unit_grid_element_component_class;OrgUnitSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.GridElement)],OrgUnitSearchResultGridElementComponent);const org_unit_grid_element_component_c0=__name(function(){return{}},"org_unit_grid_element_component_c0"),org_unit_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_grid_element_component_c1");let OrgUnitGridElementComponent=((org_unit_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"OrgUnitGridElementComponent")).\u0275fac=function(){let \u0275OrgUnitGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitGridElementComponent_BaseFactory||(\u0275OrgUnitGridElementComponent_BaseFactory=core.n5z(org_unit_grid_element_component_class)))(t||org_unit_grid_element_component_class)},"OrgUnitGridElementComponent_Factory")}(),org_unit_grid_element_component_class.\u0275cmp=core.Xpm({type:org_unit_grid_element_component_class,selectors:[["ds-org-unit-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_grid_element_component_c1,ctx.object,core.DdM(3,org_unit_grid_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitGridElementComponent_Template"),dependencies:[OrgUnitSearchResultGridElementComponent]}),org_unit_grid_element_component_class);var project_search_result_grid_element_component_class;OrgUnitGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.GridElement)],OrgUnitGridElementComponent);const project_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"project_search_result_grid_element_component_c0");function ProjectSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-themed-thumbnail",12),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(10,project_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("rel",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"noopener noreferrer":null)("title",core.lcZ(1,6,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,8,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13)(1,"div"),core._UZ(2,"ds-themed-thumbnail",12),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_ds_themed_badges_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-themed-badges",14),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)("context",ctx_r2.context)}}function ProjectSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",15)(1,"ds-truncatable-part",16),core._UZ(2,"span",17),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("dc.description"),core.oJD)}}function ProjectSearchResultGridElementComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",18)(1,"a",19),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,project_search_result_grid_element_component_c0,ctx_r4.itemPageRoute)),core.uIk("rel",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Oqu(core.lcZ(3,4,"search.results.view-result"))}}__name(ProjectSearchResultGridElementComponent_a_5_Template,"ProjectSearchResultGridElementComponent_a_5_Template"),__name(ProjectSearchResultGridElementComponent_span_6_Template,"ProjectSearchResultGridElementComponent_span_6_Template"),__name(ProjectSearchResultGridElementComponent_ds_themed_badges_8_Template,"ProjectSearchResultGridElementComponent_ds_themed_badges_8_Template"),__name(ProjectSearchResultGridElementComponent_p_11_Template,"ProjectSearchResultGridElementComponent_p_11_Template"),__name(ProjectSearchResultGridElementComponent_div_12_Template,"ProjectSearchResultGridElementComponent_div_12_Template");const project_search_result_grid_element_component_c1=["*","*"];let ProjectSearchResultGridElementComponent=((project_search_result_grid_element_component_class=__name(class extends item_search_result_grid_element_component.n{},"ProjectSearchResultGridElementComponent")).\u0275fac=function(){let \u0275ProjectSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultGridElementComponent_BaseFactory||(\u0275ProjectSearchResultGridElementComponent_BaseFactory=core.n5z(project_search_result_grid_element_component_class)))(t||project_search_result_grid_element_component_class)},"ProjectSearchResultGridElementComponent_Factory")}(),project_search_result_grid_element_component_class.\u0275cmp=core.Xpm({type:project_search_result_grid_element_component_class,selectors:[["ds-project-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:project_search_result_grid_element_component_c1,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(project_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,ProjectSearchResultGridElementComponent_a_5_Template,5,12,"a",3),core.YNc(6,ProjectSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,ProjectSearchResultGridElementComponent_ds_themed_badges_8_Template,1,2,"ds-themed-badges",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,ProjectSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,ProjectSearchResultGridElementComponent_div_12_Template,4,8,"div",10),core.qZA()(),core.Hsn(13,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,10,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"ProjectSearchResultGridElementComponent_Template"),dependencies:[common.O5,router.rH,themed_thumbnail_component.z,truncatable_component.n,truncatable_part_component.L,themed_badges_component.k,common.Ov,ngx_translate_core.X$],data:{animation:[animations_focus.X]}}),project_search_result_grid_element_component_class);var project_grid_element_component_class;ProjectSearchResultGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.GridElement)],ProjectSearchResultGridElementComponent);const project_grid_element_component_c0=__name(function(){return{}},"project_grid_element_component_c0"),project_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_grid_element_component_c1");let ProjectGridElementComponent=((project_grid_element_component_class=__name(class extends abstract_listable_element_component.i{},"ProjectGridElementComponent")).\u0275fac=function(){let \u0275ProjectGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectGridElementComponent_BaseFactory||(\u0275ProjectGridElementComponent_BaseFactory=core.n5z(project_grid_element_component_class)))(t||project_grid_element_component_class)},"ProjectGridElementComponent_Factory")}(),project_grid_element_component_class.\u0275cmp=core.Xpm({type:project_grid_element_component_class,selectors:[["ds-project-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_grid_element_component_c1,ctx.object,core.DdM(3,project_grid_element_component_c0)))("linkType",ctx.linkType)},"ProjectGridElementComponent_Template"),dependencies:[ProjectSearchResultGridElementComponent]}),project_grid_element_component_class);ProjectGridElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.GridElement)],ProjectGridElementComponent);var person_item_metadata_list_element_component_class,metadata_representation_decorator=__webpack_require__(69108),metadata_representation_model=__webpack_require__(21497),item_metadata_representation_list_element_component=__webpack_require__(4762);function PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",7),core._UZ(2,"span",7),core.qZA()()),2&rf){const value_r4=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template");const person_item_metadata_list_element_component_c0=__name(function(){return["person.jobTitle"]},"person_item_metadata_list_element_component_c0");function PersonItemMetadataListElementComponent_ng_template_0_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",5),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,3,2,"span",6),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r2.mdRepresentation.allMetadataValues(core.DdM(1,person_item_metadata_list_element_component_c0)))}}function PersonItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,2,2,"span",4),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r1.mdRepresentation.allMetadata(core.DdM(1,person_item_metadata_list_element_component_c0)).length>0)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_Template"),__name(PersonItemMetadataListElementComponent_ng_template_0_Template,"PersonItemMetadataListElementComponent_ng_template_0_Template");const person_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"person_item_metadata_list_element_component_c1");let PersonItemMetadataListElementComponent=((person_item_metadata_list_element_component_class=__name(class extends item_metadata_representation_list_element_component.X{},"PersonItemMetadataListElementComponent")).\u0275fac=function(){let \u0275PersonItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonItemMetadataListElementComponent_BaseFactory||(\u0275PersonItemMetadataListElementComponent_BaseFactory=core.n5z(person_item_metadata_list_element_component_class)))(t||person_item_metadata_list_element_component_class)},"PersonItemMetadataListElementComponent_Factory")}(),person_item_metadata_list_element_component_class.\u0275cmp=core.Xpm({type:person_item_metadata_list_element_component_class,selectors:[["ds-person-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,PersonItemMetadataListElementComponent_ng_template_0_Template,2,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.mdRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,person_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.mdRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.mdRepresentation.allMetadata(core.DdM(6,person_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"PersonItemMetadataListElementComponent_Template"),dependencies:[common.sg,common.O5,ng_bootstrap._L,router.rH,truncatable_component.n],encapsulation:2}),person_item_metadata_list_element_component_class);var org_unit_item_metadata_list_element_component_class;PersonItemMetadataListElementComponent=(0,tslib_es6.__decorate)([(0,metadata_representation_decorator.Bu)("Person",metadata_representation_model.P.Item)],PersonItemMetadataListElementComponent);const org_unit_item_metadata_list_element_component_c0=__name(function(){return["dc.description"]},"org_unit_item_metadata_list_element_component_c0");function OrgUnitItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3)(1,"span",4),core._UZ(2,"span",5),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("innerHTML",ctx_r1.mdRepresentation.firstMetadataValue(core.DdM(1,org_unit_item_metadata_list_element_component_c0)),core.oJD)}}__name(OrgUnitItemMetadataListElementComponent_ng_template_0_Template,"OrgUnitItemMetadataListElementComponent_ng_template_0_Template");const org_unit_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"org_unit_item_metadata_list_element_component_c1");let OrgUnitItemMetadataListElementComponent=((org_unit_item_metadata_list_element_component_class=__name(class extends item_metadata_representation_list_element_component.X{},"OrgUnitItemMetadataListElementComponent")).\u0275fac=function(){let \u0275OrgUnitItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory||(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory=core.n5z(org_unit_item_metadata_list_element_component_class)))(t||org_unit_item_metadata_list_element_component_class)},"OrgUnitItemMetadataListElementComponent_Factory")}(),org_unit_item_metadata_list_element_component_class.\u0275cmp=core.Xpm({type:org_unit_item_metadata_list_element_component_class,selectors:[["ds-org-unit-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,OrgUnitItemMetadataListElementComponent_ng_template_0_Template,3,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.mdRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,org_unit_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.mdRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.mdRepresentation.allMetadata(core.DdM(6,org_unit_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"OrgUnitItemMetadataListElementComponent_Template"),dependencies:[ng_bootstrap._L,router.rH,truncatable_component.n],encapsulation:2}),org_unit_item_metadata_list_element_component_class);var project_item_metadata_list_element_component_class;function ProjectItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3)(1,"span",4),core._UZ(2,"span",5),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("innerHTML",ctx_r1.dsoNameService.getName(ctx_r1.mdRepresentation),core.oJD)}}OrgUnitItemMetadataListElementComponent=(0,tslib_es6.__decorate)([(0,metadata_representation_decorator.Bu)("OrgUnit",metadata_representation_model.P.Item)],OrgUnitItemMetadataListElementComponent),__name(ProjectItemMetadataListElementComponent_ng_template_0_Template,"ProjectItemMetadataListElementComponent_ng_template_0_Template");const project_item_metadata_list_element_component_c0=__name(function(a0){return[a0]},"project_item_metadata_list_element_component_c0");let ProjectItemMetadataListElementComponent=((project_item_metadata_list_element_component_class=__name(class extends item_metadata_representation_list_element_component.X{constructor(dsoNameService){super(),this.dsoNameService=dsoNameService}},"ProjectItemMetadataListElementComponent")).\u0275fac=__name(function(t){return new(t||project_item_metadata_list_element_component_class)(core.Y36(dso_name_service._))},"ProjectItemMetadataListElementComponent_Factory"),project_item_metadata_list_element_component_class.\u0275cmp=core.Xpm({type:project_item_metadata_list_element_component_class,selectors:[["ds-project-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,ProjectItemMetadataListElementComponent_ng_template_0_Template,3,1,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.mdRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,project_item_metadata_list_element_component_c0,ctx.itemPageRoute))("innerHTML",ctx.dsoNameService.getName(ctx.mdRepresentation),core.oJD)("ngbTooltip",ctx.dsoNameService.getName(ctx.mdRepresentation).length>0?_r0:null)}},"ProjectItemMetadataListElementComponent_Template"),dependencies:[ng_bootstrap._L,router.rH,truncatable_component.n],encapsulation:2}),project_item_metadata_list_element_component_class);ProjectItemMetadataListElementComponent=(0,tslib_es6.__decorate)([(0,metadata_representation_decorator.Bu)("Project",metadata_representation_model.P.Item),(0,tslib_es6.__metadata)("design:paramtypes",[dso_name_service._])],ProjectItemMetadataListElementComponent);var bitstream_data_service=__webpack_require__(83167),search_result_list_element_component=__webpack_require__(89836),context_model=__webpack_require__(66919),relationship_data_service=__webpack_require__(22930),operators=__webpack_require__(96846),notifications_service=__webpack_require__(39373);const name_variant_modal_component_c0=__name(function(a0){return{value:a0}},"name_variant_modal_component_c0");class NameVariantModalComponent{constructor(modal){this.modal=modal}}__name(NameVariantModalComponent,"NameVariantModalComponent"),NameVariantModalComponent.\u0275fac=__name(function(t){return new(t||NameVariantModalComponent)(core.Y36(ng_bootstrap.Kz))},"NameVariantModalComponent_Factory"),NameVariantModalComponent.\u0275cmp=core.Xpm({type:NameVariantModalComponent,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h4",1),core._uU(2,"New name variant"),core.qZA(),core.TgZ(3,"button",2),core.NdJ("click",__name(function(){return ctx.modal.dismiss("Cross click")},"NameVariantModalComponent_Template_button_click_3_listener")),core.TgZ(4,"span",3),core._uU(5,"\xd7"),core.qZA()()(),core.TgZ(6,"div",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"div",5)(10,"button",6),core.NdJ("click",__name(function(){return ctx.modal.close()},"NameVariantModalComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"button",7),core.NdJ("click",__name(function(){return ctx.modal.dismiss()},"NameVariantModalComponent_Template_button_click_13_listener")),core._uU(14),core.ALo(15,"translate"),core.qZA()()),2&rf&&(core.xp6(7),core.hij(" ",core.xi3(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",core.VKq(10,name_variant_modal_component_c0,ctx.value)),"\n"),core.xp6(4),core.Oqu(core.lcZ(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),core.xp6(3),core.Oqu(core.lcZ(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},"NameVariantModalComponent_Template"),dependencies:[ngx_translate_core.X$]});var metadata_models=__webpack_require__(38243),item_data_service=__webpack_require__(22476),selectable_list_service=__webpack_require__(20733),fesm2020_forms=__webpack_require__(32189),input_suggestions_component=__webpack_require__(93963),debounce_directive=__webpack_require__(36093),click_outside_directive=__webpack_require__(65361);function PersonInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit,ctx_r5=core.oxw();return core.KtG(ctx_r5.onClickSuggestion(suggestionOption_r3))},"PersonInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}__name(PersonInputSuggestionsComponent_div_8_Template,"PersonInputSuggestionsComponent_div_8_Template");const person_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"person_input_suggestions_component_c0"),person_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"person_input_suggestions_component_c1"),person_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"person_input_suggestions_component_c2");class PersonInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){data!==this.value&&(this.value=data,this.submitSuggestion.emit(data))}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}var person_search_result_list_submission_element_component_class;function PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self"),core.uIk("rel",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"noopener noreferrer":null),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r2.dso?null:ctx_r2.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r3=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r3.dso?null:ctx_r3.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,3,8,"a",9),core.YNc(2,PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,3,6,"span",10),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",16),core._UZ(2,"span",16),core.qZA()()),2&rf){const value_r5=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD)}}__name(PersonInputSuggestionsComponent,"PersonInputSuggestionsComponent"),PersonInputSuggestionsComponent.\u0275fac=function(){let \u0275PersonInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275PersonInputSuggestionsComponent_BaseFactory||(\u0275PersonInputSuggestionsComponent_BaseFactory=core.n5z(PersonInputSuggestionsComponent)))(t||PersonInputSuggestionsComponent)},"PersonInputSuggestionsComponent_Factory")}(),PersonInputSuggestionsComponent.\u0275cmp=core.Xpm({type:PersonInputSuggestionsComponent,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2020_forms.JU,useExisting:(0,core.Gpc)(()=>PersonInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","focus","blur","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return core.KtG(ctx.onSubmit(_r1.value))},"PersonInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("focus",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_focus_2_listener"))("blur",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return core.KtG(ctx.onSubmit(_r1.value))},"PersonInputSuggestionsComponent_Template_input_blur_2_listener"))("click",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"PersonInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,PersonInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()}2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,person_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,person_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,person_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"PersonInputSuggestionsComponent_Template"),dependencies:[common.mk,common.sg,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.On,fesm2020_forms.F,debounce_directive.q,click_outside_directive._,common.Ov],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:rgba(0,0,0,0)}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,"PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,"PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template");const person_search_result_list_submission_element_component_c0=__name(function(){return["person.jobTitle"]},"person_search_result_list_submission_element_component_c0");function PersonSearchResultListSubmissionElementComponent_span_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core.YNc(1,PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,3,2,"span",15),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r1.allMetadataValues(core.DdM(1,person_search_result_list_submission_element_component_c0)))}}__name(PersonSearchResultListSubmissionElementComponent_span_7_Template,"PersonSearchResultListSubmissionElementComponent_span_7_Template");let PersonSearchResultListSubmissionElementComponent=((person_search_result_list_submission_element_component_class=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const defaultValue=this.dso?this.dsoNameService.getName(this.dso):void 0,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...alternativeNames}});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"PersonSearchResultListSubmissionElementComponent")).\u0275fac=__name(function(t){return new(t||person_search_result_list_submission_element_component_class)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListSubmissionElementComponent_Factory"),person_search_result_list_submission_element_component_class.\u0275cmp=core.Xpm({type:person_search_result_list_submission_element_component_class,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),core.NdJ("ngModelChange",__name(function($event){return ctx.selectedName=$event},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_ngModelChange_5_listener"))("clickSuggestion",__name(function($event){return ctx.select($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_clickSuggestion_5_listener"))("submitSuggestion",__name(function($event){return ctx.selectCustom($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_submitSuggestion_5_listener")),core.qZA(),core.TgZ(6,"span",6),core.YNc(7,PersonSearchResultListSubmissionElementComponent_span_7_Template,2,2,"span",7),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(3),core.Q6J("suggestions",ctx.allSuggestions)("ngModel",ctx.selectedName),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(5,person_search_result_list_submission_element_component_c0)).length>0))},"PersonSearchResultListSubmissionElementComponent_Template"),dependencies:[common.mk,common.sg,common.O5,fesm2020_forms.JJ,fesm2020_forms.On,thumbnail_component.ThumbnailComponent,PersonInputSuggestionsComponent,common.Ov],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),person_search_result_list_submission_element_component_class);function OrgUnitInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit,ctx_r5=core.oxw();return core.KtG(ctx_r5.onClickSuggestion(suggestionOption_r3))},"OrgUnitInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}PersonSearchResultListSubmissionElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.__metadata)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],PersonSearchResultListSubmissionElementComponent),__name(OrgUnitInputSuggestionsComponent_div_8_Template,"OrgUnitInputSuggestionsComponent_div_8_Template");const org_unit_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"org_unit_input_suggestions_component_c0"),org_unit_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"org_unit_input_suggestions_component_c1"),org_unit_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"org_unit_input_suggestions_component_c2");class OrgUnitInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){this.value=data,this.submitSuggestion.emit(data)}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}var org_unit_search_result_list_submission_element_component_class;function OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"ds-org-unit-input-suggestions",7),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r5);const ctx_r4=core.oxw();return core.KtG(ctx_r4.selectedName=$event)},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_ngModelChange_0_listener"))("clickSuggestion",__name(function($event){core.CHM(_r5);const ctx_r6=core.oxw();return core.KtG(ctx_r6.select($event))},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_clickSuggestion_0_listener"))("submitSuggestion",__name(function($event){core.CHM(_r5);const ctx_r7=core.oxw();return core.KtG(ctx_r7.selectCustom($event))},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_submitSuggestion_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("suggestions",ctx_r0.allSuggestions)("ngModel",ctx_r0.selectedName)}}function OrgUnitSearchResultListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"div",8),2&rf){const ctx_r1=core.oxw();core.Q6J("innerHTML",ctx_r1.dsoTitle,core.oJD)}}function OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1,", "),core.qZA())}__name(OrgUnitInputSuggestionsComponent,"OrgUnitInputSuggestionsComponent"),OrgUnitInputSuggestionsComponent.\u0275fac=function(){let \u0275OrgUnitInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitInputSuggestionsComponent_BaseFactory||(\u0275OrgUnitInputSuggestionsComponent_BaseFactory=core.n5z(OrgUnitInputSuggestionsComponent)))(t||OrgUnitInputSuggestionsComponent)},"OrgUnitInputSuggestionsComponent_Factory")}(),OrgUnitInputSuggestionsComponent.\u0275cmp=core.Xpm({type:OrgUnitInputSuggestionsComponent,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2020_forms.JU,useExisting:(0,core.Gpc)(()=>OrgUnitInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","focus","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit(ctx.value)},"OrgUnitInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("ngModelChange",__name(function($event){return ctx.value=$event},"OrgUnitInputSuggestionsComponent_Template_input_ngModelChange_2_listener"))("focus",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_focus_2_listener"))("click",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"OrgUnitInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,OrgUnitInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()),2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,org_unit_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,org_unit_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,org_unit_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"OrgUnitInputSuggestionsComponent_Template"),dependencies:[common.mk,common.sg,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.On,fesm2020_forms.F,debounce_directive.q,click_outside_directive._,common.Ov],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:rgba(0,0,0,0)}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_div_3_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template");const org_unit_search_result_list_submission_element_component_c0=__name(function(){return["organization.address.addressLocality"]},"org_unit_search_result_list_submission_element_component_c0");function OrgUnitSearchResultListSubmissionElementComponent_span_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",9)(1,"span",10),core._UZ(2,"span",10),core.qZA(),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,2,0,"span",11),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(4,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("ngIf",ctx_r2.dso.allMetadata("organization.address.addressCountry").length>0)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_Template");const org_unit_search_result_list_submission_element_component_c1=__name(function(){return["organization.address.addressCountry"]},"org_unit_search_result_list_submission_element_component_c1");function OrgUnitSearchResultListSubmissionElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12)(1,"span",10),core._UZ(2,"span",10),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(2,org_unit_search_result_list_submission_element_component_c1)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c1)),core.oJD)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_6_Template");let OrgUnitSearchResultListSubmissionElementComponent=((org_unit_search_result_list_submission_element_component_class=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===context_model._.EntitySearchModalWithNameVariants,this.useNameVariants){const defaultValue=this.dso?this.dsoNameService.getName(this.dso):void 0,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value)}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...alternativeNames}});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"OrgUnitSearchResultListSubmissionElementComponent")).\u0275fac=__name(function(t){return new(t||org_unit_search_result_list_submission_element_component_class)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"OrgUnitSearchResultListSubmissionElementComponent_Factory"),org_unit_search_result_list_submission_element_component_class.\u0275cmp=core.Xpm({type:org_unit_search_result_list_submission_element_component_class,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.YNc(2,OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,1,2,"ds-org-unit-input-suggestions",2),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,1,1,"div",3),core.TgZ(4,"span",4),core.YNc(5,OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,4,5,"span",5),core.YNc(6,OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,3,4,"span",6),core.qZA()()()),2&rf&&(core.xp6(2),core.Q6J("ngIf",ctx.useNameVariants),core.xp6(1),core.Q6J("ngIf",!ctx.useNameVariants),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressLocality").length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressCountry").length>0))},"OrgUnitSearchResultListSubmissionElementComponent_Template"),dependencies:[common.O5,fesm2020_forms.JJ,fesm2020_forms.On,OrgUnitInputSuggestionsComponent],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),org_unit_search_result_list_submission_element_component_class);OrgUnitSearchResultListSubmissionElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.__metadata)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],OrgUnitSearchResultListSubmissionElementComponent);var external_source_entry_list_submission_element_component_class,external_source_entry_model=__webpack_require__(31295),metadata_utils=__webpack_require__(97559);function ExternalSourceEntryListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"a",2),core._uU(2),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("href",ctx_r0.uri.value,core.LSH),core.xp6(1),core.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryListSubmissionElementComponent_div_3_Template,"ExternalSourceEntryListSubmissionElementComponent_div_3_Template");let ExternalSourceEntryListSubmissionElementComponent=((external_source_entry_list_submission_element_component_class=__name(class extends abstract_listable_element_component.i{ngOnInit(){this.uri=metadata_utils.S.first(this.object.metadata,"dc.identifier.uri")}},"ExternalSourceEntryListSubmissionElementComponent")).\u0275fac=function(){let \u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory;return __name(function(t){return(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory||(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory=core.n5z(external_source_entry_list_submission_element_component_class)))(t||external_source_entry_list_submission_element_component_class)},"ExternalSourceEntryListSubmissionElementComponent_Factory")}(),external_source_entry_list_submission_element_component_class.\u0275cmp=core.Xpm({type:external_source_entry_list_submission_element_component_class,selectors:[["ds-external-source-entry-list-submission-element"]],features:[core.qOj],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div"),core._uU(2),core.qZA(),core.YNc(3,ExternalSourceEntryListSubmissionElementComponent_div_3_Template,3,2,"div",1),core.qZA()),2&rf&&(core.xp6(2),core.Oqu(ctx.object.display),core.xp6(1),core.Q6J("ngIf",ctx.uri))},"ExternalSourceEntryListSubmissionElementComponent_Template"),dependencies:[common.O5]}),external_source_entry_list_submission_element_component_class);ExternalSourceEntryListSubmissionElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants)],ExternalSourceEntryListSubmissionElementComponent);var org_unit_sidebar_search_list_element_component_class,sidebar_search_list_element_component=__webpack_require__(53553);function OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let OrgUnitSidebarSearchListElementComponent=((org_unit_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{getDescription(){return this.firstMetadataValue("dc.description")}},"OrgUnitSidebarSearchListElementComponent")).\u0275fac=function(){let \u0275OrgUnitSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory||(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory=core.n5z(org_unit_sidebar_search_list_element_component_class)))(t||org_unit_sidebar_search_list_element_component_class)},"OrgUnitSidebarSearchListElementComponent_Factory")}(),org_unit_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:org_unit_sidebar_search_list_element_component_class,selectors:[["ds-org-unit-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"OrgUnitSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),org_unit_sidebar_search_list_element_component_class);OrgUnitSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],OrgUnitSidebarSearchListElementComponent);var person_sidebar_search_list_element_component_class,empty_util=__webpack_require__(59501),link_service=__webpack_require__(48152);function PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let PersonSidebarSearchListElementComponent=((person_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{constructor(truncatableService,linkService,translateService,dsoNameService){super(truncatableService,linkService,dsoNameService),this.truncatableService=truncatableService,this.linkService=linkService,this.translateService=translateService,this.dsoNameService=dsoNameService}getDescription(){const titles=this.allMetadataValues(["person.jobTitle"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),this.undefinedIfEmpty(description)}},"PersonSidebarSearchListElementComponent")).\u0275fac=__name(function(t){return new(t||person_sidebar_search_list_element_component_class)(core.Y36(truncatable_service.F),core.Y36(link_service.M),core.Y36(ngx_translate_core.sK),core.Y36(dso_name_service._))},"PersonSidebarSearchListElementComponent_Factory"),person_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:person_sidebar_search_list_element_component_class,selectors:[["ds-person-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"PersonSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),person_sidebar_search_list_element_component_class);var project_sidebar_search_list_element_component_class;function ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}PersonSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent),(0,tslib_es6.__metadata)("design:paramtypes",[truncatable_service.F,link_service.M,ngx_translate_core.sK,dso_name_service._])],PersonSidebarSearchListElementComponent),__name(ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let ProjectSidebarSearchListElementComponent=((project_sidebar_search_list_element_component_class=__name(class extends sidebar_search_list_element_component.l{getDescription(){}},"ProjectSidebarSearchListElementComponent")).\u0275fac=function(){let \u0275ProjectSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSidebarSearchListElementComponent_BaseFactory||(\u0275ProjectSidebarSearchListElementComponent_BaseFactory=core.n5z(project_sidebar_search_list_element_component_class)))(t||project_sidebar_search_list_element_component_class)},"ProjectSidebarSearchListElementComponent_Factory")}(),project_sidebar_search_list_element_component_class.\u0275cmp=core.Xpm({type:project_sidebar_search_list_element_component_class,selectors:[["ds-project-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"ProjectSidebarSearchListElementComponent_Template"),dependencies:[common.mk,common.O5,truncatable_part_component.L,common.Ov,ngx_translate_core.X$],encapsulation:2}),project_sidebar_search_list_element_component_class);ProjectSidebarSearchListElementComponent=(0,tslib_es6.__decorate)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],ProjectSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(41564),results_back_button_module=__webpack_require__(32917),dso_page_module=__webpack_require__(44491);const ENTRY_COMPONENTS=[OrgUnitComponent,PersonComponent,ProjectItemMetadataListElementComponent,ProjectComponent,OrgUnitListElementComponent,OrgUnitItemMetadataListElementComponent,PersonListElementComponent,PersonItemMetadataListElementComponent,ProjectListElementComponent,PersonGridElementComponent,OrgUnitGridElementComponent,ProjectGridElementComponent,OrgUnitSearchResultListElementComponent,PersonSearchResultListElementComponent,ProjectSearchResultListElementComponent,PersonSearchResultGridElementComponent,OrgUnitSearchResultGridElementComponent,ProjectSearchResultGridElementComponent,PersonSearchResultListSubmissionElementComponent,OrgUnitSearchResultListSubmissionElementComponent,OrgUnitInputSuggestionsComponent,ExternalSourceEntryListSubmissionElementComponent,OrgUnitSidebarSearchListElementComponent,PersonSidebarSearchListElementComponent,ProjectSidebarSearchListElementComponent];class ResearchEntitiesModule{static withEntryComponents(){return{ngModule:ResearchEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(ResearchEntitiesModule,"ResearchEntitiesModule"),ResearchEntitiesModule.\u0275fac=__name(function(t){return new(t||ResearchEntitiesModule)},"ResearchEntitiesModule_Factory"),ResearchEntitiesModule.\u0275mod=core.oAB({type:ResearchEntitiesModule}),ResearchEntitiesModule.\u0275inj=core.cJS({imports:[common.ez,item_shared_module.e,shared_module.m,ng_bootstrap.HK,results_back_button_module.I,dso_page_module.H]})},60937:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ImportExternalPageModule:()=>ImportExternalPageModule});var common=__webpack_require__(65159),shared_module=__webpack_require__(47013),core_module=__webpack_require__(3924),router=__webpack_require__(16088),authenticated_guard=__webpack_require__(15329),themed_submission_import_external_component=__webpack_require__(72230),core=__webpack_require__(86209);class ImportExternalRoutingModule{}__name(ImportExternalRoutingModule,"ImportExternalRoutingModule"),ImportExternalRoutingModule.\u0275fac=__name(function(t){return new(t||ImportExternalRoutingModule)},"ImportExternalRoutingModule_Factory"),ImportExternalRoutingModule.\u0275mod=core.oAB({type:ImportExternalRoutingModule}),ImportExternalRoutingModule.\u0275inj=core.cJS({imports:[router.Bz.forChild([{canActivate:[authenticated_guard.J],path:"",component:themed_submission_import_external_component.i,pathMatch:"full",data:{title:"submission.import-external.page.title"}}])]});var submission_module=__webpack_require__(68457),journal_entities_module=__webpack_require__(37867),research_entities_module=__webpack_require__(98927);class ImportExternalPageModule{}__name(ImportExternalPageModule,"ImportExternalPageModule"),ImportExternalPageModule.\u0275fac=__name(function(t){return new(t||ImportExternalPageModule)},"ImportExternalPageModule_Factory"),ImportExternalPageModule.\u0275mod=core.oAB({type:ImportExternalPageModule}),ImportExternalPageModule.\u0275inj=core.cJS({imports:[common.ez,shared_module.m.withEntryComponents(),core_module.IR.forRoot(),ImportExternalRoutingModule,submission_module.o,journal_entities_module.x.withEntryComponents(),research_entities_module.a.withEntryComponents()]})},93486:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>MetadataValuesComponent});var _config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98482),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(42894),__webpack_require__(59501)),_core_shared_value_list_browse_definition_resource_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3061),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65159),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6390),_shared_utils_markdown_pipe__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(66182),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4330);function MetadataValuesComponent_ng_container_2_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.GkF(0)}function MetadataValuesComponent_ng_container_2_span_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(0,"span",8),2&rf){const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("innerHTML",ctx_r12.separator,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}__name(MetadataValuesComponent_ng_container_2_ng_container_1_Template,"MetadataValuesComponent_ng_container_2_ng_container_1_Template"),__name(MetadataValuesComponent_ng_container_2_span_2_Template,"MetadataValuesComponent_ng_container_2_span_2_Template");const _c0=__name(function(a0){return{value:a0}},"_c0");function MetadataValuesComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,MetadataValuesComponent_ng_container_2_ng_container_1_Template,1,0,"ng-container",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,MetadataValuesComponent_ng_container_2_span_2_Template,1,1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.BQk()),2&rf){const mdValue_r9=ctx.$implicit,last_r10=ctx.last,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(),_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.MAs(4),_r3=_angular_core__WEBPACK_IMPORTED_MODULE_5__.MAs(6),_r7=_angular_core__WEBPACK_IMPORTED_MODULE_5__.MAs(10),_r5=_angular_core__WEBPACK_IMPORTED_MODULE_5__.MAs(8);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngTemplateOutlet",ctx_r0.renderMarkdown?_r1:ctx_r0.hasLink(mdValue_r9)?_r3:ctx_r0.hasBrowseDefinition()?_r7:_r5)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(3,_c0,mdValue_r9.value)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",!last_r10)}}function MetadataValuesComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(0,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"dsMarkdown")),2&rf){const value_r13=ctx.value;_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(1,1,_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,3,value_r13)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function MetadataValuesComponent_ng_template_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"a",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const value_r14=ctx.value;_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("href",value_r14,_angular_core__WEBPACK_IMPORTED_MODULE_5__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",value_r14," ")}}function MetadataValuesComponent_ng_template_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"span",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const value_r15=ctx.value;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(value_r15)}}__name(MetadataValuesComponent_ng_container_2_Template,"MetadataValuesComponent_ng_container_2_Template"),__name(MetadataValuesComponent_ng_template_3_Template,"MetadataValuesComponent_ng_template_3_Template"),__name(MetadataValuesComponent_ng_template_5_Template,"MetadataValuesComponent_ng_template_5_Template"),__name(MetadataValuesComponent_ng_template_7_Template,"MetadataValuesComponent_ng_template_7_Template");const _c1=__name(function(a1){return["/browse",a1]},"_c1");function MetadataValuesComponent_ng_template_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"a",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const value_r16=ctx.value,ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(3,_c1,ctx_r8.browseDefinition.id))("queryParams",ctx_r8.getQueryParams(value_r16)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",value_r16," ")}}__name(MetadataValuesComponent_ng_template_9_Template,"MetadataValuesComponent_ng_template_9_Template");class MetadataValuesComponent{constructor(appConfig){this.appConfig=appConfig,this.enableMarkdown=!1}ngOnChanges(changes){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Uh)(this.browseDefinition)}hasLink(value){return!!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Uh)(this.urlRegex)&&new RegExp(this.urlRegex).test(value.value)}getQueryParams(value){let queryParams={startsWith:value};return this.browseDefinition.getRenderType()===_core_shared_value_list_browse_definition_resource_type__WEBPACK_IMPORTED_MODULE_2__.C.value?{value}:queryParams}}__name(MetadataValuesComponent,"MetadataValuesComponent"),MetadataValuesComponent.\u0275fac=__name(function(t){return new(t||MetadataValuesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.q))},"MetadataValuesComponent_Factory"),MetadataValuesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:MetadataValuesComponent,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.TTD],decls:11,vars:4,consts:[[3,"label"],[4,"ngFor","ngForOf"],["markdown",""],["link",""],["simple",""],["browselink",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"innerHTML"],["target","_blank",1,"dont-break-out","ds-simple-metadata-link",3,"href"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,MetadataValuesComponent_ng_container_2_Template,3,5,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(3,MetadataValuesComponent_ng_template_3_Template,3,5,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_5__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(5,MetadataValuesComponent_ng_template_5_Template,2,2,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_5__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(7,MetadataValuesComponent_ng_template_7_Template,2,1,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_5__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(9,MetadataValuesComponent_ng_template_9_Template,2,5,"ng-template",null,5,_angular_core__WEBPACK_IMPORTED_MODULE_5__.W1O)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("label",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(1,2,ctx.label)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx.mdValues))},"MetadataValuesComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_7__.tP,_angular_router__WEBPACK_IMPORTED_MODULE_8__.rH,_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_3__.n,_angular_common__WEBPACK_IMPORTED_MODULE_7__.Ov,_shared_utils_markdown_pipe__WEBPACK_IMPORTED_MODULE_4__.N,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.X$]})},41564:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>ItemSharedModule});var _simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35321),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(65159),_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(72086),_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47013),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4330),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(49417),_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91387),_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81756),_versions_item_versions_delete_modal_item_versions_delete_modal_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20797),_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(50998),_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(93486),_simple_field_components_specific_field_generic_generic_item_page_field_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(57172),_simple_metadata_representation_list_metadata_representation_list_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(88069),_simple_related_items_related_items_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43239),_simple_metadata_representation_list_themed_metadata_representation_list_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(13579),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(86209);const ENTRY_COMPONENTS=[_versions_item_versions_delete_modal_item_versions_delete_modal_component__WEBPACK_IMPORTED_MODULE_5__._,_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_6__.u];_simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__.T,_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__.i,_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_7__.R,_simple_field_components_specific_field_generic_generic_item_page_field_component__WEBPACK_IMPORTED_MODULE_8__.w,_simple_metadata_representation_list_metadata_representation_list_component__WEBPACK_IMPORTED_MODULE_9__.MetadataRepresentationListComponent,_simple_metadata_representation_list_themed_metadata_representation_list_component__WEBPACK_IMPORTED_MODULE_11__.t,_simple_related_items_related_items_component__WEBPACK_IMPORTED_MODULE_10__.e;class ItemSharedModule{}__name(ItemSharedModule,"ItemSharedModule"),ItemSharedModule.\u0275fac=__name(function(t){return new(t||ItemSharedModule)},"ItemSharedModule_Factory"),ItemSharedModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oAB({type:ItemSharedModule}),ItemSharedModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_12__.cJS({providers:[{provide:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__.y8$,useValue:_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__._},...ENTRY_COMPONENTS],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.ez,_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__.t,_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.m,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.aw]})},41735:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>AbstractIncrementalListComponent});var _shared_empty_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59501),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);class AbstractIncrementalListComponent{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(page){}increase(){const page=this.getPage(this.objects.length+1);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_0__.Uh)(page)&&this.objects.push(page)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_0__.UE)(this.subscriptions)&&this.subscriptions.forEach(sub=>{sub.unsubscribe()})}}__name(AbstractIncrementalListComponent,"AbstractIncrementalListComponent"),AbstractIncrementalListComponent.\u0275fac=__name(function(t){return new(t||AbstractIncrementalListComponent)},"AbstractIncrementalListComponent_Factory"),AbstractIncrementalListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:AbstractIncrementalListComponent,selectors:[["ds-abstract-incremental-list"]],decls:0,vars:0,template:__name(function(rf,ctx){},"AbstractIncrementalListComponent_Template"),encapsulation:2})},57172:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>GenericItemPageFieldComponent});__webpack_require__(57324);var _item_page_field_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18222),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(93486),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159);class GenericItemPageFieldComponent extends _item_page_field_component__WEBPACK_IMPORTED_MODULE_1__.E{constructor(){super(...arguments),this.enableMarkdown=!1}}__name(GenericItemPageFieldComponent,"GenericItemPageFieldComponent"),GenericItemPageFieldComponent.\u0275fac=function(){let \u0275GenericItemPageFieldComponent_BaseFactory;return __name(function(t){return(\u0275GenericItemPageFieldComponent_BaseFactory||(\u0275GenericItemPageFieldComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.n5z(GenericItemPageFieldComponent)))(t||GenericItemPageFieldComponent)},"GenericItemPageFieldComponent_Factory")}(),GenericItemPageFieldComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:GenericItemPageFieldComponent,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.qOj],decls:3,vars:8,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ds-metadata-values",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label)("enableMarkdown",ctx.enableMarkdown)("urlRegex",ctx.urlRegex)("browseDefinition",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,6,ctx.browseDefinition)))},"GenericItemPageFieldComponent_Template"),dependencies:[_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_2__.R,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2})},18222:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ItemPageFieldComponent});__webpack_require__(57324);var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96846),_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22548),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53829),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93486),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65159);class ItemPageFieldComponent{constructor(browseDefinitionDataService){this.browseDefinitionDataService=browseDefinitionDataService,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseDefinitionDataService.findByFields(this.fields).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(def=>def))}}__name(ItemPageFieldComponent,"ItemPageFieldComponent"),ItemPageFieldComponent.\u0275fac=__name(function(t){return new(t||ItemPageFieldComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__.v))},"ItemPageFieldComponent_Factory"),ItemPageFieldComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:ItemPageFieldComponent,selectors:[["ng-component"]],inputs:{item:"item"},decls:3,vars:8,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(1,"ds-metadata-values",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label)("enableMarkdown",ctx.enableMarkdown)("urlRegex",ctx.urlRegex)("browseDefinition",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,6,ctx.browseDefinition)))},"ItemPageFieldComponent_Template"),dependencies:[_field_components_metadata_values_metadata_values_component__WEBPACK_IMPORTED_MODULE_3__.R,_angular_common__WEBPACK_IMPORTED_MODULE_6__.Ov],encapsulation:2})},78678:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>ItemComponent});var environment=__webpack_require__(91602),item_page_routing_paths=(__webpack_require__(57324),__webpack_require__(50306)),route_service=__webpack_require__(22287),operators=__webpack_require__(96846),router=__webpack_require__(16088);const isIiifEnabled=__name(item=>!!item.firstMetadataValue("dspace.iiif.enabled"),"isIiifEnabled"),isIiifSearchEnabled=__name(item=>!!item.firstMetadataValue("iiif.search.enabled"),"isIiifSearchEnabled"),getDSpaceQuery=__name((item,routeService)=>routeService.getPreviousUrl().pipe((0,operators.hX)(r=>r.includes("/search")),(0,operators.UI)(r=>(new router.sz).parse(r).queryParamMap.get("query")),(0,operators.qn)(1)),"getDSpaceQuery");var core=__webpack_require__(86209);class ItemComponent{constructor(routeService,router2){this.routeService=routeService,this.router=router2,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,operators.qn)(1)).subscribe(url=>{this.router.navigateByUrl(url)})},this.mediaViewer=environment.N.mediaViewer}ngOnInit(){this.itemPageRoute=(0,item_page_routing_paths.Tt)(this.object),this.showBackButton=this.routeService.getPreviousUrl().pipe((0,operators.hX)(url=>this.previousRoute.test(url)),(0,operators.qn)(1),(0,operators.UI)(()=>!0)),this.iiifEnabled=isIiifEnabled(this.object),this.iiifSearchEnabled=isIiifSearchEnabled(this.object),this.iiifSearchEnabled&&(this.iiifQuery$=getDSpaceQuery(this.object,this.routeService))}}__name(ItemComponent,"ItemComponent"),ItemComponent.\u0275fac=__name(function(t){return new(t||ItemComponent)(core.Y36(route_service.MZ),core.Y36(router.F0))},"ItemComponent_Factory"),ItemComponent.\u0275cmp=core.Xpm({type:ItemComponent,selectors:[["ds-item"]],inputs:{object:"object"},decls:0,vars:0,template:__name(function(rf,ctx){},"ItemComponent_Template"),encapsulation:2})},88069:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetadataRepresentationListComponent:()=>MetadataRepresentationListComponent});var rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93489),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22930),_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(38243),_abstract_incremental_list_abstract_incremental_list_component__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(57324),__webpack_require__(41735)),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53829),_core_shared_metadata_representation_metadatum_metadatum_representation_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42632),_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(583),_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22548),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(65159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24442),_shared_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8583),_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6390),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(61562),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4330);function MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_metadata_representation_loader_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(0,"ds-metadata-representation-loader",6),2&rf){const rep_r8=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("mdRepresentation",rep_r8)}}function MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(0,"ds-themed-loading",7),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(1,1,"loading.default"))}__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_metadata_representation_loader_1_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_metadata_representation_loader_1_Template"),__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template");const _c0=__name(function(a0){return{amount:a0}},"_c0");function MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_1_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_12__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",11)(1,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r12);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(4);return _angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(ctx_r11.increase())},"MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_1_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()}if(2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(4);_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.xi3(3,1,"item.page.related-items.view-more",_angular_core__WEBPACK_IMPORTED_MODULE_12__.VKq(4,_c0,ctx_r9.total-ctx_r9.objects.length*ctx_r9.incrementBy<ctx_r9.incrementBy?ctx_r9.total-ctx_r9.objects.length*ctx_r9.incrementBy:ctx_r9.incrementBy)))}}function MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_2_Template(rf,ctx){if(1&rf){const _r14=_angular_core__WEBPACK_IMPORTED_MODULE_12__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",13)(1,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r14);const ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(4);return _angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(ctx_r13.decrease())},"MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_2_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()}if(2&rf){const representations_r4=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(2).ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.xi3(3,1,"item.page.related-items.view-less",_angular_core__WEBPACK_IMPORTED_MODULE_12__.VKq(4,_c0,null==representations_r4?null:representations_r4.length)))}}function MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_1_Template,4,6,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(2,MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_2_Template,4,6,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",ctx_r7.objects.length*ctx_r7.incrementBy<ctx_r7.total),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",ctx_r7.objects.length>1)}}function MetadataRepresentationListComponent_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_metadata_representation_loader_1_Template,1,1,"ds-metadata-representation-loader",3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(2,MetadataRepresentationListComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template,2,3,"ds-themed-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(3,MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_Template,3,2,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.BQk()),2&rf){const representations_r4=ctx.ngVar,i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw().index,ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngForOf",representations_r4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",i_r2+1===ctx_r3.objects.length&&i_r2>0&&(!representations_r4||0===(null==representations_r4?null:representations_r4.length))),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",i_r2+1===ctx_r3.objects.length&&(null==representations_r4?null:representations_r4.length)>0)}}function MetadataRepresentationListComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,MetadataRepresentationListComponent_ng_container_1_ng_container_1_Template,4,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.BQk()),2&rf){const objectPage_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(2,1,objectPage_r1))}}__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_1_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_1_Template"),__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_2_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_div_2_Template"),__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_div_3_Template"),__name(MetadataRepresentationListComponent_ng_container_1_ng_container_1_Template,"MetadataRepresentationListComponent_ng_container_1_ng_container_1_Template"),__name(MetadataRepresentationListComponent_ng_container_1_Template,"MetadataRepresentationListComponent_ng_container_1_Template");class MetadataRepresentationListComponent extends _abstract_incremental_list_abstract_incremental_list_component__WEBPACK_IMPORTED_MODULE_3__.c{constructor(relationshipService,browseDefinitionDataService){super(),this.relationshipService=relationshipService,this.browseDefinitionDataService=browseDefinitionDataService,this.incrementBy=10}getPage(page){const metadata=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=metadata.length,this.resolveMetadataRepresentations(metadata,page)}resolveMetadataRepresentations(metadata,page){return(0,rxjs__WEBPACK_IMPORTED_MODULE_13__.zip)(...metadata.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(metadatum=>Object.assign(new _core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_1__.DA,metadatum)).map(metadatum=>{if(metadatum.isVirtual)return this.relationshipService.resolveMetadataRepresentation(metadatum,this.parentItem,this.itemType);{let searchKeyArray=[];return this.metadataFields.forEach(field=>{searchKeyArray=searchKeyArray.concat(_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_6__.I.toSearchKeyArray(field))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(def=>Object.assign(new _core_shared_metadata_representation_metadatum_metadatum_representation_model__WEBPACK_IMPORTED_MODULE_5__.S(this.itemType,def),metadatum)))}}))}}__name(MetadataRepresentationListComponent,"MetadataRepresentationListComponent"),MetadataRepresentationListComponent.\u0275fac=__name(function(t){return new(t||MetadataRepresentationListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_0__.U),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_7__.v))},"MetadataRepresentationListComponent_Factory"),MetadataRepresentationListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.Xpm({type:MetadataRepresentationListComponent,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.qOj],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left",4,"ngIf"],["class","float-right",4,"ngIf"],[1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-right"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,MetadataRepresentationListComponent_ng_container_1_Template,3,3,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("label",ctx.label),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngForOf",ctx.objects))},"MetadataRepresentationListComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.Z,_shared_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_9__.G,_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_10__.n,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_11__.g,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$],encapsulation:2})},13579:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>ThemedMetadataRepresentationListComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(57324),__webpack_require__(86209));function ThemedMetadataRepresentationListComponent_ng_template_0_Template(rf,ctx){}__name(ThemedMetadataRepresentationListComponent_ng_template_0_Template,"ThemedMetadataRepresentationListComponent_ng_template_0_Template");class ThemedMetadataRepresentationListComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(themeName){return __webpack_require__(37873)(`./${themeName}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,88069))}}__name(ThemedMetadataRepresentationListComponent,"ThemedMetadataRepresentationListComponent"),ThemedMetadataRepresentationListComponent.\u0275fac=function(){let \u0275ThemedMetadataRepresentationListComponent_BaseFactory;return __name(function(t){return(\u0275ThemedMetadataRepresentationListComponent_BaseFactory||(\u0275ThemedMetadataRepresentationListComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.n5z(ThemedMetadataRepresentationListComponent)))(t||ThemedMetadataRepresentationListComponent)},"ThemedMetadataRepresentationListComponent_Factory")}(),ThemedMetadataRepresentationListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:ThemedMetadataRepresentationListComponent,selectors:[["ds-themed-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(0,ThemedMetadataRepresentationListComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA())},"ThemedMetadataRepresentationListComponent_Template"),encapsulation:2})},35321:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>RelatedEntitiesSearchComponent});__webpack_require__(57324);var _shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59501),_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61900),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35282);class RelatedEntitiesSearchComponent{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.relationType)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.item)&&(this.fixedFilter=(0,_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__.ae)(this.relationType,this.item.id))}}__name(RelatedEntitiesSearchComponent,"RelatedEntitiesSearchComponent"),RelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||RelatedEntitiesSearchComponent)},"RelatedEntitiesSearchComponent_Factory"),RelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:RelatedEntitiesSearchComponent,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"ds-configuration-search-page",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("fixedFilterQuery",ctx.fixedFilter)("configuration",ctx.configuration)("searchEnabled",ctx.searchEnabled)("sideBarWidth",ctx.sideBarWidth)("showCsvExport",!0)},"RelatedEntitiesSearchComponent_Template"),dependencies:[_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__.ConfigurationSearchPageComponent],encapsulation:2})},81756:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>TabbedRelatedEntitiesSearchComponent});__webpack_require__(57324);var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96846),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65159),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23506),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61562),_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35321),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4330);function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ds-related-entities-search",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r5.item)("relationType",relationType_r4.filter)("configuration",relationType_r4.configuration)("searchEnabled",ctx_r5.searchEnabled)("sideBarWidth",ctx_r5.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"li",6)(1,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,2,5,"ng-template",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavItem",relationType_r4.filter),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,2,"item.page.relationships."+relationType_r4.label))}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"ul",2,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("navChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.KtG(ctx_r7.onTabChange($event))},"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template_ul_navChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,5,4,"li",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()}if(2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.MAs(2),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("destroyOnHide",!0)("activeId",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,ctx_r0.activeTab$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",ctx_r0.relationTypes),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavOutlet",_r2)}}function TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(0,"ds-related-entities-search",10),2&rf){const relationType_r10=ctx.ngVar,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r9.item)("relationType",relationType_r10.filter)("configuration",relationType_r10.configuration)("searchEnabled",ctx_r9.searchEnabled)("sideBarWidth",ctx_r9.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,1,5,"ds-related-entities-search",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngVar",ctx_r1.relationTypes[0])}}__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_Template");class TabbedRelatedEntitiesSearchComponent{constructor(route,router){this.route=route,this.router=router,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(params=>params.tab))}onTabChange(event2){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:event2.nextId},queryParamsHandling:"merge"})}}__name(TabbedRelatedEntitiesSearchComponent,"TabbedRelatedEntitiesSearchComponent"),TabbedRelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||TabbedRelatedEntitiesSearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"TabbedRelatedEntitiesSearchComponent_Factory"),TabbedRelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:TabbedRelatedEntitiesSearchComponent,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide","activeId","navChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,6,6,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_Template,2,1,"div",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.relationTypes.length>1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",1===ctx.relationTypes.length))},"TabbedRelatedEntitiesSearchComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_6__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.uN,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Pz,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.tO,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_1__.g,_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_2__.T,_angular_common__WEBPACK_IMPORTED_MODULE_6__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.X$],encapsulation:2})},43239:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>RelatedItemsComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86209),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(57324),__webpack_require__(87878)),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22930),_abstract_incremental_list_abstract_incremental_list_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41735),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5414),_shared_utils_object_list_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(76483),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98482),_angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(65159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24442),_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76038),_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6390),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(61562),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4330);function RelatedItemsComponent_ng_container_1_ng_container_1_ds_listable_object_component_loader_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(0,"ds-listable-object-component-loader",6),2&rf){const item_r8=ctx.$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("object",item_r8)("viewMode",ctx_r5.viewMode)}}function RelatedItemsComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(0,"ds-themed-loading",7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_9__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,1,"loading.default"))}__name(RelatedItemsComponent_ng_container_1_ng_container_1_ds_listable_object_component_loader_1_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_ds_listable_object_component_loader_1_Template"),__name(RelatedItemsComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template");const _c0=__name(function(a0){return{amount:a0}},"_c0");function RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_1_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",11)(1,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r12);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(4);return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r11.increase())},"RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_1_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()}if(2&rf){const itemsRD_r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2).ngVar,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xi3(3,1,"item.page.related-items.view-more",_angular_core__WEBPACK_IMPORTED_MODULE_9__.VKq(4,_c0,(null==itemsRD_r4||null==itemsRD_r4.payload?null:itemsRD_r4.payload.totalElements)-ctx_r9.incrementBy*ctx_r9.objects.length<ctx_r9.incrementBy?(null==itemsRD_r4||null==itemsRD_r4.payload?null:itemsRD_r4.payload.totalElements)-ctx_r9.incrementBy*ctx_r9.objects.length:ctx_r9.incrementBy)))}}function RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_2_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",13)(1,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r15);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(4);return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r14.decrease())},"RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_2_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()}if(2&rf){const itemsRD_r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2).ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xi3(3,1,"item.page.related-items.view-less",_angular_core__WEBPACK_IMPORTED_MODULE_9__.VKq(4,_c0,null==itemsRD_r4||null==itemsRD_r4.payload||null==itemsRD_r4.payload.page?null:itemsRD_r4.payload.page.length)))}}function RelatedItemsComponent_ng_container_1_ng_container_1_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_1_Template,4,6,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_2_Template,4,6,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()),2&rf){const itemsRD_r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().ngVar,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",(null==itemsRD_r4||null==itemsRD_r4.payload?null:itemsRD_r4.payload.totalPages)>ctx_r7.objects.length),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",ctx_r7.objects.length>1)}}function RelatedItemsComponent_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,RelatedItemsComponent_ng_container_1_ng_container_1_ds_listable_object_component_loader_1_Template,1,2,"ds-listable-object-component-loader",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,RelatedItemsComponent_ng_container_1_ng_container_1_ds_themed_loading_2_Template,2,3,"ds-themed-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(3,RelatedItemsComponent_ng_container_1_ng_container_1_div_3_Template,3,2,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf){const itemsRD_r4=ctx.ngVar,i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().index,ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngForOf",null==itemsRD_r4||null==itemsRD_r4.payload?null:itemsRD_r4.payload.page),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",i_r2+1===ctx_r3.objects.length&&(itemsRD_r4||i_r2>0)&&!(null!=itemsRD_r4&&itemsRD_r4.hasSucceeded&&null!=itemsRD_r4&&itemsRD_r4.payload&&(null==itemsRD_r4||null==itemsRD_r4.payload||null==itemsRD_r4.payload.page?null:itemsRD_r4.payload.page.length)>0)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",i_r2+1===ctx_r3.objects.length&&(null==itemsRD_r4||null==itemsRD_r4.payload||null==itemsRD_r4.payload.page?null:itemsRD_r4.payload.page.length)>0)}}function RelatedItemsComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,RelatedItemsComponent_ng_container_1_ng_container_1_Template,4,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf){const objectPage_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(2,1,objectPage_r1))}}__name(RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_1_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_1_Template"),__name(RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_2_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_div_3_div_2_Template"),__name(RelatedItemsComponent_ng_container_1_ng_container_1_div_3_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_div_3_Template"),__name(RelatedItemsComponent_ng_container_1_ng_container_1_Template,"RelatedItemsComponent_ng_container_1_ng_container_1_Template"),__name(RelatedItemsComponent_ng_container_1_Template,"RelatedItemsComponent_ng_container_1_Template");class RelatedItemsComponent extends _abstract_incremental_list_abstract_incremental_list_component__WEBPACK_IMPORTED_MODULE_3__.c{constructor(relationshipService,elementRef,appConfig,platformId){super(),this.relationshipService=relationshipService,this.elementRef=elementRef,this.appConfig=appConfig,this.platformId=platformId,this.incrementBy=5,this.options=new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_10__.R,this.viewMode=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_1__.w.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){if((0,_angular_common__WEBPACK_IMPORTED_MODULE_11__.NF)(this.platformId)){const width=this.elementRef.nativeElement.offsetWidth;this.placeholderFontClass=(0,_shared_utils_object_list_utils__WEBPACK_IMPORTED_MODULE_12__.X)(width)}else this.placeholderFontClass="hide-placeholder-text";super.ngOnInit()}getPage(page){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:page,fetchThumbnail:this.fetchThumbnail}))}}__name(RelatedItemsComponent,"RelatedItemsComponent"),RelatedItemsComponent.\u0275fac=__name(function(t){return new(t||RelatedItemsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_2__.U),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_9__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_4__.q),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Lbi))},"RelatedItemsComponent_Factory"),RelatedItemsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:RelatedItemsComponent,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.qOj],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left","id","view-more",4,"ngIf"],["class","float-right","id","view-less",4,"ngIf"],["id","view-more",1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],["id","view-less",1,"float-right"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,RelatedItemsComponent_ng_container_1_Template,3,3,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("label",ctx.label)("ngClass",ctx.placeholderFontClass),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngForOf",ctx.objects))},"RelatedItemsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_11__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_11__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_11__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_5__.Z,_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_6__.p,_shared_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_7__.n,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_8__.g,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.X$],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})},20797:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>ItemVersionsDeleteModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4330);const _c0=__name(function(a0){return{version:a0}},"_c0");class ItemVersionsDeleteModalComponent{constructor(activeModal){this.activeModal=activeModal,this.response=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}onModalClose(){this.response.emit(!1),this.activeModal.dismiss()}onModalSubmit(){this.response.emit(!0),this.activeModal.close()}}__name(ItemVersionsDeleteModalComponent,"ItemVersionsDeleteModalComponent"),ItemVersionsDeleteModalComponent.\u0275fac=__name(function(t){return new(t||ItemVersionsDeleteModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Kz))},"ItemVersionsDeleteModalComponent_Factory"),ItemVersionsDeleteModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:ItemVersionsDeleteModalComponent,selectors:[["ds-item-versions-delete-modal"]],outputs:{response:"response"},decls:22,vars:21,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[1,"modal-footer"],[1,"btn","btn-outline-secondary","btn-sm","cancel",3,"title","click"],[1,"fas","fa-times","fa-fw"],[1,"btn","btn-danger","btn-sm","confirm",3,"title","click"],[1,"fas","fa-check","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div")(1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(4,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return ctx.onModalClose()},"ItemVersionsDeleteModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(5,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(7,"div",3)(8,"p",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(11,"div",5)(12,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return ctx.onModalClose()},"ItemVersionsDeleteModalComponent_Template_button_click_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(14,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(17,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return ctx.onModalSubmit()},"ItemVersionsDeleteModalComponent_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(19,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(21,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,6,"item.version.delete.modal.header")," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xi3(10,8,"item.version.delete.modal.text",_angular_core__WEBPACK_IMPORTED_MODULE_0__.VKq(19,_c0,ctx.versionNumber))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(13,11,"item.version.delete.modal.button.cancel.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(16,13,"item.version.delete.modal.button.cancel")," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(18,15,"item.version.delete.modal.button.confirm.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(21,17,"item.version.delete.modal.button.confirm")," "))},"ItemVersionsDeleteModalComponent_Template"),dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.X$]})},35282:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ConfigurationSearchPageComponent:()=>ConfigurationSearchPageComponent});var _shared_host_window_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16816),_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81469),_shared_search_search_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9818),_shared_animations_push__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(99911),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14892),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(40370),_core_services_route_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22287),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39185),_angular_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(65159),_shared_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6381),_shared_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(58414),_shared_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82796),_shared_search_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(70249),_shared_search_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(54773),_shared_search_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15888),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4330);function ConfigurationSearchPageComponent_div_0_3_ng_template_0_Template(rf,ctx){}function ConfigurationSearchPageComponent_div_0_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_div_0_3_ng_template_0_Template,0,0,"ng-template")}function ConfigurationSearchPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"div",6)(1,"div",7)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(3,ConfigurationSearchPageComponent_div_0_3_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()()()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_14__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngTemplateOutlet",_r7)}}function ConfigurationSearchPageComponent_div_2_1_ng_template_0_Template(rf,ctx){}function ConfigurationSearchPageComponent_div_2_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_div_2_1_ng_template_0_Template,0,0,"ng-template")}function ConfigurationSearchPageComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(1,ConfigurationSearchPageComponent_div_2_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_14__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngTemplateOutlet",_r3)}}function ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_ng_template_0_Template(rf,ctx){}function ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,0,0,"ng-template")}function ConfigurationSearchPageComponent_ds_page_with_sidebar_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"ds-page-with-sidebar",10),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(1,ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_14__.MAs(9),_r3=_angular_core__WEBPACK_IMPORTED_MODULE_14__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("id","search-page")("sidebarContent",_r5),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngTemplateOutlet",_r3)}}function ConfigurationSearchPageComponent_ng_template_6_div_1_1_ng_template_0_Template(rf,ctx){}function ConfigurationSearchPageComponent_ng_template_6_div_1_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_ng_template_6_div_1_1_ng_template_0_Template,0,0,"ng-template")}function ConfigurationSearchPageComponent_ng_template_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(1,ConfigurationSearchPageComponent_ng_template_6_div_1_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Hsn(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_14__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngTemplateOutlet",_r7)}}function ConfigurationSearchPageComponent_ng_template_6_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_14__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(1,ConfigurationSearchPageComponent_ng_template_6_div_1_Template,3,1,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(3,"div",12)(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_14__._UZ(5,"ds-view-mode-switch",14),_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(6,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_14__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r18.openSidebar())},"ConfigurationSearchPageComponent_ng_template_6_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_14__._UZ(7,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_14__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(10,"ds-themed-search-results",17),_angular_core__WEBPACK_IMPORTED_MODULE_14__.NdJ("contentChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r19);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r20.onContentChange($event))},"ConfigurationSearchPageComponent_ng_template_6_Template_ds_themed_search_results_contentChange_10_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r19);const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r21.deselectObject.emit($event))},"ConfigurationSearchPageComponent_ng_template_6_Template_ds_themed_search_results_deselectObject_10_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r19);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r22.selectObject.emit($event))},"ConfigurationSearchPageComponent_ng_template_6_Template_ds_themed_search_results_selectObject_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()()()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(2,14,ctx_r4.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("viewModeList",ctx_r4.viewModeList)("inPlaceSearch",ctx_r4.inPlaceSearch),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(9,16,"search.sidebar.open")," "),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(11,18,ctx_r4.resultsRD$))("searchConfig",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(12,20,ctx_r4.searchOptions$))("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(13,22,ctx_r4.currentConfiguration$))("disableHeader",!ctx_r4.searchEnabled)("linkType",ctx_r4.linkType)("context",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(14,24,ctx_r4.currentContext$))("selectable",ctx_r4.selectable)("selectionConfig",ctx_r4.selectionConfig)("showCsvExport",ctx_r4.showCsvExport)("showThumbnails",ctx_r4.showThumbnails)}}function ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_14__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"ds-themed-search-sidebar",20),_angular_core__WEBPACK_IMPORTED_MODULE_14__.NdJ("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r26);const ctx_r25=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r25.changeContext($event.context))},"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r26);const ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r27.changeViewMode())},"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()}if(2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("configurationList",ctx_r23.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(1,12,ctx_r23.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(2,14,ctx_r23.currentScope$))("filters",ctx_r23.filtersRD$.asObservable())("refreshFilters",ctx_r23.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(3,16,ctx_r23.resultsRD$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(4,18,ctx_r23.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(5,20,ctx_r23.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(6,22,ctx_r23.currentSortOptions$))("inPlaceSearch",ctx_r23.inPlaceSearch)("viewModeList",ctx_r23.viewModeList)("showViewModes",ctx_r23.showViewModes)}}function ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template(rf,ctx){if(1&rf){const _r29=_angular_core__WEBPACK_IMPORTED_MODULE_14__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(0,"ds-themed-search-sidebar",21),_angular_core__WEBPACK_IMPORTED_MODULE_14__.NdJ("toggleSidebar",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r29);const ctx_r28=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r28.closeSidebar())},"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_toggleSidebar_0_listener"))("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r29);const ctx_r30=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r30.changeContext($event.context))},"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_14__.CHM(_r29);const ctx_r31=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_14__.KtG(ctx_r31.changeViewMode())},"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()}if(2&rf){const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("configurationList",ctx_r24.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(1,11,ctx_r24.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(2,13,ctx_r24.currentScope$))("filters",ctx_r24.filtersRD$.asObservable())("refreshFilters",ctx_r24.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(3,15,ctx_r24.resultsRD$))?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(4,17,ctx_r24.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(5,19,ctx_r24.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(6,21,ctx_r24.currentSortOptions$))("viewModeList",ctx_r24.viewModeList)("showViewModes",ctx_r24.showViewModes)}}function ConfigurationSearchPageComponent_ng_template_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template,7,24,"ds-themed-search-sidebar",18),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(2,ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template,7,23,"ds-themed-search-sidebar",19),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(3,"async")),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(1,2,ctx_r6.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(3,4,ctx_r6.isXsOrSm$))}}function ConfigurationSearchPageComponent_ng_template_10_ds_themed_search_form_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__._UZ(0,"ds-themed-search-form",26),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(3,"translate")),2&rf){const ctx_r32=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);let tmp_0_0,tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("query",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(1,6,ctx_r32.searchOptions$))?null:tmp_0_0.query)("scope",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(2,8,ctx_r32.searchOptions$))?null:tmp_1_0.scope)("currentUrl",ctx_r32.searchLink)("showScopeSelector",ctx_r32.showScopeSelector)("inPlaceSearch",ctx_r32.inPlaceSearch)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(3,10,ctx_r32.searchFormPlaceholder))}}function ConfigurationSearchPageComponent_ng_template_10_ds_search_labels_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_14__._UZ(0,"ds-search-labels",27),2&rf){const ctx_r33=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("inPlaceSearch",ctx_r33.inPlaceSearch)}}function ConfigurationSearchPageComponent_ng_template_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_ng_template_10_ds_themed_search_form_0_Template,4,12,"ds-themed-search-form",22),_angular_core__WEBPACK_IMPORTED_MODULE_14__.TgZ(1,"div",23)(2,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(3,ConfigurationSearchPageComponent_ng_template_10_ds_search_labels_3_Template,1,1,"ds-search-labels",25),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qZA()()),2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_14__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",ctx_r8.searchEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",ctx_r8.searchEnabled)}}__name(ConfigurationSearchPageComponent_div_0_3_ng_template_0_Template,"ConfigurationSearchPageComponent_div_0_3_ng_template_0_Template"),__name(ConfigurationSearchPageComponent_div_0_3_Template,"ConfigurationSearchPageComponent_div_0_3_Template"),__name(ConfigurationSearchPageComponent_div_0_Template,"ConfigurationSearchPageComponent_div_0_Template"),__name(ConfigurationSearchPageComponent_div_2_1_ng_template_0_Template,"ConfigurationSearchPageComponent_div_2_1_ng_template_0_Template"),__name(ConfigurationSearchPageComponent_div_2_1_Template,"ConfigurationSearchPageComponent_div_2_1_Template"),__name(ConfigurationSearchPageComponent_div_2_Template,"ConfigurationSearchPageComponent_div_2_Template"),__name(ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,"ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_ng_template_0_Template"),__name(ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_Template,"ConfigurationSearchPageComponent_ds_page_with_sidebar_4_1_Template"),__name(ConfigurationSearchPageComponent_ds_page_with_sidebar_4_Template,"ConfigurationSearchPageComponent_ds_page_with_sidebar_4_Template"),__name(ConfigurationSearchPageComponent_ng_template_6_div_1_1_ng_template_0_Template,"ConfigurationSearchPageComponent_ng_template_6_div_1_1_ng_template_0_Template"),__name(ConfigurationSearchPageComponent_ng_template_6_div_1_1_Template,"ConfigurationSearchPageComponent_ng_template_6_div_1_1_Template"),__name(ConfigurationSearchPageComponent_ng_template_6_div_1_Template,"ConfigurationSearchPageComponent_ng_template_6_div_1_Template"),__name(ConfigurationSearchPageComponent_ng_template_6_Template,"ConfigurationSearchPageComponent_ng_template_6_Template"),__name(ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template,"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_0_Template"),__name(ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template,"ConfigurationSearchPageComponent_ng_template_8_ds_themed_search_sidebar_2_Template"),__name(ConfigurationSearchPageComponent_ng_template_8_Template,"ConfigurationSearchPageComponent_ng_template_8_Template"),__name(ConfigurationSearchPageComponent_ng_template_10_ds_themed_search_form_0_Template,"ConfigurationSearchPageComponent_ng_template_10_ds_themed_search_form_0_Template"),__name(ConfigurationSearchPageComponent_ng_template_10_ds_search_labels_3_Template,"ConfigurationSearchPageComponent_ng_template_10_ds_search_labels_3_Template"),__name(ConfigurationSearchPageComponent_ng_template_10_Template,"ConfigurationSearchPageComponent_ng_template_10_Template");const _c0=[[["","additionalSearchOptions",""]]];class ConfigurationSearchPageComponent extends _shared_search_search_component__WEBPACK_IMPORTED_MODULE_2__.SearchComponent{constructor(service,sidebarService,windowService,searchConfigService,routeService,router){super(service,sidebarService,windowService,searchConfigService,routeService,router),this.service=service,this.sidebarService=sidebarService,this.windowService=windowService,this.searchConfigService=searchConfigService,this.routeService=routeService,this.router=router}}__name(ConfigurationSearchPageComponent,"ConfigurationSearchPageComponent"),ConfigurationSearchPageComponent.\u0275fac=__name(function(t){return new(t||ConfigurationSearchPageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__.o),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__.P),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_shared_host_window_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_4__.SEARCH_CONFIG_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_6__.MZ),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_15__.F0))},"ConfigurationSearchPageComponent_Factory"),ConfigurationSearchPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_14__.Xpm({type:ConfigurationSearchPageComponent,selectors:[["ds-configuration-search-page"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_14__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_4__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_5__.U}]),_angular_core__WEBPACK_IMPORTED_MODULE_14__.qOj],ngContentSelectors:["[additionalSearchOptions]"],decls:12,vars:9,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sidebarContent",4,"ngIf"],["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder",4,"ngIf"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-sm-9"],[3,"inPlaceSearch",4,"ngIf"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[3,"inPlaceSearch"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(0,ConfigurationSearchPageComponent_div_0_Template,4,1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(2,ConfigurationSearchPageComponent_div_2_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(4,ConfigurationSearchPageComponent_ds_page_with_sidebar_4_Template,2,3,"ds-page-with-sidebar",2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(6,ConfigurationSearchPageComponent_ng_template_6_Template,15,26,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_14__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(8,ConfigurationSearchPageComponent_ng_template_8_Template,4,6,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_14__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_14__.YNc(10,ConfigurationSearchPageComponent_ng_template_10_Template,4,2,"ng-template",null,5,_angular_core__WEBPACK_IMPORTED_MODULE_14__.W1O)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(1,3,ctx.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",!ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(3,5,ctx.initialized$)),_angular_core__WEBPACK_IMPORTED_MODULE_14__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_14__.Q6J("ngIf",ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_14__.lcZ(5,7,ctx.initialized$)))},"ConfigurationSearchPageComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_16__.tP,_shared_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_8__.p,_shared_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_9__.R,_shared_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_10__.$,_shared_search_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_11__.B,_shared_search_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_12__.g,_shared_search_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_13__.H,_angular_common__WEBPACK_IMPORTED_MODULE_16__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[_shared_animations_push__WEBPACK_IMPORTED_MODULE_3__.z]},changeDetection:0})},94207:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>ThemedConfigurationSearchPageComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(66919),__webpack_require__(86209));function ThemedConfigurationSearchPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedConfigurationSearchPageComponent_ng_template_0_Template,"ThemedConfigurationSearchPageComponent_ng_template_0_Template");class ThemedConfigurationSearchPageComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["context","configuration","fixedFilterQuery","inPlaceSearch","searchEnabled","sideBarWidth"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(themeName){return __webpack_require__(73835)(`./${themeName}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,35282))}}__name(ThemedConfigurationSearchPageComponent,"ThemedConfigurationSearchPageComponent"),ThemedConfigurationSearchPageComponent.\u0275fac=function(){let \u0275ThemedConfigurationSearchPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedConfigurationSearchPageComponent_BaseFactory||(\u0275ThemedConfigurationSearchPageComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.n5z(ThemedConfigurationSearchPageComponent)))(t||ThemedConfigurationSearchPageComponent)},"ThemedConfigurationSearchPageComponent_Factory")}(),ThemedConfigurationSearchPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:ThemedConfigurationSearchPageComponent,selectors:[["ds-themed-configuration-search-page"]],inputs:{configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",inPlaceSearch:"inPlaceSearch",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",configuration$:"configuration$",context:"context"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(0,ThemedConfigurationSearchPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA())},"ThemedConfigurationSearchPageComponent_Template"),encapsulation:2})},44491:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>DsoPageModule});var _class,ngx_translate_core=__webpack_require__(4330),router=__webpack_require__(16088),common=__webpack_require__(65159),dso_edit_menu_component=__webpack_require__(12590),tslib_es6=__webpack_require__(70655),core=__webpack_require__(86209),menu_section_decorator=__webpack_require__(69348),menu_section_component=__webpack_require__(76334),menu_service=__webpack_require__(45151),empty_util=__webpack_require__(59501),menu_id_model=__webpack_require__(86738),menu_section_model=__webpack_require__(67126),ng_bootstrap=__webpack_require__(23506);function DsoEditMenuSectionComponent_div_0_a_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",4)(1,"button",5),core.ALo(2,"translate"),core.ALo(3,"translate"),core._UZ(4,"i"),core.qZA()()),2&rf){const ctx_r2=core.oxw(2);core.Q6J("routerLink",ctx_r2.itemModel.link),core.xp6(1),core.Q6J("title",core.lcZ(3,9,ctx_r2.itemModel.text))("disabled",ctx_r2.section.model.disabled),core.uIk("aria-label",core.lcZ(2,7,ctx_r2.itemModel.text)),core.xp6(3),core.Gre("fas fa-",ctx_r2.section.icon," fa-fw")}}function DsoEditMenuSectionComponent_div_0_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6)(1,"button",5),core.ALo(2,"translate"),core.ALo(3,"translate"),core._UZ(4,"i"),core.qZA()()),2&rf){const ctx_r3=core.oxw(2);core.xp6(1),core.Q6J("title",core.lcZ(3,8,ctx_r3.itemModel.text))("disabled",ctx_r3.section.model.disabled),core.uIk("aria-label",core.lcZ(2,6,ctx_r3.itemModel.text)),core.xp6(3),core.Gre("fas fa-",ctx_r3.section.icon," fa-fw")}}function DsoEditMenuSectionComponent_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",1),core.ALo(1,"translate"),core.ALo(2,"translate"),core.YNc(3,DsoEditMenuSectionComponent_div_0_a_3_Template,5,11,"a",2),core.YNc(4,DsoEditMenuSectionComponent_div_0_div_4_Template,5,10,"div",3),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("title",core.lcZ(1,4,ctx_r0.itemModel.text))("ngbTooltip",core.lcZ(2,6,ctx_r0.itemModel.text)),core.xp6(3),core.Q6J("ngIf",!ctx_r0.section.model.disabled),core.xp6(1),core.Q6J("ngIf",ctx_r0.section.model.disabled)}}function DsoEditMenuSectionComponent_div_1_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",1),core.ALo(1,"translate"),core.ALo(2,"translate"),core.TgZ(3,"button",7),core.NdJ("click",__name(function($event){core.CHM(_r5);const ctx_r4=core.oxw();return core.KtG(ctx_r4.activate($event))},"DsoEditMenuSectionComponent_div_1_Template_button_click_3_listener")),core.ALo(4,"translate"),core.ALo(5,"translate"),core._UZ(6,"i"),core.qZA()()}if(2&rf){const ctx_r1=core.oxw();core.Q6J("title",core.lcZ(1,8,ctx_r1.itemModel.text))("ngbTooltip",core.lcZ(2,10,ctx_r1.itemModel.text)),core.xp6(3),core.Q6J("title",core.lcZ(5,14,ctx_r1.itemModel.text))("disabled",ctx_r1.section.model.disabled),core.uIk("aria-label",core.lcZ(4,12,ctx_r1.itemModel.text)),core.xp6(3),core.Gre("fas fa-",ctx_r1.section.icon," fa-fw")}}__name(DsoEditMenuSectionComponent_div_0_a_3_Template,"DsoEditMenuSectionComponent_div_0_a_3_Template"),__name(DsoEditMenuSectionComponent_div_0_div_4_Template,"DsoEditMenuSectionComponent_div_0_div_4_Template"),__name(DsoEditMenuSectionComponent_div_0_Template,"DsoEditMenuSectionComponent_div_0_Template"),__name(DsoEditMenuSectionComponent_div_1_Template,"DsoEditMenuSectionComponent_div_1_Template");let DsoEditMenuSectionComponent=((_class=__name(class extends menu_section_component.q{constructor(menuSection,menuService,injector){super(menuSection,menuService,injector),this.menuService=menuService,this.injector=injector,this.menuID=menu_id_model.z.DSO_EDIT,this.itemModel=menuSection.model}ngOnInit(){this.hasLink=(0,empty_util.UE)(this.itemModel?.link),this.canActivate=(0,empty_util.UE)(this.itemModel?.function),super.ngOnInit()}activate(event2){event2.preventDefault(),this.itemModel.disabled||this.itemModel.function(),event2.stopPropagation()}},"DsoEditMenuSectionComponent")).\u0275fac=__name(function(t){return new(t||_class)(core.Y36("sectionDataProvider"),core.Y36(menu_service.h),core.Y36(core.zs3))},"DsoEditMenuSectionComponent_Factory"),_class.\u0275cmp=core.Xpm({type:_class,selectors:[["ds-dso-edit-menu-section"]],features:[core.qOj],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"title","ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"title","ngbTooltip"],["class","d-flex flex-row flex-nowrap","href","javascript:void(0);",3,"routerLink",4,"ngIf"],["class","d-flex flex-row flex-nowrap",4,"ngIf"],["href","javascript:void(0);",1,"d-flex","flex-row","flex-nowrap",3,"routerLink"],[1,"btn","btn-dark","btn-sm",3,"title","disabled"],[1,"d-flex","flex-row","flex-nowrap"],[1,"btn","btn-dark","btn-sm",3,"title","disabled","click"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,DsoEditMenuSectionComponent_div_0_Template,5,8,"div",0),core.YNc(1,DsoEditMenuSectionComponent_div_1_Template,7,16,"div",0)),2&rf&&(core.Q6J("ngIf",!ctx.canActivate),core.xp6(1),core.Q6J("ngIf",ctx.canActivate))},"DsoEditMenuSectionComponent_Template"),dependencies:[router.rH,common.O5,ng_bootstrap._L,ngx_translate_core.X$],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]}),_class);DsoEditMenuSectionComponent=(0,tslib_es6.__decorate)([(0,menu_section_decorator.h)(menu_id_model.z.DSO_EDIT,!1),(0,tslib_es6.__metadata)("design:paramtypes",[menu_section_model.x,menu_service.h,core.zs3])],DsoEditMenuSectionComponent);var dso_edit_menu_expandable_section_component_class,operators=__webpack_require__(96846);function DsoEditMenuExpandableSectionComponent_li_8_div_1_i_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"i"),2&rf){const subSection_r1=core.oxw(2).$implicit;core.Gre("fas fa-",subSection_r1.icon," fa-fw")}}function DsoEditMenuExpandableSectionComponent_li_8_div_1_ng_template_2_Template(rf,ctx){1&rf&&core._UZ(0,"i",11)}function DsoEditMenuExpandableSectionComponent_li_8_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8),core.YNc(1,DsoEditMenuExpandableSectionComponent_li_8_div_1_i_1_Template,1,3,"i",9),core.YNc(2,DsoEditMenuExpandableSectionComponent_li_8_div_1_ng_template_2_Template,1,0,"ng-template",null,10,core.W1O),core.qZA()),2&rf){const _r5=core.MAs(3),subSection_r1=core.oxw().$implicit;core.xp6(1),core.Q6J("ngIf",subSection_r1.icon)("ngIfElse",_r5)}}function DsoEditMenuExpandableSectionComponent_li_8_ng_container_3_Template(rf,ctx){1&rf&&core.GkF(0)}function DsoEditMenuExpandableSectionComponent_li_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",5),core.YNc(1,DsoEditMenuExpandableSectionComponent_li_8_div_1_Template,4,2,"div",6),core.ALo(2,"async"),core.YNc(3,DsoEditMenuExpandableSectionComponent_li_8_ng_container_3_Template,1,0,"ng-container",7),core.ALo(4,"async"),core.ALo(5,"async"),core.qZA()),2&rf){const subSection_r1=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",core.lcZ(2,3,ctx_r0.renderIcons$)),core.xp6(2),core.Q6J("ngComponentOutlet",core.lcZ(4,5,ctx_r0.sectionMap$).get(subSection_r1.id).component)("ngComponentOutletInjector",core.lcZ(5,7,ctx_r0.sectionMap$).get(subSection_r1.id).injector)}}__name(DsoEditMenuExpandableSectionComponent_li_8_div_1_i_1_Template,"DsoEditMenuExpandableSectionComponent_li_8_div_1_i_1_Template"),__name(DsoEditMenuExpandableSectionComponent_li_8_div_1_ng_template_2_Template,"DsoEditMenuExpandableSectionComponent_li_8_div_1_ng_template_2_Template"),__name(DsoEditMenuExpandableSectionComponent_li_8_div_1_Template,"DsoEditMenuExpandableSectionComponent_li_8_div_1_Template"),__name(DsoEditMenuExpandableSectionComponent_li_8_ng_container_3_Template,"DsoEditMenuExpandableSectionComponent_li_8_ng_container_3_Template"),__name(DsoEditMenuExpandableSectionComponent_li_8_Template,"DsoEditMenuExpandableSectionComponent_li_8_Template");let DsoEditMenuExpandableSectionComponent=((dso_edit_menu_expandable_section_component_class=__name(class extends menu_section_component.q{constructor(menuSection,menuService,injector,router2){super(menuSection,menuService,injector),this.menuService=menuService,this.injector=injector,this.router=router2,this.menuID=menu_id_model.z.DSO_EDIT,this.itemModel=menuSection.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,operators.UI)(sections=>sections.some(section=>(0,empty_util.Uh)(section.icon))))}},"DsoEditMenuExpandableSectionComponent")).\u0275fac=__name(function(t){return new(t||dso_edit_menu_expandable_section_component_class)(core.Y36("sectionDataProvider"),core.Y36(menu_service.h),core.Y36(core.zs3),core.Y36(router.F0))},"DsoEditMenuExpandableSectionComponent_Factory"),dso_edit_menu_expandable_section_component_class.\u0275cmp=core.Xpm({type:dso_edit_menu_expandable_section_component_class,selectors:[["ds-dso-edit-menu-expandable-section"]],features:[core.qOj],decls:10,vars:16,consts:[["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],[1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","disabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","mr-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"mr-2"],[3,"class",4,"ngIf","ngIfElse"],["spacer",""],[1,"fas","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.ALo(2,"translate"),core.TgZ(3,"button",2),core.ALo(4,"translate"),core.ALo(5,"translate"),core._UZ(6,"i"),core.qZA(),core.TgZ(7,"ul",3),core.YNc(8,DsoEditMenuExpandableSectionComponent_li_8_Template,6,9,"li",4),core.ALo(9,"async"),core.qZA()()()),2&rf&&(core.xp6(1),core.Q6J("ngbTooltip",core.lcZ(2,8,ctx.itemModel.text)),core.xp6(2),core.Q6J("title",core.lcZ(5,12,ctx.itemModel.text))("disabled",null==ctx.section.model?null:ctx.section.model.disabled),core.uIk("aria-label",core.lcZ(4,10,ctx.itemModel.text)),core.xp6(3),core.Gre("fas fa-",ctx.section.icon," fa-fw"),core.xp6(2),core.Q6J("ngForOf",core.lcZ(9,14,ctx.subSections$)))},"DsoEditMenuExpandableSectionComponent_Template"),dependencies:[common.$G,common.sg,common.O5,ng_bootstrap._L,ng_bootstrap.jt,ng_bootstrap.iD,ng_bootstrap.Vi,ngx_translate_core.X$,common.Ov],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]}),dso_edit_menu_expandable_section_component_class);DsoEditMenuExpandableSectionComponent=(0,tslib_es6.__decorate)([(0,menu_section_decorator.h)(menu_id_model.z.DSO_EDIT,!0),(0,tslib_es6.__metadata)("design:paramtypes",[menu_section_model.x,menu_service.h,core.zs3,router.F0])],DsoEditMenuExpandableSectionComponent);dso_edit_menu_component.g;const MODULES=[ngx_translate_core.aw,router.Bz,common.ez,ng_bootstrap.HK,ng_bootstrap.XC];class DsoPageModule{}__name(DsoPageModule,"DsoPageModule"),DsoPageModule.\u0275fac=__name(function(t){return new(t||DsoPageModule)},"DsoPageModule_Factory"),DsoPageModule.\u0275mod=core.oAB({type:DsoPageModule}),DsoPageModule.\u0275inj=core.cJS({providers:[],imports:[MODULES]})},91387:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>DsDynamicFormControlContainerComponent,_:()=>dsDynamicFormControlMapFn});var _angular_core__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(86209),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(49417),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(92454),_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45422),_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53700),_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29274),_models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66147),_models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56568),_models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11037),_models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91248),_models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64587),_empty_util__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(59501),_models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6479),_models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79256),_models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64281),_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(7188),_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(78519),_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(23532),_models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(52825),_models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(35070),_models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(72275),_models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6671),_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(57717),_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(99861),_models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(85158),rxjs_operators__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(96846),rxjs__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(93489),_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(70706),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(22930),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(20733),_models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(25280),_models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7085),_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(42313),_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(53829),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(22476),_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(57798),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(20589),_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(38243),_form_service__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(39975),_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(48416),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(58090),_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(92290),_models_relationship_options_model__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(58284),_form_builder_service__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(88286),_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(76368),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(74910),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(98482),_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(61900),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(4330),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(23506),_ngrx_store__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(60857),_angular_common__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(32189),_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(44809);const _c0=["componentViewContainer"],_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(0,"label",11),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(2,"translate")),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("id","label_"+ctx_r0.model.id)("for",ctx_r0.id)("innerHTML",ctx_r0.model.required&&ctx_r0.model.label?_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(1,4,ctx_r0.model.label)+" *":_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(2,6,ctx_r0.model.label),_angular_core__WEBPACK_IMPORTED_MODULE_39__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_39__.WLB(8,_c1,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DsDynamicFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_39__.GkF(0)}function DsDynamicFormControlContainerComponent_small_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(1,"translate")),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(1,2,ctx_r3.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_39__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_div_9_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(0,"div",13)}function DsDynamicFormControlContainerComponent_div_10_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"small",16),_angular_core__WEBPACK_IMPORTED_MODULE_39__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()),2&rf){const message_r11=ctx.$implicit,ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_39__.xi3(2,1,message_r11,ctx_r10.model.validators))}}function DsDynamicFormControlContainerComponent_div_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(1,DsDynamicFormControlContainerComponent_div_10_small_1_Template,3,4,"small",15),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("id",ctx_r5.id+"_errors")("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_39__.WLB(3,_c1,ctx_r5.getClass("element","errors"),ctx_r5.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngForOf",ctx_r5.errorMessages)}}function DsDynamicFormControlContainerComponent_div_11_option_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"option",21),_angular_core__WEBPACK_IMPORTED_MODULE_39__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()),2&rf){const lang_r14=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("value",lang_r14.code),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Oqu(lang_r14.display)}}__name(DsDynamicFormControlContainerComponent_label_1_Template,"DsDynamicFormControlContainerComponent_label_1_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_2_Template,"DsDynamicFormControlContainerComponent_ng_container_2_Template"),__name(DsDynamicFormControlContainerComponent_small_8_Template,"DsDynamicFormControlContainerComponent_small_8_Template"),__name(DsDynamicFormControlContainerComponent_div_9_Template,"DsDynamicFormControlContainerComponent_div_9_Template"),__name(DsDynamicFormControlContainerComponent_div_10_small_1_Template,"DsDynamicFormControlContainerComponent_div_10_small_1_Template"),__name(DsDynamicFormControlContainerComponent_div_10_Template,"DsDynamicFormControlContainerComponent_div_10_Template"),__name(DsDynamicFormControlContainerComponent_div_11_option_3_Template,"DsDynamicFormControlContainerComponent_div_11_option_3_Template");const _c2=__name(function(){return{standalone:!0}},"_c2");function DsDynamicFormControlContainerComponent_div_11_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_39__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"div",17)(1,"select",18,19),_angular_core__WEBPACK_IMPORTED_MODULE_39__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_39__.CHM(_r16);const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_39__.KtG(ctx_r15.model.language=$event)},"DsDynamicFormControlContainerComponent_div_11_Template_select_ngModelChange_1_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_39__.CHM(_r16);const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_39__.KtG(ctx_r17.onBlur($event))},"DsDynamicFormControlContainerComponent_div_11_Template_select_blur_1_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_39__.CHM(_r16);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_39__.KtG(ctx_r18.onChangeLanguage($event))},"DsDynamicFormControlContainerComponent_div_11_Template_select_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(3,DsDynamicFormControlContainerComponent_div_11_option_3_Template,2,2,"option",20),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("disabled",ctx_r6.model.readOnly)("ngModel",ctx_r6.model.language)("ngModelOptions",_angular_core__WEBPACK_IMPORTED_MODULE_39__.DdM(4,_c2)),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngForOf",ctx_r6.model.languageCodes)}}function DsDynamicFormControlContainerComponent_div_12_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_39__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"div",22)(1,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_39__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_39__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw().openLookup(),_angular_core__WEBPACK_IMPORTED_MODULE_39__.KtG($event.stopPropagation())},"DsDynamicFormControlContainerComponent_div_12_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(3,"i",24),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(2,1,"form.lookup-help")))}function DsDynamicFormControlContainerComponent_ng_container_13_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_39__.GkF(0)}function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_39__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"ds-existing-metadata-list-element",27),_angular_core__WEBPACK_IMPORTED_MODULE_39__.NdJ("remove",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_39__.CHM(_r25);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_39__.KtG(ctx_r24.onRemove())},"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template_ds_existing_metadata_list_element_remove_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(1,6,ctx_r21.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(2,8,ctx_r21.item$))("listId",ctx_r21.listId)("metadataFields",ctx_r21.model.metadataFields)("submissionId",ctx_r21.model.submissionId)("relationshipOptions",ctx_r21.model.relationship)}}__name(DsDynamicFormControlContainerComponent_div_11_Template,"DsDynamicFormControlContainerComponent_div_11_Template"),__name(DsDynamicFormControlContainerComponent_div_12_Template,"DsDynamicFormControlContainerComponent_div_12_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_13_Template,"DsDynamicFormControlContainerComponent_ng_container_13_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template");const _c3=__name(function(a0){return{"d-block pb-2 pt-2":a0}},"_c3");function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(0,"ds-existing-relation-list-element",28),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(2,"async")),2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_39__.VKq(11,_c3,!(null!=ctx_r22.context&&ctx_r22.context.index)))("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(1,7,ctx_r22.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(2,9,ctx_r22.item$))("listId",ctx_r22.listId)("metadataFields",ctx_r22.model.metadataFields)("submissionId",ctx_r22.model.submissionId)("relationshipOptions",ctx_r22.model.relationship)}}function DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_39__.ALo(1,"translate")),2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_39__.lcZ(1,2,ctx_r23.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_39__.oJD)("ngClass",ctx_r23.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(1,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,3,10,"ds-existing-metadata-list-element",25),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,3,13,"ds-existing-relation-list-element",26),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(3,DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_39__._UZ(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_39__.BQk()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_39__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",!ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",ctx_r9.hasHint&&(!1===ctx_r9.model.repeatable||(null==ctx_r9.context?null:ctx_r9.context.index)===(null==ctx_r9.context||null==ctx_r9.context.context||null==ctx_r9.context.context.groups?null:ctx_r9.context.context.groups.length)-1)&&(!ctx_r9.showErrorMessages||0===ctx_r9.errorMessages.length))}}__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,"DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_Template,"DsDynamicFormControlContainerComponent_ng_container_14_Template");const _c4=__name(function(a0){return{$implicit:a0}},"_c4"),_c5=__name(function(a0,a1){return{"form-row":a0,"d-none":a1}},"_c5");function dsDynamicFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.i9b:return _models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__.s;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.fSU:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.Gy;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.aTt:return model instanceof _models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__.R?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.P2;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.VId:return model.inline?_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.qz:_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__.u;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.Qam:return _models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__.i;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.X9S:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.Zu;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.e6P:return model instanceof _models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__.s?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.TE;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.Lq6:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.QB;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.Pdh:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.Sb;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.BKB:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_41__.XX;case _models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__.n:return _models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__.r;case _models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__.v:return _models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.D;case _models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__.D:return _models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__.V;case _ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_42__.Q:return _models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__.H;case _models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__.L:return _models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__.H;case _models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__.d:case _models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__.S:return _models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__.G;case _models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__.W:return _models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__.x;case _models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c:return _models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__._;default:return null}}__name(dsDynamicFormControlMapFn,"dsDynamicFormControlMapFn");class DsDynamicFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.wT7{constructor(componentFactoryResolver,dynamicFormComponentService,layoutService,validationService,typeBindRelationService,translateService,relationService,modalService,relationshipService,selectableListService,itemService,zone,store,submissionObjectService,ref,formService,formBuilderService,submissionService,appConfig){super(ref,componentFactoryResolver,layoutService,validationService,dynamicFormComponentService,relationService),this.componentFactoryResolver=componentFactoryResolver,this.dynamicFormComponentService=dynamicFormComponentService,this.layoutService=layoutService,this.validationService=validationService,this.typeBindRelationService=typeBindRelationService,this.translateService=translateService,this.relationService=relationService,this.modalService=modalService,this.relationshipService=relationshipService,this.selectableListService=selectableListService,this.itemService=itemService,this.zone=zone,this.store=store,this.submissionObjectService=submissionObjectService,this.ref=ref,this.formService=formService,this.formBuilderService=formBuilderService,this.submissionService=submissionService,this.appConfig=appConfig,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_39__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_39__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_39__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_39__.vpe,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}get componentType(){return dsDynamicFormControlMapFn(this.model)}ngOnInit(){this.isRelationship=(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.model.relationship);const isWrapperAroundRelationshipList=(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.model.relationshipConfig);if(this.isRelationship||isWrapperAroundRelationshipList){const config=this.model.relationshipConfig||this.model.relationship,relationshipOptions=Object.assign(new _models_relationship_options_model__WEBPACK_IMPORTED_MODULE_44__.u,config);if(this.listId=`list-${this.model.submissionId}-${relationshipOptions.relationshipType}`,this.setItem(),isWrapperAroundRelationshipList||!this.model.repeatable){const subscription=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.sE)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.xI)(list)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.wt)(()=>this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.qn)(1))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.wt)(item=>{const relationshipsRD$=this.relationshipService.getItemRelationshipsByLabel(item,relationshipOptions.relationshipType,void 0,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__.l)("leftItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__.l)("rightItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__.l)("relationshipType"));return relationshipsRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.Gp)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.qP)()).subscribe(relationships=>{relationships.forEach(relationship=>{const relationshipMD=item.firstMetadata(relationshipOptions.metadataField,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`}),nameVariantMD=item.firstMetadata(this.model.metadataFields,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`});(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(relationshipMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(relationshipMD.value)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(nameVariantMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(nameVariantMD.value)&&this.relationshipService.setNameVariant(this.listId,relationshipMD.value,nameVariantMD.value)})}),relationshipsRD$.pipe((0,_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__.Sv)(item.uuid),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.UI)(items=>items.payload.page.map(i=>Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__.T,{indexableObject:i}))))})).subscribe(relatedItems=>this.selectableListService.select(this.listId,relatedItems));this.subs.push(subscription)}if((0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.model.metadataValue)?this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.metadataValue):this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.value),(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.value)&&this.value.isVirtual){const relationship$=this.relationshipService.findById(this.value.virtualValue,!0,!0,...(0,_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_47__.IX)(this.fetchThumbnail)).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.relationshipValue$=(0,rxjs__WEBPACK_IMPORTED_MODULE_48__.combineLatest)([this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.qn)(1)),relationship$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.wt)(([item,relationship])=>relationship.leftItem.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.UI)(leftItem=>new _existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.zw(relationship,leftItem.uuid!==item.uuid,this.store,this.model.submissionId)))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.O4)(void 0))}}}get isCheckbox(){return this.model.type===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.fSU||this.model.type===_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c}ngOnChanges(changes){changes&&!this.isRelationship&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.group.get(this.model.id))&&(super.ngOnChanges(changes),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.pT)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let index;this.context&&this.context instanceof _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.NJD&&(index=this.context.index);const instance=this.dynamicFormComponentService.getFormControlRef(this.model,index);instance&&(instance.formModel=this.formModel,instance.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(this.model.value)&&this.onChange(event2)}hasRelationship(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(this.model.relationship)}isVirtual(){const value=this.model.metadataValue;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(value)&&value.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.UI)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(list)))}openLookup(){this.modalRef=this.modalService.open(_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__.i,{size:"lg"}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.nm_.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.nm_.Change})),this.submissionService.dispatchSave(this.model.submissionId);const modalComp=this.modalRef.componentInstance;(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?modalComp.query=this.model.value:"string"==typeof this.model.value.value&&(modalComp.query=this.model.value.value)),modalComp.repeatable=this.model.repeatable,modalComp.listId=this.listId,modalComp.relationshipOptions=this.model.relationship,modalComp.label=this.model.relationship.relationshipType,modalComp.metadataFields=this.model.metadataFields,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.submissionId=this.model.submissionId}onRemove(){const arrayContext=this.context.context,path=this.formBuilderService.getPath(arrayContext),formArrayControl=this.group.root.get(path);this.formBuilderService.removeFormArrayGroup(this.context.index,formArrayControl,arrayContext),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(formArrayControl,arrayContext)}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}get hasHint(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_43__.UE)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const submissionObject$=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__.l)("item"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_46__.l)("collection")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.item$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.wt)(submissionObject=>submissionObject.item.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));const collection$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_45__.wt)(submissionObject=>submissionObject.collection.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));this.subs.push(this.item$.subscribe(item=>this.item=item)),this.subs.push(collection$.subscribe(collection=>this.collection=collection))}}__name(DsDynamicFormControlContainerComponent,"DsDynamicFormControlContainerComponent"),DsDynamicFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_39__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__.R),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.uTg),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__.U),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__.w),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__.S),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_39__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_51__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__.O),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_39__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_form_service__WEBPACK_IMPORTED_MODULE_32__.o),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_35__.c),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__.b),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Y36(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_37__.q))},"DsDynamicFormControlContainerComponent_Factory"),DsDynamicFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_39__.Xpm({type:DsDynamicFormControlContainerComponent,selectors:[["ds-dynamic-form-control-container"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_39__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_40__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_39__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_39__.CRH())&&(ctx.contentTemplateList=_t)}},"DsDynamicFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_39__.Gf(_c0,7,_angular_core__WEBPACK_IMPORTED_MODULE_39__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_39__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_39__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DsDynamicFormControlContainerComponent_Query"),inputs:{inputTemplateList:["templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_39__.qOj,_angular_core__WEBPACK_IMPORTED_MODULE_39__.TTD],ngContentSelectors:["*"],decls:16,vars:27,consts:[[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange","blur","change"],["language","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","click"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(1,DsDynamicFormControlContainerComponent_label_1_Template,3,11,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_39__.TgZ(3,"div",3)(4,"div",3)(5,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_39__.GkF(6,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(8,DsDynamicFormControlContainerComponent_small_8_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(9,DsDynamicFormControlContainerComponent_div_9_Template,1,0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(10,DsDynamicFormControlContainerComponent_div_10_Template,2,6,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(11,DsDynamicFormControlContainerComponent_div_11_Template,4,5,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(12,DsDynamicFormControlContainerComponent_div_12_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(13,DsDynamicFormControlContainerComponent_ng_container_13_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_39__.YNc(14,DsDynamicFormControlContainerComponent_ng_container_14_Template,5,3,"ng-container",10),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Hsn(15),_angular_core__WEBPACK_IMPORTED_MODULE_39__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_39__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group"))("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_39__.WLB(19,_c1,ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_39__.VKq(22,_c4,ctx.model)),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_39__.WLB(24,_c5,ctx.model.hasLanguages||ctx.isRelationship,(null==ctx.value?null:ctx.value.isVirtual)&&(ctx.model.hasSelectableMetadata||(null==ctx.context?null:ctx.context.index)>0))),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",ctx.hasHint&&(ctx.formBuilderService.hasArrayGroupValue(ctx.model)||!ctx.model.repeatable&&(!1===ctx.isRelationship||null===(null==ctx.value?null:ctx.value.value))||!0===ctx.model.repeatable&&(null==ctx.context?null:ctx.context.index)===(null==ctx.context||null==ctx.context.context||null==ctx.context.context.groups?null:ctx.context.context.groups.length)-1)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",null!==(null==ctx.context?null:ctx.context.index)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",!ctx.model.hideErrorMessages&&ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",ctx.model.languageCodes&&ctx.model.languageCodes.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",ctx.isRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_39__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_39__.Q6J("ngIf",null==ctx.value?null:ctx.value.isVirtual))},"DsDynamicFormControlContainerComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_52__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_52__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_52__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_52__.tP,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.Kr,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.On,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__._L,_angular_forms__WEBPACK_IMPORTED_MODULE_53__.sg,_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.fP,_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_38__.t,_angular_common__WEBPACK_IMPORTED_MODULE_52__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__.X$],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{-webkit-appearance:none;appearance:none}"]})},70706:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>DsDynamicTypeBindRelationService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96846),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49417),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59501),_form_builder_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88286),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74910),_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76368),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86209);class DsDynamicTypeBindRelationService{constructor(dynamicMatchers,dynamicFormRelationService,formBuilderService,injector){this.dynamicMatchers=dynamicMatchers,this.dynamicFormRelationService=dynamicFormRelationService,this.formBuilderService=formBuilderService,this.injector=injector}getTypeBindValue(bindModelValue){let value;return value=(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xI)(bindModelValue)||"string"==typeof bindModelValue?bindModelValue:bindModelValue instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u&&bindModelValue.hasAuthority()?bindModelValue.authority:bindModelValue.value,value}getRelatedFormModel(model){const models=[];return model.typeBindRelations.forEach(relGroup=>relGroup.when.forEach(rel=>{if(model.id===rel.id)throw new Error(`FormControl ${model.id} cannot depend on itself`);const bindModel=this.formBuilderService.getTypeBindModel();model&&!models.some(modelElement=>modelElement===bindModel)&&models.push(bindModel)})),models}matchesCondition(relation,matcher){const operator=relation.operator||_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.F8e;return relation.when.reduce((hasAlreadyMatched,condition,index)=>{const bindModel=this.formBuilderService.getTypeBindModel();let values,bindModelValue=bindModel.value;bindModel.type===_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_4__.Q&&(bindModelValue=bindModel.value.map(entry=>entry[bindModel.mandatoryField])),values=Array.isArray(bindModelValue)?[...bindModelValue.map(entry=>this.getTypeBindValue(entry))]:[this.getTypeBindValue(bindModelValue)];let returnValue=!(bindModel&&relation.match===matcher.match);for(const value of values){if(bindModel&&relation.match===matcher.match){if(index>0&&operator===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.JHc&&!hasAlreadyMatched)return!1;if(index>0&&operator===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.F8e&&hasAlreadyMatched)return!0;if(returnValue=condition.value===value,returnValue)break}if(bindModel&&relation.match===matcher.opposingMatch){if(index>0&&operator===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.JHc&&hasAlreadyMatched)return!0;if(index>0&&operator===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.F8e&&!hasAlreadyMatched)return!1;if(returnValue=condition.value!==value,!returnValue)break}}return returnValue},!1)}subscribeRelations(model,control){const relatedModels=this.getRelatedFormModel(model),subscriptions=[];return Object.values(relatedModels).forEach(relatedModel=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.Uh)(relatedModel)){const initValue=(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xI)(relatedModel.value)||"string"==typeof relatedModel.value||Array.isArray(relatedModel.value)?relatedModel.value:relatedModel.value.value,valueChanges=("CHECKBOX_GROUP"===relatedModel.type?relatedModel.valueUpdates:relatedModel.valueChanges).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.O4)(initValue));subscriptions.push(valueChanges.subscribe(()=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.Uh)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(matcher=>{const relation=this.dynamicFormRelationService.findRelationByMatcher(model.typeBindRelations,matcher);if(void 0!==relation){const hasMatch=this.matchesCondition(relation,matcher);matcher.onChange(hasMatch,model,control,this.injector)}})}))}}),subscriptions}getTypeBindRelations(configuredTypeBindValues){const bindValues=[];return configuredTypeBindValues.forEach(value=>{bindValues.push({id:"dc.type",value})}),[{match:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__._Vz,operator:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.F8e,when:bindValues}]}}__name(DsDynamicTypeBindRelationService,"DsDynamicTypeBindRelationService"),DsDynamicTypeBindRelationService.\u0275fac=__name(function(t){return new(t||DsDynamicTypeBindRelationService)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.yOA,8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.uTg),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_form_builder_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_6__.zs3))},"DsDynamicTypeBindRelationService_Factory"),DsDynamicTypeBindRelationService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Yz7({token:DsDynamicTypeBindRelationService,factory:DsDynamicTypeBindRelationService.\u0275fac})},45422:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{fP:()=>ExistingMetadataListElementComponent,zw:()=>ReorderableRelationship});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96846),_core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(57324),__webpack_require__(10902)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53829),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59501),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20589),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20733),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26934),_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48416),_ngrx_store__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(60857),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(65159),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24442),_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8583),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4330);function ExistingMetadataListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("showMessage",!1))}function ExistingMetadataListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-metadata-representation-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("mdRepresentation",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(2,1,ctx_r1.metadataRepresentation$))}}__name(ExistingMetadataListElementComponent_ng_container_2_Template,"ExistingMetadataListElementComponent_ng_container_2_Template"),__name(ExistingMetadataListElementComponent_ng_container_4_Template,"ExistingMetadataListElementComponent_ng_container_4_Template");class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}__name(Reorderable,"Reorderable");__name(class ReorderableFormFieldMetadataValue extends(null){constructor(metadataValue,model,control,group,oldIndex,newIndex){super(oldIndex,newIndex),this.metadataValue=metadataValue,this.model=model,this.control=control,this.group=group,this.metadataValue=metadataValue}getId(){return hasValue(this.metadataValue.authority)?this.metadataValue.authority:this.metadataValue.value}getPlace(){return this.metadataValue.place}},"ReorderableFormFieldMetadataValue");class ReorderableRelationship extends Reorderable{constructor(relationship,useLeftItem,store,submissionID,oldIndex,newIndex){super(oldIndex,newIndex),this.relationship=relationship,this.useLeftItem=useLeftItem,this.store=store,this.submissionID=submissionID,this.relationship=relationship,this.useLeftItem=useLeftItem}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}__name(ReorderableRelationship,"ReorderableRelationship");class ExistingMetadataListElementComponent{constructor(selectableListService,store,submissionService){this.selectableListService=selectableListService,this.store=store,this.submissionService=submissionService,this.metadataRepresentation$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(void 0),this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_9__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(item.uuid))).subscribe(item=>{this.relatedItem=item;const relationMD=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(relationMD)){const metadataRepresentationMD=this.submissionItem.firstMetadata(this.metadataFields,{authority:relationMD.authority}),nextValue=Object.assign(new _core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__.A(metadataRepresentationMD),this.relatedItem);this.metadataRepresentation$.next(nextValue)}}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(state=>!state.savePending&&!state.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__.T,{indexableObject:this.relatedItem})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__.J9(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingMetadataListElementComponent,"ExistingMetadataListElementComponent"),ExistingMetadataListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingMetadataListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__.w),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__.b))},"ExistingMetadataListElementComponent_Factory"),ExistingMetadataListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:ExistingMetadataListElementComponent,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.TTD],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",0)(1,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,ExistingMetadataListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(4,ExistingMetadataListElementComponent_ng_container_4_Template,3,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingMetadataListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(8,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(3,3,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(5,5,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(7,7,"form.remove")))},"ExistingMetadataListElementComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__.Z,_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__.G,_angular_common__WEBPACK_IMPORTED_MODULE_14__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.X$]})},44809:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>ExistingRelationListElementComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(57324),__webpack_require__(53829)),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(59501),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20589),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20733),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26934),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87878),_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(45422),__webpack_require__(48416)),_ngrx_store__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(60857),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(65159),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24442),_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76038);function ExistingRelationListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showMessage",!1))}function ExistingRelationListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-listable-object-component-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showLabel",!1)("viewMode",ctx_r1.viewType)("object",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,3,ctx_r1.relatedItem$))}}__name(ExistingRelationListElementComponent_ng_container_2_Template,"ExistingRelationListElementComponent_ng_container_2_Template"),__name(ExistingRelationListElementComponent_ng_container_4_Template,"ExistingRelationListElementComponent_ng_container_4_Template");__name(class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}},"Reorderable");class ExistingRelationListElementComponent{constructor(selectableListService,submissionService,store){this.selectableListService=selectableListService,this.submissionService=submissionService,this.store=store,this.relatedItem$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(void 0),this.viewType=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__.w.ListElement,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(item.uuid))).subscribe(item=>{this.relatedItem$.next(item)}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__.T,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__.J9(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingRelationListElementComponent,"ExistingRelationListElementComponent"),ExistingRelationListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingRelationListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__.w),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__.b),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_14__.yh))},"ExistingRelationListElementComponent_Factory"),ExistingRelationListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:ExistingRelationListElementComponent,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.TTD],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","mr-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,ExistingRelationListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,ExistingRelationListElementComponent_ng_container_4_Template,3,5,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingRelationListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(7,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,2,ctx.relatedItem$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,ctx.relatedItem$)))},"ExistingRelationListElementComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.Z,_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__.p,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},72275:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>DsDynamicFormArrayComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49417),_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59501);__webpack_require__(14268);function DsDynamicFormArrayComponent_div_3_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}__name(DsDynamicFormArrayComponent_div_3_ng_container_3_Template,"DsDynamicFormArrayComponent_div_3_ng_container_3_Template");const _c0=__name(function(a0){return[a0]},"_c0"),_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"ds-dynamic-form-control-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("dfBlur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(ctx_r7.onBlur($event))},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(ctx_r9.onChange($event))},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(ctx_r10.onFocus($event))},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(ctx_r11.onCustomEvent($event,null,!0))},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",_model_r6.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("bindId",!1)("formGroup",ctx_r4.group)("formModel",ctx_r4.formModel)("context",groupModel_r1)("group",ctx_r4.control.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.VKq(12,_c0,idx_r2)))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(14,_c1,ctx_r4.getClass("element","host",_model_r6),ctx_r4.getClass("grid","host",_model_r6)))}}function DsDynamicFormArrayComponent_div_3_ng_container_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}function DsDynamicFormArrayComponent_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",4)(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(2,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_ng_container_3_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(4,DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,1,17,"ds-dynamic-form-control-container",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DsDynamicFormArrayComponent_div_3_ng_container_5_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("grey-background",ctx_r0.model.isInlineGroupArray),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(15,_c1,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group")))("cdkDragDisabled",ctx_r0.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}__name(DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template"),__name(DsDynamicFormArrayComponent_div_3_ng_container_5_Template,"DsDynamicFormArrayComponent_div_3_ng_container_5_Template"),__name(DsDynamicFormArrayComponent_div_3_Template,"DsDynamicFormArrayComponent_div_3_Template");class DsDynamicFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe}moveSelection(event2){if(event2.previousIndex===event2.currentIndex)return;this.model.moveGroup(event2.previousIndex,event2.currentIndex-event2.previousIndex);const prevIndex=event2.previousIndex,index=event2.currentIndex;(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.model.groups[index])&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.control.controls[index])&&this.onCustomEvent({previousIndex:prevIndex,index,arrayModel:this.model,model:this.model.groups[index].group[0],control:this.control.controls[index]},"move")}update(event2,index){const $event=Object.assign({},event2,{context:{index:index-1}});this.onChange($event)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}}__name(DsDynamicFormArrayComponent,"DsDynamicFormArrayComponent"),DsDynamicFormArrayComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.fhz))},"DsDynamicFormArrayComponent_Factory"),DsDynamicFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:DsDynamicFormArrayComponent,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:4,vars:7,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"div",1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("cdkDropListDropped",__name(function($event){return ctx.moveSelection($event)},"DsDynamicFormArrayComponent_Template_div_cdkDropListDropped_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_Template,6,18,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("id",ctx.id)("formArrayName",ctx.model.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",ctx.model.groups))},"DsDynamicFormArrayComponent_Template"),styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})},85158:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>CustomSwitchComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86209),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92454),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(99861),__webpack_require__(49417)),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32189);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");class CustomSwitchComponent extends _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Gy{constructor(layoutService,validationService){super(layoutService,validationService),this.bindId=!0,this.selected=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(CustomSwitchComponent,"CustomSwitchComponent"),CustomSwitchComponent.\u0275fac=__name(function(t){return new(t||CustomSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.fhz))},"CustomSwitchComponent_Factory"),CustomSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:CustomSwitchComponent,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:4,vars:20,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"form-check-input","custom-control-input",3,"checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"CustomSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"CustomSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"CustomSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("checked",ctx.model.checked)("id",ctx.id)("formControlName",ctx.model.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("for",ctx.bindId&&ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_2__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.WLB(17,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"CustomSwitchComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.u]})},99861:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH,p:()=>DynamicCustomSwitchModel});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70655),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49417);const DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH="CUSTOM_SWITCH";class DynamicCustomSwitchModel extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.dwp{constructor(config,layout){super(config,layout),this.type=DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH}}__name(DynamicCustomSwitchModel,"DynamicCustomSwitchModel"),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([(0,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.BgY)(),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__metadata)("design:type",String)],DynamicCustomSwitchModel.prototype,"type",void 0)},57717:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>DsDatePickerInlineComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23506),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49417),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32189);function DsDatePickerInlineComponent_i_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"i",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx_r1.model.toggleIcon)}}function DsDatePickerInlineComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}__name(DsDatePickerInlineComponent_i_5_Template,"DsDatePickerInlineComponent_i_5_Template"),__name(DsDatePickerInlineComponent_span_6_Template,"DsDatePickerInlineComponent_span_6_Template");class DsDatePickerInlineComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDatePickerInlineComponent,"DsDatePickerInlineComponent"),DsDatePickerInlineComponent.\u0275fac=__name(function(t){return new(t||DsDatePickerInlineComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DsDatePickerInlineComponent_Factory"),DsDatePickerInlineComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDatePickerInlineComponent,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DsDatePickerInlineComponent_Query"),inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:25,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate","blur","dateSelect","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDatePickerInlineComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_dateSelect_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDatePickerInlineComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(_r0.toggle())},"DsDatePickerInlineComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DsDatePickerInlineComponent_i_5_Template,1,3,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DsDatePickerInlineComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("id",ctx.id)("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.showWeekdays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DsDatePickerInlineComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_3__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.u,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4],encapsulation:2})},25280:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>DsDynamicDisabledComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86209),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49417),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(7085),__webpack_require__(4330));class DsDynamicDisabledComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.modelValuesString="",this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(DsDynamicDisabledComponent,"DsDynamicDisabledComponent"),DsDynamicDisabledComponent.\u0275fac=__name(function(t){return new(t||DsDynamicDisabledComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicDisabledComponent_Factory"),DsDynamicDisabledComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:DsDynamicDisabledComponent,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0)(2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("id",ctx.id)("name",ctx.model.name)("value",ctx.modelValuesString)("disabled",ctx.model.disabled)("type",ctx.model.inputType)("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(4,9,ctx.model.placeholder))("readonly",ctx.model.readOnly))},"DsDynamicDisabledComponent_Template"),dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.X$],encapsulation:2})},33064:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>DsDynamicVocabularyComponent});var _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49417),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96846),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(93489),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61223),_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59501),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74910),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32154),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(14156),__webpack_require__(96906)),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86209);class DsDynamicVocabularyComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.LvC{constructor(vocabularyService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.layoutService=layoutService,this.validationService=validationService}getInitValueFromModel(){let initValue$;if((0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u&&!this.model.value.hasAuthorityToGenerate()){let initEntry$;initEntry$=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),initValue$=initEntry$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(initEntry=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(initEntry)?new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(initEntry.value,null,initEntry.authority,initEntry.display,this.model.value.place,null,initEntry.otherInformation||null):this.model.value))}else initValue$=(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__.j?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value));return initValue$}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}dispatchUpdate(updateValue){this.model.value=updateValue,this.change.emit(updateValue)}updatePageInfo(elementsPerPage,currentPage,totalElements,totalPages){this.pageInfo=Object.assign(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S,{elementsPerPage,currentPage,totalElements,totalPages})}}__name(DsDynamicVocabularyComponent,"DsDynamicVocabularyComponent"),DsDynamicVocabularyComponent.\u0275fac=__name(function(t){return new(t||DsDynamicVocabularyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.fhz))},"DsDynamicVocabularyComponent_Factory"),DsDynamicVocabularyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:DsDynamicVocabularyComponent,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"DsDynamicVocabularyComponent_Template"),encapsulation:2})},35070:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicFormGroupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49417);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"ds-dynamic-form-control-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("dfBlur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r2.onBlur($event))},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r4.onChange($event))},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r5.onFocus($event))},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r6.onCustomEvent($event,null,!0))},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",_model_r1.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx_r0.group)("formModel",ctx_r0.formModel)("group",ctx_r0.control)("hasErrorMessaging",ctx_r0.model.hasErrorMessages)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(11,_c0,ctx_r0.getClass("element","host",_model_r1),ctx_r0.getClass("grid","host",_model_r1)))}}__name(DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template");class DsDynamicFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDynamicFormGroupComponent,"DsDynamicFormGroupComponent"),DsDynamicFormGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicFormGroupComponent_Factory"),DsDynamicFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDynamicFormGroupComponent,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(1,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,1,14,"ds-dynamic-form-control-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DsDynamicFormGroupComponent_Template"),encapsulation:2})},7188:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>DsDynamicListComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(49417),lodash_findKey__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35782),lodash_findKey__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_findKey__WEBPACK_IMPORTED_MODULE_0__),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59501),_form_builder_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88286),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61223),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53829),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96906),_angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(32189);function DsDynamicListComponent_div_1_div_1_div_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",7)(1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r6.onBlur($event))},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_blur_1_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r8.onChange($event))},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_change_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r9.onFocus($event))},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r5=ctx.$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r5.value)("id",item_r5.id)("formControlName",item_r5.id)("name",ctx_r4.model.name)("value",item_r5.value),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("aria-labelledby","label_"+ctx_r4.model.id)("tabindex",item_r5.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r4.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.control)("for",item_r5.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.label)("innerHTML",item_r5.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_div_1_Template,4,13,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r3)}}function DsDynamicListComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r0.id)("formGroupName",ctx_r0.model.id)("ngClass",null==ctx_r0.model.layout.element?null:ctx_r0.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r0.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r0.items)}}function DsDynamicListComponent_div_2_div_1_div_1_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",13)(1,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r14.onBlur($event))},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_blur_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r16.onFocus($event))},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r13=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r13.value)("id",item_r13.id)("name",ctx_r12.model.id)("required",ctx_r12.model.required)("value",item_r13.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r12.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.control)("for",item_r13.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.label)("innerHTML",item_r13.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_2_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_div_1_Template,4,11,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r11)}}function DsDynamicListComponent_div_2_Template(rf,ctx){if(1&rf){const _r18=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r18);const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r17.onChange($event))},"DsDynamicListComponent_div_2_Template_div_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r1.id)("ngClass",null==ctx_r1.model.layout.element?null:ctx_r1.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r1.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r1.items)}}__name(DsDynamicListComponent_div_1_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_Template,"DsDynamicListComponent_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_div_1_Template,"DsDynamicListComponent_div_2_div_1_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_Template,"DsDynamicListComponent_div_2_div_1_Template"),__name(DsDynamicListComponent_div_2_Template,"DsDynamicListComponent_div_2_Template");class DsDynamicListComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.LvC{constructor(vocabularyService,cdr,formBuilderService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.formBuilderService=formBuilderService,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Uh)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}onChange(event2){const target=event2.target;if(this.model.repeatable){const entry=this.optionsList[target.tabIndex];if(target.checked)this.model.valueUpdates.next(entry);else{const newValue=[];this.model.value.filter(item=>item.value!==entry.value).forEach(item=>newValue.push(item)),this.model.valueUpdates.next(newValue)}}else this.model.value=this.optionsList[target.value];this.change.emit(event2)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const listGroup=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&listGroup.addValidators(this.hasAtLeastOneVocabularyEntry());const pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)()).subscribe(entries=>{let groupCounter=0,itemsPerGroup=0,tempList=[];this.optionsList=entries.page,entries.page.forEach((option,key)=>{const value=option.authority||option.value,checked=(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)(lodash_findKey__WEBPACK_IMPORTED_MODULE_0___default()(this.model.value,v=>v.value===option.value)),item={id:`${this.model.id}_${value}`,label:option.display,value:checked,index:key};this.model.repeatable?this.formBuilderService.addFormGroupControl(listGroup,this.model,new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.dwp(item)):this.model.options.push({label:item.label,value:option}),tempList.push(item),itemsPerGroup++,this.items[groupCounter]=tempList,itemsPerGroup===this.model.groupLength&&(groupCounter++,itemsPerGroup=0,tempList=[])}),this.cdr.markForCheck()})}}hasAtLeastOneVocabularyEntry(){return control=>control&&control.value&&Object.values(control.value).find(checked=>!0===checked)?null:this.model.errorMessages}}__name(DsDynamicListComponent,"DsDynamicListComponent"),DsDynamicListComponent.\u0275fac=__name(function(t){return new(t||DsDynamicListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_5__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.fhz))},"DsDynamicListComponent_Factory"),DsDynamicListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:DsDynamicListComponent,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.qOj],decls:3,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked","id","formControlName","name","value","blur","change","focus"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"id","ngClass","change"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"checked","id","name","required","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_Template,2,5,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,DsDynamicListComponent_div_2_Template,2,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",ctx.model.repeatable),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",!ctx.model.repeatable))},"DsDynamicListComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_8__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_8__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.x0]})},52825:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>DsDynamicLookupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96846),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61223),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59501),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96906),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74910),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32154),_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6479),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16733),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53829),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33064),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(49417),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(32189),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(18546),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(23506),_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(75195),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22246),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4330);const _c0=__name(function(){return{}},"_c0");function DsDynamicLookupComponent_div_7_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",17)(1,"input",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r13);const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r12.secondInputValue=$event)},"DsDynamicLookupComponent_div_7_Template_input_ngModelChange_1_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r13);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r14.onChange($event))},"DsDynamicLookupComponent_div_7_Template_input_change_1_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r13);const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return ctx_r15.onBlur($event),$event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_div_7_Template_input_blur_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r13);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return ctx_r16.onFocus($event),$event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_div_7_Template_input_focus_1_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return $event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_div_7_Template_input_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_10__.DdM(14,_c0))("id",ctx_r1.id)("name",ctx_r1.model.name+"_2")("type",ctx_r1.model.inputType)("ngModel",ctx_r1.secondInputValue)("disabled",0===ctx_r1.firstInputValue.length||ctx_r1.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,12,ctx_r1.model.secondPlaceholder))("readonly",ctx_r1.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r1.model.id)("autoComplete",ctx_r1.model.autoComplete)}}function DsDynamicLookupComponent_button_13_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r18.remove())},"DsDynamicLookupComponent_button_13_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(1,3,"form.clear-help")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",ctx_r2.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,5,"form.clear")," ")}}function DsDynamicLookupComponent_button_15_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r20.switchEditMode())},"DsDynamicLookupComponent_button_15_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(1,3,"form.edit-help")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",ctx_r3.isEditDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,5,"form.edit")," ")}}function DsDynamicLookupComponent_button_16_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r23);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r22.saveChanges())},"DsDynamicLookupComponent_button_16_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(1,3,"form.save-help")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!ctx_r4.hasEmptyValue()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,5,"form.save")," ")}}function DsDynamicLookupComponent_button_19_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r25);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return $event.stopPropagation(),ctx_r24.clearFields(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_button_19_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"form.no-results")," "))}__name(DsDynamicLookupComponent_div_7_Template,"DsDynamicLookupComponent_div_7_Template"),__name(DsDynamicLookupComponent_button_13_Template,"DsDynamicLookupComponent_button_13_Template"),__name(DsDynamicLookupComponent_button_15_Template,"DsDynamicLookupComponent_button_15_Template"),__name(DsDynamicLookupComponent_button_16_Template,"DsDynamicLookupComponent_button_16_Template"),__name(DsDynamicLookupComponent_button_19_Template,"DsDynamicLookupComponent_button_19_Template");const _c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicLookupComponent_button_20_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){const listEntry_r26=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28).$implicit,ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return $event.stopPropagation(),ctx_r27.onSelect(listEntry_r26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_button_20_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.GkF(1,22),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const listEntry_r26=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(23),_r10=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(25);_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("title",listEntry_r26.display),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngTemplateOutlet",listEntry_r26.hasOtherInformation()?_r8:_r10)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_10__.VKq(3,_c1,listEntry_r26))}}function DsDynamicLookupComponent_div_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",23)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,1,"form.loading")))}function DsDynamicLookupComponent_ng_template_22_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"li",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const item_r31=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,2,"form.other-information."+item_r31.key)," : ",item_r31.value," ")}}function DsDynamicLookupComponent_ng_template_22_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicLookupComponent_ng_template_22_li_3_Template,3,4,"li",26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const entry_r29=ctx.entry,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r9.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r29.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,3,entry_r29.otherInformation))}}function DsDynamicLookupComponent_ng_template_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const entry_r32=ctx.entry,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r11.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r32.value)}}__name(DsDynamicLookupComponent_button_20_Template,"DsDynamicLookupComponent_button_20_Template"),__name(DsDynamicLookupComponent_div_21_Template,"DsDynamicLookupComponent_div_21_Template"),__name(DsDynamicLookupComponent_ng_template_22_li_3_Template,"DsDynamicLookupComponent_ng_template_22_li_3_Template"),__name(DsDynamicLookupComponent_ng_template_22_Template,"DsDynamicLookupComponent_ng_template_22_Template"),__name(DsDynamicLookupComponent_ng_template_24_Template,"DsDynamicLookupComponent_ng_template_24_Template");class DsDynamicLookupComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(x,y)=>1===y?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(value=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(value)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof _dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__.z}isSearchDisabled(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(this.firstInputValue)||this.editMode}onChange(event2){if(event2.preventDefault(),!this.model.vocabularyOptions.closed)if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.getCurrentValue())){const currentValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(this.getCurrentValue());this.editMode||this.updateModel(currentValue)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(event2){this.updateModel(event2)}openChange(isOpened){isOpened||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.getCurrentValue())){const newValue=Object.assign(new _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(newValue)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_13__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)()).subscribe(list=>{this.optionsList=list.page,this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(sdRef,confidence){this.model.readOnly||(sdRef.open(),this.search())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}setCurrentValue(value,init=!1){init?this.getInitValueFromModel().subscribe(formValue=>this.setDisplayInputValue(formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(value)&&(value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u||value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j)&&this.setDisplayInputValue(value.display)}setDisplayInputValue(displayValue){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(displayValue)){if(this.isLookupName()){const values=displayValue.split(this.model.separator);this.firstInputValue=(values[0]||"").trim(),this.secondInputValue=(values[1]||"").trim()}else this.firstInputValue=displayValue||"";this.cdr.detectChanges()}}getCurrentValue(){let result="";return this.isLookupName()?((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.firstInputValue)&&(result=this.firstInputValue),(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(this.secondInputValue)&&(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(result)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):result=this.firstInputValue,result}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(value){this.group.markAsDirty(),this.dispatchUpdate(value),this.setCurrentValue(value),this.optionsList=null,this.pageInfo=null}}__name(DsDynamicLookupComponent,"DsDynamicLookupComponent"),DsDynamicLookupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicLookupComponent_Factory"),DsDynamicLookupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicLookupComponent,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:26,vars:33,consts:[["ngbDropdown","",3,"click","openChange"],["sdRef","ngbDropdown"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"form-control",3,"id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","hidden","click"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["hasInfo",""],["noInfo",""],[1,"col"],[1,"form-control",3,"ngClass","id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","click"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"title","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:__name(function(rf,ctx){if(1&rf){const _r33=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){return $event.stopPropagation()},"DsDynamicLookupComponent_Template_div_click_0_listener"))("openChange",__name(function($event){return ctx.openChange($event)},"DsDynamicLookupComponent_Template_div_openChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"div",2)(3,"div",3)(4,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx.whenClickOnConfidenceNotAccepted(_r0,$event))},"DsDynamicLookupComponent_Template_i_whenClickOnConfidenceNotAccepted_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){return ctx.firstInputValue=$event},"DsDynamicLookupComponent_Template_input_ngModelChange_5_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDynamicLookupComponent_Template_input_change_5_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return ctx.onBlur($event),$event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_Template_input_blur_5_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return ctx.onFocus($event),$event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_Template_input_focus_5_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);return $event.stopPropagation(),$event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(_r0.close())},"DsDynamicLookupComponent_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(7,DsDynamicLookupComponent_div_7_Template,3,15,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(8,"div",7)(9,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r33),_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1).open(),ctx.search(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG($event.stopPropagation())},"DsDynamicLookupComponent_Template_button_click_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(13,DsDynamicLookupComponent_button_13_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(14,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(15,DsDynamicLookupComponent_button_15_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(16,DsDynamicLookupComponent_button_16_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(17,"div",10)(18,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicLookupComponent_Template_div_scrolled_18_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(19,DsDynamicLookupComponent_button_19_Template,3,3,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(20,DsDynamicLookupComponent_button_20_Template,2,5,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(21,DsDynamicLookupComponent_div_21_Template,4,3,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(22,DsDynamicLookupComponent_ng_template_22_Template,5,5,"ng-template",null,15,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(24,DsDynamicLookupComponent_ng_template_24_Template,3,2,"ng-template",null,16,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O)}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("authorityValue",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx.model.id)("name",ctx.model.name)("type",ctx.model.inputType)("ngModel",ctx.firstInputValue)("disabled",ctx.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,27,ctx.model.placeholder))("readonly",ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx.model.id)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.isLookupName()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(10,29,"form.search-help")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",ctx.model.readOnly||ctx.isSearchDisabled())("hidden",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(12,31,"form.search")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.loading))},"DsDynamicLookupComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_15__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_15__.tP,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.On,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_17__.Ry,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__.YE,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__.Vi,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__._L,_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__.C,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;overflow-y:auto!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})},78519:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>DsDynamicOneboxComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96846),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(93489),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61223),_empty_util__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(53700),__webpack_require__(59501)),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74910),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53829),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16733),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96906),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33064),_vocabulary_treeview_modal_vocabulary_treeview_modal_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22953),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(49417),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32189),_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(75195),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22246),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(4330);const _c0=["instance"],_c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicOneboxComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GkF(0,4),2&rf){const listEntry_r8=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(3),_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngTemplateOutlet",listEntry_r8.hasOtherInformation()?_r2:_r4)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_10__.VKq(2,_c1,listEntry_r8))}}function DsDynamicOneboxComponent_ng_template_2_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"li",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const item_r12=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,2,"form.other-information."+item_r12.key)," : ",item_r12.value," ")}}function DsDynamicOneboxComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicOneboxComponent_ng_template_2_li_3_Template,3,4,"li",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const entry_r10=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r10.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,2,entry_r10.otherInformation))}}function DsDynamicOneboxComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const entry_r13=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r13.value)}}function DsDynamicOneboxComponent_div_6_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"i",15)}function DsDynamicOneboxComponent_div_6_i_2_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r18.whenClickOnConfidenceNotAccepted($event))},"DsDynamicOneboxComponent_div_6_i_2_Template_i_whenClickOnConfidenceNotAccepted_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("authorityValue",ctx_r15.currentValue)}}function DsDynamicOneboxComponent_div_6_div_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1,"Sorry, suggestions could not be loaded."),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA())}function DsDynamicOneboxComponent_div_6_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,DsDynamicOneboxComponent_div_6_i_1_Template,1,0,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_div_6_i_2_Template,1,1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"input",12,13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r20.currentValue=$event)},"DsDynamicOneboxComponent_div_6_Template_input_ngModelChange_3_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r22.onBlur($event))},"DsDynamicOneboxComponent_div_6_Template_input_blur_3_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r23.onFocus($event))},"DsDynamicOneboxComponent_div_6_Template_input_focus_3_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r24.onChange($event))},"DsDynamicOneboxComponent_div_6_Template_input_change_3_listener"))("input",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r25=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r25.onInput($event))},"DsDynamicOneboxComponent_div_6_Template_input_input_3_listener"))("selectItem",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);const ctx_r26=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r26.onSelectItem($event))},"DsDynamicOneboxComponent_div_6_Template_input_selectItem_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(5,DsDynamicOneboxComponent_div_6_div_5_Template,2,0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r6.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r6.model.id)("inputFormatter",ctx_r6.formatter)("name",ctx_r6.model.name)("ngbTypeahead",ctx_r6.search)("placeholder",ctx_r6.model.placeholder)("readonly",ctx_r6.model.readOnly)("disabled",ctx_r6.model.readOnly)("resultTemplate",_r0)("type",ctx_r6.model.inputType)("ngModel",ctx_r6.currentValue),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r6.model.id)("autoComplete",ctx_r6.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searchFailed)}}function DsDynamicOneboxComponent_div_8_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9)(1,"i",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28);const ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r27.openTree($event))},"DsDynamicOneboxComponent_div_8_Template_i_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28);const ctx_r29=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r29.onFocus($event))},"DsDynamicOneboxComponent_div_8_Template_input_focus_2_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28);const ctx_r30=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r30.onChange($event))},"DsDynamicOneboxComponent_div_8_Template_input_change_2_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28);const ctx_r31=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r31.openTree($event))},"DsDynamicOneboxComponent_div_8_Template_input_click_2_listener"))("keydown",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keydown_2_listener"))("keypress",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keypress_2_listener"))("keyup",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r7.showErrorMessages)("tree-input",!ctx_r7.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r7.id)("name",ctx_r7.model.name)("placeholder",ctx_r7.model.placeholder)("readonly",!0)("disabled",ctx_r7.model.readOnly)("type",ctx_r7.model.inputType)("value",null==ctx_r7.currentValue?null:ctx_r7.currentValue.display),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r7.model.id)("autoComplete",ctx_r7.model.autoComplete)}}__name(DsDynamicOneboxComponent_ng_template_0_Template,"DsDynamicOneboxComponent_ng_template_0_Template"),__name(DsDynamicOneboxComponent_ng_template_2_li_3_Template,"DsDynamicOneboxComponent_ng_template_2_li_3_Template"),__name(DsDynamicOneboxComponent_ng_template_2_Template,"DsDynamicOneboxComponent_ng_template_2_Template"),__name(DsDynamicOneboxComponent_ng_template_4_Template,"DsDynamicOneboxComponent_ng_template_4_Template"),__name(DsDynamicOneboxComponent_div_6_i_1_Template,"DsDynamicOneboxComponent_div_6_i_1_Template"),__name(DsDynamicOneboxComponent_div_6_i_2_Template,"DsDynamicOneboxComponent_div_6_i_2_Template"),__name(DsDynamicOneboxComponent_div_6_div_5_Template,"DsDynamicOneboxComponent_div_6_div_5_Template"),__name(DsDynamicOneboxComponent_div_6_Template,"DsDynamicOneboxComponent_div_6_Template"),__name(DsDynamicOneboxComponent_div_8_Template,"DsDynamicOneboxComponent_div_8_Template");class DsDynamicOneboxComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__.m{constructor(vocabularyService,cdr,layoutService,modalService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.modalService=modalService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.click$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject,this.subs=[],this.formatter=x=>"object"==typeof x?x.display:x,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.click$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(result=>result.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(value=>this.currentValue!==value)).subscribe(value=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(event2){!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(event2.target.value)&&(this.inputValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(event2.target.value))}onBlur(event2){this.instance.isPopupOpen()?(event2.preventDefault(),event2.stopImmediatePropagation(),event2.target.focus()):(!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(this.inputValue)&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.K0)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(event2))}onChange(event2){event2.stopPropagation(),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(event2){this.inputValue=null,this.setCurrentValue(event2.item),this.dispatchUpdate(event2.item)}openTree(event2){this.model.readOnly||(event2.preventDefault(),event2.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(vocabulary=>vocabulary.preloadLevel),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(preloadLevel=>{const modalRef=this.modalService.open(_vocabulary_treeview_modal_vocabulary_treeview_modal_component__WEBPACK_IMPORTED_MODULE_7__.L,{size:"lg",windowClass:"treeview"});modalRef.componentInstance.vocabularyOptions=this.model.vocabularyOptions,modalRef.componentInstance.preloadLevel=preloadLevel,modalRef.componentInstance.selectedItems=this.currentValue?[this.currentValue.value]:[],modalRef.result.then(result=>{result&&(this.currentValue=result,this.dispatchUpdate(result))},()=>{})})))}whenClickOnConfidenceNotAccepted(confidence){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(value,init=!1){let result;init?this.getInitValueFromModel().subscribe(formValue=>{this.currentValue=formValue,this.cdr.detectChanges()}):(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(value)?"":value.value,this.currentValue=result,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(DsDynamicOneboxComponent,"DsDynamicOneboxComponent"),DsDynamicOneboxComponent.\u0275fac=__name(function(t){return new(t||DsDynamicOneboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicOneboxComponent_Factory"),DsDynamicOneboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicOneboxComponent,selectors:[["ds-dynamic-onebox"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicOneboxComponent_Query"),inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel","ngModelChange","blur","focus","change","input","selectItem"],["instance","ngbTypeahead"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"id","name","placeholder","readonly","disabled","type","value","focus","change","click","keydown","keypress","keyup"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,DsDynamicOneboxComponent_ng_template_0_Template,1,4,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_ng_template_2_Template,5,4,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,DsDynamicOneboxComponent_ng_template_4_Template,3,1,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(6,DsDynamicOneboxComponent_div_6_Template,6,17,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,DsDynamicOneboxComponent_div_8_Template,3,13,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(9,"async")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(7,2,ctx.isHierarchicalVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(9,4,ctx.isHierarchicalVocabulary())))},"DsDynamicOneboxComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_16__.tP,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.dR,_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_angular_common__WEBPACK_IMPORTED_MODULE_16__.Ov,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__.C,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;overflow-y:auto!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},6671:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>DsDynamicRelationGroupComponent});var core=__webpack_require__(86209),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),fesm2020_core=__webpack_require__(49417),isEqual=__webpack_require__(86436),isEqual_default=__webpack_require__.n(isEqual),isObject=__webpack_require__(83650),isObject_default=__webpack_require__.n(isObject),form_builder_service=(__webpack_require__(25161),__webpack_require__(88286)),form_service=__webpack_require__(39975),form_component=__webpack_require__(23593),chips_model=__webpack_require__(36133),empty_util=__webpack_require__(59501),animations=__webpack_require__(274);const shrinkInOut=(0,animations.X$)("shrinkInOut",[(0,animations.SB)("in",(0,animations.oB)({height:"100%",opacity:1})),(0,animations.eR)("* => void",[(0,animations.oB)({height:"!",opacity:1}),(0,animations.jt)(200,(0,animations.oB)({height:0,opacity:0}))]),(0,animations.eR)("void => *",[(0,animations.oB)({height:0,opacity:0}),(0,animations.jt)(200,(0,animations.oB)({height:"*",opacity:1}))])]);var object_util=__webpack_require__(11765),vocabulary_service=__webpack_require__(61223),form_field_metadata_value_model=__webpack_require__(74910),environment=__webpack_require__(91602),ds_dynamic_form_constants=__webpack_require__(76368),shared_operators=__webpack_require__(53829),common=__webpack_require__(65159),ng_bootstrap=__webpack_require__(23506),themed_loading_component=__webpack_require__(24442),chips_component=__webpack_require__(48801),ngx_translate_core=__webpack_require__(4330);const _c0=["formRef"];function DsDynamicRelationGroupComponent_a_0_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",8),core.NdJ("click",__name(function(){core.CHM(_r7);const ctx_r6=core.oxw();return core.KtG(ctx_r6.collapseForm())},"DsDynamicRelationGroupComponent_a_0_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-collapse-help"))}function DsDynamicRelationGroupComponent_a_2_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",9),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw();return core.KtG(ctx_r8.expandForm())},"DsDynamicRelationGroupComponent_a_2_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-expand-help"))}function DsDynamicRelationGroupComponent_div_5_div_3_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"div",15)(1,"button",16),core.NdJ("click",__name(function(){core.CHM(_r13);const ctx_r12=core.oxw(2);return core.KtG(ctx_r12.save())},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_1_listener")),core._UZ(2,"i",17),core.qZA(),core.TgZ(3,"button",16),core.NdJ("click",__name(function(){core.CHM(_r13);const ctx_r14=core.oxw(2);return core.KtG(ctx_r14.delete())},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_3_listener")),core._UZ(4,"i",18),core.qZA(),core.TgZ(5,"button",16),core.NdJ("click",__name(function(){core.CHM(_r13);const ctx_r15=core.oxw(2);return core.KtG(ctx_r15.clear())},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_5_listener")),core._UZ(6,"i",19),core.qZA()()}if(2&rf){const ctx_r11=core.oxw(2);core.xp6(1),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty()),core.xp6(2),core.Q6J("disabled",!ctx_r11.editMode),core.xp6(2),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty())}}function DsDynamicRelationGroupComponent_div_5_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"div",10)(1,"ds-form",11,12),core.NdJ("dfBlur",__name(function($event){core.CHM(_r17);const ctx_r16=core.oxw();return core.KtG(ctx_r16.onBlur($event))},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfBlur_1_listener"))("dfFocus",__name(function($event){core.CHM(_r17);const ctx_r18=core.oxw();return core.KtG(ctx_r18.onFocus($event))},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfFocus_1_listener")),core.qZA(),core.YNc(3,DsDynamicRelationGroupComponent_div_5_div_3_Template,7,3,"div",13),core.ALo(4,"async"),core._UZ(5,"div",14),core.qZA()}if(2&rf){const ctx_r2=core.oxw();core.Q6J("@shrinkInOut",void 0),core.xp6(1),core.Q6J("formId",ctx_r2.formId)("formModel",ctx_r2.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),core.xp6(2),core.Q6J("ngIf",!core.lcZ(4,7,ctx_r2.formCollapsed))}}function DsDynamicRelationGroupComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",20),2&rf&&core.Q6J("showMessage",!1)}function DsDynamicRelationGroupComponent_div_9_Template(rf,ctx){1&rf&&(core.TgZ(0,"div"),core._UZ(1,"input",21),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.s9C("value",core.lcZ(2,1,"form.no-value")))}function DsDynamicRelationGroupComponent_ds_chips_10_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"ds-chips",22),core.NdJ("selected",__name(function($event){core.CHM(_r20);const ctx_r19=core.oxw();return core.KtG(ctx_r19.onChipSelected($event))},"DsDynamicRelationGroupComponent_ds_chips_10_Template_ds_chips_selected_0_listener")),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("chips",ctx_r5.chips)("editable",!0)("showIcons",!0)}}__name(DsDynamicRelationGroupComponent_a_0_Template,"DsDynamicRelationGroupComponent_a_0_Template"),__name(DsDynamicRelationGroupComponent_a_2_Template,"DsDynamicRelationGroupComponent_a_2_Template"),__name(DsDynamicRelationGroupComponent_div_5_div_3_Template,"DsDynamicRelationGroupComponent_div_5_div_3_Template"),__name(DsDynamicRelationGroupComponent_div_5_Template,"DsDynamicRelationGroupComponent_div_5_Template"),__name(DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,"DsDynamicRelationGroupComponent_ds_themed_loading_8_Template"),__name(DsDynamicRelationGroupComponent_div_9_Template,"DsDynamicRelationGroupComponent_div_9_Template"),__name(DsDynamicRelationGroupComponent_ds_chips_10_Template,"DsDynamicRelationGroupComponent_ds_chips_10_Template");const _c1=__name(function(a0,a1){return{"border-top":a0,"border border-danger":a1}},"_c1");class DsDynamicRelationGroupComponent extends fesm2020_core.LvC{constructor(vocabularyService,formBuilderService,formService,cdr,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.formBuilderService=formBuilderService,this.formService=formService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.formCollapsed=(0,cjs.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const config={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0)),this.model.valueChanges.subscribe(value=>{!(0,empty_util.UE)(value)||1===value.length&&(0,object_util.OG)(value[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,config,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let res=!0;return this.formModel.forEach(row=>{row.group.forEach(model=>{model.name!==this.model.mandatoryField||(res=null==model.value)})}),res}onBlur(event2){this.blur.emit()}onChipSelected(event2){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(event2),this.formModel.forEach(row=>{row.group.forEach(model=>{const value=this.selectedChipItem.item[model.name]===ds_dynamic_form_constants.n||this.selectedChipItem.item[model.name].value===ds_dynamic_form_constants.n?null:this.selectedChipItem.item[model.name],nextValue=this.formBuilderService.isInputModel(model)&&(0,empty_util.K0)(value)&&"string"!=typeof value?value.value:value;model.value=nextValue})}),this.editMode=!0}onFocus(event2){this.focus.emit(event2)}collapseForm(){this.formCollapsed=(0,cjs.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,cjs.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.add(item),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.update(this.selectedChipItem.id,item),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const item=Object.create({});return this.formModel.forEach(row=>{row.group.forEach(control=>{item[control.name]=control.value||ds_dynamic_form_constants.n})}),item}initChipsFromModelValue(){let initChipsValue$;this.model.isEmpty()?this.initChips([]):(initChipsValue$=(0,cjs.of)(this.model.value),this.subs.push(initChipsValue$.pipe((0,operators.zg)(valueModel=>{const returnList=[];return valueModel.forEach(valueObj=>{const returnObj=Object.keys(valueObj).map(fieldName=>{let return$;if(isObject_default()(valueObj[fieldName])&&valueObj[fieldName].hasAuthority()&&(0,empty_util.UE)(valueObj[fieldName].authority)){const fieldId=fieldName.replace(/\./g,"_"),model=this.formBuilderService.findById(fieldId,this.formModel);return$=this.vocabularyService.findEntryDetailById(valueObj[fieldName].authority,model.vocabularyOptions.name).pipe((0,shared_operators.Gp)(),(0,operators.UI)(entryDetail=>Object.assign(new form_field_metadata_value_model.u,valueObj[fieldName],{otherInformation:entryDetail.otherInformation})))}else return$=(0,cjs.of)(valueObj[fieldName]);return return$.pipe((0,operators.UI)(entry=>({[fieldName]:entry})))});returnList.push((0,cjs.combineLatest)(returnObj))}),returnList}),(0,operators.zg)((valueListObj,index)=>valueListObj.pipe((0,operators.UI)(valueObj=>({index,value:valueObj.reduce((acc,value)=>Object.assign({},acc,value))})))),(0,operators.Rp)((acc,valueObj)=>(0===acc.length?acc.push(valueObj.value):acc.splice(valueObj.index,0,valueObj.value),acc),[]),(0,operators.hX)(modelValues=>this.model.value.length===modelValues.length)).subscribe(modelValue=>{this.model.value=modelValue,this.initChips(modelValue),this.cdr.markForCheck()})))}initChips(initChipsValue){this.chips=new chips_model.c(initChipsValue,"value",this.model.mandatoryField,environment.N.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const items=this.chips.getChipsItems();isEqual_default()(items,this.model.value)||(0,empty_util.xb)(items)&&this.model.isEmpty()||(this.model.value=items,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}}__name(DsDynamicRelationGroupComponent,"DsDynamicRelationGroupComponent"),DsDynamicRelationGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicRelationGroupComponent)(core.Y36(vocabulary_service.c),core.Y36(form_builder_service.c),core.Y36(form_service.o),core.Y36(core.sBO),core.Y36(fesm2020_core.vnf),core.Y36(fesm2020_core.fhz))},"DsDynamicRelationGroupComponent_Factory"),DsDynamicRelationGroupComponent.\u0275cmp=core.Xpm({type:DsDynamicRelationGroupComponent,selectors:[["ds-dynamic-relation-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"DsDynamicRelationGroupComponent_Query"),inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[core.qOj],decls:11,vars:16,consts:[["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"formId","formModel","displaySubmit","displayCancel","emitChange","dfBlur","dfFocus"],["formRef","formComponent"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"chips","editable","showIcons","selected"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,DsDynamicRelationGroupComponent_a_0_Template,3,3,"a",0),core.ALo(1,"async"),core.YNc(2,DsDynamicRelationGroupComponent_a_2_Template,3,3,"a",0),core.ALo(3,"async"),core.TgZ(4,"div",1),core.YNc(5,DsDynamicRelationGroupComponent_div_5_Template,6,9,"div",2),core.ALo(6,"async"),core.TgZ(7,"div",3),core.YNc(8,DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,1,1,"ds-themed-loading",4),core.YNc(9,DsDynamicRelationGroupComponent_div_9_Template,3,3,"div",5),core.YNc(10,DsDynamicRelationGroupComponent_ds_chips_10_Template,1,3,"ds-chips",6),core.qZA()()),2&rf&&(core.Q6J("ngIf",!core.lcZ(1,7,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngIf",core.lcZ(3,9,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngClass",core.WLB(13,_c1,!ctx.showErrorMessages,ctx.showErrorMessages)),core.xp6(1),core.Q6J("ngIf",!core.lcZ(6,11,ctx.formCollapsed)),core.xp6(3),core.Q6J("ngIf",!ctx.chips),core.xp6(1),core.Q6J("ngIf",ctx.chips&&!ctx.chips.hasItems()),core.xp6(1),core.Q6J("ngIf",ctx.chips&&ctx.chips.hasItems()))},"DsDynamicRelationGroupComponent_Template"),dependencies:[common.mk,common.O5,ng_bootstrap._L,themed_loading_component.Z,form_component.U,chips_component.k,common.Ov,ngx_translate_core.X$],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[shrinkInOut]}})},23532:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DsDynamicScrollableDropdownComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96846),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(29274),__webpack_require__(96906)),_empty_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(59501),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61223),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53829),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16733),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(33064),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(49417),_angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(65159),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(18546),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4330);function DsDynamicScrollableDropdownComponent_i_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(0,"i",11)}function DsDynamicScrollableDropdownComponent_i_4_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(0,"i",12)}function DsDynamicScrollableDropdownComponent_button_9_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(2,1,"form.no-results")))}function DsDynamicScrollableDropdownComponent_button_10_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"button",14),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("keydown.enter",__name(function(){const listEntry_r6=_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r8).$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.MAs(1);return ctx_r7.onSelect(listEntry_r6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(_r0.close())},"DsDynamicScrollableDropdownComponent_button_10_Template_button_keydown_enter_0_listener"))("mousedown",__name(function(){const listEntry_r6=_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r8).$implicit,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.MAs(1);return ctx_r9.onSelect(listEntry_r6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(_r0.close())},"DsDynamicScrollableDropdownComponent_button_10_Template_button_mousedown_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}if(2&rf){const listEntry_r6=ctx.$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_6__.s9C("title",listEntry_r6.display),_angular_core__WEBPACK_IMPORTED_MODULE_6__.uIk("id",listEntry_r6.display==_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,3,ctx_r4.currentValue)?"combobox_"+ctx_r4.id+"_selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",ctx_r4.inputFormatter(listEntry_r6)," ")}}function DsDynamicScrollableDropdownComponent_div_11_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"div",15)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(3,1,"form.loading")))}__name(DsDynamicScrollableDropdownComponent_i_3_Template,"DsDynamicScrollableDropdownComponent_i_3_Template"),__name(DsDynamicScrollableDropdownComponent_i_4_Template,"DsDynamicScrollableDropdownComponent_i_4_Template"),__name(DsDynamicScrollableDropdownComponent_button_9_Template,"DsDynamicScrollableDropdownComponent_button_9_Template"),__name(DsDynamicScrollableDropdownComponent_button_10_Template,"DsDynamicScrollableDropdownComponent_button_10_Template"),__name(DsDynamicScrollableDropdownComponent_div_11_Template,"DsDynamicScrollableDropdownComponent_div_11_Template");class DsDynamicScrollableDropdownComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe,this.loading=!1,this.inputFormatter=x=>x.display||x.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[])))).subscribe(list=>{this.optionsList=list.page,this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}),this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.xb)()).subscribe(value=>{this.setCurrentValue(value)})}openDropdown(sdRef){this.model.readOnly||(this.group.markAsUntouched(),sdRef.open())}selectOnKeyDown(event2,sdRef){const keyName=event2.key;" "===keyName||"Enter"===keyName?(event2.preventDefault(),event2.stopPropagation(),sdRef.toggle()):("ArrowDown"===keyName||"ArrowUp"===keyName)&&this.openDropdown(sdRef)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.bw)(()=>this.loading=!1)).subscribe(list=>{this.optionsList=this.optionsList.concat(list.page),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(event2){this.group.markAsDirty(),this.dispatchUpdate(event2),this.setCurrentValue(event2)}setCurrentValue(value,init=!1){let result;result=init?this.getInitValueFromModel().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(formValue=>formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_9__.xb)(value)?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(""):"string"==typeof value?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(value):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(value.display),this.currentValue=result}}__name(DsDynamicScrollableDropdownComponent,"DsDynamicScrollableDropdownComponent"),DsDynamicScrollableDropdownComponent.\u0275fac=__name(function(t){return new(t||DsDynamicScrollableDropdownComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_6__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_10__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_10__.fhz))},"DsDynamicScrollableDropdownComponent_Factory"),DsDynamicScrollableDropdownComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:DsDynamicScrollableDropdownComponent,selectors:[["ds-dynamic-scrollable-dropdown"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.qOj],decls:12,vars:29,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["sdRef","ngbDropdown"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"id","name","readonly","disabled","type","value","blur","click","focus","keydown"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item collection-item text-truncate","role","option",3,"title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"title","keydown.enter","mousedown"],[1,"scrollable-dropdown-loading","text-center"]],template:__name(function(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"div",0,1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(3,DsDynamicScrollableDropdownComponent_i_3_Template,1,0,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(4,DsDynamicScrollableDropdownComponent_i_4_Template,1,0,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(5,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDynamicScrollableDropdownComponent_Template_input_blur_5_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r10);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.MAs(1);return $event.stopPropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx.openDropdown(_r0))},"DsDynamicScrollableDropdownComponent_Template_input_click_5_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDynamicScrollableDropdownComponent_Template_input_focus_5_listener"))("keydown",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r10);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx.selectOnKeyDown($event,_r0))},"DsDynamicScrollableDropdownComponent_Template_input_keydown_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(7,"div",6)(8,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicScrollableDropdownComponent_Template_div_scrolled_8_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(9,DsDynamicScrollableDropdownComponent_button_9_Template,3,3,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(10,DsDynamicScrollableDropdownComponent_button_10_Template,3,5,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(11,DsDynamicScrollableDropdownComponent_div_11_Template,4,3,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.uIk("aria-label",ctx.model.label)("aria-owns","combobox_"+ctx.id+"_listbox"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",!ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ekj("is-invalid",ctx.showErrorMessages)("scrollable-dropdown-input",!ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("id",ctx.id)("name",ctx.model.name)("readonly",!0)("disabled",ctx.model.readOnly)("type",ctx.model.inputType)("value",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(6,27,ctx.currentValue)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.uIk("aria-controls","combobox_"+ctx.id+"_listbox")("aria-activedescendant","combobox_"+ctx.id+"_selected")("aria-label",ctx.model.placeholder)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("id","combobox_"+ctx.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.loading))},"DsDynamicScrollableDropdownComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_11__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_11__.O5,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_12__.Ry,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_13__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_13__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_13__.Vi,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{height:calc(var(--bs-spacer) * 2)!important}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important}.scrollable-dropdown-menu[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})},79256:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>DsDynamicTagComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(96846),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86436),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61223),_chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(66147),__webpack_require__(36133)),_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(59501),_environments_environment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91602),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53829),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16733),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(32154),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(96906),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(33064),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(49417),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32189),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(23506),_chips_chips_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(48801);const _c0=["instance"];function DsDynamicTagComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(0),2&rf){const r_r4=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij(" ",r_r4.display,"\n")}}function DsDynamicTagComponent_input_3_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r6.currentValue=$event)},"DsDynamicTagComponent_input_3_Template_input_ngModelChange_0_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r8.onBlur($event))},"DsDynamicTagComponent_input_3_Template_input_blur_0_listener"))("keypress",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r9.preventEventsPropagation($event))},"DsDynamicTagComponent_input_3_Template_input_keypress_0_listener"))("keydown",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r10.preventEventsPropagation($event))},"DsDynamicTagComponent_input_3_Template_input_keydown_0_listener"))("keyup",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r11.onKeyUp($event))},"DsDynamicTagComponent_input_3_Template_input_keyup_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("pl-3",ctx_r2.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("placeholder",ctx_r2.model.placeholder)("readonly",ctx_r2.model.readOnly)("ngModel",ctx_r2.currentValue)}}function DsDynamicTagComponent_div_4_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__._UZ(0,"i",9)}function DsDynamicTagComponent_div_4_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(1,DsDynamicTagComponent_div_4_i_1_Template,1,0,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(2,"input",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r14.currentValue=$event)},"DsDynamicTagComponent_div_4_Template_input_ngModelChange_2_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r16.onBlur($event))},"DsDynamicTagComponent_div_4_Template_input_blur_2_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r17.onFocus($event))},"DsDynamicTagComponent_div_4_Template_input_focus_2_listener"))("change",__name(function($event){return $event.stopPropagation()},"DsDynamicTagComponent_div_4_Template_input_change_2_listener"))("input",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r19=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r19.onInput($event))},"DsDynamicTagComponent_div_4_Template_input_input_2_listener"))("selectItem",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r20.onSelectItem($event))},"DsDynamicTagComponent_div_4_Template_input_selectItem_2_listener"))("keypress",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r21.preventEventsPropagation($event))},"DsDynamicTagComponent_div_4_Template_input_keypress_2_listener"))("keydown",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r22.preventEventsPropagation($event))},"DsDynamicTagComponent_div_4_Template_input_keydown_2_listener"))("keyup",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r15);const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r23.onKeyUp($event))},"DsDynamicTagComponent_div_4_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx_r3.searching),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("is-invalid",ctx_r3.showErrorMessages)("pl-3",ctx_r3.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngModel",ctx_r3.currentValue)("id",ctx_r3.id)("inputFormatter",ctx_r3.formatter)("name",ctx_r3.model.name)("ngbTypeahead",ctx_r3.search)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("resultTemplate",_r0)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r3.model.id)("autoComplete",ctx_r3.model.autoComplete)}}__name(DsDynamicTagComponent_ng_template_0_Template,"DsDynamicTagComponent_ng_template_0_Template"),__name(DsDynamicTagComponent_input_3_Template,"DsDynamicTagComponent_input_3_Template"),__name(DsDynamicTagComponent_div_4_i_1_Template,"DsDynamicTagComponent_div_4_i_1_Template"),__name(DsDynamicTagComponent_div_4_Template,"DsDynamicTagComponent_div_4_Template");class DsDynamicTagComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_9__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new rxjs__WEBPACK_IMPORTED_MODULE_12__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.formatter=x=>x.display,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_8__.S).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_8__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.UI)(list=>{if(list&&list.length>0&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.UE)(this.currentValue)){let vocEntry=new _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_7__.j;vocEntry.display=this.currentValue,vocEntry.value=this.currentValue,list.push(vocEntry)}return list}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.TS)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.Uh)(this.model.vocabularyOptions.name),this.chips=new _chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__.c(this.model.value,"display",null,_environments_environment__WEBPACK_IMPORTED_MODULE_4__.N.submission.icons.metadata),this.chips.chipsItems.subscribe(subItems=>{const items=this.chips.getChipsItems();lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(items,this.model.value)||this.dispatchUpdate(items)})}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}onInput(event2){event2.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.UE)(this.currentValue)&&!this.instance.isPopupOpen()&&this.addTagsToChips(),this.blur.emit(event2)}onSelectItem(event2){this.chips.add(event2.item),this.updateModel(event2),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(event2){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(event2){(13===event2.keyCode||188===event2.keyCode)&&(event2.preventDefault(),this.addTagsToChips(),event2.stopPropagation())}preventEventsPropagation(event2){event2.stopPropagation(),13===event2.keyCode&&event2.preventDefault()}setCurrentValue(value,init=!1){this.currentValue=value}addTagsToChips(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.Uh)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let res=[];res=this.currentValue.split(",");const res1=[];res.forEach(item=>{item.split(";").forEach(i=>{res1.push(i)})}),res1.forEach(c=>{(c=c.trim()).length>0&&this.chips.add(c)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}}__name(DsDynamicTagComponent,"DsDynamicTagComponent"),DsDynamicTagComponent.\u0275fac=__name(function(t){return new(t||DsDynamicTagComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_11__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.fhz))},"DsDynamicTagComponent_Factory"),DsDynamicTagComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:DsDynamicTagComponent,selectors:[["ds-dynamic-tag"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_11__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_11__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicTagComponent_Query"),inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.qOj],decls:5,vars:6,consts:[["rt",""],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup"],["instance","ngbTypeahead"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(0,DsDynamicTagComponent_ng_template_0_Template,1,1,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(2,"ds-chips",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(3,DsDynamicTagComponent_input_3_Template,1,5,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(4,DsDynamicTagComponent_div_4_Template,4,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("chips",ctx.chips)("editable",!1)("showIcons",ctx.model.hasAuthority)("wrapperClass","border-bottom border-light"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",!ctx.model.hasAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.model.hasAuthority))},"DsDynamicTagComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__.dR,_chips_chips_component__WEBPACK_IMPORTED_MODULE_10__.k],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-menu{max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{width:auto!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none}"]})},42313:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicLookupRelationModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(93489),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(59501),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(96846),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40370),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20733),_relationship_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26934),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22930),_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31992),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(66919),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(67507),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17211),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(20018),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(53829),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(58090),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(23506),_ngrx_store__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(60857),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(65159),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24442),_search_tab_themed_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(69129),_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(67712),_external_source_tab_themed_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(32061),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(4330);function DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"ds-themed-loading")}function DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-themed-dynamic-lookup-relation-search-tab",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r7.select($event))},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_themed_dynamic_lookup_relation_search_tab_selectObject_0_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r9.deselect($event))},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_themed_dynamic_lookup_relation_search_tab_deselectObject_0_listener"))("resultFound",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r10.setTotalInternals($event.pageInfo.totalElements))},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_themed_dynamic_lookup_relation_search_tab_resultFound_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r4.selection$)("listId",ctx_r4.listId)("relationship",ctx_r4.relationshipOptions)("repeatable",ctx_r4.repeatable)("context",ctx_r4.context)("query",ctx_r4.query)("relationshipType",ctx_r4.relationshipType)("isLeft",ctx_r4.isLeft)("item",ctx_r4.item)("isEditRelationship",ctx_r4.isEditRelationship)("toRemove",ctx_r4.toRemove)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-themed-dynamic-lookup-relation-external-source-tab",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("importedObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r14.imported($event))},"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template_ds_themed_dynamic_lookup_relation_external_source_tab_importedObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const source_r11=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().$implicit,ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("label",ctx_r13.label)("listId",ctx_r13.listId)("repeatable",ctx_r13.repeatable)("item",ctx_r13.item)("collection",ctx_r13.collection)("relationship",ctx_r13.relationshipOptions)("context",ctx_r13.context)("query",ctx_r13.query)("externalSource",source_r11)}}__name(DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,"DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template");const _c0=__name(function(a0){return{count:a0}},"_c0");function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,1,9,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const source_r11=ctx.$implicit,idx_r12=ctx.index,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+source_r11.id,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r5.totalExternal$)[idx_r12])))}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-selection-tab",20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r18.select($event))},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_selectObject_0_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r20.deselect($event))},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_deselectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r17.selection$)("listId",ctx_r17.listId)("relationshipType",ctx_r17.relationshipOptions.relationshipType)("repeatable",ctx_r17.repeatable)("context",ctx_r17.context)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,1,5,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r6.selection$))?null:tmp_0_0.length)))}}function DsDynamicLookupRelationModalComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"ul",10,11)(3,"li",12)(4,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,1,11,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,6,8,"li",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(11,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,6,8,"li",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(12,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()),2&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.MAs(2),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(6,4,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+ctx_r1.relationshipOptions.relationshipType,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(11,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,7,ctx_r1.totalInternal$)))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(10,9,ctx_r1.externalSourcesRD$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.isEditRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngbNavOutlet",_r3)}}function DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"span",27)}function DsDynamicLookupRelationModalComponent_ng_container_20_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r22.discardEv())},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(2,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(3,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(6,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r24.submitEv())},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(7,DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,1,0,"span",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(8,"i",26),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,5,"item.edit.metadata.discard-button"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(11,7,"item.edit.metadata.save-button"),"")}}__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_Template");const _c1=__name(function(a0){return{size:a0}},"_c1");class DsDynamicLookupRelationModalComponent{constructor(modal,selectableListService,relationshipService,relationshipTypeService,externalSourceService,lookupRelationService,searchConfigService,rdbService,zone,store,router){this.modal=modal,this.selectableListService=selectableListService,this.relationshipService=relationshipService,this.relationshipTypeService=relationshipTypeService,this.externalSourceService=externalSourceService,this.lookupRelationService=lookupRelationService,this.searchConfigService=searchConfigService,this.rdbService=rdbService,this.zone=zone,this.store=store,this.router=router,this.selectEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.subMap={},this.totalInternal$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(isLeft=>{this.isLeft=isLeft}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(listState=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState.selection)?listState.selection:[])),this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>selection.map(s=>this.addNameVariantSubscription(s))),"true"===this.relationshipOptions.nameVariants?this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModalWithNameVariants:this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModal,(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.UE)(this.relationshipOptions.externalSources)&&(this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(source=>this.externalSourceService.findById(source,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__.l)("entityTypes")))).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.mc)())),this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close()}select(...selectableObjects){this.zone.runOutsideAngular(()=>{(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...selectableObjects.map(sri=>(this.addNameVariantSubscription(sri),this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(nameVariant=>({item:sri.indexableObject,nameVariant})))))]).subscribe(arr=>arr.forEach(object=>{const addRelationshipAction=new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.Jg(this.item,object.item,this.relationshipOptions.relationshipType,this.submissionId,object.nameVariant);this.store.dispatch(addRelationshipAction)}))})}addNameVariantSubscription(sri){const nameVariant$=this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid);this.subMap[sri.indexableObject.uuid]=nameVariant$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.T0)(1)).subscribe(nameVariant=>this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__._k(this.item,sri.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,nameVariant)))}deselect(...selectableObjects){this.zone.runOutsideAngular(()=>selectableObjects.forEach(object=>{this.subMap[object.indexableObject.uuid].unsubscribe(),this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.J9(this.item,object.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(object){this.setTotals(),this.select(object)}setTotals(){const externalSourcesAndOptions$=(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=externalSourcesAndOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(([sources,options])=>(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...sources.map(source=>this.lookupRelationService.getTotalExternalResults(source,options))])))}setTotalInternals(totalPages){this.totalInternal$.next(totalPages)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(subscription=>subscription.unsubscribe())}discardEv(){}submitEv(){}}__name(DsDynamicLookupRelationModalComponent,"DsDynamicLookupRelationModalComponent"),DsDynamicLookupRelationModalComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__.X),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__.G),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_15__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_21__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0))},"DsDynamicLookupRelationModalComponent_Factory"),DsDynamicLookupRelationModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationModalComponent,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:21,vars:19,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngFor","ngForOf"],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selection$","listId","relationship","repeatable","context","query","relationshipType","isLeft","item","isEditRelationship","toRemove","selectObject","deselectObject","resultFound"],[1,"d-block","pt-3",3,"label","listId","repeatable","item","collection","relationship","context","query","externalSource","importedObject"],[1,"d-block","pt-3",3,"selection$","listId","relationshipType","repeatable","context","selectObject","deselectObject"],[1,"btn","btn-danger","discard",3,"disabled","click"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"fas","fa-save"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_Template,13,13,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"div",6)(11,"small"),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(15,"div",7)(16,"div",8)(17,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(20,DsDynamicLookupRelationModalComponent_ng_container_20_Template,12,9,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf){let tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,8,"submission.sections.describe.relationship-lookup.title."+ctx.relationshipOptions.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx.item||!ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.item&&ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(13,10,"submission.sections.describe.relationship-lookup.selected",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(17,_c1,(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,13,ctx.selection$))?null:tmp_4_0.length)||0))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(19,15,"submission.sections.describe.relationship-lookup.close"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.isEditRelationship)}},"DsDynamicLookupRelationModalComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_23__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_23__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.uN,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Pz,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.tO,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__.Z,_search_tab_themed_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__.z,_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_13__.O,_external_source_tab_themed_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_14__.d,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.X$],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})},71275:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DsDynamicLookupRelationExternalSourceTabComponent:()=>DsDynamicLookupRelationExternalSourceTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(86209),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40370),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17211),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=(__webpack_require__(55289),__webpack_require__(96846)),_animations_fade__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(66919),__webpack_require__(65245)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89860),_external_source_entry_import_modal_themed_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(94565),_empty_util__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(59501),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(20733),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(57324),__webpack_require__(37894),__webpack_require__(69169)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(53829),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(16088),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(65159),_error_error_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(35964),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(24442),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(293),_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(6381),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(47315),_utils_var_directive__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(61562),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(4330);const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-viewable-collection",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("importObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r6.import($event))},"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template_ds_viewable_collection_importObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const entriesRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("@fadeIn",void 0)("objects",entriesRD_r1)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_19__.WLB(10,_c0,ctx_r2.repeatable,ctx_r2.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,8,ctx_r2.currentPagination$))("hideGear",!0)("context",ctx_r2.context)("importable",!0)("importConfig",ctx_r2.importConfig)}}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-themed-loading",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"loading.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-error",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"error.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,1,"search.results.empty")," "))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,2,13,"ds-viewable-collection",5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,2,3,"ds-themed-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,2,3,"ds-error",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(4,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,3,3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BQk()),2&rf){const entriesRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasSucceeded)&&!(null!=entriesRD_r1&&entriesRD_r1.isLoading)&&(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!entriesRD_r1||(null==entriesRD_r1?null:entriesRD_r1.isLoading)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasFailed)&&(!(null!=entriesRD_r1&&entriesRD_r1.errorMessage)||400!=(null==entriesRD_r1?null:entriesRD_r1.statusCode))),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",0==(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)||400==(null==entriesRD_r1?null:entriesRD_r1.statusCode))}}__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template");class DsDynamicLookupRelationExternalSourceTabComponent{constructor(router,searchConfigService,externalSourceService,modalService,selectableListService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.externalSourceService=externalSourceService,this.modalService=modalService,this.selectableListService=selectableListService,this.paginationService=paginationService,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__.r,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.UI)(entityTypesRD=>entityTypesRD.hasSucceeded&&entityTypesRD.payload.totalElements>0?entityTypesRD.payload.page[0]:null)).subscribe(entityType=>{this.relatedEntityType=entityType}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.wt)(searchOptions=>(""===searchOptions.query&&(searchOptions.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,searchOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.O4)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(entry){this.modalRef=this.modalService.open(_external_source_entry_import_modal_themed_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__.a,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const modalComp$=this.modalRef.componentInstance.compRef$.pipe((0,_empty_util__WEBPACK_IMPORTED_MODULE_21__.tz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.UI)(compRef=>compRef.instance));this.subs.push(modalComp$.subscribe(modalComp=>{modalComp.externalSourceEntry=entry,modalComp.item=this.item,modalComp.relationship=this.relationship,modalComp.label=this.label,modalComp.relatedEntityType=this.relatedEntityType})),this.subs.push(modalComp$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.wt)(modalComp=>modalComp.importedObject)).subscribe(object=>{this.selectableListService.selectSingle(this.listId,object),this.importedObject.emit(object)}))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_21__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationExternalSourceTabComponent,"DsDynamicLookupRelationExternalSourceTabComponent"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationExternalSourceTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__.G),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__.w),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__.N))},"DsDynamicLookupRelationExternalSourceTabComponent_Factory"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.Xpm({type:DsDynamicLookupRelationExternalSourceTabComponent,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_19__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject"],[3,"message"],["id","empty-external-entry-list"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(7,"ds-themed-search-form",3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(10,"div")(11,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(14,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,5,4,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("query",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(8,8,ctx.searchConfigService.paginatedSearchOptions))?null:tmp_1_0.query)("inPlaceSearch",!0)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx.externalSource.id)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(15,14,ctx.entriesRD$))}},"DsDynamicLookupRelationExternalSourceTabComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_24__.O5,_error_error_component__WEBPACK_IMPORTED_MODULE_13__.q,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_14__.Z,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_15__.c,_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_16__.p,_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_17__.k,_utils_var_directive__WEBPACK_IMPORTED_MODULE_18__.g,_angular_common__WEBPACK_IMPORTED_MODULE_24__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__.X$],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ji,_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ic]}})},63101:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExternalSourceEntryImportModalComponent:()=>ExternalSourceEntryImportModalComponent,ImportType:()=>ImportType});var _angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(86209),_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97559),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67507),_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(81112),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83460),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(66919),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20733),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22476),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(89860),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(53829),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(96846),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(20589),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(39373),_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(98879),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4330),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(65159),_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(39164);function ExternalSourceEntryImportModalComponent_div_15_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div")(1,"a",17),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.s9C("href",ctx_r0.uri.value,_angular_core__WEBPACK_IMPORTED_MODULE_13__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryImportModalComponent_div_15_Template,"ExternalSourceEntryImportModalComponent_div_15_Template");const _c0=__name(function(a1){return{repeatable:!1,listId:a1}},"_c0");function ExternalSourceEntryImportModalComponent_ds_search_results_23_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"ds-search-results",18),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("deselectObject",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_13__.KtG(ctx_r3.deselectEntity())},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_deselectObject_0_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_13__.KtG(ctx_r5.selectEntity($event))},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(1,9,ctx_r1.localEntitiesRD$))("sortConfig",null==ctx_r1.lookupRelationService.searchConfig?null:ctx_r1.lookupRelationService.searchConfig.sort)("searchConfig",ctx_r1.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_13__.VKq(11,_c0,ctx_r1.entityListId))("linkType",ctx_r1.linkTypes.ExternalLink)("context",ctx_r1.context)}}function ExternalSourceEntryImportModalComponent_div_30_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",19)(1,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"div",10)(5,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_13__.KtG(ctx_r6.selectNewAuthority())},"ExternalSourceEntryImportModalComponent_div_30_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(6,"label",21),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,3,ctx_r2.labelPrefix+"authority")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx_r2.selectedImportType===ctx_r2.importType.NewAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(8,5,ctx_r2.labelPrefix+"authority.new"))}}var ImportType,ImportType2;__name(ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template"),__name(ExternalSourceEntryImportModalComponent_div_30_Template,"ExternalSourceEntryImportModalComponent_div_30_Template"),(ImportType2=ImportType||(ImportType={})).None="None",ImportType2.LocalEntity="LocalEntity",ImportType2.LocalAuthority="LocalAuthority",ImportType2.NewEntity="NewEntity",ImportType2.NewAuthority="NewAuthority";class ExternalSourceEntryImportModalComponent{constructor(modal,lookupRelationService,modalService,selectService,itemService,notificationsService,translateService){this.modal=modal,this.lookupRelationService=lookupRelationService,this.modalService=modalService,this.selectService=selectService,this.itemService=itemService,this.notificationsService=notificationsService,this.translateService=translateService,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__.m,this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__._.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=ImportType,this.selectedImportType=ImportType.None,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_13__.vpe,this.authorityEnabled=!1}ngOnInit(){this.uri=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const pagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__.r,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new _search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__.t({query:this.externalSourceEntry.value,pagination})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case ImportType.LocalEntity:this.importLocalEntity();break;case ImportType.NewEntity:this.importNewEntity();break;case ImportType.LocalAuthority:this.importLocalAuthority();break;case ImportType.NewAuthority:this.importNewAuthority()}this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__.L,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.wt)(collectionListEntry=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,collectionListEntry.collection.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.qn)(1)))).subscribe(item=>{this.lookupRelationService.removeLocalResultsCache();const searchResult=Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__.T,{indexableObject:item});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(searchResult)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}selectNewEntity(){this.selectedImportType===ImportType.NewEntity?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===ImportType.LocalAuthority&&(this.selectedImportType=ImportType.None)}selectAuthority(authority){this.selectedAuthority=authority,this.selectedImportType=ImportType.LocalAuthority}selectNewAuthority(){this.selectedImportType===ImportType.NewAuthority?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}}__name(ExternalSourceEntryImportModalComponent,"ExternalSourceEntryImportModalComponent"),ExternalSourceEntryImportModalComponent.\u0275fac=__name(function(t){return new(t||ExternalSourceEntryImportModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__.P),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__.S),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__.T),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.sK))},"ExternalSourceEntryImportModalComponent_Factory"),ExternalSourceEntryImportModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_13__.Xpm({type:ExternalSourceEntryImportModalComponent,selectors:[["ds-external-source-entry-import-modal"]],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"checked","click"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"href"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"checked","click"],["for","new-authority",1,"form-check-label"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.modal.dismiss()},"ExternalSourceEntryImportModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(7,"div",4)(8,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(11,"div",5)(12,"div")(13,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(14),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(15,ExternalSourceEntryImportModalComponent_div_15_Template,3,2,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(16,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(17),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(19,"div",7)(20,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(23,ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,2,13,"ds-search-results",9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(25,"div",10)(26,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.selectNewEntity()},"ExternalSourceEntryImportModalComponent_Template_input_click_26_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(27,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(29,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(30,ExternalSourceEntryImportModalComponent_div_30_Template,9,7,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(31,"div",14)(32,"div")(33,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.close()},"ExternalSourceEntryImportModalComponent_Template_button_click_33_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(34),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(35,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(36,"div")(37,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.import()},"ExternalSourceEntryImportModalComponent_Template_button_click_37_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(38),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(39,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()),2&rf){let tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,13,ctx.labelPrefix+ctx.label+".title")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(10,15,ctx.labelPrefix+"head."+ctx.externalSourceEntry.externalSource)),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx.externalSourceEntry.display),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.uri),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(18,17,ctx.labelPrefix+"select")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(22,19,ctx.labelPrefix+"entities")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(24,21,ctx.localEntitiesRD$))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx.selectedImportType===ctx.importType.NewEntity),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(29,23,ctx.labelPrefix+"entities.new")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.authorityEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(35,25,ctx.labelPrefix+"cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("disabled",ctx.selectedImportType===ctx.importType.None),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(39,27,ctx.labelPrefix+"import"))}},"ExternalSourceEntryImportModalComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.O5,_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__.SearchResultsComponent,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})},94565:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ThemedExternalSourceEntryImportModalComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedExternalSourceEntryImportModalComponent_ng_template_0_Template(rf,ctx){}__name(ThemedExternalSourceEntryImportModalComponent_ng_template_0_Template,"ThemedExternalSourceEntryImportModalComponent_ng_template_0_Template");class ThemedExternalSourceEntryImportModalComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(themeName){return __webpack_require__(41562)(`./${themeName}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return __webpack_require__.e(3101).then(__webpack_require__.bind(__webpack_require__,63101))}}__name(ThemedExternalSourceEntryImportModalComponent,"ThemedExternalSourceEntryImportModalComponent"),ThemedExternalSourceEntryImportModalComponent.\u0275fac=function(){let \u0275ThemedExternalSourceEntryImportModalComponent_BaseFactory;return __name(function(t){return(\u0275ThemedExternalSourceEntryImportModalComponent_BaseFactory||(\u0275ThemedExternalSourceEntryImportModalComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedExternalSourceEntryImportModalComponent)))(t||ThemedExternalSourceEntryImportModalComponent)},"ThemedExternalSourceEntryImportModalComponent_Factory")}(),ThemedExternalSourceEntryImportModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedExternalSourceEntryImportModalComponent,selectors:[["ds-themed-external-source-entry-import-modal"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedExternalSourceEntryImportModalComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedExternalSourceEntryImportModalComponent_Template"),encapsulation:2})},32061:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ThemedDynamicLookupRelationExternalSourceTabComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209);__webpack_require__(66919),__webpack_require__(57324),__webpack_require__(37894),__webpack_require__(55289);function ThemedDynamicLookupRelationExternalSourceTabComponent_ng_template_0_Template(rf,ctx){}__name(ThemedDynamicLookupRelationExternalSourceTabComponent_ng_template_0_Template,"ThemedDynamicLookupRelationExternalSourceTabComponent_ng_template_0_Template");class ThemedDynamicLookupRelationExternalSourceTabComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(themeName){return __webpack_require__(79835)(`./${themeName}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return __webpack_require__.e(1275).then(__webpack_require__.bind(__webpack_require__,71275))}}__name(ThemedDynamicLookupRelationExternalSourceTabComponent,"ThemedDynamicLookupRelationExternalSourceTabComponent"),ThemedDynamicLookupRelationExternalSourceTabComponent.\u0275fac=function(){let \u0275ThemedDynamicLookupRelationExternalSourceTabComponent_BaseFactory;return __name(function(t){return(\u0275ThemedDynamicLookupRelationExternalSourceTabComponent_BaseFactory||(\u0275ThemedDynamicLookupRelationExternalSourceTabComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_5__.n5z(ThemedDynamicLookupRelationExternalSourceTabComponent)))(t||ThemedDynamicLookupRelationExternalSourceTabComponent)},"ThemedDynamicLookupRelationExternalSourceTabComponent_Factory")}(),ThemedDynamicLookupRelationExternalSourceTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:ThemedDynamicLookupRelationExternalSourceTabComponent,selectors:[["ds-themed-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(0,ThemedDynamicLookupRelationExternalSourceTabComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA())},"ThemedDynamicLookupRelationExternalSourceTabComponent_Template"),encapsulation:2})},81597:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DsDynamicLookupRelationSearchTabComponent:()=>DsDynamicLookupRelationSearchTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(86209),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40370),rxjs__WEBPACK_IMPORTED_MODULE_16__=(__webpack_require__(57324),__webpack_require__(93489)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89860),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39185),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20733),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(59501),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(96846),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53829),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83460),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(66919),__webpack_require__(67507)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(69169),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(22930),_angular_common__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(49087),__webpack_require__(65159)),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(46514),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(23506),_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(61562),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4330);function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r7.selectAll())},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!1)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r10);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r9.deselectAll())},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r12);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r11.deselectAll())},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("checked",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(1,"span",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(2,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",18)(1,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar,ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r14.selectPage(null==resultsRD_r13?null:resultsRD_r13.page))},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar,ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r16.deselectPage(null==resultsRD_r13?null:resultsRD_r13.page))},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15);const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r17.selectAll())},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r18.deselectAll())},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,4,"submission.sections.describe.relationship-lookup.search-tab.select-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(6,6,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(9,8,"submission.sections.describe.relationship-lookup.search-tab.select-all")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(12,10,"submission.sections.describe.relationship-lookup.search-tab.deselect-all")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(4,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(6,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,1,1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(10,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,5,3,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(11,"button",11)(12,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(15,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,13,12,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&!_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,7,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,9,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.allSelected),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("hidden",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,11,"submission.sections.describe.relationship-lookup.toggle-dropdown")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(16,13,ctx_r1.resultsRD$))}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-themed-search",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("resultFound",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20);const ctx_r19=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r19.onResultFound($event))},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_resultFound_0_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20);const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r21.deselectObject.emit($event))},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_deselectObject_0_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_15__.KtG(ctx_r22.selectObject.emit($event))},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(1,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,17,15,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("configuration",ctx_r0.relationship.searchConfiguration)("context",ctx_r0.context)("fixedFilterQuery",ctx_r0.relationship.filter)("inPlaceSearch",!0)("linkType",ctx_r0.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_15__.WLB(12,_c0,ctx_r0.repeatable,ctx_r0.listId))("showScopeSelector",!1)("showViewModes",!1)("query",ctx_r0.query),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r0.repeatable)}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template");class DsDynamicLookupRelationSearchTabComponent{constructor(searchService,selectableListService,searchConfigService,lookupRelationService,relationshipService,paginationService){this.searchService=searchService,this.selectableListService=selectableListService,this.searchConfigService=searchConfigService,this.lookupRelationService=lookupRelationService,this.relationshipService=relationshipService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.resultsRD$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__.m,this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(page){this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredPage)}),this.selectableListService.select(this.listId,page)}deselectPage(page){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))>=0);this.deselectObject.emit(...filteredPage)}),this.selectableListService.deselect(this.listId,page)}selectAll(){this.allSelected=!0,this.selectAllLoading=!0;const fullPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__.r,{currentPage:1,pageSize:9999}),fullSearchConfig=Object.assign(this.lookupRelationService.searchConfig,{pagination:fullPagination});this.searchService.search(fullSearchConfig).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(resultsRD=>resultsRD.payload.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(()=>this.selectAllLoading=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(results=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(selection=>{const filteredResults=results.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredResults)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.hZ)(results)))).subscribe(results=>{this.selectableListService.select(this.listId,results)})}setSelectedIds(idOfItems,resultListOfItems){let relationType=this.relationshipType.rightwardType;this.isLeft&&(relationType=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,relationType,idOfItems).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xe)()).subscribe(res=>{let selectableObject=res.page.map(relationship=>{let arrUrl=[];arrUrl=this.isLeft?relationship._links.rightItem.href.split("/"):relationship._links.leftItem.href.split("/");const uuid=arrUrl[arrUrl.length-1];return this.getRelatedItem(uuid,resultListOfItems)});selectableObject=selectableObject.filter(selObject=>!this.getIfInRemove(selObject.indexableObject.uuid)),selectableObject.length>0&&this.selectableListService.select(this.listId,selectableObject)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>this.deselectObject.emit(...selection)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(uuid,resultList){return resultList.find(resultItem=>resultItem.indexableObject.uuid===uuid)}getIfInRemove(uuid){return!!this.toRemove.find(searchResult=>searchResult.indexableObject.uuid===uuid)}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(this.subscription)&&this.subscription.unsubscribe()}onResultFound($event){if(this.resultsRD$.next($event),this.resultFound.emit($event),this.isEditRelationship){const idOfItems=$event.page.map(itemSearchResult=>itemSearchResult.indexableObject.uuid);this.setSelectedIds(idOfItems,$event.page)}}}__name(DsDynamicLookupRelationSearchTabComponent,"DsDynamicLookupRelationSearchTabComponent"),DsDynamicLookupRelationSearchTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSearchTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__.o),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__.N))},"DsDynamicLookupRelationSearchTabComponent_Factory"),DsDynamicLookupRelationSearchTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationSearchTabComponent,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","checkbox",3,"indeterminate","change",4,"ngIf"],["type","checkbox",3,"checked","change",4,"ngIf"],["ngbDropdown","",1,"input-group-append"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","checkbox",3,"indeterminate","change"],["type","checkbox",3,"checked","change"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(0,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,2,15,"ds-themed-search",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.relationship.searchConfiguration&&ctx.context)},"DsDynamicLookupRelationSearchTabComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.O5,_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__.l,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vi,_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__.g,_angular_common__WEBPACK_IMPORTED_MODULE_19__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.X$],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}"]})},69129:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>ThemedDynamicLookupRelationSearchTabComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209);__webpack_require__(66919),__webpack_require__(49087),__webpack_require__(57324);function ThemedDynamicLookupRelationSearchTabComponent_ng_template_0_Template(rf,ctx){}__name(ThemedDynamicLookupRelationSearchTabComponent_ng_template_0_Template,"ThemedDynamicLookupRelationSearchTabComponent_ng_template_0_Template");class ThemedDynamicLookupRelationSearchTabComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(themeName){return __webpack_require__(66849)(`./${themeName}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return __webpack_require__.e(1597).then(__webpack_require__.bind(__webpack_require__,81597))}}__name(ThemedDynamicLookupRelationSearchTabComponent,"ThemedDynamicLookupRelationSearchTabComponent"),ThemedDynamicLookupRelationSearchTabComponent.\u0275fac=function(){let \u0275ThemedDynamicLookupRelationSearchTabComponent_BaseFactory;return __name(function(t){return(\u0275ThemedDynamicLookupRelationSearchTabComponent_BaseFactory||(\u0275ThemedDynamicLookupRelationSearchTabComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_4__.n5z(ThemedDynamicLookupRelationSearchTabComponent)))(t||ThemedDynamicLookupRelationSearchTabComponent)},"ThemedDynamicLookupRelationSearchTabComponent_Factory")}(),ThemedDynamicLookupRelationSearchTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:ThemedDynamicLookupRelationSearchTabComponent,selectors:[["ds-themed-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(0,ThemedDynamicLookupRelationSearchTabComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA())},"ThemedDynamicLookupRelationSearchTabComponent_Template"),encapsulation:2})},67712:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>DsDynamicLookupRelationSelectionTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40370),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(96846),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89860),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16733),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96906),_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(66919),__webpack_require__(75637)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(69169),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(65159),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(293),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47315),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4330);function DsDynamicLookupRelationSelectionTabComponent_div_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}__name(DsDynamicLookupRelationSelectionTabComponent_div_7_Template,"DsDynamicLookupRelationSelectionTabComponent_div_7_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSelectionTabComponent_div_9_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"ds-viewable-collection",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r2.deselectObject.emit($event))},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_deselectObject_4_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r4.selectObject.emit($event))},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_selectObject_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx_r1.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("objects",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,9,ctx_r1.selectionRD$))("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_10__.WLB(13,_c0,ctx_r1.repeatable,ctx_r1.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,11,ctx_r1.currentPagination$))("hideGear",!0)("context",ctx_r1.context)}}__name(DsDynamicLookupRelationSelectionTabComponent_div_9_Template,"DsDynamicLookupRelationSelectionTabComponent_div_9_Template");class DsDynamicLookupRelationSelectionTabComponent{constructor(router,searchConfigService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__.r,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(options=>options.pagination),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.wt)(pagination=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(selected=>{const offset=(pagination.currentPage-1)*pagination.pageSize,end=offset+pagination.pageSize>selected.length?selected.length:offset+pagination.pageSize,selection=selected.slice(offset,end),pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:pagination.pageSize,totalElements:selected.length,currentPage:pagination.currentPage,totalPages:Math.ceil(selected.length/pagination.pageSize)});return(0,_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__.AC)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__.b)(pageInfo,selection))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationSelectionTabComponent,"DsDynamicLookupRelationSelectionTabComponent"),DsDynamicLookupRelationSelectionTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSelectionTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_12__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__.N))},"DsDynamicLookupRelationSelectionTabComponent_Factory"),DsDynamicLookupRelationSelectionTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicLookupRelationSelectionTabComponent,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"objects","selectable","selectionConfig","config","hideGear","context","deselectObject","selectObject"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(7,DsDynamicLookupRelationSelectionTabComponent_div_7_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,DsDynamicLookupRelationSelectionTabComponent_div_9_Template,7,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){let tmp_1_0,tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(8,5,ctx.selectionRD$))?null:tmp_1_0.payload.page)<1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(10,7,ctx.selectionRD$))?null:tmp_2_0.payload.page.length)>=1)}},"DsDynamicLookupRelationSelectionTabComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_8__.c,_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_9__.k,_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$]})},48801:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>ChipsComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),lodash_isObject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83650),lodash_isObject__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_0__),_core_drag_service__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(36133),__webpack_require__(7036)),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93489),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4330),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65159),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(23506),ngx_sortablejs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29735),_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75195);function ChipsComponent_ng_container_2_ng_template_1_p_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"p",13),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const tip_r9=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",tip_r9," ")}}function ChipsComponent_ng_container_2_ng_template_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(0,ChipsComponent_ng_container_2_ng_template_1_p_0_Template,2,1,"p",12),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",ctx_r4.tipText)}}function ChipsComponent_ng_container_2_i_7_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"i",14),2&rf){const c_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("authorityValue",c_r1.item)}}function ChipsComponent_ng_container_2_ng_container_8_i_1_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"i",16,6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("dragstart",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r16);const _r14=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r14.close())},"ChipsComponent_ng_container_2_ng_container_8_i_1_Template_i_dragstart_0_listener"))("mouseover",__name(function(){const icon_r12=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r16).$implicit,_r14=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1),i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2).index,ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r17.showTooltip(_r14,i_r2,icon_r12.metadata))},"ChipsComponent_ng_container_2_ng_container_8_i_1_Template_i_mouseover_0_listener"))("mouseout",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r16);const _r14=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r14.close())},"ChipsComponent_ng_container_2_ng_container_8_i_1_Template_i_mouseout_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}if(2&rf){const icon_r12=ctx.$implicit,l_r13=ctx.last,c_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2).$implicit,_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Tol(icon_r12.style),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ekj("mr-1",!l_r13)("mr-2",l_r13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngbTooltip",_r3)("authorityValue",c_r1.item[icon_r12.metadata]||c_r1.item)("visibleWhenAuthorityEmpty",icon_r12.visibleWhenAuthorityEmpty)}}function ChipsComponent_ng_container_2_ng_container_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,ChipsComponent_ng_container_2_ng_container_8_i_1_Template,2,10,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BQk()),2&rf){const c_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",c_r1.icons)}}__name(ChipsComponent_ng_container_2_ng_template_1_p_0_Template,"ChipsComponent_ng_container_2_ng_template_1_p_0_Template"),__name(ChipsComponent_ng_container_2_ng_template_1_Template,"ChipsComponent_ng_container_2_ng_template_1_Template"),__name(ChipsComponent_ng_container_2_i_7_Template,"ChipsComponent_ng_container_2_i_7_Template"),__name(ChipsComponent_ng_container_2_ng_container_8_i_1_Template,"ChipsComponent_ng_container_2_ng_container_8_i_1_Template"),__name(ChipsComponent_ng_container_2_ng_container_8_Template,"ChipsComponent_ng_container_2_ng_container_8_Template");const _c0=__name(function(a0){return{"chip-selected disabled":a0}},"_c0");function ChipsComponent_ng_container_2_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,ChipsComponent_ng_container_2_ng_template_1_Template,1,1,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_4__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(3,"div",5,6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("dragstart",__name(function(){const i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23).index,_r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(4),ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _r5.close(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r22.onDragStart(i_r2))},"ChipsComponent_ng_container_2_Template_div_dragstart_3_listener"))("dragend",__name(function(){const i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23).index,ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r24.onDragEnd(i_r2))},"ChipsComponent_ng_container_2_Template_div_dragend_3_listener"))("mouseover",__name(function(){const i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23).index,_r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(4),ctx_r25=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r25.showTooltip(_r5,i_r2))},"ChipsComponent_ng_container_2_Template_div_mouseover_3_listener"))("mouseout",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23);const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(4);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r5.close())},"ChipsComponent_ng_container_2_Template_div_mouseout_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(5,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){const i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23).index,ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r27.chipsSelected($event,i_r2))},"ChipsComponent_ng_container_2_Template_a_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(6,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(7,ChipsComponent_ng_container_2_i_7_Template,1,1,"i",8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(8,ChipsComponent_ng_container_2_ng_container_8_Template,2,1,"ng-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(9,"p",10),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(11,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){const i_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r23).index,ctx_r28=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r28.removeChips($event,i_r2))},"ChipsComponent_ng_container_2_Template_i_click_11_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BQk()}if(2&rf){const c_r1=ctx.$implicit,i_r2=ctx.index,_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(2),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngbTooltip",_r3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(8,_c0,ctx_r0.editable&&c_r1.editMode||ctx_r0.dragged==i_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",ctx_r0.showIcons&&!c_r1.isNestedItem()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",ctx_r0.showIcons&&c_r1.hasVisibleIcons()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(c_r1.display),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(12,6,"chips.remove"))}}__name(ChipsComponent_ng_container_2_Template,"ChipsComponent_ng_container_2_Template");class ChipsComponent{constructor(cdr,dragService,translate){this.cdr=cdr,this.dragService=dragService,this.translate=translate,this.editable=!0,this.showIcons=!1,this.selected=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.isDragging=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1),this.dragged=-1,this.options={animation:300,chosenClass:"m-0",dragClass:"m-0",filter:".chips-sort-ignore",ghostClass:"m-0"}}ngOnChanges(changes){changes.chips&&!changes.chips.isFirstChange()&&(this.chips=changes.chips.currentValue)}chipsSelected(event2,index){event2.preventDefault(),this.editable&&(this.chips.getChips().forEach((item,i)=>{i===index?item.setEditMode():item.unsetEditMode()}),this.selected.emit(index))}removeChips(event2,index){event2.preventDefault(),event2.stopPropagation(),this.chips.getChipByIndex(index).editMode||this.chips.remove(this.chips.getChipByIndex(index))}onDragStart(index){this.isDragging.next(!0),this.dragService.overrideDragOverPage(),this.dragged=index}onDragEnd(event2){this.dragService.allowDragOverPage(),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(tooltip,index,field){tooltip.close();const chipsItem=this.chips.getChipByIndex(index),textToDisplay=[];!chipsItem.editMode&&-1===this.dragged&&(field?lodash_isObject__WEBPACK_IMPORTED_MODULE_0___default()(chipsItem.item[field])?(textToDisplay.push(chipsItem.item[field].display),chipsItem.item[field].hasOtherInformation()&&Object.keys(chipsItem.item[field].otherInformation).forEach(otherField=>{this.translate.get("form.other-information."+otherField).subscribe(label=>{textToDisplay.push(label+": "+chipsItem.item[field].otherInformation[otherField])})})):textToDisplay.push(chipsItem.item[field]):textToDisplay.push(chipsItem.display),this.cdr.detectChanges(),(!chipsItem.hasIcons()||!chipsItem.hasVisibleIcons()||field)&&(this.tipText=textToDisplay,tooltip.open()))}}__name(ChipsComponent,"ChipsComponent"),ChipsComponent.\u0275fac=__name(function(t){return new(t||ChipsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_4__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_core_drag_service__WEBPACK_IMPORTED_MODULE_2__.w),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.sK))},"ChipsComponent_Factory"),ChipsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:ChipsComponent,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.TTD],ngContentSelectors:["*"],decls:6,vars:8,consts:[[3,"className"],["role","list",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"sortablejs","sortablejsOptions"],[4,"ngFor","ngForOf"],[1,"flex-grow-1"],["tipContent",""],["role","listitem","triggers","manual",1,"nav-item","mr-2","mb-1",3,"ngbTooltip","dragstart","dragend","mouseover","mouseout"],["t","ngbTooltip"],["href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"ngClass","click"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ml-2",3,"title","click"],["class","text-left p-0 m-0",4,"ngFor","ngForOf"],[1,"text-left","p-0","m-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","mr-1","mr-2","authorityValue","visibleWhenAuthorityEmpty","dragstart","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","authorityValue","visibleWhenAuthorityEmpty","dragstart","mouseover","mouseout"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,ChipsComponent_ng_container_2_Template,13,10,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Hsn(5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("className","float-left w-100 "+ctx.wrapperClass),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("sortablejs",ctx.chips.getChips())("sortablejsOptions",ctx.options),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",ctx.chips.getChips()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ekj("chips-sort-ignore",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(4,6,ctx.isDragging)))},"ChipsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_7__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__._L,ngx_sortablejs__WEBPACK_IMPORTED_MODULE_9__.QN,_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_3__.e,_angular_common__WEBPACK_IMPORTED_MODULE_7__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.X$],styles:[".chip-selected[_ngcontent-%COMP%]{background-color:var(--bs-secondary)!important}.chip-label[_ngcontent-%COMP%]{max-width:10rem}"]})},36133:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>Chips});var findIndex=__webpack_require__(56242),findIndex_default=__webpack_require__.n(findIndex),isEqual=__webpack_require__(86436),isEqual_default=__webpack_require__.n(isEqual),isObject=__webpack_require__(83650),isObject_default=__webpack_require__.n(isObject),cjs=__webpack_require__(93489),uniqueId=__webpack_require__(46895),uniqueId_default=__webpack_require__.n(uniqueId),empty_util=__webpack_require__(59501),confidence_type=__webpack_require__(73158),ds_dynamic_form_constants=__webpack_require__(76368);class ChipsItem{constructor(item,fieldToDisplay="display",objToDisplay,icons,editMode){this.id=uniqueId_default()(),this._item=item,this.fieldToDisplay=fieldToDisplay,this.objToDisplay=objToDisplay,this.setDisplayText(),this.editMode=editMode||!1,this.icons=icons||[]}set item(item){this._item=item}get item(){return this._item}isNestedItem(){return(0,empty_util.UE)(this.item)&&isObject_default()(this.item)&&(0,empty_util.UE)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,empty_util.UE)(this.icons)}hasVisibleIcons(){if((0,empty_util.UE)(this.icons)){let hasVisible=!1;for(const icon of this.icons)if(this._item.hasOwnProperty(icon.metadata)&&("string"==typeof this._item[icon.metadata]&&(0,empty_util.Uh)(this._item[icon.metadata])||this._item[icon.metadata].hasValue())&&!this.hasPlaceholder(this._item[icon.metadata])&&(icon.visibleWhenAuthorityEmpty||this._item[icon.metadata].confidence!==confidence_type.N.CF_UNSET)&&(0,empty_util.UE)(icon.style)){hasVisible=!0;break}return hasVisible}return!1}setEditMode(){this.editMode=!0}updateIcons(icons){this.icons=icons}updateItem(item){this._item=item,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let value=this._item;if(isObject_default()(this._item)){const obj=this.objToDisplay?this._item[this.objToDisplay]:this._item;value=isObject_default()(obj)&&obj?obj[this.fieldToDisplay]||obj.value:obj}this.display=value}hasPlaceholder(value){return"string"==typeof value?value===ds_dynamic_form_constants.n:value.hasPlaceholder()}}__name(ChipsItem,"ChipsItem");var form_field_metadata_value_model=__webpack_require__(74910),vocabulary_entry_model=__webpack_require__(32154);class Chips{constructor(items=[],displayField="display",displayObj,iconsConfig){this.displayField=displayField,this.displayObj=displayObj,this.iconsConfig=iconsConfig||[],Array.isArray(items)&&this.setInitialItems(items)}add(item){const icons=this.getChipsIcons(item),chipsItem=new ChipsItem(item,this.displayField,this.displayObj,icons),duplicatedIndex=findIndex_default()(this._items,{display:chipsItem.display.trim()});(-1===duplicatedIndex||!isEqual_default()(item,this.getChipByIndex(duplicatedIndex).item))&&(this._items.push(chipsItem),this.chipsItems.next(this._items))}getChipById(id){const index=findIndex_default()(this._items,{id});return this.getChipByIndex(index)}getChipByIndex(index){return this._items.length>0&&this._items[index]?this._items[index]:null}getChips(){return this._items}getChipsItems(){const out=[];return this._items.forEach(item=>{out.push(item.item)}),out}hasItems(){return this._items.length>0}hasPlaceholder(value){return isObject_default()(value)?value.value===ds_dynamic_form_constants.n:value===ds_dynamic_form_constants.n}remove(chipsItem){const index=findIndex_default()(this._items,{id:chipsItem.id});this._items.splice(index,1),this.chipsItems.next(this._items)}update(id,item){const chipsItemTarget=this.getChipById(id),icons=this.getChipsIcons(item);chipsItemTarget.updateItem(item),chipsItemTarget.updateIcons(icons),chipsItemTarget.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(item){const icons=[];if("string"==typeof item||item instanceof form_field_metadata_value_model.u||item instanceof vocabulary_entry_model.j)return icons;const defaultConfigIndex=findIndex_default()(this.iconsConfig,{name:"default"}),defaultConfig=-1!==defaultConfigIndex?this.iconsConfig[defaultConfigIndex]:void 0;let config,configIndex,value;return Object.keys(item).forEach(metadata=>{if(value=item[metadata],configIndex=findIndex_default()(this.iconsConfig,{name:metadata}),config=-1!==configIndex?this.iconsConfig[configIndex]:defaultConfig,(0,empty_util.Uh)(value)&&(0,empty_util.UE)(config)&&!this.hasPlaceholder(value)){let icon;icon={metadata,visibleWhenAuthorityEmpty:this.displayObj!==metadata,style:config.style},icons.push(icon)}}),icons}setInitialItems(items){this._items=[],items.forEach(item=>{const icons=this.getChipsIcons(item),chipsItem=new ChipsItem(item,this.displayField,this.displayObj,icons);this._items.push(chipsItem)}),this.chipsItems=new cjs.BehaviorSubject(this._items)}}__name(Chips,"Chips")},75195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>AuthorityConfidenceStateDirective});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86209),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56242),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32154),_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74910),_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73158),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59501),_environments_environment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91602),_core_submission_vocabularies_models_vocabulary_entry_detail_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10741);class AuthorityConfidenceStateDirective{constructor(elem,renderer){this.elem=elem,this.renderer=renderer,this.visibleWhenAuthorityEmpty=!0,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe}onClick(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_3__.N.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}ngOnChanges(changes){changes.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(changes.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(changes.authorityValue.currentValue)),(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Ft)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}ngAfterViewInit(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Ft)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(value){let confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_3__.N.CF_UNSET;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)(value)&&(value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_1__.j||value instanceof _core_submission_vocabularies_models_vocabulary_entry_detail_model__WEBPACK_IMPORTED_MODULE_5__.w)&&value.hasAuthority()&&(confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_3__.N.CF_ACCEPTED),(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)(value)&&value instanceof _builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u&&(confidence=value.confidence),confidence}getClassByConfidence(confidence){if(!this.visibleWhenAuthorityEmpty&&confidence===_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_3__.N.CF_UNSET)return"d-none";const confidenceIcons=_environments_environment__WEBPACK_IMPORTED_MODULE_4__.N.submission.icons.authority.confidence,confidenceIndex=lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default()(confidenceIcons,{value:confidence}),defaultconfidenceIndex=lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default()(confidenceIcons,{value:"default"}),defaultClass=-1!==defaultconfidenceIndex?confidenceIcons[defaultconfidenceIndex].style:"";return-1!==confidenceIndex?confidenceIcons[confidenceIndex].style:defaultClass}}__name(AuthorityConfidenceStateDirective,"AuthorityConfidenceStateDirective"),AuthorityConfidenceStateDirective.\u0275fac=__name(function(t){return new(t||AuthorityConfidenceStateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_6__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Qsj))},"AuthorityConfidenceStateDirective_Factory"),AuthorityConfidenceStateDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_6__.lG2({type:AuthorityConfidenceStateDirective,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return ctx.onClick()},"AuthorityConfidenceStateDirective_click_HostBindingHandler"))},"AuthorityConfidenceStateDirective_HostBindings"),inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.TTD]})},80913:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>FormModule});var common=__webpack_require__(65159),form_component=__webpack_require__(23593),core=__webpack_require__(86209),fesm2020_core=__webpack_require__(49417),ds_dynamic_form_control_container_component=__webpack_require__(91387);function DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ds-dynamic-form-control-container",1),core.NdJ("dfBlur",__name(function($event){core.CHM(_r3);const ctx_r2=core.oxw();return core.KtG(ctx_r2.onCustomEvent($event,ctx_r2.blur))},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){core.CHM(_r3);const ctx_r4=core.oxw();return core.KtG(ctx_r4.onCustomEvent($event,ctx_r4.change))},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){core.CHM(_r3);const ctx_r5=core.oxw();return core.KtG(ctx_r5.onCustomEvent($event,ctx_r5.focus))},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){core.CHM(_r3);const ctx_r6=core.oxw();return core.KtG(ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent))},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),core.qZA()}if(2&rf){const model_r1=ctx.$implicit,ctx_r0=core.oxw();core.ekj("d-none",model_r1.hidden),core.Q6J("formId",ctx_r0.formId)("group",ctx_r0.formGroup)("hasErrorMessaging",model_r1.hasErrorMessages)("hidden",model_r1.hidden)("layout",ctx_r0.formLayout)("model",model_r1)("templates",ctx_r0.templates)("asBootstrapFormGroup",!0)}}__name(DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template");class DsDynamicFormComponent extends fesm2020_core.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.ngbEvent=new core.vpe}}__name(DsDynamicFormComponent,"DsDynamicFormComponent"),DsDynamicFormComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormComponent)(core.Y36(core.sBO),core.Y36(fesm2020_core.rJA))},"DsDynamicFormComponent_Factory"),DsDynamicFormComponent.\u0275cmp=core.Xpm({type:DsDynamicFormComponent,selectors:[["ds-dynamic-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&core.Suo(dirIndex,fesm2020_core.ATj,4),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.templates=_t)}},"DsDynamicFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(ds_dynamic_form_control_container_component.B,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.components=_t)}},"DsDynamicFormComponent_Query"),inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},features:[core.qOj],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,1,10,"ds-dynamic-form-control-container",0),2&rf&&core.Q6J("ngForOf",ctx.formModel)("ngForTrackBy",ctx.trackByFn)},"DsDynamicFormComponent_Template"),dependencies:[common.sg,ds_dynamic_form_control_container_component.B],encapsulation:2});var dynamic_list_component=__webpack_require__(7188),dynamic_lookup_component=__webpack_require__(52825),dynamic_disabled_component=__webpack_require__(25280),dynamic_lookup_relation_modal_component=__webpack_require__(42313),dynamic_scrollable_dropdown_component=__webpack_require__(23532),dynamic_tag_component=__webpack_require__(79256),dynamic_onebox_component=__webpack_require__(78519),dynamic_relation_group_components=__webpack_require__(6671),date_picker_component=__webpack_require__(64281),dynamic_form_group_component=__webpack_require__(35070),dynamic_form_array_component=__webpack_require__(72275),dynamic_date_picker_inline_component=__webpack_require__(57717),dynamic_lookup_relation_search_tab_component=__webpack_require__(81597),dynamic_lookup_relation_selection_tab_component=__webpack_require__(67712),dynamic_lookup_relation_external_source_tab_component=__webpack_require__(71275),shared_module=__webpack_require__(47013),ngx_translate_core=__webpack_require__(4330),search_module=__webpack_require__(72086),existing_metadata_list_element_component=__webpack_require__(45422),existing_relation_list_element_component=__webpack_require__(44809),external_source_entry_import_modal_component=__webpack_require__(63101),custom_switch_component=__webpack_require__(85158),ui_ng_bootstrap=__webpack_require__(92454),chips_component=__webpack_require__(48801),number_picker_component=__webpack_require__(96027),authority_confidence_state_directive=__webpack_require__(75195),ngx_sortablejs=__webpack_require__(29735),vocabulary_treeview_component=__webpack_require__(75388),vocabulary_treeview_modal_component=__webpack_require__(22953),form_builder_service=__webpack_require__(88286),ds_dynamic_type_bind_relation_service=__webpack_require__(70706),form_service=__webpack_require__(39975),ngx_mask=__webpack_require__(19003),themed_external_source_entry_import_modal_component=__webpack_require__(94565),ng_bootstrap=__webpack_require__(23506),tree=__webpack_require__(47184),themed_dynamic_lookup_relation_search_tab_component=__webpack_require__(69129),themed_dynamic_lookup_relation_external_source_tab_component=__webpack_require__(32061),fesm2020_forms=__webpack_require__(32189),drag_drop=__webpack_require__(40414);custom_switch_component._,ds_dynamic_form_control_container_component.B,dynamic_list_component.d,dynamic_lookup_component.G,dynamic_lookup_relation_search_tab_component.DsDynamicLookupRelationSearchTabComponent,themed_dynamic_lookup_relation_search_tab_component.z,dynamic_lookup_relation_selection_tab_component.O,dynamic_lookup_relation_external_source_tab_component.DsDynamicLookupRelationExternalSourceTabComponent,themed_dynamic_lookup_relation_external_source_tab_component.d,dynamic_disabled_component.x,dynamic_lookup_relation_modal_component.i,dynamic_scrollable_dropdown_component.D,dynamic_tag_component.V,dynamic_onebox_component.r,dynamic_relation_group_components.H,date_picker_component.H,dynamic_form_group_component.i,dynamic_form_array_component.s,dynamic_date_picker_inline_component.u,existing_metadata_list_element_component.fP,existing_relation_list_element_component.t,external_source_entry_import_modal_component.ExternalSourceEntryImportModalComponent,form_component.U,chips_component.k,number_picker_component.g,vocabulary_treeview_component.I,vocabulary_treeview_modal_component.L,themed_external_source_entry_import_modal_component.a,authority_confidence_state_directive.e;class FormModule{}__name(FormModule,"FormModule"),FormModule.\u0275fac=__name(function(t){return new(t||FormModule)},"FormModule_Factory"),FormModule.\u0275mod=core.oAB({type:FormModule}),FormModule.\u0275inj=core.cJS({providers:[{provide:fesm2020_core.y8$,useValue:ds_dynamic_form_control_container_component._},fesm2020_core.vnf,fesm2020_core.w1X,fesm2020_core.fhz,form_builder_service.c,ds_dynamic_type_bind_relation_service.R,form_service.o],imports:[common.ez,fesm2020_core.H9g,ui_ng_bootstrap.zj,search_module.t,shared_module.m,ngx_translate_core.aw,ngx_sortablejs.bQ,ngx_mask.yI.forRoot(),ng_bootstrap.M,ng_bootstrap.UL,tree.nZ]}),core.B6R(dynamic_form_group_component.i,function(){return[common.mk,common.sg,fesm2020_forms.JL,fesm2020_forms.sg,fesm2020_forms.x0,ds_dynamic_form_control_container_component.B]},[]),core.B6R(dynamic_form_array_component.s,function(){return[common.mk,common.sg,common.tP,fesm2020_forms.JL,fesm2020_forms.sg,fesm2020_forms.x0,fesm2020_forms.CE,drag_drop.Wj,drag_drop.Zt,drag_drop.Bh,ds_dynamic_form_control_container_component.B]},[]),core.B6R(form_component.U,function(){return[common.O5,fesm2020_core.ATj,fesm2020_forms._Y,fesm2020_forms.JL,fesm2020_forms.sg,DsDynamicFormComponent]},function(){return[common.Ov,ngx_translate_core.X$]})},22953:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>VocabularyTreeviewModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23506),_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75388),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4330);class VocabularyTreeviewModalComponent{constructor(activeModal){this.activeModal=activeModal,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1}onSelect(item){this.activeModal.close(item)}}__name(VocabularyTreeviewModalComponent,"VocabularyTreeviewModalComponent"),VocabularyTreeviewModalComponent.\u0275fac=__name(function(t){return new(t||VocabularyTreeviewModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Kz))},"VocabularyTreeviewModalComponent_Factory"),VocabularyTreeviewModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:VocabularyTreeviewModalComponent,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect"},decls:10,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3"],[3,"vocabularyOptions","preloadLevel","selectedItems","multiSelect","select"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",__name(function(){return ctx.activeModal.dismiss("Cross click")},"VocabularyTreeviewModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(7,"div",4)(8,"div",5)(9,"ds-vocabulary-treeview",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("select",__name(function($event){return ctx.onSelect($event)},"VocabularyTreeviewModalComponent_Template_ds_vocabulary_treeview_select_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_1__.lcZ(3,5,"vocabulary-treeview.header")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("vocabularyOptions",ctx.vocabularyOptions)("preloadLevel",ctx.preloadLevel)("selectedItems",ctx.selectedItems)("multiSelect",ctx.multiSelect))},"VocabularyTreeviewModalComponent_Template"),dependencies:[_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_0__.I,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.X$]})},75388:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>VocabularyTreeviewComponent});var tree=__webpack_require__(47184),core=__webpack_require__(86209),empty_util=__webpack_require__(59501),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),findIndex=__webpack_require__(56242),findIndex_default=__webpack_require__.n(findIndex),page_info_model=__webpack_require__(96906);const LOAD_MORE_NODE={id:"LOAD_MORE"},LOAD_MORE_ROOT_NODE={id:"LOAD_MORE_ROOT"};class TreeviewNode{constructor(item,hasChildren=!1,pageInfo=new page_info_model.S,loadMoreParentItem=null,isSearchNode=!1,isInInitValueHierarchy=!1,isSelected=!1){this.item=item,this.hasChildren=hasChildren,this.pageInfo=pageInfo,this.loadMoreParentItem=loadMoreParentItem,this.isSearchNode=isSearchNode,this.isInInitValueHierarchy=isInInitValueHierarchy,this.isSelected=isSelected,this.childrenChange=new cjs.BehaviorSubject([])}get children(){return this.childrenChange.value}updatePageInfo(pageInfo){this.pageInfo=pageInfo}}__name(TreeviewNode,"TreeviewNode");class TreeviewFlatNode{constructor(item,level=1,expandable=!1,childrenLoaded=!1,pageInfo=new page_info_model.S,loadMoreParentItem=null,isSearchNode=!1,isInInitValueHierarchy=!1,isSelected=!1){this.item=item,this.level=level,this.expandable=expandable,this.childrenLoaded=childrenLoaded,this.pageInfo=pageInfo,this.loadMoreParentItem=loadMoreParentItem,this.isSearchNode=isSearchNode,this.isInInitValueHierarchy=isInInitValueHierarchy,this.isSelected=isSelected}}__name(TreeviewFlatNode,"TreeviewFlatNode");var vocabulary_service=__webpack_require__(61223),shared_operators=__webpack_require__(53829);class VocabularyTreeviewService{constructor(vocabularyService){this.vocabularyService=vocabularyService,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new cjs.BehaviorSubject([]),this.initValueHierarchy=[],this.loading=new cjs.BehaviorSubject(!1),this.hideSearchingWhenUnsubscribed$=new cjs.Observable(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(options,pageInfo,selectedItems,initValueId){this.loading.next(!0),this.vocabularyOptions=options,this.vocabularyName=options.name,this.pageInfo=pageInfo,(0,empty_util.UE)(initValueId)?this.getNodeHierarchyById(initValueId,selectedItems).subscribe(hierarchy=>{this.initValueHierarchy=hierarchy,this.retrieveTopNodes(pageInfo,[],selectedItems)}):this.retrieveTopNodes(pageInfo,[],selectedItems)}getData(){return this.dataChange}loadMoreRoot(node,selectedItems){const nodes=this.dataChange.value;nodes.pop(),this.retrieveTopNodes(node.pageInfo,nodes,selectedItems)}loadMore(item,selectedItems,onlyFirstTime=!1){if(!this.nodeMap.has(item.otherInformation.id))return;const parent=this.nodeMap.get(item.otherInformation.id),children=this.nodeMap.get(item.otherInformation.id).children||[];children.pop(),this.getChildrenNodesByParent(item.otherInformation.id,parent.pageInfo).subscribe(list=>{if(onlyFirstTime&&parent.children.length>0)return;const newNodes=list.page.map(entry=>this._generateNode(entry,selectedItems));if(children.push(...newNodes),list.pageInfo.currentPage+1<=list.pageInfo.totalPages){const newPageInfo=Object.assign(new page_info_model.S,list.pageInfo,{currentPage:list.pageInfo.currentPage+1});parent.updatePageInfo(newPageInfo),children.push(new TreeviewNode(LOAD_MORE_NODE,!1,newPageInfo,item))}parent.childrenChange.next(children),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(query,selectedItems){this.loading.next(!0),(0,empty_util.xb)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(query,!1,this.vocabularyOptions,new page_info_model.S).pipe((0,shared_operators.LQ)(),(0,operators.zg)(result=>result.length>0?result:(0,cjs.of)(null)),(0,operators.zg)(entry=>this.vocabularyService.findEntryDetailById(entry.otherInformation.id,this.vocabularyName).pipe((0,shared_operators.Gp)())),(0,operators.zg)(entry=>this.getNodeHierarchy(entry,selectedItems)),(0,operators.Rp)((acc,value)=>(0,empty_util.xb)(value)||-1!==findIndex_default()(acc,node=>node.item.otherInformation.id===value.item.otherInformation.id)?acc:[...acc,value],[]),(0,operators.TS)(this.hideSearchingWhenUnsubscribed$)).subscribe(nodes=>{this.dataChange.next(nodes),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(entry,selectedItems,isSearchNode=!1,toStore=!0){const entryId=entry.otherInformation.id;if(this.nodeMap.has(entryId))return this.nodeMap.get(entryId);const hasChildren=entry.hasOtherInformation()&&"true"===entry.otherInformation.hasChildren,pageInfo=this.pageInfo,isInInitValueHierarchy=this.initValueHierarchy.includes(entryId),isSelected=selectedItems.some(()=>selectedItems.includes(entry.id)),result=new TreeviewNode(entry,hasChildren,pageInfo,null,isSearchNode,isInInitValueHierarchy,isSelected);return toStore&&this.nodeMap.set(entryId,result),result}getNodeHierarchyById(id,selectedItems){return this.getById(id).pipe((0,operators.zg)(entry=>this.getNodeHierarchy(entry,selectedItems,[],!1)),(0,operators.UI)(node=>this.getNodeHierarchyIds(node,selectedItems)))}getChildrenNodesByParent(parentId,pageInfo){return this.vocabularyService.getEntryDetailChildren(parentId,this.vocabularyName,pageInfo).pipe((0,shared_operators.Gp)())}getParentNode(entryId){return this.vocabularyService.getEntryDetailParent(entryId,this.vocabularyName).pipe((0,shared_operators.Gp)())}getById(entryId){return this.vocabularyService.findEntryDetailById(entryId,this.vocabularyName).pipe((0,shared_operators.Gp)())}retrieveTopNodes(pageInfo,nodes,selectedItems){this.vocabularyService.searchTopEntries(this.vocabularyName,pageInfo).pipe((0,shared_operators.Gp)()).subscribe(list=>{this.vocabularyService.clearSearchTopRequests();const newNodes=list.page.map(entry=>this._generateNode(entry,selectedItems));if(nodes.push(...newNodes),list.pageInfo.currentPage+1<=list.pageInfo.totalPages){const newPageInfo=Object.assign(new page_info_model.S,list.pageInfo,{currentPage:list.pageInfo.currentPage+1}),loadMoreNode=new TreeviewNode(LOAD_MORE_ROOT_NODE,!1,newPageInfo);loadMoreNode.updatePageInfo(newPageInfo),nodes.push(loadMoreNode)}this.loading.next(!1),this.dataChange.next(nodes)})}getNodeHierarchy(item,selectedItems,children,toStore=!0){if((0,empty_util.xb)(item))return(0,cjs.of)(null);const node=this._generateNode(item,selectedItems,toStore,toStore);if((0,empty_util.UE)(children)){const newChildren=children.filter(entry=>-1===findIndex_default()(node.children,nodeEntry=>nodeEntry.item.otherInformation.id===entry.item.otherInformation.id));newChildren.forEach(entry=>{entry.loadMoreParentItem=node.item}),node.children.push(...newChildren)}return node.item.hasOtherInformation()&&(0,empty_util.UE)(node.item.otherInformation.parent)?this.getParentNode(node.item.otherInformation.id).pipe((0,operators.zg)(parentItem=>this.getNodeHierarchy(parentItem,selectedItems,[node],toStore))):(0,cjs.of)(node)}getNodeHierarchyIds(node,selectedItems,hierarchyIds=[]){return hierarchyIds.includes(node.item.otherInformation.id)||hierarchyIds.push(node.item.otherInformation.id),(0,empty_util.UE)(node.children)?this.getNodeHierarchyIds(node.children[0],selectedItems,hierarchyIds):hierarchyIds}}__name(VocabularyTreeviewService,"VocabularyTreeviewService"),VocabularyTreeviewService.\u0275fac=__name(function(t){return new(t||VocabularyTreeviewService)(core.LFG(vocabulary_service.c))},"VocabularyTreeviewService_Factory"),VocabularyTreeviewService.\u0275prov=core.Yz7({token:VocabularyTreeviewService,factory:VocabularyTreeviewService.\u0275fac,providedIn:"root"});class VocabularyTreeFlattener{constructor(transformFunction,getLevel,isExpandable,getChildren){this.transformFunction=transformFunction,this.getLevel=getLevel,this.isExpandable=isExpandable,this.getChildren=getChildren}_flattenNode(node,level,resultNodes,parentMap){const flatNode=this.transformFunction(node,level);if(resultNodes.push(flatNode),this.isExpandable(flatNode)){const childrenNodes=this.getChildren(node);childrenNodes&&(Array.isArray(childrenNodes)?this._flattenChildren(childrenNodes,level,resultNodes,parentMap):childrenNodes.pipe((0,operators.qn)(1)).subscribe(children=>{this._flattenChildren(children,level,resultNodes,parentMap)}))}return resultNodes}_flattenChildren(children,level,resultNodes,parentMap){children.forEach((child,index)=>{const childParentMap=parentMap.slice();childParentMap.push(index!==children.length-1),this._flattenNode(child,level+1,resultNodes,childParentMap)})}flattenNodes(structuredData){const resultNodes=[];return structuredData.forEach(node=>this._flattenNode(node,0,resultNodes,[])),resultNodes}expandFlattenedNodes(nodes,treeControl){const results=[],currentExpand=[];return currentExpand[0]=!0,nodes.forEach(node=>{let expand=!0;for(let i=0;i<=this.getLevel(node);i++)expand=expand&&currentExpand[i];expand&&results.push(node),this.isExpandable(node)&&(currentExpand[this.getLevel(node)+1]=treeControl.isExpanded(node))}),results}}__name(VocabularyTreeFlattener,"VocabularyTreeFlattener");var collections=__webpack_require__(43033);class VocabularyTreeFlatDataSource extends collections.o2{constructor(_treeControl,_treeFlattener,initialData=[]){super(),this._treeControl=_treeControl,this._treeFlattener=_treeFlattener,this._flattenedData=new cjs.BehaviorSubject([]),this._expandedData=new cjs.BehaviorSubject([]),this._data=new cjs.BehaviorSubject(initialData)}get data(){return this._data.value}set data(value){this._data.next(value),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(collectionViewer){const changes=[collectionViewer.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return(0,cjs.merge)(...changes).pipe((0,operators.UI)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}__name(VocabularyTreeFlatDataSource,"VocabularyTreeFlatDataSource");var ngrx_store=__webpack_require__(60857),ngx_translate_core=__webpack_require__(4330),common=__webpack_require__(65159),fesm2020_forms=__webpack_require__(32189),ng_bootstrap=__webpack_require__(23506),alert_component=__webpack_require__(74369),themed_loading_component=__webpack_require__(24442);function VocabularyTreeviewComponent_ds_themed_loading_17_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",16),2&rf&&core.Q6J("showMessage",!1)}function VocabularyTreeviewComponent_h4_19_Template(rf,ctx){1&rf&&(core.TgZ(0,"h4",17)(1,"span"),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,1,"vocabulary-treeview.search.no-result")))}function VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"label",23)(1,"input",24),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r11);const node_r6=core.oxw().$implicit;return core.KtG(node_r6.isSelected=$event)},"VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template_input_ngModelChange_1_listener"))("change",__name(function(){core.CHM(_r11);const node_r6=core.oxw().$implicit,ctx_r12=core.oxw();return core.KtG(ctx_r12.onSelect(node_r6.item))},"VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template_input_change_1_listener")),core.qZA(),core.TgZ(2,"span"),core._uU(3),core.qZA()()}if(2&rf){const node_r6=core.oxw().$implicit;core.ekj("text-success",node_r6.isSelected),core.Q6J("ngbTooltip",null==node_r6.item||null==node_r6.item.otherInformation?null:node_r6.item.otherInformation.note)("openDelay",500),core.xp6(1),core.Q6J("disabled",!(null!=node_r6.item&&node_r6.item.selectable))("ngModel",node_r6.isSelected)("checked",node_r6.isSelected),core.xp6(2),core.Oqu(node_r6.item.display)}}function VocabularyTreeviewComponent_cdk_tree_node_22_button_4_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"button",25),core.NdJ("click",__name(function(){core.CHM(_r17);const node_r6=core.oxw().$implicit,ctx_r15=core.oxw();return core.KtG(ctx_r15.onSelect(node_r6.item))},"VocabularyTreeviewComponent_cdk_tree_node_22_button_4_Template_button_click_0_listener")),core.TgZ(1,"span"),core._uU(2),core.qZA()()}if(2&rf){const node_r6=core.oxw().$implicit;core.ekj("text-success",node_r6.isSelected),core.Q6J("disabled",!(null!=node_r6.item&&node_r6.item.selectable))("ngbTooltip",null==node_r6.item||null==node_r6.item.otherInformation?null:node_r6.item.otherInformation.note)("openDelay",500),core.xp6(2),core.Oqu(node_r6.item.display)}}function VocabularyTreeviewComponent_cdk_tree_node_22_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"cdk-tree-node",18)(1,"button",19),core._UZ(2,"span",20),core.qZA(),core.YNc(3,VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template,4,8,"label",21),core.YNc(4,VocabularyTreeviewComponent_cdk_tree_node_22_button_4_Template,3,6,"button",22),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(3),core.Q6J("ngIf",ctx_r2.multiSelect),core.xp6(1),core.Q6J("ngIf",!ctx_r2.multiSelect)}}function VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.TgZ(0,"label",23)(1,"input",24),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r24);const node_r19=core.oxw().$implicit;return core.KtG(node_r19.isSelected=$event)},"VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template_input_ngModelChange_1_listener"))("change",__name(function(){core.CHM(_r24);const node_r19=core.oxw().$implicit,ctx_r25=core.oxw();return core.KtG(ctx_r25.onSelect(node_r19.item))},"VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template_input_change_1_listener")),core.qZA(),core.TgZ(2,"span"),core._uU(3),core.qZA()()}if(2&rf){const node_r19=core.oxw().$implicit;core.ekj("text-success",node_r19.isSelected),core.Q6J("ngbTooltip",null==node_r19.item||null==node_r19.item.otherInformation?null:node_r19.item.otherInformation.note)("openDelay",500),core.xp6(1),core.Q6J("disabled",!(null!=node_r19.item&&node_r19.item.selectable))("ngModel",node_r19.isSelected)("checked",node_r19.isSelected),core.xp6(2),core.Oqu(node_r19.item.display)}}function VocabularyTreeviewComponent_cdk_tree_node_23_button_4_Template(rf,ctx){if(1&rf){const _r30=core.EpF();core.TgZ(0,"button",25),core.NdJ("click",__name(function(){core.CHM(_r30);const node_r19=core.oxw().$implicit,ctx_r28=core.oxw();return core.KtG(ctx_r28.onSelect(node_r19.item))},"VocabularyTreeviewComponent_cdk_tree_node_23_button_4_Template_button_click_0_listener")),core.TgZ(1,"span"),core._uU(2),core.qZA()()}if(2&rf){const node_r19=core.oxw().$implicit;core.ekj("text-success",node_r19.isSelected),core.Q6J("disabled",!(null!=node_r19.item&&node_r19.item.selectable))("ngbTooltip",null==node_r19.item||null==node_r19.item.otherInformation?null:node_r19.item.otherInformation.note)("openDelay",500),core.xp6(2),core.Oqu(node_r19.item.display)}}function VocabularyTreeviewComponent_cdk_tree_node_23_Template(rf,ctx){if(1&rf){const _r33=core.EpF();core.TgZ(0,"cdk-tree-node",18)(1,"button",26),core.NdJ("click",__name(function(){const node_r19=core.CHM(_r33).$implicit,ctx_r32=core.oxw();return core.KtG(ctx_r32.loadChildren(node_r19))},"VocabularyTreeviewComponent_cdk_tree_node_23_Template_button_click_1_listener")),core._UZ(2,"span",27),core.qZA(),core.YNc(3,VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template,4,8,"label",21),core.YNc(4,VocabularyTreeviewComponent_cdk_tree_node_23_button_4_Template,3,6,"button",22),core.qZA()}if(2&rf){const node_r19=ctx.$implicit,ctx_r3=core.oxw();core.xp6(1),core.uIk("aria-label","toggle "+node_r19.name),core.xp6(1),core.Gre("fas fa-fw ",ctx_r3.treeControl.isExpanded(node_r19)?"fa-angle-down":"fa-angle-right",""),core.xp6(1),core.Q6J("ngIf",ctx_r3.multiSelect),core.xp6(1),core.Q6J("ngIf",!ctx_r3.multiSelect)}}function VocabularyTreeviewComponent_cdk_tree_node_24_Template(rf,ctx){if(1&rf){const _r36=core.EpF();core.TgZ(0,"cdk-tree-node",28)(1,"button",29),core.NdJ("click",__name(function(){const node_r34=core.CHM(_r36).$implicit,ctx_r35=core.oxw();return core.KtG(ctx_r35.loadMore(node_r34.loadMoreParentItem))},"VocabularyTreeviewComponent_cdk_tree_node_24_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"translate"),core.qZA()()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"vocabulary-treeview.load-more"),"... "))}function VocabularyTreeviewComponent_cdk_tree_node_25_Template(rf,ctx){if(1&rf){const _r39=core.EpF();core.TgZ(0,"cdk-tree-node")(1,"button",29),core.NdJ("click",__name(function(){const node_r37=core.CHM(_r39).$implicit,ctx_r38=core.oxw();return core.KtG(ctx_r38.loadMoreRoot(node_r37))},"VocabularyTreeviewComponent_cdk_tree_node_25_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"translate"),core.qZA()()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"vocabulary-treeview.load-more"),"... "))}__name(VocabularyTreeviewComponent_ds_themed_loading_17_Template,"VocabularyTreeviewComponent_ds_themed_loading_17_Template"),__name(VocabularyTreeviewComponent_h4_19_Template,"VocabularyTreeviewComponent_h4_19_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template,"VocabularyTreeviewComponent_cdk_tree_node_22_label_3_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_22_button_4_Template,"VocabularyTreeviewComponent_cdk_tree_node_22_button_4_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_22_Template,"VocabularyTreeviewComponent_cdk_tree_node_22_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template,"VocabularyTreeviewComponent_cdk_tree_node_23_label_3_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_23_button_4_Template,"VocabularyTreeviewComponent_cdk_tree_node_23_button_4_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_23_Template,"VocabularyTreeviewComponent_cdk_tree_node_23_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_24_Template,"VocabularyTreeviewComponent_cdk_tree_node_24_Template"),__name(VocabularyTreeviewComponent_cdk_tree_node_25_Template,"VocabularyTreeviewComponent_cdk_tree_node_25_Template");class VocabularyTreeviewComponent{constructor(vocabularyTreeviewService,vocabularyService,store,translate){this.vocabularyTreeviewService=vocabularyTreeviewService,this.vocabularyService=vocabularyService,this.store=store,this.translate=translate,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new core.vpe(null),this.deselect=new core.vpe(null),this.subs=[],this.getChildren=node=>node.childrenChange,this.transformer=(node,level)=>{const existingNode=this.nodeMap.get(node.item.id);if(existingNode&&"LOAD_MORE"!==existingNode.item.id&&"LOAD_MORE_ROOT"!==existingNode.item.id)return existingNode;const newNode=new TreeviewFlatNode(node.item,level,node.hasChildren,node.hasChildren&&(0,empty_util.UE)(node.children),node.pageInfo,node.loadMoreParentItem,node.isSearchNode,node.isInInitValueHierarchy,node.isSelected);return this.nodeMap.set(node.item.id,newNode),(level+1<this.preloadLevel&&newNode.childrenLoaded||newNode.isSearchNode&&newNode.childrenLoaded||newNode.isInInitValueHierarchy)&&(newNode.isSearchNode||this.loadChildren(newNode),this.treeControl.expand(newNode)),newNode},this.getLevel=node=>node.level,this.isExpandable=node=>node.expandable,this.hasChildren=(_,_nodeData)=>_nodeData.expandable,this.isLoadMore=(_,_nodeData)=>"LOAD_MORE"===_nodeData.item.id,this.isLoadMoreRoot=(_,_nodeData)=>"LOAD_MORE_ROOT"===_nodeData.item.id,this.treeFlattener=new VocabularyTreeFlattener(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new tree.C2(this.getLevel,this.isExpandable),this.dataSource=new VocabularyTreeFlatDataSource(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(data=>{this.dataSource.data=data})),this.loading=this.vocabularyTreeviewService.isLoading(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new page_info_model.S,this.selectedItems,null)}loadMore(item){this.vocabularyTreeviewService.loadMore(item,this.selectedItems)}loadMoreRoot(node){this.vocabularyTreeviewService.loadMoreRoot(node,this.selectedItems)}loadChildren(node){this.vocabularyTreeviewService.loadMore(node.item,this.selectedItems,!0)}onSelect(item){this.selectedItems.includes(item.id)?(this.selectedItems=this.selectedItems.filter(detail=>detail!==item.id),this.deselect.emit(item)):(this.selectedItems.push(item.id),this.select.emit(item))}search(){(0,empty_util.UE)(this.searchText)&&((0,empty_util.xb)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.selectedItems))}isSearchEnabled(){return(0,empty_util.UE)(this.searchText)}reset(){this.searchText="";for(const item of this.selectedItems)this.subs.push(this.vocabularyService.findEntryDetailById(item,this.vocabularyOptions.name,!0,!0,!1).pipe((0,shared_operators.Gp)()).subscribe(detail=>{this.deselect.emit(detail)})),this.nodeMap.get(item).isSelected=!1;this.selectedItems=[],(0,empty_util.UE)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes())}add(){const userVocabularyEntry={value:this.searchText,display:this.searchText};this.select.emit(userVocabularyEntry)}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}getEntryId(entry){return entry.authority||entry.otherInformation.id||void 0}ngOnChanges(changes){this.reset(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new page_info_model.S,this.selectedItems,null)}}__name(VocabularyTreeviewComponent,"VocabularyTreeviewComponent"),VocabularyTreeviewComponent.\u0275fac=__name(function(t){return new(t||VocabularyTreeviewComponent)(core.Y36(VocabularyTreeviewService),core.Y36(vocabulary_service.c),core.Y36(ngrx_store.yh),core.Y36(ngx_translate_core.sK))},"VocabularyTreeviewComponent_Factory"),VocabularyTreeviewComponent.\u0275cmp=core.Xpm({type:VocabularyTreeviewComponent,selectors:[["ds-vocabulary-treeview"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect"},outputs:{select:"select",deselect:"deselect"},features:[core.TTD],decls:26,vars:27,consts:[[3,"content","type"],[1,"treeview-header","row"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["class","text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"showMessage"],[1,"text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default"],["aria-hidden","true",1,"fas","fa-fw","fa-angle-right","invisible"],["class","d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-left","container","body",3,"text-success","disabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"mr-2",3,"disabled","ngModel","checked","ngModelChange","change"],["container","body",1,"btn","btn-outline-link","btn-sm","text-left",3,"disabled","ngbTooltip","openDelay","click"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default",3,"click"],["aria-hidden","true"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"ds-alert",0),core.ALo(1,"translate"),core.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),core.NdJ("ngModelChange",__name(function($event){return ctx.searchText=$event},"VocabularyTreeviewComponent_Template_input_ngModelChange_5_listener"))("keyup.enter",__name(function(){return ctx.search()},"VocabularyTreeviewComponent_Template_input_keyup_enter_5_listener")),core.qZA(),core.TgZ(6,"div",5)(7,"button",6),core.NdJ("click",__name(function(){return ctx.search()},"VocabularyTreeviewComponent_Template_button_click_7_listener")),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"button",7),core.NdJ("click",__name(function(){return ctx.reset()},"VocabularyTreeviewComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"button",6),core.NdJ("click",__name(function(){return ctx.add()},"VocabularyTreeviewComponent_Template_button_click_13_listener")),core._uU(14),core.ALo(15,"translate"),core.qZA()()()()(),core.TgZ(16,"div",8),core.YNc(17,VocabularyTreeviewComponent_ds_themed_loading_17_Template,1,1,"ds-themed-loading",9),core.ALo(18,"async"),core.YNc(19,VocabularyTreeviewComponent_h4_19_Template,4,3,"h4",10),core.ALo(20,"async"),core.TgZ(21,"cdk-tree",11),core.YNc(22,VocabularyTreeviewComponent_cdk_tree_node_22_Template,5,2,"cdk-tree-node",12),core.YNc(23,VocabularyTreeviewComponent_cdk_tree_node_23_Template,5,6,"cdk-tree-node",13),core.YNc(24,VocabularyTreeviewComponent_cdk_tree_node_24_Template,4,3,"cdk-tree-node",14),core.YNc(25,VocabularyTreeviewComponent_cdk_tree_node_25_Template,4,3,"cdk-tree-node",15),core.qZA()()),2&rf&&(core.Q6J("content",core.lcZ(1,15,"vocabulary-treeview.info"))("type","alert-info"),core.xp6(5),core.Q6J("ngModel",ctx.searchText),core.xp6(2),core.Q6J("disabled",!ctx.isSearchEnabled()),core.xp6(1),core.hij(" ",core.lcZ(9,17,"vocabulary-treeview.search.form.search")," "),core.xp6(3),core.hij(" ",core.lcZ(12,19,"vocabulary-treeview.search.form.reset")," "),core.xp6(2),core.Q6J("disabled",ctx.vocabularyOptions.closed),core.xp6(1),core.hij(" ",core.lcZ(15,21,"vocabulary-treeview.search.form.add")," "),core.xp6(3),core.Q6J("ngIf",core.lcZ(18,23,ctx.loading)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(20,25,ctx.loading)&&0===ctx.dataSource.data.length),core.xp6(2),core.Q6J("dataSource",ctx.dataSource)("treeControl",ctx.treeControl),core.xp6(2),core.Q6J("cdkTreeNodeDefWhen",ctx.hasChildren),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.isLoadMore),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.isLoadMoreRoot))},"VocabularyTreeviewComponent_Template"),dependencies:[common.O5,fesm2020_forms.Fj,fesm2020_forms.Wl,fesm2020_forms.JJ,fesm2020_forms.On,ng_bootstrap._L,alert_component.w,themed_loading_component.Z,tree.rO,tree.XJ,tree.Ud,tree._0,tree.Hs,common.Ov,ngx_translate_core.X$],styles:[".tooltip-inner{text-align:left}cdk-tree[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}label[_ngcontent-%COMP%]{cursor:pointer}"]})},94083:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>SearchFacetFilterWrapperComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_search_filter_type_decorator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24742),_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(10224),__webpack_require__(99267)),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159);function SearchFacetFilterWrapperComponent_ng_container_0_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.GkF(0)}__name(SearchFacetFilterWrapperComponent_ng_container_0_Template,"SearchFacetFilterWrapperComponent_ng_container_0_Template");class SearchFacetFilterWrapperComponent{constructor(injector){this.injector=injector}ngOnInit(){this.searchFilter=this.getSearchFilter(),this.objectInjector=_angular_core__WEBPACK_IMPORTED_MODULE_3__.zs3.create({providers:[{provide:_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__.j9,useFactory:()=>this.filterConfig,deps:[]},{provide:_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__.y5,useFactory:()=>this.inPlaceSearch,deps:[]},{provide:_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__.Pe,useFactory:()=>this.refreshFilters,deps:[]}],parent:this.injector})}getSearchFilter(){const type=this.filterConfig.filterType;return(0,_search_filter_type_decorator__WEBPACK_IMPORTED_MODULE_0__.d)(type)}}__name(SearchFacetFilterWrapperComponent,"SearchFacetFilterWrapperComponent"),SearchFacetFilterWrapperComponent.\u0275fac=__name(function(t){return new(t||SearchFacetFilterWrapperComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_3__.zs3))},"SearchFacetFilterWrapperComponent_Factory"),SearchFacetFilterWrapperComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:SearchFacetFilterWrapperComponent,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,SearchFacetFilterWrapperComponent_ng_container_0_Template,1,0,"ng-container",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngComponentOutlet",ctx.searchFilter)("ngComponentOutletInjector",ctx.objectInjector)},"SearchFacetFilterWrapperComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.$G],encapsulation:2})},24742:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>renderFilterType,z:()=>renderFacetFor});const filterTypeMap=new Map;function renderFacetFor(type){return __name(function(objectElement){objectElement&&filterTypeMap.set(type,objectElement)},"decorator")}function renderFilterType(type){return filterTypeMap.get(type)}__name(renderFacetFor,"renderFacetFor"),__name(renderFilterType,"renderFilterType")},98746:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>SearchFilterComponent});var rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(96846),_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(10224),__webpack_require__(99267)),_animations_slide__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92503),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59501),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39185),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(40370),__webpack_require__(14892)),_core_shared_sequence_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22431),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(65159),_search_facet_filter_wrapper_search_facet_filter_wrapper_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(94083),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4330),_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3903);const _c0=__name(function(a0){return{focus:a0}},"_c0"),_c1=__name(function(a0,a1){return{closed:a0,notab:a1}},"_c1");function SearchFilterComponent_div_0_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",1)(1,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r2);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r1.toggle())},"SearchFilterComponent_div_0_Template_button_click_1_listener"))("focusin",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r2);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r3.focusBox=!0)},"SearchFilterComponent_div_0_Template_button_focusin_1_listener"))("focusout",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r2);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r4.focusBox=!1)},"SearchFilterComponent_div_0_Template_button_focusout_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(4,"lowercase"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(6,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(7,"h4",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(10,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(14,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("@slide.start",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r2);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r5.startSlide($event))},"SearchFilterComponent_div_0_Template_div_animation_slide_start_14_listener"))("@slide.done",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r2);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_9__.KtG(ctx_r6.finishSlide($event))},"SearchFilterComponent_div_0_Template_div_animation_slide_done_14_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(16,"ds-search-facet-filter-wrapper",6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("id",ctx_r0.regionId)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_9__.VKq(36,_c0,ctx_r0.focusBox)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.uIk("aria-labelledby",ctx_r0.toggleId),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("id",ctx_r0.toggleId),_angular_core__WEBPACK_IMPORTED_MODULE_9__.uIk("aria-controls",ctx_r0.regionId)("aria-expanded",!1)("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(2,16,_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(3,18,ctx_r0.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(4,20,_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(5,22,"search.filters.filter."+ctx_r0.filter.name+".head")))("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(6,24,"filter-toggle")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(9,26,"search.filters.filter."+ctx_r0.filter.name+".head")," "),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(11,28,ctx_r0.collapsed$)?"fa-plus":"fa-minus")("title",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(12,30,_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(13,32,ctx_r0.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("@slide",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(15,34,ctx_r0.collapsed$)?"collapsed":"expanded")("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_9__.WLB(38,_c1,ctx_r0.closed,ctx_r0.notab)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("filterConfig",ctx_r0.filter)("inPlaceSearch",ctx_r0.inPlaceSearch)("refreshFilters",ctx_r0.refreshFilters)}}__name(SearchFilterComponent_div_0_Template,"SearchFilterComponent_div_0_Template");class SearchFilterComponent{constructor(filterService,searchService,searchConfigService,sequenceService){this.filterService=filterService,this.searchService=searchService,this.searchConfigService=searchConfigService,this.sequenceService=sequenceService,this.focusBox=!1,this.sequenceId=this.sequenceService.next()}ngOnInit(){this.selectedValues$=this.getSelectedValues(),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.selectedValues$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.qn)(1)).subscribe(selectedValues=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(selectedValues)&&this.filterService.expand(this.filter.name)})}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}getSelectedValues(){return this.filterService.getSelectedValuesForFilter(this.filter)}finishSlide(event2){"collapsed"===event2.fromState&&(this.closed=!1),"collapsed"===event2.toState&&(this.notab=!0)}startSlide(event2){"collapsed"===event2.toState&&(this.closed=!0),"collapsed"===event2.fromState&&(this.notab=!1)}get regionId(){return`search-filter-region-${this.sequenceId}`}get toggleId(){return`search-filter-toggle-${this.sequenceId}`}isActive(){return this.selectedValues$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(isActive=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(isActive)?(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(!0):this.searchConfigService.searchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(options=>this.searchService.getFacetValuesFor(this.filter,1,options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(RD=>!RD.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(valuesRD=>valuesRD.payload?.totalElements>0))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.O4)(!0))}}__name(SearchFilterComponent,"SearchFilterComponent"),SearchFilterComponent.\u0275fac=__name(function(t){return new(t||SearchFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_1__.nJ),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_3__.o),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__.SEARCH_CONFIG_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_shared_sequence_service__WEBPACK_IMPORTED_MODULE_6__.m))},"SearchFilterComponent_Factory"),SearchFilterComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:SearchFilterComponent,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"id","click","focusin","focusout"],[1,"d-inline-block","text-left","mt-auto","mb-auto"],[1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"filterConfig","inPlaceSearch","refreshFilters"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(0,SearchFilterComponent_div_0_Template,17,41,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,1,ctx.active$))},"SearchFilterComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_search_facet_filter_wrapper_search_facet_filter_wrapper_component__WEBPACK_IMPORTED_MODULE_7__.O,_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov,_angular_common__WEBPACK_IMPORTED_MODULE_13__.i8,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$,_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_8__.g],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{outline:none!important}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;border:0;padding:0;background:rgba(0,0,0,0);width:100%}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[_animations_slide__WEBPACK_IMPORTED_MODULE_2__.JD]}})},45995:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchFiltersComponent:()=>SearchFiltersComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39185),_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(40370),__webpack_require__(99267)),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14892),_utils_route_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(92461),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(59501),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(65159),_search_filter_search_filter_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98746),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4330);function SearchFiltersComponent_div_3_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(1,"ds-search-filter",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const filter_r2=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("filter",filter_r2)("inPlaceSearch",ctx_r1.inPlaceSearch)("refreshFilters",ctx_r1.refreshFilters)}}function SearchFiltersComponent_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,SearchFiltersComponent_div_3_div_1_Template,2,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,2,ctx_r0.filters))?null:tmp_0_0.payload)("ngForTrackBy",ctx_r0.trackUpdate)}}__name(SearchFiltersComponent_div_3_div_1_Template,"SearchFiltersComponent_div_3_div_1_Template"),__name(SearchFiltersComponent_div_3_Template,"SearchFiltersComponent_div_3_Template");const _c0=__name(function(a0){return[a0]},"_c0");class SearchFiltersComponent{constructor(searchService,filterService,router,searchConfigService){this.searchService=searchService,this.filterService=filterService,this.router=router,this.searchConfigService=searchConfigService,this.subs=[]}ngOnInit(){this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(filters=>(Object.keys(filters).forEach(f=>filters[f]=null),filters))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_7__.T)(this.router):this.searchService.getSearchLink()}trackUpdate(index,config){return config?config.name:void 0}ngOnDestroy(){this.subs.forEach(sub=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(sub)&&sub.unsubscribe()})}}__name(SearchFiltersComponent,"SearchFiltersComponent"),SearchFiltersComponent.\u0275fac=__name(function(t){return new(t||SearchFiltersComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_2__.nJ),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__.SEARCH_CONFIG_SERVICE))},"SearchFiltersComponent_Factory"),SearchFiltersComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:SearchFiltersComponent,selectors:[["ds-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},decls:10,vars:15,consts:[[4,"ngIf"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"fas","fa-undo"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"filter","inPlaceSearch","refreshFilters"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(3,SearchFiltersComponent_div_3_Template,3,4,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(5,"a",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(7,"i",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,5,"search.filters.head")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(4,7,ctx.filters))?null:tmp_1_0.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(13,_c0,ctx.searchLink))("queryParams",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(6,9,ctx.clearParams)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(9,11,"search.filters.reset"),"")}},"SearchFiltersComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_10__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_10__.O5,_angular_router__WEBPACK_IMPORTED_MODULE_9__.rH,_search_filter_search_filter_component__WEBPACK_IMPORTED_MODULE_4__.c,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.X$]})},95345:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>ThemedSearchFiltersComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedSearchFiltersComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchFiltersComponent_ng_template_0_Template,"ThemedSearchFiltersComponent_ng_template_0_Template");class ThemedSearchFiltersComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(themeName){return __webpack_require__(22592)(`./${themeName}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return __webpack_require__.e(5995).then(__webpack_require__.bind(__webpack_require__,45995))}}__name(ThemedSearchFiltersComponent,"ThemedSearchFiltersComponent"),ThemedSearchFiltersComponent.\u0275fac=function(){let \u0275ThemedSearchFiltersComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchFiltersComponent_BaseFactory||(\u0275ThemedSearchFiltersComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedSearchFiltersComponent)))(t||ThemedSearchFiltersComponent)},"ThemedSearchFiltersComponent_Factory")}(),ThemedSearchFiltersComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedSearchFiltersComponent,selectors:[["ds-themed-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedSearchFiltersComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedSearchFiltersComponent_Template"),encapsulation:2})},25485:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>SearchLabelComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96846),_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59501),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39185),_utils_route_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92461),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69169),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40370),_search_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40738),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330);const _c0=__name(function(a0){return{default:a0}},"_c0");class SearchLabelComponent{constructor(searchService,paginationService,searchConfigurationService,router){this.searchService=searchService,this.paginationService=paginationService,this.searchConfigurationService=searchConfigurationService,this.router=router}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters=this.getRemoveParams(),this.filterName=this.getFilterName()}getRemoveParams(){return this.appliedFilters.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.UI)(filters=>{const field=Object.keys(filters).find(f=>f===this.key),newValues=(0,_empty_util__WEBPACK_IMPORTED_MODULE_4__.Uh)(filters[field])?filters[field].filter(v=>v!==this.value):null,page=this.paginationService.getPageParam(this.searchConfigurationService.paginationID);return{[field]:(0,_empty_util__WEBPACK_IMPORTED_MODULE_4__.UE)(newValues)?newValues:null,[page]:1}}))}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_5__.T)(this.router):this.searchService.getSearchLink()}normalizeFilterValue(value){return value=value.replace(/,authority*$/g,""),(0,_search_utils__WEBPACK_IMPORTED_MODULE_6__.RD)(value)}getFilterName(){return this.key.startsWith("f.")?this.key.substring(2):this.key}}__name(SearchLabelComponent,"SearchLabelComponent"),SearchLabelComponent.\u0275fac=__name(function(t){return new(t||SearchLabelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__.N),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.U),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0))},"SearchLabelComponent_Factory"),SearchLabelComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:SearchLabelComponent,selectors:[["ds-search-label"]],inputs:{key:"key",value:"value",inPlaceSearch:"inPlaceSearch",appliedFilters:"appliedFilters"},decls:7,vars:13,consts:[["queryParamsHandling","merge",1,"badge","badge-primary","mr-1","mb-1",3,"routerLink","queryParams"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"a",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(6," \xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("routerLink",ctx.searchLink)("queryParams",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(1,4,ctx.removeParameters)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(3,6,"search.filters.applied."+ctx.key),": ",_angular_core__WEBPACK_IMPORTED_MODULE_7__.xi3(4,8,"search.filters."+ctx.filterName+"."+ctx.value,_angular_core__WEBPACK_IMPORTED_MODULE_7__.VKq(11,_c0,ctx.normalizeFilterValue(ctx.value)))," "))},"SearchLabelComponent_Template"),dependencies:[_angular_router__WEBPACK_IMPORTED_MODULE_8__.rH,_angular_common__WEBPACK_IMPORTED_MODULE_9__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},70249:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>SearchLabelsComponent});var _my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(40370),__webpack_require__(96846)),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65159),_search_label_search_label_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25485),_utils_object_keys_pipe__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4589);function SearchLabelsComponent_ng_container_1_ds_search_label_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"ds-search-label",3),2&rf){const value_r3=ctx.$implicit,key_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw().$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("inPlaceSearch",ctx_r2.inPlaceSearch)("key",key_r1)("value",value_r3)("appliedFilters",ctx_r2.appliedFilters)}}function SearchLabelsComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SearchLabelsComponent_ng_container_1_ds_search_label_1_Template,1,4,"ds-search-label",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BQk()),2&rf){const key_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,ctx_r0.appliedFilters)[key_r1])}}__name(SearchLabelsComponent_ng_container_1_ds_search_label_1_Template,"SearchLabelsComponent_ng_container_1_ds_search_label_1_Template"),__name(SearchLabelsComponent_ng_container_1_Template,"SearchLabelsComponent_ng_container_1_Template");class SearchLabelsComponent{constructor(router,searchConfigService){this.router=router,this.searchConfigService=searchConfigService,this.appliedFilters=this.searchConfigService.getCurrentFrontendFilters().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.UI)(params=>{const labels={};return Object.keys(params).forEach(key=>{labels[key]=[...params[key].map(value=>value)]}),labels}))}}__name(SearchLabelsComponent,"SearchLabelsComponent"),SearchLabelsComponent.\u0275fac=__name(function(t){return new(t||SearchLabelsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_6__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE))},"SearchLabelsComponent_Factory"),SearchLabelsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:SearchLabelsComponent,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},decls:4,vars:5,consts:[[1,"labels"],[4,"ngFor","ngForOf"],[3,"inPlaceSearch","key","value","appliedFilters",4,"ngFor","ngForOf"],[3,"inPlaceSearch","key","value","appliedFilters"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SearchLabelsComponent_ng_container_1_Template,3,3,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"dsObjectKeys"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,3,ctx.appliedFilters))))},"SearchLabelsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.sg,_search_label_search_label_component__WEBPACK_IMPORTED_MODULE_2__.M,_angular_common__WEBPACK_IMPORTED_MODULE_7__.Ov,_utils_object_keys_pipe__WEBPACK_IMPORTED_MODULE_3__.w],styles:["[_nghost-%COMP%]{line-height:1}"]})},39164:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchResultsComponent:()=>SearchResultsComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(86209),_animations_fade__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(80454),__webpack_require__(65245)),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(59501),_angular_common__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(12448),__webpack_require__(83460),__webpack_require__(87878),__webpack_require__(66919),__webpack_require__(81112),__webpack_require__(65159)),_angular_router__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(16088),_error_error_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35964),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24442),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(293),_search_export_csv_search_export_csv_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7004),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4330);function SearchResultsComponent_h2_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,1,ctx_r0.configuration?ctx_r0.configuration+".search.results.head":"search.results.head"))}}function SearchResultsComponent_ds_search_export_csv_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__._UZ(0,"ds-search-export-csv",4),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("searchConfig",ctx_r1.searchConfig)}}function SearchResultsComponent_div_3_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div")(1,"ds-viewable-collection",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("contentChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r6.contentChange.emit($event))},"SearchResultsComponent_div_3_Template_ds_viewable_collection_contentChange_1_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r8.deselectObject.emit($event))},"SearchResultsComponent_div_3_Template_ds_viewable_collection_deselectObject_1_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r7);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.KtG(ctx_r9.selectObject.emit($event))},"SearchResultsComponent_div_3_Template_ds_viewable_collection_selectObject_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("@fadeIn",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("config",ctx_r2.searchConfig.pagination)("sortConfig",ctx_r2.searchConfig.sort)("objects",ctx_r2.searchResults)("hideGear",!0)("selectable",ctx_r2.selectable)("selectionConfig",ctx_r2.selectionConfig)("linkType",ctx_r2.linkType)("context",ctx_r2.context)("hidePaginationDetail",ctx_r2.hidePaginationDetail)("showThumbnails",ctx_r2.showThumbnails)}}function SearchResultsComponent_ds_themed_loading_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__._UZ(0,"ds-themed-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,1,"loading.search-results"))}function SearchResultsComponent_ds_error_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__._UZ(0,"ds-error",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate")),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,1,ctx_r4.errorMessageLabel()))}}__name(SearchResultsComponent_h2_1_Template,"SearchResultsComponent_h2_1_Template"),__name(SearchResultsComponent_ds_search_export_csv_2_Template,"SearchResultsComponent_ds_search_export_csv_2_Template"),__name(SearchResultsComponent_div_3_Template,"SearchResultsComponent_div_3_Template"),__name(SearchResultsComponent_ds_themed_loading_4_Template,"SearchResultsComponent_ds_themed_loading_4_Template"),__name(SearchResultsComponent_ds_error_5_Template,"SearchResultsComponent_ds_error_5_Template");const _c0=__name(function(){return["/search"]},"_c0"),_c1=__name(function(a0){return{query:a0}},"_c1");function SearchResultsComponent_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(3,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,4,"search.results.no-results")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_11__.DdM(8,_c0))("queryParams",_angular_core__WEBPACK_IMPORTED_MODULE_11__.VKq(9,_c1,ctx_r5.surroundStringWithQuotes(null==ctx_r5.searchConfig?null:ctx_r5.searchConfig.query))),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(5,6,"search.results.no-results-link")," ")}}__name(SearchResultsComponent_div_6_Template,"SearchResultsComponent_div_6_Template");class SearchResultsComponent{constructor(){this.hasNoValue=_empty_util__WEBPACK_IMPORTED_MODULE_12__.xI,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe}isLoading(){return!this.showError()&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xI)(this.searchResults)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xI)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(input){let result=input;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(result)&&!(result.startsWith('"')&&result.endsWith('"'))&&(result=`"${result}"`),result}}__name(SearchResultsComponent,"SearchResultsComponent"),SearchResultsComponent.\u0275fac=__name(function(t){return new(t||SearchResultsComponent)},"SearchResultsComponent_Factory"),SearchResultsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:SearchResultsComponent,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},decls:7,vars:6,consts:[[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"message",4,"ngIf"],[3,"searchConfig"],[3,"config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails","contentChange","deselectObject","selectObject"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(1,SearchResultsComponent_h2_1_Template,3,3,"h2",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(2,SearchResultsComponent_ds_search_export_csv_2_Template,1,1,"ds-search-export-csv",2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(3,SearchResultsComponent_div_3_Template,2,11,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(4,SearchResultsComponent_ds_themed_loading_4_Template,2,3,"ds-themed-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(5,SearchResultsComponent_ds_error_5_Template,2,3,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(6,SearchResultsComponent_div_6_Template,6,11,"div",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",!ctx.disableHeader),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.showCsvExport),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.searchResults&&(null==ctx.searchResults?null:ctx.searchResults.hasSucceeded)&&!(null!=ctx.searchResults&&ctx.searchResults.isLoading)&&(null==ctx.searchResults||null==ctx.searchResults.payload?null:ctx.searchResults.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.isLoading()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.showError()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",0==(null==ctx.searchResults||null==ctx.searchResults.payload?null:ctx.searchResults.payload.page.length)||400==(null==ctx.searchResults?null:ctx.searchResults.statusCode)))},"SearchResultsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_angular_router__WEBPACK_IMPORTED_MODULE_14__.rH,_error_error_component__WEBPACK_IMPORTED_MODULE_7__.q,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.Z,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__.c,_search_export_csv_search_export_csv_component__WEBPACK_IMPORTED_MODULE_10__.T,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.X$],encapsulation:2,data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_1__.Ji,_animations_fade__WEBPACK_IMPORTED_MODULE_1__.Ic]}})},54773:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ThemedSearchResultsComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209);__webpack_require__(83460),__webpack_require__(80454),__webpack_require__(81112),__webpack_require__(12448),__webpack_require__(87878),__webpack_require__(66919);function ThemedSearchResultsComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchResultsComponent_ng_template_0_Template,"ThemedSearchResultsComponent_ng_template_0_Template");class ThemedSearchResultsComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe}getComponentName(){return"SearchResultsComponent"}importThemedComponent(themeName){return __webpack_require__(7403)(`./${themeName}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return __webpack_require__.e(9164).then(__webpack_require__.bind(__webpack_require__,39164))}}__name(ThemedSearchResultsComponent,"ThemedSearchResultsComponent"),ThemedSearchResultsComponent.\u0275fac=function(){let \u0275ThemedSearchResultsComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchResultsComponent_BaseFactory||(\u0275ThemedSearchResultsComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_7__.n5z(ThemedSearchResultsComponent)))(t||ThemedSearchResultsComponent)},"ThemedSearchResultsComponent_Factory")}(),ThemedSearchResultsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:ThemedSearchResultsComponent,selectors:[["ds-themed-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(0,ThemedSearchResultsComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_7__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA())},"ThemedSearchResultsComponent_Template"),encapsulation:2})},91975:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchSettingsComponent:()=>SearchSettingsComponent});var _core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39185),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12448),__webpack_require__(40370),__webpack_require__(14892)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69169),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(32189),_sidebar_sidebar_dropdown_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84554),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47315),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4330);function SearchSettingsComponent_ds_sidebar_dropdown_5_option_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"option",4),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()),2&rf){const sortOptionsEntry_r2=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("value",sortOptionsEntry_r2.field+","+sortOptionsEntry_r2.direction.toString())("selected",sortOptionsEntry_r2.field===(null==ctx_r1.currentSortOption?null:ctx_r1.currentSortOption.field)&&sortOptionsEntry_r2.direction===(null==ctx_r1.currentSortOption?null:ctx_r1.currentSortOption.direction)?"selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(2,3,"sorting."+sortOptionsEntry_r2.field+"."+sortOptionsEntry_r2.direction)," ")}}function SearchSettingsComponent_ds_sidebar_dropdown_5_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_7__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"ds-sidebar-dropdown",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r4);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_7__.KtG(ctx_r3.reloadOrder($event))},"SearchSettingsComponent_ds_sidebar_dropdown_5_Template_ds_sidebar_dropdown_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(1,SearchSettingsComponent_ds_sidebar_dropdown_5_option_1_Template,3,5,"option",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngForOf",ctx_r0.sortOptionsList)}}__name(SearchSettingsComponent_ds_sidebar_dropdown_5_option_1_Template,"SearchSettingsComponent_ds_sidebar_dropdown_5_option_1_Template"),__name(SearchSettingsComponent_ds_sidebar_dropdown_5_Template,"SearchSettingsComponent_ds_sidebar_dropdown_5_Template");class SearchSettingsComponent{constructor(service,route,router,paginationService,searchConfigurationService){this.service=service,this.route=route,this.router=router,this.paginationService=paginationService,this.searchConfigurationService=searchConfigurationService}reloadOrder(event2){const values=event2.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:values[0],sortDirection:values[1],page:1})}}__name(SearchSettingsComponent,"SearchSettingsComponent"),SearchSettingsComponent.\u0275fac=__name(function(t){return new(t||SearchSettingsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_4__.N),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__.SEARCH_CONFIG_SERVICE))},"SearchSettingsComponent_Factory"),SearchSettingsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:SearchSettingsComponent,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","change",4,"ngIf"],[3,"id","label","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(4,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(5,SearchSettingsComponent_ds_sidebar_dropdown_5_Template,2,3,"ds-sidebar-dropdown",1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_7__._UZ(6,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(3,2,"search.sidebar.settings.title")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngIf",ctx.sortOptionsList))},"SearchSettingsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.Kr,_sidebar_sidebar_dropdown_component__WEBPACK_IMPORTED_MODULE_5__.N,_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_6__.k,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.X$],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})},87737:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ThemedSearchSettingsComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(12448),__webpack_require__(86209));function ThemedSearchSettingsComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchSettingsComponent_ng_template_0_Template,"ThemedSearchSettingsComponent_ng_template_0_Template");class ThemedSearchSettingsComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(themeName){return __webpack_require__(51542)(`./${themeName}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return __webpack_require__.e(1975).then(__webpack_require__.bind(__webpack_require__,91975))}}__name(ThemedSearchSettingsComponent,"ThemedSearchSettingsComponent"),ThemedSearchSettingsComponent.\u0275fac=function(){let \u0275ThemedSearchSettingsComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchSettingsComponent_BaseFactory||(\u0275ThemedSearchSettingsComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.n5z(ThemedSearchSettingsComponent)))(t||ThemedSearchSettingsComponent)},"ThemedSearchSettingsComponent_Factory")}(),ThemedSearchSettingsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:ThemedSearchSettingsComponent,selectors:[["ds-themed-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(0,ThemedSearchSettingsComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA())},"ThemedSearchSettingsComponent_Template"),encapsulation:2})},48159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchSidebarComponent:()=>SearchSidebarComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(81112),__webpack_require__(12448),__webpack_require__(65159)),_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82796),_search_switch_configuration_search_switch_configuration_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25140),_search_settings_themed_search_settings_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87737),_search_filters_themed_search_filters_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(95345),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4330);function SearchSidebarComponent_ds_view_mode_switch_11_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"ds-view-mode-switch",10),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("changeViewMode",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx_r2.changeViewMode.emit($event))},"SearchSidebarComponent_ds_view_mode_switch_11_Template_ds_view_mode_switch_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("viewModeList",ctx_r0.viewModeList)}}function SearchSidebarComponent_ds_search_switch_configuration_13_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"ds-search-switch-configuration",11),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r5);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx_r4.changeConfiguration.emit($event))},"SearchSidebarComponent_ds_search_switch_configuration_13_Template_ds_search_switch_configuration_changeConfiguration_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("configurationList",ctx_r1.configurationList)("defaultConfiguration",ctx_r1.configuration)("inPlaceSearch",ctx_r1.inPlaceSearch)}}__name(SearchSidebarComponent_ds_view_mode_switch_11_Template,"SearchSidebarComponent_ds_view_mode_switch_11_Template"),__name(SearchSidebarComponent_ds_search_switch_configuration_13_Template,"SearchSidebarComponent_ds_search_switch_configuration_13_Template");class SearchSidebarComponent{constructor(){this.showViewModes=!0,this.toggleSidebar=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe,this.changeConfiguration=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe,this.changeViewMode=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe}}__name(SearchSidebarComponent,"SearchSidebarComponent"),SearchSidebarComponent.\u0275fac=__name(function(t){return new(t||SearchSidebarComponent)},"SearchSidebarComponent_Factory"),SearchSidebarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:SearchSidebarComponent,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},decls:16,vars:19,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","close-sidebar",3,"click"],[1,"fas","fa-arrow-right",3,"title"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"currentSortOption","sortOptionsList"],[1,"d-none","d-md-block",3,"viewModeList","changeViewMode"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"div")(1,"div",0)(2,"small",1),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(5,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return ctx.toggleSidebar.emit()},"SearchSidebarComponent_Template_button_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(6,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(10,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(11,SearchSidebarComponent_ds_view_mode_switch_11_Template,1,1,"ds-view-mode-switch",5),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(12,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(13,SearchSidebarComponent_ds_search_switch_configuration_13_Template,1,3,"ds-search-switch-configuration",7),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(14,"ds-themed-search-filters",8)(15,"ds-themed-search-settings",9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.AsE("",ctx.resultCount," ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(4,13,"search.sidebar.results"),""),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(7,15,"search.sidebar.close")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(9,17,"search.sidebar.close")," "),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.showViewModes),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.configurationList),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("currentScope",ctx.currentScope)("currentConfiguration",ctx.configuration)("filters",ctx.filters)("refreshFilters",ctx.refreshFilters)("inPlaceSearch",ctx.inPlaceSearch),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("currentSortOption",ctx.currentSortOption)("sortOptionsList",ctx.sortOptionsList))},"SearchSidebarComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_2__.$,_search_switch_configuration_search_switch_configuration_component__WEBPACK_IMPORTED_MODULE_3__.n,_search_settings_themed_search_settings_component__WEBPACK_IMPORTED_MODULE_4__.M,_search_filters_themed_search_filters_component__WEBPACK_IMPORTED_MODULE_5__.R,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.X$],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})},15888:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ThemedSearchSidebarComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787);__webpack_require__(12448),__webpack_require__(81112);function ThemedSearchSidebarComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchSidebarComponent_ng_template_0_Template,"ThemedSearchSidebarComponent_ng_template_0_Template");class ThemedSearchSidebarComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.showViewModes=!0,this.toggleSidebar=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.changeConfiguration=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.changeViewMode=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(themeName){return __webpack_require__(32874)(`./${themeName}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return __webpack_require__.e(8159).then(__webpack_require__.bind(__webpack_require__,48159))}}__name(ThemedSearchSidebarComponent,"ThemedSearchSidebarComponent"),ThemedSearchSidebarComponent.\u0275fac=function(){let \u0275ThemedSearchSidebarComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchSidebarComponent_BaseFactory||(\u0275ThemedSearchSidebarComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.n5z(ThemedSearchSidebarComponent)))(t||ThemedSearchSidebarComponent)},"ThemedSearchSidebarComponent_Factory")}(),ThemedSearchSidebarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:ThemedSearchSidebarComponent,selectors:[["ds-themed-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,ThemedSearchSidebarComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA())},"ThemedSearchSidebarComponent_Template"),encapsulation:2})},25140:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>SearchSwitchConfigurationComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59501),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(40370),__webpack_require__(39185)),_utils_route_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(92461),lodash_findIndex__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56242),lodash_findIndex__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_3__),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(32189),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330);function SearchSwitchConfigurationComponent_div_0_option_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"option",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const option_r2=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngValue",option_r2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,2,option_r2.label)," ")}}function SearchSwitchConfigurationComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",1)(1,"h5",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(4,"select",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r4);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r3.selectedOption=$event)},"SearchSwitchConfigurationComponent_div_0_Template_select_ngModelChange_4_listener"))("change",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r4);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r5.onSelect())},"SearchSwitchConfigurationComponent_div_0_Template_select_change_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(5,SearchSwitchConfigurationComponent_div_0_option_5_Template,3,4,"option",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,4,"search.switch-configuration.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("compareWith",ctx_r0.compare)("ngModel",ctx_r0.selectedOption),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",ctx_r0.configurationList)}}__name(SearchSwitchConfigurationComponent_div_0_option_5_Template,"SearchSwitchConfigurationComponent_div_0_option_5_Template"),__name(SearchSwitchConfigurationComponent_div_0_Template,"SearchSwitchConfigurationComponent_div_0_Template");class SearchSwitchConfigurationComponent{constructor(router,searchService,searchConfigService){this.router=router,this.searchService=searchService,this.searchConfigService=searchConfigService,this.configurationList=[],this.changeConfiguration=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(currentConfiguration=>{const index=lodash_findIndex__WEBPACK_IMPORTED_MODULE_3___default()(this.configurationList,{value:currentConfiguration});this.selectedOption=this.configurationList[index]})}onSelect(){const navigationExtras={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),navigationExtras)}compare(item1,item2){return item1===item2}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.Uh)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_6__.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}}__name(SearchSwitchConfigurationComponent,"SearchSwitchConfigurationComponent"),SearchSwitchConfigurationComponent.\u0275fac=__name(function(t){return new(t||SearchSwitchConfigurationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_7__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_2__.o),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE))},"SearchSwitchConfigurationComponent_Factory"),SearchSwitchConfigurationComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:SearchSwitchConfigurationComponent,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-control",3,"compareWith","ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(0,SearchSwitchConfigurationComponent_div_0_Template,6,6,"div",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",(null==ctx.configurationList?null:ctx.configurationList.length)>1)},"SearchSwitchConfigurationComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_8__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Kr,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.On,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$]})},9818:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchComponent:()=>SearchComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(16088),rxjs__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(96846),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46895),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),_animations_push__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99911),_host_window_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16816),_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81469),_empty_util__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(59501),_core_services_route_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22287),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14892),_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(81112),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(40370),__webpack_require__(39185)),_utils_route_utils__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(92461),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(66919),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(53829),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(58090),src_environments_environment__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(83460),__webpack_require__(91602)),_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(50306),_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(67328),_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(50093),_angular_common__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(65159),_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6381),_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(58414),_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(82796),_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70249),_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(54773),_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(15888),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(4330);function SearchComponent_div_0_3_ng_template_0_Template(rf,ctx){}function SearchComponent_div_0_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_0_3_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",6)(1,"div",7)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,SearchComponent_div_0_3_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r7)}}function SearchComponent_div_2_1_ng_template_0_Template(rf,ctx){}function SearchComponent_div_2_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_2_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_div_2_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r3)}}function SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template(rf,ctx){}function SearchComponent_ds_page_with_sidebar_4_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_ds_page_with_sidebar_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-page-with-sidebar",10),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ds_page_with_sidebar_4_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(9),_r3=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("id","search-page")("sidebarContent",_r5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r3)}}function SearchComponent_ng_template_6_div_1_1_ng_template_0_Template(rf,ctx){}function SearchComponent_ng_template_6_div_1_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_6_div_1_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_ng_template_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ng_template_6_div_1_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Hsn(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r7)}}function SearchComponent_ng_template_6_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ng_template_6_div_1_Template,3,1,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(3,"div",12)(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(5,"ds-view-mode-switch",14),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(6,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r18.openSidebar())},"SearchComponent_ng_template_6_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(7,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(10,"ds-themed-search-results",17),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("contentChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r20.onContentChange($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_contentChange_10_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r21.deselectObject.emit($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_deselectObject_10_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r22.selectObject.emit($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_selectObject_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,14,ctx_r4.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("viewModeList",ctx_r4.viewModeList)("inPlaceSearch",ctx_r4.inPlaceSearch),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(9,16,"search.sidebar.open")," "),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(11,18,ctx_r4.resultsRD$))("searchConfig",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(12,20,ctx_r4.searchOptions$))("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(13,22,ctx_r4.currentConfiguration$))("disableHeader",!ctx_r4.searchEnabled)("linkType",ctx_r4.linkType)("context",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(14,24,ctx_r4.currentContext$))("selectable",ctx_r4.selectable)("selectionConfig",ctx_r4.selectionConfig)("showCsvExport",ctx_r4.showCsvExport)("showThumbnails",ctx_r4.showThumbnails)}}function SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-themed-search-sidebar",20),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r26);const ctx_r25=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r25.changeContext($event.context))},"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r26);const ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r27.changeViewMode())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("configurationList",ctx_r23.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,12,ctx_r23.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,14,ctx_r23.currentScope$))("filters",ctx_r23.filtersRD$.asObservable())("refreshFilters",ctx_r23.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,16,ctx_r23.resultsRD$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,18,ctx_r23.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,20,ctx_r23.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(6,22,ctx_r23.currentSortOptions$))("inPlaceSearch",ctx_r23.inPlaceSearch)("viewModeList",ctx_r23.viewModeList)("showViewModes",ctx_r23.showViewModes)}}function SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template(rf,ctx){if(1&rf){const _r29=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-themed-search-sidebar",21),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("toggleSidebar",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r28=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r28.closeSidebar())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_toggleSidebar_0_listener"))("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r30=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r30.changeContext($event.context))},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r31=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r31.changeViewMode())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("configurationList",ctx_r24.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,11,ctx_r24.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,13,ctx_r24.currentScope$))("filters",ctx_r24.filtersRD$.asObservable())("refreshFilters",ctx_r24.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,15,ctx_r24.resultsRD$))?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,17,ctx_r24.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,19,ctx_r24.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(6,21,ctx_r24.currentSortOptions$))("viewModeList",ctx_r24.viewModeList)("showViewModes",ctx_r24.showViewModes)}}function SearchComponent_ng_template_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template,7,24,"ds-themed-search-sidebar",18),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template,7,23,"ds-themed-search-sidebar",19),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async")),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,2,ctx_r6.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,4,ctx_r6.isXsOrSm$))}}function SearchComponent_ng_template_10_ds_themed_search_form_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-themed-search-form",26),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"translate")),2&rf){const ctx_r32=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_0_0,tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("query",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,6,ctx_r32.searchOptions$))?null:tmp_0_0.query)("scope",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,8,ctx_r32.searchOptions$))?null:tmp_1_0.scope)("currentUrl",ctx_r32.searchLink)("showScopeSelector",ctx_r32.showScopeSelector)("inPlaceSearch",ctx_r32.inPlaceSearch)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,10,ctx_r32.searchFormPlaceholder))}}function SearchComponent_ng_template_10_ds_search_labels_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-search-labels",27),2&rf){const ctx_r33=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("inPlaceSearch",ctx_r33.inPlaceSearch)}}function SearchComponent_ng_template_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_10_ds_themed_search_form_0_Template,4,12,"ds-themed-search-form",22),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(1,"div",23)(2,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,SearchComponent_ng_template_10_ds_search_labels_3_Template,1,1,"ds-search-labels",25),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()),2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx_r8.searchEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx_r8.searchEnabled)}}__name(SearchComponent_div_0_3_ng_template_0_Template,"SearchComponent_div_0_3_ng_template_0_Template"),__name(SearchComponent_div_0_3_Template,"SearchComponent_div_0_3_Template"),__name(SearchComponent_div_0_Template,"SearchComponent_div_0_Template"),__name(SearchComponent_div_2_1_ng_template_0_Template,"SearchComponent_div_2_1_ng_template_0_Template"),__name(SearchComponent_div_2_1_Template,"SearchComponent_div_2_1_Template"),__name(SearchComponent_div_2_Template,"SearchComponent_div_2_Template"),__name(SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,"SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template"),__name(SearchComponent_ds_page_with_sidebar_4_1_Template,"SearchComponent_ds_page_with_sidebar_4_1_Template"),__name(SearchComponent_ds_page_with_sidebar_4_Template,"SearchComponent_ds_page_with_sidebar_4_Template"),__name(SearchComponent_ng_template_6_div_1_1_ng_template_0_Template,"SearchComponent_ng_template_6_div_1_1_ng_template_0_Template"),__name(SearchComponent_ng_template_6_div_1_1_Template,"SearchComponent_ng_template_6_div_1_1_Template"),__name(SearchComponent_ng_template_6_div_1_Template,"SearchComponent_ng_template_6_div_1_Template"),__name(SearchComponent_ng_template_6_Template,"SearchComponent_ng_template_6_Template"),__name(SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template,"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template"),__name(SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template,"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template"),__name(SearchComponent_ng_template_8_Template,"SearchComponent_ng_template_8_Template"),__name(SearchComponent_ng_template_10_ds_themed_search_form_0_Template,"SearchComponent_ng_template_10_ds_themed_search_form_0_Template"),__name(SearchComponent_ng_template_10_ds_search_labels_3_Template,"SearchComponent_ng_template_10_ds_search_labels_3_Template"),__name(SearchComponent_ng_template_10_Template,"SearchComponent_ng_template_10_Template");const _c0=[[["","additionalSearchOptions",""]]];class SearchComponent{constructor(service,sidebarService,windowService,searchConfigService,routeService,router){this.service=service,this.sidebarService=sidebarService,this.windowService=windowService,this.searchConfigService=searchConfigService,this.routeService=routeService,this.router=router,this.configurationList=[],this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_9__._.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(""),this.currentContext$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.currentScope$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(""),this.currentSortOptions$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.filtersRD$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.resultsRD$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.searchOptions$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.sortOptionsList$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject([]),this.initialized$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(!1),this.refreshFilters=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__.Oo,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_22__.yu,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__.Ww],this.subs=[],this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){this.useUniquePageId&&(this.paginationId=lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const configuration$=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),searchSortOptions$=configuration$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.wt)(configuration=>this.searchConfigService.getConfigurationSearchConfig(configuration)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.UI)(searchConfig=>this.searchConfigService.getConfigurationSortOptions(searchConfig)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),sortOption$=searchSortOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.wt)(searchSortOptions=>{const defaultSort=searchSortOptions[0];return this.searchConfigService.getCurrentSort(this.paginationId,defaultSort)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),searchOptions$=this.getSearchOptions().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)());this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.combineLatest)([configuration$,searchSortOptions$,searchOptions$,sortOption$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.hX)(([configuration,searchSortOptions,searchOptions,sortOption])=>searchOptions.pagination.id===this.paginationId),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.bh)(100)).subscribe(([configuration,searchSortOptions,searchOptions,sortOption])=>{const combinedOptions=Object.assign({},searchOptions,{configuration:searchOptions.configuration||configuration,sort:sortOption||searchOptions.sort});""===combinedOptions.query&&(combinedOptions.query=this.query);const newSearchOptions=new _models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_6__.t(combinedOptions);JSON.stringify(newSearchOptions)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(configuration),this.currentSortOptions$.next(newSearchOptions.sort),this.currentScope$.next(newSearchOptions.scope),this.sortOptionsList$.next(searchSortOptions),this.searchOptions$.next(newSearchOptions),this.initialized$.next(!0),this.retrieveSearchResults(newSearchOptions),this.retrieveFilters(searchOptions))})),this.subscribeToRoutingEvents()}changeContext(context){this.currentContext$.next(context)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange($event){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(searchOptions){this.filtersRD$.next(null),this.searchConfigService.getConfig(searchOptions.scope,searchOptions.configuration).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.hC)()).subscribe(filtersRD=>{this.filtersRD$.next(filtersRD)})}retrieveSearchResults(searchOptions){this.resultsRD$.next(null),this.lastSearchOptions=searchOptions;let followLinks=[(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("thumbnail",{isOptional:!0}),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("item",{isOptional:!0},(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("thumbnail",{isOptional:!0})),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("accessStatus",{isOptional:!0,shouldEmbed:src_environments_environment__WEBPACK_IMPORTED_MODULE_12__.N.item.showAccessStatuses})];"supervision"===this.configuration&&followLinks.push((0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("supervisionOrders",{isOptional:!0})),this.service.search(searchOptions,void 0,this.useCachedVersionIfAvailable,!0,...followLinks).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.hC)()).subscribe(results=>{results.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(searchOptions,results.payload),results.payload?.page?.length>0&&this.resultFound.emit(results.payload)),this.resultsRD$.next(results)})}subscribeToRoutingEvents(){this.subs.push(this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.hX)(event2=>event2 instanceof _angular_router__WEBPACK_IMPORTED_MODULE_27__.OD),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.UI)(event2=>this.getDsoUUIDFromUrl(event2.url)),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.tz)()).subscribe(uuid=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,uuid)}))}getDsoUUIDFromUrl(url){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.UE)(url)&&this.allowedObjectPaths.some(path=>url.startsWith(`/${path}`))){const uuid=url.substring(url.lastIndexOf("/")+1);if(uuid.match(this.uuidRegex))return uuid}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_28__.T)(this.router):this.service.getSearchLink()}}__name(SearchComponent,"SearchComponent"),SearchComponent.\u0275fac=__name(function(t){return new(t||SearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_8__.o),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_3__.P),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_host_window_service__WEBPACK_IMPORTED_MODULE_2__.I),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__.SEARCH_CONFIG_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_4__.MZ),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_27__.F0))},"SearchComponent_Factory"),SearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.Xpm({type:SearchComponent,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},ngContentSelectors:["[additionalSearchOptions]"],decls:12,vars:9,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sidebarContent",4,"ngIf"],["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder",4,"ngIf"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-sm-9"],[3,"inPlaceSearch",4,"ngIf"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[3,"inPlaceSearch"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_0_Template,4,1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,SearchComponent_div_2_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(4,SearchComponent_ds_page_with_sidebar_4_Template,2,3,"ds-page-with-sidebar",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(6,SearchComponent_ng_template_6_Template,15,26,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(8,SearchComponent_ng_template_8_Template,4,6,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(10,SearchComponent_ng_template_10_Template,4,2,"ng-template",null,5,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,3,ctx.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,5,ctx.initialized$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,7,ctx.initialized$)))},"SearchComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_29__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_29__.tP,_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_13__.p,_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_14__.R,_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_15__.$,_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_16__.B,_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_17__.g,_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_18__.H,_angular_common__WEBPACK_IMPORTED_MODULE_29__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_30__.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[_animations_push__WEBPACK_IMPORTED_MODULE_1__.z]},changeDetection:0})},72086:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>SearchModule});var common=__webpack_require__(65159),search_switch_configuration_component=__webpack_require__(25140),search_filters_component=__webpack_require__(45995),search_filter_component=__webpack_require__(98746),animations=__webpack_require__(274),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),remote_data_build_service=__webpack_require__(20018),empty_util=__webpack_require__(59501),emphasize_pipe=__webpack_require__(90502),facet_value_model=__webpack_require__(44891),search_filter_config_model=__webpack_require__(10224),search_service=__webpack_require__(39185),search_filter_service=__webpack_require__(99267),search_configuration_service=__webpack_require__(40370),shared_operators=__webpack_require__(53829),my_dspace_page_component=__webpack_require__(14892),route_utils=__webpack_require__(92461),search_utils=__webpack_require__(40738),remote_data_utils=__webpack_require__(75637),core=__webpack_require__(86209),router=__webpack_require__(16088);class SearchFacetFilterComponent{constructor(searchService,filterService,rdbs,router2,searchConfigService,inPlaceSearch,filterConfig,refreshFilters){this.searchService=searchService,this.filterService=filterService,this.rdbs=rdbs,this.router=router2,this.searchConfigService=searchConfigService,this.inPlaceSearch=inPlaceSearch,this.filterConfig=filterConfig,this.refreshFilters=refreshFilters,this.isLastPage$=new cjs.BehaviorSubject(!1),this.subs=[],this.filterSearchResults=(0,cjs.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.filterValues$=new cjs.BehaviorSubject((0,remote_data_utils.Xx)()),this.currentPage=this.getCurrentPage().pipe((0,operators.xb)()),this.searchOptions$=this.searchConfigService.searchOptions,this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.refreshFilters.asObservable().pipe((0,operators.hX)(toRefresh=>toRefresh),(0,operators.bh)(100),(0,operators.zg)(()=>this.retrieveFilterValues(!1))).subscribe()),this.retrieveFilterValues().subscribe()}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}isChecked(value){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,value.value)}getSearchLink(){return this.inPlaceSearch?(0,route_utils.T)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(data){this.applyFilterValue(data)}onClick(data){this.applyFilterValue(data.query)}hasValue(o){return(0,empty_util.Uh)(o)}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}findSuggestions(data){(0,empty_util.UE)(data)?this.searchOptions$.pipe((0,operators.qn)(1)).subscribe(options=>{this.filterSearchResults=this.searchService.getFacetValuesFor(this.filterConfig,1,options,data.toLowerCase()).pipe((0,shared_operators.xw)(),(0,operators.UI)(rd=>rd.payload.page.map(facet=>({displayValue:this.getDisplayValue(facet,data),query:this.getFacetValue(facet),value:(0,search_utils.RD)(this.getFacetValue(facet))}))))}):this.filterSearchResults=(0,cjs.of)([])}applyFilterValue(data){data.match(new RegExp("^.+,(equals|query|authority)$"))&&this.selectedValues$.pipe((0,operators.qn)(1)).subscribe(selectedValues=>{(0,empty_util.UE)(data)&&(this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName]:[...selectedValues.map(facet=>this.getFacetValue(facet)),data]},queryParamsHandling:"merge"}),this.filter=""),this.filterSearchResults=(0,cjs.of)([])})}getFacetValue(facet){return(0,search_utils.MD)(facet,this.filterConfig)}retrieveFilterValues(useCachedVersionIfAvailable=!0){const facetValues$=(0,cjs.combineLatest)([this.searchOptions$,this.currentPage]).pipe((0,operators.UI)(([options,page])=>({options,page})),(0,operators.wt)(({options,page})=>this.searchService.getFacetValuesFor(this.filterConfig,page,options,null,useCachedVersionIfAvailable).pipe((0,shared_operators.xw)(),(0,operators.bw)(rd=>{this.isLastPage$.next((0,empty_util.xI)(rd?.payload?.next))}),(0,operators.UI)(rd=>({values:(0,cjs.of)(rd),page})))));let filterValues=[];return facetValues$.pipe((0,operators.zg)(facetOutcome=>{const newValues$=facetOutcome.values;return this.collapseNextUpdate&&(this.showFirstPageOnly(),facetOutcome.page=1,this.collapseNextUpdate=!1),1===facetOutcome.page&&(filterValues=[]),filterValues=[...filterValues,newValues$],this.rdbs.aggregate(filterValues)}),(0,operators.bw)(rd=>{this.selectedValues$=this.filterService.getSelectedValuesForFilter(this.filterConfig).pipe((0,operators.UI)(selectedValues=>selectedValues.map(value=>{const fValue=[].concat(...rd.payload.map(page=>page.page)).find(facetValue=>this.getFacetValue(facetValue)===value);if((0,empty_util.Uh)(fValue))return fValue;const filterValue=(0,search_utils.RD)(value);return Object.assign(new facet_value_model.G,{label:filterValue,value:filterValue})})))}),(0,operators.bw)(rd=>{this.animationState="ready",this.filterValues$.next(rd)}))}getDisplayValue(facet,query){return(new emphasize_pipe.R).transform(facet.value,query)+" ("+facet.count+")"}trackUpdate(index,value){return value?value._links.search.href:void 0}}__name(SearchFacetFilterComponent,"SearchFacetFilterComponent"),SearchFacetFilterComponent.\u0275fac=__name(function(t){return new(t||SearchFacetFilterComponent)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(remote_data_build_service.Q),core.Y36(router.F0),core.Y36(my_dspace_page_component.SEARCH_CONFIG_SERVICE),core.Y36(search_filter_service.y5),core.Y36(search_filter_service.j9),core.Y36(search_filter_service.Pe))},"SearchFacetFilterComponent_Factory"),SearchFacetFilterComponent.\u0275cmp=core.Xpm({type:SearchFacetFilterComponent,selectors:[["ds-search-facet-filter"]],decls:0,vars:0,template:__name(function(rf,ctx){},"SearchFacetFilterComponent_Template"),encapsulation:2});const facetLoad=(0,animations.X$)("facetLoad",[(0,animations.SB)("ready",(0,animations.oB)({opacity:1})),(0,animations.SB)("loading",(0,animations.oB)({opacity:0})),(0,animations.eR)("loading <=> ready",(0,animations.jt)(100))]);var _class,search_labels_component=__webpack_require__(70249),search_label_component=__webpack_require__(25485),search_facet_filter_wrapper_component=__webpack_require__(94083),tslib_es6=__webpack_require__(70655),ngx_translate_core=__webpack_require__(4330),filter_type_model=__webpack_require__(92294),search_filter_type_decorator=__webpack_require__(24742),route_service=__webpack_require__(22287),date_util=__webpack_require__(66655);function SearchRangeFilterComponent_ng_container_21_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.ynx(0),core.TgZ(1,"nouislider",11),core.NdJ("onDebounce",__name(function(){core.CHM(_r4);const ctx_r3=core.oxw();return core.KtG(ctx_r3.onSubmit())},"SearchRangeFilterComponent_ng_container_21_Template_nouislider_onDebounce_1_listener"))("keydown",__name(function(){core.CHM(_r4);const ctx_r5=core.oxw();return core.KtG(ctx_r5.startKeyboardControl())},"SearchRangeFilterComponent_ng_container_21_Template_nouislider_keydown_1_listener"))("keyup",__name(function(){core.CHM(_r4);const ctx_r6=core.oxw();return core.KtG(ctx_r6.stopKeyboardControl())},"SearchRangeFilterComponent_ng_container_21_Template_nouislider_keyup_1_listener"))("ngModelChange",__name(function($event){core.CHM(_r4);const ctx_r7=core.oxw();return core.KtG(ctx_r7.range=$event)},"SearchRangeFilterComponent_ng_container_21_Template_nouislider_ngModelChange_1_listener")),core.qZA(),core.BQk()}if(2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("connect",!0)("config",ctx_r1.config)("min",ctx_r1.min)("max",ctx_r1.max)("step",1)("dsDebounce",250)("ngModel",ctx_r1.range)}}function SearchRangeFilterComponent_ng_container_22_ds_search_facet_range_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-range-option",13),2&rf){const value_r10=ctx.$implicit,ctx_r9=core.oxw(2);core.Q6J("filterConfig",ctx_r9.filterConfig)("filterValue",value_r10)("inPlaceSearch",ctx_r9.inPlaceSearch)}}function SearchRangeFilterComponent_ng_container_22_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div"),core.YNc(2,SearchRangeFilterComponent_ng_container_22_ds_search_facet_range_option_2_Template,1,3,"ds-search-facet-range-option",12),core.qZA(),core.BQk()),2&rf){const page_r8=ctx.$implicit,ctx_r2=core.oxw();core.xp6(1),core.Q6J("@facetLoad",ctx_r2.animationState),core.xp6(1),core.Q6J("ngForOf",page_r8.page)("ngForTrackBy",ctx_r2.trackUpdate)}}__name(SearchRangeFilterComponent_ng_container_21_Template,"SearchRangeFilterComponent_ng_container_21_Template"),__name(SearchRangeFilterComponent_ng_container_22_ds_search_facet_range_option_2_Template,"SearchRangeFilterComponent_ng_container_22_ds_search_facet_range_option_2_Template"),__name(SearchRangeFilterComponent_ng_container_22_Template,"SearchRangeFilterComponent_ng_container_22_Template");let SearchRangeFilterComponent=((_class=__name(class extends SearchFacetFilterComponent{constructor(searchService,filterService,router2,rdbs,translateService,searchConfigService,inPlaceSearch,filterConfig,platformId,refreshFilters,route){super(searchService,filterService,rdbs,router2,searchConfigService,inPlaceSearch,filterConfig,refreshFilters),this.searchService=searchService,this.filterService=filterService,this.router=router2,this.rdbs=rdbs,this.translateService=translateService,this.searchConfigService=searchConfigService,this.inPlaceSearch=inPlaceSearch,this.filterConfig=filterConfig,this.platformId=platformId,this.refreshFilters=refreshFilters,this.route=route,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,date_util.Ks)(this.filterConfig.minValue)||this.min,this.max=(0,date_util.Ks)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const iniMin=this.route.getQueryParameterValue(this.filterConfig.paramName+".min").pipe((0,operators.O4)(void 0)),iniMax=this.route.getQueryParameterValue(this.filterConfig.paramName+".max").pipe((0,operators.O4)(void 0));this.sub=(0,cjs.combineLatest)(iniMin,iniMax).pipe((0,operators.UI)(([min,max])=>[(0,empty_util.Uh)(min)?min:this.min,(0,empty_util.Uh)(max)?max:this.max])).subscribe(minmax=>this.range=minmax),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSubmit(){if(this.keyboardControl)return;const newMin=this.range[0]!==this.min?[this.range[0]]:null,newMax=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+".min"]:newMin,[this.filterConfig.paramName+".max"]:newMax},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,common.NF)(this.platformId)}ngOnDestroy(){super.ngOnDestroy(),(0,empty_util.Uh)(this.sub)&&this.sub.unsubscribe()}},"SearchRangeFilterComponent")).\u0275fac=__name(function(t){return new(t||_class)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(router.F0),core.Y36(remote_data_build_service.Q),core.Y36(ngx_translate_core.sK),core.Y36(my_dspace_page_component.SEARCH_CONFIG_SERVICE),core.Y36(search_filter_service.y5),core.Y36(search_filter_service.j9),core.Y36(core.Lbi),core.Y36(search_filter_service.Pe),core.Y36(route_service.MZ))},"SearchRangeFilterComponent_Factory"),_class.\u0275cmp=core.Xpm({type:_class,selectors:[["ds-search-range-filter"]],features:[core.qOj],decls:24,vars:22,consts:[[1,"filters","py-2"],[1,"add-filter","row",3,"action","ngSubmit"],["form","ngForm"],[1,"col-6","form-group","mb-0"],[1,"font-weight-bold"],["type","text",1,"form-control",3,"ngModel","name","placeholder","ngModelChange","blur"],[1,"col-6"],[1,"d-none"],["type","submit",1,"d-none"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngDefaultControl","",3,"connect","config","min","max","step","dsDebounce","ngModel","onDebounce","keydown","keyup","ngModelChange"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",0)(2,"form",1,2),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit()},"SearchRangeFilterComponent_Template_form_ngSubmit_2_listener")),core.TgZ(4,"div",3)(5,"label")(6,"span",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"input",5),core.NdJ("ngModelChange",__name(function($event){return ctx.range[0]=$event},"SearchRangeFilterComponent_Template_input_ngModelChange_9_listener"))("blur",__name(function(){return ctx.onSubmit()},"SearchRangeFilterComponent_Template_input_blur_9_listener")),core.qZA()()(),core.TgZ(10,"div",6)(11,"label")(12,"span",4),core._uU(13),core.ALo(14,"translate"),core.qZA(),core.TgZ(15,"input",5),core.NdJ("ngModelChange",__name(function($event){return ctx.range[1]=$event},"SearchRangeFilterComponent_Template_input_ngModelChange_15_listener"))("blur",__name(function(){return ctx.onSubmit()},"SearchRangeFilterComponent_Template_input_blur_15_listener")),core.qZA()()(),core.TgZ(16,"label",7),core._UZ(17,"input",8),core.TgZ(18,"span"),core._uU(19),core.ALo(20,"translate"),core.qZA()()(),core.YNc(21,SearchRangeFilterComponent_ng_container_21_Template,2,7,"ng-container",9),core.YNc(22,SearchRangeFilterComponent_ng_container_22_Template,3,3,"ng-container",10),core.ALo(23,"async"),core.qZA()()),2&rf){let tmp_13_0;core.xp6(2),core.Q6J("action",ctx.currentUrl,core.LSH),core.xp6(5),core.hij(" ",core.lcZ(8,14,"search.filters.filter."+ctx.filterConfig.name+".min.label")," "),core.xp6(2),core.Q6J("ngModel",ctx.range[0])("name",ctx.filterConfig.paramName+".min")("placeholder",ctx.minLabel),core.uIk("aria-label",ctx.minLabel),core.xp6(4),core.hij(" ",core.lcZ(14,16,"search.filters.filter."+ctx.filterConfig.name+".max.label")," "),core.xp6(2),core.Q6J("ngModel",ctx.range[1])("name",ctx.filterConfig.paramName+".max")("placeholder",ctx.maxLabel),core.uIk("aria-label",ctx.maxLabel),core.xp6(4),core.Oqu(core.lcZ(20,18,"search.filters.search.submit")),core.xp6(2),core.Q6J("ngIf",ctx.shouldShowSlider()),core.xp6(1),core.Q6J("ngForOf",null==(tmp_13_0=core.lcZ(23,20,ctx.filterValues$))?null:tmp_13_0.payload)}},"SearchRangeFilterComponent_Template"),styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}"],data:{animation:[facetLoad]}}),_class);SearchRangeFilterComponent=(0,tslib_es6.__decorate)([(0,search_filter_type_decorator.z)(filter_type_model.v.range),(0,tslib_es6.__metadata)("design:paramtypes",[search_service.o,search_filter_service.nJ,router.F0,remote_data_build_service.Q,ngx_translate_core.sK,search_configuration_service.U,Boolean,search_filter_config_model.B,Object,cjs.BehaviorSubject,route_service.MZ])],SearchRangeFilterComponent);var fesm2020_forms=__webpack_require__(32189),filter_input_suggestions_component=__webpack_require__(96144),pagination_service=__webpack_require__(69169),short_number_pipe=__webpack_require__(92964);const _c0=__name(function(a0){return[a0]},"_c0"),_c1=__name(function(a0){return{default:a0}},"_c1");function SearchFacetOptionComponent_a_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",1)(1,"label",2),core._UZ(2,"input",3),core.TgZ(3,"span",4)(4,"span",5),core._uU(5),core.ALo(6,"dsShortNumber"),core.qZA(),core._uU(7),core.ALo(8,"translate"),core.qZA()()()),2&rf){const ctx_r0=core.oxw();core.Q6J("tabIndex",-1)("routerLink",core.VKq(11,_c0,ctx_r0.searchLink))("queryParams",ctx_r0.addQueryParams),core.xp6(2),core.Q6J("checked",!1),core.xp6(3),core.Oqu(core.lcZ(6,6,ctx_r0.filterValue.count)),core.xp6(2),core.hij(" ",core.xi3(8,8,"search.filters."+ctx_r0.filterConfig.name+"."+ctx_r0.filterValue.value,core.VKq(13,_c1,ctx_r0.filterValue.value))," ")}}__name(SearchFacetOptionComponent_a_0_Template,"SearchFacetOptionComponent_a_0_Template");class SearchFacetOptionComponent{constructor(searchService,filterService,searchConfigService,router2,paginationService){this.searchService=searchService,this.filterService=filterService,this.searchConfigService=searchConfigService,this.router=router2,this.paginationService=paginationService}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,operators.UI)(checked=>!checked)),this.sub=(0,cjs.combineLatest)(this.selectedValues$,this.searchConfigService.searchOptions).subscribe(([selectedValues,searchOptions])=>{this.updateAddParams(selectedValues)})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,route_utils.T)(this.router):this.searchService.getSearchLink()}updateAddParams(selectedValues){const page=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.addQueryParams={[this.filterConfig.paramName]:[...selectedValues.map(facetValue=>(0,search_utils.MD)(facetValue,this.filterConfig)),this.getFacetValue()],[page]:1}}getFacetValue(){return(0,search_utils.MD)(this.filterValue,this.filterConfig)}ngOnDestroy(){(0,empty_util.Uh)(this.sub)&&this.sub.unsubscribe()}}__name(SearchFacetOptionComponent,"SearchFacetOptionComponent"),SearchFacetOptionComponent.\u0275fac=__name(function(t){return new(t||SearchFacetOptionComponent)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(search_configuration_service.U),core.Y36(router.F0),core.Y36(pagination_service.N))},"SearchFacetOptionComponent_Factory"),SearchFacetOptionComponent.\u0275cmp=core.Xpm({type:SearchFacetOptionComponent,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",selectedValues$:"selectedValues$",inPlaceSearch:"inPlaceSearch"},decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"tabIndex","routerLink","queryParams",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","pl-1","break-facet"],[1,"float-right","badge","badge-secondary","badge-pill","mt-1","ml-1"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SearchFacetOptionComponent_a_0_Template,9,15,"a",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.isVisible))},"SearchFacetOptionComponent_Template"),dependencies:[common.O5,router.rH,common.Ov,ngx_translate_core.X$,short_number_pipe.H],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]});const search_facet_selected_option_component_c0=__name(function(a0){return[a0]},"search_facet_selected_option_component_c0"),search_facet_selected_option_component_c1=__name(function(a0){return{default:a0}},"search_facet_selected_option_component_c1");class SearchFacetSelectedOptionComponent{constructor(searchService,filterService,searchConfigService,router2,paginationService){this.searchService=searchService,this.filterService=filterService,this.searchConfigService=searchConfigService,this.router=router2,this.paginationService=paginationService}ngOnInit(){this.sub=(0,cjs.combineLatest)(this.selectedValues$,this.searchConfigService.searchOptions).subscribe(([selectedValues,searchOptions])=>{this.updateRemoveParams(selectedValues)}),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,route_utils.T)(this.router):this.searchService.getSearchLink()}updateRemoveParams(selectedValues){const page=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.removeQueryParams={[this.filterConfig.paramName]:selectedValues.filter(facetValue=>facetValue.label!==this.selectedValue.label).map(facetValue=>this.getFacetValue(facetValue)),[page]:1}}getFacetValue(facetValue){return(0,search_utils.MD)(facetValue,this.filterConfig)}ngOnDestroy(){(0,empty_util.Uh)(this.sub)&&this.sub.unsubscribe()}}var search_text_filter_component_class;function SearchTextFilterComponent_ds_search_facet_selected_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-selected-option",7),2&rf){const value_r4=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("selectedValue",value_r4)("filterConfig",ctx_r0.filterConfig)("selectedValues$",ctx_r0.selectedValues$)("inPlaceSearch",ctx_r0.inPlaceSearch)}}function SearchTextFilterComponent_ng_container_4_ds_search_facet_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-option",9),2&rf){const value_r7=ctx.$implicit,ctx_r6=core.oxw(2);core.Q6J("filterConfig",ctx_r6.filterConfig)("filterValue",value_r7)("selectedValues$",ctx_r6.selectedValues$)("inPlaceSearch",ctx_r6.inPlaceSearch)}}function SearchTextFilterComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div"),core.YNc(2,SearchTextFilterComponent_ng_container_4_ds_search_facet_option_2_Template,1,4,"ds-search-facet-option",8),core.qZA(),core.BQk()),2&rf){const page_r5=ctx.$implicit,ctx_r1=core.oxw();core.xp6(1),core.Q6J("@facetLoad",ctx_r1.animationState),core.xp6(1),core.Q6J("ngForOf",page_r5.page)("ngForTrackBy",ctx_r1.trackUpdate)}}function SearchTextFilterComponent_a_7_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",10),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw();return core.KtG(ctx_r8.showMore())},"SearchTextFilterComponent_a_7_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-more")," "))}function SearchTextFilterComponent_a_9_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"a",11),core.NdJ("click",__name(function(){core.CHM(_r11);const ctx_r10=core.oxw();return core.KtG(ctx_r10.showFirstPageOnly())},"SearchTextFilterComponent_a_9_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-less")," "))}__name(SearchFacetSelectedOptionComponent,"SearchFacetSelectedOptionComponent"),SearchFacetSelectedOptionComponent.\u0275fac=__name(function(t){return new(t||SearchFacetSelectedOptionComponent)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(search_configuration_service.U),core.Y36(router.F0),core.Y36(pagination_service.N))},"SearchFacetSelectedOptionComponent_Factory"),SearchFacetSelectedOptionComponent.\u0275cmp=core.Xpm({type:SearchFacetSelectedOptionComponent,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",selectedValues$:"selectedValues$",inPlaceSearch:"inPlaceSearch"},decls:6,vars:12,consts:[["queryParamsHandling","merge",1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","pl-1","break-facet"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"a",0)(1,"label",1),core._UZ(2,"input",2),core.TgZ(3,"span",3),core._uU(4),core.ALo(5,"translate"),core.qZA()()()),2&rf&&(core.Q6J("tabIndex",-1)("routerLink",core.VKq(8,search_facet_selected_option_component_c0,ctx.searchLink))("queryParams",ctx.removeQueryParams),core.xp6(2),core.Q6J("checked",!0),core.xp6(2),core.hij(" ",core.xi3(5,5,"search.filters."+ctx.filterConfig.name+"."+ctx.selectedValue.value,core.VKq(10,search_facet_selected_option_component_c1,ctx.selectedValue.label))," "))},"SearchFacetSelectedOptionComponent_Template"),dependencies:[router.rH,ngx_translate_core.X$],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]}),__name(SearchTextFilterComponent_ds_search_facet_selected_option_2_Template,"SearchTextFilterComponent_ds_search_facet_selected_option_2_Template"),__name(SearchTextFilterComponent_ng_container_4_ds_search_facet_option_2_Template,"SearchTextFilterComponent_ng_container_4_ds_search_facet_option_2_Template"),__name(SearchTextFilterComponent_ng_container_4_Template,"SearchTextFilterComponent_ng_container_4_Template"),__name(SearchTextFilterComponent_a_7_Template,"SearchTextFilterComponent_a_7_Template"),__name(SearchTextFilterComponent_a_9_Template,"SearchTextFilterComponent_a_9_Template");let SearchTextFilterComponent=((search_text_filter_component_class=__name(class extends SearchFacetFilterComponent{onSubmit(data){super.onSubmit((0,search_utils.XC)(data,"query"))}},"SearchTextFilterComponent")).\u0275fac=function(){let \u0275SearchTextFilterComponent_BaseFactory;return __name(function(t){return(\u0275SearchTextFilterComponent_BaseFactory||(\u0275SearchTextFilterComponent_BaseFactory=core.n5z(search_text_filter_component_class)))(t||search_text_filter_component_class)},"SearchTextFilterComponent_Factory")}(),search_text_filter_component_class.\u0275cmp=core.Xpm({type:search_text_filter_component_class,selectors:[["ds-search-text-filter"]],features:[core.qOj],decls:15,vars:24,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",0),core.YNc(2,SearchTextFilterComponent_ds_search_facet_selected_option_2_Template,1,4,"ds-search-facet-selected-option",1),core.ALo(3,"async"),core.YNc(4,SearchTextFilterComponent_ng_container_4_Template,3,3,"ng-container",2),core.ALo(5,"async"),core.TgZ(6,"div",3),core.YNc(7,SearchTextFilterComponent_a_7_Template,3,3,"a",4),core.ALo(8,"async"),core.YNc(9,SearchTextFilterComponent_a_9_Template,3,3,"a",5),core.ALo(10,"async"),core.qZA()(),core.TgZ(11,"ds-filter-input-suggestions",6),core.NdJ("ngModelChange",__name(function($event){return ctx.filter=$event},"SearchTextFilterComponent_Template_ds_filter_input_suggestions_ngModelChange_11_listener"))("submitSuggestion",__name(function($event){return ctx.onSubmit($event)},"SearchTextFilterComponent_Template_ds_filter_input_suggestions_submitSuggestion_11_listener"))("clickSuggestion",__name(function($event){return ctx.onClick($event)},"SearchTextFilterComponent_Template_ds_filter_input_suggestions_clickSuggestion_11_listener"))("findSuggestions",__name(function($event){return ctx.findSuggestions($event)},"SearchTextFilterComponent_Template_ds_filter_input_suggestions_findSuggestions_11_listener")),core.ALo(12,"async"),core.ALo(13,"translate"),core.ALo(14,"translate"),core.qZA()()),2&rf){let tmp_1_0;core.xp6(2),core.Q6J("ngForOf",core.lcZ(3,10,ctx.selectedValues$)),core.xp6(2),core.Q6J("ngForOf",null==(tmp_1_0=core.lcZ(5,12,ctx.filterValues$))?null:tmp_1_0.payload),core.xp6(3),core.Q6J("ngIf",!core.lcZ(8,14,ctx.isLastPage$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(10,16,ctx.currentPage)>1),core.xp6(2),core.Q6J("suggestions",core.lcZ(12,18,ctx.filterSearchResults))("placeholder",core.lcZ(13,20,"search.filters.filter."+ctx.filterConfig.name+".placeholder"))("label",core.lcZ(14,22,"search.filters.filter."+ctx.filterConfig.name+".label"))("action",ctx.currentUrl)("name",ctx.filterConfig.paramName)("ngModel",ctx.filter)}},"SearchTextFilterComponent_Template"),dependencies:[common.sg,common.O5,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.On,filter_input_suggestions_component.g,SearchFacetOptionComponent,SearchFacetSelectedOptionComponent,common.Ov,ngx_translate_core.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[facetLoad]}}),search_text_filter_component_class);SearchTextFilterComponent=(0,tslib_es6.__decorate)([(0,search_filter_type_decorator.z)(filter_type_model.v.text)],SearchTextFilterComponent);var search_hierarchy_filter_component_class,ng_bootstrap=__webpack_require__(23506),vocabulary_service=__webpack_require__(61223),page_info_model=__webpack_require__(96906),environment=__webpack_require__(91602),vocabulary_treeview_modal_component=__webpack_require__(22953);function SearchHierarchyFilterComponent_ds_search_facet_selected_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-selected-option",8),2&rf){const value_r5=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("selectedValue",value_r5)("filterConfig",ctx_r0.filterConfig)("selectedValues$",ctx_r0.selectedValues$)("inPlaceSearch",ctx_r0.inPlaceSearch)}}function SearchHierarchyFilterComponent_ng_container_4_ds_search_facet_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-option",10),2&rf){const value_r8=ctx.$implicit,ctx_r7=core.oxw(2);core.Q6J("filterConfig",ctx_r7.filterConfig)("filterValue",value_r8)("selectedValues$",ctx_r7.selectedValues$)("inPlaceSearch",ctx_r7.inPlaceSearch)}}function SearchHierarchyFilterComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div"),core.YNc(2,SearchHierarchyFilterComponent_ng_container_4_ds_search_facet_option_2_Template,1,4,"ds-search-facet-option",9),core.qZA(),core.BQk()),2&rf){const page_r6=ctx.$implicit,ctx_r1=core.oxw();core.xp6(1),core.Q6J("@facetLoad",ctx_r1.animationState),core.xp6(1),core.Q6J("ngForOf",page_r6.page)("ngForTrackBy",ctx_r1.trackUpdate)}}function SearchHierarchyFilterComponent_a_7_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"a",11),core.NdJ("click",__name(function(){core.CHM(_r10);const ctx_r9=core.oxw();return core.KtG(ctx_r9.showMore())},"SearchHierarchyFilterComponent_a_7_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-more")," "))}function SearchHierarchyFilterComponent_a_9_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"a",12),core.NdJ("click",__name(function(){core.CHM(_r12);const ctx_r11=core.oxw();return core.KtG(ctx_r11.showFirstPageOnly())},"SearchHierarchyFilterComponent_a_9_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-less")," "))}__name(SearchHierarchyFilterComponent_ds_search_facet_selected_option_2_Template,"SearchHierarchyFilterComponent_ds_search_facet_selected_option_2_Template"),__name(SearchHierarchyFilterComponent_ng_container_4_ds_search_facet_option_2_Template,"SearchHierarchyFilterComponent_ng_container_4_ds_search_facet_option_2_Template"),__name(SearchHierarchyFilterComponent_ng_container_4_Template,"SearchHierarchyFilterComponent_ng_container_4_Template"),__name(SearchHierarchyFilterComponent_a_7_Template,"SearchHierarchyFilterComponent_a_7_Template"),__name(SearchHierarchyFilterComponent_a_9_Template,"SearchHierarchyFilterComponent_a_9_Template");const search_hierarchy_filter_component_c0=__name(function(a0){return{name:a0}},"search_hierarchy_filter_component_c0");function SearchHierarchyFilterComponent_a_15_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.TgZ(0,"a",13),core.NdJ("click",__name(function(){core.CHM(_r14);const ctx_r13=core.oxw();return core.KtG(ctx_r13.showVocabularyTree())},"SearchHierarchyFilterComponent_a_15_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.ALo(3,"lowercase"),core.ALo(4,"translate"),core.qZA()}if(2&rf){const ctx_r4=core.oxw();core.MGl("id","show-",ctx_r4.filterConfig.name,"-tree"),core.xp6(1),core.hij(" ",core.xi3(2,2,"search.filters.filter.show-tree",core.VKq(9,search_hierarchy_filter_component_c0,core.lcZ(3,5,core.lcZ(4,7,"search.filters.filter."+ctx_r4.filterConfig.name+".head")))),"\n")}}__name(SearchHierarchyFilterComponent_a_15_Template,"SearchHierarchyFilterComponent_a_15_Template");let SearchHierarchyFilterComponent=((search_hierarchy_filter_component_class=__name(class extends SearchFacetFilterComponent{constructor(searchService,filterService,rdbs,router2,modalService,vocabularyService,searchConfigService,inPlaceSearch,filterConfig,refreshFilters){super(searchService,filterService,rdbs,router2,searchConfigService,inPlaceSearch,filterConfig,refreshFilters),this.searchService=searchService,this.filterService=filterService,this.rdbs=rdbs,this.router=router2,this.modalService=modalService,this.vocabularyService=vocabularyService,this.searchConfigService=searchConfigService,this.inPlaceSearch=inPlaceSearch,this.filterConfig=filterConfig,this.refreshFilters=refreshFilters}onSubmit(data){super.onSubmit((0,search_utils.XC)(data,"query"))}ngOnInit(){super.ngOnInit(),this.vocabularyExists$=this.vocabularyService.searchTopEntries(this.getVocabularyEntry(),new page_info_model.S,!0,!1).pipe((0,operators.hX)(rd=>rd.hasCompleted),(0,operators.qn)(1),(0,operators.UI)(rd=>rd.hasSucceeded))}showVocabularyTree(){const modalRef=this.modalService.open(vocabulary_treeview_modal_component.L,{size:"lg",windowClass:"treeview"});modalRef.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},modalRef.result.then(detail=>{this.selectedValues$.pipe((0,operators.qn)(1)).subscribe(selectedValues=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:{[this.filterConfig.paramName]:[...selectedValues,{value:detail.value}].map(facetValue=>(0,search_utils.MD)(facetValue,this.filterConfig))},queryParamsHandling:"merge"})})}).catch()}getVocabularyEntry(){const foundVocabularyConfig=environment.N.vocabularies.filter(v=>v.filter===this.filterConfig.name);if(foundVocabularyConfig.length>0&&!0===foundVocabularyConfig[0].enabled)return foundVocabularyConfig[0].vocabulary}},"SearchHierarchyFilterComponent")).\u0275fac=__name(function(t){return new(t||search_hierarchy_filter_component_class)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(remote_data_build_service.Q),core.Y36(router.F0),core.Y36(ng_bootstrap.FF),core.Y36(vocabulary_service.c),core.Y36(my_dspace_page_component.SEARCH_CONFIG_SERVICE),core.Y36(search_filter_service.y5),core.Y36(search_filter_service.j9),core.Y36(search_filter_service.Pe))},"SearchHierarchyFilterComponent_Factory"),search_hierarchy_filter_component_class.\u0275cmp=core.Xpm({type:search_hierarchy_filter_component_class,selectors:[["ds-search-hierarchy-filter"]],features:[core.qOj],decls:17,vars:27,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["href","javascript:void(0);",3,"id","click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",0),core.YNc(2,SearchHierarchyFilterComponent_ds_search_facet_selected_option_2_Template,1,4,"ds-search-facet-selected-option",1),core.ALo(3,"async"),core.YNc(4,SearchHierarchyFilterComponent_ng_container_4_Template,3,3,"ng-container",2),core.ALo(5,"async"),core.TgZ(6,"div",3),core.YNc(7,SearchHierarchyFilterComponent_a_7_Template,3,3,"a",4),core.ALo(8,"async"),core.YNc(9,SearchHierarchyFilterComponent_a_9_Template,3,3,"a",5),core.ALo(10,"async"),core.qZA()(),core.TgZ(11,"ds-filter-input-suggestions",6),core.NdJ("ngModelChange",__name(function($event){return ctx.filter=$event},"SearchHierarchyFilterComponent_Template_ds_filter_input_suggestions_ngModelChange_11_listener"))("submitSuggestion",__name(function($event){return ctx.onSubmit($event)},"SearchHierarchyFilterComponent_Template_ds_filter_input_suggestions_submitSuggestion_11_listener"))("clickSuggestion",__name(function($event){return ctx.onClick($event)},"SearchHierarchyFilterComponent_Template_ds_filter_input_suggestions_clickSuggestion_11_listener"))("findSuggestions",__name(function($event){return ctx.findSuggestions($event)},"SearchHierarchyFilterComponent_Template_ds_filter_input_suggestions_findSuggestions_11_listener")),core.ALo(12,"async"),core.ALo(13,"translate"),core.ALo(14,"translate"),core.qZA()(),core.YNc(15,SearchHierarchyFilterComponent_a_15_Template,5,11,"a",7),core.ALo(16,"async")),2&rf){let tmp_1_0;core.xp6(2),core.Q6J("ngForOf",core.lcZ(3,11,ctx.selectedValues$)),core.xp6(2),core.Q6J("ngForOf",null==(tmp_1_0=core.lcZ(5,13,ctx.filterValues$))?null:tmp_1_0.payload),core.xp6(3),core.Q6J("ngIf",!core.lcZ(8,15,ctx.isLastPage$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(10,17,ctx.currentPage)>1),core.xp6(2),core.Q6J("suggestions",core.lcZ(12,19,ctx.filterSearchResults))("placeholder",core.lcZ(13,21,"search.filters.filter."+ctx.filterConfig.name+".placeholder"))("label",core.lcZ(14,23,"search.filters.filter."+ctx.filterConfig.name+".label"))("action",ctx.currentUrl)("name",ctx.filterConfig.paramName)("ngModel",ctx.filter),core.xp6(4),core.Q6J("ngIf",core.lcZ(16,25,ctx.vocabularyExists$))}},"SearchHierarchyFilterComponent_Template"),dependencies:[common.sg,common.O5,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.On,filter_input_suggestions_component.g,SearchFacetOptionComponent,SearchFacetSelectedOptionComponent,common.Ov,common.i8,ngx_translate_core.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[facetLoad]}}),search_hierarchy_filter_component_class);var search_boolean_filter_component_class;function SearchBooleanFilterComponent_ds_search_facet_selected_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-selected-option",6),2&rf){const value_r4=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("selectedValue",value_r4)("filterConfig",ctx_r0.filterConfig)("selectedValues$",ctx_r0.selectedValues$)("inPlaceSearch",ctx_r0.inPlaceSearch)}}function SearchBooleanFilterComponent_ng_container_4_ds_search_facet_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-option",8),2&rf){const value_r7=ctx.$implicit,ctx_r6=core.oxw(2);core.Q6J("filterConfig",ctx_r6.filterConfig)("filterValue",value_r7)("selectedValues$",ctx_r6.selectedValues$)("inPlaceSearch",ctx_r6.inPlaceSearch)}}function SearchBooleanFilterComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div"),core.YNc(2,SearchBooleanFilterComponent_ng_container_4_ds_search_facet_option_2_Template,1,4,"ds-search-facet-option",7),core.qZA(),core.BQk()),2&rf){const page_r5=ctx.$implicit,ctx_r1=core.oxw();core.xp6(1),core.Q6J("@facetLoad",ctx_r1.animationState),core.xp6(1),core.Q6J("ngForOf",page_r5.page)("ngForTrackBy",ctx_r1.trackUpdate)}}function SearchBooleanFilterComponent_a_7_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",9),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw();return core.KtG(ctx_r8.showMore())},"SearchBooleanFilterComponent_a_7_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-more")," "))}function SearchBooleanFilterComponent_a_9_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"a",10),core.NdJ("click",__name(function(){core.CHM(_r11);const ctx_r10=core.oxw();return core.KtG(ctx_r10.showFirstPageOnly())},"SearchBooleanFilterComponent_a_9_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-less")," "))}SearchHierarchyFilterComponent=(0,tslib_es6.__decorate)([(0,search_filter_type_decorator.z)(filter_type_model.v.hierarchy),(0,tslib_es6.__metadata)("design:paramtypes",[search_service.o,search_filter_service.nJ,remote_data_build_service.Q,router.F0,ng_bootstrap.FF,vocabulary_service.c,search_configuration_service.U,Boolean,search_filter_config_model.B,cjs.BehaviorSubject])],SearchHierarchyFilterComponent),__name(SearchBooleanFilterComponent_ds_search_facet_selected_option_2_Template,"SearchBooleanFilterComponent_ds_search_facet_selected_option_2_Template"),__name(SearchBooleanFilterComponent_ng_container_4_ds_search_facet_option_2_Template,"SearchBooleanFilterComponent_ng_container_4_ds_search_facet_option_2_Template"),__name(SearchBooleanFilterComponent_ng_container_4_Template,"SearchBooleanFilterComponent_ng_container_4_Template"),__name(SearchBooleanFilterComponent_a_7_Template,"SearchBooleanFilterComponent_a_7_Template"),__name(SearchBooleanFilterComponent_a_9_Template,"SearchBooleanFilterComponent_a_9_Template");let SearchBooleanFilterComponent=((search_boolean_filter_component_class=__name(class extends SearchFacetFilterComponent{},"SearchBooleanFilterComponent")).\u0275fac=function(){let \u0275SearchBooleanFilterComponent_BaseFactory;return __name(function(t){return(\u0275SearchBooleanFilterComponent_BaseFactory||(\u0275SearchBooleanFilterComponent_BaseFactory=core.n5z(search_boolean_filter_component_class)))(t||search_boolean_filter_component_class)},"SearchBooleanFilterComponent_Factory")}(),search_boolean_filter_component_class.\u0275cmp=core.Xpm({type:search_boolean_filter_component_class,selectors:[["ds-search-boolean-filter"]],features:[core.qOj],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",0),core.YNc(2,SearchBooleanFilterComponent_ds_search_facet_selected_option_2_Template,1,4,"ds-search-facet-selected-option",1),core.ALo(3,"async"),core.YNc(4,SearchBooleanFilterComponent_ng_container_4_Template,3,3,"ng-container",2),core.ALo(5,"async"),core.TgZ(6,"div",3),core.YNc(7,SearchBooleanFilterComponent_a_7_Template,3,3,"a",4),core.ALo(8,"async"),core.YNc(9,SearchBooleanFilterComponent_a_9_Template,3,3,"a",5),core.ALo(10,"async"),core.qZA()()()),2&rf){let tmp_1_0;core.xp6(2),core.Q6J("ngForOf",core.lcZ(3,4,ctx.selectedValues$)),core.xp6(2),core.Q6J("ngForOf",null==(tmp_1_0=core.lcZ(5,6,ctx.filterValues$))?null:tmp_1_0.payload),core.xp6(3),core.Q6J("ngIf",!core.lcZ(8,8,ctx.isLastPage$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(10,10,ctx.currentPage)>1)}},"SearchBooleanFilterComponent_Template"),dependencies:[common.sg,common.O5,SearchFacetOptionComponent,SearchFacetSelectedOptionComponent,common.Ov,ngx_translate_core.X$],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[facetLoad]}}),search_boolean_filter_component_class);SearchBooleanFilterComponent=(0,tslib_es6.__decorate)([(0,search_filter_type_decorator.z)(filter_type_model.v.boolean)],SearchBooleanFilterComponent);const search_facet_range_option_component_c0=__name(function(a0){return[a0]},"search_facet_range_option_component_c0");function SearchFacetRangeOptionComponent_a_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",1)(1,"span",2),core._uU(2),core.qZA(),core.TgZ(3,"span",3)(4,"span",4),core._uU(5),core.ALo(6,"dsShortNumber"),core.qZA()()()),2&rf){const ctx_r0=core.oxw();core.Q6J("routerLink",core.VKq(6,search_facet_range_option_component_c0,ctx_r0.searchLink))("queryParams",ctx_r0.changeQueryParams),core.xp6(2),core.Oqu(ctx_r0.filterValue.label),core.xp6(3),core.Oqu(core.lcZ(6,4,ctx_r0.filterValue.count))}}__name(SearchFacetRangeOptionComponent_a_0_Template,"SearchFacetRangeOptionComponent_a_0_Template");class SearchFacetRangeOptionComponent{constructor(searchService,filterService,searchConfigService,router2,paginationService){this.searchService=searchService,this.filterService=filterService,this.searchConfigService=searchConfigService,this.router=router2,this.paginationService=paginationService}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,operators.UI)(checked=>!checked)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,route_utils.T)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const parts=this.filterValue.value.split("-"),min=parts.length>1?parts[0].trim():this.filterValue.value,max=parts.length>1?parts[1].trim():this.filterValue.value,page=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+".min"]:[min],[this.filterConfig.paramName+".max"]:[max],[page]:1}}ngOnDestroy(){(0,empty_util.Uh)(this.sub)&&this.sub.unsubscribe()}}var search_authority_filter_component_class;function SearchAuthorityFilterComponent_ds_search_facet_selected_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-selected-option",7),2&rf){const value_r4=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("selectedValue",value_r4)("filterConfig",ctx_r0.filterConfig)("selectedValues$",ctx_r0.selectedValues$)("inPlaceSearch",ctx_r0.inPlaceSearch)}}function SearchAuthorityFilterComponent_ng_container_4_ds_search_facet_option_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-search-facet-option",9),2&rf){const value_r7=ctx.$implicit,ctx_r6=core.oxw(2);core.Q6J("filterConfig",ctx_r6.filterConfig)("filterValue",value_r7)("selectedValues$",ctx_r6.selectedValues$)("inPlaceSearch",ctx_r6.inPlaceSearch)}}function SearchAuthorityFilterComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div"),core.YNc(2,SearchAuthorityFilterComponent_ng_container_4_ds_search_facet_option_2_Template,1,4,"ds-search-facet-option",8),core.qZA(),core.BQk()),2&rf){const page_r5=ctx.$implicit,ctx_r1=core.oxw();core.xp6(1),core.Q6J("@facetLoad",ctx_r1.animationState),core.xp6(1),core.Q6J("ngForOf",page_r5.page)("ngForTrackBy",ctx_r1.trackUpdate)}}function SearchAuthorityFilterComponent_a_7_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",10),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw();return core.KtG(ctx_r8.showMore())},"SearchAuthorityFilterComponent_a_7_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-more")," "))}function SearchAuthorityFilterComponent_a_9_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"a",11),core.NdJ("click",__name(function(){core.CHM(_r11);const ctx_r10=core.oxw();return core.KtG(ctx_r10.showFirstPageOnly())},"SearchAuthorityFilterComponent_a_9_Template_a_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"search.filters.filter.show-less")," "))}__name(SearchFacetRangeOptionComponent,"SearchFacetRangeOptionComponent"),SearchFacetRangeOptionComponent.\u0275fac=__name(function(t){return new(t||SearchFacetRangeOptionComponent)(core.Y36(search_service.o),core.Y36(search_filter_service.nJ),core.Y36(search_configuration_service.U),core.Y36(router.F0),core.Y36(pagination_service.N))},"SearchFacetRangeOptionComponent_Factory"),SearchFacetRangeOptionComponent.\u0275cmp=core.Xpm({type:SearchFacetRangeOptionComponent,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-right","filter-value-count","ml-auto"],[1,"badge","badge-secondary","badge-pill"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SearchFacetRangeOptionComponent_a_0_Template,7,8,"a",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.isVisible))},"SearchFacetRangeOptionComponent_Template"),dependencies:[common.O5,router.rH,common.Ov,short_number_pipe.H],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]}),__name(SearchAuthorityFilterComponent_ds_search_facet_selected_option_2_Template,"SearchAuthorityFilterComponent_ds_search_facet_selected_option_2_Template"),__name(SearchAuthorityFilterComponent_ng_container_4_ds_search_facet_option_2_Template,"SearchAuthorityFilterComponent_ng_container_4_ds_search_facet_option_2_Template"),__name(SearchAuthorityFilterComponent_ng_container_4_Template,"SearchAuthorityFilterComponent_ng_container_4_Template"),__name(SearchAuthorityFilterComponent_a_7_Template,"SearchAuthorityFilterComponent_a_7_Template"),__name(SearchAuthorityFilterComponent_a_9_Template,"SearchAuthorityFilterComponent_a_9_Template");let SearchAuthorityFilterComponent=((search_authority_filter_component_class=__name(class extends SearchFacetFilterComponent{},"SearchAuthorityFilterComponent")).\u0275fac=function(){let \u0275SearchAuthorityFilterComponent_BaseFactory;return __name(function(t){return(\u0275SearchAuthorityFilterComponent_BaseFactory||(\u0275SearchAuthorityFilterComponent_BaseFactory=core.n5z(search_authority_filter_component_class)))(t||search_authority_filter_component_class)},"SearchAuthorityFilterComponent_Factory")}(),search_authority_filter_component_class.\u0275cmp=core.Xpm({type:search_authority_filter_component_class,selectors:[["ds-search-authority-filter"]],features:[core.qOj],decls:15,vars:24,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions"],[3,"selectedValue","filterConfig","selectedValues$","inPlaceSearch"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","selectedValues$","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",0),core.YNc(2,SearchAuthorityFilterComponent_ds_search_facet_selected_option_2_Template,1,4,"ds-search-facet-selected-option",1),core.ALo(3,"async"),core.YNc(4,SearchAuthorityFilterComponent_ng_container_4_Template,3,3,"ng-container",2),core.ALo(5,"async"),core.TgZ(6,"div",3),core.YNc(7,SearchAuthorityFilterComponent_a_7_Template,3,3,"a",4),core.ALo(8,"async"),core.YNc(9,SearchAuthorityFilterComponent_a_9_Template,3,3,"a",5),core.ALo(10,"async"),core.qZA()(),core.TgZ(11,"ds-filter-input-suggestions",6),core.NdJ("ngModelChange",__name(function($event){return ctx.filter=$event},"SearchAuthorityFilterComponent_Template_ds_filter_input_suggestions_ngModelChange_11_listener"))("submitSuggestion",__name(function($event){return ctx.onSubmit($event)},"SearchAuthorityFilterComponent_Template_ds_filter_input_suggestions_submitSuggestion_11_listener"))("clickSuggestion",__name(function($event){return ctx.onClick($event)},"SearchAuthorityFilterComponent_Template_ds_filter_input_suggestions_clickSuggestion_11_listener"))("findSuggestions",__name(function($event){return ctx.findSuggestions($event)},"SearchAuthorityFilterComponent_Template_ds_filter_input_suggestions_findSuggestions_11_listener")),core.ALo(12,"async"),core.ALo(13,"translate"),core.ALo(14,"translate"),core.qZA()()),2&rf){let tmp_1_0;core.xp6(2),core.Q6J("ngForOf",core.lcZ(3,10,ctx.selectedValues$)),core.xp6(2),core.Q6J("ngForOf",null==(tmp_1_0=core.lcZ(5,12,ctx.filterValues$))?null:tmp_1_0.payload),core.xp6(3),core.Q6J("ngIf",!core.lcZ(8,14,ctx.isLastPage$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(10,16,ctx.currentPage)>1),core.xp6(2),core.Q6J("suggestions",core.lcZ(12,18,ctx.filterSearchResults))("placeholder",core.lcZ(13,20,"search.filters.filter."+ctx.filterConfig.name+".placeholder"))("label",core.lcZ(14,22,"search.filters.filter."+ctx.filterConfig.name+".label"))("action",ctx.currentUrl)("name",ctx.filterConfig.paramName)("ngModel",ctx.filter)}},"SearchAuthorityFilterComponent_Template"),dependencies:[common.sg,common.O5,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.On,filter_input_suggestions_component.g,SearchFacetOptionComponent,SearchFacetSelectedOptionComponent,common.Ov,ngx_translate_core.X$],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[facetLoad]}}),search_authority_filter_component_class);SearchAuthorityFilterComponent=(0,tslib_es6.__decorate)([(0,search_filter_type_decorator.z)(filter_type_model.v.authority)],SearchAuthorityFilterComponent);var PipsMode,PipsMode2,PipsType,PipsType2,search_sidebar_component=__webpack_require__(48159),search_settings_component=__webpack_require__(91975),configuration_search_page_component=__webpack_require__(35282),themed_configuration_search_page_component=__webpack_require__(94207),search_objects_model=__webpack_require__(72591),facet_config_response_model=__webpack_require__(1553),facet_values_model=__webpack_require__(11289),search_result_model=__webpack_require__(43313),missing_translation_helper=__webpack_require__(88105),shared_module=__webpack_require__(47013),search_results_component=__webpack_require__(39164),search_component=__webpack_require__(9818),themed_search_component=__webpack_require__(46514),themed_search_results_component=__webpack_require__(54773),themed_search_settings_component=__webpack_require__(87737);function isValidFormatter(entry){return isValidPartialFormatter(entry)&&"function"==typeof entry.from}function isValidPartialFormatter(entry){return"object"==typeof entry&&"function"==typeof entry.to}function removeElement(el){el.parentElement.removeChild(el)}function isSet(value){return null!=value}function preventDefault(e){e.preventDefault()}function unique(array){return array.filter(function(a){return!this[a]&&(this[a]=!0)},{})}function closest(value,to){return Math.round(value/to)*to}function offset(elem,orientation){var rect=elem.getBoundingClientRect(),doc=elem.ownerDocument,docElem=doc.documentElement,pageOffset=getPageOffset(doc);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(pageOffset.x=0),orientation?rect.top+pageOffset.y-docElem.clientTop:rect.left+pageOffset.x-docElem.clientLeft}function isNumeric(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function addClassFor(element,className,duration){duration>0&&(addClass(element,className),setTimeout(function(){removeClass(element,className)},duration))}function limit(a){return Math.max(Math.min(a,100),0)}function asArray(a){return Array.isArray(a)?a:[a]}function countDecimals(numStr){var pieces=(numStr=String(numStr)).split(".");return pieces.length>1?pieces[1].length:0}function addClass(el,className){el.classList&&!/\s/.test(className)?el.classList.add(className):el.className+=" "+className}function removeClass(el,className){el.classList&&!/\s/.test(className)?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}function hasClass(el,className){return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)}function getPageOffset(doc){var supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(doc.compatMode||"");return{x:supportPageOffset?window.pageXOffset:isCSS1Compat?doc.documentElement.scrollLeft:doc.body.scrollLeft,y:supportPageOffset?window.pageYOffset:isCSS1Compat?doc.documentElement.scrollTop:doc.body.scrollTop}}function getActions(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function getSupportsPassive(){var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch{}return supportsPassive}function getSupportsTouchActionNone(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function subRangeRatio(pa,pb){return 100/(pb-pa)}function fromPercentage(range,value,startRange){return 100*value/(range[startRange+1]-range[startRange])}function toPercentage(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0],0)}function isPercentage(range,value){return value*(range[1]-range[0])/100+range[0]}function getJ(value,arr){for(var j=1;value>=arr[j];)j+=1;return j}function toStepping(xVal,xPct,value){if(value>=xVal.slice(-1)[0])return 100;var j=getJ(value,xVal),va=xVal[j-1],vb=xVal[j],pa=xPct[j-1],pb=xPct[j];return pa+toPercentage([va,vb],value)/subRangeRatio(pa,pb)}function fromStepping(xVal,xPct,value){if(value>=100)return xVal.slice(-1)[0];var j=getJ(value,xPct),va=xVal[j-1],vb=xVal[j],pa=xPct[j-1];return isPercentage([va,vb],(value-pa)*subRangeRatio(pa,xPct[j]))}function getStep(xPct,xSteps,snap,value){if(100===value)return value;var j=getJ(value,xPct),a=xPct[j-1],b=xPct[j];return snap?value-a>(b-a)/2?b:a:xSteps[j-1]?xPct[j-1]+closest(value-xPct[j-1],xSteps[j-1]):value}(PipsMode2=PipsMode||(PipsMode={})).Range="range",PipsMode2.Steps="steps",PipsMode2.Positions="positions",PipsMode2.Count="count",PipsMode2.Values="values",(PipsType2=PipsType||(PipsType={}))[PipsType2.None=-1]="None",PipsType2[PipsType2.NoValue=0]="NoValue",PipsType2[PipsType2.LargeValue=1]="LargeValue",PipsType2[PipsType2.SmallValue=2]="SmallValue",__name(isValidFormatter,"isValidFormatter"),__name(isValidPartialFormatter,"isValidPartialFormatter"),__name(removeElement,"removeElement"),__name(isSet,"isSet"),__name(preventDefault,"preventDefault"),__name(unique,"unique"),__name(closest,"closest"),__name(offset,"offset"),__name(isNumeric,"isNumeric"),__name(addClassFor,"addClassFor"),__name(limit,"limit"),__name(asArray,"asArray"),__name(countDecimals,"countDecimals"),__name(addClass,"addClass"),__name(removeClass,"removeClass"),__name(hasClass,"hasClass"),__name(getPageOffset,"getPageOffset"),__name(getActions,"getActions"),__name(getSupportsPassive,"getSupportsPassive"),__name(getSupportsTouchActionNone,"getSupportsTouchActionNone"),__name(subRangeRatio,"subRangeRatio"),__name(fromPercentage,"fromPercentage"),__name(toPercentage,"toPercentage"),__name(isPercentage,"isPercentage"),__name(getJ,"getJ"),__name(toStepping,"toStepping"),__name(fromStepping,"fromStepping"),__name(getStep,"getStep");var Spectrum=function(){function Spectrum2(entry,snap,singleStep){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[singleStep||!1],this.xNumSteps=[!1],this.snap=snap;var index,ordered=[];for(Object.keys(entry).forEach(function(index2){ordered.push([asArray(entry[index2]),index2])}),ordered.sort(function(a,b){return a[0][0]-b[0][0]}),index=0;index<ordered.length;index++)this.handleEntryPoint(ordered[index][1],ordered[index][0]);for(this.xNumSteps=this.xSteps.slice(0),index=0;index<this.xNumSteps.length;index++)this.handleStepPoint(index,this.xNumSteps[index])}return __name(Spectrum2,"Spectrum"),Spectrum2.prototype.getDistance=function(value){for(var distances=[],index=0;index<this.xNumSteps.length-1;index++)distances[index]=fromPercentage(this.xVal,value,index);return distances},Spectrum2.prototype.getAbsoluteDistance=function(value,distances,direction){var xPct_index=0;if(value<this.xPct[this.xPct.length-1])for(;value>this.xPct[xPct_index+1];)xPct_index++;else value===this.xPct[this.xPct.length-1]&&(xPct_index=this.xPct.length-2);!direction&&value===this.xPct[xPct_index+1]&&xPct_index++,null===distances&&(distances=[]);var start_factor,rest_factor=1,rest_rel_distance=distances[xPct_index],range_pct=0,rel_range_distance=0,abs_distance_counter=0,range_counter=0;for(start_factor=direction?(value-this.xPct[xPct_index])/(this.xPct[xPct_index+1]-this.xPct[xPct_index]):(this.xPct[xPct_index+1]-value)/(this.xPct[xPct_index+1]-this.xPct[xPct_index]);rest_rel_distance>0;)range_pct=this.xPct[xPct_index+1+range_counter]-this.xPct[xPct_index+range_counter],distances[xPct_index+range_counter]*rest_factor+100-100*start_factor>100?(rel_range_distance=range_pct*start_factor,rest_factor=(rest_rel_distance-100*start_factor)/distances[xPct_index+range_counter],start_factor=1):(rel_range_distance=distances[xPct_index+range_counter]*range_pct/100*rest_factor,rest_factor=0),direction?(abs_distance_counter-=rel_range_distance,this.xPct.length+range_counter>=1&&range_counter--):(abs_distance_counter+=rel_range_distance,this.xPct.length-range_counter>=1&&range_counter++),rest_rel_distance=distances[xPct_index+range_counter]*rest_factor;return value+abs_distance_counter},Spectrum2.prototype.toStepping=function(value){return value=toStepping(this.xVal,this.xPct,value)},Spectrum2.prototype.fromStepping=function(value){return fromStepping(this.xVal,this.xPct,value)},Spectrum2.prototype.getStep=function(value){return value=getStep(this.xPct,this.xSteps,this.snap,value)},Spectrum2.prototype.getDefaultStep=function(value,isDown,size){var j=getJ(value,this.xPct);return(100===value||isDown&&value===this.xPct[j-1])&&(j=Math.max(j-1,1)),(this.xVal[j]-this.xVal[j-1])/size},Spectrum2.prototype.getNearbySteps=function(value){var j=getJ(value,this.xPct);return{stepBefore:{startValue:this.xVal[j-2],step:this.xNumSteps[j-2],highestStep:this.xHighestCompleteStep[j-2]},thisStep:{startValue:this.xVal[j-1],step:this.xNumSteps[j-1],highestStep:this.xHighestCompleteStep[j-1]},stepAfter:{startValue:this.xVal[j],step:this.xNumSteps[j],highestStep:this.xHighestCompleteStep[j]}}},Spectrum2.prototype.countStepDecimals=function(){var stepDecimals=this.xNumSteps.map(countDecimals);return Math.max.apply(null,stepDecimals)},Spectrum2.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},Spectrum2.prototype.convert=function(value){return this.getStep(this.toStepping(value))},Spectrum2.prototype.handleEntryPoint=function(index,value){var percentage;if(!isNumeric(percentage="min"===index?0:"max"===index?100:parseFloat(index))||!isNumeric(value[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(percentage),this.xVal.push(value[0]);var value1=Number(value[1]);percentage?this.xSteps.push(!isNaN(value1)&&value1):isNaN(value1)||(this.xSteps[0]=value1),this.xHighestCompleteStep.push(0)},Spectrum2.prototype.handleStepPoint=function(i,n){if(n){if(this.xVal[i]===this.xVal[i+1])return void(this.xSteps[i]=this.xHighestCompleteStep[i]=this.xVal[i]);this.xSteps[i]=fromPercentage([this.xVal[i],this.xVal[i+1]],n,0)/subRangeRatio(this.xPct[i],this.xPct[i+1]);var totalSteps=(this.xVal[i+1]-this.xVal[i])/this.xNumSteps[i],highestStep=Math.ceil(Number(totalSteps.toFixed(3))-1),step=this.xVal[i]+this.xNumSteps[i]*highestStep;this.xHighestCompleteStep[i]=step}},Spectrum2}(),defaultFormatter={to:function(value){return void 0===value?"":value.toFixed(2)},from:Number},cssClasses={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},INTERNAL_EVENT_NS={tooltips:".__tooltips",aria:".__aria"};function testStep(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'step' is not numeric.");parsed.singleStep=entry}function testKeyboardPageMultiplier(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");parsed.keyboardPageMultiplier=entry}function testKeyboardMultiplier(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");parsed.keyboardMultiplier=entry}function testKeyboardDefaultStep(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");parsed.keyboardDefaultStep=entry}function testRange(parsed,entry){if("object"!=typeof entry||Array.isArray(entry))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===entry.min||void 0===entry.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");parsed.spectrum=new Spectrum(entry,parsed.snap||!1,parsed.singleStep)}function testStart(parsed,entry){if(entry=asArray(entry),!Array.isArray(entry)||!entry.length)throw new Error("noUiSlider: 'start' option is incorrect.");parsed.handles=entry.length,parsed.start=entry}function testSnap(parsed,entry){if("boolean"!=typeof entry)throw new Error("noUiSlider: 'snap' option must be a boolean.");parsed.snap=entry}function testAnimate(parsed,entry){if("boolean"!=typeof entry)throw new Error("noUiSlider: 'animate' option must be a boolean.");parsed.animate=entry}function testAnimationDuration(parsed,entry){if("number"!=typeof entry)throw new Error("noUiSlider: 'animationDuration' option must be a number.");parsed.animationDuration=entry}function testConnect(parsed,entry){var i,connect=[!1];if("lower"===entry?entry=[!0,!1]:"upper"===entry&&(entry=[!1,!0]),!0===entry||!1===entry){for(i=1;i<parsed.handles;i++)connect.push(entry);connect.push(!1)}else{if(!Array.isArray(entry)||!entry.length||entry.length!==parsed.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");connect=entry}parsed.connect=connect}function testOrientation(parsed,entry){switch(entry){case"horizontal":parsed.ort=0;break;case"vertical":parsed.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function testMargin(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==entry&&(parsed.margin=parsed.spectrum.getDistance(entry))}function testLimit(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'limit' option must be numeric.");if(parsed.limit=parsed.spectrum.getDistance(entry),!parsed.limit||parsed.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function testPadding(parsed,entry){var index;if(!isNumeric(entry)&&!Array.isArray(entry))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(entry)&&2!==entry.length&&!isNumeric(entry[0])&&!isNumeric(entry[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==entry){for(Array.isArray(entry)||(entry=[entry,entry]),parsed.padding=[parsed.spectrum.getDistance(entry[0]),parsed.spectrum.getDistance(entry[1])],index=0;index<parsed.spectrum.xNumSteps.length-1;index++)if(parsed.padding[0][index]<0||parsed.padding[1][index]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var totalPadding=entry[0]+entry[1],firstValue=parsed.spectrum.xVal[0];if(totalPadding/(parsed.spectrum.xVal[parsed.spectrum.xVal.length-1]-firstValue)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function testDirection(parsed,entry){switch(entry){case"ltr":parsed.dir=0;break;case"rtl":parsed.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function testBehaviour(parsed,entry){if("string"!=typeof entry)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var tap=entry.indexOf("tap")>=0,drag=entry.indexOf("drag")>=0,fixed=entry.indexOf("fixed")>=0,snap=entry.indexOf("snap")>=0,hover=entry.indexOf("hover")>=0,unconstrained=entry.indexOf("unconstrained")>=0,dragAll=entry.indexOf("drag-all")>=0,smoothSteps=entry.indexOf("smooth-steps")>=0;if(fixed){if(2!==parsed.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");testMargin(parsed,parsed.start[1]-parsed.start[0])}if(unconstrained&&(parsed.margin||parsed.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");parsed.events={tap:tap||snap,drag,dragAll,smoothSteps,fixed,snap,hover,unconstrained}}function testTooltips(parsed,entry){if(!1!==entry)if(!0===entry||isValidPartialFormatter(entry)){parsed.tooltips=[];for(var i=0;i<parsed.handles;i++)parsed.tooltips.push(entry)}else{if((entry=asArray(entry)).length!==parsed.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");entry.forEach(function(formatter){if("boolean"!=typeof formatter&&!isValidPartialFormatter(formatter))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),parsed.tooltips=entry}}function testHandleAttributes(parsed,entry){if(entry.length!==parsed.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");parsed.handleAttributes=entry}function testAriaFormat(parsed,entry){if(!isValidPartialFormatter(entry))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");parsed.ariaFormat=entry}function testFormat(parsed,entry){if(!isValidFormatter(entry))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");parsed.format=entry}function testKeyboardSupport(parsed,entry){if("boolean"!=typeof entry)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");parsed.keyboardSupport=entry}function testDocumentElement(parsed,entry){parsed.documentElement=entry}function testCssPrefix(parsed,entry){if("string"!=typeof entry&&!1!==entry)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");parsed.cssPrefix=entry}function testCssClasses(parsed,entry){if("object"!=typeof entry)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof parsed.cssPrefix?(parsed.cssClasses={},Object.keys(entry).forEach(function(key){parsed.cssClasses[key]=parsed.cssPrefix+entry[key]})):parsed.cssClasses=entry}function testOptions(options){var parsed={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:defaultFormatter,format:defaultFormatter},tests={step:{r:!1,t:testStep},keyboardPageMultiplier:{r:!1,t:testKeyboardPageMultiplier},keyboardMultiplier:{r:!1,t:testKeyboardMultiplier},keyboardDefaultStep:{r:!1,t:testKeyboardDefaultStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},animationDuration:{r:!1,t:testAnimationDuration},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},padding:{r:!1,t:testPadding},behaviour:{r:!0,t:testBehaviour},ariaFormat:{r:!1,t:testAriaFormat},format:{r:!1,t:testFormat},tooltips:{r:!1,t:testTooltips},keyboardSupport:{r:!0,t:testKeyboardSupport},documentElement:{r:!1,t:testDocumentElement},cssPrefix:{r:!0,t:testCssPrefix},cssClasses:{r:!0,t:testCssClasses},handleAttributes:{r:!1,t:testHandleAttributes}},defaults={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};options.format&&!options.ariaFormat&&(options.ariaFormat=options.format),Object.keys(tests).forEach(function(name){if(isSet(options[name])||void 0!==defaults[name])tests[name].t(parsed,isSet(options[name])?options[name]:defaults[name]);else if(tests[name].r)throw new Error("noUiSlider: '"+name+"' is required.")}),parsed.pips=options.pips;var d=document.createElement("div"),msPrefix=void 0!==d.style.msTransform,noPrefix=void 0!==d.style.transform;parsed.transformRule=noPrefix?"transform":msPrefix?"msTransform":"webkitTransform";return parsed.style=[["left","top"],["right","bottom"]][parsed.dir][parsed.ort],parsed}function scope(target,options,originalOptions){var scope_Base,scope_Handles,scope_Connects,scope_Pips,scope_Tooltips,actions=getActions(),supportsPassive=getSupportsTouchActionNone()&&getSupportsPassive(),scope_Target=target,scope_Spectrum=options.spectrum,scope_Values=[],scope_Locations=[],scope_HandleNumbers=[],scope_ActiveHandlesCount=0,scope_Events={},scope_Document=target.ownerDocument,scope_DocumentElement=options.documentElement||scope_Document.documentElement,scope_Body=scope_Document.body,scope_DirOffset="rtl"===scope_Document.dir||1===options.ort?0:100;function addNodeTo(addTarget,className){var div=scope_Document.createElement("div");return className&&addClass(div,className),addTarget.appendChild(div),div}function addOrigin(base,handleNumber){var origin=addNodeTo(base,options.cssClasses.origin),handle=addNodeTo(origin,options.cssClasses.handle);if(addNodeTo(handle,options.cssClasses.touchArea),handle.setAttribute("data-handle",String(handleNumber)),options.keyboardSupport&&(handle.setAttribute("tabindex","0"),handle.addEventListener("keydown",function(event2){return eventKeydown(event2,handleNumber)})),void 0!==options.handleAttributes){var attributes_1=options.handleAttributes[handleNumber];Object.keys(attributes_1).forEach(function(attribute){handle.setAttribute(attribute,attributes_1[attribute])})}return handle.setAttribute("role","slider"),handle.setAttribute("aria-orientation",options.ort?"vertical":"horizontal"),0===handleNumber?addClass(handle,options.cssClasses.handleLower):handleNumber===options.handles-1&&addClass(handle,options.cssClasses.handleUpper),origin.handle=handle,origin}function addConnect(base,add){return!!add&&addNodeTo(base,options.cssClasses.connect)}function addElements(connectOptions,base){var connectBase=addNodeTo(base,options.cssClasses.connects);scope_Handles=[],(scope_Connects=[]).push(addConnect(connectBase,connectOptions[0]));for(var i=0;i<options.handles;i++)scope_Handles.push(addOrigin(base,i)),scope_HandleNumbers[i]=i,scope_Connects.push(addConnect(connectBase,connectOptions[i+1]))}function addSlider(addTarget){return addClass(addTarget,options.cssClasses.target),0===options.dir?addClass(addTarget,options.cssClasses.ltr):addClass(addTarget,options.cssClasses.rtl),0===options.ort?addClass(addTarget,options.cssClasses.horizontal):addClass(addTarget,options.cssClasses.vertical),addClass(addTarget,"rtl"===getComputedStyle(addTarget).direction?options.cssClasses.textDirectionRtl:options.cssClasses.textDirectionLtr),addNodeTo(addTarget,options.cssClasses.base)}function addTooltip(handle,handleNumber){return!(!options.tooltips||!options.tooltips[handleNumber])&&addNodeTo(handle.firstChild,options.cssClasses.tooltip)}function isSliderDisabled(){return scope_Target.hasAttribute("disabled")}function isHandleDisabled(handleNumber){return scope_Handles[handleNumber].hasAttribute("disabled")}function disable(handleNumber){null!=handleNumber?(scope_Handles[handleNumber].setAttribute("disabled",""),scope_Handles[handleNumber].handle.removeAttribute("tabindex")):(scope_Target.setAttribute("disabled",""),scope_Handles.forEach(function(handle){handle.handle.removeAttribute("tabindex")}))}function enable(handleNumber){null!=handleNumber?(scope_Handles[handleNumber].removeAttribute("disabled"),scope_Handles[handleNumber].handle.setAttribute("tabindex","0")):(scope_Target.removeAttribute("disabled"),scope_Handles.forEach(function(handle){handle.removeAttribute("disabled"),handle.handle.setAttribute("tabindex","0")}))}function removeTooltips(){scope_Tooltips&&(removeEvent("update"+INTERNAL_EVENT_NS.tooltips),scope_Tooltips.forEach(function(tooltip){tooltip&&removeElement(tooltip)}),scope_Tooltips=null)}function tooltips(){removeTooltips(),scope_Tooltips=scope_Handles.map(addTooltip),bindEvent("update"+INTERNAL_EVENT_NS.tooltips,function(values,handleNumber,unencoded){if(scope_Tooltips&&options.tooltips&&!1!==scope_Tooltips[handleNumber]){var formattedValue=values[handleNumber];!0!==options.tooltips[handleNumber]&&(formattedValue=options.tooltips[handleNumber].to(unencoded[handleNumber])),scope_Tooltips[handleNumber].innerHTML=formattedValue}})}function aria(){removeEvent("update"+INTERNAL_EVENT_NS.aria),bindEvent("update"+INTERNAL_EVENT_NS.aria,function(values,handleNumber,unencoded,tap,positions){scope_HandleNumbers.forEach(function(index){var handle=scope_Handles[index],min=checkHandlePosition(scope_Locations,index,0,!0,!0,!0),max=checkHandlePosition(scope_Locations,index,100,!0,!0,!0),now=positions[index],text=String(options.ariaFormat.to(unencoded[index]));min=scope_Spectrum.fromStepping(min).toFixed(1),max=scope_Spectrum.fromStepping(max).toFixed(1),now=scope_Spectrum.fromStepping(now).toFixed(1),handle.children[0].setAttribute("aria-valuemin",min),handle.children[0].setAttribute("aria-valuemax",max),handle.children[0].setAttribute("aria-valuenow",now),handle.children[0].setAttribute("aria-valuetext",text)})})}function getGroup(pips2){if(pips2.mode===PipsMode.Range||pips2.mode===PipsMode.Steps)return scope_Spectrum.xVal;if(pips2.mode===PipsMode.Count){if(pips2.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var interval=pips2.values-1,spread=100/interval,values=[];interval--;)values[interval]=interval*spread;return values.push(100),mapToRange(values,pips2.stepped)}return pips2.mode===PipsMode.Positions?mapToRange(pips2.values,pips2.stepped):pips2.mode===PipsMode.Values?pips2.stepped?pips2.values.map(function(value){return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)))}):pips2.values:[]}function mapToRange(values,stepped){return values.map(function(value){return scope_Spectrum.fromStepping(stepped?scope_Spectrum.getStep(value):value)})}function generateSpread(pips2){function safeIncrement(value,increment){return Number((value+increment).toFixed(7))}__name(safeIncrement,"safeIncrement");var group=getGroup(pips2),indexes={},firstInRange=scope_Spectrum.xVal[0],lastInRange=scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],ignoreFirst=!1,ignoreLast=!1,prevPct=0;return(group=unique(group.slice().sort(function(a,b){return a-b})))[0]!==firstInRange&&(group.unshift(firstInRange),ignoreFirst=!0),group[group.length-1]!==lastInRange&&(group.push(lastInRange),ignoreLast=!0),group.forEach(function(current,index){var step,i,q,newPct,pctDifference,pctPos,type,steps,realSteps,stepSize,low=current,high=group[index+1],isSteps=pips2.mode===PipsMode.Steps;for(isSteps&&(step=scope_Spectrum.xNumSteps[index]),step||(step=high-low),void 0===high&&(high=low),step=Math.max(step,1e-7),i=low;i<=high;i=safeIncrement(i,step)){for(steps=(pctDifference=(newPct=scope_Spectrum.toStepping(i))-prevPct)/(pips2.density||1),stepSize=pctDifference/(realSteps=Math.round(steps)),q=1;q<=realSteps;q+=1)indexes[(pctPos=prevPct+q*stepSize).toFixed(5)]=[scope_Spectrum.fromStepping(pctPos),0];type=group.indexOf(i)>-1?PipsType.LargeValue:isSteps?PipsType.SmallValue:PipsType.NoValue,!index&&ignoreFirst&&i!==high&&(type=0),i===high&&ignoreLast||(indexes[newPct.toFixed(5)]=[i,type]),prevPct=newPct}}),indexes}function addMarking(spread,filterFunc,formatter){var _a,_b,element=scope_Document.createElement("div"),valueSizeClasses=((_a={})[PipsType.None]="",_a[PipsType.NoValue]=options.cssClasses.valueNormal,_a[PipsType.LargeValue]=options.cssClasses.valueLarge,_a[PipsType.SmallValue]=options.cssClasses.valueSub,_a),markerSizeClasses=((_b={})[PipsType.None]="",_b[PipsType.NoValue]=options.cssClasses.markerNormal,_b[PipsType.LargeValue]=options.cssClasses.markerLarge,_b[PipsType.SmallValue]=options.cssClasses.markerSub,_b),valueOrientationClasses=[options.cssClasses.valueHorizontal,options.cssClasses.valueVertical],markerOrientationClasses=[options.cssClasses.markerHorizontal,options.cssClasses.markerVertical];function getClasses(type,source){var a=source===options.cssClasses.value,sizeClasses=a?valueSizeClasses:markerSizeClasses;return source+" "+(a?valueOrientationClasses:markerOrientationClasses)[options.ort]+" "+sizeClasses[type]}function addSpread(offset2,value,type){if((type=filterFunc?filterFunc(value,type):type)!==PipsType.None){var node=addNodeTo(element,!1);node.className=getClasses(type,options.cssClasses.marker),node.style[options.style]=offset2+"%",type>PipsType.NoValue&&((node=addNodeTo(element,!1)).className=getClasses(type,options.cssClasses.value),node.setAttribute("data-value",String(value)),node.style[options.style]=offset2+"%",node.innerHTML=String(formatter.to(value)))}}return addClass(element,options.cssClasses.pips),addClass(element,0===options.ort?options.cssClasses.pipsHorizontal:options.cssClasses.pipsVertical),__name(getClasses,"getClasses"),__name(addSpread,"addSpread"),Object.keys(spread).forEach(function(offset2){addSpread(offset2,spread[offset2][0],spread[offset2][1])}),element}function removePips(){scope_Pips&&(removeElement(scope_Pips),scope_Pips=null)}function pips(pips2){removePips();var spread=generateSpread(pips2),filter2=pips2.filter,format=pips2.format||{to:function(value){return String(Math.round(value))}};return scope_Pips=scope_Target.appendChild(addMarking(spread,filter2,format))}function baseSize(){var rect=scope_Base.getBoundingClientRect(),alt="offset"+["Width","Height"][options.ort];return 0===options.ort?rect.width||scope_Base[alt]:rect.height||scope_Base[alt]}function attachEvent(events,element,callback,data){var method=__name(function(event2){var e=fixEvent(event2,data.pageOffset,data.target||element);if(!e||isSliderDisabled()&&!data.doNotReject||hasClass(scope_Target,options.cssClasses.tap)&&!data.doNotReject||events===actions.start&&void 0!==e.buttons&&e.buttons>1||data.hover&&e.buttons)return!1;supportsPassive||e.preventDefault(),e.calcPoint=e.points[options.ort],callback(e,data)},"method"),methods=[];return events.split(" ").forEach(function(eventName){element.addEventListener(eventName,method,!!supportsPassive&&{passive:!0}),methods.push([eventName,method])}),methods}function fixEvent(e,pageOffset,eventTarget){var touch=0===e.type.indexOf("touch"),mouse=0===e.type.indexOf("mouse"),pointer=0===e.type.indexOf("pointer"),x=0,y=0;if(0===e.type.indexOf("MSPointer")&&(pointer=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(touch){var isTouchOnTarget=__name(function(checkTouch){var target2=checkTouch.target;return target2===eventTarget||eventTarget.contains(target2)||e.composed&&e.composedPath().shift()===eventTarget},"isTouchOnTarget");if("touchstart"===e.type){var targetTouches=Array.prototype.filter.call(e.touches,isTouchOnTarget);if(targetTouches.length>1)return!1;x=targetTouches[0].pageX,y=targetTouches[0].pageY}else{var targetTouch=Array.prototype.find.call(e.changedTouches,isTouchOnTarget);if(!targetTouch)return!1;x=targetTouch.pageX,y=targetTouch.pageY}}return pageOffset=pageOffset||getPageOffset(scope_Document),(mouse||pointer)&&(x=e.clientX+pageOffset.x,y=e.clientY+pageOffset.y),e.pageOffset=pageOffset,e.points=[x,y],e.cursor=mouse||pointer,e}function calcPointToPercentage(calcPoint){var proposal=100*(calcPoint-offset(scope_Base,options.ort))/baseSize();return proposal=limit(proposal),options.dir?100-proposal:proposal}function getClosestHandle(clickedPosition){var smallestDifference=100,handleNumber=!1;return scope_Handles.forEach(function(handle,index){if(!isHandleDisabled(index)){var handlePosition=scope_Locations[index],differenceWithThisHandle=Math.abs(handlePosition-clickedPosition);(differenceWithThisHandle<smallestDifference||differenceWithThisHandle<=smallestDifference&&clickedPosition>handlePosition||100===differenceWithThisHandle&&100===smallestDifference)&&(handleNumber=index,smallestDifference=differenceWithThisHandle)}}),handleNumber}function documentLeave(event2,data){"mouseout"===event2.type&&"HTML"===event2.target.nodeName&&null===event2.relatedTarget&&eventEnd(event2,data)}function eventMove(event2,data){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===event2.buttons&&0!==data.buttonsProperty)return eventEnd(event2,data);var movement=(options.dir?-1:1)*(event2.calcPoint-data.startCalcPoint);moveHandles(movement>0,100*movement/data.baseSize,data.locations,data.handleNumbers,data.connect)}function eventEnd(event2,data){data.handle&&(removeClass(data.handle,options.cssClasses.active),scope_ActiveHandlesCount-=1),data.listeners.forEach(function(c){scope_DocumentElement.removeEventListener(c[0],c[1])}),0===scope_ActiveHandlesCount&&(removeClass(scope_Target,options.cssClasses.drag),setZindex(),event2.cursor&&(scope_Body.style.cursor="",scope_Body.removeEventListener("selectstart",preventDefault))),options.events.smoothSteps&&(data.handleNumbers.forEach(function(handleNumber){setHandle(handleNumber,scope_Locations[handleNumber],!0,!0,!1,!1)}),data.handleNumbers.forEach(function(handleNumber){fireEvent("update",handleNumber)})),data.handleNumbers.forEach(function(handleNumber){fireEvent("change",handleNumber),fireEvent("set",handleNumber),fireEvent("end",handleNumber)})}function eventStart(event2,data){if(!data.handleNumbers.some(isHandleDisabled)){var handle;if(1===data.handleNumbers.length)handle=scope_Handles[data.handleNumbers[0]].children[0],scope_ActiveHandlesCount+=1,addClass(handle,options.cssClasses.active);event2.stopPropagation();var listeners=[],moveEvent=attachEvent(actions.move,scope_DocumentElement,eventMove,{target:event2.target,handle,connect:data.connect,listeners,startCalcPoint:event2.calcPoint,baseSize:baseSize(),pageOffset:event2.pageOffset,handleNumbers:data.handleNumbers,buttonsProperty:event2.buttons,locations:scope_Locations.slice()}),endEvent=attachEvent(actions.end,scope_DocumentElement,eventEnd,{target:event2.target,handle,listeners,doNotReject:!0,handleNumbers:data.handleNumbers}),outEvent=attachEvent("mouseout",scope_DocumentElement,documentLeave,{target:event2.target,handle,listeners,doNotReject:!0,handleNumbers:data.handleNumbers});listeners.push.apply(listeners,moveEvent.concat(endEvent,outEvent)),event2.cursor&&(scope_Body.style.cursor=getComputedStyle(event2.target).cursor,scope_Handles.length>1&&addClass(scope_Target,options.cssClasses.drag),scope_Body.addEventListener("selectstart",preventDefault,!1)),data.handleNumbers.forEach(function(handleNumber){fireEvent("start",handleNumber)})}}function eventTap(event2){event2.stopPropagation();var proposal=calcPointToPercentage(event2.calcPoint),handleNumber=getClosestHandle(proposal);!1!==handleNumber&&(options.events.snap||addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration),setHandle(handleNumber,proposal,!0,!0),setZindex(),fireEvent("slide",handleNumber,!0),fireEvent("update",handleNumber,!0),options.events.snap?eventStart(event2,{handleNumbers:[handleNumber]}):(fireEvent("change",handleNumber,!0),fireEvent("set",handleNumber,!0)))}function eventHover(event2){var proposal=calcPointToPercentage(event2.calcPoint),to=scope_Spectrum.getStep(proposal),value=scope_Spectrum.fromStepping(to);Object.keys(scope_Events).forEach(function(targetEvent){"hover"===targetEvent.split(".")[0]&&scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,value)})})}function eventKeydown(event2,handleNumber){if(isSliderDisabled()||isHandleDisabled(handleNumber))return!1;var horizontalKeys=["Left","Right"],verticalKeys=["Down","Up"],largeStepKeys=["PageDown","PageUp"],edgeKeys=["Home","End"];options.dir&&!options.ort?horizontalKeys.reverse():options.ort&&!options.dir&&(verticalKeys.reverse(),largeStepKeys.reverse());var to,key=event2.key.replace("Arrow",""),isLargeDown=key===largeStepKeys[0],isLargeUp=key===largeStepKeys[1],isDown=key===verticalKeys[0]||key===horizontalKeys[0]||isLargeDown,isUp=key===verticalKeys[1]||key===horizontalKeys[1]||isLargeUp,isMin=key===edgeKeys[0],isMax=key===edgeKeys[1];if(!(isDown||isUp||isMin||isMax))return!0;if(event2.preventDefault(),isUp||isDown){var direction=isDown?0:1,step=getNextStepsForHandle(handleNumber)[direction];if(null===step)return!1;!1===step&&(step=scope_Spectrum.getDefaultStep(scope_Locations[handleNumber],isDown,options.keyboardDefaultStep)),step*=isLargeUp||isLargeDown?options.keyboardPageMultiplier:options.keyboardMultiplier,step=Math.max(step,1e-7),step*=isDown?-1:1,to=scope_Values[handleNumber]+step}else to=isMax?options.spectrum.xVal[options.spectrum.xVal.length-1]:options.spectrum.xVal[0];return setHandle(handleNumber,scope_Spectrum.toStepping(to),!0,!0),fireEvent("slide",handleNumber),fireEvent("update",handleNumber),fireEvent("change",handleNumber),fireEvent("set",handleNumber),!1}function bindSliderEvents(behaviour){behaviour.fixed||scope_Handles.forEach(function(handle,index){attachEvent(actions.start,handle.children[0],eventStart,{handleNumbers:[index]})}),behaviour.tap&&attachEvent(actions.start,scope_Base,eventTap,{}),behaviour.hover&&attachEvent(actions.move,scope_Base,eventHover,{hover:!0}),behaviour.drag&&scope_Connects.forEach(function(connect,index){if(!1!==connect&&0!==index&&index!==scope_Connects.length-1){var handleBefore=scope_Handles[index-1],handleAfter=scope_Handles[index],eventHolders=[connect],handlesToDrag=[handleBefore,handleAfter],handleNumbersToDrag=[index-1,index];addClass(connect,options.cssClasses.draggable),behaviour.fixed&&(eventHolders.push(handleBefore.children[0]),eventHolders.push(handleAfter.children[0])),behaviour.dragAll&&(handlesToDrag=scope_Handles,handleNumbersToDrag=scope_HandleNumbers),eventHolders.forEach(function(eventHolder){attachEvent(actions.start,eventHolder,eventStart,{handles:handlesToDrag,handleNumbers:handleNumbersToDrag,connect})})}})}function bindEvent(namespacedEvent,callback){scope_Events[namespacedEvent]=scope_Events[namespacedEvent]||[],scope_Events[namespacedEvent].push(callback),"update"===namespacedEvent.split(".")[0]&&scope_Handles.forEach(function(a,index){fireEvent("update",index)})}function isInternalNamespace(namespace){return namespace===INTERNAL_EVENT_NS.aria||namespace===INTERNAL_EVENT_NS.tooltips}function removeEvent(namespacedEvent){var event2=namespacedEvent&&namespacedEvent.split(".")[0],namespace=event2?namespacedEvent.substring(event2.length):namespacedEvent;Object.keys(scope_Events).forEach(function(bind){var tEvent=bind.split(".")[0],tNamespace=bind.substring(tEvent.length);event2&&event2!==tEvent||namespace&&namespace!==tNamespace||isInternalNamespace(tNamespace)&&namespace!==tNamespace||delete scope_Events[bind]})}function fireEvent(eventName,handleNumber,tap){Object.keys(scope_Events).forEach(function(targetEvent){var eventType=targetEvent.split(".")[0];eventName===eventType&&scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,scope_Values.map(options.format.to),handleNumber,scope_Values.slice(),tap||!1,scope_Locations.slice(),scope_Self)})})}function checkHandlePosition(reference,handleNumber,to,lookBackward,lookForward,getValue,smoothSteps){var distance;return scope_Handles.length>1&&!options.events.unconstrained&&(lookBackward&&handleNumber>0&&(distance=scope_Spectrum.getAbsoluteDistance(reference[handleNumber-1],options.margin,!1),to=Math.max(to,distance)),lookForward&&handleNumber<scope_Handles.length-1&&(distance=scope_Spectrum.getAbsoluteDistance(reference[handleNumber+1],options.margin,!0),to=Math.min(to,distance))),scope_Handles.length>1&&options.limit&&(lookBackward&&handleNumber>0&&(distance=scope_Spectrum.getAbsoluteDistance(reference[handleNumber-1],options.limit,!1),to=Math.min(to,distance)),lookForward&&handleNumber<scope_Handles.length-1&&(distance=scope_Spectrum.getAbsoluteDistance(reference[handleNumber+1],options.limit,!0),to=Math.max(to,distance))),options.padding&&(0===handleNumber&&(distance=scope_Spectrum.getAbsoluteDistance(0,options.padding[0],!1),to=Math.max(to,distance)),handleNumber===scope_Handles.length-1&&(distance=scope_Spectrum.getAbsoluteDistance(100,options.padding[1],!0),to=Math.min(to,distance))),smoothSteps||(to=scope_Spectrum.getStep(to)),!((to=limit(to))===reference[handleNumber]&&!getValue)&&to}function inRuleOrder(v,a){var o=options.ort;return(o?a:v)+", "+(o?v:a)}function moveHandles(upward,proposal,locations,handleNumbers,connect){var proposals=locations.slice(),firstHandle=handleNumbers[0],smoothSteps=options.events.smoothSteps,b=[!upward,upward],f=[upward,!upward];handleNumbers=handleNumbers.slice(),upward&&handleNumbers.reverse(),handleNumbers.length>1?handleNumbers.forEach(function(handleNumber,o){var to=checkHandlePosition(proposals,handleNumber,proposals[handleNumber]+proposal,b[o],f[o],!1,smoothSteps);!1===to?proposal=0:(proposal=to-proposals[handleNumber],proposals[handleNumber]=to)}):b=f=[!0];var state=!1;handleNumbers.forEach(function(handleNumber,o){state=setHandle(handleNumber,locations[handleNumber]+proposal,b[o],f[o],!1,smoothSteps)||state}),state&&(handleNumbers.forEach(function(handleNumber){fireEvent("update",handleNumber),fireEvent("slide",handleNumber)}),null!=connect&&fireEvent("drag",firstHandle))}function transformDirection(a,b){return options.dir?100-a-b:a}function updateHandlePosition(handleNumber,to){scope_Locations[handleNumber]=to,scope_Values[handleNumber]=scope_Spectrum.fromStepping(to);var translateRule="translate("+inRuleOrder(transformDirection(to,0)-scope_DirOffset+"%","0")+")";scope_Handles[handleNumber].style[options.transformRule]=translateRule,updateConnect(handleNumber),updateConnect(handleNumber+1)}function setZindex(){scope_HandleNumbers.forEach(function(handleNumber){var dir=scope_Locations[handleNumber]>50?-1:1,zIndex=3+(scope_Handles.length+dir*handleNumber);scope_Handles[handleNumber].style.zIndex=String(zIndex)})}function setHandle(handleNumber,to,lookBackward,lookForward,exactInput,smoothSteps){return exactInput||(to=checkHandlePosition(scope_Locations,handleNumber,to,lookBackward,lookForward,!1,smoothSteps)),!1!==to&&(updateHandlePosition(handleNumber,to),!0)}function updateConnect(index){if(scope_Connects[index]){var l=0,h=100;0!==index&&(l=scope_Locations[index-1]),index!==scope_Connects.length-1&&(h=scope_Locations[index]);var connectWidth=h-l,translateRule="translate("+inRuleOrder(transformDirection(l,connectWidth)+"%","0")+")",scaleRule="scale("+inRuleOrder(connectWidth/100,"1")+")";scope_Connects[index].style[options.transformRule]=translateRule+" "+scaleRule}}function resolveToValue(to,handleNumber){return null===to||!1===to||void 0===to||("number"==typeof to&&(to=String(to)),!1!==(to=options.format.from(to))&&(to=scope_Spectrum.toStepping(to)),!1===to||isNaN(to))?scope_Locations[handleNumber]:to}function valueSet(input,fireSetEvent,exactInput){var values=asArray(input),isInit=void 0===scope_Locations[0];fireSetEvent=void 0===fireSetEvent||fireSetEvent,options.animate&&!isInit&&addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration),scope_HandleNumbers.forEach(function(handleNumber){setHandle(handleNumber,resolveToValue(values[handleNumber],handleNumber),!0,!1,exactInput)});var i=1===scope_HandleNumbers.length?0:1;if(isInit&&scope_Spectrum.hasNoSize()&&(exactInput=!0,scope_Locations[0]=0,scope_HandleNumbers.length>1)){var space_1=100/(scope_HandleNumbers.length-1);scope_HandleNumbers.forEach(function(handleNumber){scope_Locations[handleNumber]=handleNumber*space_1})}for(;i<scope_HandleNumbers.length;++i)scope_HandleNumbers.forEach(function(handleNumber){setHandle(handleNumber,scope_Locations[handleNumber],!0,!0,exactInput)});setZindex(),scope_HandleNumbers.forEach(function(handleNumber){fireEvent("update",handleNumber),null!==values[handleNumber]&&fireSetEvent&&fireEvent("set",handleNumber)})}function valueReset(fireSetEvent){valueSet(options.start,fireSetEvent)}function valueSetHandle(handleNumber,value,fireSetEvent,exactInput){if(!((handleNumber=Number(handleNumber))>=0&&handleNumber<scope_HandleNumbers.length))throw new Error("noUiSlider: invalid handle number, got: "+handleNumber);setHandle(handleNumber,resolveToValue(value,handleNumber),!0,!0,exactInput),fireEvent("update",handleNumber),fireSetEvent&&fireEvent("set",handleNumber)}function valueGet(unencoded){if(void 0===unencoded&&(unencoded=!1),unencoded)return 1===scope_Values.length?scope_Values[0]:scope_Values.slice(0);var values=scope_Values.map(options.format.to);return 1===values.length?values[0]:values}function destroy(){for(removeEvent(INTERNAL_EVENT_NS.aria),removeEvent(INTERNAL_EVENT_NS.tooltips),Object.keys(options.cssClasses).forEach(function(key){removeClass(scope_Target,options.cssClasses[key])});scope_Target.firstChild;)scope_Target.removeChild(scope_Target.firstChild);delete scope_Target.noUiSlider}function getNextStepsForHandle(handleNumber){var location=scope_Locations[handleNumber],nearbySteps=scope_Spectrum.getNearbySteps(location),value=scope_Values[handleNumber],increment=nearbySteps.thisStep.step,decrement=null;if(options.snap)return[value-nearbySteps.stepBefore.startValue||null,nearbySteps.stepAfter.startValue-value||null];!1!==increment&&value+increment>nearbySteps.stepAfter.startValue&&(increment=nearbySteps.stepAfter.startValue-value),decrement=value>nearbySteps.thisStep.startValue?nearbySteps.thisStep.step:!1!==nearbySteps.stepBefore.step&&value-nearbySteps.stepBefore.highestStep,100===location?increment=null:0===location&&(decrement=null);var stepDecimals=scope_Spectrum.countStepDecimals();return null!==increment&&!1!==increment&&(increment=Number(increment.toFixed(stepDecimals))),null!==decrement&&!1!==decrement&&(decrement=Number(decrement.toFixed(stepDecimals))),[decrement,increment]}function getNextSteps(){return scope_HandleNumbers.map(getNextStepsForHandle)}function updateOptions(optionsToUpdate,fireSetEvent){var v=valueGet(),updateAble=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];updateAble.forEach(function(name){void 0!==optionsToUpdate[name]&&(originalOptions[name]=optionsToUpdate[name])});var newOptions=testOptions(originalOptions);updateAble.forEach(function(name){void 0!==optionsToUpdate[name]&&(options[name]=newOptions[name])}),scope_Spectrum=newOptions.spectrum,options.margin=newOptions.margin,options.limit=newOptions.limit,options.padding=newOptions.padding,options.pips?pips(options.pips):removePips(),options.tooltips?tooltips():removeTooltips(),scope_Locations=[],valueSet(isSet(optionsToUpdate.start)?optionsToUpdate.start:v,fireSetEvent)}function setupSlider(){scope_Base=addSlider(scope_Target),addElements(options.connect,scope_Base),bindSliderEvents(options.events),valueSet(options.start),options.pips&&pips(options.pips),options.tooltips&&tooltips(),aria()}__name(addNodeTo,"addNodeTo"),__name(addOrigin,"addOrigin"),__name(addConnect,"addConnect"),__name(addElements,"addElements"),__name(addSlider,"addSlider"),__name(addTooltip,"addTooltip"),__name(isSliderDisabled,"isSliderDisabled"),__name(isHandleDisabled,"isHandleDisabled"),__name(disable,"disable"),__name(enable,"enable"),__name(removeTooltips,"removeTooltips"),__name(tooltips,"tooltips"),__name(aria,"aria"),__name(getGroup,"getGroup"),__name(mapToRange,"mapToRange"),__name(generateSpread,"generateSpread"),__name(addMarking,"addMarking"),__name(removePips,"removePips"),__name(pips,"pips"),__name(baseSize,"baseSize"),__name(attachEvent,"attachEvent"),__name(fixEvent,"fixEvent"),__name(calcPointToPercentage,"calcPointToPercentage"),__name(getClosestHandle,"getClosestHandle"),__name(documentLeave,"documentLeave"),__name(eventMove,"eventMove"),__name(eventEnd,"eventEnd"),__name(eventStart,"eventStart"),__name(eventTap,"eventTap"),__name(eventHover,"eventHover"),__name(eventKeydown,"eventKeydown"),__name(bindSliderEvents,"bindSliderEvents"),__name(bindEvent,"bindEvent"),__name(isInternalNamespace,"isInternalNamespace"),__name(removeEvent,"removeEvent"),__name(fireEvent,"fireEvent"),__name(checkHandlePosition,"checkHandlePosition"),__name(inRuleOrder,"inRuleOrder"),__name(moveHandles,"moveHandles"),__name(transformDirection,"transformDirection"),__name(updateHandlePosition,"updateHandlePosition"),__name(setZindex,"setZindex"),__name(setHandle,"setHandle"),__name(updateConnect,"updateConnect"),__name(resolveToValue,"resolveToValue"),__name(valueSet,"valueSet"),__name(valueReset,"valueReset"),__name(valueSetHandle,"valueSetHandle"),__name(valueGet,"valueGet"),__name(destroy,"destroy"),__name(getNextStepsForHandle,"getNextStepsForHandle"),__name(getNextSteps,"getNextSteps"),__name(updateOptions,"updateOptions"),__name(setupSlider,"setupSlider"),setupSlider();var scope_Self={destroy,steps:getNextSteps,on:bindEvent,off:removeEvent,get:valueGet,set:valueSet,setHandle:valueSetHandle,reset:valueReset,disable,enable,__moveHandles:function(upward,proposal,handleNumbers){moveHandles(upward,proposal,scope_Locations,handleNumbers)},options:originalOptions,updateOptions,target:scope_Target,removePips,removeTooltips,getPositions:function(){return scope_Locations.slice()},getTooltips:function(){return scope_Tooltips},getOrigins:function(){return scope_Handles},pips};return scope_Self}function initialize(target,originalOptions){if(!target||!target.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+target);if(target.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var api=scope(target,testOptions(originalOptions),originalOptions);return target.noUiSlider=api,api}__name(testStep,"testStep"),__name(testKeyboardPageMultiplier,"testKeyboardPageMultiplier"),__name(testKeyboardMultiplier,"testKeyboardMultiplier"),__name(testKeyboardDefaultStep,"testKeyboardDefaultStep"),__name(testRange,"testRange"),__name(testStart,"testStart"),__name(testSnap,"testSnap"),__name(testAnimate,"testAnimate"),__name(testAnimationDuration,"testAnimationDuration"),__name(testConnect,"testConnect"),__name(testOrientation,"testOrientation"),__name(testMargin,"testMargin"),__name(testLimit,"testLimit"),__name(testPadding,"testPadding"),__name(testDirection,"testDirection"),__name(testBehaviour,"testBehaviour"),__name(testTooltips,"testTooltips"),__name(testHandleAttributes,"testHandleAttributes"),__name(testAriaFormat,"testAriaFormat"),__name(testFormat,"testFormat"),__name(testKeyboardSupport,"testKeyboardSupport"),__name(testDocumentElement,"testDocumentElement"),__name(testCssPrefix,"testCssPrefix"),__name(testCssClasses,"testCssClasses"),__name(testOptions,"testOptions"),__name(scope,"scope"),__name(initialize,"initialize");class DefaultFormatter{to(value){return String(parseFloat(parseFloat(String(value)).toFixed(2)))}from(value){return parseFloat(value)}}__name(DefaultFormatter,"DefaultFormatter");class NouisliderComponent{constructor(ngZone,el,renderer){this.ngZone=ngZone,this.el=el,this.renderer=renderer,this.handles=[],this.config={},this.change=new core.vpe(!0),this.update=new core.vpe(!0),this.slide=new core.vpe(!0),this.set=new core.vpe(!0),this.start=new core.vpe(!0),this.end=new core.vpe(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(emitter,values,handle,unencoded)=>{let v=this.toValues(values),emitEvents=!1;void 0!==this.value?(Array.isArray(v)&&this.value[handle]!=v[handle]&&(emitEvents=!0),!Array.isArray(v)&&this.value!=v&&(emitEvents=!0),emitEvents&&this.ngZone.run(()=>{emitter.observers.length>0&&emitter.emit(v),this.onChange(v)}),Array.isArray(v)?this.value[handle]=v[handle]:this.value=v):this.value=v},this.defaultKeyHandler=e=>{let newValue,stepSize=this.slider.steps(),index=parseInt(e.target.getAttribute("data-handle")),sign=1,multiplier=1,step=0,delta=0;switch(e.which){case 34:case 33:multiplier=this.config.pageSteps;break;case 40:case 37:sign=-1,step=stepSize[index][0],e.preventDefault();break;case 38:case 39:step=stepSize[index][1],e.preventDefault()}delta=sign*multiplier*step,Array.isArray(this.value)?(newValue=[...this.value],newValue[index]=newValue[index]+delta):newValue=this.value+delta,this.slider.set(newValue)}}ngOnChanges(changes){this.slider&&(changes.min||changes.max||changes.step||changes.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(values){let v=values.map(this.config.format.from);return 1==v.length?v[0]:v}writeValue(value){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(value)})}):null!==value&&(this.value=value,this.createSlider(value))}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){isDisabled?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(initialValue){let inputsConfig=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:initialValue,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(inputsConfig.tooltips=this.tooltips||this.config.tooltips,inputsConfig.format=this.format||this.config.format||new DefaultFormatter,this.ngZone.runOutsideAngular(()=>{this.slider=initialize(this.el.nativeElement.querySelector("div"),Object.assign(this.config,inputsConfig))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const handle of this.handles){handle.setAttribute("tabindex",0);const onKeydown=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(handle,"keydown",onKeydown),this.renderer.listen(handle,"click",()=>{handle.focus()}))})}}this.slider.on("set",(values,handle,unencoded)=>{this.eventHandler(this.set,values,handle,unencoded)}),this.slider.on("update",(values,handle,unencoded)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(values))})}),this.slider.on("change",(values,handle,unencoded)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(values))})}),this.slider.on("slide",(values,handle,unencoded)=>{this.eventHandler(this.slide,values,handle,unencoded)}),this.slider.on("start",(values,handle,unencoded)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(values))})}),this.slider.on("end",(values,handle,unencoded)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(values))})})}}__name(NouisliderComponent,"NouisliderComponent"),NouisliderComponent.\u0275fac=__name(function(t){return new(t||NouisliderComponent)(core.Y36(core.R0b),core.Y36(core.SBq),core.Y36(core.Qsj))},"NouisliderComponent_Factory"),NouisliderComponent.\u0275cmp=core.Xpm({type:NouisliderComponent,selectors:[["nouislider"]],hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("ng2-nouislider",!0)},"NouisliderComponent_HostBindings"),inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[core._Bn([{provide:fesm2020_forms.JU,useExisting:(0,core.Gpc)(()=>NouisliderComponent),multi:!0}]),core.TTD,core.jDz],decls:1,vars:1,template:__name(function(rf,ctx){1&rf&&core._UZ(0,"div"),2&rf&&core.uIk("disabled",!!ctx.disabled||void 0)},"NouisliderComponent_Template"),styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]});class NouisliderModule{}__name(NouisliderModule,"NouisliderModule"),NouisliderModule.\u0275fac=__name(function(t){return new(t||NouisliderModule)},"NouisliderModule_Factory"),NouisliderModule.\u0275mod=core.oAB({type:NouisliderModule}),NouisliderModule.\u0275inj=core.cJS({imports:[NouisliderComponent]});var themed_search_filters_component=__webpack_require__(95345),themed_search_sidebar_component=__webpack_require__(15888),debounce_directive=__webpack_require__(36093);search_component.SearchComponent,themed_search_component.l,search_results_component.SearchResultsComponent,search_sidebar_component.SearchSidebarComponent,search_settings_component.SearchSettingsComponent,search_filters_component.SearchFiltersComponent,search_filter_component.c,search_labels_component.B,search_label_component.M,search_facet_filter_wrapper_component.O,search_switch_configuration_component.n,configuration_search_page_component.ConfigurationSearchPageComponent,themed_configuration_search_page_component.R,themed_search_results_component.g,themed_search_settings_component.M,themed_search_filters_component.R,themed_search_sidebar_component.H;const ENTRY_COMPONENTS=[SearchFacetFilterComponent,SearchRangeFilterComponent,SearchTextFilterComponent,SearchHierarchyFilterComponent,SearchBooleanFilterComponent,SearchFacetOptionComponent,SearchFacetSelectedOptionComponent,SearchFacetRangeOptionComponent,SearchAuthorityFilterComponent];search_objects_model.L,facet_config_response_model.M,facet_values_model.i,search_result_model.l;class SearchModule{static withEntryComponents(){return{ngModule:SearchModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(SearchModule,"SearchModule"),SearchModule.\u0275fac=__name(function(t){return new(t||SearchModule)},"SearchModule_Factory"),SearchModule.\u0275mod=core.oAB({type:SearchModule}),SearchModule.\u0275inj=core.cJS({imports:[common.ez,ngx_translate_core.aw.forChild({missingTranslationHandler:{provide:ngx_translate_core.gC,useClass:missing_translation_helper.n},useDefaultLang:!0}),shared_module.m.withEntryComponents(),NouisliderModule]}),core.B6R(SearchRangeFilterComponent,function(){return[common.sg,common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.On,fesm2020_forms.F,debounce_directive.q,NouisliderComponent,SearchFacetRangeOptionComponent]},function(){return[common.Ov,ngx_translate_core.X$]})},40738:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MD:()=>getFacetValueForType,RD:()=>stripOperatorFromFilterValue,XC:()=>addOperatorToFilterValue});var _empty_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59501);function getFacetValueForType(facetValue,searchFilterConfig){const regex=new RegExp(`[?|&]${escapeRegExp(encodeURIComponent(searchFilterConfig.paramName))}=(${escapeRegExp(encodeURIComponent(facetValue.value))}[^&]*)`,"g");if((0,_empty_util__WEBPACK_IMPORTED_MODULE_0__.UE)(facetValue._links)){const values=regex.exec(facetValue._links.search.href);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_0__.UE)(values))return decodeURIComponent(values[1])}return facetValue.authorityKey?addOperatorToFilterValue(facetValue.authorityKey,"authority"):addOperatorToFilterValue(facetValue.value,"equals")}function escapeRegExp(input){return input.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function stripOperatorFromFilterValue(value){return value.match(new RegExp(".+,(equals|query|authority)$"))?value.substring(0,value.lastIndexOf(",")):value}function addOperatorToFilterValue(value,operator){return value.match(new RegExp("^.+,(equals|query|authority)$"))?value:`${value},${operator}`}__name(getFacetValueForType,"getFacetValueForType"),__name(escapeRegExp,"escapeRegExp"),__name(stripOperatorFromFilterValue,"stripOperatorFromFilterValue"),__name(addOperatorToFilterValue,"addOperatorToFilterValue")},92796:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>FileDropzoneNoUploaderComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46895),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64871),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93489),_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28352),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32189),_utils_file_value_accessor_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62738),_utils_require_file_validator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82496),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4330);function FileDropzoneNoUploaderComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",9)(1,"div",10)(2,"p",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(4,1,ctx_r0.dropMessageLabel))}}function FileDropzoneNoUploaderComponent_p_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"p",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",ctx_r1.fileObject.name," ")}}__name(FileDropzoneNoUploaderComponent_div_2_Template,"FileDropzoneNoUploaderComponent_div_2_Template"),__name(FileDropzoneNoUploaderComponent_p_5_Template,"FileDropzoneNoUploaderComponent_p_5_Template");class FileDropzoneNoUploaderComponent{constructor(){this.onFileAdded=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.vpe,this.uploadFilesOptions=Object.assign(new _uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_1__.n,{url:"placeholder"})}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()(),this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!1),this.uploader=new ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__.bA({url:"placeholder"})}onDrop(event2){event2.preventDefault()}onDragOver(event2){event2.preventDefault(),"HTML"!==event2.target.tagName&&(this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0))}fileOverDocument(isOver){isOver||(this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(isOver))}setFile(files){this.fileObject=files.length>0?files[0]:void 0,this.onFileAdded.emit(this.fileObject)}}__name(FileDropzoneNoUploaderComponent,"FileDropzoneNoUploaderComponent"),FileDropzoneNoUploaderComponent.\u0275fac=__name(function(t){return new(t||FileDropzoneNoUploaderComponent)},"FileDropzoneNoUploaderComponent_Factory"),FileDropzoneNoUploaderComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:FileDropzoneNoUploaderComponent,selectors:[["ds-file-dropzone-no-uploader"]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("drop",__name(function($event){return ctx.onDrop($event)},"FileDropzoneNoUploaderComponent_drop_HostBindingHandler"),!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Jf7)("dragover",__name(function($event){return ctx.onDragOver($event)},"FileDropzoneNoUploaderComponent_dragover_HostBindingHandler"),!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Jf7)},"FileDropzoneNoUploaderComponent_HostBindings"),inputs:{dropMessageLabel:"dropMessageLabel",dropMessageLabelReplacement:"dropMessageLabelReplacement"},outputs:{onFileAdded:"onFileAdded"},decls:17,vars:19,consts:[["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"uploader","onFileDrop","fileOver"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted","p-2"],["class","text-center m-0 p-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"text-center","m-0","p-0","d-flex","justify-content-center","align-items-center"],["aria-hidden","true",1,"fas","fa-cloud-upload"],[1,"btn","btn-link","m-0","p-0","ml-1"],["requireFile","","type","file","name","file-upload","id","file-upload",1,"form-control-file","d-none",3,"ngModel","ngModelChange"],["file","ngModel"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("onFileDrop",__name(function($event){return ctx.setFile($event)},"FileDropzoneNoUploaderComponent_Template_div_onFileDrop_0_listener"))("fileOver",__name(function($event){return ctx.fileOverDocument($event)},"FileDropzoneNoUploaderComponent_Template_div_fileOver_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,FileDropzoneNoUploaderComponent_div_2_Template,5,3,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(5,FileDropzoneNoUploaderComponent_p_5_Template,2,1,"p",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(6,"p",4)(7,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(8,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(12,"label",6)(13,"input",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("ngModelChange",__name(function($event){return ctx.setFile($event)},"FileDropzoneNoUploaderComponent_Template_input_ngModelChange_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.ekj("ds-document-drop-zone-active",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,9,ctx.isOverDocumentDropZone)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("uploader",ctx.uploader),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,11,ctx.isOverDocumentDropZone)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",null!=ctx.fileObject),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(10,13,null==ctx.fileObject?ctx.dropMessageLabel:ctx.dropMessageLabelReplacement)," ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(11,15,"uploader.or"),""),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngModel",ctx.fileObject),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(16,17,"uploader.browse")," "))},"FileDropzoneNoUploaderComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.On,_utils_file_value_accessor_directive__WEBPACK_IMPORTED_MODULE_2__.k,_utils_require_file_validator__WEBPACK_IMPORTED_MODULE_3__.C,ng2_file_upload__WEBPACK_IMPORTED_MODULE_6__.GN,_angular_common__WEBPACK_IMPORTED_MODULE_7__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.X$],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})},76382:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>UploadModule});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159),_shared_module__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47013),ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64871),_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30307),_file_dropzone_no_uploader_file_dropzone_no_uploader_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92796),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209);const COMPONENTS=[_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_1__.B,_file_dropzone_no_uploader_file_dropzone_no_uploader_component__WEBPACK_IMPORTED_MODULE_2__.n];class UploadModule{}__name(UploadModule,"UploadModule"),UploadModule.\u0275fac=__name(function(t){return new(t||UploadModule)},"UploadModule_Factory"),UploadModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oAB({type:UploadModule}),UploadModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_3__.cJS({providers:[...COMPONENTS],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.ez,_shared_module__WEBPACK_IMPORTED_MODULE_0__.m,ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__.Ob,ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__.Ob]})},28352:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>UploaderOptions});var _core_data_rest_request_method__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23568);class UploaderOptions{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=_core_data_rest_request_method__WEBPACK_IMPORTED_MODULE_0__.a.POST}}__name(UploaderOptions,"UploaderOptions")},30307:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>UploaderComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93489),ng2_file_upload__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64871),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46895),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),_empty_util__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(28352),__webpack_require__(59501)),_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72155),_core_services_cookie_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25141),_core_drag_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7036),_nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74978),_angular_common_http__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8280),_angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(65159),_utils_file_value_accessor_directive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62738),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4330);function UploaderComponent_div_0_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("fileOver",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r5);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r4.fileOverDocument($event))},"UploaderComponent_div_0_Template_div_fileOver_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("ds-document-drop-zone-active",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(1,3,ctx_r0.isOverDocumentDropZone)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("uploader",ctx_r0.uploader)}}function UploaderComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",8)(1,"div",9)(2,"p",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(4,1,ctx_r1.dropOverDocumentMsg))}}function UploaderComponent_div_8_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",11)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(6,"label",13),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("keyup.enter",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r8);const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_5__.MAs(12);return $event.stopImmediatePropagation(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(_r6.click())},"UploaderComponent_div_8_Template_label_keyup_enter_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(7,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(11,"input",15,16),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(4,7,ctx_r2.dropMsg),"",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(5,9,"uploader.or")," "),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.MGl("for","inputFileUploader-",ctx_r2.uploaderId,""),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(8,11,"uploader.browse")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(10,13,"uploader.browse")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.MGl("id","inputFileUploader-",ctx_r2.uploaderId,""),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("uploader",ctx_r2.uploader)}}function UploaderComponent_div_9_span_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,2,"uploader.queue-length"),": ",null==ctx_r9.uploader||null==ctx_r9.uploader.queue?null:ctx_r9.uploader.queue.length," | ")}}function UploaderComponent_div_9_span_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"span",26),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij("",ctx_r10.uploader.progress,"%")}}function UploaderComponent_div_9_span_11_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"span",26),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(2,1,"uploader.processing")))}__name(UploaderComponent_div_0_Template,"UploaderComponent_div_0_Template"),__name(UploaderComponent_div_2_Template,"UploaderComponent_div_2_Template"),__name(UploaderComponent_div_8_Template,"UploaderComponent_div_8_Template"),__name(UploaderComponent_div_9_span_4_Template,"UploaderComponent_div_9_span_4_Template"),__name(UploaderComponent_div_9_span_10_Template,"UploaderComponent_div_9_span_10_Template"),__name(UploaderComponent_div_9_span_11_Template,"UploaderComponent_div_9_span_11_Template");const _c0=__name(function(a0){return{width:a0}},"_c0"),_c1=__name(function(a1){return{"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":a1}},"_c1");function UploaderComponent_div_9_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(4,UploaderComponent_div_9_span_4_Template,3,4,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(6,"div",20)(7,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r13);const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_5__.KtG(ctx_r12.uploader.clearQueue())},"UploaderComponent_div_9_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(9,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(10,UploaderComponent_div_9_span_10_Template,2,1,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(11,UploaderComponent_div_9_span_11_Template,3,3,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(12,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(13,"div",25),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",!ctx_r3.uploader.options.disableMultipart),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij("",null==ctx_r3.uploader||null==ctx_r3.uploader.queue[0]?null:ctx_r3.uploader.queue[0].file.name," "),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(8,8,"uploader.delete.btn-title")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("disabled",!ctx_r3.uploader.queue.length),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",ctx_r3.uploader.progress<100&&!(0===ctx_r3.uploader.progress&&!ctx_r3.uploader.options.autoUpload)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",100===ctx_r3.uploader.progress),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngStyle",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(10,_c0,ctx_r3.uploader.progress+"%"))("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(12,_c1,100===ctx_r3.uploader.progress))}}__name(UploaderComponent_div_9_Template,"UploaderComponent_div_9_Template");const _c2=__name(function(a0){return{"ds-base-drop-zone-file-over":a0}},"_c2");class UploaderComponent{constructor(cdr,scrollToService,dragService,tokenExtractor,cookieService){this.cdr=cdr,this.scrollToService=scrollToService,this.dragService=dragService,this.tokenExtractor=tokenExtractor,this.cookieService=cookieService,this.onCompleteItem=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.onUploadError=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.onFileSelected=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.isOverBaseDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!1),this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!1)}onDragOver(event2){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(event2.preventDefault(),"HTML"!==event2.target.tagName&&(this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)))}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new ng2_file_upload__WEBPACK_IMPORTED_MODULE_7__.bA({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.o8)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.o8)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.o8)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=items=>{this.onFileSelected.emit(items)},(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.o8)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=item=>{item.url!==this.uploader.options.url&&(item.url=this.uploader.options.url),this.uploader.options.headers=[{name:_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.ew,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!1)},(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(item,form)=>{form.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(item,response,status,headers)=>{const token=headers[_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.aj.toLowerCase()];if((0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.UE)(token)&&(this.saveXsrfToken(token),this.uploader.options.headers=[{name:_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.ew,value:this.tokenExtractor.getToken()}]),(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.UE)(response)){const responsePath=JSON.parse(response);this.onCompleteItem.emit(responsePath)}},this.uploader.onErrorItem=(item,response,status,headers)=>{const token=headers[_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.aj.toLowerCase()];(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.UE)(token)&&(this.saveXsrfToken(token),this.uploader.options.headers=[{name:_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.ew,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item,response,status,headers}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(isOver){this.isOverBaseDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(isOver)}fileOverDocument(isOver){isOver||(this.isOverDocumentDropZone=(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(isOver))}onProgress(){this.cdr.detectChanges()}checkConfig(fileUploadOptions){const missing=["url","authToken","disableMultipart","itemAlias"].filter(prop=>!(prop in fileUploadOptions&&""!==fileUploadOptions[prop]));if(0<missing.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+missing.join(", "))}saveXsrfToken(token){this.cookieService.remove(_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.VY),this.cookieService.set(_core_xsrf_xsrf_constants__WEBPACK_IMPORTED_MODULE_9__.VY,token)}}__name(UploaderComponent,"UploaderComponent"),UploaderComponent.\u0275fac=__name(function(t){return new(t||UploaderComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_5__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_10__.ij),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_drag_service__WEBPACK_IMPORTED_MODULE_3__.w),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_common_http__WEBPACK_IMPORTED_MODULE_11__.YS),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_services_cookie_service__WEBPACK_IMPORTED_MODULE_2__.N))},"UploaderComponent_Factory"),UploaderComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:UploaderComponent,selectors:[["ds-uploader"]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("dragover",__name(function($event){return ctx.onDragOver($event)},"UploaderComponent_dragover_HostBindingHandler"),!1,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Jf7)},"UploaderComponent_HostBindings"),inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},decls:11,vars:17,consts:[["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"ngClass","uploader","fileOver"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"uploader","fileOver"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],["aria-hidden","true",1,"fas","fa-upload"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ml-1",3,"for","keyup.enter"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],["fileInput",""],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button",1,"btn","btn-danger",3,"title","disabled","click"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-right mr-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-right","mr-3"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(0,UploaderComponent_div_0_Template,2,5,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,UploaderComponent_div_2_Template,5,3,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(4,"div",2)(5,"div",3)(6,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("fileOver",__name(function($event){return ctx.fileOverBase($event)},"UploaderComponent_Template_div_fileOver_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(8,UploaderComponent_div_8_Template,13,15,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(9,UploaderComponent_div_9_Template,14,14,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(1,7,ctx.isOverDocumentDropZone)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(3,9,ctx.isOverDocumentDropZone)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("id",ctx.uploaderId),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_5__.VKq(15,_c2,_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(7,11,ctx.isOverBaseDropZone)))("uploader",ctx.uploader),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",0===(null==ctx.uploader||null==ctx.uploader.queue?null:ctx.uploader.queue.length)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(10,13,ctx.isOverBaseDropZone)||0!==(null==ctx.uploader||null==ctx.uploader.queue?null:ctx.uploader.queue.length)))},"UploaderComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_12__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_12__.PC,_utils_file_value_accessor_directive__WEBPACK_IMPORTED_MODULE_4__.k,ng2_file_upload__WEBPACK_IMPORTED_MODULE_7__.GN,ng2_file_upload__WEBPACK_IMPORTED_MODULE_7__.C6,_angular_common__WEBPACK_IMPORTED_MODULE_12__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.X$],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})},35097:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionEditComponent:()=>SubmissionEditComponent});var rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96846),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(59501),_submission_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48416),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39373),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53829),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22476),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(73275),_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24884),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4330),_form_submission_form_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(47260);class SubmissionEditComponent{constructor(changeDetectorRef,notificationsService,route,router,itemDataService,submissionService,translate,submissionJsonPatchOperationsService){this.changeDetectorRef=changeDetectorRef,this.notificationsService=notificationsService,this.route=route,this.router=router,this.itemDataService=itemDataService,this.submissionService=submissionService,this.translate=translate,this.submissionJsonPatchOperationsService=submissionJsonPatchOperationsService,this.collectionModifiable=null,this.subs=[],this.itemLink$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(void 0)}ngOnInit(){this.collectionModifiable=this.route.snapshot.data?.collectionModifiable??null,this.subs.push(this.route.paramMap.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.wt)(params=>this.submissionService.retrieveSubmission(params.get("id"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.hX)(submissionObjectRD=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.K0)(submissionObjectRD))).subscribe(submissionObjectRD=>{if(submissionObjectRD.hasSucceeded)if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.xb)(submissionObjectRD.payload))this.notificationsService.info(null,this.translate.get("submission.general.cannot_submit")),this.router.navigate(["/mydspace"]);else{const{errors}=submissionObjectRD.payload;this.submissionErrors=(0,_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_9__.Z)(errors),this.submissionId=submissionObjectRD.payload.id.toString(),this.collectionId=submissionObjectRD.payload.collection.id,this.selfUrl=submissionObjectRD.payload._links.self.href,this.sections=submissionObjectRD.payload.sections,this.itemLink$.next(submissionObjectRD.payload._links.item.href),this.item=submissionObjectRD.payload.item,this.submissionDefinition=submissionObjectRD.payload.submissionDefinition}else 404===submissionObjectRD.statusCode&&this.router.navigate(["/404"],{skipLocationChange:!0})}),this.itemLink$.pipe((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.iy)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.wt)(itemLink=>this.itemDataService.findByHref(itemLink)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.bh)(300)).subscribe(itemRd=>{this.item=itemRd.payload,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.submissionJsonPatchOperationsService.deletePendingJsonPatchOperations()}}__name(SubmissionEditComponent,"SubmissionEditComponent"),SubmissionEditComponent.\u0275fac=__name(function(t){return new(t||SubmissionEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_11__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_11__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__.S),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_0__.b),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_4__.E))},"SubmissionEditComponent_Factory"),SubmissionEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:SubmissionEditComponent,selectors:[["ds-submission-edit"]],decls:2,vars:8,consts:[[1,"submission-submit-container"],[3,"collectionId","sections","selfUrl","submissionDefinition","submissionErrors","item","collectionModifiable","submissionId"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-submission-form",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("collectionId",ctx.collectionId)("sections",ctx.sections)("selfUrl",ctx.selfUrl)("submissionDefinition",ctx.submissionDefinition)("submissionErrors",ctx.submissionErrors)("item",ctx.item)("collectionModifiable",ctx.collectionModifiable)("submissionId",ctx.submissionId))},"SubmissionEditComponent_Template"),dependencies:[_form_submission_form_component__WEBPACK_IMPORTED_MODULE_5__.G]})},28725:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>ThemedSubmissionEditComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedSubmissionEditComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSubmissionEditComponent_ng_template_0_Template,"ThemedSubmissionEditComponent_ng_template_0_Template");class ThemedSubmissionEditComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"SubmissionEditComponent"}importThemedComponent(themeName){return __webpack_require__(8377)(`./${themeName}/app/submission/edit/submission-edit.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,35097))}}__name(ThemedSubmissionEditComponent,"ThemedSubmissionEditComponent"),ThemedSubmissionEditComponent.\u0275fac=function(){let \u0275ThemedSubmissionEditComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSubmissionEditComponent_BaseFactory||(\u0275ThemedSubmissionEditComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedSubmissionEditComponent)))(t||ThemedSubmissionEditComponent)},"ThemedSubmissionEditComponent_Factory")}(),ThemedSubmissionEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedSubmissionEditComponent,selectors:[["ds-themed-submission-edit"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedSubmissionEditComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedSubmissionEditComponent_Template"),encapsulation:2})},96610:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>SubmissionFormCollectionComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(96846),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(59501),_core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(95414),_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33913),_submission_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48416),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(73275),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(761),_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(97478),_sections_sections_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21708),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53829),_sections_sections_type__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48142),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17306),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(65159),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(23506),_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(75355),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4330);function SubmissionFormCollectionComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",2)(1,"div",3)(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"div",5)(6,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,2,"submission.sections.general.collection")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(8,4,ctx_r0.selectedCollectionName$))}}function SubmissionFormCollectionComponent_div_3_span_8_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA())}function SubmissionFormCollectionComponent_div_3_span_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,ctx_r4.selectedCollectionName$))}}function SubmissionFormCollectionComponent_div_3_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",6,7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("openChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r6);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r5.toggled($event))},"SubmissionFormCollectionComponent_div_3_Template_div_openChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"div",3)(3,"span",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("blur",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r6);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r7.onClose())},"SubmissionFormCollectionComponent_div_3_Template_button_blur_6_listener"))("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r6);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r8.onClose())},"SubmissionFormCollectionComponent_div_3_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,SubmissionFormCollectionComponent_div_3_span_8_Template,2,0,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,SubmissionFormCollectionComponent_div_3_span_10_Template,3,3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(12,"div",11)(13,"ds-themed-collection-dropdown",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("selectionChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r6);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(ctx_r9.onSelect($event))},"SubmissionFormCollectionComponent_div_3_Template_ds_themed_collection_dropdown_selectionChange_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,"submission.sections.general.collection")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(7,6,ctx_r1.processingChange$)||0==ctx_r1.collectionModifiable||ctx_r1.isReadonly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(9,8,ctx_r1.processingChange$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(11,10,ctx_r1.processingChange$))}}__name(SubmissionFormCollectionComponent_div_1_Template,"SubmissionFormCollectionComponent_div_1_Template"),__name(SubmissionFormCollectionComponent_div_3_span_8_Template,"SubmissionFormCollectionComponent_div_3_span_8_Template"),__name(SubmissionFormCollectionComponent_div_3_span_10_Template,"SubmissionFormCollectionComponent_div_3_span_10_Template"),__name(SubmissionFormCollectionComponent_div_3_Template,"SubmissionFormCollectionComponent_div_3_Template");class SubmissionFormCollectionComponent{constructor(cdr,collectionDataService,operationsBuilder,operationsService,submissionService,sectionsService,dsoNameService){this.cdr=cdr,this.collectionDataService=collectionDataService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.submissionService=submissionService,this.sectionsService=sectionsService,this.dsoNameService=dsoNameService,this.collectionModifiable=null,this.isReadonly=!1,this.collectionChange=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.processingChange$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.subs=[]}ngOnChanges(changes){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(changes.currentCollectionId)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(changes.currentCollectionId.currentValue)&&(this.selectedCollectionId=this.currentCollectionId,this.selectedCollectionName$=this.collectionDataService.findById(this.currentCollectionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.sE)(collectionRD=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(collectionRD.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.UI)(collectionRD=>this.dsoNameService.getName(collectionRD.payload))))}ngOnInit(){this.pathCombiner=new _core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_14__.K("sections","collection"),this.available$=this.sectionsService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_7__.i.collection)}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}onSelect(event2){this.processingChange$.next(!0),this.operationsBuilder.replace(this.pathCombiner.getPath(),event2.collection.id,!0),this.subs.push(this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,"sections","collection").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.zg)(submissionObject=>this.submissionService.retrieveSubmission(submissionObject[0].id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Gp)()))).subscribe(submissionObject=>{this.selectedCollectionId=event2.collection.id,this.selectedCollectionName$=(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(event2.collection.name),this.collectionChange.emit(submissionObject),this.submissionService.changeSubmissionCollection(this.submissionId,event2.collection.id),this.processingChange$.next(!1),this.cdr.detectChanges()}))}onClose(){this.collectionDropdown?.reset()}toggled(isOpen){isOpen||this.collectionDropdown?.reset()}}__name(SubmissionFormCollectionComponent,"SubmissionFormCollectionComponent"),SubmissionFormCollectionComponent.\u0275fac=__name(function(t){return new(t||SubmissionFormCollectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_3__.W),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_0__.w),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_2__.E),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_1__.b),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_sections_sections_service__WEBPACK_IMPORTED_MODULE_5__.J),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_8__._))},"SubmissionFormCollectionComponent_Factory"),SubmissionFormCollectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:SubmissionFormCollectionComponent,selectors:[["ds-submission-form-collection"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_4__.CollectionDropdownComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.collectionDropdown=_t.first)}},"SubmissionFormCollectionComponent_Query"),inputs:{currentCollectionId:"currentCollectionId",currentDefinition:"currentDefinition",collectionModifiable:"collectionModifiable",submissionId:"submissionId",isReadonly:"isReadonly"},outputs:{collectionChange:"collectionChange"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.TTD],decls:5,vars:6,consts:[["class","input-group mb-3",4,"ngIf"],["ngbDropdown","","class","btn-group input-group",3,"openChange",4,"ngIf"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"input-group-append"],["ngbDropdown","",1,"btn-group","input-group",3,"openChange"],["collectionControls","ngbDropdown"],["id","collectionControlsMenuLabel",1,"input-group-text"],["aria-describedby","collectionControlsMenuLabel","id","collectionControlsMenuButton","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"disabled","blur","click"],[4,"ngIf"],["ngbDropdownMenu","","id","collectionControlsDropdownMenu","aria-labelledby","collectionControlsMenuButton",1,"dropdown-menu"],[3,"selectionChange"],[1,"fas","fa-circle-notch","fa-spin"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,SubmissionFormCollectionComponent_div_1_Template,9,6,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,SubmissionFormCollectionComponent_div_3_Template,14,12,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,2,ctx.available$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,4,ctx.available$)))},"SubmissionFormCollectionComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.Vi,_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.t,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.X$],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{left:0!important}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}"]})},90945:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>SubmissionFormFooterComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96846),_core_submission_submission_rest_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59523),_submission_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48416),_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21617),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59501),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_shared_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3903),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330);function SubmissionFormFooterComponent_div_0_button_2_Template(rf,ctx){if(1&rf){const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r9);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2),_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(2);return $event.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r8.confirmDiscard(_r1))},"SubmissionFormFooterComponent_div_0_button_2_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(4,"i",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,5,ctx_r3.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,7,ctx_r3.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,3,"discard")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(6,9,"submission.general.discard.submit")," ")}}function SubmissionFormFooterComponent_div_0_span_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(1,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,1,"submission.general.info.saved")," "))}function SubmissionFormFooterComponent_div_0_span_9_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(1,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,1,"submission.general.info.pending-changes")," "))}function SubmissionFormFooterComponent_div_0_div_13_div_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1,"Saving..."),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Udp("width","100%")}function SubmissionFormFooterComponent_div_0_div_13_div_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1,"Depositing..."),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Udp("width","100%")}function SubmissionFormFooterComponent_div_0_div_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",17)(1,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,SubmissionFormFooterComponent_div_0_div_13_div_2_Template,2,2,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(4,SubmissionFormFooterComponent_div_0_div_13_div_4_Template,2,2,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,2,ctx_r6.processingSaveStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(5,4,ctx_r6.processingDepositStatus))}}function SubmissionFormFooterComponent_div_0_button_35_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r13);const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r12.deposit($event))},"SubmissionFormFooterComponent_div_0_button_35_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(5,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,5,ctx_r7.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,7,ctx_r7.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,3,"deposit")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(7,9,"submission.general.deposit"),"")}}function SubmissionFormFooterComponent_div_0_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",2)(1,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,SubmissionFormFooterComponent_div_0_button_2_Template,7,11,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(4,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(5,SubmissionFormFooterComponent_div_0_span_5_Template,4,3,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(9,SubmissionFormFooterComponent_div_0_span_9_Template,4,3,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(13,SubmissionFormFooterComponent_div_0_div_13_Template,6,6,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(16,"div",8)(17,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r15);const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r14.save($event))},"SubmissionFormFooterComponent_div_0_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(18,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(19,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(20,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(21,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(22,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(23),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(24,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(25,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r15);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r16.saveLater($event))},"SubmissionFormFooterComponent_div_0_Template_button_click_25_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(26,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(27,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(28,"dsBrowserOnly"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(29,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(30,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(31,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(32,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(33),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(34,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(35,SubmissionFormFooterComponent_div_0_button_35_Template,8,11,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(36,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,15,ctx_r0.showDepositAndDiscard)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(6,17,ctx_r0.hasUnsavedModification)&&!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(7,19,ctx_r0.processingSaveStatus)&&!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(8,21,ctx_r0.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(10,23,ctx_r0.hasUnsavedModification)&&!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(11,25,ctx_r0.processingSaveStatus)&&!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(12,27,ctx_r0.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(14,29,ctx_r0.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(15,31,ctx_r0.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(19,35,ctx_r0.processingSaveStatus)||!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(20,37,ctx_r0.hasUnsavedModification)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(18,33,"save")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(24,39,"submission.general.save"),""),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ekj("btn-primary",!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(26,41,ctx_r0.showDepositAndDiscard))("btn-secondary",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(27,43,ctx_r0.showDepositAndDiscard)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(29,47,ctx_r0.processingSaveStatus)||_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(30,49,ctx_r0.processingDepositStatus)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("data-test",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(28,45,"save-for-later")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(34,51,"submission.general.save-later"),""),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(36,53,ctx_r0.showDepositAndDiscard))}}function SubmissionFormFooterComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",23)(1,"h4",24),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(4,"button",25),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function(){const d_r18=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r20).dismiss;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(d_r18("cancel"))},"SubmissionFormFooterComponent_ng_template_1_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(5,"span",26),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(7,"div",27)(8,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(11,"div",28)(12,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function(){const c_r17=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r20).close;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(c_r17("cancel"))},"SubmissionFormFooterComponent_ng_template_1_Template_button_click_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(15,"button",30),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function(){const c_r17=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r20).close;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(c_r17("ok"))},"SubmissionFormFooterComponent_ng_template_1_Template_button_click_15_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,4,"submission.general.discard.confirm.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(10,6,"submission.general.discard.confirm.info")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(14,8,"submission.general.discard.confirm.cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(17,10,"submission.general.discard.confirm.submit")))}__name(SubmissionFormFooterComponent_div_0_button_2_Template,"SubmissionFormFooterComponent_div_0_button_2_Template"),__name(SubmissionFormFooterComponent_div_0_span_5_Template,"SubmissionFormFooterComponent_div_0_span_5_Template"),__name(SubmissionFormFooterComponent_div_0_span_9_Template,"SubmissionFormFooterComponent_div_0_span_9_Template"),__name(SubmissionFormFooterComponent_div_0_div_13_div_2_Template,"SubmissionFormFooterComponent_div_0_div_13_div_2_Template"),__name(SubmissionFormFooterComponent_div_0_div_13_div_4_Template,"SubmissionFormFooterComponent_div_0_div_13_div_4_Template"),__name(SubmissionFormFooterComponent_div_0_div_13_Template,"SubmissionFormFooterComponent_div_0_div_13_Template"),__name(SubmissionFormFooterComponent_div_0_button_35_Template,"SubmissionFormFooterComponent_div_0_button_35_Template"),__name(SubmissionFormFooterComponent_div_0_Template,"SubmissionFormFooterComponent_div_0_Template"),__name(SubmissionFormFooterComponent_ng_template_1_Template,"SubmissionFormFooterComponent_ng_template_1_Template");class SubmissionFormFooterComponent{constructor(modalService,restService,submissionService){this.modalService=modalService,this.restService=restService,this.submissionService=submissionService,this.submissionIsInvalid=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)}ngOnChanges(changes){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.submissionId)&&(this.submissionIsInvalid=this.submissionService.getSubmissionStatus(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(isValid=>!1===isValid)),this.processingSaveStatus=this.submissionService.getSubmissionSaveProcessingStatus(this.submissionId),this.processingDepositStatus=this.submissionService.getSubmissionDepositProcessingStatus(this.submissionId),this.showDepositAndDiscard=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(this.submissionService.getSubmissionScope()===_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_2__.S.WorkspaceItem),this.hasUnsavedModification=this.submissionService.hasUnsavedModification())}save(event2){this.submissionService.dispatchSave(this.submissionId,!0)}saveLater(event2){this.submissionService.dispatchSaveForLater(this.submissionId)}deposit(event2){this.submissionService.dispatchDeposit(this.submissionId)}confirmDiscard(content){this.modalService.open(content).result.then(result=>{"ok"===result&&this.submissionService.dispatchDiscard(this.submissionId)})}}__name(SubmissionFormFooterComponent,"SubmissionFormFooterComponent"),SubmissionFormFooterComponent.\u0275fac=__name(function(t){return new(t||SubmissionFormFooterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_core_submission_submission_rest_service__WEBPACK_IMPORTED_MODULE_0__.F),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_1__.b))},"SubmissionFormFooterComponent_Factory"),SubmissionFormFooterComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:SubmissionFormFooterComponent,selectors:[["ds-submission-form-footer"]],inputs:{submissionId:"submissionId"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.TTD],decls:3,vars:1,consts:[["class","row",4,"ngIf"],["content",""],[1,"row"],[1,"col"],["type","button","id","discard","class","btn btn-danger",3,"disabled","click",4,"ngIf"],[1,"col","text-right","d-flex","justify-content-end","align-items-center"],[4,"ngIf"],["class","col d-flex justify-content-end align-items-center",4,"ngIf"],[1,"ml-2","space-children-mr"],["type","button","id","save",1,"btn","btn-secondary",3,"disabled","click"],[1,"fas","fa-save"],["type","button","id","saveForLater",1,"btn",3,"disabled","click"],["type","button","id","deposit","class","btn btn-success",3,"disabled","click",4,"ngIf"],["type","button","id","discard",1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"col","d-flex","justify-content-end","align-items-center"],[1,"progress","w-75"],["class","progress-bar progress-bar-striped progress-bar-animated bg-info","role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",3,"width",4,"ngIf"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-info"],["type","button","id","deposit",1,"btn","btn-success",3,"disabled","click"],[1,"fas","fa-plus"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","space-children-mr"],["type","button","id","discard_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","discard_submit",1,"btn","btn-danger",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(0,SubmissionFormFooterComponent_div_0_Template,37,55,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SubmissionFormFooterComponent_ng_template_1_Template,18,12,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.W1O)),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!!ctx.submissionId)},"SubmissionFormFooterComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_9__.Ov,_shared_utils_browser_only_pipe__WEBPACK_IMPORTED_MODULE_3__.g,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$]})},3851:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>SubmissionFormSectionAddComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96846),_sections_sections_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21708),_shared_host_window_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16816),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48416),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(65159),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4330);const _c0=__name(function(a0){return{"w-100":a0}},"_c0");function SubmissionFormSectionAddComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.VKq(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,2,ctx_r1.windowService.isXs()))),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,4,"submission.sections.general.add-more")," ")}}function SubmissionFormSectionAddComponent_button_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,1,"submission.sections.general.no-sections")," "))}function SubmissionFormSectionAddComponent_button_8_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function(){const listItem_r4=_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r6).$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.KtG(ctx_r5.addSection(listItem_r4.id))},"SubmissionFormSectionAddComponent_button_8_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()}if(2&rf){const listItem_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,1,"submission.sections."+listItem_r4.header)," ")}}__name(SubmissionFormSectionAddComponent_ng_container_2_Template,"SubmissionFormSectionAddComponent_ng_container_2_Template"),__name(SubmissionFormSectionAddComponent_button_6_Template,"SubmissionFormSectionAddComponent_button_6_Template"),__name(SubmissionFormSectionAddComponent_button_8_Template,"SubmissionFormSectionAddComponent_button_8_Template");class SubmissionFormSectionAddComponent{constructor(sectionService,submissionService,windowService){this.sectionService=sectionService,this.submissionService=submissionService,this.windowService=windowService}ngOnInit(){this.sectionList$=this.submissionService.getDisabledSectionsList(this.submissionId),this.hasSections$=this.sectionList$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(list=>list.length>0))}addSection(sectionId){this.sectionService.addSection(this.submissionId,sectionId)}}__name(SubmissionFormSectionAddComponent,"SubmissionFormSectionAddComponent"),SubmissionFormSectionAddComponent.\u0275fac=__name(function(t){return new(t||SubmissionFormSectionAddComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_sections_sections_service__WEBPACK_IMPORTED_MODULE_0__.J),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_shared_host_window_service__WEBPACK_IMPORTED_MODULE_1__.I))},"SubmissionFormSectionAddComponent_Factory"),SubmissionFormSectionAddComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:SubmissionFormSectionAddComponent,selectors:[["ds-submission-form-section-add"]],inputs:{collectionId:"collectionId",submissionId:"submissionId"},decls:10,vars:17,consts:[["ngbDropdown","","placement","bottom-right",1,"d-inline-block",3,"ngClass"],["sectionAdd","ngbDropdown"],[4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","sectionControls",1,"sections-dropdown-menu",3,"ngClass"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["id","sectionControls","ngbDropdownToggle","",1,"btn","btn-outline-primary","dropdown-toggle",3,"ngClass"],["aria-hidden","true",1,"fa","fa-plus"],[1,"dropdown-item","disabled"],[1,"dropdown-item",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,SubmissionFormSectionAddComponent_ng_container_2_Template,6,8,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(4,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(6,SubmissionFormSectionAddComponent_button_6_Template,3,3,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(8,SubmissionFormSectionAddComponent_button_8_Template,3,3,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.VKq(13,_c0,ctx.windowService.isXs())),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,5,ctx.hasSections$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_3__.VKq(15,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(5,7,ctx.windowService.isXs()))),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(7,9,ctx.hasSections$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(9,11,ctx.sectionList$)))},"SubmissionFormSectionAddComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Vi,_angular_common__WEBPACK_IMPORTED_MODULE_5__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.sections-dropdown-menu[_ngcontent-%COMP%]{z-index:var(--ds-submission-header-z-index)}"]})},47260:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>SubmissionFormComponent});var rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(96846),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22410),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(47623),__webpack_require__(54781)),_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(59501),_shared_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28352),_submission_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48416),_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(57324),__webpack_require__(48142)),_sections_sections_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21708),_sections_visibility_type__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22863),lodash_isEqual__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86436),lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_9__),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(65159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24442),_section_add_submission_form_section_add_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3851),_collection_submission_form_collection_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96610),_footer_submission_form_footer_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(90945),_submission_upload_files_submission_upload_files_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(56725),_sections_container_section_container_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(22975);function SubmissionFormComponent_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(1,"ds-submission-upload-files",13)(2,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("submissionId",ctx_r4.submissionId)("collectionId",ctx_r4.collectionId)("uploadFilesOptions",ctx_r4.uploadFilesOptions)}}function SubmissionFormComponent_div_1_ng_container_4_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_16__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_16__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(1,"ds-submission-form-collection",15),_angular_core__WEBPACK_IMPORTED_MODULE_16__.NdJ("collectionChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_16__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_16__.KtG(ctx_r6.onCollectionChange($event))},"SubmissionFormComponent_div_1_ng_container_4_Template_ds_submission_form_collection_collectionChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.BQk()}if(2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("currentCollectionId",ctx_r5.collectionId)("currentDefinition",ctx_r5.definitionId)("submissionId",ctx_r5.submissionId)("collectionModifiable",ctx_r5.collectionModifiable)("isReadonly",ctx_r5.isSectionReadonly)}}function SubmissionFormComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,SubmissionFormComponent_div_1_div_1_Template,3,3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(3,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(4,SubmissionFormComponent_div_1_ng_container_4_Template,2,5,"ng-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(5,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(6,"ds-submission-form-section-add",11),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(2,4,ctx_r0.uploadEnabled$)),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!ctx_r0.isSectionHidden),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("collectionId",ctx_r0.collectionId)("submissionId",ctx_r0.submissionId)}}function SubmissionFormComponent_ds_themed_loading_4_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-themed-loading",16)}function SubmissionFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(1,"ds-submission-section-container",17),_angular_core__WEBPACK_IMPORTED_MODULE_16__.BQk()),2&rf){const object_r8=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("collectionId",ctx_r2.collectionId)("submissionId",ctx_r2.submissionId)("sectionData",object_r8)}}function SubmissionFormComponent_div_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(1,"ds-submission-form-footer",19),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("submissionId",ctx_r3.submissionId)}}__name(SubmissionFormComponent_div_1_div_1_Template,"SubmissionFormComponent_div_1_div_1_Template"),__name(SubmissionFormComponent_div_1_ng_container_4_Template,"SubmissionFormComponent_div_1_ng_container_4_Template"),__name(SubmissionFormComponent_div_1_Template,"SubmissionFormComponent_div_1_Template"),__name(SubmissionFormComponent_ds_themed_loading_4_Template,"SubmissionFormComponent_ds_themed_loading_4_Template"),__name(SubmissionFormComponent_ng_container_6_Template,"SubmissionFormComponent_ng_container_6_Template"),__name(SubmissionFormComponent_div_8_Template,"SubmissionFormComponent_div_8_Template");class SubmissionFormComponent{constructor(authService,changeDetectorRef,halService,submissionService,sectionsService){this.authService=authService,this.changeDetectorRef=changeDetectorRef,this.halService=halService,this.submissionService=submissionService,this.sectionsService=sectionsService,this.collectionModifiable=null,this.loading=(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(!0),this.uploadFilesOptions=new _shared_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_3__.n,this.subs=[],this.isActive=!0}ngOnChanges(changes){changes.collectionId&&this.collectionId&&changes.submissionId&&this.submissionId&&(this.isActive=!0,this.submissionSections=this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.hX)(()=>this.isActive),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.UI)(submission=>submission.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.UI)(isLoading=>isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.wt)(isLoading=>isLoading?(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)([]):this.getSectionsList())),this.uploadEnabled$=this.sectionsService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Upload),this.loading=this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.hX)(()=>this.isActive),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.UI)(submission=>submission.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.UI)(isLoading=>isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.xb)()),this.subs.push(this.halService.getEndpoint(this.submissionService.getSubmissionObjectLinkName()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.hX)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.UE)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.xb)()).subscribe(endpointURL=>{this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.uploadFilesOptions.url=endpointURL.concat(`/${this.submissionId}`),this.definitionId=this.submissionDefinition.name,this.submissionService.dispatchInit(this.collectionId,this.submissionId,this.selfUrl,this.submissionDefinition,this.sections,this.item,this.submissionErrors),this.changeDetectorRef.detectChanges()})),this.submissionService.startAutoSave(this.submissionId))}getCollectionVisibility(){const submissionSectionModel=this.submissionDefinition.sections.page.find(section=>lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(section.sectionType,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Collection));return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.pT)(submissionSectionModel.visibility)?submissionSectionModel.visibility:null}get isSectionHidden(){const visibility=this.getCollectionVisibility();return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.Uh)(visibility)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(visibility.main,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_8__.x.HIDDEN)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(visibility.other,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_8__.x.HIDDEN)}get isSectionReadonly(){const visibility=this.getCollectionVisibility();return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.Uh)(visibility)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(visibility.main,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_8__.x.READONLY)&&lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(visibility.other,_sections_visibility_type__WEBPACK_IMPORTED_MODULE_8__.x.READONLY)}ngOnDestroy(){this.isActive=!1,this.submissionService.stopAutoSave(),this.submissionService.resetAllSubmissionObjects(),this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onCollectionChange(submissionObject){this.collectionId=submissionObject.collection.id,this.definitionId!==submissionObject.submissionDefinition.name?(this.sections=submissionObject.sections,this.submissionDefinition=submissionObject.submissionDefinition,this.definitionId=this.submissionDefinition.name,this.submissionService.resetSubmissionObject(this.collectionId,this.submissionId,submissionObject._links.self.href,this.submissionDefinition,this.sections,this.item)):this.changeDetectorRef.detectChanges()}isLoading(){return this.loading}getSectionsList(){return this.submissionService.getSubmissionSections(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.hX)(sections=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_19__.UE)(sections)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.UI)(sections=>sections.filter(section=>!lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(section.sectionType,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Collection))))}}__name(SubmissionFormComponent,"SubmissionFormComponent"),SubmissionFormComponent.\u0275fac=__name(function(t){return new(t||SubmissionFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.e8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_16__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.q),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_4__.b),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_sections_sections_service__WEBPACK_IMPORTED_MODULE_7__.J))},"SubmissionFormComponent_Factory"),SubmissionFormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_16__.Xpm({type:SubmissionFormComponent,selectors:[["ds-submission-form"]],inputs:{collectionId:"collectionId",item:"item",collectionModifiable:"collectionModifiable",sections:"sections",submissionErrors:"submissionErrors",selfUrl:"selfUrl",submissionDefinition:"submissionDefinition",submissionId:"submissionId"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_16__.TTD],decls:10,vars:12,consts:[[1,"container-fluid"],["class","submission-form-header mb-3 d-flex flex-wrap position-sticky",4,"ngIf"],[1,"submission-form-content"],["message","Loading...",4,"ngIf"],[4,"ngFor","ngForOf"],["class","submission-form-footer mt-3 mb-3 position-sticky",4,"ngIf"],[1,"submission-form-header","mb-3","d-flex","flex-wrap","position-sticky"],["class","w-100",4,"ngIf"],[1,"submission-form-header-item","mb-3","mb-sm-0","flex-sm-grow-1","flex-md-grow-0"],[4,"ngIf"],[1,"submission-form-header-item","text-right"],[3,"collectionId","submissionId"],[1,"w-100"],[3,"submissionId","collectionId","uploadFilesOptions"],[1,"clearfix"],[3,"currentCollectionId","currentDefinition","submissionId","collectionModifiable","isReadonly","collectionChange"],["message","Loading..."],[3,"collectionId","submissionId","sectionData"],[1,"submission-form-footer","mt-3","mb-3","position-sticky"],[3,"submissionId"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,SubmissionFormComponent_div_1_Template,7,6,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(3,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(4,SubmissionFormComponent_ds_themed_loading_4_Template,1,0,"ds-themed-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(6,SubmissionFormComponent_ng_container_6_Template,2,3,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(8,SubmissionFormComponent_div_8_Template,2,1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(2,4,ctx.isLoading())),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(5,6,ctx.isLoading())),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(7,8,ctx.submissionSections)),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(9,10,ctx.isLoading())))},"SubmissionFormComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_20__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_10__.Z,_section_add_submission_form_section_add_component__WEBPACK_IMPORTED_MODULE_11__.i,_collection_submission_form_collection_component__WEBPACK_IMPORTED_MODULE_12__.z,_footer_submission_form_footer_component__WEBPACK_IMPORTED_MODULE_13__.z,_submission_upload_files_submission_upload_files_component__WEBPACK_IMPORTED_MODULE_14__.h,_sections_container_section_container_component__WEBPACK_IMPORTED_MODULE_15__.y,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Ov],styles:[".submission-form-header[_ngcontent-%COMP%]{background-color:#fffffff7;padding:calc(var(--bs-spacer) / 2) 0 calc(var(--bs-spacer) / 2) 0;top:0;z-index:var(--ds-submission-header-z-index)}.submission-form-header-item[_ngcontent-%COMP%]{flex-grow:1}.submission-form-footer[_ngcontent-%COMP%]{border-radius:var(--bs-card-border-radius);bottom:0;background-color:var(--bs-gray-400);padding:calc(var(--bs-spacer) / 2);z-index:var(--ds-submission-footer-z-index)}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#066;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}"]})},56725:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>SubmissionUploadFilesComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(96846),_sections_sections_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21708),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(59501),_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3254),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48416),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39373),_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(28352),__webpack_require__(24884)),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(73275),_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48142),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86209),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4330),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(65159),_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30307);function SubmissionUploadFilesComponent_ds_uploader_0_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"ds-uploader",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("onCompleteItem",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r2);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r1.onCompleteItem($event))},"SubmissionUploadFilesComponent_ds_uploader_0_Template_ds_uploader_onCompleteItem_0_listener"))("onUploadError",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r2);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_8__.KtG(ctx_r3.onUploadError())},"SubmissionUploadFilesComponent_ds_uploader_0_Template_ds_uploader_onUploadError_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("dropMsg",ctx_r0.dropMsg)("dropOverDocumentMsg",ctx_r0.dropOverDocumentMsg)("enableDragOverDocument",ctx_r0.enableDragOverDocument)("onBeforeUpload",ctx_r0.onBeforeUpload)("uploadFilesOptions",ctx_r0.uploadFilesOptions)}}__name(SubmissionUploadFilesComponent_ds_uploader_0_Template,"SubmissionUploadFilesComponent_ds_uploader_0_Template");class SubmissionUploadFilesComponent{constructor(notificationsService,operationsService,sectionService,submissionService,translate){this.notificationsService=notificationsService,this.operationsService=operationsService,this.sectionService=sectionService,this.submissionService=submissionService,this.translate=translate,this.enableDragOverDocument=!0,this.dropOverDocumentMsg="submission.sections.upload.drop-message",this.dropMsg="submission.sections.upload.drop-message",this.subs=[],this.uploadEnabled=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(!1),this.onBeforeUpload=()=>{const sub=this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,"sections").subscribe();return this.subs.push(sub),sub}}ngOnChanges(){this.uploadEnabled=this.sectionService.isSectionTypeAvailable(this.submissionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Upload)}onCompleteItem(workspaceitem){this.subs.push(this.uploadEnabled.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Ps)()).subscribe(isUploadEnabled=>{if(isUploadEnabled){const{sections}=workspaceitem,{errors}=workspaceitem,errorsList=(0,_utils_parseSectionErrors__WEBPACK_IMPORTED_MODULE_11__.Z)(errors);sections&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(sections)&&Object.keys(sections).forEach(sectionId=>{const sectionData=(0,_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_1__.Vv)(sections[sectionId]),sectionErrors=errorsList[sectionId];this.sectionService.isSectionType(this.submissionId,sectionId,_sections_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Upload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.qn)(1)).subscribe(isUpload=>{isUpload&&((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(sectionErrors)?this.notificationsService.success(null,this.translate.get("submission.sections.upload.upload-successful")):this.notificationsService.error(null,this.translate.get("submission.sections.upload.upload-failed")))}),this.sectionService.updateSectionData(this.submissionId,sectionId,sectionData,sectionErrors,sectionErrors)})}}))}onUploadError(){this.notificationsService.error(null,this.translate.get("submission.sections.upload.upload-failed"))}ngOnDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(SubmissionUploadFilesComponent,"SubmissionUploadFilesComponent"),SubmissionUploadFilesComponent.\u0275fac=__name(function(t){return new(t||SubmissionUploadFilesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_5__.E),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_sections_sections_service__WEBPACK_IMPORTED_MODULE_0__.J),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.sK))},"SubmissionUploadFilesComponent_Factory"),SubmissionUploadFilesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:SubmissionUploadFilesComponent,selectors:[["ds-submission-upload-files"]],inputs:{collectionId:"collectionId",submissionId:"submissionId",uploadFilesOptions:"uploadFilesOptions"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_8__.TTD],decls:1,vars:1,consts:[[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","onBeforeUpload","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","onBeforeUpload","uploadFilesOptions","onCompleteItem","onUploadError"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(0,SubmissionUploadFilesComponent_ds_uploader_0_Template,1,5,"ds-uploader",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",ctx.uploadFilesOptions.url)},"SubmissionUploadFilesComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.O5,_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.B],encapsulation:2})},98879:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>SubmissionImportExternalCollectionComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24442),_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75355),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4330);function SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(0,"ds-themed-loading")}__name(SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,"SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template");const _c0=__name(function(a0){return{"d-none":a0}},"_c0");class SubmissionImportExternalCollectionComponent{constructor(activeModal){this.activeModal=activeModal,this.selectedEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.loading=!0}selectObject(object){this.loading=!0,this.selectedEvent.emit(object)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(theOnlySelectable){this.selectedEvent.emit(theOnlySelectable)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}}__name(SubmissionImportExternalCollectionComponent,"SubmissionImportExternalCollectionComponent"),SubmissionImportExternalCollectionComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalCollectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Kz))},"SubmissionImportExternalCollectionComponent_Factory"),SubmissionImportExternalCollectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:SubmissionImportExternalCollectionComponent,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"ngClass","entityType","selectionChange","searchComplete"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(4,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",__name(function(){return ctx.closeCollectionModal()},"SubmissionImportExternalCollectionComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(5,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(7,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(8,SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(9,"ds-themed-collection-dropdown",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("selectionChange",__name(function($event){return ctx.selectObject($event)},"SubmissionImportExternalCollectionComponent_Template_ds_themed_collection_dropdown_selectionChange_9_listener"))("searchComplete",__name(function(){return ctx.searchComplete()},"SubmissionImportExternalCollectionComponent_Template_ds_themed_collection_dropdown_searchComplete_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(3,4,"dso-selector.select.collection.head")," "),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",ctx.isLoading()),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(6,_c0,ctx.isLoading()))("entityType",ctx.entityType))},"SubmissionImportExternalCollectionComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.Z,_shared_collection_dropdown_themed_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__.t,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.X$],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})},68676:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>SubmissionImportExternalPreviewComponent});__webpack_require__(31295);var _core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97559),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48416),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39373),_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98879),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23506),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330);function SubmissionImportExternalPreviewComponent_div_17_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5)(1,"div",6)(2,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(5,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()()),2&rf){const metadata_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(4,2,"item.preview."+metadata_r1.key)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(metadata_r1.value.value)}}__name(SubmissionImportExternalPreviewComponent_div_17_Template,"SubmissionImportExternalPreviewComponent_div_17_Template");class SubmissionImportExternalPreviewComponent{constructor(activeModal,submissionService,modalService,router,notificationService){this.activeModal=activeModal,this.submissionService=submissionService,this.modalService=modalService,this.router=router,this.notificationService=notificationService}ngOnInit(){this.metadataList=[],Object.keys(this.externalSourceEntry.metadata).forEach(key=>{this.metadataList.push({key,value:_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_1__.S.first(this.externalSourceEntry.metadata,key)})})}closeMetadataModal(){this.activeModal.dismiss(!1)}import(){this.modalRef=this.modalService.open(_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_4__.L,{size:"lg"}),this.modalRef.componentInstance.entityType=this.labelPrefix,this.closeMetadataModal(),this.modalRef.componentInstance.selectedEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.zg)(collectionListEntry=>this.submissionService.createSubmissionFromExternalSource(this.externalSourceEntry._links.self.href,collectionListEntry.collection.id))).subscribe(submissionObjects=>{let isValid=!1;1===submissionObjects.length&&null!==submissionObjects[0]&&(isValid=!0,this.router.navigateByUrl("/workspaceitems/"+submissionObjects[0].id+"/edit")),isValid||this.notificationService.error("submission.import-external.preview.error.import.title","submission.import-external.preview.error.import.body"),this.modalRef.close()})}}__name(SubmissionImportExternalPreviewComponent,"SubmissionImportExternalPreviewComponent"),SubmissionImportExternalPreviewComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalPreviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.T))},"SubmissionImportExternalPreviewComponent_Factory"),SubmissionImportExternalPreviewComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:SubmissionImportExternalPreviewComponent,selectors:[["ds-submission-import-external-preview"]],inputs:{externalSourceEntry:"externalSourceEntry"},decls:27,vars:10,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"row"],[1,"col-md-12"],["class","row",4,"ngFor","ngForOf"],[1,"col-md-12","text-right"],["role","button",1,"btn","btn-success",3,"click"],["aria-hidden","true",1,"fa","fa-file-import"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",0)(1,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(4,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",__name(function(){return ctx.closeMetadataModal()},"SubmissionImportExternalPreviewComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(5,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(14,"div",5)(15,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(16,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(17,SubmissionImportExternalPreviewComponent_div_17_Template,7,4,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(18,"div",5)(19,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(20,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(21,"div",5)(22,"div",8)(23,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",__name(function(){return ctx.import()},"SubmissionImportExternalPreviewComponent_Template_button_click_23_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(24,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(25),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ALo(26,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(3,4,"submission.import-external.preview.title."+ctx.labelPrefix)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(13,6,"submission.import-external.preview.subtitle")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx.metadataList),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.lcZ(26,8,"submission.import-external.preview.button.import")," "))},"SubmissionImportExternalPreviewComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.sg,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})},62995:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>SubmissionImportExternalSearchbarComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(96846),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(44881),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17211),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16733),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96906),_shared_remote_data_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75637),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53829),_shared_host_window_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16816),_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59501),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5414),_angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(65159),_angular_forms__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32189),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(18546),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4330);function SubmissionImportExternalSearchbarComponent_div_0_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"div",10)(1,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("keyup.enter",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r5);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(""===ctx_r4.searchString?null:ctx_r4.search())},"SubmissionImportExternalSearchbarComponent_div_0_Template_input_keyup_enter_1_listener"))("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r5);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx_r6.searchString=$event)},"SubmissionImportExternalSearchbarComponent_div_0_Template_input_ngModelChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.s9C("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(2,2,"submission.import-external.search.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngModel",ctx_r0.searchString)}}function SubmissionImportExternalSearchbarComponent_input_3_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("keyup.enter",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(""===ctx_r7.searchString?null:ctx_r7.search())},"SubmissionImportExternalSearchbarComponent_input_3_Template_input_keyup_enter_0_listener"))("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r8);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx_r9.searchString=$event)},"SubmissionImportExternalSearchbarComponent_input_3_Template_input_ngModelChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_6__.s9C("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,2,"submission.import-external.search.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngModel",ctx_r1.searchString)}}function SubmissionImportExternalSearchbarComponent_button_13_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){const source_r10=_angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r12).$implicit,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_6__.KtG(ctx_r11.makeSourceSelection(source_r10))},"SubmissionImportExternalSearchbarComponent_button_13_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}if(2&rf){const source_r10=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_6__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,2,"submission.import-external.source."+(null==source_r10?null:source_r10.name))),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(3,4,"submission.import-external.source."+(null==source_r10?null:source_r10.name)))}}function SubmissionImportExternalSearchbarComponent_div_14_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"div",13)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(3,1,"submission.import-external.source.loading")))}__name(SubmissionImportExternalSearchbarComponent_div_0_Template,"SubmissionImportExternalSearchbarComponent_div_0_Template"),__name(SubmissionImportExternalSearchbarComponent_input_3_Template,"SubmissionImportExternalSearchbarComponent_input_3_Template"),__name(SubmissionImportExternalSearchbarComponent_button_13_Template,"SubmissionImportExternalSearchbarComponent_button_13_Template"),__name(SubmissionImportExternalSearchbarComponent_div_14_Template,"SubmissionImportExternalSearchbarComponent_div_14_Template");const _c0=__name(function(a0){return{"input-group-append":a0}},"_c0");class SubmissionImportExternalSearchbarComponent{constructor(externalService,cdr,windowService){this.externalService=externalService,this.cdr=cdr,this.windowService=windowService,this.sourceListLoading=!1,this.externalSourceData=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe}ngOnInit(){this.selectedElement={id:"",name:"loading"},this.searchString="",this.sourceList=[],this.findListOptions=Object.assign({},new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_7__.R,{elementsPerPage:5,currentPage:1,searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_8__.g("entityType",this.initExternalSourceData.entity)]}),this.externalService.searchBy("findByEntityType",this.findListOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.KQ)(()=>{const pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_2__.S,paginatedList=(0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_1__.b)(pageInfo,[]),paginatedListRD=(0,_shared_remote_data_utils__WEBPACK_IMPORTED_MODULE_3__.AC)(paginatedList);return(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.of)(paginatedListRD)}),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.Gp)()).subscribe(externalSource=>{externalSource.page.forEach(element=>{this.sourceList.push({id:element.id,name:element.name}),this.initExternalSourceData.sourceId===element.id&&(this.selectedElement={id:element.id,name:element.name},this.searchString=this.initExternalSourceData.query)}),""===this.selectedElement.id&&(this.selectedElement=this.sourceList[0]),this.pageInfo=externalSource.pageInfo,this.cdr.detectChanges()}),this.isXsOrSm$=this.windowService.isXsOrSm()}makeSourceSelection(source){this.selectedElement=source}onScroll(){!this.sourceListLoading&&this.pageInfo.currentPage+1<=this.pageInfo.totalPages&&(this.sourceListLoading=!0,this.findListOptions=Object.assign({},new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_7__.R,{elementsPerPage:5,currentPage:this.findListOptions.currentPage+1,searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_8__.g("entityType",this.initExternalSourceData.entity)]}),this.externalService.searchBy("findByEntityType",this.findListOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.KQ)(()=>{const pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_2__.S,paginatedList=(0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_1__.b)(pageInfo,[]),paginatedListRD=(0,_shared_remote_data_utils__WEBPACK_IMPORTED_MODULE_3__.AC)(paginatedList);return(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.of)(paginatedListRD)}),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.bw)(()=>this.sourceListLoading=!1)).subscribe(externalSource=>{externalSource.payload.page.forEach(element=>{this.sourceList.push({id:element.id,name:element.name})}),this.pageInfo=externalSource.payload.pageInfo,this.cdr.detectChanges()}))}search(){this.externalSourceData.emit({entity:this.initExternalSourceData.entity,sourceId:this.selectedElement.id,query:this.searchString})}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(this.sub)&&this.sub.unsubscribe()}}__name(SubmissionImportExternalSearchbarComponent,"SubmissionImportExternalSearchbarComponent"),SubmissionImportExternalSearchbarComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalSearchbarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_0__.G),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_6__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_shared_host_window_service__WEBPACK_IMPORTED_MODULE_5__.I))},"SubmissionImportExternalSearchbarComponent_Factory"),SubmissionImportExternalSearchbarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:SubmissionImportExternalSearchbarComponent,selectors:[["ds-submission-import-external-searchbar"]],inputs:{initExternalSourceData:"initExternalSourceData"},outputs:{externalSourceData:"externalSourceData"},decls:20,vars:31,consts:[["class","input-group mb-2",4,"ngIf"],[1,"input-group","mb-5"],["type","text","class","form-control","aria-label","","aria-describedby","",3,"ngModel","placeholder","keyup.enter","ngModelChange",4,"ngIf"],["ngbDropdown","","role","group","aria-label","",3,"ngClass"],["ngbDropdownToggle","",1,"btn","btn-outline-secondary","w-fx",3,"title"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false","aria-labelledby","scrollableDropdownMenuButton",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["ngbDropdownItem","","class","dropdown-item text-truncate",3,"title","click",4,"ngFor","ngForOf"],["ngbDropdownItem","","class","scrollable-dropdown-loading text-center",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"title","disabled","click"],[1,"input-group","mb-2"],["type","text","aria-label","","aria-describedby","",1,"form-control",3,"ngModel","placeholder","keyup.enter","ngModelChange"],["ngbDropdownItem","",1,"dropdown-item","text-truncate",3,"title","click"],["ngbDropdownItem","",1,"scrollable-dropdown-loading","text-center"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(0,SubmissionImportExternalSearchbarComponent_div_0_Template,3,4,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(3,SubmissionImportExternalSearchbarComponent_input_3_Template,2,4,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(5,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(7,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(11,"div",5)(12,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"SubmissionImportExternalSearchbarComponent_Template_div_scrolled_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(13,SubmissionImportExternalSearchbarComponent_button_13_Template,4,6,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(14,SubmissionImportExternalSearchbarComponent_div_14_Template,4,3,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(15,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return ctx.search()},"SubmissionImportExternalSearchbarComponent_Template_button_click_15_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,13,ctx.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(4,15,ctx.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_6__.VKq(29,_c0,!_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(6,17,ctx.isXsOrSm$))),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(8,19,"submission.import-external.search.source.hint")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(10,21,"submission.import-external.source."+(null==ctx.selectedElement?null:ctx.selectedElement.name))),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngForOf",ctx.sourceList),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",ctx.sourceListLoading),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",""===ctx.searchString?_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(16,23,"submission.import-external.search.button.hint"):_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(17,25,"submission.import-external.search.button"))("disabled",""===ctx.searchString),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(19,27,"submission.import-external.search.button")))},"SubmissionImportExternalSearchbarComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_12__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_12__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_13__.On,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_14__.Ry,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Vi,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.TH,_angular_common__WEBPACK_IMPORTED_MODULE_12__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$],styles:[".input-group-append[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){margin-left:-1px;border-radius:0 .25rem .25rem 0}.input-group-append[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{border-radius:0}.w-fx[_ngcontent-%COMP%]{min-width:200px}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:calc(var(--ds-dropdown-menu-max-height) / 2);overflow-x:hidden}.scrollable-dropdown-loading[_ngcontent-%COMP%]{height:calc(var(--bs-spacer) * 2)!important}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}"]})},25668:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionImportExternalComponent:()=>SubmissionImportExternalComponent});var rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(96846),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17211),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16733),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40370),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66919),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89860),_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22287),_shared_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75637),_import_external_preview_submission_import_external_preview_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(68676),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(65245),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(96906),_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(59501),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(53829),_core_shared_item_relationships_item_type_resource_type__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(78619),_angular_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(16088),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(65159),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74369),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(24442),_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(293),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(61562),_import_external_searchbar_submission_import_external_searchbar_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(62995),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(4330);function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_h3_1_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(2,1,"submission.sections.describe.relationship-lookup.selection-tab.title")))}__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_h3_1_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_h3_1_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_viewable_collection_2_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_17__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"ds-viewable-collection",15),_angular_core__WEBPACK_IMPORTED_MODULE_17__.NdJ("importObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_17__.CHM(_r11);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw(4);return _angular_core__WEBPACK_IMPORTED_MODULE_17__.KtG(ctx_r10.import($event))},"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_viewable_collection_2_Template_ds_viewable_collection_importObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()}if(2&rf){const entriesRD_r4=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw().ngVar,ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("@fadeIn",void 0)("objects",entriesRD_r4)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_17__.WLB(8,_c0,ctx_r6.repeatable,ctx_r6.listId))("config",ctx_r6.initialPagination)("hideGear",!0)("context",ctx_r6.context)("importable",!0)("importConfig",ctx_r6.importConfig)}}function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_themed_loading_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__._UZ(0,"ds-themed-loading",16),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_17__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(1,1,"loading.search-results"))}function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",17)(1,"ds-alert",18),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("type","alert-info"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(3,2,"search.results.empty")))}function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_8_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",19)(1,"ds-alert",18),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("type","alert-info"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(3,2,"search.results.response.500")))}function SubmissionImportExternalComponent_div_7_div_1_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(1,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_h3_1_Template,3,3,"h3",10),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(2,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_viewable_collection_2_Template,1,11,"ds-viewable-collection",11),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(4,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_themed_loading_4_Template,2,3,"ds-themed-loading",12),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(6,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_6_Template,4,4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(8,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_8_Template,4,4,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.BQk()),2&rf){const entriesRD_r4=ctx.ngVar,ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",entriesRD_r4&&0!==(null==entriesRD_r4||null==entriesRD_r4.payload||null==entriesRD_r4.payload.page?null:entriesRD_r4.payload.page.length)),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",(null==entriesRD_r4?null:entriesRD_r4.hasSucceeded)&&!_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(3,5,ctx_r3.isLoading$)&&(null==entriesRD_r4||null==entriesRD_r4.payload||null==entriesRD_r4.payload.page?null:entriesRD_r4.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(5,7,ctx_r3.isLoading$)),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(7,9,ctx_r3.isLoading$)&&0===(null==entriesRD_r4||null==entriesRD_r4.payload||null==entriesRD_r4.payload.page?null:entriesRD_r4.payload.page.length)),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(9,11,ctx_r3.isLoading$)&&500===entriesRD_r4.statusCode)}}function SubmissionImportExternalComponent_div_7_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(1,SubmissionImportExternalComponent_div_7_div_1_ng_container_1_Template,10,13,"ng-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(2,1,ctx_r1.entriesRD$))}}function SubmissionImportExternalComponent_div_7_div_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",2)(1,"ds-alert",18)(2,"p",20),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("type","alert-info"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(4,2,"submission.import-external.page.hint")))}function SubmissionImportExternalComponent_div_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(1,SubmissionImportExternalComponent_div_7_div_1_Template,3,3,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(2,SubmissionImportExternalComponent_div_7_div_2_Template,5,4,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_17__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",""!==ctx_r0.reload$.value.sourceId),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",""===ctx_r0.reload$.value.sourceId)}}__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_viewable_collection_2_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_viewable_collection_2_Template"),__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_themed_loading_4_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_ds_themed_loading_4_Template"),__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_6_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_6_Template"),__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_8_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_div_8_Template"),__name(SubmissionImportExternalComponent_div_7_div_1_ng_container_1_Template,"SubmissionImportExternalComponent_div_7_div_1_ng_container_1_Template"),__name(SubmissionImportExternalComponent_div_7_div_1_Template,"SubmissionImportExternalComponent_div_7_div_1_Template"),__name(SubmissionImportExternalComponent_div_7_div_2_Template,"SubmissionImportExternalComponent_div_7_div_2_Template"),__name(SubmissionImportExternalComponent_div_7_Template,"SubmissionImportExternalComponent_div_7_Template");const _c1=__name(function(){return["/mydspace"]},"_c1");class SubmissionImportExternalComponent{constructor(searchConfigService,externalService,routeService,router,modalService){this.searchConfigService=searchConfigService,this.externalService=externalService,this.routeService=routeService,this.router=router,this.modalService=modalService,this.entriesRD$=new rxjs__WEBPACK_IMPORTED_MODULE_18__.BehaviorSubject(null),this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_18__.BehaviorSubject(!1),this.reload$=new rxjs__WEBPACK_IMPORTED_MODULE_18__.BehaviorSubject({entity:"",query:"",sourceId:""}),this.initialPagination=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_4__.r,{id:"spc",pageSize:10}),this.subs=[]}ngOnInit(){this.listId="list-submission-external-sources",this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_3__._.EntitySearchModalWithNameVariants,this.repeatable=!1,this.routeData={entity:"",sourceId:"",query:""},this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label},this.entriesRD$=new rxjs__WEBPACK_IMPORTED_MODULE_18__.BehaviorSubject((0,_shared_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__.AC)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_1__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_9__.S,[]))),this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_18__.BehaviorSubject(!1),this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.combineLatest)([this.routeService.getQueryParameterValue("entity"),this.routeService.getQueryParameterValue("sourceId"),this.routeService.getQueryParameterValue("query")]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.qn)(1)).subscribe(([entity,sourceId,query])=>{this.reload$.next({entity:entity||_core_shared_item_relationships_item_type_resource_type__WEBPACK_IMPORTED_MODULE_11__.N,query,sourceId}),this.selectLabel(entity),this.retrieveExternalSources()}))}getExternalSourceData(event2){this.router.navigate([],{queryParams:event2,replaceUrl:!0}).then(()=>{this.reload$.next(event2),this.retrieveExternalSources()})}import(entry){this.modalRef=this.modalService.open(_import_external_preview_submission_import_external_preview_component__WEBPACK_IMPORTED_MODULE_7__.v,{size:"lg"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=entry,modalComp.labelPrefix=this.label}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__.Uh)(sub)).forEach(sub=>sub.unsubscribe()),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__.Uh)(this.retrieveExternalSourcesSub)&&this.retrieveExternalSourcesSub.unsubscribe()}retrieveExternalSources(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__.Uh)(this.retrieveExternalSourcesSub)&&this.retrieveExternalSourcesSub.unsubscribe(),this.retrieveExternalSourcesSub=this.reload$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.hX)(sourceQueryObject=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__.UE)(sourceQueryObject.sourceId)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_20__.UE)(sourceQueryObject.query)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.wt)(sourceQueryObject=>{const query=sourceQueryObject.query;return this.routeData=sourceQueryObject,this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.bw)(()=>this.isLoading$.next(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.hX)(searchOptions=>searchOptions.query===query),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.zg)(searchOptions=>this.externalService.getExternalSourceEntries(this.routeData.sourceId,searchOptions).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.sJ)())))})).subscribe(rdData=>{this.entriesRD$.next(rdData),this.isLoading$.next(!1)})}selectLabel(entity){this.label=entity,this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}}__name(SubmissionImportExternalComponent,"SubmissionImportExternalComponent"),SubmissionImportExternalComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_17__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.U),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_0__.G),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__.MZ),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_21__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_22__.FF))},"SubmissionImportExternalComponent_Factory"),SubmissionImportExternalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_17__.Xpm({type:SubmissionImportExternalComponent,selectors:[["ds-submission-import-external"]],decls:15,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],["id","header",1,"pb-2"],[3,"initExternalSourceData","externalSourceData"],["class","row",4,"ngIf"],["role","button",1,"btn","btn-outline-secondary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-chevron-left"],["class","col-md-12",4,"ngIf"],[4,"ngVar"],[4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["data-test","empty-external-entry-list",4,"ngIf"],["data-test","empty-external-error-500",4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject"],[3,"message"],["data-test","empty-external-entry-list"],[3,"type"],["data-test","empty-external-error-500"],[1,"lead","mb-0"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(6,"ds-submission-import-external-searchbar",4),_angular_core__WEBPACK_IMPORTED_MODULE_17__.NdJ("externalSourceData",__name(function($event){return ctx.getExternalSourceData($event)},"SubmissionImportExternalComponent_Template_ds_submission_import_external_searchbar_externalSourceData_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_17__.YNc(7,SubmissionImportExternalComponent_div_7_Template,3,2,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(8,"div",1)(9,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_17__._UZ(10,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.TgZ(11,"a",6),_angular_core__WEBPACK_IMPORTED_MODULE_17__._UZ(12,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_17__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_17__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_17__.qZA()()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(5,5,"submission.import-external.title"+(ctx.label?"."+ctx.label:""))),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("initExternalSourceData",ctx.reload$.value),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("ngIf",ctx.reload$.value.entity),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_17__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_17__.DdM(9,_c1)),_angular_core__WEBPACK_IMPORTED_MODULE_17__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_17__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_17__.lcZ(14,7,"submission.import-external.back-to-my-dspace")," "))},"SubmissionImportExternalComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_23__.O5,_angular_router__WEBPACK_IMPORTED_MODULE_21__.rH,_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_12__.w,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__.Z,_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_14__.c,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__.g,_import_external_searchbar_submission_import_external_searchbar_component__WEBPACK_IMPORTED_MODULE_16__.p,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.X$],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_8__.Ji]}})},72230:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>ThemedSubmissionImportExternalComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedSubmissionImportExternalComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSubmissionImportExternalComponent_ng_template_0_Template,"ThemedSubmissionImportExternalComponent_ng_template_0_Template");class ThemedSubmissionImportExternalComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"SubmissionImportExternalComponent"}importThemedComponent(themeName){return __webpack_require__(49252)(`./${themeName}/app/submission/import-external/submission-import-external.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,25668))}}__name(ThemedSubmissionImportExternalComponent,"ThemedSubmissionImportExternalComponent"),ThemedSubmissionImportExternalComponent.\u0275fac=function(){let \u0275ThemedSubmissionImportExternalComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSubmissionImportExternalComponent_BaseFactory||(\u0275ThemedSubmissionImportExternalComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedSubmissionImportExternalComponent)))(t||ThemedSubmissionImportExternalComponent)},"ThemedSubmissionImportExternalComponent_Factory")}(),ThemedSubmissionImportExternalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedSubmissionImportExternalComponent,selectors:[["ds-themed-submission-import-external"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedSubmissionImportExternalComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedSubmissionImportExternalComponent_Template"),encapsulation:2})},22975:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>SubmissionSectionContainerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_sections_directive__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43449),_sections_decorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74233),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58409),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(65159),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(74369),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(23506),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4330);const _c0=["sectionRef"];function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"i",18),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,2,"submission.sections.status.warnings.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,4,"submission.sections.status.warnings.aria")))}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"i",19),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,2,"submission.sections.status.errors.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,4,"submission.sections.status.errors.aria")))}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"i",20),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,2,"submission.sections.status.valid.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,4,"submission.sections.status.valid.aria")))}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_9_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"i",21),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,2,"submission.sections.status.info.title")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,4,"submission.sections.status.info.aria")))}__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_4_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_4_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_6_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_6_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_7_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_7_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_9_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_9_Template");const _c1=__name(function(a0){return{"text-white":a0}},"_c1");function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_14_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"span",22),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(3);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(1,_c1,_r0.isInfo()))}}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_15_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"span",23)}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_a_16_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"a",24),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r13);const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(ctx_r12.removeSection($event))},"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_a_16_Template_a_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(1,"i",25),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}}__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_14_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_14_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_15_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_15_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_a_16_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_a_16_Template");const _c2=__name(function(a0){return{sectionHeader:a0}},"_c2");function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"span",8),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(4,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_4_Template,3,6,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(6,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_6_Template,3,6,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(7,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_7_Template,3,6,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(9,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_i_9_Template,3,6,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(10,"a",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(14,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_14_Template,1,3,"span",15),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(15,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_span_15_Template,1,0,"span",16),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(16,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_a_16_Template,2,0,"a",17),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(24,_c1,_r0.isInfo())),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,11,"submission.sections."+ctx_r3.sectionData.header)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(5,13,_r0.isValid())&&!_r0.hasErrors()&&!_r0.isInfo()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_r0.hasErrors()&&!_r0.isInfo()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(8,15,_r0.isValid())&&!_r0.hasErrors()&&!_r0.isInfo()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_r0.isInfo()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(13,22,_r0.isOpen()?"submission.sections.toggle.close":"submission.sections.toggle.open")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.xi3(11,17,_r0.isOpen()?"submission.sections.toggle.aria.close":"submission.sections.toggle.aria.open",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(26,_c2,_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(12,20,"submission.sections."+ctx_r3.sectionData.header)))),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_r0.isOpen()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!_r0.isOpen()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!_r0.isMandatory())}}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_ds_alert_1_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"ds-alert",31),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("close",__name(function(){const i_r18=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r20).index;_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(4);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r0.removeError(i_r18))},"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_ds_alert_1_Template_ds_alert_close_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}if(2&rf){const error_r17=ctx.$implicit,ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(4);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("content",error_r17)("dismissible",!0)("type",ctx_r16.AlertTypeEnum.Error)}}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_ds_alert_1_Template,1,3,"ds-alert",30),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(3),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.MGl("id","sectionGenericError_",ctx_r14.sectionData.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_r0.getErrors())}}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.GkF(0)}function SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_Template(rf,ctx){if(1&rf){const _r22=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(0,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_Template,2,2,"div",26),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(1,"div",27),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r22),_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r0.setFocus($event))},"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_Template_div_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_ng_container_2_Template,1,0,"ng-container",28),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_r0.hasGenericErrors()),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.MGl("id","sectionContent_",ctx_r4.sectionData.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngComponentOutlet",ctx_r4.getSectionContent())("ngComponentOutletInjector",ctx_r4.objectInjector)}}function SubmissionSectionContainerComponent_ngb_accordion_2_Template(rf,ctx){if(1&rf){const _r24=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"ngb-accordion",3,4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("panelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r24),_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.KtG(_r0.sectionChange($event))},"SubmissionSectionContainerComponent_ngb_accordion_2_Template_ngb_accordion_panelChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(2,"ngb-panel",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(3,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_Template,17,28,"ng-template",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(4,SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_Template,3,4,"ng-template",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("activeIds",ctx_r1.sectionData.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("destroyOnHide",!1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.s9C("id",ctx_r1.sectionData.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("type",_r0.isInfo()?"info":"")}}__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_3_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_ds_alert_1_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_ds_alert_1_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_div_0_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_ng_container_2_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_ng_container_2_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_ng_template_4_Template"),__name(SubmissionSectionContainerComponent_ngb_accordion_2_Template,"SubmissionSectionContainerComponent_ngb_accordion_2_Template");const _c3=__name(function(a0){return{"section-focus":a0}},"_c3");class SubmissionSectionContainerComponent{constructor(injector){this.injector=injector,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_2__.N}ngOnInit(){this.objectInjector=_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3.create({providers:[{provide:"collectionIdProvider",useFactory:()=>this.collectionId,deps:[]},{provide:"sectionDataProvider",useFactory:()=>this.sectionData,deps:[]},{provide:"submissionIdProvider",useFactory:()=>this.submissionId,deps:[]}],parent:this.injector})}removeSection(event2){event2.preventDefault(),event2.stopPropagation(),this.sectionRef.removeSection(this.submissionId,this.sectionData.id)}getSectionContent(){return(0,_sections_decorator__WEBPACK_IMPORTED_MODULE_1__.A)(this.sectionData.sectionType)}}__name(SubmissionSectionContainerComponent,"SubmissionSectionContainerComponent"),SubmissionSectionContainerComponent.\u0275fac=__name(function(t){return new(t||SubmissionSectionContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3))},"SubmissionSectionContainerComponent_Factory"),SubmissionSectionContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:SubmissionSectionContainerComponent,selectors:[["ds-submission-section-container"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_4__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_4__.CRH())&&(ctx.sectionRef=_t.first)}},"SubmissionSectionContainerComponent_Query"),inputs:{collectionId:"collectionId",sectionData:"sectionData",submissionId:"submissionId"},decls:4,vars:11,consts:[["dsSection","",3,"ngClass","mandatory","submissionId","sectionType","sectionId"],["sectionRef","sectionRef"],[3,"activeIds","destroyOnHide","panelChange",4,"ngIf"],[3,"activeIds","destroyOnHide","panelChange"],["acc","ngbAccordion"],[3,"id","type"],["ngbPanelTitle",""],["ngbPanelContent",""],["tabindex","0",1,"float-left","section-title",3,"ngClass"],[1,"d-inline-block","float-right"],["class","fas fa-exclamation-circle text-warning mr-3","role","img",3,"title",4,"ngIf"],["class","fas fa-exclamation-circle text-danger mr-3","role","img",3,"title",4,"ngIf"],["class","fas fa-check-circle text-success mr-3","role","img",3,"title",4,"ngIf"],["class","fas fa-info-circle mr-3 text-white","role","img",3,"title",4,"ngIf"],["tabindex","0","role","button",1,"close",3,"title"],["class","fas fa-chevron-up fa-fw",3,"ngClass",4,"ngIf"],["class","fas fa-chevron-down fa-fw",4,"ngIf"],["href","javascript:void(0);","class","close mr-3",3,"click",4,"ngIf"],["role","img",1,"fas","fa-exclamation-circle","text-warning","mr-3",3,"title"],["role","img",1,"fas","fa-exclamation-circle","text-danger","mr-3",3,"title"],["role","img",1,"fas","fa-check-circle","text-success","mr-3",3,"title"],["role","img",1,"fas","fa-info-circle","mr-3","text-white",3,"title"],[1,"fas","fa-chevron-up","fa-fw",3,"ngClass"],[1,"fas","fa-chevron-down","fa-fw"],["href","javascript:void(0);",1,"close","mr-3",3,"click"],["aria-hidden","true","tabindex","0",1,"fas","fa-trash-o"],[3,"id",4,"ngIf"],[3,"id","click"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"id"],[3,"content","dismissible","type","close",4,"ngFor","ngForOf"],[3,"content","dismissible","type","close"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(2,SubmissionSectionContainerComponent_ngb_accordion_2_Template,5,4,"ngb-accordion",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(9,_c3,_r0.isSectionActive()))("mandatory",ctx.sectionData.mandatory)("submissionId",ctx.submissionId)("sectionType",ctx.sectionData.sectionType)("sectionId",ctx.sectionData.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.uIk("id","section_"+ctx.sectionData.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,7,_r0.isEnabled()))}},"SubmissionSectionContainerComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_5__.$G,_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__.w,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.gY,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Gk,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Cu,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__.gW,_sections_directive__WEBPACK_IMPORTED_MODULE_0__.y,_angular_common__WEBPACK_IMPORTED_MODULE_5__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__.X$],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important}[_nghost-%COMP%]     .card-header button{width:100%}"]})},21821:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>SectionModelComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96846),_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59501),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86209);class SectionModelComponent{constructor(injectedCollectionId,injectedSectionData,injectedSubmissionId){this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.collectionId=injectedCollectionId,this.sectionData=injectedSectionData,this.submissionId=injectedSubmissionId}ngOnInit(){this.onSectionInit(),this.updateSectionStatus()}updateSectionStatus(){this.sectionStatusSub=this.getSectionStatus().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.hX)(sectionStatus=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.pT)(sectionStatus)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.O4)(!0)).subscribe(sectionStatus=>{this.sectionService.setSectionStatus(this.submissionId,this.sectionData.id,sectionStatus)})}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.Uh)(this.sectionStatusSub)&&this.sectionStatusSub.unsubscribe(),this.onSectionDestroy()}}__name(SectionModelComponent,"SectionModelComponent"),SectionModelComponent.\u0275fac=__name(function(t){return new(t||SectionModelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36("collectionIdProvider"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36("sectionDataProvider"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36("submissionIdProvider"))},"SectionModelComponent_Factory"),SectionModelComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:SectionModelComponent,selectors:[["ds-section-model"]],decls:0,vars:0,template:__name(function(rf,ctx){},"SectionModelComponent_Template"),encapsulation:2})},74233:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>rendersSectionType,E:()=>renderSectionFor});const submissionSectionsMap=new Map;function renderSectionFor(sectionType){return __name(function(objectElement){objectElement&&submissionSectionsMap.set(sectionType,objectElement)},"decorator")}function rendersSectionType(sectionType){return submissionSectionsMap.get(sectionType)}__name(renderSectionFor,"renderSectionFor"),__name(rendersSectionType,"rendersSectionType")},43449:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>SectionsDirective});var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96846),lodash_uniq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(71412),lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_0__),_sections_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21708),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59501),_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48581),_submission_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48416),_angular_core__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(48142),__webpack_require__(86209));class SectionsDirective{constructor(changeDetectorRef,submissionService,sectionService){this.changeDetectorRef=changeDetectorRef,this.submissionService=submissionService,this.sectionService=sectionService,this.mandatory=!0,this.genericSectionErrors=[],this.allSectionErrors=[],this.active=!0,this.sectionState=this.mandatory,this.subs=[]}ngOnInit(){this.valid=this.sectionService.isSectionValid(this.submissionId,this.sectionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(valid=>(valid&&this.resetErrors(),valid))),this.subs.push(this.sectionService.getShownSectionErrors(this.submissionId,this.sectionId,this.sectionType).subscribe(errors=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(errors)?errors.forEach(errorItem=>{(0,_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_6__.Z)(errorItem.path).forEach(error=>{error.fieldId?this.allSectionErrors.push(errorItem.message):this.genericSectionErrors=lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default()(this.genericSectionErrors.concat(errorItem.message))})}):this.resetErrors()}),this.submissionService.getActiveSectionId(this.submissionId).subscribe(activeSectionId=>{const previousActive=this.active;this.active=activeSectionId===this.sectionId,previousActive!==this.active&&(this.changeDetectorRef.detectChanges(),!this.active&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.K0)(activeSectionId)&&this.submissionService.dispatchSave(this.submissionId))})),this.enabled=this.sectionService.isSectionEnabled(this.submissionId,this.sectionId)}ngOnDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}sectionChange(event2){this.sectionState=event2.nextState}isOpen(){return this.sectionState}isMandatory(){return this.mandatory}isSectionActive(){return this.active}isEnabled(){return this.enabled}isValid(){return this.valid}removeSection(submissionId,sectionId){this.sectionService.removeSection(submissionId,sectionId)}hasGenericErrors(){return this.genericSectionErrors&&this.genericSectionErrors.length>0}hasErrors(){return this.genericSectionErrors&&this.genericSectionErrors.length>0||this.allSectionErrors&&this.allSectionErrors.length>0}getErrors(){return this.genericSectionErrors}setFocus(event2){this.active||this.submissionService.setActiveSection(this.submissionId,this.sectionId)}isInfo(){return this.sectionService.getIsInformational(this.sectionType)}removeError(index){this.genericSectionErrors.splice(index)}resetErrors(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(this.genericSectionErrors)&&this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionId),this.genericSectionErrors=[],this.allSectionErrors=[]}}__name(SectionsDirective,"SectionsDirective"),SectionsDirective.\u0275fac=__name(function(t){return new(t||SectionsDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_7__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_2__.b),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_sections_service__WEBPACK_IMPORTED_MODULE_1__.J))},"SectionsDirective_Factory"),SectionsDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_7__.lG2({type:SectionsDirective,selectors:[["","dsSection",""]],inputs:{mandatory:"mandatory",sectionId:"sectionId",sectionType:"sectionType",submissionId:"submissionId"},exportAs:["sectionRef"]})},21708:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>SectionsService});var rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(96846),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56242),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__),lodash_findKey__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35782),lodash_findKey__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_findKey__WEBPACK_IMPORTED_MODULE_1__),lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86436),lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(59501),_objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57543),_selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43863),_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21617),_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(48581),_shared_form_form_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68649),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39373),_submission_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48416),_sections_type__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(48142),_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3254),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(49417),_shared_form_form_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(39975),_core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(95414),_angular_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(86209),_nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(74978),_ngrx_store__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(60857),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4330);class SectionsService{constructor(formService,notificationsService,scrollToService,submissionService,store,translate){this.formService=formService,this.notificationsService=notificationsService,this.scrollToService=scrollToService,this.submissionService=submissionService,this.store=store,this.translate=translate}checkSectionErrors(submissionId,sectionId,formId,currentErrors,prevErrors=[]){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(currentErrors))this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.QC(submissionId,sectionId)),this.store.dispatch(new _shared_form_form_actions__WEBPACK_IMPORTED_MODULE_6__.y5(formId));else if(!lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(currentErrors,prevErrors)){const dispatchedErrors=[];currentErrors.forEach(error=>{(0,_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_13__.Z)(error.path).forEach(path=>{path.fieldId&&(this.formService.addError(formId,path.fieldId,path.fieldIndex,error.message),dispatchedErrors.push(path.fieldId))})}),prevErrors.forEach(error=>{(0,_utils_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_13__.Z)(error.path).forEach(path=>{path.fieldId&&(dispatchedErrors.includes(path.fieldId)||this.formService.removeError(formId,path.fieldId,path.fieldIndex))})})}}dispatchRemoveSectionErrors(submissionId,sectionId){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.QC(submissionId,sectionId))}dispatchSetSectionFormId(submissionId,sectionId,formId){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.re(submissionId,sectionId,formId))}getSectionData(submissionId,sectionId,sectionType){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.y5)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionData=>sectionType===_sections_type__WEBPACK_IMPORTED_MODULE_9__.i.SubmissionForm?(0,_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_10__.Vv)(sectionData):sectionData),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}getShownSectionErrors(submissionId,sectionId,sectionType){let errorsState$;return errorsState$=sectionType!==_sections_type__WEBPACK_IMPORTED_MODULE_9__.i.SubmissionForm?this.getSectionErrors(submissionId,sectionId):this.getSectionState(submissionId,sectionId,sectionType).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.zg)(state=>this.formService.getFormErrors(state.formId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(formErrors=>{const pathCombiner=new _core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_15__.K("sections",sectionId),sectionErrors=formErrors.map(error=>({path:pathCombiner.getPath(error.fieldId.replace(/\_/g,".")).path,message:error.message})).filter(sectionError=>-1===lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default()(state.errorsToShow,{path:sectionError.path}));return[...state.errorsToShow,...sectionErrors]})))),errorsState$}getSectionErrors(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.Mb)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}getSectionServerErrors(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.fh)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}getSectionState(submissionId,sectionId,sectionType){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.gd)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(sectionObj=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sectionObj)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionObj=>sectionObj),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sectionState.data)&&sectionType===_sections_type__WEBPACK_IMPORTED_MODULE_9__.i.SubmissionForm?Object.assign({},sectionState,{data:(0,_core_submission_submission_response_parsing_service__WEBPACK_IMPORTED_MODULE_10__.Vv)(sectionState.data)}):sectionState),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionValid(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.gd)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(sectionObj=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sectionObj)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionObj=>sectionObj.isValid),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionActive(submissionId,sectionId){return this.submissionService.getActiveSectionId(submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(activeSectionId=>sectionId===activeSectionId),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionEnabled(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.gd)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(sectionObj=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sectionObj)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionObj=>sectionObj.enabled),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionReadOnly(submissionId,sectionId,submissionScope){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.gd)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(sectionObj=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sectionObj)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(sectionObj=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(sectionObj.visibility)&&("READONLY"===sectionObj.visibility.other&&submissionScope!==_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_5__.S.WorkspaceItem||"READONLY"===sectionObj.visibility.main&&submissionScope===_core_submission_submission_scope_type__WEBPACK_IMPORTED_MODULE_5__.S.WorkspaceItem)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionAvailable(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.ak)(submissionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState.sections)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState.sections[sectionId])),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionTypeAvailable(submissionId,sectionType){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.ak)(submissionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState.sections)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(lodash_findKey__WEBPACK_IMPORTED_MODULE_1___default()(submissionState.sections,{sectionType}))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}isSectionType(submissionId,sectionId,sectionType){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_4__.ak)(submissionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(submissionState=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState.sections)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.pT)(submissionState.sections[sectionId])&&submissionState.sections[sectionId].sectionType===sectionType),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.xb)())}addSection(submissionId,sectionId){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.gn(submissionId,sectionId));const config={target:sectionId,offset:-70};this.scrollToService.scrollTo(config)}removeSection(submissionId,sectionId){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.s0(submissionId,sectionId))}updateSectionData(submissionId,sectionId,data,errorsToShow=[],serverValidationErrors=[],metadata){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(data)){const isAvailable$=this.isSectionAvailable(submissionId,sectionId),isEnabled$=this.isSectionEnabled(submissionId,sectionId);(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)(isAvailable$,isEnabled$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(([available,enabled])=>available)).subscribe(([available,enabled])=>{this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.z6(submissionId,sectionId,data,errorsToShow,serverValidationErrors,metadata))})}}setSectionError(submissionId,sectionId,error){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.uO(submissionId,sectionId,error))}setSectionStatus(submissionId,sectionId,status){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_3__.hx(submissionId,sectionId,status))}computeSectionConfiguredMetadata(formConfig){const metadata=[],rawData="string"==typeof formConfig?JSON.parse(formConfig,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__.WMN):formConfig;return rawData.rows&&!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(rawData.rows)&&rawData.rows.forEach(currentRow=>{currentRow.fields&&!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(currentRow.fields)&&currentRow.fields.forEach(field=>{field.selectableMetadata&&!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(field.selectableMetadata)&&field.selectableMetadata.forEach(selectableMetadata=>{metadata.includes(selectableMetadata.metadata)||metadata.push(selectableMetadata.metadata)})})}),metadata}getIsInformational(sectionType){return sectionType===_sections_type__WEBPACK_IMPORTED_MODULE_9__.i.SherpaPolicies}}__name(SectionsService,"SectionsService"),SectionsService.\u0275fac=__name(function(t){return new(t||SectionsService)(_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_shared_form_form_service__WEBPACK_IMPORTED_MODULE_11__.o),_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__.T),_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_19__.ij),_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_submission_service__WEBPACK_IMPORTED_MODULE_8__.b),_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_20__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_18__.LFG(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.sK))},"SectionsService_Factory"),SectionsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_18__.Yz7({token:SectionsService,factory:SectionsService.\u0275fac})},95576:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>SubmissionSectionUploadAccessConditionsComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96846),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16507),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59501),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17306),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(65159);function SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.lnq(" ",accessCondition_r1.name," ",accessCondition_r1.startDate," ",accessCondition_r1.endDate," ")}}function SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.AsE("",accessCondition_r1.name," from ",accessCondition_r1.endDate,"")}}function SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&rf){const accessCondition_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.AsE("",accessCondition_r1.name," until ",accessCondition_r1.startDate,"")}}function SubmissionSectionUploadAccessConditionsComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(1,SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_1_Template,2,3,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(2,SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_2_Template,2,2,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(3,SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_3_Template,2,2,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(4,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.BQk()),2&rf){const accessCondition_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","DEFAULT_BITSTREAM_READ"==accessCondition_r1.action),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","lease"==accessCondition_r1.name),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","embargo"==accessCondition_r1.name)}}__name(SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_1_Template,"SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_1_Template"),__name(SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_2_Template,"SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_2_Template"),__name(SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_3_Template,"SubmissionSectionUploadAccessConditionsComponent_ng_container_0_span_3_Template"),__name(SubmissionSectionUploadAccessConditionsComponent_ng_container_0_Template,"SubmissionSectionUploadAccessConditionsComponent_ng_container_0_Template");class SubmissionSectionUploadAccessConditionsComponent{constructor(dsoNameService,groupService){this.dsoNameService=dsoNameService,this.groupService=groupService,this.accessConditionsList=[]}ngOnInit(){this.accessConditions.forEach(accessCondition=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.xb)(accessCondition.name)?this.groupService.findByHref(accessCondition._links.group.href).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.sE)(rd=>!rd.isResponsePending&&rd.hasSucceeded)).subscribe(rd=>{const group=rd.payload,accessConditionEntry=Object.assign({},accessCondition);accessConditionEntry.name=this.dsoNameService.getName(group),this.accessConditionsList.push(accessConditionEntry)}):this.accessConditionsList.push(accessCondition)})}}__name(SubmissionSectionUploadAccessConditionsComponent,"SubmissionSectionUploadAccessConditionsComponent"),SubmissionSectionUploadAccessConditionsComponent.\u0275fac=__name(function(t){return new(t||SubmissionSectionUploadAccessConditionsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__._),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_0__.O))},"SubmissionSectionUploadAccessConditionsComponent_Factory"),SubmissionSectionUploadAccessConditionsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:SubmissionSectionUploadAccessConditionsComponent,selectors:[["ds-submission-section-upload-access-conditions"]],inputs:{accessConditions:"accessConditions"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","badge badge-primary mt-3 mr-2",4,"ngIf"],["class","badge badge-dark mt-3 mr-2",4,"ngIf"],[1,"badge","badge-primary","mt-3","mr-2"],[1,"badge","badge-dark","mt-3","mr-2"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(0,SubmissionSectionUploadAccessConditionsComponent_ng_container_0_Template,5,3,"ng-container",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngForOf",ctx.accessConditionsList)},"SubmissionSectionUploadAccessConditionsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5],encapsulation:2})},18022:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>SubmissionSectionUploadFileEditComponent});var core=__webpack_require__(49417),form_builder_service=__webpack_require__(88286);const BITSTREAM_METADATA_FORM_GROUP_CONFIG={id:"metadata",group:[]},BITSTREAM_METADATA_FORM_GROUP_LAYOUT={element:{container:"form-group",label:"col-form-label"},grid:{label:"col-sm-3"}},BITSTREAM_ACCESS_CONDITION_GROUP_CONFIG={id:"accessConditionGroup",group:[]},BITSTREAM_ACCESS_CONDITION_GROUP_LAYOUT={element:{host:"form-group access-condition-group col",container:"pl-1 pr-1",control:"form-row "}},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_CONFIG={id:"accessConditions",groupFactory:null},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT={grid:{group:"form-row pt-4"}},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_CONFIG={id:"name",label:"submission.sections.upload.form.access-condition-label",hint:"submission.sections.upload.form.access-condition-hint",options:[]},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_LAYOUT={element:{host:"col-12",label:"col-form-label name-label"}},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_CONFIG={id:"startDate",label:"submission.sections.upload.form.from-label",hint:"submission.sections.upload.form.from-hint",placeholder:"submission.sections.upload.form.from-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:core.O6Y,operator:core.F8e,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.upload.form.date-required-from"}},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_CONFIG={id:"endDate",label:"submission.sections.upload.form.until-label",hint:"submission.sections.upload.form.until-hint",placeholder:"submission.sections.upload.form.until-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:core.O6Y,operator:core.F8e,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.upload.form.date-required-until"}},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}};var section_upload_component=__webpack_require__(35669),empty_util=__webpack_require__(59501),submission_service=__webpack_require__(48416),form_service=__webpack_require__(39975),form_component=__webpack_require__(23593),operators=__webpack_require__(96846),date_util=__webpack_require__(66655),json_patch_operations_builder=__webpack_require__(33913),submission_json_patch_operations_service=__webpack_require__(73275),section_upload_service=__webpack_require__(10737),fesm2020_core=__webpack_require__(86209),ng_bootstrap=__webpack_require__(23506),common=__webpack_require__(65159),ngx_translate_core=__webpack_require__(4330);const _c0=["formRef"];function SubmissionSectionUploadFileEditComponent_ds_form_9_Template(rf,ctx){if(1&rf){const _r3=fesm2020_core.EpF();fesm2020_core.TgZ(0,"ds-form",6,7),fesm2020_core.NdJ("submitForm",__name(function(){fesm2020_core.CHM(_r3);const ctx_r2=fesm2020_core.oxw();return fesm2020_core.KtG(ctx_r2.onSubmit())},"SubmissionSectionUploadFileEditComponent_ds_form_9_Template_ds_form_submitForm_0_listener"))("cancel",__name(function(){fesm2020_core.CHM(_r3);const ctx_r4=fesm2020_core.oxw();return fesm2020_core.KtG(ctx_r4.onModalClose())},"SubmissionSectionUploadFileEditComponent_ds_form_9_Template_ds_form_cancel_0_listener"))("dfChange",__name(function($event){fesm2020_core.CHM(_r3);const ctx_r5=fesm2020_core.oxw();return fesm2020_core.KtG(ctx_r5.onChange($event))},"SubmissionSectionUploadFileEditComponent_ds_form_9_Template_ds_form_dfChange_0_listener")),fesm2020_core.qZA()}if(2&rf){const ctx_r0=fesm2020_core.oxw();fesm2020_core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!ctx_r0.isSaving)("displayCancel",!ctx_r0.isSaving)}}__name(SubmissionSectionUploadFileEditComponent_ds_form_9_Template,"SubmissionSectionUploadFileEditComponent_ds_form_9_Template");class SubmissionSectionUploadFileEditComponent{constructor(activeModal,cdr,formBuilderService,formService,submissionService,operationsBuilder,operationsService,uploadService){this.activeModal=activeModal,this.cdr=cdr,this.formBuilderService=formBuilderService,this.formService=formService,this.submissionService=submissionService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.uploadService=uploadService,this.formMetadata=[],this.isSaving=!1,this.subscriptions=[]}initModelData(formModel){this.fileData.accessConditions.forEach((accessCondition,index)=>{Array.of("name","startDate","endDate").filter(key=>accessCondition.hasOwnProperty(key)&&(0,empty_util.UE)(accessCondition[key])).forEach(key=>{const metadataModel=this.formBuilderService.findById(key,formModel,index);if(metadataModel)if(metadataModel.type===core.VId){const date=new Date(accessCondition[key]);metadataModel.value={year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate()}}else metadataModel.value=accessCondition[key]})})}onChange(event2){"name"===event2.model.id&&this.setOptions(event2.model,event2.control)}onModalClose(){this.activeModal.dismiss()}onSubmit(){this.isSaving=!0,this.saveBitstreamData()}setOptions(model,control){let accessCondition=null;if(this.availableAccessConditionOptions.filter(element=>element.name===control.value).forEach(element=>accessCondition=element),(0,empty_util.UE)(accessCondition)){const startDateControl=control.parent.get("startDate"),endDateControl=control.parent.get("endDate");startDateControl?.markAsUntouched(),endDateControl?.markAsUntouched(),startDateControl?.setValue(null),control.parent.markAsDirty(),endDateControl?.setValue(null)}}ngOnInit(){this.fileData&&this.formId&&(this.formModel=this.buildFileEditForm(),this.cdr.detectChanges())}ngOnDestroy(){this.unsubscribeAll()}retrieveValueFromField(field){const temp=Array.isArray(field)?field[0]:field;return temp?temp.value:void 0}buildFileEditForm(){const configDescr=Object.assign({},this.configMetadataForm.rows[0].fields[0]);configDescr.repeatable=!1;const configForm=Object.assign({},this.configMetadataForm,{fields:Object.assign([],this.configMetadataForm.rows[0].fields[0],[this.configMetadataForm.rows[0].fields[0],configDescr])}),formModel=[],metadataGroupModelConfig=Object.assign({},BITSTREAM_METADATA_FORM_GROUP_CONFIG);metadataGroupModelConfig.group=this.formBuilderService.modelFromConfiguration(this.submissionId,configForm,this.collectionId,this.fileData.metadata,this.submissionService.getSubmissionScope()),formModel.push(new core.S_O(metadataGroupModelConfig,BITSTREAM_METADATA_FORM_GROUP_LAYOUT));const accessConditionTypeModelConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_TYPE_CONFIG),accessConditionsArrayConfig=Object.assign({},BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_CONFIG),accessConditionTypeOptions=[];if(this.collectionPolicyType===section_upload_component.B1){for(const accessCondition of this.availableAccessConditionOptions)accessConditionTypeOptions.push({label:accessCondition.name,value:accessCondition.name});accessConditionTypeModelConfig.options=accessConditionTypeOptions;const startDateCondition=[],endDateCondition=[];let maxStartDate,maxEndDate;this.availableAccessConditionOptions.forEach(condition=>{if(condition.hasStartDate&&(startDateCondition.push({id:"name",value:condition.name}),condition.maxStartDate)){const min=new Date(condition.maxStartDate);maxStartDate={year:min.getUTCFullYear(),month:min.getUTCMonth()+1,day:min.getUTCDate()}}if(condition.hasEndDate&&(endDateCondition.push({id:"name",value:condition.name}),condition.maxEndDate)){const max=new Date(condition.maxEndDate);maxEndDate={year:max.getUTCFullYear(),month:max.getUTCMonth()+1,day:max.getUTCDate()}}});const confStart={relations:[{match:core.O6Y,operator:core.F8e,when:startDateCondition}]},confEnd={relations:[{match:core.O6Y,operator:core.F8e,when:endDateCondition}]},hasStartDate=startDateCondition.length>0,hasEndDate=endDateCondition.length>0;accessConditionsArrayConfig.groupFactory=()=>{const type=new core.nMt(accessConditionTypeModelConfig,BITSTREAM_FORM_ACCESS_CONDITION_TYPE_LAYOUT),startDateConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_CONFIG,confStart);maxStartDate&&(startDateConfig.max=maxStartDate);const endDateConfig=Object.assign({},BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_CONFIG,confEnd);maxEndDate&&(endDateConfig.max=maxEndDate);const startDate=new core.oqv(startDateConfig,BITSTREAM_FORM_ACCESS_CONDITION_START_DATE_LAYOUT),endDate=new core.oqv(endDateConfig,BITSTREAM_FORM_ACCESS_CONDITION_END_DATE_LAYOUT),accessConditionGroupConfig=Object.assign({},BITSTREAM_ACCESS_CONDITION_GROUP_CONFIG);return accessConditionGroupConfig.group=[type],hasStartDate&&accessConditionGroupConfig.group.push(startDate),hasEndDate&&accessConditionGroupConfig.group.push(endDate),[new core.S_O(accessConditionGroupConfig,BITSTREAM_ACCESS_CONDITION_GROUP_LAYOUT)]},accessConditionsArrayConfig.initialCount=(0,empty_util.UE)(this.fileData.accessConditions)?this.fileData.accessConditions.length:1,formModel.push(new core.RRz(accessConditionsArrayConfig,BITSTREAM_ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT))}return this.initModelData(formModel),formModel}saveBitstreamData(){this.formService.validateAllFormFields(this.formRef.formGroup);const saveBitstreamDataSubscription=this.formService.isValid(this.formId).pipe((0,operators.qn)(1),(0,operators.hX)(isValid=>isValid),(0,operators.zg)(()=>this.formService.getFormData(this.formId)),(0,operators.qn)(1),(0,operators.zg)(formData=>{Object.keys(formData.metadata).filter(key=>(0,empty_util.UE)(formData.metadata[key])).forEach(key=>{const path=`metadata/${key.replace(/_/g,".")}`;this.operationsBuilder.add(this.pathCombiner.getPath(path),formData.metadata[key],!0)}),Object.keys(this.fileData.metadata).filter(key=>(0,empty_util.UE)(this.fileData.metadata[key])).filter(key=>(0,empty_util.xI)(formData.metadata[key])).filter(key=>this.formMetadata.includes(key)).forEach(key=>{const path=`metadata/${key.replace(/_/g,".")}`;this.operationsBuilder.remove(this.pathCombiner.getPath(path))});const accessConditionsToSave=[];return formData.accessConditions.map(accessConditions=>accessConditions.accessConditionGroup).filter(accessCondition=>(0,empty_util.UE)(accessCondition)).forEach(accessCondition=>{let accessConditionOpt;if(this.availableAccessConditionOptions.filter(element=>(0,empty_util.K0)(accessCondition.name)&&element.name===accessCondition.name[0].value).forEach(element=>accessConditionOpt=element),accessConditionOpt){const currentAccessCondition=Object.assign({},accessCondition);if(currentAccessCondition.name=this.retrieveValueFromField(accessCondition.name),accessConditionOpt.hasStartDate){if(accessCondition.startDate){const startDate=this.retrieveValueFromField(accessCondition.startDate);let startDateDate=new Date(startDate);if(accessConditionOpt.maxStartDate){const maxStartDateDate=new Date(accessConditionOpt.maxStartDate);startDateDate>maxStartDateDate&&(startDateDate=maxStartDateDate)}currentAccessCondition.startDate=(0,date_util.iV)(startDateDate)}}else delete currentAccessCondition.startDate;if(accessConditionOpt.hasEndDate){if(accessCondition.endDate){const endDate=this.retrieveValueFromField(accessCondition.endDate);let endDateDate=new Date(endDate);if(accessConditionOpt.maxEndDate){const maxEndDateDate=new Date(accessConditionOpt.maxEndDate);endDateDate>maxEndDateDate&&(endDateDate=maxEndDateDate)}currentAccessCondition.endDate=(0,date_util.iV)(endDateDate)}}else delete currentAccessCondition.endDate;accessConditionsToSave.push(currentAccessCondition)}}),(0,empty_util.UE)(accessConditionsToSave)&&this.operationsBuilder.add(this.pathCombiner.getPath("accessConditions"),accessConditionsToSave,!0),this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,this.pathCombiner.rootElement,this.pathCombiner.subRootElement)})).subscribe(result=>{if(result[0].sections[this.sectionId]){const uploadSection=result[0].sections[this.sectionId];Object.keys(uploadSection.files).filter(key=>uploadSection.files[key].uuid===this.fileId).forEach(key=>this.uploadService.updateFileData(this.submissionId,this.sectionId,this.fileId,uploadSection.files[key]))}this.isSaving=!1,this.activeModal.close()});this.subscriptions.push(saveBitstreamDataSubscription)}unsubscribeAll(){this.subscriptions.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(SubmissionSectionUploadFileEditComponent,"SubmissionSectionUploadFileEditComponent"),SubmissionSectionUploadFileEditComponent.\u0275fac=__name(function(t){return new(t||SubmissionSectionUploadFileEditComponent)(fesm2020_core.Y36(ng_bootstrap.Kz),fesm2020_core.Y36(fesm2020_core.sBO),fesm2020_core.Y36(form_builder_service.c),fesm2020_core.Y36(form_service.o),fesm2020_core.Y36(submission_service.b),fesm2020_core.Y36(json_patch_operations_builder.w),fesm2020_core.Y36(submission_json_patch_operations_service.E),fesm2020_core.Y36(section_upload_service.K))},"SubmissionSectionUploadFileEditComponent_Factory"),SubmissionSectionUploadFileEditComponent.\u0275cmp=fesm2020_core.Xpm({type:SubmissionSectionUploadFileEditComponent,selectors:[["ds-submission-section-upload-file-edit"]],viewQuery:__name(function(rf,ctx){if(1&rf&&fesm2020_core.Gf(_c0,5),2&rf){let _t;fesm2020_core.iGM(_t=fesm2020_core.CRH())&&(ctx.formRef=_t.first)}},"SubmissionSectionUploadFileEditComponent_Query"),decls:10,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[3,"formId","formModel","displaySubmit","displayCancel","submitForm","cancel","dfChange",4,"ngIf"],[3,"formId","formModel","displaySubmit","displayCancel","submitForm","cancel","dfChange"],["formRef","formComponent"]],template:__name(function(rf,ctx){1&rf&&(fesm2020_core.TgZ(0,"div")(1,"div",0)(2,"h4",1),fesm2020_core._uU(3),fesm2020_core.ALo(4,"translate"),fesm2020_core.qZA(),fesm2020_core.TgZ(5,"button",2),fesm2020_core.NdJ("click",__name(function(){return ctx.onModalClose()},"SubmissionSectionUploadFileEditComponent_Template_button_click_5_listener")),fesm2020_core.TgZ(6,"span",3),fesm2020_core._uU(7,"\xd7"),fesm2020_core.qZA()()(),fesm2020_core.TgZ(8,"div",4),fesm2020_core.YNc(9,SubmissionSectionUploadFileEditComponent_ds_form_9_Template,2,4,"ds-form",5),fesm2020_core.qZA()()),2&rf&&(fesm2020_core.xp6(3),fesm2020_core.Oqu(fesm2020_core.lcZ(4,3,"submission.sections.upload.edit.title")),fesm2020_core.xp6(2),fesm2020_core.Q6J("disabled",ctx.isSaving),fesm2020_core.xp6(4),fesm2020_core.Q6J("ngIf",ctx.formModel))},"SubmissionSectionUploadFileEditComponent_Template"),dependencies:[common.O5,form_component.U,ngx_translate_core.X$],styles:[".access-condition-group{position:relative;top:-2.3rem;margin-bottom:-2.3rem}"]})},31370:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionSectionUploadFileComponent:()=>SubmissionSectionUploadFileComponent});var rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(96846),_section_upload_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10737),_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(59501),_shared_form_form_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39975),_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33913),_core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(95414),_submission_service__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(61547),__webpack_require__(48416)),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54781),_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(73275),_edit_section_upload_file_edit_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18022),_core_shared_bitstream_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(69394),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(23506),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(65159),_shared_file_download_link_themed_file_download_link_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57826),_view_section_upload_file_view_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28264),_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(46724),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4330);function SubmissionSectionUploadFileComponent_ng_container_0_i_21_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(0,"i",16)}function SubmissionSectionUploadFileComponent_ng_container_0_i_23_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(0,"i",17)}function SubmissionSectionUploadFileComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_12__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_12__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(6,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(8,"dsFileSize"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(9,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ynx(10),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(11,"ds-themed-file-download-link",7),_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(12,"i",8),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(13,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r6);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();return $event.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(ctx_r5.editBitstreamData())},"SubmissionSectionUploadFileComponent_ng_container_0_Template_button_click_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(16,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(17,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r6);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(),_r1=_angular_core__WEBPACK_IMPORTED_MODULE_12__.MAs(2);return $event.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(ctx_r7.confirmDelete(_r1))},"SubmissionSectionUploadFileComponent_ng_container_0_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(20,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(21,SubmissionSectionUploadFileComponent_ng_container_0_i_21_Template,1,0,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(23,SubmissionSectionUploadFileComponent_ng_container_0_i_23_Template,1,0,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(25,"div",14)(26,"ds-submission-section-upload-file-view",15),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.BQk()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.hij("",ctx_r0.fileName," "),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.hij("(",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(8,14,null==ctx_r0.fileData?null:ctx_r0.fileData.sizeBytes),")"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("cssClasses","btn btn-link-focus")("isBlank",!0)("bitstream",ctx_r0.getBitstream())("enableRequestACopy",!1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(15,18,"submission.sections.upload.edit.title")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(14,16,"submission.sections.upload.edit.title")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(19,22,"submission.sections.upload.delete.confirm.title")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(20,24,ctx_r0.processingDelete$)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(18,20,"submission.sections.upload.delete.confirm.title")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(22,26,ctx_r0.processingDelete$)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(24,28,ctx_r0.processingDelete$)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("fileData",ctx_r0.fileData)}}function SubmissionSectionUploadFileComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_12__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",18)(1,"h4",19),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(4,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function(){const d_r9=_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r11).dismiss;return _angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(d_r9("cancel"))},"SubmissionSectionUploadFileComponent_ng_template_1_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(5,"span",21),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(7,"div",22)(8,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(11,"div",23)(12,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function(){const c_r8=_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r11).close;return _angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(c_r8("cancel"))},"SubmissionSectionUploadFileComponent_ng_template_1_Template_button_click_12_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(15,"button",25),_angular_core__WEBPACK_IMPORTED_MODULE_12__.NdJ("click",__name(function(){const c_r8=_angular_core__WEBPACK_IMPORTED_MODULE_12__.CHM(_r11).close;return _angular_core__WEBPACK_IMPORTED_MODULE_12__.KtG(c_r8("ok"))},"SubmissionSectionUploadFileComponent_ng_template_1_Template_button_click_15_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,4,"submission.sections.upload.delete.confirm.title")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(10,6,"submission.sections.upload.delete.confirm.info")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(14,8,"submission.sections.upload.delete.confirm.cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(17,10,"submission.sections.upload.delete.confirm.submit")))}__name(SubmissionSectionUploadFileComponent_ng_container_0_i_21_Template,"SubmissionSectionUploadFileComponent_ng_container_0_i_21_Template"),__name(SubmissionSectionUploadFileComponent_ng_container_0_i_23_Template,"SubmissionSectionUploadFileComponent_ng_container_0_i_23_Template"),__name(SubmissionSectionUploadFileComponent_ng_container_0_Template,"SubmissionSectionUploadFileComponent_ng_container_0_Template"),__name(SubmissionSectionUploadFileComponent_ng_template_1_Template,"SubmissionSectionUploadFileComponent_ng_template_1_Template");class SubmissionSectionUploadFileComponent{constructor(cdr,formService,halService,modalService,operationsBuilder,operationsService,submissionService,uploadService){this.cdr=cdr,this.formService=formService,this.halService=halService,this.modalService=modalService,this.operationsBuilder=operationsBuilder,this.operationsService=operationsService,this.submissionService=submissionService,this.uploadService=uploadService,this.processingDelete$=new rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(!1),this.subscriptions=[],this.formMetadata=[],this.readMode=!0}ngOnChanges(changes){this.availableAccessConditionOptions&&this.subscriptions.push(this.uploadService.getFileData(this.submissionId,this.sectionId,this.fileId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.hX)(bitstream=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.pT)(bitstream))).subscribe(bitstream=>{this.fileData=bitstream}))}ngOnInit(){this.formId=this.formService.getUniqueId(this.fileId),this.pathCombiner=new _core_json_patch_builder_json_patch_operation_path_combiner__WEBPACK_IMPORTED_MODULE_16__.K("sections",this.sectionId,"files",this.fileIndex),this.loadFormMetadata()}confirmDelete(content){this.modalService.open(content).result.then(result=>{"ok"===result&&(this.processingDelete$.next(!0),this.deleteFile())})}getBitstream(){return Object.assign(new _core_shared_bitstream_model__WEBPACK_IMPORTED_MODULE_8__.Z,{uuid:this.fileData.uuid})}editBitstreamData(){const activeModal=this.modalService.open(_edit_section_upload_file_edit_component__WEBPACK_IMPORTED_MODULE_7__.e,{size:"xl",backdrop:"static"});activeModal.componentInstance.availableAccessConditionOptions=this.availableAccessConditionOptions,activeModal.componentInstance.collectionId=this.collectionId,activeModal.componentInstance.collectionPolicyType=this.collectionPolicyType,activeModal.componentInstance.configMetadataForm=this.configMetadataForm,activeModal.componentInstance.fileData=this.fileData,activeModal.componentInstance.fileId=this.fileId,activeModal.componentInstance.fileIndex=this.fileIndex,activeModal.componentInstance.formId=this.formId,activeModal.componentInstance.sectionId=this.sectionId,activeModal.componentInstance.formMetadata=this.formMetadata,activeModal.componentInstance.pathCombiner=this.pathCombiner,activeModal.componentInstance.submissionId=this.submissionId}ngOnDestroy(){this.unsubscribeAll()}unsubscribeAll(){this.subscriptions.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}loadFormMetadata(){this.configMetadataForm.rows.forEach(row=>{row.fields.forEach(field=>{field.selectableMetadata.forEach(metadatum=>{this.formMetadata.push(metadatum.metadata)})})})}deleteFile(){this.operationsBuilder.remove(this.pathCombiner.getPath()),this.subscriptions.push(this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),this.submissionId,this.pathCombiner.rootElement,this.pathCombiner.subRootElement).subscribe(()=>{this.uploadService.removeUploadedFile(this.submissionId,this.sectionId,this.fileId),this.processingDelete$.next(!1)}))}}__name(SubmissionSectionUploadFileComponent,"SubmissionSectionUploadFileComponent"),SubmissionSectionUploadFileComponent.\u0275fac=__name(function(t){return new(t||SubmissionSectionUploadFileComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_12__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_shared_form_form_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_5__.q),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_json_patch_builder_json_patch_operations_builder__WEBPACK_IMPORTED_MODULE_2__.w),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_submission_submission_json_patch_operations_service__WEBPACK_IMPORTED_MODULE_6__.E),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_4__.b),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_section_upload_service__WEBPACK_IMPORTED_MODULE_0__.K))},"SubmissionSectionUploadFileComponent_Factory"),SubmissionSectionUploadFileComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.Xpm({type:SubmissionSectionUploadFileComponent,selectors:[["ds-submission-upload-section-file"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__.Gf(_edit_section_upload_file_edit_component__WEBPACK_IMPORTED_MODULE_7__.e,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_12__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_12__.CRH())&&(ctx.fileEditComp=_t.first)}},"SubmissionSectionUploadFileComponent_Query"),inputs:{availableAccessConditionOptions:"availableAccessConditionOptions",collectionId:"collectionId",collectionPolicyType:"collectionPolicyType",configMetadataForm:"configMetadataForm",fileId:"fileId",fileIndex:"fileIndex",fileName:"fileName",sectionId:"sectionId",submissionId:"submissionId"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.TTD],decls:3,vars:1,consts:[[4,"ngIf"],["content",""],[1,"row"],[1,"col-md-12"],[1,"float-left","w-75"],[1,"text-muted"],[1,"float-right","w-15"],[3,"cssClasses","isBlank","bitstream","enableRequestACopy"],["aria-hidden","true",1,"fa","fa-download","fa-2x","text-normal"],[1,"btn","btn-link-focus",3,"title","click"],[1,"fa","fa-edit","fa-2x","text-normal"],[1,"btn","btn-link-focus",3,"title","disabled","click"],["class","fas fa-circle-notch fa-spin fa-2x text-danger",4,"ngIf"],["class","fa fa-trash fa-2x text-danger",4,"ngIf"],[1,"clearfix"],[3,"fileData"],[1,"fas","fa-circle-notch","fa-spin","fa-2x","text-danger"],[1,"fa","fa-trash","fa-2x","text-danger"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(0,SubmissionSectionUploadFileComponent_ng_container_0_Template,27,30,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,SubmissionSectionUploadFileComponent_ng_template_1_Template,18,12,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_12__.W1O)),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",ctx.fileData)},"SubmissionSectionUploadFileComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_18__.O5,_shared_file_download_link_themed_file_download_link_component__WEBPACK_IMPORTED_MODULE_9__.t,_view_section_upload_file_view_component__WEBPACK_IMPORTED_MODULE_10__.m,_angular_common__WEBPACK_IMPORTED_MODULE_18__.Ov,_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_11__.p,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.X$]})},28264:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>SubmissionSectionUploadFileViewComponent});var _shared_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59501),_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97559),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(65159),_accessConditions_submission_section_upload_access_conditions_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(95576),_shared_utils_truncate_pipe__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76185),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4330);function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"h5"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",entry_r5.value," ")}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_h5_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"h5")(1,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(4);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,2,"submission.sections.upload.no-entry")," ",ctx_r9.fileTitleKey,"")}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_h5_1_Template,4,4,"h5",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",0===ctx_r7.metadata[ctx_r7.fileTitleKey].indexOf(entry_r5))}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_1_Template,3,1,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_Template,2,1,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(3,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r5=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",""!==entry_r5.value),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",""===entry_r5.value)}}__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_1_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_h5_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_h5_1_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_ng_container_2_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_Template");const _c0=__name(function(){return["150"]},"_c0");function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"dsTruncate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r11=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.xi3(2,1,entry_r11.value,_angular_core__WEBPACK_IMPORTED_MODULE_3__.DdM(4,_c0))," ")}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_span_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(4);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,2,"submission.sections.upload.no-entry")," ",ctx_r15.fileDescrKey,"")}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_span_1_Template,3,4,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r11=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit,ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",0===ctx_r13.metadata[ctx_r13.fileDescrKey].indexOf(entry_r11))}}function SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_1_Template,3,5,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_Template,2,1,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(3,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const entry_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",""!==entry_r11.value),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",""===entry_r11.value)}}function SubmissionSectionUploadFileViewComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_1_Template,4,2,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_Template,4,2,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",ctx_r0.getAllMetadataValue(ctx_r0.fileTitleKey)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",ctx_r0.getAllMetadataValue(ctx_r0.fileDescrKey))}}__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_1_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_span_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_span_1_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_ng_container_2_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_ng_container_2_Template"),__name(SubmissionSectionUploadFileViewComponent_ng_container_1_Template,"SubmissionSectionUploadFileViewComponent_ng_container_1_Template");const _c1=__name(function(a0){return{format:a0}},"_c1");function SubmissionSectionUploadFileViewComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.xi3(2,1,"admin.registries.bitstream-formats.edit.head",_angular_core__WEBPACK_IMPORTED_MODULE_3__.VKq(4,_c1,ctx_r1.fileFormat))," ")}}function SubmissionSectionUploadFileViewComponent_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.AsE(" Checksum ",ctx_r2.fileCheckSum.checkSumAlgorithm,": ",ctx_r2.fileCheckSum.value," ")}}__name(SubmissionSectionUploadFileViewComponent_div_2_Template,"SubmissionSectionUploadFileViewComponent_div_2_Template"),__name(SubmissionSectionUploadFileViewComponent_div_3_Template,"SubmissionSectionUploadFileViewComponent_div_3_Template");class SubmissionSectionUploadFileViewComponent{constructor(){this.metadata=Object.create({}),this.fileTitleKey="Title",this.fileDescrKey="Description"}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.UE)(this.fileData.metadata)&&(this.metadata[this.fileTitleKey]=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.all(this.fileData.metadata,"dc.title"),this.metadata[this.fileDescrKey]=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.all(this.fileData.metadata,"dc.description")),this.fileCheckSum=this.fileData.checkSum,this.fileFormat=this.fileData.format.shortDescription}getAllMetadataValue(metadataKey){return _core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.all(this.metadata,metadataKey)}}__name(SubmissionSectionUploadFileViewComponent,"SubmissionSectionUploadFileViewComponent"),SubmissionSectionUploadFileViewComponent.\u0275fac=__name(function(t){return new(t||SubmissionSectionUploadFileViewComponent)},"SubmissionSectionUploadFileViewComponent_Factory"),SubmissionSectionUploadFileViewComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:SubmissionSectionUploadFileViewComponent,selectors:[["ds-submission-section-upload-file-view"]],inputs:{fileData:"fileData"},decls:6,vars:4,consts:[[4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"clearfix"],[3,"accessConditions"],[4,"ngFor","ngForOf"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[1,"mt-1"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,SubmissionSectionUploadFileViewComponent_ng_container_1_Template,3,2,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,SubmissionSectionUploadFileViewComponent_div_2_Template,3,6,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(3,SubmissionSectionUploadFileViewComponent_div_3_Template,2,2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(4,"span",2)(5,"ds-submission-section-upload-access-conditions",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.metadata),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.fileFormat),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.fileCheckSum),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("accessConditions",ctx.fileData.accessConditions))},"SubmissionSectionUploadFileViewComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_accessConditions_submission_section_upload_access_conditions_component__WEBPACK_IMPORTED_MODULE_1__.O,_shared_utils_truncate_pipe__WEBPACK_IMPORTED_MODULE_2__.W,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.X$],encapsulation:2})},35669:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B1:()=>POLICY_DEFAULT_WITH_LIST,vk:()=>SubmissionSectionUploadComponent});var _class,tslib__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(70655),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(86209),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(96846),_models_section_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21821),_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(59501),_section_upload_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10737),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(761),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16507),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14076),_core_config_submission_uploads_config_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(95239),_sections_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48142),_sections_decorator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74233),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(58409),_sections_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(21708),_submission_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(48416),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(58090),_core_shared_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(53829),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(17306);function SubmissionSectionUploadComponent_ng_container_1_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(1,"div",2)(2,"div",3)(3,"h3",4)(4,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(6,1,"submission.sections.upload.no-file-uploaded")))}__name(SubmissionSectionUploadComponent_ng_container_1_Template,"SubmissionSectionUploadComponent_ng_container_1_Template");const _c0=__name(function(a0){return{collectionName:a0}},"_c0");function SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.BQk()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_13__.xi3(2,1,"submission.sections.upload.header.policy.default.nolist",_angular_core__WEBPACK_IMPORTED_MODULE_13__.VKq(4,_c0,ctx_r4.collectionName))," ")}}function SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.BQk()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_13__.xi3(2,1,"submission.sections.upload.header.policy.default.withlist",_angular_core__WEBPACK_IMPORTED_MODULE_13__.VKq(4,_c0,ctx_r5.collectionName))," ")}}function SubmissionSectionUploadComponent_ng_container_2_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",2)(1,"div",8)(2,"ds-alert",9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(3,SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_3_Template,3,6,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(4,SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_4_Template,3,6,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__._UZ(5,"span",10)(6,"ds-submission-section-upload-access-conditions",11),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("type",ctx_r2.AlertTypeEnum.Warning),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",1===ctx_r2.collectionPolicyType),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",2===ctx_r2.collectionPolicyType),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("accessConditions",ctx_r2.collectionDefaultAccessConditions)}}function SubmissionSectionUploadComponent_ng_container_2_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_13__._UZ(1,"ds-themed-submission-upload-section-file",12),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(3,"div",2)(4,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_13__._UZ(5,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.BQk()),2&rf){const fileEntry_r6=ctx.$implicit,ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("availableAccessConditionOptions",ctx_r3.availableAccessConditionOptions)("collectionId",ctx_r3.collectionId)("collectionPolicyType",ctx_r3.collectionPolicyType)("configMetadataForm",_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(2,9,ctx_r3.configMetadataForm$))("fileId",ctx_r3.fileIndexes[ctx_r3.fileList.indexOf(fileEntry_r6)])("fileIndex",ctx_r3.fileList.indexOf(fileEntry_r6))("fileName",ctx_r3.fileNames[ctx_r3.fileList.indexOf(fileEntry_r6)])("sectionId",ctx_r3.sectionData.id)("submissionId",ctx_r3.submissionId)}}function SubmissionSectionUploadComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(1,SubmissionSectionUploadComponent_ng_container_2_div_1_Template,7,4,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(2,SubmissionSectionUploadComponent_ng_container_2_ng_container_2_Template,6,11,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx_r1.collectionDefaultAccessConditions.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngForOf",ctx_r1.fileList)}}__name(SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_3_Template,"SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_3_Template"),__name(SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_4_Template,"SubmissionSectionUploadComponent_ng_container_2_div_1_ng_container_4_Template"),__name(SubmissionSectionUploadComponent_ng_container_2_div_1_Template,"SubmissionSectionUploadComponent_ng_container_2_div_1_Template"),__name(SubmissionSectionUploadComponent_ng_container_2_ng_container_2_Template,"SubmissionSectionUploadComponent_ng_container_2_ng_container_2_Template"),__name(SubmissionSectionUploadComponent_ng_container_2_Template,"SubmissionSectionUploadComponent_ng_container_2_Template");const POLICY_DEFAULT_WITH_LIST=2;let SubmissionSectionUploadComponent=((_class=__name(class extends _models_section_model__WEBPACK_IMPORTED_MODULE_0__.v{constructor(bitstreamService,changeDetectorRef,collectionDataService,groupService,resourcePolicyService,sectionService,submissionService,uploadsConfigService,dsoNameService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.bitstreamService=bitstreamService,this.changeDetectorRef=changeDetectorRef,this.collectionDataService=collectionDataService,this.groupService=groupService,this.resourcePolicyService=resourcePolicyService,this.sectionService=sectionService,this.submissionService=submissionService,this.uploadsConfigService=uploadsConfigService,this.dsoNameService=dsoNameService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_8__.N,this.fileIndexes=[],this.fileList=[],this.fileNames=[],this.collectionDefaultAccessConditions=[],this.required$=new rxjs__WEBPACK_IMPORTED_MODULE_14__.BehaviorSubject(!0),this.subs=[]}onSectionInit(){const config$=this.uploadsConfigService.findByHref(this.sectionData.config,!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_15__.l)("metadata")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_11__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.UI)(config=>config.payload));this.configMetadataForm$=config$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.wt)(config=>config.metadata.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_11__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.UI)(remoteData=>remoteData.payload)))),this.subs.push(this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.hX)(submissionObject=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.pT)(submissionObject)&&!submissionObject.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.hX)(submissionObject=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.o8)(this.collectionId)||this.collectionId!==submissionObject.collection),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.bw)(submissionObject=>this.collectionId=submissionObject.collection),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.zg)(submissionObject=>this.collectionDataService.findById(submissionObject.collection)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.hX)(rd=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.pT)(rd.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.bw)(collectionRemoteData=>this.collectionName=this.dsoNameService.getName(collectionRemoteData.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.zg)(()=>config$)).subscribe(config=>{this.required$.next(config.required),this.availableAccessConditionOptions=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.UE)(config.accessConditionOptions)?config.accessConditionOptions:[],this.collectionPolicyType=this.availableAccessConditionOptions.length>0?POLICY_DEFAULT_WITH_LIST:1,this.changeDetectorRef.detectChanges()}),(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)(this.configMetadataForm$,this.bitstreamService.getUploadedFileList(this.submissionId,this.sectionData.id)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.hX)(([configMetadataForm,fileList])=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.UE)(configMetadataForm)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.pT)(fileList)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.xb)()).subscribe(([configMetadataForm,fileList])=>{this.fileList=[],this.fileIndexes=[],this.fileNames=[],this.changeDetectorRef.detectChanges(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.pT)(fileList)&&fileList.length>0&&fileList.forEach(file=>{this.fileList.push(file),this.fileIndexes.push(file.uuid),this.fileNames.push(this.getFileName(configMetadataForm,file))}),this.changeDetectorRef.detectChanges()}))}getFileName(configMetadataForm,fileData){const metadataName=configMetadataForm.rows[0].fields[0].selectableMetadata[0].metadata;let title;return title=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.UE)(fileData.metadata)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.UE)(fileData.metadata[metadataName])?fileData.metadata[metadataName][0].display:fileData.uuid,title}getSectionStatus(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)(this.required$,this.bitstreamService.getUploadedFileList(this.submissionId,this.sectionData.id),(required,fileList)=>!required||(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.pT)(fileList)&&fileList.length>0)}onSectionDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}},"SubmissionSectionUploadComponent")).\u0275fac=__name(function(t){return new(t||_class)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_section_upload_service__WEBPACK_IMPORTED_MODULE_1__.K),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_13__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_2__.W),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__.O),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_4__.I),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_sections_service__WEBPACK_IMPORTED_MODULE_9__.J),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_10__.b),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_config_submission_uploads_config_data_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_12__._),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36("sectionDataProvider"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36("submissionIdProvider"))},"SubmissionSectionUploadComponent_Factory"),_class.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_13__.Xpm({type:_class,selectors:[["ds-submission-section-upload"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_13__.qOj],decls:3,vars:5,consts:[[3,"content","dismissible","type"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"text-center"],[1,"text-muted"],["class","row",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12"],[3,"type"],[1,"clearfix"],[3,"accessConditions"],[3,"availableAccessConditionOptions","collectionId","collectionPolicyType","configMetadataForm","fileId","fileIndex","fileName","sectionId","submissionId"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__._UZ(0,"ds-alert",0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(1,SubmissionSectionUploadComponent_ng_container_1_Template,7,3,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(2,SubmissionSectionUploadComponent_ng_container_2_Template,3,2,"ng-container",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("content","submission.sections.upload.info")("dismissible",!0)("type",ctx.AlertTypeEnum.Info),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",0==ctx.fileList.length),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.fileList.length>0))},"SubmissionSectionUploadComponent_Template")}),_class);SubmissionSectionUploadComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([(0,_sections_decorator__WEBPACK_IMPORTED_MODULE_7__.E)(_sections_type__WEBPACK_IMPORTED_MODULE_6__.i.Upload),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__metadata)("design:paramtypes",[_section_upload_service__WEBPACK_IMPORTED_MODULE_1__.K,_angular_core__WEBPACK_IMPORTED_MODULE_13__.sBO,_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_2__.W,_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__.O,_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_4__.I,_sections_service__WEBPACK_IMPORTED_MODULE_9__.J,_submission_service__WEBPACK_IMPORTED_MODULE_10__.b,_core_config_submission_uploads_config_data_service__WEBPACK_IMPORTED_MODULE_5__.w,_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_12__._,Object,String])],SubmissionSectionUploadComponent)},10737:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>SectionUploadService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96846),_objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57543),_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43863),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59501),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60857);class SectionUploadService{constructor(store){this.store=store}getUploadedFileList(submissionId,sectionId){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_1__.y8)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(state=>state),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.xb)())}getFileData(submissionId,sectionId,fileUUID){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_1__.y8)(submissionId,sectionId)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.hX)(state=>!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.o8)(state)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(state=>{let fileState;return Object.keys(state).filter(key=>state[key].uuid===fileUUID).forEach(key=>fileState=state[key]),fileState}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.xb)())}getDefaultPolicies(submissionId,sectionId,fileUUID){return this.store.select((0,_selectors__WEBPACK_IMPORTED_MODULE_1__.G)(submissionId,sectionId,fileUUID)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(state=>state),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.xb)())}addUploadedFile(submissionId,sectionId,fileUUID,data){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_0__.l5(submissionId,sectionId,fileUUID,data))}updateFileData(submissionId,sectionId,fileUUID,data){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_0__.GM(submissionId,sectionId,fileUUID,data))}removeUploadedFile(submissionId,sectionId,fileUUID){this.store.dispatch(new _objects_submission_objects_actions__WEBPACK_IMPORTED_MODULE_0__.YU(submissionId,sectionId,fileUUID))}}__name(SectionUploadService,"SectionUploadService"),SectionUploadService.\u0275fac=__name(function(t){return new(t||SectionUploadService)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.yh))},"SectionUploadService_Factory"),SectionUploadService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:SectionUploadService,factory:SectionUploadService.\u0275fac})},68457:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>SubmissionModule});var core_module=__webpack_require__(3924),shared_module=__webpack_require__(47013),tslib_es6=__webpack_require__(70655),core=__webpack_require__(86209),cjs=__webpack_require__(93489),operators=__webpack_require__(96846),ngx_translate_core=__webpack_require__(4330),findIndex=__webpack_require__(56242),findIndex_default=__webpack_require__.n(findIndex),isEqual=__webpack_require__(86436),isEqual_default=__webpack_require__.n(isEqual),form_builder_service=__webpack_require__(88286),form_component=__webpack_require__(23593),form_service=__webpack_require__(39975),section_model=__webpack_require__(21821),submission_forms_config_data_service=__webpack_require__(92685),empty_util=__webpack_require__(59501),json_patch_operation_path_combiner=__webpack_require__(95414);class FormFieldPreviousValueObject{constructor(path=null,value=null){this._path=path,this._value=value}get path(){return this._path}set path(path){this._path=path}get value(){return this._value}set value(value){this._value=value}delete(){this._value=null,this._path=null}isPathEqual(path){return this._path&&isEqual_default()(this._path,path)}}__name(FormFieldPreviousValueObject,"FormFieldPreviousValueObject");var sections_decorator=__webpack_require__(74233),sections_type=__webpack_require__(48142),submission_service=__webpack_require__(48416),isObject=__webpack_require__(83650),isObject_default=__webpack_require__.n(isObject),fesm2020_core=__webpack_require__(49417),json_patch_operations_builder=__webpack_require__(33913),form_field_language_value_model=__webpack_require__(80197),vocabulary_entry_model=__webpack_require__(32154),form_field_metadata_value_model=__webpack_require__(74910),vocabulary_entry_detail_model=__webpack_require__(10741),fast_json_patch=__webpack_require__(75626),date_util=__webpack_require__(66655);class SectionFormOperationsService{constructor(formBuilder,operationsBuilder){this.formBuilder=formBuilder,this.operationsBuilder=operationsBuilder}dispatchOperationsFromEvent(pathCombiner,event2,previousValue,hasStoredValue){switch(event2.type){case"remove":this.dispatchOperationsFromRemoveEvent(pathCombiner,event2,previousValue);break;case"change":this.dispatchOperationsFromChangeEvent(pathCombiner,event2,previousValue,hasStoredValue);break;case"move":this.dispatchOperationsFromMoveEvent(pathCombiner,event2,previousValue)}}getArrayIndexFromEvent(event2){let fieldIndex;return(0,empty_util.UE)(event2)&&((0,fesm2020_core.Gp8)(event2)?(0,empty_util.Ft)(event2.context)?this.isPartOfArrayOfGroup(event2.model)&&(fieldIndex=event2.model.parent.parent.index):fieldIndex=event2.context.index:fieldIndex=event2.index),(0,empty_util.pT)(fieldIndex)?fieldIndex:0}isPartOfArrayOfGroup(model){return(0,empty_util.K0)(model.parent)&&model.parent.type===fesm2020_core.Qam&&model.parent.parent&&model.parent.parent.context&&model.parent.parent.context.type===fesm2020_core.i9b}getQualdropValueMap(event2){const metadataValueMap=new Map;return(this.formBuilder.isQualdropGroup(event2.model)?event2.model.parent.context:event2.model.parent.parent.context).groups.forEach(arrayModel=>{const groupModel=arrayModel.group[0],metadataValueList=metadataValueMap.get(groupModel.qualdropId)?metadataValueMap.get(groupModel.qualdropId):[];groupModel.value&&(metadataValueList.push(groupModel.value),metadataValueMap.set(groupModel.qualdropId,metadataValueList))}),metadataValueMap}getFieldPathFromEvent(event2){const fieldIndex=this.getArrayIndexFromEvent(event2),fieldId=this.getFieldPathSegmentedFromChangeEvent(event2);return(0,empty_util.pT)(fieldIndex)?fieldId+"/"+fieldIndex:fieldId}getQualdropItemPathFromEvent(event2){const fieldIndex=this.getArrayIndexFromEvent(event2),metadataValueMap=new Map;let path=null;return(this.formBuilder.isQualdropGroup(event2.model)?event2.model.parent.context:event2.model.parent.parent.context).groups.forEach((arrayModel,index)=>{const groupModel=arrayModel.group[0],metadataValueList=metadataValueMap.get(groupModel.qualdropId)?metadataValueMap.get(groupModel.qualdropId):[];groupModel.value&&(metadataValueList.push(groupModel.value),metadataValueMap.set(groupModel.qualdropId,metadataValueList)),index===fieldIndex&&(path=groupModel.qualdropId+"/"+(metadataValueList.length-1))}),path}getFieldPathSegmentedFromChangeEvent(event2){let fieldId;return fieldId=this.formBuilder.isQualdropGroup(event2.model)?event2.model.qualdropId:this.formBuilder.isQualdropGroup(event2.model.parent)?event2.model.parent.qualdropId:this.formBuilder.getId(event2.model),fieldId}getFieldValueFromChangeEvent(event2){let fieldValue;const value=event2.model.value;if(this.formBuilder.isModelInCustomGroup(event2.model))fieldValue=event2.model.parent.value;else if(this.formBuilder.isRelationGroup(event2.model))fieldValue=event2.model.getGroupValue();else if(event2.model.hasLanguages){const language=event2.model.language;event2.model.hasAuthority?Array.isArray(value)?(value.forEach((authority,index)=>{authority=Object.assign(new vocabulary_entry_model.j,authority,{language}),value[index]=authority}),fieldValue=value):fieldValue=Object.assign(new vocabulary_entry_model.j,value,{language}):fieldValue=new form_field_metadata_value_model.u(value,language)}else fieldValue=(0,date_util.UV)(value)?new form_field_metadata_value_model.u((0,date_util.UW)(value)):value instanceof form_field_language_value_model.Z||value instanceof vocabulary_entry_model.j||value instanceof vocabulary_entry_detail_model.w||isObject_default()(value)?value:new form_field_metadata_value_model.u(value);return fieldValue}getValueMap(items){const metadataValueMap=new Map;return items.forEach(item=>{Object.keys(item).forEach(key=>{const metadataValueList=metadataValueMap.get(key)?metadataValueMap.get(key):[];metadataValueList.push(item[key]),metadataValueMap.set(key,metadataValueList)})}),metadataValueMap}dispatchOperationsFromRemoveEvent(pathCombiner,event2,previousValue){const path=this.getFieldPathFromEvent(event2),value=this.getFieldValueFromChangeEvent(event2);this.formBuilder.isQualdropGroup(event2.model)?this.dispatchOperationsFromMap(this.getQualdropValueMap(event2),pathCombiner,event2,previousValue):event2.context&&event2.context instanceof fesm2020_core.NJD?this.handleArrayGroupPatch(pathCombiner,event2,event2.context.context,previousValue):((0,empty_util.UE)(value)&&"string"==typeof value||(0,empty_util.UE)(value)&&value instanceof form_field_metadata_value_model.u&&value.hasValue())&&this.operationsBuilder.remove(pathCombiner.getPath(path))}dispatchOperationsFromAddEvent(pathCombiner,event2){const path=this.getFieldPathSegmentedFromChangeEvent(event2),value=(0,fast_json_patch.I8)(this.getFieldValueFromChangeEvent(event2));(0,empty_util.UE)(value)&&(value.place=this.getArrayIndexFromEvent(event2),(0,empty_util.Uh)(event2.group)&&(0,empty_util.Uh)(event2.group.value)&&(1===event2.group.value.map(g=>Object.values(g)).reduce((accumulator,currentValue)=>accumulator.concat(currentValue)).filter(v=>(0,empty_util.UE)(v)).length?this.operationsBuilder.add(pathCombiner.getPath([path]),[value],!1):this.operationsBuilder.add(pathCombiner.getPath([path,"-"]),value,!1)))}dispatchOperationsFromChangeEvent(pathCombiner,event2,previousValue,hasStoredValue){if(event2.context&&event2.context instanceof fesm2020_core.NJD)return void this.handleArrayGroupPatch(pathCombiner,event2,event2.context.context,previousValue);const path=this.getFieldPathFromEvent(event2),segmentedPath=this.getFieldPathSegmentedFromChangeEvent(event2),value=this.getFieldValueFromChangeEvent(event2);if(this.formBuilder.isQualdropGroup(event2.model.parent)||this.formBuilder.isQualdropGroup(event2.model))this.dispatchOperationsFromMap(this.getQualdropValueMap(event2),pathCombiner,event2,previousValue);else if(this.formBuilder.isRelationGroup(event2.model))this.dispatchOperationsFromMap(this.getValueMap(value),pathCombiner,event2,previousValue);else if(this.formBuilder.hasArrayGroupValue(event2.model))this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0);else if(previousValue.isPathEqual(this.formBuilder.getPath(event2.model))||hasStoredValue&&(0,empty_util.UE)(previousValue.value)){if((0,empty_util.Uh)(event2.$event)&&(0,empty_util.Uh)(event2.$event.previousIndex))if(event2.$event.previousIndex<0)this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0);else{const moveTo=pathCombiner.getPath(path),moveFrom=pathCombiner.getPath(segmentedPath+"/"+event2.$event.previousIndex);(0,empty_util.UE)(moveFrom.path)&&(0,empty_util.UE)(moveTo.path)&&moveFrom.path!==moveTo.path&&this.operationsBuilder.move(moveTo,moveFrom.path)}else value.hasValue()?this.operationsBuilder.replace(pathCombiner.getPath(path),value):0===this.getArrayIndexFromEvent(event2)?this.operationsBuilder.remove(pathCombiner.getPath(segmentedPath)):this.operationsBuilder.remove(pathCombiner.getPath(path));previousValue.delete()}else value.hasValue()&&((0,empty_util.o8)(this.getArrayIndexFromEvent(event2))||0===this.getArrayIndexFromEvent(event2)?this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),value,!0):this.operationsBuilder.add(pathCombiner.getPath(path),value))}dispatchOperationsFromMap(valueMap,pathCombiner,event2,previousValue){const currentValueMap=valueMap;if("remove"===event2.type){const path=this.getQualdropItemPathFromEvent(event2);this.operationsBuilder.remove(pathCombiner.getPath(path))}else previousValue.isPathEqual(this.formBuilder.getPath(event2.model))&&previousValue.value.forEach((entry,index)=>{const currentValue=currentValueMap.get(index);currentValue?(isEqual_default()(entry,currentValue)||this.operationsBuilder.add(pathCombiner.getPath(index),currentValue,!0),currentValueMap.delete(index)):currentValue||this.operationsBuilder.remove(pathCombiner.getPath(index))}),currentValueMap.forEach((entry,index)=>{1===entry.length&&(0,empty_util.Ft)(entry[0])?this.operationsBuilder.remove(pathCombiner.getPath(index)):this.operationsBuilder.add(pathCombiner.getPath(index),entry,!0)});previousValue.delete()}dispatchOperationsFromMoveEvent(pathCombiner,event2,previousValue){return this.handleArrayGroupPatch(pathCombiner,event2.$event,event2.$event.arrayModel,previousValue)}handleArrayGroupPatch(pathCombiner,event2,model,previousValue){const arrayValue=this.formBuilder.getValueFromModel([model]),segmentedPath=this.getFieldPathSegmentedFromChangeEvent(event2);(0,empty_util.UE)(arrayValue)?this.operationsBuilder.add(pathCombiner.getPath(segmentedPath),arrayValue[segmentedPath],!1):previousValue.isPathEqual(this.formBuilder.getPath(event2.model))&&this.operationsBuilder.remove(pathCombiner.getPath(segmentedPath))}}__name(SectionFormOperationsService,"SectionFormOperationsService"),SectionFormOperationsService.\u0275fac=__name(function(t){return new(t||SectionFormOperationsService)(core.LFG(form_builder_service.c),core.LFG(json_patch_operations_builder.w))},"SectionFormOperationsService_Factory"),SectionFormOperationsService.\u0275prov=core.Yz7({token:SectionFormOperationsService,factory:SectionFormOperationsService.\u0275fac});var _class,notifications_service=__webpack_require__(39373),sections_service=__webpack_require__(21708),object_util=__webpack_require__(11765),workspaceitem_model=__webpack_require__(55133),shared_operators=__webpack_require__(53829),submission_object_data_service=__webpack_require__(57798),object_cache_service=__webpack_require__(54174),request_service=__webpack_require__(91751),follow_link_config_model=__webpack_require__(58090),environment=__webpack_require__(91602),submission_scope_type=__webpack_require__(21617),workflowitem_model=__webpack_require__(82862),common=__webpack_require__(65159),themed_loading_component=__webpack_require__(24442);const _c0=["formRef"];function SubmissionSectionFormComponent_ds_themed_loading_0_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",2)}function SubmissionSectionFormComponent_ds_form_1_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"ds-form",3,4),core.NdJ("dfChange",__name(function($event){core.CHM(_r4);const ctx_r3=core.oxw();return core.KtG(ctx_r3.onChange($event))},"SubmissionSectionFormComponent_ds_form_1_Template_ds_form_dfChange_0_listener"))("dfFocus",__name(function($event){core.CHM(_r4);const ctx_r5=core.oxw();return core.KtG(ctx_r5.onFocus($event))},"SubmissionSectionFormComponent_ds_form_1_Template_ds_form_dfFocus_0_listener"))("remove",__name(function($event){core.CHM(_r4);const ctx_r6=core.oxw();return core.KtG(ctx_r6.onRemove($event))},"SubmissionSectionFormComponent_ds_form_1_Template_ds_form_remove_0_listener"))("ngbEvent",__name(function($event){core.CHM(_r4);const ctx_r7=core.oxw();return core.KtG(ctx_r7.onCustomEvent($event))},"SubmissionSectionFormComponent_ds_form_1_Template_ds_form_ngbEvent_0_listener"))("removeArrayItem",__name(function($event){core.CHM(_r4);const ctx_r8=core.oxw();return core.KtG(ctx_r8.onRemove($event))},"SubmissionSectionFormComponent_ds_form_1_Template_ds_form_removeArrayItem_0_listener")),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.Q6J("formId",ctx_r1.formId)("formModel",ctx_r1.formModel)("displaySubmit",!1)("displayCancel",!1)}}__name(SubmissionSectionFormComponent_ds_themed_loading_0_Template,"SubmissionSectionFormComponent_ds_themed_loading_0_Template"),__name(SubmissionSectionFormComponent_ds_form_1_Template,"SubmissionSectionFormComponent_ds_form_1_Template");let SubmissionSectionFormComponent=((_class=__name(class extends section_model.v{constructor(cdr,formBuilderService,formOperationsService,formService,formConfigService,notificationsService,sectionService,submissionService,translate,submissionObjectService,objectCache,requestService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.cdr=cdr,this.formBuilderService=formBuilderService,this.formOperationsService=formOperationsService,this.formService=formService,this.formConfigService=formConfigService,this.notificationsService=notificationsService,this.sectionService=sectionService,this.submissionService=submissionService,this.translate=translate,this.submissionObjectService=submissionObjectService,this.objectCache=objectCache,this.requestService=requestService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.isUpdating=!1,this.isLoading=!0,this.fieldsOnTheirWayToBeRemoved=new Map,this.formData=Object.create({}),this.previousValue=new FormFieldPreviousValueObject,this.subs=[],this.isSectionReadonly=!1}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.K("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id),this.sectionService.dispatchSetSectionFormId(this.submissionId,this.sectionData.id,this.formId),this.formConfigService.findByHref(this.sectionData.config).pipe((0,operators.UI)(configData=>configData.payload),(0,operators.bw)(config=>this.formConfig=config),(0,operators.zg)(()=>(0,cjs.combineLatest)([this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType),this.submissionObjectService.findById(this.submissionId,!0,!1,(0,follow_link_config_model.l)("item")).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()),this.sectionService.isSectionReadOnly(this.submissionId,this.sectionData.id,this.submissionService.getSubmissionScope())])),(0,operators.qn)(1)).subscribe(([sectionData,submissionObject,isSectionReadOnly])=>{(0,empty_util.o8)(this.formModel)&&(this.submissionObject=submissionObject,this.isSectionReadonly=isSectionReadOnly,this.initForm(sectionData),this.sectionData.data=sectionData,this.subscriptions(),this.isLoading=!1,this.cdr.detectChanges())})}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}getSectionStatus(){const formStatus$=this.formService.isValid(this.formId),serverValidationStatus$=this.sectionService.getSectionServerErrors(this.submissionId,this.sectionData.id).pipe((0,operators.UI)(validationErrors=>(0,empty_util.xb)(validationErrors)));return(0,cjs.combineLatest)([formStatus$,serverValidationStatus$]).pipe((0,operators.UI)(([formValidation,serverSideValidation])=>formValidation&&serverSideValidation))}hasMetadataEnrichment(sectionData){const sectionDataToCheck={};Object.keys(sectionData).forEach(key=>{this.inCurrentSubmissionScope(key)&&(sectionDataToCheck[key]=sectionData[key])});const diffResult=[],diffObj=(0,object_util.e5)(sectionDataToCheck,this.formData);return Object.keys(diffObj).forEach(key=>{diffObj[key].forEach(value=>{value.hasOwnProperty("value")&&findIndex_default()(this.formData[key],{value:value.value})<0&&diffResult.push(value)})}),(0,empty_util.UE)(diffResult)}inCurrentSubmissionScope(field){switch(this.formConfig?.rows.find(row=>row.fields?.[0]?.selectableMetadata?row.fields?.[0]?.selectableMetadata?.[0]?.metadata===field:!!row.fields?.[0]?.selectableRelationship&&row.fields?.[0]?.selectableRelationship.relationshipType===field.replace(/^relationship\./g,""))?.fields?.[0]?.scope){case submission_scope_type.S.WorkspaceItem:return this.submissionObject.type===workspaceitem_model.K.type.value;case submission_scope_type.S.WorkflowItem:return this.submissionObject.type===workflowitem_model.p.type.value;default:return!0}}initForm(sectionData){try{this.formModel=this.formBuilderService.modelFromConfiguration(this.submissionId,this.formConfig,this.collectionId,sectionData,this.submissionService.getSubmissionScope(),this.isSectionReadonly);const sectionMetadata=this.sectionService.computeSectionConfiguredMetadata(this.formConfig);this.sectionService.updateSectionData(this.submissionId,this.sectionData.id,sectionData,this.sectionData.errorsToShow,this.sectionData.serverValidationErrors,sectionMetadata)}catch(e){const sectionError={message:this.translate.instant("error.submission.sections.init-form-error")+e.toString(),path:"/sections/"+this.sectionData.id};console.error(e.stack),this.sectionService.setSectionError(this.submissionId,this.sectionData.id,sectionError)}}updateForm(sectionData,errors){(0,empty_util.UE)(sectionData)&&!isEqual_default()(sectionData,this.sectionData.data)?(this.sectionData.data=sectionData,this.hasMetadataEnrichment(sectionData)?(this.isUpdating=!0,this.formModel=null,this.cdr.detectChanges(),this.initForm(sectionData),this.checksForErrors(errors),this.isUpdating=!1,this.cdr.detectChanges()):((0,empty_util.UE)(errors)||(0,empty_util.UE)(this.sectionData.errorsToShow))&&this.checksForErrors(errors)):((0,empty_util.UE)(errors)||(0,empty_util.UE)(this.sectionData.errorsToShow))&&this.checksForErrors(errors)}checksForErrors(errors){this.formService.isFormInitialized(this.formId).pipe((0,operators.sE)(status=>!0===status&&!this.isUpdating)).subscribe(()=>{this.sectionService.checkSectionErrors(this.submissionId,this.sectionData.id,this.formId,errors,this.sectionData.errorsToShow),this.sectionData.errorsToShow=errors,this.cdr.detectChanges()})}subscriptions(){this.subs.push(this.formService.getFormData(this.formId).pipe((0,operators.xb)()).subscribe(formData=>{this.formData=formData}),this.sectionService.getSectionState(this.submissionId,this.sectionData.id,this.sectionData.sectionType).pipe((0,operators.hX)(sectionState=>(0,empty_util.UE)(sectionState)&&((0,empty_util.UE)(sectionState.data)||(0,empty_util.UE)(sectionState.errorsToShow))),(0,operators.xb)()).subscribe(sectionState=>{this.fieldsOnTheirWayToBeRemoved=new Map,this.sectionMetadata=sectionState.metadata,this.updateForm(sectionState.data,sectionState.errorsToShow)}))}onChange(event2){this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event2,this.previousValue,this.hasStoredValue(this.formBuilderService.getId(event2.model),this.formOperationsService.getArrayIndexFromEvent(event2)));const metadata=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event2),value=this.formOperationsService.getFieldValueFromChangeEvent(event2);(-1!==environment.N.submission.autosave.metadata.indexOf(metadata)&&(0,empty_util.UE)(value)||this.hasRelatedCustomError(metadata))&&this.submissionService.dispatchSave(this.submissionId)}hasRelatedCustomError(medatata){const index=findIndex_default()(this.sectionData.errorsToShow,{path:this.pathCombiner.getPath(medatata).path});if(-1!==index){const validator=this.sectionData.errorsToShow[index].message.replace("error.validation.","");return!environment.N.form.validatorMap.hasOwnProperty(validator)}return!1}onFocus(event2){const value=this.formOperationsService.getFieldValueFromChangeEvent(event2),path=this.formBuilderService.getPath(event2.model);this.formBuilderService.hasMappedGroupValue(event2.model)?(this.previousValue.path=path,this.previousValue.value=this.formOperationsService.getQualdropValueMap(event2)):(0,empty_util.UE)(value)&&("object"==typeof value&&(0,empty_util.UE)(value.value)||"string"==typeof value)&&(this.previousValue.path=path,this.previousValue.value=value)}onRemove(event2){const fieldId=this.formBuilderService.getId(event2.model),fieldIndex=this.formOperationsService.getArrayIndexFromEvent(event2);if(this.fieldsOnTheirWayToBeRemoved.has(fieldId)){const indexes=this.fieldsOnTheirWayToBeRemoved.get(fieldId);indexes.push(fieldIndex),this.fieldsOnTheirWayToBeRemoved.set(fieldId,indexes)}else this.fieldsOnTheirWayToBeRemoved.set(fieldId,[fieldIndex]);this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event2,this.previousValue,this.hasStoredValue(fieldId,fieldIndex))}hasStoredValue(fieldId,index){return!!(0,empty_util.UE)(this.sectionData.data)&&(this.sectionData.data.hasOwnProperty(fieldId)&&(0,empty_util.UE)(this.sectionData.data[fieldId][index])&&!this.isFieldToRemove(fieldId,index))}isFieldToRemove(fieldId,index){return this.fieldsOnTheirWayToBeRemoved.has(fieldId)&&this.fieldsOnTheirWayToBeRemoved.get(fieldId).includes(index)}onCustomEvent(event2){this.formOperationsService.dispatchOperationsFromEvent(this.pathCombiner,event2,this.previousValue,null)}},"SubmissionSectionFormComponent")).\u0275fac=__name(function(t){return new(t||_class)(core.Y36(core.sBO),core.Y36(form_builder_service.c),core.Y36(SectionFormOperationsService),core.Y36(form_service.o),core.Y36(submission_forms_config_data_service.X),core.Y36(notifications_service.T),core.Y36(sections_service.J),core.Y36(submission_service.b),core.Y36(ngx_translate_core.sK),core.Y36(submission_object_data_service.O),core.Y36(object_cache_service.a),core.Y36(request_service.s),core.Y36("collectionIdProvider"),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionFormComponent_Factory"),_class.\u0275cmp=core.Xpm({type:_class,selectors:[["ds-submission-section-form"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"SubmissionSectionFormComponent_Query"),features:[core.qOj],decls:2,vars:2,consts:[["message","Loading...",4,"ngIf"],[3,"formId","formModel","displaySubmit","displayCancel","dfChange","dfFocus","remove","ngbEvent","removeArrayItem",4,"ngIf"],["message","Loading..."],[3,"formId","formModel","displaySubmit","displayCancel","dfChange","dfFocus","remove","ngbEvent","removeArrayItem"],["formRef","formComponent"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SubmissionSectionFormComponent_ds_themed_loading_0_Template,1,0,"ds-themed-loading",0),core.YNc(1,SubmissionSectionFormComponent_ds_form_1_Template,2,4,"ds-form",1)),2&rf&&(core.Q6J("ngIf",ctx.isLoading),core.xp6(1),core.Q6J("ngIf",!ctx.isLoading&&ctx.formModel))},"SubmissionSectionFormComponent_Template"),dependencies:[common.O5,themed_loading_component.Z,form_component.U]}),_class);SubmissionSectionFormComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.SubmissionForm),(0,tslib_es6.__metadata)("design:paramtypes",[core.sBO,form_builder_service.c,SectionFormOperationsService,form_service.o,submission_forms_config_data_service.X,notifications_service.T,sections_service.J,submission_service.b,ngx_translate_core.sK,submission_object_data_service.O,object_cache_service.a,request_service.s,String,Object,String])],SubmissionSectionFormComponent);var sections_directive=__webpack_require__(43449),submission_form_collection_component=__webpack_require__(96610),submission_form_footer_component=__webpack_require__(90945),submission_form_component=__webpack_require__(47260),submission_form_section_add_component=__webpack_require__(3851),section_container_component=__webpack_require__(22975),ngrx_store=__webpack_require__(60857),ngrx_effects=__webpack_require__(56880),submission_reducers=__webpack_require__(18648),findKey=__webpack_require__(35782),findKey_default=__webpack_require__.n(findKey),union=__webpack_require__(14363),union_default=__webpack_require__.n(union),submission_json_patch_operations_service=__webpack_require__(73275),parseSectionErrors=__webpack_require__(24884),submission_objects_actions=__webpack_require__(57543),parseSectionErrorPaths=__webpack_require__(48581);class SubmissionObjectEffects{constructor(actions$,notificationsService,operationsService,sectionService,store$,submissionService,submissionObjectService,translate){this.actions$=actions$,this.notificationsService=notificationsService,this.operationsService=operationsService,this.sectionService=sectionService,this.store$=store$,this.submissionService=submissionService,this.submissionObjectService=submissionObjectService,this.translate=translate,this.loadForm$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.INIT_SUBMISSION_FORM),(0,operators.UI)(action=>{const definition=action.payload.submissionDefinition,mappedActions=[];return definition.sections.page.forEach(sectionDefinition=>{const selfLink=sectionDefinition._links.self.href||sectionDefinition._links.self,sectionId=selfLink.substr(selfLink.lastIndexOf("/")+1),config=sectionDefinition._links.config?sectionDefinition._links.config.href||sectionDefinition._links.config:"",enabled=sectionDefinition.mandatory||(0,empty_util.UE)(action.payload.sections)&&action.payload.sections.hasOwnProperty(sectionId);let sectionData;sectionData=sectionDefinition.sectionType!==sections_type.i.SubmissionForm?(0,empty_util.pT)(action.payload.sections)&&(0,empty_util.pT)(action.payload.sections[sectionId])?action.payload.sections[sectionId]:Object.create(null):action.payload.item.metadata;const sectionErrors=(0,empty_util.UE)(action.payload.errors)&&action.payload.errors[sectionId]||null;mappedActions.push(new submission_objects_actions.qK(action.payload.submissionId,sectionId,sectionDefinition.header,config,sectionDefinition.mandatory,sectionDefinition.sectionType,sectionDefinition.visibility,enabled,sectionData,sectionErrors))}),{action,definition,mappedActions}}),(0,operators.zg)(result=>(0,cjs.from)(result.mappedActions.concat(new submission_objects_actions.p3(result.action.payload.submissionId)))))),this.resetForm$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.RESET_SUBMISSION_FORM),(0,operators.UI)(action=>new submission_objects_actions.Xq(action.payload.collectionId,action.payload.submissionId,action.payload.selfUrl,action.payload.submissionDefinition,action.payload.sections,action.payload.item,null)))),this.saveSubmission$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_SUBMISSION_FORM),(0,operators.wt)(action=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),action.payload.submissionId,"sections").pipe((0,operators.UI)(response=>new submission_objects_actions.Uq(action.payload.submissionId,response,action.payload.isManual,action.payload.isManual)),(0,operators.KQ)(()=>(0,cjs.of)(new submission_objects_actions.ec(action.payload.submissionId))))))),this.saveForLaterSubmission$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_FOR_LATER_SUBMISSION_FORM),(0,operators.wt)(action=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),action.payload.submissionId,"sections").pipe((0,operators.UI)(response=>new submission_objects_actions.gA(action.payload.submissionId,response)),(0,operators.KQ)(()=>(0,cjs.of)(new submission_objects_actions.ec(action.payload.submissionId))))))),this.saveSubmissionSuccess$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_SUBMISSION_FORM_SUCCESS),(0,operators.Mm)(this.store$),(0,operators.UI)(([action,currentState])=>this.parseSaveResponse(currentState.submission.objects[action.payload.submissionId],action.payload.submissionObject,action.payload.submissionId,currentState.forms,action.payload.showNotifications,action.payload.showErrors)),(0,operators.zg)(actions=>(0,cjs.from)(actions)))),this.saveSubmissionSectionSuccess$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,operators.Mm)(this.store$),(0,operators.UI)(([action,currentState])=>this.parseSaveResponse(currentState.submission.objects[action.payload.submissionId],action.payload.submissionObject,action.payload.submissionId,currentState.forms,!1,!1)),(0,operators.zg)(actions=>(0,cjs.from)(actions)))),this.saveSection$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_SUBMISSION_SECTION_FORM),(0,operators.wt)(action=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),action.payload.submissionId,"sections",action.payload.sectionId).pipe((0,operators.UI)(response=>new submission_objects_actions.hM(action.payload.submissionId,response)),(0,operators.KQ)(()=>(0,cjs.of)(new submission_objects_actions.cT(action.payload.submissionId))))))),this.saveError$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_SUBMISSION_FORM_ERROR,submission_objects_actions.tI.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,operators.Mm)(this.store$),(0,operators.bw)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_AND_DEPOSIT_SUBMISSION),(0,operators.Mm)(this.submissionService.hasUnsavedModification()),(0,operators.wt)(([action,hasUnsavedModification])=>{let response$;return response$=hasUnsavedModification?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),action.payload.submissionId,"sections"):this.submissionObjectService.findById(action.payload.submissionId,!1,!0,(0,follow_link_config_model.l)("item"),(0,follow_link_config_model.l)("collection")).pipe((0,shared_operators.Gp)(),(0,operators.UI)(submissionObject=>[submissionObject])),response$.pipe((0,operators.UI)(response=>this.canDeposit(response)?new submission_objects_actions.wn(action.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new submission_objects_actions.Uq(action.payload.submissionId,response,!1,!0))),(0,operators.KQ)(()=>(0,cjs.of)(new submission_objects_actions.ec(action.payload.submissionId))))}))),this.depositSubmission$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DEPOSIT_SUBMISSION),(0,operators.Mm)(this.store$),(0,operators.wt)(([action,state])=>this.submissionService.depositSubmission(state.submission.objects[action.payload.submissionId].selfUrl).pipe((0,operators.UI)(()=>new submission_objects_actions.e7(action.payload.submissionId)),(0,operators.KQ)(error=>(0,cjs.of)(new submission_objects_actions.jn(action.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,operators.bw)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,operators.bw)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DEPOSIT_SUBMISSION_SUCCESS),(0,operators.bw)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,operators.bw)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DEPOSIT_SUBMISSION_ERROR),(0,operators.bw)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DISCARD_SUBMISSION),(0,operators.wt)(action=>this.submissionService.discardSubmission(action.payload.submissionId).pipe((0,operators.UI)(()=>new submission_objects_actions._w(action.payload.submissionId)),(0,operators.KQ)(()=>(0,cjs.of)(new submission_objects_actions.kj(action.payload.submissionId))))))),this.addAllMetadataToSectionData=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.UPDATE_SECTION_DATA),(0,operators.wt)(action=>this.sectionService.getSectionState(action.payload.submissionId,action.payload.sectionId,sections_type.i.Upload).pipe((0,operators.UI)(section=>[action,section]),(0,operators.qn)(1))),(0,operators.hX)(([action,section])=>section.sectionType===sections_type.i.SubmissionForm),(0,operators.wt)(([action,section])=>section.sectionType===sections_type.i.SubmissionForm?this.submissionObjectService.findById(action.payload.submissionId,!0,!1,(0,follow_link_config_model.l)("item")).pipe((0,shared_operators.Gp)()).pipe((0,operators.wt)(submissionObject=>submissionObject.item.pipe((0,shared_operators.Gp)()))).pipe((0,operators.UI)(item=>item.metadata),(0,operators.hX)(metadata=>!isEqual_default()(action.payload.data,metadata)),(0,operators.UI)(metadata=>new submission_objects_actions.z6(action.payload.submissionId,action.payload.sectionId,metadata,action.payload.errorsToShow,action.payload.serverValidationErrors,action.payload.metadata))):(0,cjs.of)(new submission_objects_actions.jQ)))),this.discardSubmissionSuccess$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DISCARD_SUBMISSION_SUCCESS),(0,operators.bw)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,operators.bw)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=(0,ngrx_effects.GW)(()=>this.actions$.pipe((0,ngrx_effects.l4)(submission_objects_actions.tI.DISCARD_SUBMISSION_ERROR),(0,operators.bw)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(response){let canDeposit=!0;return(0,empty_util.UE)(response)&&response.forEach(item=>{const{errors}=item;errors&&!(0,empty_util.xb)(errors)&&(canDeposit=!1)}),canDeposit}parseSaveResponse(currentState,response,submissionId,forms,showNotifications=!0,showErrors=!0){const mappedActions=[];return(0,empty_util.UE)(response)&&(showNotifications&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),response.forEach(item=>{let errorsList=Object.create({});const{errors}=item;errors&&!(0,empty_util.xb)(errors)&&(errorsList=(0,parseSectionErrors.Z)(errors),showNotifications&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const sections=item.sections&&(0,empty_util.UE)(item.sections)?item.sections:{},sectionsKeys=union_default()(Object.keys(sections),Object.keys(errorsList));for(const sectionId of sectionsKeys){const sectionErrors=errorsList[sectionId]||[],sectionData=sections[sectionId]||{};if(currentState.sections[sectionId].sectionType===sections_type.i.Upload&&(0,empty_util.xb)(sectionData.files)&&!currentState.sections[sectionId].enabled)continue;showNotifications&&!currentState.sections[sectionId].enabled&&this.submissionService.notifyNewSection(submissionId,sectionId,currentState.sections[sectionId].sectionType);const filteredErrors=filterErrors(getForm(forms,currentState,sectionId),sectionErrors,currentState.sections[sectionId].sectionType,showErrors);mappedActions.push(new submission_objects_actions.z6(submissionId,sectionId,sectionData,filteredErrors,sectionErrors))}const sherpaPoliciesSectionId=findKey_default()(currentState.sections,section=>section.sectionType===sections_type.i.SherpaPolicies);(0,empty_util.pT)(sherpaPoliciesSectionId)&&(0,empty_util.UE)(currentState.sections[sherpaPoliciesSectionId]?.data)&&(0,empty_util.xb)(sections[sherpaPoliciesSectionId])&&mappedActions.push(new submission_objects_actions.z6(submissionId,sherpaPoliciesSectionId,null,[],[]))})),mappedActions}}function getForm(forms,currentState,sectionId){if(!forms)return null;return forms[currentState.sections[sectionId].formId]}function filterErrors(sectionForm,sectionErrors,sectionType,notify){if(notify||sectionType!==sections_type.i.SubmissionForm)return sectionErrors;if(!sectionForm||!sectionForm.touched)return[];const filteredErrors=[];return sectionErrors.forEach(error=>{(0,parseSectionErrorPaths.Z)(error.path).forEach(path=>{path.fieldId&&sectionForm.touched[path.fieldId]&&filteredErrors.push(error)})}),filteredErrors}__name(SubmissionObjectEffects,"SubmissionObjectEffects"),SubmissionObjectEffects.\u0275fac=__name(function(t){return new(t||SubmissionObjectEffects)(core.LFG(ngrx_effects.eX),core.LFG(notifications_service.T),core.LFG(submission_json_patch_operations_service.E),core.LFG(sections_service.J),core.LFG(ngrx_store.yh),core.LFG(submission_service.b),core.LFG(submission_object_data_service.O),core.LFG(ngx_translate_core.sK))},"SubmissionObjectEffects_Factory"),SubmissionObjectEffects.\u0275prov=core.Yz7({token:SubmissionObjectEffects,factory:SubmissionObjectEffects.\u0275fac}),__name(getForm,"getForm"),__name(filterErrors,"filterErrors");const submissionEffects=[SubmissionObjectEffects];var section_upload_component=__webpack_require__(35669),section_upload_service=__webpack_require__(10737),submission_upload_files_component=__webpack_require__(56725),collection_data_service=__webpack_require__(761);const SECTION_LICENSE_FORM_LAYOUT={granted:{element:{container:"custom-control custom-checkbox pl-1",control:"custom-control-input",label:"custom-control-label pt-1"}}},SECTION_LICENSE_FORM_MODEL=[{id:"granted",label:"submission.sections.license.granted-label",required:!0,value:!1,validators:{required:null},errorMessages:{required:"submission.sections.license.required",notgranted:"submission.sections.license.notgranted"},type:"CHECKBOX"}];var section_license_component_class;const section_license_component_c0=["formRef"];function SubmissionSectionLicenseComponent_ds_form_4_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ds-form",2,3),core.NdJ("dfChange",__name(function($event){core.CHM(_r3);const ctx_r2=core.oxw();return core.KtG(ctx_r2.onChange($event))},"SubmissionSectionLicenseComponent_ds_form_4_Template_ds_form_dfChange_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("formLayout",ctx_r0.formLayout)("displaySubmit",ctx_r0.displaySubmit)("displayCancel",!1)}}__name(SubmissionSectionLicenseComponent_ds_form_4_Template,"SubmissionSectionLicenseComponent_ds_form_4_Template");let SubmissionSectionLicenseComponent=((section_license_component_class=__name(class extends section_model.v{constructor(changeDetectorRef,collectionDataService,formBuilderService,formOperationsService,formService,operationsBuilder,sectionService,submissionService,translateService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.changeDetectorRef=changeDetectorRef,this.collectionDataService=collectionDataService,this.formBuilderService=formBuilderService,this.formOperationsService=formOperationsService,this.formService=formService,this.operationsBuilder=operationsBuilder,this.sectionService=sectionService,this.submissionService=submissionService,this.translateService=translateService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.formLayout=SECTION_LICENSE_FORM_LAYOUT,this.displaySubmit=!1,this.subs=[]}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.K("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id),this.formModel=this.formBuilderService.fromJSON(SECTION_LICENSE_FORM_MODEL);const model=this.formBuilderService.findById("granted",this.formModel);model.label=this.translateService.instant(model.label),model.value=this.sectionData.data.granted,this.licenseText$=this.collectionDataService.findById(this.collectionId,!0,!0,(0,follow_link_config_model.l)("license")).pipe((0,operators.hX)(collectionData=>(0,empty_util.pT)(collectionData.payload)),(0,operators.zg)(collectionData=>collectionData.payload.license),(0,operators.sE)(licenseData=>(0,empty_util.pT)(licenseData.payload)),(0,operators.UI)(licenseData=>licenseData.payload.text),(0,operators.O4)("")),this.subs.push(this.sectionService.isSectionReadOnly(this.submissionId,this.sectionData.id,this.submissionService.getSubmissionScope()).pipe((0,operators.qn)(1),(0,operators.hX)(isReadOnly=>isReadOnly)).subscribe(()=>{model.disabled=!0}),this.sectionService.getSectionErrors(this.submissionId,this.sectionData.id).pipe((0,operators.hX)(errors=>(0,empty_util.UE)(errors)),(0,operators.xb)()).subscribe(errors=>{const newErrors=errors.map(error=>"/sections/license"===error.path?model.checked?null:Object.assign({},error,{path:"/sections/license/granted"}):error).filter(error=>(0,empty_util.K0)(error));(0,empty_util.UE)(newErrors)?(this.sectionService.checkSectionErrors(this.submissionId,this.sectionData.id,this.formId,newErrors),this.sectionData.errors=errors):this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id),this.changeDetectorRef.detectChanges()}))}getSectionStatus(){const model=this.formBuilderService.findById("granted",this.formModel);return model.valueChanges.pipe((0,operators.UI)(value=>!0===value),(0,operators.O4)(model.value))}onChange(event2){const path=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event2),value=this.formOperationsService.getFieldValueFromChangeEvent(event2);value?(this.operationsBuilder.add(this.pathCombiner.getPath(path),value.value.toString(),!1,!0),this.sectionService.dispatchRemoveSectionErrors(this.submissionId,this.sectionData.id)):this.operationsBuilder.remove(this.pathCombiner.getPath(path))}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}},"SubmissionSectionLicenseComponent")).\u0275fac=__name(function(t){return new(t||section_license_component_class)(core.Y36(core.sBO),core.Y36(collection_data_service.W),core.Y36(form_builder_service.c),core.Y36(SectionFormOperationsService),core.Y36(form_service.o),core.Y36(json_patch_operations_builder.w),core.Y36(sections_service.J),core.Y36(submission_service.b),core.Y36(ngx_translate_core.sK),core.Y36("collectionIdProvider"),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionLicenseComponent_Factory"),section_license_component_class.\u0275cmp=core.Xpm({type:section_license_component_class,selectors:[["ds-submission-section-license"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(section_license_component_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"SubmissionSectionLicenseComponent_Query"),features:[core.qOj],decls:5,vars:4,consts:[[1,"mb-5","preserve-line-breaks",3,"innerHTML"],[3,"formId","formModel","formLayout","displaySubmit","displayCancel","dfChange",4,"ngIf"],[3,"formId","formModel","formLayout","displaySubmit","displayCancel","dfChange"],["formRef","formComponent"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"span",0),core.ALo(1,"async"),core._UZ(2,"br")(3,"br"),core.YNc(4,SubmissionSectionLicenseComponent_ds_form_4_Template,2,5,"ds-form",1)),2&rf&&(core.Q6J("innerHTML",core.lcZ(1,2,ctx.licenseText$),core.oJD),core.xp6(4),core.Q6J("ngIf",ctx.formModel))},"SubmissionSectionLicenseComponent_Template"),dependencies:[common.O5,form_component.U,common.Ov]}),section_license_component_class);SubmissionSectionLicenseComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.License),(0,tslib_es6.__metadata)("design:paramtypes",[core.sBO,collection_data_service.W,form_builder_service.c,SectionFormOperationsService,form_service.o,json_patch_operations_builder.w,sections_service.J,submission_service.b,ngx_translate_core.sK,String,Object,String])],SubmissionSectionLicenseComponent);var submission_section_cc_licenses_component_class,submission_uploads_config_data_service=__webpack_require__(95239),submission_edit_component=__webpack_require__(35097),section_upload_file_component=__webpack_require__(31370),section_upload_file_edit_component=__webpack_require__(18022),section_upload_file_view_component=__webpack_require__(28264),submission_section_upload_access_conditions_component=__webpack_require__(95576),submission_submit_component=__webpack_require__(66366),app_reducer=__webpack_require__(9999),submission_import_external_component=__webpack_require__(25668),submission_import_external_searchbar_component=__webpack_require__(62995),submission_import_external_preview_component=__webpack_require__(68676),submission_import_external_collection_component=__webpack_require__(98879),submission_cc_license_data_service=__webpack_require__(52890),ng_bootstrap=__webpack_require__(23506),submission_cc_license_url_data_service=__webpack_require__(9162),configuration_data_service=__webpack_require__(68259),ds_select_component=__webpack_require__(6338),var_directive=__webpack_require__(61562);function SubmissionSectionCcLicensesComponent_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"ds-themed-loading"),core.qZA())}function SubmissionSectionCcLicensesComponent_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._uU(1),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.hij(" ",ctx_r1.getSelectedCcLicense().name," ")}}function SubmissionSectionCcLicensesComponent_span_5_ng_container_1_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"translate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"submission.sections.ccLicense.change")," "))}function SubmissionSectionCcLicensesComponent_span_5_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"translate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"submission.sections.ccLicense.select")," "))}function SubmissionSectionCcLicensesComponent_span_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core.YNc(1,SubmissionSectionCcLicensesComponent_span_5_ng_container_1_Template,3,3,"ng-container",3),core.YNc(2,SubmissionSectionCcLicensesComponent_span_5_ng_container_2_Template,3,3,"ng-container",3),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r2.storedCcLicenseLink),core.xp6(1),core.Q6J("ngIf",!ctx_r2.storedCcLicenseLink)}}function SubmissionSectionCcLicensesComponent_button_7_Template(rf,ctx){1&rf&&(core.TgZ(0,"button",7),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"submission.sections.ccLicense.none")," "))}function SubmissionSectionCcLicensesComponent_button_8_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"button",8),core.NdJ("click",__name(function(){const license_r9=core.CHM(_r11).$implicit,ctx_r10=core.oxw();return core.KtG(ctx_r10.selectCcLicense(license_r9))},"SubmissionSectionCcLicensesComponent_button_8_Template_button_click_0_listener")),core._uU(1),core.qZA()}if(2&rf){const license_r9=ctx.$implicit;core.xp6(1),core.hij(" ",license_r9.name," ")}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_div_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10)(1,"h5"),core._uU(2),core.qZA(),core._UZ(3,"div",21),core.qZA()),2&rf){const value_r19=ctx.$implicit;core.xp6(2),core.hij(" ",value_r19.label," "),core.xp6(1),core.Q6J("innerHTML",value_r19.description,core.oJD)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"div")(1,"div",16)(2,"div")(3,"h4"),core._uU(4),core.qZA(),core._UZ(5,"div",17),core.qZA(),core.TgZ(6,"button",18),core.NdJ("click",__name(function(){core.CHM(_r21);const ctx_r20=core.oxw(3);return core.KtG(ctx_r20.closeInfoModal())},"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_Template_button_click_6_listener")),core.TgZ(7,"span",19),core._uU(8,"\xd7"),core.qZA()()(),core.TgZ(9,"div",20),core.YNc(10,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_div_10_Template,4,2,"div",9),core.qZA()()}if(2&rf){const field_r13=core.oxw().$implicit;core.xp6(4),core.hij(" ",field_r13.label," "),core.xp6(1),core.Q6J("innerHTML",field_r13.description,core.oJD),core.xp6(5),core.Q6J("ngForOf",field_r13.enums)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._uU(1),core.qZA()),2&rf){const option_r25=core.oxw().ngVar;core.xp6(1),core.hij(" ",option_r25.label," ")}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"submission.sections.ccLicense.option.select")," "))}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0,2),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_1_Template,2,1,"span",3),core.YNc(2,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_2_Template,3,3,"span",3),core.BQk()),2&rf){const option_r25=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",option_r25),core.xp6(1),core.Q6J("ngIf",!option_r25)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_button_4_Template(rf,ctx){if(1&rf){const _r31=core.EpF();core.TgZ(0,"button",8),core.NdJ("click",__name(function(){const option_r29=core.CHM(_r31).$implicit,field_r13=core.oxw(2).$implicit,ctx_r30=core.oxw(2);return core.KtG(ctx_r30.selectOption(ctx_r30.getSelectedCcLicense(),field_r13,option_r29))},"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_button_4_Template_button_click_0_listener")),core._uU(1),core.qZA()}if(2&rf){const option_r29=ctx.$implicit;core.xp6(1),core.hij(" ",option_r29.label," ")}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-select",1),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_Template,3,2,"ng-container",22),core.ynx(2,4),core.TgZ(3,"div",23),core.YNc(4,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_button_4_Template,2,1,"button",6),core.qZA(),core.BQk(),core.qZA()),2&rf){const field_r13=core.oxw().$implicit,ctx_r16=core.oxw(2);core.Q6J("disabled","jurisdiction"===field_r13.id&&void 0!==ctx_r16.defaultJurisdiction&&"none"!==ctx_r16.defaultJurisdiction),core.xp6(1),core.Q6J("ngVar",ctx_r16.getSelectedOption(ctx_r16.getSelectedCcLicense(),field_r13)),core.xp6(3),core.Q6J("ngForOf",field_r13.enums)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_div_1_Template(rf,ctx){if(1&rf){const _r37=core.EpF();core.TgZ(0,"div",25)(1,"div",26),core.NdJ("click",__name(function(){const option_r35=core.CHM(_r37).$implicit,field_r13=core.oxw(2).$implicit,ctx_r36=core.oxw(2);return core.KtG(ctx_r36.selectOption(ctx_r36.getSelectedCcLicense(),field_r13,option_r35))},"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_div_1_Template_div_click_1_listener")),core._UZ(2,"input",27),core.TgZ(3,"span"),core._uU(4),core.qZA()()()}if(2&rf){const option_r35=ctx.$implicit,field_r13=core.oxw(2).$implicit,ctx_r34=core.oxw(2);core.xp6(2),core.s9C("title",option_r35.label),core.Q6J("checked",ctx_r34.isSelectedOption(ctx_r34.getSelectedCcLicense(),field_r13,option_r35)),core.xp6(2),core.Oqu(option_r35.label)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_div_1_Template,5,3,"div",24),core.BQk()),2&rf){const field_r13=core.oxw().$implicit;core.xp6(1),core.Q6J("ngForOf",field_r13.enums)}}function SubmissionSectionCcLicensesComponent_ng_container_9_div_1_Template(rf,ctx){if(1&rf){const _r42=core.EpF();core.TgZ(0,"div",10)(1,"div",11)(2,"div"),core._uU(3),core.qZA(),core.TgZ(4,"button",12),core.NdJ("click",__name(function(){core.CHM(_r42);const _r14=core.MAs(7),ctx_r41=core.oxw(2);return core.KtG(ctx_r41.openInfoModal(_r14))},"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_Template_button_click_4_listener")),core._UZ(5,"i",13),core.qZA()(),core.YNc(6,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_Template,11,3,"ng-template",null,14,core.W1O),core.YNc(8,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_Template,5,3,"ds-select",15),core.YNc(9,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_Template,2,1,"ng-container",3),core.qZA()}if(2&rf){const field_r13=ctx.$implicit;core.xp6(2),core.Gre("font-weight-bold ",field_r13.id,""),core.xp6(1),core.hij(" ",field_r13.label," "),core.xp6(5),core.Q6J("ngIf",(null==field_r13.enums?null:field_r13.enums.length)>5),core.xp6(1),core.Q6J("ngIf",(null==field_r13.enums?null:field_r13.enums.length)<=5)}}function SubmissionSectionCcLicensesComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_9_div_1_Template,10,6,"div",9),core.BQk()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r5.getSelectedCcLicense().fields)}}function SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_1_Template(rf,ctx){1&rf&&(core.TgZ(0,"div"),core._UZ(1,"ds-themed-loading"),core.qZA())}function SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_2_Template(rf,ctx){if(1&rf){const _r48=core.EpF();core.TgZ(0,"div",30)(1,"div"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"a",31),core._uU(5),core.qZA(),core.TgZ(6,"div",32)(7,"div",26),core.NdJ("click",__name(function(){core.CHM(_r48);const ctx_r47=core.oxw(3);return core.KtG(ctx_r47.setAccepted(!ctx_r47.accepted))},"SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_2_Template_div_click_7_listener")),core._UZ(8,"input",33),core.TgZ(9,"span"),core._uU(10),core.ALo(11,"translate"),core.qZA()()()()}if(2&rf){const licenseLink_r44=core.oxw().ngVar,ctx_r46=core.oxw(2);core.xp6(2),core.hij(" ",core.lcZ(3,5,"submission.sections.ccLicense.link")," "),core.xp6(2),core.s9C("href",licenseLink_r44,core.LSH),core.xp6(1),core.hij(" ",licenseLink_r44," "),core.xp6(3),core.Q6J("checked",ctx_r46.accepted),core.xp6(2),core.hij(" ",core.lcZ(11,7,"submission.sections.ccLicense.confirmation"),"")}}function SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_1_Template,2,0,"div",3),core.YNc(2,SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_2_Template,12,9,"div",29),core.BQk()),2&rf){const licenseLink_r44=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",!licenseLink_r44),core.xp6(1),core.Q6J("ngIf",licenseLink_r44)}}function SubmissionSectionCcLicensesComponent_ng_container_10_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_Template,3,2,"ng-container",28),core.ALo(2,"async"),core.BQk()),2&rf){const ctx_r6=core.oxw();core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx_r6.getCcLicenseLink$()))}}__name(SubmissionSectionCcLicensesComponent_span_3_Template,"SubmissionSectionCcLicensesComponent_span_3_Template"),__name(SubmissionSectionCcLicensesComponent_span_4_Template,"SubmissionSectionCcLicensesComponent_span_4_Template"),__name(SubmissionSectionCcLicensesComponent_span_5_ng_container_1_Template,"SubmissionSectionCcLicensesComponent_span_5_ng_container_1_Template"),__name(SubmissionSectionCcLicensesComponent_span_5_ng_container_2_Template,"SubmissionSectionCcLicensesComponent_span_5_ng_container_2_Template"),__name(SubmissionSectionCcLicensesComponent_span_5_Template,"SubmissionSectionCcLicensesComponent_span_5_Template"),__name(SubmissionSectionCcLicensesComponent_button_7_Template,"SubmissionSectionCcLicensesComponent_button_7_Template"),__name(SubmissionSectionCcLicensesComponent_button_8_Template,"SubmissionSectionCcLicensesComponent_button_8_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_div_10_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_div_10_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_template_6_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_2_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_span_2_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_ng_container_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_button_4_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_button_4_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ds_select_8_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_div_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_div_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_ng_container_9_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_div_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_div_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_9_Template,"SubmissionSectionCcLicensesComponent_ng_container_9_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_2_Template,"SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_div_2_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_Template,"SubmissionSectionCcLicensesComponent_ng_container_10_ng_container_1_Template"),__name(SubmissionSectionCcLicensesComponent_ng_container_10_Template,"SubmissionSectionCcLicensesComponent_ng_container_10_Template");let SubmissionSectionCcLicensesComponent=((submission_section_cc_licenses_component_class=__name(class extends section_model.v{constructor(modalService,sectionService,submissionCcLicensesDataService,submissionCcLicenseUrlDataService,operationsBuilder,configService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.modalService=modalService,this.sectionService=sectionService,this.submissionCcLicensesDataService=submissionCcLicensesDataService,this.submissionCcLicenseUrlDataService=submissionCcLicenseUrlDataService,this.operationsBuilder=operationsBuilder,this.configService=configService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.isLoading=!0,this.subscriptions=[]}get storedCcLicenseLink(){return this.data.uri}get accepted(){return void 0===this.data.accepted?!!this.data.uri:this.data.accepted}get data(){return this.sectionData.data}selectCcLicense(ccLicense){this.getSelectedCcLicense()&&this.getSelectedCcLicense().id===ccLicense.id||(this.setAccepted(!1),this.updateSectionData({ccLicense:{id:ccLicense.id,fields:{}},uri:void 0}))}getSelectedCcLicense(){return this.submissionCcLicenses&&this.data.ccLicense?this.submissionCcLicenses.filter(ccLicense=>ccLicense.id===this.data.ccLicense.id)[0]:null}selectOption(ccLicense,field,option){this.isSelectedOption(ccLicense,field,option)||this.updateSectionData({ccLicense:{id:ccLicense.id,fields:Object.assign({},this.data.ccLicense.fields,{[field.id]:option})},accepted:!1})}getSelectedOption(ccLicense,field){return"jurisdiction"===field.id&&void 0!==this.defaultJurisdiction&&"none"!==this.defaultJurisdiction?field.enums.find(option=>option.id===this.defaultJurisdiction):this.data.ccLicense.fields[field.id]}isSelectedOption(ccLicense,field,option){return this.getSelectedOption(ccLicense,field)&&this.getSelectedOption(ccLicense,field).id===option.id}getCcLicenseLink$(){if(this.storedCcLicenseLink)return(0,cjs.of)(this.storedCcLicenseLink);if(!this.getSelectedCcLicense()||this.getSelectedCcLicense().fields.some(field=>!this.getSelectedOption(this.getSelectedCcLicense(),field)))return;const selectedCcLicense=this.getSelectedCcLicense();return this.submissionCcLicenseUrlDataService.getCcLicenseLink(selectedCcLicense,new Map(selectedCcLicense.fields.map(field=>[field,this.getSelectedOption(selectedCcLicense,field)])))}openInfoModal(content){this.modalRef=this.modalService.open(content)}closeInfoModal(){this.modalRef.close()}getSectionStatus(){return(0,cjs.of)(this.accepted)}onSectionDestroy(){this.subscriptions.forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.K("sections",this.sectionData.id),this.subscriptions.push(this.sectionService.getSectionState(this.submissionId,this.sectionData.id,sections_type.i.CcLicense).pipe((0,operators.hX)(sectionState=>(0,empty_util.UE)(sectionState)&&((0,empty_util.UE)(sectionState.data)||(0,empty_util.UE)(sectionState.errorsToShow))),(0,operators.xb)(),(0,operators.UI)(sectionState=>sectionState.data)).subscribe(data=>{if(this.data.accepted!==data.accepted){const path=this.pathCombiner.getPath("uri");data.accepted?this.getCcLicenseLink$().pipe((0,operators.qn)(1)).subscribe(link=>{this.operationsBuilder.add(path,link.toString(),!1,!0)}):this.data.uri&&this.operationsBuilder.remove(path)}this.sectionData.data=data}),this.submissionCcLicensesDataService.findAll({elementsPerPage:9999}).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.UI)(list=>list.page)).subscribe(licenses=>this.submissionCcLicenses=licenses),this.configService.findByPropertyName("cc.license.jurisdiction").pipe((0,shared_operators.hC)(),(0,shared_operators.xe)()).subscribe(remoteData=>{void 0===remoteData||0===remoteData.values.length?this.defaultJurisdiction="":this.defaultJurisdiction=remoteData.values[0]}))}setAccepted(accepted){this.updateSectionData({accepted}),this.updateSectionStatus()}updateSectionData(data){this.sectionService.updateSectionData(this.submissionId,this.sectionData.id,Object.assign({},this.data,data))}},"SubmissionSectionCcLicensesComponent")).\u0275fac=__name(function(t){return new(t||submission_section_cc_licenses_component_class)(core.Y36(ng_bootstrap.FF),core.Y36(sections_service.J),core.Y36(submission_cc_license_data_service.I),core.Y36(submission_cc_license_url_data_service.K),core.Y36(json_patch_operations_builder.w),core.Y36(configuration_data_service.i),core.Y36("collectionIdProvider"),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionCcLicensesComponent_Factory"),submission_section_cc_licenses_component_class.\u0275cmp=core.Xpm({type:submission_section_cc_licenses_component_class,selectors:[["ds-submission-section-cc-licenses"]],features:[core.qOj],decls:11,vars:8,consts:[[1,"mb-4","ccLicense-select"],[3,"disabled"],[1,"selection"],[4,"ngIf"],[1,"menu"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item","disabled"],[1,"dropdown-item",3,"click"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"d-flex","flex-row"],[1,"btn","btn-outline-info","btn-sm","ml-2",3,"click"],[1,"fas","fa-question"],["infoModal",""],[3,"disabled",4,"ngIf"],[1,"modal-header","mb-4"],[3,"innerHTML"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"font-weight-light",3,"innerHTML"],["class","selection",4,"ngVar"],[1,"options-select-menu","overflow-auto"],["class","d-flex flex-row m-1",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","m-1"],[3,"click"],["type","radio",1,"mr-1",3,"title","checked"],[4,"ngVar"],["class","mt-2 p-4 bg-light text-dark",4,"ngIf"],[1,"mt-2","p-4","bg-light","text-dark"],["target","_blank","rel","noopener noreferrer",1,"license-link",3,"href"],[1,"m-2"],["type","checkbox","title","accepted",1,"mr-2",3,"checked"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"ds-select",1),core.ynx(2,2),core.YNc(3,SubmissionSectionCcLicensesComponent_span_3_Template,2,0,"span",3),core.YNc(4,SubmissionSectionCcLicensesComponent_span_4_Template,2,1,"span",3),core.YNc(5,SubmissionSectionCcLicensesComponent_span_5_Template,3,2,"span",3),core.BQk(),core.ynx(6,4),core.YNc(7,SubmissionSectionCcLicensesComponent_button_7_Template,3,3,"button",5),core.YNc(8,SubmissionSectionCcLicensesComponent_button_8_Template,2,1,"button",6),core.BQk(),core.qZA()(),core.YNc(9,SubmissionSectionCcLicensesComponent_ng_container_9_Template,2,1,"ng-container",3),core.YNc(10,SubmissionSectionCcLicensesComponent_ng_container_10_Template,3,3,"ng-container",3)),2&rf&&(core.xp6(1),core.Q6J("disabled",!ctx.submissionCcLicenses),core.xp6(2),core.Q6J("ngIf",!ctx.submissionCcLicenses),core.xp6(1),core.Q6J("ngIf",ctx.getSelectedCcLicense()),core.xp6(1),core.Q6J("ngIf",ctx.submissionCcLicenses&&!ctx.getSelectedCcLicense()),core.xp6(2),core.Q6J("ngIf",0==(null==ctx.submissionCcLicenses?null:ctx.submissionCcLicenses.length)),core.xp6(1),core.Q6J("ngForOf",ctx.submissionCcLicenses),core.xp6(1),core.Q6J("ngIf",ctx.getSelectedCcLicense()),core.xp6(1),core.Q6J("ngIf",ctx.getCcLicenseLink$()))},"SubmissionSectionCcLicensesComponent_Template"),dependencies:[common.sg,common.O5,ds_select_component.N,themed_loading_component.Z,var_directive.g,common.Ov,ngx_translate_core.X$],styles:[".options-select-menu[_ngcontent-%COMP%]{max-height:25vh}"]}),submission_section_cc_licenses_component_class);SubmissionSectionCcLicensesComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.CcLicense),(0,tslib_es6.__metadata)("design:paramtypes",[ng_bootstrap.FF,sections_service.J,submission_cc_license_data_service.I,submission_cc_license_url_data_service.K,json_patch_operations_builder.w,configuration_data_service.i,String,Object,String])],SubmissionSectionCcLicensesComponent);var journal_entities_module=__webpack_require__(37867),research_entities_module=__webpack_require__(98927),themed_submission_edit_component=__webpack_require__(28725),themed_submission_submit_component=__webpack_require__(25324),themed_submission_import_external_component=__webpack_require__(72230),themed_component=(__webpack_require__(61547),__webpack_require__(56787));function ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template,"ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template");class ThemedSubmissionSectionUploadFileComponent extends themed_component.F{constructor(){super(...arguments),this.inAndOutputNames=["availableAccessConditionOptions","collectionId","collectionPolicyType","configMetadataForm","fileId","fileIndex","fileName","sectionId","submissionId"]}getComponentName(){return"SubmissionSectionUploadFileComponent"}importThemedComponent(themeName){return __webpack_require__(88402)(`./${themeName}/app/submission/sections/upload/file/section-upload-file.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,31370))}}__name(ThemedSubmissionSectionUploadFileComponent,"ThemedSubmissionSectionUploadFileComponent"),ThemedSubmissionSectionUploadFileComponent.\u0275fac=function(){let \u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory||(\u0275ThemedSubmissionSectionUploadFileComponent_BaseFactory=core.n5z(ThemedSubmissionSectionUploadFileComponent)))(t||ThemedSubmissionSectionUploadFileComponent)},"ThemedSubmissionSectionUploadFileComponent_Factory")}(),ThemedSubmissionSectionUploadFileComponent.\u0275cmp=core.Xpm({type:ThemedSubmissionSectionUploadFileComponent,selectors:[["ds-themed-submission-upload-section-file"]],inputs:{availableAccessConditionOptions:"availableAccessConditionOptions",collectionId:"collectionId",collectionPolicyType:"collectionPolicyType",configMetadataForm:"configMetadataForm",fileId:"fileId",fileIndex:"fileIndex",fileName:"fileName",sectionId:"sectionId",submissionId:"submissionId"},features:[core.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(core.F$t(),core.YNc(0,ThemedSubmissionSectionUploadFileComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O),core.TgZ(2,"div",null,1),core.Hsn(4),core.qZA())},"ThemedSubmissionSectionUploadFileComponent_Template"),encapsulation:2});var form_module=__webpack_require__(80913),selectors=__webpack_require__(43863);class SectionAccessesService{constructor(store){this.store=store}getAccessesData(submissionId,sectionId){return this.store.select((0,selectors.y5)(submissionId,sectionId)).pipe((0,operators.hX)(state=>(0,empty_util.pT)(state)),(0,operators.xb)())}}__name(SectionAccessesService,"SectionAccessesService"),SectionAccessesService.\u0275fac=__name(function(t){return new(t||SectionAccessesService)(core.LFG(ngrx_store.yh))},"SectionAccessesService_Factory"),SectionAccessesService.\u0275prov=core.Yz7({token:SectionAccessesService,factory:SectionAccessesService.\u0275fac});const ACCESS_FORM_CHECKBOX_CONFIG={id:"discoverable",name:"discoverable"},ACCESS_FORM_CHECKBOX_LAYOUT={element:{container:"custom-control custom-checkbox pl-1",control:"custom-control-input",label:"custom-control-label pt-1"}},ACCESS_CONDITION_GROUP_CONFIG={id:"accessConditionGroup",group:[]},ACCESS_CONDITION_GROUP_LAYOUT={element:{host:"form-group access-condition-group col",container:"pl-1 pr-1",control:"form-row "}},ACCESS_CONDITIONS_FORM_ARRAY_CONFIG={id:"accessCondition",groupFactory:null},ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT={grid:{group:"form-row pt-4"}},FORM_ACCESS_CONDITION_TYPE_CONFIG={id:"name",label:"submission.sections.accesses.form.access-condition-label",hint:"submission.sections.accesses.form.access-condition-hint",options:[]},FORM_ACCESS_CONDITION_TYPE_LAYOUT={element:{host:"col-12",label:"col-form-label name-label"}},FORM_ACCESS_CONDITION_START_DATE_CONFIG={id:"startDate",label:"submission.sections.accesses.form.from-label",hint:"submission.sections.accesses.form.from-hint",placeholder:"submission.sections.accesses.form.from-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:fesm2020_core.O6Y,operator:fesm2020_core.F8e,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.accesses.form.date-required-from"}},FORM_ACCESS_CONDITION_START_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}},FORM_ACCESS_CONDITION_END_DATE_CONFIG={id:"endDate",label:"submission.sections.accesses.form.until-label",hint:"submission.sections.accesses.form.until-hint",placeholder:"submission.sections.accesses.form.until-placeholder",inline:!1,toggleIcon:"far fa-calendar-alt",relations:[{match:fesm2020_core.O6Y,operator:fesm2020_core.F8e,when:[]}],required:!0,validators:{required:null},errorMessages:{required:"submission.sections.accesses.form.date-required-until"}},FORM_ACCESS_CONDITION_END_DATE_LAYOUT={element:{label:"col-form-label"},grid:{host:"col-6"}};var submission_accesses_config_data_service_class,config_data_service=__webpack_require__(19375),hal_endpoint_service=__webpack_require__(54781),config_type=__webpack_require__(50092),remote_data_build_service=__webpack_require__(20018),data_service_decorator=__webpack_require__(98303);let SubmissionAccessesConfigDataService=((submission_accesses_config_data_service_class=__name(class extends config_data_service.o{constructor(requestService,rdbService,objectCache,halService){super("submissionaccessoptions",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}findByHref(href,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return super.findByHref(href,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}},"SubmissionAccessesConfigDataService")).\u0275fac=__name(function(t){return new(t||submission_accesses_config_data_service_class)(core.LFG(request_service.s),core.LFG(remote_data_build_service.Q),core.LFG(object_cache_service.a),core.LFG(hal_endpoint_service.q))},"SubmissionAccessesConfigDataService_Factory"),submission_accesses_config_data_service_class.\u0275prov=core.Yz7({token:submission_accesses_config_data_service_class,factory:submission_accesses_config_data_service_class.\u0275fac}),submission_accesses_config_data_service_class);var section_accesses_component_class;SubmissionAccessesConfigDataService=(0,tslib_es6.__decorate)([(0,data_service_decorator.cQ)(config_type.MX),(0,tslib_es6.__metadata)("design:paramtypes",[request_service.s,remote_data_build_service.Q,object_cache_service.a,hal_endpoint_service.q])],SubmissionAccessesConfigDataService);const section_accesses_component_c0=["formRef"];function SubmissionSectionAccessesComponent_ds_form_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ds-form",1,2),core.NdJ("dfChange",__name(function($event){core.CHM(_r3);const ctx_r2=core.oxw();return core.KtG(ctx_r2.onChange($event))},"SubmissionSectionAccessesComponent_ds_form_0_Template_ds_form_dfChange_0_listener"))("removeArrayItem",__name(function($event){core.CHM(_r3);const ctx_r4=core.oxw();return core.KtG(ctx_r4.onRemove($event))},"SubmissionSectionAccessesComponent_ds_form_0_Template_ds_form_removeArrayItem_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!1)("displayCancel",!1)}}__name(SubmissionSectionAccessesComponent_ds_form_0_Template,"SubmissionSectionAccessesComponent_ds_form_0_Template");let SubmissionSectionAccessesComponent=((section_accesses_component_class=__name(class extends section_model.v{constructor(sectionService,formBuilderService,accessesConfigService,accessesService,formOperationsService,operationsBuilder,formService,translate,operationsService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.sectionService=sectionService,this.formBuilderService=formBuilderService,this.accessesConfigService=accessesConfigService,this.accessesService=accessesService,this.formOperationsService=formOperationsService,this.operationsBuilder=operationsBuilder,this.formService=formService,this.translate=translate,this.operationsService=operationsService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.subs=[]}initModelData(formModel){this.accessesData.accessConditions.forEach((accessCondition,index)=>{Array.of("name","startDate","endDate").filter(key=>accessCondition.hasOwnProperty(key)&&(0,empty_util.UE)(accessCondition[key])).forEach(key=>{const metadataModel=this.formBuilderService.findById(key,formModel,index);if(metadataModel)if(metadataModel.type===fesm2020_core.VId){const date=new Date(accessCondition[key]);metadataModel.value={year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate()}}else metadataModel.value=accessCondition[key]})})}onChange(event2){if(event2.model.type===fesm2020_core.fSU){const path=this.formOperationsService.getFieldPathSegmentedFromChangeEvent(event2),value=this.formOperationsService.getFieldValueFromChangeEvent(event2);this.operationsBuilder.replace(this.pathCombiner.getPath(path),value.value,!0)}else{if(event2.model.id===FORM_ACCESS_CONDITION_TYPE_CONFIG.id){const startDateControl=event2.control.parent.get("startDate"),endDateControl=event2.control.parent.get("endDate");startDateControl?.markAsUntouched(),endDateControl?.markAsUntouched(),startDateControl?.setValue(null),endDateControl?.setValue(null),event2.control.parent.markAsDirty()}this.formService.validateAllFormFields(this.formRef.formGroup),this.formService.isValid(this.formId).pipe((0,operators.qn)(1),(0,operators.hX)(isValid=>isValid),(0,operators.zg)(()=>this.formService.getFormData(this.formId)),(0,operators.qn)(1)).subscribe(formData=>{const accessConditionsToSave=[];formData.accessCondition.map(accessConditions=>accessConditions.accessConditionGroup).filter(accessCondition=>(0,empty_util.UE)(accessCondition)).forEach(accessCondition=>{let accessConditionOpt;if(this.availableAccessConditionOptions.filter(element=>(0,empty_util.K0)(accessCondition.name)&&element.name===accessCondition.name[0].value).forEach(element=>accessConditionOpt=element),accessConditionOpt){const currentAccessCondition=Object.assign({},accessCondition);if(currentAccessCondition.name=this.retrieveValueFromField(accessCondition.name),accessConditionOpt.hasStartDate){if(accessCondition.startDate){const startDate=this.retrieveValueFromField(accessCondition.startDate);currentAccessCondition.startDate=(0,date_util.iV)(startDate)}}else delete currentAccessCondition.startDate;if(accessConditionOpt.hasEndDate){if(accessCondition.endDate){const endDate=this.retrieveValueFromField(accessCondition.endDate);currentAccessCondition.endDate=(0,date_util.iV)(endDate)}}else delete currentAccessCondition.endDate;accessConditionsToSave.push(currentAccessCondition)}}),this.operationsBuilder.add(this.pathCombiner.getPath("accessConditions"),accessConditionsToSave,!0)})}}onRemove(event2){const fieldPath="accessConditions/"+this.formOperationsService.getArrayIndexFromEvent(event2);this.operationsBuilder.remove(this.pathCombiner.getPath(fieldPath))}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.K("sections",this.sectionData.id),this.formId=this.formService.getUniqueId(this.sectionData.id);const config$=this.accessesConfigService.findByHref(this.sectionData.config,!0,!1).pipe((0,shared_operators.xw)(),(0,operators.UI)(config=>config.payload)),accessData$=this.accessesService.getAccessesData(this.submissionId,this.sectionData.id);(0,cjs.combineLatest)([config$,accessData$]).subscribe(([config,accessData])=>{this.availableAccessConditionOptions=(0,empty_util.UE)(config.accessConditionOptions)?config.accessConditionOptions:[],this.canChangeDiscoverable=!!config.canChangeDiscoverable,this.accessesData=accessData,this.formModel=this.buildFileEditForm()})}getSectionStatus(){return(0,cjs.of)(!0)}buildFileEditForm(){const formModel=[];if(this.canChangeDiscoverable){const discoverableCheckboxConfig=Object.assign({},ACCESS_FORM_CHECKBOX_CONFIG,{label:this.translate.instant("submission.sections.accesses.form.discoverable-label"),hint:this.translate.instant("submission.sections.accesses.form.discoverable-description"),value:this.accessesData.discoverable});formModel.push(new fesm2020_core.dwp(discoverableCheckboxConfig,ACCESS_FORM_CHECKBOX_LAYOUT))}const accessConditionTypeModelConfig=Object.assign({},FORM_ACCESS_CONDITION_TYPE_CONFIG),accessConditionsArrayConfig=Object.assign({},ACCESS_CONDITIONS_FORM_ARRAY_CONFIG),accessConditionTypeOptions=[];for(const accessCondition of this.availableAccessConditionOptions)accessConditionTypeOptions.push({label:accessCondition.name,value:accessCondition.name});accessConditionTypeModelConfig.options=accessConditionTypeOptions;const startDateCondition=[],endDateCondition=[];let maxStartDate,maxEndDate;this.availableAccessConditionOptions.forEach(condition=>{if(condition.hasStartDate&&(startDateCondition.push({id:"name",value:condition.name}),condition.maxStartDate)){const min=new Date(condition.maxStartDate);maxStartDate={year:min.getUTCFullYear(),month:min.getUTCMonth()+1,day:min.getUTCDate()}}if(condition.hasEndDate&&(endDateCondition.push({id:"name",value:condition.name}),condition.maxEndDate)){const max=new Date(condition.maxEndDate);maxEndDate={year:max.getUTCFullYear(),month:max.getUTCMonth()+1,day:max.getUTCDate()}}});const confStart={relations:[{match:fesm2020_core.O6Y,operator:fesm2020_core.F8e,when:startDateCondition}]},confEnd={relations:[{match:fesm2020_core.O6Y,operator:fesm2020_core.F8e,when:endDateCondition}]},hasStartDate=startDateCondition.length>0,hasEndDate=endDateCondition.length>0;return accessConditionsArrayConfig.groupFactory=()=>{const type=new fesm2020_core.nMt(accessConditionTypeModelConfig,FORM_ACCESS_CONDITION_TYPE_LAYOUT),startDateConfig=Object.assign({},FORM_ACCESS_CONDITION_START_DATE_CONFIG,confStart);maxStartDate&&(startDateConfig.max=maxStartDate);const endDateConfig=Object.assign({},FORM_ACCESS_CONDITION_END_DATE_CONFIG,confEnd);maxEndDate&&(endDateConfig.max=maxEndDate);const startDate=new fesm2020_core.oqv(startDateConfig,FORM_ACCESS_CONDITION_START_DATE_LAYOUT),endDate=new fesm2020_core.oqv(endDateConfig,FORM_ACCESS_CONDITION_END_DATE_LAYOUT),accessConditionGroupConfig=Object.assign({},ACCESS_CONDITION_GROUP_CONFIG);return accessConditionGroupConfig.group=[type],hasStartDate&&accessConditionGroupConfig.group.push(startDate),hasEndDate&&accessConditionGroupConfig.group.push(endDate),[new fesm2020_core.S_O(accessConditionGroupConfig,ACCESS_CONDITION_GROUP_LAYOUT)]},accessConditionsArrayConfig.initialCount=(0,empty_util.UE)(this.accessesData.accessConditions)?this.accessesData.accessConditions.length:1,formModel.push(new fesm2020_core.RRz(accessConditionsArrayConfig,ACCESS_CONDITIONS_FORM_ARRAY_LAYOUT)),this.initModelData(formModel),formModel}retrieveValueFromField(field){const temp=Array.isArray(field)?field[0]:field;return temp?temp.value:void 0}},"SubmissionSectionAccessesComponent")).\u0275fac=__name(function(t){return new(t||section_accesses_component_class)(core.Y36(sections_service.J),core.Y36(form_builder_service.c),core.Y36(SubmissionAccessesConfigDataService),core.Y36(SectionAccessesService),core.Y36(SectionFormOperationsService),core.Y36(json_patch_operations_builder.w),core.Y36(form_service.o),core.Y36(ngx_translate_core.sK),core.Y36(submission_json_patch_operations_service.E),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionAccessesComponent_Factory"),section_accesses_component_class.\u0275cmp=core.Xpm({type:section_accesses_component_class,selectors:[["ds-section-accesses"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(section_accesses_component_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"SubmissionSectionAccessesComponent_Query"),features:[core.qOj],decls:1,vars:1,consts:[[3,"formId","formModel","displaySubmit","displayCancel","dfChange","removeArrayItem",4,"ngIf"],[3,"formId","formModel","displaySubmit","displayCancel","dfChange","removeArrayItem"],["formRef","formComponent"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,SubmissionSectionAccessesComponent_ds_form_0_Template,2,4,"ds-form",0),2&rf&&core.Q6J("ngIf",!!ctx.formModel)},"SubmissionSectionAccessesComponent_Template"),dependencies:[common.O5,form_component.U],styles:[".access-condition-group{position:relative;top:-2.3rem;margin-bottom:-2.3rem}"]}),section_accesses_component_class);SubmissionSectionAccessesComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.AccessesCondition),(0,tslib_es6.__metadata)("design:paramtypes",[sections_service.J,form_builder_service.c,SubmissionAccessesConfigDataService,SectionAccessesService,SectionFormOperationsService,json_patch_operations_builder.w,form_service.o,ngx_translate_core.sK,submission_json_patch_operations_service.E,Object,String])],SubmissionSectionAccessesComponent);var section_sherpa_policies_component_class,alert_type=__webpack_require__(58409),alert_component=__webpack_require__(74369);function ContentAccordionComponent_span_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",15),core._uU(2),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(2),core.AsE(" ",ctx_r0.version.embargo.amount," ",null==ctx_r0.version.embargo?null:ctx_r0.version.embargo.units[0],"")}}function ContentAccordionComponent_ng_template_9_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",15),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"submission.sections.sherpa.publisher.policy.noembargo"),""))}function ContentAccordionComponent_span_13_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._uU(1),core.qZA()),2&rf){const ctx_r10=core.oxw(2);core.xp6(1),core.hij("+",ctx_r10.version.locations.length-1,"")}}function ContentAccordionComponent_span_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._uU(1),core.YNc(2,ContentAccordionComponent_span_13_span_2_Template,2,1,"span",16),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.hij(" ",ctx_r3.version.locations[0]," "),core.xp6(1),core.Q6J("ngIf",ctx_r3.version.locations.length>1)}}function ContentAccordionComponent_ng_template_14_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"submission.sections.sherpa.publisher.policy.nolocation")))}function ContentAccordionComponent_span_17_Template(rf,ctx){1&rf&&core._UZ(0,"span",17)}function ContentAccordionComponent_span_18_Template(rf,ctx){1&rf&&core._UZ(0,"span",18)}function ContentAccordionComponent_div_21_div_1_p_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.qZA()),2&rf){const ctx_r16=core.oxw(3);core.xp6(1),core.AsE("",ctx_r16.version.embargo.amount," ",ctx_r16.version.embargo.units,"")}}function ContentAccordionComponent_div_21_div_1_ng_template_8_Template(rf,ctx){1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"submission.sections.sherpa.publisher.policy.noembargo")))}function ContentAccordionComponent_div_21_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21)(1,"div",22)(2,"p",23),core._UZ(3,"i",15),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",24),core.YNc(7,ContentAccordionComponent_div_21_div_1_p_7_Template,2,2,"p",25),core.YNc(8,ContentAccordionComponent_div_21_div_1_ng_template_8_Template,3,3,"ng-template",null,26,core.W1O),core.qZA()()),2&rf){const _r17=core.MAs(9),ctx_r11=core.oxw(2);core.xp6(4),core.hij(" ",core.lcZ(5,3,"submission.sections.sherpa.publisher.policy.embargo"),""),core.xp6(3),core.Q6J("ngIf",!!ctx_r11.version.embargo)("ngIfElse",_r17)}}function ContentAccordionComponent_div_21_div_2_p_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.qZA()),2&rf){const license_r20=ctx.$implicit;core.xp6(1),core.Oqu(license_r20)}}function ContentAccordionComponent_div_21_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21)(1,"div",22)(2,"p",23),core._UZ(3,"i",27),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",24),core.YNc(7,ContentAccordionComponent_div_21_div_2_p_7_Template,2,1,"p",28),core.qZA()()),2&rf){const ctx_r12=core.oxw(2);core.xp6(4),core.hij(" ",core.lcZ(5,2,"submission.sections.sherpa.publisher.policy.license"),""),core.xp6(3),core.Q6J("ngForOf",ctx_r12.version.licenses)}}function ContentAccordionComponent_div_21_div_3_p_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.qZA()),2&rf){const prerequisite_r22=ctx.$implicit;core.xp6(1),core.Oqu(prerequisite_r22)}}function ContentAccordionComponent_div_21_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21)(1,"div",22)(2,"p",23),core._UZ(3,"i",29),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",24),core.YNc(7,ContentAccordionComponent_div_21_div_3_p_7_Template,2,1,"p",28),core.qZA()()),2&rf){const ctx_r13=core.oxw(2);core.xp6(4),core.hij(" ",core.lcZ(5,2,"submission.sections.sherpa.publisher.policy.prerequisites"),""),core.xp6(3),core.Q6J("ngForOf",ctx_r13.version.prerequisites)}}function ContentAccordionComponent_div_21_div_4_p_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.qZA()),2&rf){const location_r24=ctx.$implicit;core.xp6(1),core.Oqu(location_r24)}}function ContentAccordionComponent_div_21_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21)(1,"div",22)(2,"p",23),core._UZ(3,"i",7),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",24),core.YNc(7,ContentAccordionComponent_div_21_div_4_p_7_Template,2,1,"p",28),core.qZA()()),2&rf){const ctx_r14=core.oxw(2);core.xp6(4),core.hij(" ",core.lcZ(5,2,"submission.sections.sherpa.publisher.policy.location"),""),core.xp6(3),core.Q6J("ngForOf",ctx_r14.version.locations)}}function ContentAccordionComponent_div_21_div_5_p_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",23),core._uU(1),core.qZA()),2&rf){const condition_r26=ctx.$implicit;core.xp6(1),core.Oqu(condition_r26)}}function ContentAccordionComponent_div_21_div_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21)(1,"div",22)(2,"p",23),core._UZ(3,"i",30),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",24),core.YNc(7,ContentAccordionComponent_div_21_div_5_p_7_Template,2,1,"p",28),core.qZA()()),2&rf){const ctx_r15=core.oxw(2);core.xp6(4),core.hij(" ",core.lcZ(5,2,"submission.sections.sherpa.publisher.policy.conditions"),""),core.xp6(3),core.Q6J("ngForOf",ctx_r15.version.conditions)}}function ContentAccordionComponent_div_21_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",19),core.YNc(1,ContentAccordionComponent_div_21_div_1_Template,10,5,"div",20),core.YNc(2,ContentAccordionComponent_div_21_div_2_Template,8,4,"div",20),core.YNc(3,ContentAccordionComponent_div_21_div_3_Template,8,4,"div",20),core.YNc(4,ContentAccordionComponent_div_21_div_4_Template,8,4,"div",20),core.YNc(5,ContentAccordionComponent_div_21_div_5_Template,8,4,"div",20),core.qZA()),2&rf){const ctx_r9=core.oxw();core.xp6(1),core.Q6J("ngIf",!(null==ctx_r9.version||!ctx_r9.version.embargo||null==ctx_r9.version||!ctx_r9.version.embargo.amount)),core.xp6(1),core.Q6J("ngIf",!(null==ctx_r9.version||!ctx_r9.version.licenses)&&ctx_r9.version.licenses.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx_r9.version||!ctx_r9.version.prerequisites)&&ctx_r9.version.prerequisites.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx_r9.version||!ctx_r9.version.locations)&&ctx_r9.version.locations.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx_r9.version||!ctx_r9.version.conditions)&&ctx_r9.version.conditions.length>0)}}__name(ContentAccordionComponent_span_8_Template,"ContentAccordionComponent_span_8_Template"),__name(ContentAccordionComponent_ng_template_9_Template,"ContentAccordionComponent_ng_template_9_Template"),__name(ContentAccordionComponent_span_13_span_2_Template,"ContentAccordionComponent_span_13_span_2_Template"),__name(ContentAccordionComponent_span_13_Template,"ContentAccordionComponent_span_13_Template"),__name(ContentAccordionComponent_ng_template_14_Template,"ContentAccordionComponent_ng_template_14_Template"),__name(ContentAccordionComponent_span_17_Template,"ContentAccordionComponent_span_17_Template"),__name(ContentAccordionComponent_span_18_Template,"ContentAccordionComponent_span_18_Template"),__name(ContentAccordionComponent_div_21_div_1_p_7_Template,"ContentAccordionComponent_div_21_div_1_p_7_Template"),__name(ContentAccordionComponent_div_21_div_1_ng_template_8_Template,"ContentAccordionComponent_div_21_div_1_ng_template_8_Template"),__name(ContentAccordionComponent_div_21_div_1_Template,"ContentAccordionComponent_div_21_div_1_Template"),__name(ContentAccordionComponent_div_21_div_2_p_7_Template,"ContentAccordionComponent_div_21_div_2_p_7_Template"),__name(ContentAccordionComponent_div_21_div_2_Template,"ContentAccordionComponent_div_21_div_2_Template"),__name(ContentAccordionComponent_div_21_div_3_p_7_Template,"ContentAccordionComponent_div_21_div_3_p_7_Template"),__name(ContentAccordionComponent_div_21_div_3_Template,"ContentAccordionComponent_div_21_div_3_Template"),__name(ContentAccordionComponent_div_21_div_4_p_7_Template,"ContentAccordionComponent_div_21_div_4_p_7_Template"),__name(ContentAccordionComponent_div_21_div_4_Template,"ContentAccordionComponent_div_21_div_4_Template"),__name(ContentAccordionComponent_div_21_div_5_p_7_Template,"ContentAccordionComponent_div_21_div_5_p_7_Template"),__name(ContentAccordionComponent_div_21_div_5_Template,"ContentAccordionComponent_div_21_div_5_Template"),__name(ContentAccordionComponent_div_21_Template,"ContentAccordionComponent_div_21_Template");class ContentAccordionComponent{constructor(){this.isCollapsed=!0}}function PublisherPolicyComponent_ds_content_accordion_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-content-accordion",3),2&rf){const permittedVersions_r2=ctx.$implicit;core.Q6J("version",permittedVersions_r2)}}function PublisherPolicyComponent_div_2_li_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li")(1,"a",8),core._uU(2),core.qZA()()),2&rf){const url_r4=ctx.$implicit;core.xp6(1),core.s9C("href",url_r4.key,core.LSH),core.xp6(1),core.Oqu(url_r4.value)}}function PublisherPolicyComponent_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",4)(1,"div",5)(2,"p",6),core._uU(3),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ul"),core.YNc(6,PublisherPolicyComponent_div_2_li_6_Template,3,2,"li",7),core.ALo(7,"keyvalue"),core.qZA()()()),2&rf){const ctx_r1=core.oxw();core.xp6(3),core.hij(" ",core.lcZ(4,2,"submission.sections.sherpa.publisher.policy.more.information")," "),core.xp6(3),core.Q6J("ngForOf",core.lcZ(7,4,ctx_r1.policy.urls))}}__name(ContentAccordionComponent,"ContentAccordionComponent"),ContentAccordionComponent.\u0275fac=__name(function(t){return new(t||ContentAccordionComponent)},"ContentAccordionComponent_Factory"),ContentAccordionComponent.\u0275cmp=core.Xpm({type:ContentAccordionComponent,selectors:[["ds-content-accordion"]],inputs:{version:"version"},decls:22,vars:15,consts:[["data-test","collapse",1,"mb-3","border-bottom"],[1,"w-100","d-flex","justify-content-between","collapse-toggle",3,"click"],[1,"d-flex"],["type","button","aria-controls","collapseExample",1,"btn","btn-link","p-0","mr-4",3,"click"],[4,"ngIf","ngIfElse"],["noEmbargoTitle",""],[1,"m-1","ml-4"],[1,"far","fa-folder-open"],["noLocations",""],[1,"d-inline-block"],["class","fas fa-chevron-down",4,"ngIf"],["class","fas fa-chevron-up",4,"ngIf"],[3,"ngbCollapse"],["collapse","ngbCollapse"],["class","ml-4",4,"ngIf"],[1,"fas","fa-hourglass-half"],[4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[1,"ml-4"],["class","row",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"m-1"],[1,"col-6"],["class","m-1",4,"ngIf","ngIfElse"],["noEmbargo",""],[1,"fas","fa-certificate"],["class","m-1",4,"ngFor","ngForOf"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-tasks"]],template:__name(function(rf,ctx){if(1&rf){const _r27=core.EpF();core.TgZ(0,"div",0)(1,"div",1),core.NdJ("click",__name(function(){core.CHM(_r27);const _r8=core.MAs(20);return core.KtG(_r8.toggle())},"ContentAccordionComponent_Template_div_click_1_listener")),core.TgZ(2,"div",2)(3,"button",3),core.NdJ("click",__name(function($event){return $event.preventDefault()},"ContentAccordionComponent_Template_button_click_3_listener")),core._uU(4),core.ALo(5,"titlecase"),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div"),core.YNc(8,ContentAccordionComponent_span_8_Template,3,2,"span",4),core.YNc(9,ContentAccordionComponent_ng_template_9_Template,4,3,"ng-template",null,5,core.W1O),core.TgZ(11,"span",6),core._UZ(12,"i",7),core.YNc(13,ContentAccordionComponent_span_13_Template,3,2,"span",4),core.YNc(14,ContentAccordionComponent_ng_template_14_Template,3,3,"ng-template",null,8,core.W1O),core.qZA()()(),core.TgZ(16,"div",9),core.YNc(17,ContentAccordionComponent_span_17_Template,1,0,"span",10),core.YNc(18,ContentAccordionComponent_span_18_Template,1,0,"span",11),core.qZA()(),core.TgZ(19,"div",12,13),core.YNc(21,ContentAccordionComponent_div_21_Template,6,5,"div",14),core.qZA()()}if(2&rf){const _r1=core.MAs(10),_r4=core.MAs(15),_r8=core.MAs(20);core.xp6(3),core.uIk("aria-expanded",!_r8.collapsed),core.xp6(1),core.AsE(" ",core.lcZ(5,11,ctx.version.articleVersion)," ",core.lcZ(6,13,"submission.sections.sherpa.publisher.policy.version")," "),core.xp6(4),core.Q6J("ngIf",!(null==ctx.version||!ctx.version.embargo||null==ctx.version||!ctx.version.embargo.amount))("ngIfElse",_r1),core.xp6(5),core.Q6J("ngIf",!(null==ctx.version||!ctx.version.locations)&&ctx.version.locations.length>0)("ngIfElse",_r4),core.xp6(4),core.Q6J("ngIf",_r8.collapsed),core.xp6(1),core.Q6J("ngIf",!_r8.collapsed),core.xp6(1),core.Q6J("ngbCollapse",ctx.isCollapsed),core.xp6(2),core.Q6J("ngIf",!!ctx.version)}},"ContentAccordionComponent_Template"),dependencies:[common.sg,common.O5,ng_bootstrap._D,common.rS,ngx_translate_core.X$]}),__name(PublisherPolicyComponent_ds_content_accordion_1_Template,"PublisherPolicyComponent_ds_content_accordion_1_Template"),__name(PublisherPolicyComponent_div_2_li_6_Template,"PublisherPolicyComponent_div_2_li_6_Template"),__name(PublisherPolicyComponent_div_2_Template,"PublisherPolicyComponent_div_2_Template");class PublisherPolicyComponent{constructor(){this.AlertTypeEnum=alert_type.N}}function PublicationInformationComponent_div_1_p_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",4),core._uU(1),core.qZA()),2&rf){const title_r7=ctx.$implicit;core.xp6(1),core.hij("",title_r7," ")}}function PublicationInformationComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",3),core.YNc(6,PublicationInformationComponent_div_1_p_6_Template,2,1,"p",5),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.publication.information.title")),core.xp6(3),core.Q6J("ngForOf",ctx_r0.journal.titles)}}function PublicationInformationComponent_div_2_p_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",4),core._uU(1),core.qZA()),2&rf){const issn_r9=ctx.$implicit;core.xp6(1),core.hij("",issn_r9," ")}}function PublicationInformationComponent_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",3),core.YNc(6,PublicationInformationComponent_div_2_p_6_Template,2,1,"p",5),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.publication.information.issns")),core.xp6(3),core.Q6J("ngForOf",ctx_r1.journal.issns)}}function PublicationInformationComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",3)(6,"p",4)(7,"a",6),core._uU(8),core.qZA()()()()),2&rf){const ctx_r2=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,3,"submission.sections.sherpa.publication.information.url")),core.xp6(4),core.s9C("href",ctx_r2.journal.url,core.LSH),core.xp6(1),core.hij(" ",ctx_r2.journal.url," ")}}function PublicationInformationComponent_div_4_div_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",3)(1,"p",4)(2,"a",6),core._uU(3),core.qZA()()()),2&rf){const publisher_r11=ctx.$implicit;core.xp6(2),core.s9C("href",publisher_r11.uri,core.LSH),core.xp6(1),core.hij(" ",publisher_r11.name," ")}}function PublicationInformationComponent_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.YNc(5,PublicationInformationComponent_div_4_div_5_Template,4,2,"div",7),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.publication.information.publishers")),core.xp6(2),core.Q6J("ngForOf",ctx_r3.journal.publishers)}}function PublicationInformationComponent_div_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",3)(6,"p",4),core._uU(7),core.qZA()()()),2&rf){const ctx_r4=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.publication.information.romeoPub")),core.xp6(4),core.hij(" ",ctx_r4.journal.romeoPub," ")}}function PublicationInformationComponent_div_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",3)(6,"p",4),core._uU(7),core.qZA()()()),2&rf){const ctx_r5=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.publication.information.zetoPub")),core.xp6(4),core.hij(" ",ctx_r5.journal.zetoPub," ")}}__name(PublisherPolicyComponent,"PublisherPolicyComponent"),PublisherPolicyComponent.\u0275fac=__name(function(t){return new(t||PublisherPolicyComponent)},"PublisherPolicyComponent_Factory"),PublisherPolicyComponent.\u0275cmp=core.Xpm({type:PublisherPolicyComponent,selectors:[["ds-publisher-policy"]],inputs:{policy:"policy"},decls:3,vars:2,consts:[[1,"ml-4"],[3,"version",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"version"],[1,"row"],[1,"col-12"],[1,"m-1"],[4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PublisherPolicyComponent_ds_content_accordion_1_Template,1,1,"ds-content-accordion",1),core.YNc(2,PublisherPolicyComponent_div_2_Template,8,6,"div",2),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngForOf",ctx.policy.permittedVersions),core.xp6(1),core.Q6J("ngIf",!(null==ctx.policy||!ctx.policy.urls)))},"PublisherPolicyComponent_Template"),dependencies:[common.sg,common.O5,ContentAccordionComponent,common.Nd,ngx_translate_core.X$]}),__name(PublicationInformationComponent_div_1_p_6_Template,"PublicationInformationComponent_div_1_p_6_Template"),__name(PublicationInformationComponent_div_1_Template,"PublicationInformationComponent_div_1_Template"),__name(PublicationInformationComponent_div_2_p_6_Template,"PublicationInformationComponent_div_2_p_6_Template"),__name(PublicationInformationComponent_div_2_Template,"PublicationInformationComponent_div_2_Template"),__name(PublicationInformationComponent_div_3_Template,"PublicationInformationComponent_div_3_Template"),__name(PublicationInformationComponent_div_4_div_5_Template,"PublicationInformationComponent_div_4_div_5_Template"),__name(PublicationInformationComponent_div_4_Template,"PublicationInformationComponent_div_4_Template"),__name(PublicationInformationComponent_div_5_Template,"PublicationInformationComponent_div_5_Template"),__name(PublicationInformationComponent_div_6_Template,"PublicationInformationComponent_div_6_Template");class PublicationInformationComponent{}function MetadataInformationComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",5)(6,"p",4),core._uU(7),core.qZA()()()),2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.record.information.id")),core.xp6(4),core.hij("",ctx_r0.metadata.id," ")}}function MetadataInformationComponent_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",5)(6,"p",4),core._uU(7),core.ALo(8,"date"),core.qZA()()()),2&rf){const ctx_r1=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.record.information.date.created")),core.xp6(4),core.hij("",core.xi3(8,4,ctx_r1.metadata.dateCreated,"d MMMM Y H:mm:ss zzzz")," ")}}function MetadataInformationComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",5)(6,"p",4),core._uU(7),core.ALo(8,"date"),core.qZA()()()),2&rf){const ctx_r2=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.sherpa.record.information.date.modified")),core.xp6(4),core.hij("",core.xi3(8,4,ctx_r2.metadata.dateModified,"d MMMM Y H:mm:ss zzzz")," ")}}function MetadataInformationComponent_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",2)(1,"div",3)(2,"p",4),core._uU(3),core.ALo(4,"translate"),core.qZA()(),core.TgZ(5,"div",5)(6,"p",4)(7,"a",6),core._uU(8),core.qZA()()()()),2&rf){const ctx_r3=core.oxw();core.xp6(3),core.Oqu(core.lcZ(4,3,"submission.sections.sherpa.record.information.uri")),core.xp6(4),core.Q6J("href",ctx_r3.metadata.uri,core.LSH),core.xp6(1),core.Oqu(ctx_r3.metadata.uri)}}__name(PublicationInformationComponent,"PublicationInformationComponent"),PublicationInformationComponent.\u0275fac=__name(function(t){return new(t||PublicationInformationComponent)},"PublicationInformationComponent_Factory"),PublicationInformationComponent.\u0275cmp=core.Xpm({type:PublicationInformationComponent,selectors:[["ds-publication-information"]],inputs:{journal:"journal"},decls:7,vars:6,consts:[[1,"ml-4"],["class","row",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"m-1"],["class","m-1",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"href"],["class","col-4",4,"ngFor","ngForOf"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PublicationInformationComponent_div_1_Template,7,4,"div",1),core.YNc(2,PublicationInformationComponent_div_2_Template,7,4,"div",1),core.YNc(3,PublicationInformationComponent_div_3_Template,9,5,"div",1),core.YNc(4,PublicationInformationComponent_div_4_Template,6,4,"div",1),core.YNc(5,PublicationInformationComponent_div_5_Template,8,4,"div",1),core.YNc(6,PublicationInformationComponent_div_6_Template,8,4,"div",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.titles)&&ctx.journal.titles.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.issns)&&ctx.journal.issns.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.url)),core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.publishers)&&ctx.journal.publishers.length>0),core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.romeoPub)),core.xp6(1),core.Q6J("ngIf",!(null==ctx.journal||!ctx.journal.zetoPub)))},"PublicationInformationComponent_Template"),dependencies:[common.sg,common.O5,ngx_translate_core.X$]}),__name(MetadataInformationComponent_div_1_Template,"MetadataInformationComponent_div_1_Template"),__name(MetadataInformationComponent_div_2_Template,"MetadataInformationComponent_div_2_Template"),__name(MetadataInformationComponent_div_3_Template,"MetadataInformationComponent_div_3_Template"),__name(MetadataInformationComponent_div_4_Template,"MetadataInformationComponent_div_4_Template");class MetadataInformationComponent{}function SubmissionSectionSherpaPoliciesComponent_ds_alert_0_Template(rf,ctx){1&rf&&core._UZ(0,"ds-alert",3),2&rf&&core.Q6J("type","alert-info")("content","submission.sections.sherpa-policy.title-empty")}function SubmissionSectionSherpaPoliciesComponent_div_1_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div",4)(1,"ds-alert",5),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"div")(5,"button",6),core.NdJ("click",__name(function(){core.CHM(_r4);const ctx_r3=core.oxw();return core.KtG(ctx_r3.refresh())},"SubmissionSectionSherpaPoliciesComponent_div_1_Template_button_click_5_listener")),core.TgZ(6,"span"),core._UZ(7,"i",7),core._uU(8),core.ALo(9,"translate"),core.qZA()()()()}2&rf&&(core.xp6(1),core.Q6J("type","alert-info"),core.xp6(1),core.hij(" ",core.lcZ(3,3,"submission.sections.sherpa.publisher.policy.description")," "),core.xp6(6),core.hij(" ",core.lcZ(9,5,"submission.sections.sherpa.publisher.policy.refresh")," "))}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_7_Template(rf,ctx){1&rf&&core._UZ(0,"span",21)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_8_Template(rf,ctx){1&rf&&core._UZ(0,"span",22)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_6_Template(rf,ctx){1&rf&&core._UZ(0,"span",21)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_7_Template(rf,ctx){1&rf&&core._UZ(0,"span",22)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.TgZ(0,"div",10)(1,"div",11),core.NdJ("click",__name(function(){core.CHM(_r24);const _r22=core.MAs(9);return core.KtG(_r22.toggle())},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template_div_click_1_listener")),core.TgZ(2,"button",12),core.NdJ("click",__name(function($event){return $event.preventDefault()},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template_button_click_2_listener")),core._uU(3),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"div",13),core.YNc(6,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_6_Template,1,0,"span",14),core.YNc(7,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_7_Template,1,0,"span",15),core.qZA()(),core.TgZ(8,"div",16,17),core._UZ(10,"ds-publisher-policy",23),core.qZA()()}if(2&rf){const policy_r18=ctx.$implicit,_r22=core.MAs(9),ctx_r17=core.oxw(4);core.xp6(2),core.uIk("aria-expanded",!_r22.collapsed),core.xp6(1),core.hij(" ",core.lcZ(4,6,"submission.sections.sherpa.publisher.policy")," "),core.xp6(3),core.Q6J("ngIf",_r22.collapsed),core.xp6(1),core.Q6J("ngIf",!_r22.collapsed),core.xp6(1),core.Q6J("ngbCollapse",ctx_r17.isCollapsed),core.xp6(2),core.Q6J("policy",policy_r18)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf){const _r27=core.EpF();core.ynx(0),core.TgZ(1,"div",10)(2,"div",11),core.NdJ("click",__name(function(){core.CHM(_r27);const _r16=core.MAs(10);return core.KtG(_r16.toggle())},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template_div_click_2_listener")),core.TgZ(3,"button",12),core.NdJ("click",__name(function($event){return $event.preventDefault()},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template_button_click_3_listener")),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"div",13),core.YNc(7,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_7_Template,1,0,"span",14),core.YNc(8,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_8_Template,1,0,"span",15),core.qZA()(),core.TgZ(9,"div",16,17),core._UZ(11,"ds-publication-information",19),core.qZA()(),core.YNc(12,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template,11,8,"div",20),core.BQk()}if(2&rf){const journal_r12=ctx.$implicit,_r16=core.MAs(10),ctx_r8=core.oxw(3);core.xp6(3),core.uIk("aria-expanded",!_r16.collapsed),core.xp6(1),core.hij(" ",core.lcZ(5,7,"submission.sections.sherpa.publication.information")," "),core.xp6(3),core.Q6J("ngIf",_r16.collapsed),core.xp6(1),core.Q6J("ngIf",!_r16.collapsed),core.xp6(1),core.Q6J("ngbCollapse",ctx_r8.isCollapsed),core.xp6(2),core.Q6J("journal",journal_r12),core.xp6(1),core.Q6J("ngForOf",journal_r12.policies)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_8_Template(rf,ctx){1&rf&&core._UZ(0,"span",21)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_9_Template(rf,ctx){1&rf&&core._UZ(0,"span",22)}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template(rf,ctx){if(1&rf){const _r30=core.EpF();core.ynx(0),core.YNc(1,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template,13,9,"ng-container",9),core.TgZ(2,"div",10)(3,"div",11),core.NdJ("click",__name(function(){core.CHM(_r30);const _r11=core.MAs(11);return core.KtG(_r11.toggle())},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template_div_click_3_listener")),core.TgZ(4,"button",12),core.NdJ("click",__name(function($event){return $event.preventDefault()},"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template_button_click_4_listener")),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div",13),core.YNc(8,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_8_Template,1,0,"span",14),core.YNc(9,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_9_Template,1,0,"span",15),core.qZA()(),core.TgZ(10,"div",16,17),core._UZ(12,"ds-metadata-information",18),core.qZA()(),core.BQk()}if(2&rf){const _r11=core.MAs(11),sherpaData_r5=core.oxw().ngVar,ctx_r6=core.oxw();core.xp6(1),core.Q6J("ngForOf",sherpaData_r5.journals),core.xp6(3),core.uIk("aria-expanded",!_r11.collapsed),core.xp6(1),core.hij(" ",core.lcZ(6,7,"submission.sections.sherpa.record.information")," "),core.xp6(3),core.Q6J("ngIf",_r11.collapsed),core.xp6(1),core.Q6J("ngIf",!_r11.collapsed),core.xp6(1),core.Q6J("ngbCollapse",ctx_r6.isCollapsed),core.xp6(2),core.Q6J("metadata",sherpaData_r5.metadata)}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-alert",3),core.ALo(2,"translate"),core.BQk()),2&rf){const sherpaData_r5=core.oxw().ngVar,ctx_r7=core.oxw();core.xp6(1),core.Q6J("type",ctx_r7.AlertTypeEnum.Error)("content",sherpaData_r5.message?sherpaData_r5.message:core.lcZ(2,2,"submission.sections.sherpa.error.message"))}}function SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template,13,9,"ng-container",8),core.YNc(2,SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_2_Template,3,4,"ng-container",8),core.BQk()),2&rf){const sherpaData_r5=ctx.ngVar,ctx_r2=core.oxw();core.xp6(1),core.Q6J("ngIf",!ctx_r2.hasNoData()&&!!sherpaData_r5&&!sherpaData_r5.error),core.xp6(1),core.Q6J("ngIf",!!sherpaData_r5&&sherpaData_r5.error)}}__name(MetadataInformationComponent,"MetadataInformationComponent"),MetadataInformationComponent.\u0275fac=__name(function(t){return new(t||MetadataInformationComponent)},"MetadataInformationComponent_Factory"),MetadataInformationComponent.\u0275cmp=core.Xpm({type:MetadataInformationComponent,selectors:[["ds-metadata-information"]],inputs:{metadata:"metadata"},decls:5,vars:4,consts:[[1,"ml-4"],["class","row",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"m-1"],[1,"col-8"],["target","_blank",3,"href"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,MetadataInformationComponent_div_1_Template,8,4,"div",1),core.YNc(2,MetadataInformationComponent_div_2_Template,9,7,"div",1),core.YNc(3,MetadataInformationComponent_div_3_Template,9,7,"div",1),core.YNc(4,MetadataInformationComponent_div_4_Template,9,5,"div",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngIf",!(null==ctx.metadata||!ctx.metadata.id)),core.xp6(1),core.Q6J("ngIf",!(null==ctx.metadata||!ctx.metadata.dateCreated)),core.xp6(1),core.Q6J("ngIf",!(null==ctx.metadata||!ctx.metadata.dateModified)),core.xp6(1),core.Q6J("ngIf",!(null==ctx.metadata||!ctx.metadata.uri)))},"MetadataInformationComponent_Template"),dependencies:[common.O5,common.uU,ngx_translate_core.X$]}),__name(SubmissionSectionSherpaPoliciesComponent_ds_alert_0_Template,"SubmissionSectionSherpaPoliciesComponent_ds_alert_0_Template"),__name(SubmissionSectionSherpaPoliciesComponent_div_1_Template,"SubmissionSectionSherpaPoliciesComponent_div_1_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_7_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_7_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_8_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_span_8_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_6_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_6_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_7_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_span_7_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_div_12_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_ng_container_1_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_8_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_8_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_9_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_span_9_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_1_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_2_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_ng_container_2_Template"),__name(SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template,"SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template");let SubmissionSectionSherpaPoliciesComponent=((section_sherpa_policies_component_class=__name(class extends section_model.v{constructor(sectionService,operationsBuilder,submissionService,injectedSectionData,injectedSubmissionId){super(void 0,injectedSectionData,injectedSubmissionId),this.sectionService=sectionService,this.operationsBuilder=operationsBuilder,this.submissionService=submissionService,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.sherpaPoliciesData$=new cjs.BehaviorSubject(null),this.subs=[],this.isCollapsed=!1,this.AlertTypeEnum=alert_type.N}onSectionDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onSectionInit(){this.pathCombiner=new json_patch_operation_path_combiner.K("sections",this.sectionData.id),this.subs.push(this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType).subscribe(sherpaPolicies=>{this.sherpaPoliciesData$.next(sherpaPolicies)}))}getSectionStatus(){return(0,cjs.of)(!0)}hasNoData(){return(0,empty_util.xb)(this.sherpaPoliciesData$.value)}refresh(){this.operationsBuilder.remove(this.pathCombiner.getPath("retrievalTime")),this.submissionService.dispatchSaveSection(this.submissionId,this.sectionData.id)}},"SubmissionSectionSherpaPoliciesComponent")).\u0275fac=__name(function(t){return new(t||section_sherpa_policies_component_class)(core.Y36(sections_service.J),core.Y36(json_patch_operations_builder.w),core.Y36(submission_service.b),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionSherpaPoliciesComponent_Factory"),section_sherpa_policies_component_class.\u0275cmp=core.Xpm({type:section_sherpa_policies_component_class,selectors:[["ds-section-sherpa-policies"]],features:[core.qOj],decls:4,vars:5,consts:[[3,"type","content",4,"ngIf"],["class","d-flex flex-column flex-nowrap mt-2 mb-4",4,"ngIf"],[4,"ngVar"],[3,"type","content"],[1,"d-flex","flex-column","flex-nowrap","mt-2","mb-4"],[3,"type"],["type","button","data-test","refresh-btn",1,"btn","btn-secondary","float-right",3,"click"],[1,"fas","fa-sync"],[4,"ngIf"],[4,"ngFor","ngForOf"],["data-test","collapse",1,"mb-3","border-bottom"],[1,"w-100","d-flex","justify-content-between","collapse-toggle","mb-3",3,"click"],["type","button","aria-controls","collapseExample",1,"btn","btn-link","p-0",3,"click"],[1,"d-inline-block"],["class","fas fa-chevron-down",4,"ngIf"],["class","fas fa-chevron-up",4,"ngIf"],[3,"ngbCollapse"],["collapse","ngbCollapse"],[3,"metadata"],[3,"journal"],["class","mb-3 border-bottom","data-test","collapse",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[3,"policy"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,SubmissionSectionSherpaPoliciesComponent_ds_alert_0_Template,1,2,"ds-alert",0),core.YNc(1,SubmissionSectionSherpaPoliciesComponent_div_1_Template,10,7,"div",1),core.YNc(2,SubmissionSectionSherpaPoliciesComponent_ng_container_2_Template,3,2,"ng-container",2),core.ALo(3,"async")),2&rf){let tmp_2_0;core.Q6J("ngIf",ctx.hasNoData()),core.xp6(1),core.Q6J("ngIf",!ctx.hasNoData()),core.xp6(1),core.Q6J("ngVar",null==(tmp_2_0=core.lcZ(3,3,ctx.sherpaPoliciesData$))?null:tmp_2_0.sherpaResponse)}},"SubmissionSectionSherpaPoliciesComponent_Template"),dependencies:[common.sg,common.O5,alert_component.w,var_directive.g,ng_bootstrap._D,PublisherPolicyComponent,PublicationInformationComponent,MetadataInformationComponent,common.Ov,ngx_translate_core.X$]}),section_sherpa_policies_component_class);SubmissionSectionSherpaPoliciesComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.SherpaPolicies),(0,tslib_es6.__metadata)("design:paramtypes",[sections_service.J,json_patch_operations_builder.w,submission_service.b,Object,String])],SubmissionSectionSherpaPoliciesComponent);var section_identifiers_component_class,upload_module=__webpack_require__(76382);function SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"li"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.BQk()),2&rf){const identifier_r4=core.oxw().$implicit;core.xp6(2),core.AsE("",core.lcZ(3,2,"submission.sections.identifiers."+identifier_r4.identifierType+"_label")," ",identifier_r4.value,"")}}function SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_ng_container_1_Template,4,4,"ng-container",1),core.BQk()),2&rf){const identifier_r4=ctx.$implicit,identifierData_r1=core.oxw(2).ngVar;core.xp6(1),core.Q6J("ngIf",identifierData_r1.displayTypes.includes(identifier_r4.identifierType)&&identifier_r4.value)}}function SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div")(2,"span"),core._uU(3),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ul"),core.YNc(6,SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_Template,2,1,"ng-container",2),core.qZA()(),core.BQk()),2&rf){const identifierData_r1=core.oxw().ngVar;core.xp6(3),core.Oqu(core.lcZ(4,2,"submission.sections.identifiers.info")),core.xp6(3),core.Q6J("ngForOf",identifierData_r1.identifiers)}}function SubmissionSectionIdentifiersComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_Template,7,4,"ng-container",1),core.BQk()),2&rf){const identifierData_r1=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",identifierData_r1&&identifierData_r1.identifiers)}}__name(SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_ng_container_1_Template,"SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_ng_container_1_Template"),__name(SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_Template,"SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_ng_container_6_Template"),__name(SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_Template,"SubmissionSectionIdentifiersComponent_ng_container_0_ng_container_1_Template"),__name(SubmissionSectionIdentifiersComponent_ng_container_0_Template,"SubmissionSectionIdentifiersComponent_ng_container_0_Template");let SubmissionSectionIdentifiersComponent=((section_identifiers_component_class=__name(class extends section_model.v{constructor(translate,sectionService,submissionService,injectedCollectionId,injectedSectionData,injectedSubmissionId){super(injectedCollectionId,injectedSectionData,injectedSubmissionId),this.translate=translate,this.sectionService=sectionService,this.submissionService=submissionService,this.injectedCollectionId=injectedCollectionId,this.injectedSectionData=injectedSectionData,this.injectedSubmissionId=injectedSubmissionId,this.AlertTypeEnum=alert_type.N,this.isLoading=!0,this.identifierData$=new cjs.Observable,this.subs=[]}ngOnInit(){super.ngOnInit()}onSectionInit(){this.isLoading=!1,this.identifierData$=this.getIdentifierData()}isReadOnly(){return!0}onSectionDestroy(){}getSectionStatus(){return(0,cjs.of)(!this.isLoading)}getIdentifierData(){return this.sectionService.getSectionData(this.submissionId,this.sectionData.id,this.sectionData.sectionType)}},"SubmissionSectionIdentifiersComponent")).\u0275fac=__name(function(t){return new(t||section_identifiers_component_class)(core.Y36(ngx_translate_core.sK),core.Y36(sections_service.J),core.Y36(submission_service.b),core.Y36("collectionIdProvider"),core.Y36("sectionDataProvider"),core.Y36("submissionIdProvider"))},"SubmissionSectionIdentifiersComponent_Factory"),section_identifiers_component_class.\u0275cmp=core.Xpm({type:section_identifiers_component_class,selectors:[["ds-submission-section-identifiers"]],features:[core.qOj],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SubmissionSectionIdentifiersComponent_ng_container_0_Template,2,1,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngVar",core.lcZ(1,1,ctx.getIdentifierData()))},"SubmissionSectionIdentifiersComponent_Template"),dependencies:[common.sg,common.O5,var_directive.g,common.Ov,ngx_translate_core.X$],encapsulation:2}),section_identifiers_component_class);SubmissionSectionIdentifiersComponent=(0,tslib_es6.__decorate)([(0,sections_decorator.E)(sections_type.i.Identifiers),(0,tslib_es6.__metadata)("design:paramtypes",[ngx_translate_core.sK,sections_service.J,submission_service.b,String,Object,String])],SubmissionSectionIdentifiersComponent);const ENTRY_COMPONENTS=[section_upload_component.vk,SubmissionSectionFormComponent,SubmissionSectionLicenseComponent,SubmissionSectionCcLicensesComponent,SubmissionSectionAccessesComponent,SubmissionSectionSherpaPoliciesComponent];sections_directive.y,submission_edit_component.SubmissionEditComponent,themed_submission_edit_component.I,submission_form_section_add_component.i,submission_form_collection_component.z,submission_form_component.G,submission_form_footer_component.z,submission_submit_component.SubmissionSubmitComponent,themed_submission_submit_component.Y,submission_upload_files_component.h,section_container_component.y,submission_section_upload_access_conditions_component.O,section_upload_file_component.SubmissionSectionUploadFileComponent,section_upload_file_edit_component.e,section_upload_file_view_component.m,submission_import_external_component.SubmissionImportExternalComponent,themed_submission_import_external_component.i,submission_import_external_searchbar_component.p,submission_import_external_preview_component.v,submission_import_external_collection_component.L;class SubmissionModule{static withEntryComponents(){return{ngModule:SubmissionModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(SubmissionModule,"SubmissionModule"),SubmissionModule.\u0275fac=__name(function(t){return new(t||SubmissionModule)},"SubmissionModule_Factory"),SubmissionModule.\u0275mod=core.oAB({type:SubmissionModule}),SubmissionModule.\u0275inj=core.cJS({providers:[section_upload_service.K,sections_service.J,submission_uploads_config_data_service.w,SubmissionAccessesConfigDataService,SectionAccessesService,SectionFormOperationsService],imports:[common.ez,core_module.IR.forRoot(),shared_module.m,ngrx_store.Aw.forFeature("submission",submission_reducers.L,app_reducer.z7),ngrx_effects.sQ.forFeature(submissionEffects),journal_entities_module.x.withEntryComponents(),research_entities_module.a.withEntryComponents(),form_module.e,ng_bootstrap.bz,ng_bootstrap.lQ,ng_bootstrap.Gs,upload_module.c,form_module.e]}),core.B6R(section_upload_component.vk,function(){return[common.sg,common.O5,alert_component.w,submission_section_upload_access_conditions_component.O,ThemedSubmissionSectionUploadFileComponent]},function(){return[common.Ov,ngx_translate_core.X$]})},66366:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubmissionSubmitComponent:()=>SubmissionSubmitComponent});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(96846),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59501),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39373),_submission_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48416),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53829),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22476),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4330);class SubmissionSubmitComponent{constructor(changeDetectorRef,notificationsService,router,itemDataService,submissionService,translate,viewContainerRef,route){this.changeDetectorRef=changeDetectorRef,this.notificationsService=notificationsService,this.router=router,this.itemDataService=itemDataService,this.submissionService=submissionService,this.translate=translate,this.viewContainerRef=viewContainerRef,this.route=route,this.itemLink$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(void 0),this.subs=[],this.route.queryParams.subscribe(params=>{this.collectionParam=params.collection})}ngOnInit(){this.subs.push(this.submissionService.createSubmission(this.collectionParam).subscribe(submissionObject=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.K0)(submissionObject)&&((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.xb)(submissionObject)?(this.notificationsService.info(null,this.translate.get("submission.general.cannot_submit")),this.router.navigate(["/mydspace"])):this.router.navigate(["/workspaceitems",submissionObject.id,"edit"],{replaceUrl:!0}))}),this.itemLink$.pipe((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.iy)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.wt)(itemLink=>this.itemDataService.findByHref(itemLink)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.bh)(300)).subscribe(itemRd=>{this.item=itemRd.payload,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(subscription=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe()),this.viewContainerRef.clear(),this.changeDetectorRef.markForCheck()}}__name(SubmissionSubmitComponent,"SubmissionSubmitComponent"),SubmissionSubmitComponent.\u0275fac=__name(function(t){return new(t||SubmissionSubmitComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_7__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.T),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_3__.S),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_submission_service__WEBPACK_IMPORTED_MODULE_1__.b),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_7__.s_b),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.gz))},"SubmissionSubmitComponent_Factory"),SubmissionSubmitComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:SubmissionSubmitComponent,selectors:[["ds-submission-submit"]],decls:0,vars:0,template:__name(function(rf,ctx){},"SubmissionSubmitComponent_Template")})},25324:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>ThemedSubmissionSubmitComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209);function ThemedSubmissionSubmitComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSubmissionSubmitComponent_ng_template_0_Template,"ThemedSubmissionSubmitComponent_ng_template_0_Template");class ThemedSubmissionSubmitComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"SubmissionSubmitComponent"}importThemedComponent(themeName){return __webpack_require__(39881)(`./${themeName}/app/submission/submit/submission-submit.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,66366))}}__name(ThemedSubmissionSubmitComponent,"ThemedSubmissionSubmitComponent"),ThemedSubmissionSubmitComponent.\u0275fac=function(){let \u0275ThemedSubmissionSubmitComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSubmissionSubmitComponent_BaseFactory||(\u0275ThemedSubmissionSubmitComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedSubmissionSubmitComponent)))(t||ThemedSubmissionSubmitComponent)},"ThemedSubmissionSubmitComponent_Factory")}(),ThemedSubmissionSubmitComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedSubmissionSubmitComponent,selectors:[["ds-themed-submission-submit"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedSubmissionSubmitComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())},"ThemedSubmissionSubmitComponent_Template"),encapsulation:2})},48581:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _shared_empty_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59501);const regex=/([^\/]+)/g,regexShort=/\/sections\/(.*)/,__WEBPACK_DEFAULT_EXPORT__=__name(path=>("string"==typeof path?[path]:path).map(item=>item.match(regex)&&item.match(regex).length>2?{sectionId:item.match(regex)[1],fieldId:item.match(regex)[2],fieldIndex:(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_0__.Uh)(item.match(regex)[3])?+item.match(regex)[3]:0,originalPath:item}:{sectionId:item.match(regexShort)[1],originalPath:item}),"parseSectionErrorPaths")},24884:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48581);const __WEBPACK_DEFAULT_EXPORT__=__name((errors=[])=>{const errorsList=Object.create({});return errors.forEach(error=>{(0,_parseSectionErrorPaths__WEBPACK_IMPORTED_MODULE_0__.Z)(error.paths).forEach(path=>{const sectionError={path:path.originalPath,message:error.message};errorsList[path.sectionId]||(errorsList[path.sectionId]=[]),errorsList[path.sectionId].push(sectionError)})}),errorsList},"parseSectionErrors")},14363:(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__(96937),baseRest=__webpack_require__(19010),baseUniq=__webpack_require__(7974),isArrayLikeObject=__webpack_require__(34360),union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))});module.exports=union},71412:(module,__unused_webpack_exports,__webpack_require__)=>{var baseUniq=__webpack_require__(7974);function uniq(array){return array&&array.length?baseUniq(array):[]}__name(uniq,"uniq"),module.exports=uniq},64871:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C6:()=>FileSelectDirective,GN:()=>FileDropDirective,Ob:()=>FileUploadModule,bA:()=>FileUploader});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65159);function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}__name(isElement,"isElement");class FileLikeObject{constructor(fileOrInput){this.rawFile=fileOrInput;let fakePathOrObject=isElement(fileOrInput)?fileOrInput.value:fileOrInput;this["_createFrom"+("string"==typeof fakePathOrObject?"FakePath":"Object")](fakePathOrObject)}_createFromFakePath(path){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+path.slice(path.lastIndexOf(".")+1).toLowerCase(),this.name=path.slice(path.lastIndexOf("/")+path.lastIndexOf("\\")+2)}_createFromObject(object){this.size=object.size,this.type=object.type,this.name=object.name}}__name(FileLikeObject,"FileLikeObject");class FileItem{constructor(uploader,some,options){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=uploader,this.some=some,this.options=options,this.file=new FileLikeObject(some),this._file=some,uploader.options&&(this.method=uploader.options.method||"POST",this.alias=uploader.options.itemAlias||"file"),this.url=uploader.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(form){return{form}}onProgress(progress){return{progress}}onSuccess(response,status,headers){return{response,status,headers}}onError(response,status,headers){return{response,status,headers}}onCancel(response,status,headers){return{response,status,headers}}onComplete(response,status,headers){return{response,status,headers}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(form){this.onBuildForm(form)}_onProgress(progress){this.progress=progress,this.onProgress(progress)}_onSuccess(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(response,status,headers)}_onError(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(response,status,headers)}_onCancel(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(response,status,headers)}_onComplete(response,status,headers){this.onComplete(response,status,headers),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}__name(FileItem,"FileItem");class FileType{static getMimeClass(file){let mimeClass="application";return-1!==this.mime_psd.indexOf(file.type)||file.type.match("image.*")?mimeClass="image":file.type.match("video.*")?mimeClass="video":file.type.match("audio.*")?mimeClass="audio":"application/pdf"===file.type?mimeClass="pdf":-1!==this.mime_compress.indexOf(file.type)?mimeClass="compress":-1!==this.mime_doc.indexOf(file.type)?mimeClass="doc":-1!==this.mime_xsl.indexOf(file.type)?mimeClass="xls":-1!==this.mime_ppt.indexOf(file.type)&&(mimeClass="ppt"),"application"===mimeClass&&(mimeClass=this.fileTypeDetection(file.name)),mimeClass}static fileTypeDetection(inputFilename){let types={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},chunks=inputFilename.split(".");if(chunks.length<2)return"application";let extension=chunks[chunks.length-1].toLowerCase();return void 0===types[extension]?"application":types[extension]}}function isFile(value){return File&&value instanceof File}__name(FileType,"FileType"),FileType.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],FileType.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],FileType.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],FileType.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],FileType.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],__name(isFile,"isFile"),__name(function Headers(){},"Headers"),__name(function FileUploaderOptions(){},"FileUploaderOptions");class FileUploader{constructor(options){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:item=>item._file,formatDataFunctionIsAsync:!1},this.setOptions(options),this.response=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}setOptions(options){this.options=Object.assign(this.options,options),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let i=0;i<this.queue.length;i++)this.queue[i].url=this.options.url}addToQueue(files,options,filters){let list=[];for(let file of files)list.push(file);let arrayOfFilters=this._getFilters(filters),count=this.queue.length,addedFileItems=[];list.map(some=>{options||(options=this.options);let temp=new FileLikeObject(some);if(this._isValidFile(temp,arrayOfFilters,options)){let fileItem=new FileItem(this,some,options);addedFileItems.push(fileItem),this.queue.push(fileItem),this._onAfterAddingFile(fileItem)}else{let filter2=arrayOfFilters[this._failFilterIndex];this._onWhenAddingFileFailed(temp,filter2,options)}}),this.queue.length!==count&&(this._onAfterAddingAll(addedFileItems),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(value){let index=this.getIndexOfItem(value),item=this.queue[index];item.isUploading&&item.cancel(),this.queue.splice(index,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(value){let index=this.getIndexOfItem(value),item=this.queue[index],transport=this.options.isHTML5?"_xhrTransport":"_iframeTransport";item._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[transport](item))}cancelItem(value){let index=this.getIndexOfItem(value),item=this.queue[index],prop=this.options.isHTML5?item._xhr:item._form;item&&item.isUploading&&prop.abort()}uploadAll(){let items=this.getNotUploadedItems().filter(item=>!item.isUploading);items.length&&(items.map(item=>item._prepareToUploading()),items[0].upload())}cancelAll(){this.getNotUploadedItems().map(item=>item.cancel())}isFile(value){return isFile(value)}isFileLikeObject(value){return value instanceof FileLikeObject}getIndexOfItem(value){return"number"==typeof value?value:this.queue.indexOf(value)}getNotUploadedItems(){return this.queue.filter(item=>!item.isUploaded)}getReadyItems(){return this.queue.filter(item=>item.isReady&&!item.isUploading).sort((item1,item2)=>item1.index-item2.index)}destroy(){}onAfterAddingAll(fileItems){return{fileItems}}onBuildItemForm(fileItem,form){return{fileItem,form}}onAfterAddingFile(fileItem){return{fileItem}}onWhenAddingFileFailed(item,filter2,options){return{item,filter:filter2,options}}onBeforeUploadItem(fileItem){return{fileItem}}onProgressItem(fileItem,progress){return{fileItem,progress}}onProgressAll(progress){return{progress}}onSuccessItem(item,response,status,headers){return{item,response,status,headers}}onErrorItem(item,response,status,headers){return{item,response,status,headers}}onCancelItem(item,response,status,headers){return{item,response,status,headers}}onCompleteItem(item,response,status,headers){return{item,response,status,headers}}onCompleteAll(){}_mimeTypeFilter(item){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(item.type))}_fileSizeFilter(item){return!(this.options.maxFileSize&&item.size>this.options.maxFileSize)}_fileTypeFilter(item){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(FileType.getMimeClass(item)))}_onErrorItem(item,response,status,headers){item._onError(response,status,headers),this.onErrorItem(item,response,status,headers)}_onCompleteItem(item,response,status,headers){item._onComplete(response,status,headers),this.onCompleteItem(item,response,status,headers);let nextItem=this.getReadyItems()[0];this.isUploading=!1,nextItem?nextItem.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(parsedHeaders){return name=>name?parsedHeaders[name.toLowerCase()]||void 0:parsedHeaders}_xhrTransport(item){let sendable,that=this,xhr=item._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(item),"number"!=typeof item._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)sendable=this.options.formatDataFunction(item);else{sendable=new FormData,this._onBuildItemForm(item,sendable);const appendFile=__name(()=>sendable.append(item.alias,item._file,item.file.name),"appendFile");this.options.parametersBeforeFiles||appendFile(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(key=>{let paramVal=this.options.additionalParameter[key];"string"==typeof paramVal&&paramVal.indexOf("{{file_name}}")>=0&&(paramVal=paramVal.replace("{{file_name}}",item.file.name)),sendable.append(key,paramVal)}),this.options.parametersBeforeFiles&&appendFile()}if(xhr.upload.onprogress=event2=>{let progress=Math.round(event2.lengthComputable?100*event2.loaded/event2.total:0);this._onProgressItem(item,progress)},xhr.onload=()=>{let headers=this._parseHeaders(xhr.getAllResponseHeaders()),response=this._transformResponse(xhr.response,headers);this["_on"+(this._isSuccessCode(xhr.status)?"Success":"Error")+"Item"](item,response,xhr.status,headers),this._onCompleteItem(item,response,xhr.status,headers)},xhr.onerror=()=>{let headers=this._parseHeaders(xhr.getAllResponseHeaders()),response=this._transformResponse(xhr.response,headers);this._onErrorItem(item,response,xhr.status,headers),this._onCompleteItem(item,response,xhr.status,headers)},xhr.onabort=()=>{let headers=this._parseHeaders(xhr.getAllResponseHeaders()),response=this._transformResponse(xhr.response,headers);this._onCancelItem(item,response,xhr.status,headers),this._onCompleteItem(item,response,xhr.status,headers)},xhr.open(item.method,item.url,!0),xhr.withCredentials=item.withCredentials,this.options.headers)for(let header of this.options.headers)xhr.setRequestHeader(header.name,header.value);if(item.headers.length)for(let header of item.headers)xhr.setRequestHeader(header.name,header.value);this.authToken&&xhr.setRequestHeader(this.authTokenHeader,this.authToken),xhr.onreadystatechange=function(){xhr.readyState==XMLHttpRequest.DONE&&that.response.emit(xhr.responseText)},this.options.formatDataFunctionIsAsync?sendable.then(result=>xhr.send(JSON.stringify(result))):xhr.send(sendable),this._render()}_getTotalProgress(value=0){if(this.options.removeAfterUpload)return value;let notUploaded=this.getNotUploadedItems().length,uploaded=notUploaded?this.queue.length-notUploaded:this.queue.length,ratio=100/this.queue.length,current=value*ratio/100;return Math.round(uploaded*ratio+current)}_getFilters(filters){if(!filters)return this.options.filters;if(Array.isArray(filters))return filters;if("string"==typeof filters){let names=filters.match(/[^\s,]+/g);return this.options.filters.filter(filter2=>-1!==names.indexOf(filter2.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(file,filters,options){return this._failFilterIndex=-1,!filters.length||filters.every(filter2=>(this._failFilterIndex++,filter2.fn.call(this,file,options)))}_isSuccessCode(status){return status>=200&&status<300||304===status}_transformResponse(response,headers){return response}_parseHeaders(headers){let key,val,i,parsed={};return headers&&headers.split("\n").map(line=>{i=line.indexOf(":"),key=line.slice(0,i).trim().toLowerCase(),val=line.slice(i+1).trim(),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed}_onWhenAddingFileFailed(item,filter2,options){this.onWhenAddingFileFailed(item,filter2,options)}_onAfterAddingFile(item){this.onAfterAddingFile(item)}_onAfterAddingAll(items){this.onAfterAddingAll(items)}_onBeforeUploadItem(item){item._onBeforeUpload(),this.onBeforeUploadItem(item)}_onBuildItemForm(item,form){item._onBuildForm(form),this.onBuildItemForm(item,form)}_onProgressItem(item,progress){let total=this._getTotalProgress(progress);this.progress=total,item._onProgress(progress),this.onProgressItem(item,progress),this.onProgressAll(total),this._render()}_onSuccessItem(item,response,status,headers){item._onSuccess(response,status,headers),this.onSuccessItem(item,response,status,headers)}_onCancelItem(item,response,status,headers){item._onCancel(response,status,headers),this.onCancelItem(item,response,status,headers)}}__name(FileUploader,"FileUploader");class FileSelectDirective{constructor(element){this.onFileSelected=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.element=element}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let files=this.element.nativeElement.files,options=this.getOptions(),filters=this.getFilters();this.uploader.addToQueue(files,options,filters),this.onFileSelected.emit(files),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}__name(FileSelectDirective,"FileSelectDirective"),FileSelectDirective.\u0275fac=__name(function(t){return new(t||FileSelectDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.SBq))},"FileSelectDirective_Factory"),FileSelectDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.lG2({type:FileSelectDirective,selectors:[["","ng2FileSelect",""]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("change",__name(function(){return ctx.onChange()},"FileSelectDirective_change_HostBindingHandler"))},"FileSelectDirective_HostBindings"),inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}}),FileSelectDirective.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SBq}],FileSelectDirective.propDecorators={uploader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.IIB}],onFileSelected:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.r_U}],onChange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.L6J,args:["change"]}]};class FileDropDirective{constructor(element){this.fileOver=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.onFileDrop=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.element=element}getOptions(){return this.uploader.options}getFilters(){return{}}onDrop(event2){let transfer=this._getTransfer(event2);if(!transfer)return;let options=this.getOptions(),filters=this.getFilters();this._preventAndStop(event2),this.uploader.addToQueue(transfer.files,options,filters),this.fileOver.emit(!1),this.onFileDrop.emit(transfer.files)}onDragOver(event2){let transfer=this._getTransfer(event2);this._haveFiles(transfer.types)&&(transfer.dropEffect="copy",this._preventAndStop(event2),this.fileOver.emit(!0))}onDragLeave(event2){this.element&&event2.currentTarget===this.element[0]||(this._preventAndStop(event2),this.fileOver.emit(!1))}_getTransfer(event2){return event2.dataTransfer?event2.dataTransfer:event2.originalEvent.dataTransfer}_preventAndStop(event2){event2.preventDefault(),event2.stopPropagation()}_haveFiles(types){return!!types&&(types.indexOf?-1!==types.indexOf("Files"):!!types.contains&&types.contains("Files"))}}__name(FileDropDirective,"FileDropDirective"),FileDropDirective.\u0275fac=__name(function(t){return new(t||FileDropDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.SBq))},"FileDropDirective_Factory"),FileDropDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.lG2({type:FileDropDirective,selectors:[["","ng2FileDrop",""]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("drop",__name(function($event){return ctx.onDrop($event)},"FileDropDirective_drop_HostBindingHandler"))("dragover",__name(function($event){return ctx.onDragOver($event)},"FileDropDirective_dragover_HostBindingHandler"))("dragleave",__name(function($event){return ctx.onDragLeave($event)},"FileDropDirective_dragleave_HostBindingHandler"))},"FileDropDirective_HostBindings"),inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}}),FileDropDirective.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SBq}],FileDropDirective.propDecorators={uploader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.IIB}],fileOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.r_U}],onFileDrop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.r_U}],onDrop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.L6J,args:["drop",["$event"]]}],onDragOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.L6J,args:["dragover",["$event"]]}],onDragLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.L6J,args:["dragleave",["$event"]]}]};class FileUploadModule{}__name(FileUploadModule,"FileUploadModule"),FileUploadModule.\u0275fac=__name(function(t){return new(t||FileUploadModule)},"FileUploadModule_Factory"),FileUploadModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:FileUploadModule}),FileUploadModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.ez]})},29735:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QN:()=>SortablejsDirective,bQ:()=>SortablejsModule});var core=__webpack_require__(86209);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?__name(function(obj2){return typeof obj2},"_typeof"):__name(function(obj2){return obj2&&"function"==typeof Symbol&&obj2.constructor===Symbol&&obj2!==Symbol.prototype?"symbol":typeof obj2},"_typeof"))(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],!(excluded.indexOf(key)>=0)&&(target[key]=source[key]);return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _iterableToArray(iter){if(typeof Symbol<"u"&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}__name(ownKeys,"ownKeys"),__name(_objectSpread2,"_objectSpread2"),__name(_typeof,"_typeof"),__name(_defineProperty,"_defineProperty"),__name(_extends,"_extends"),__name(_objectWithoutPropertiesLoose,"_objectWithoutPropertiesLoose"),__name(_objectWithoutProperties,"_objectWithoutProperties"),__name(_toConsumableArray,"_toConsumableArray"),__name(_arrayWithoutHoles,"_arrayWithoutHoles"),__name(_iterableToArray,"_iterableToArray"),__name(_unsupportedIterableToArray,"_unsupportedIterableToArray"),__name(_arrayLikeToArray,"_arrayLikeToArray"),__name(_nonIterableSpread,"_nonIterableSpread");function userAgent(pattern){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(pattern)}__name(userAgent,"userAgent");var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(el,event2,fn){el.addEventListener(event2,fn,!IE11OrLess&&captureMode)}function off(el,event2,fn){el.removeEventListener(event2,fn,!IE11OrLess&&captureMode)}function matches(el,selector){if(selector){if(">"===selector[0]&&(selector=selector.substring(1)),el)try{if(el.matches)return el.matches(selector);if(el.msMatchesSelector)return el.msMatchesSelector(selector);if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector)}catch{return!1}return!1}}function getParentOrHost(el){return el.host&&el!==document&&el.host.nodeType?el.host:el.parentNode}function closest(el,selector,ctx,includeCTX){if(el){ctx=ctx||document;do{if(null!=selector&&(">"===selector[0]?el.parentNode===ctx&&matches(el,selector):matches(el,selector))||includeCTX&&el===ctx)return el;if(el===ctx)break}while(el=getParentOrHost(el))}return null}__name(on,"on"),__name(off,"off"),__name(matches,"matches"),__name(getParentOrHost,"getParentOrHost"),__name(closest,"closest");var _throttleTimeout,R_SPACE=/\s+/g;function toggleClass(el,name,state){if(el&&name)if(el.classList)el.classList[state?"add":"remove"](name);else{var className=(" "+el.className+" ").replace(R_SPACE," ").replace(" "+name+" "," ");el.className=(className+(state?" "+name:"")).replace(R_SPACE," ")}}function css(el,prop,val){var style=el&&el.style;if(style){if(void 0===val)return document.defaultView&&document.defaultView.getComputedStyle?val=document.defaultView.getComputedStyle(el,""):el.currentStyle&&(val=el.currentStyle),void 0===prop?val:val[prop];!(prop in style)&&-1===prop.indexOf("webkit")&&(prop="-webkit-"+prop),style[prop]=val+("string"==typeof val?"":"px")}}function matrix(el,selfOnly){var appliedTransforms="";if("string"==typeof el)appliedTransforms=el;else do{var transform=css(el,"transform");transform&&"none"!==transform&&(appliedTransforms=transform+" "+appliedTransforms)}while(!selfOnly&&(el=el.parentNode));var matrixFn=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return matrixFn&&new matrixFn(appliedTransforms)}function find(ctx,tagName,iterator){if(ctx){var list=ctx.getElementsByTagName(tagName),i=0,n=list.length;if(iterator)for(;i<n;i++)iterator(list[i],i);return list}return[]}function getWindowScrollingElement(){return document.scrollingElement||document.documentElement}function getRect(el,relativeToContainingBlock,relativeToNonStaticParent,undoScale,container){if(el.getBoundingClientRect||el===window){var elRect,top,left,bottom,right,height,width;if(el!==window&&el.parentNode&&el!==getWindowScrollingElement()?(top=(elRect=el.getBoundingClientRect()).top,left=elRect.left,bottom=elRect.bottom,right=elRect.right,height=elRect.height,width=elRect.width):(top=0,left=0,bottom=window.innerHeight,right=window.innerWidth,height=window.innerHeight,width=window.innerWidth),(relativeToContainingBlock||relativeToNonStaticParent)&&el!==window&&(container=container||el.parentNode,!IE11OrLess))do{if(container&&container.getBoundingClientRect&&("none"!==css(container,"transform")||relativeToNonStaticParent&&"static"!==css(container,"position"))){var containerRect=container.getBoundingClientRect();top-=containerRect.top+parseInt(css(container,"border-top-width")),left-=containerRect.left+parseInt(css(container,"border-left-width")),bottom=top+elRect.height,right=left+elRect.width;break}}while(container=container.parentNode);if(undoScale&&el!==window){var elMatrix=matrix(container||el),scaleX=elMatrix&&elMatrix.a,scaleY=elMatrix&&elMatrix.d;elMatrix&&(bottom=(top/=scaleY)+(height/=scaleY),right=(left/=scaleX)+(width/=scaleX))}return{top,left,bottom,right,width,height}}}function isScrolledPast(el,elSide,parentSide){for(var parent=getParentAutoScrollElement(el,!0),elSideVal=getRect(el)[elSide];parent;){var parentSideVal=getRect(parent)[parentSide];if(!("top"===parentSide||"left"===parentSide?elSideVal>=parentSideVal:elSideVal<=parentSideVal))return parent;if(parent===getWindowScrollingElement())break;parent=getParentAutoScrollElement(parent,!1)}return!1}function getChild(el,childNum,options,includeDragEl){for(var currentChild=0,i=0,children=el.children;i<children.length;){if("none"!==children[i].style.display&&children[i]!==Sortable.ghost&&(includeDragEl||children[i]!==Sortable.dragged)&&closest(children[i],options.draggable,el,!1)){if(currentChild===childNum)return children[i];currentChild++}i++}return null}function lastChild(el,selector){for(var last=el.lastElementChild;last&&(last===Sortable.ghost||"none"===css(last,"display")||selector&&!matches(last,selector));)last=last.previousElementSibling;return last||null}function index(el,selector){var index2=0;if(!el||!el.parentNode)return-1;for(;el=el.previousElementSibling;)"TEMPLATE"!==el.nodeName.toUpperCase()&&el!==Sortable.clone&&(!selector||matches(el,selector))&&index2++;return index2}function getRelativeScrollOffset(el){var offsetLeft=0,offsetTop=0,winScroller=getWindowScrollingElement();if(el)do{var elMatrix=matrix(el),scaleX=elMatrix.a,scaleY=elMatrix.d;offsetLeft+=el.scrollLeft*scaleX,offsetTop+=el.scrollTop*scaleY}while(el!==winScroller&&(el=el.parentNode));return[offsetLeft,offsetTop]}function indexOfObject(arr,obj){for(var i in arr)if(arr.hasOwnProperty(i))for(var key in obj)if(obj.hasOwnProperty(key)&&obj[key]===arr[i][key])return Number(i);return-1}function getParentAutoScrollElement(el,includeSelf){if(!el||!el.getBoundingClientRect)return getWindowScrollingElement();var elem=el,gotSelf=!1;do{if(elem.clientWidth<elem.scrollWidth||elem.clientHeight<elem.scrollHeight){var elemCSS=css(elem);if(elem.clientWidth<elem.scrollWidth&&("auto"==elemCSS.overflowX||"scroll"==elemCSS.overflowX)||elem.clientHeight<elem.scrollHeight&&("auto"==elemCSS.overflowY||"scroll"==elemCSS.overflowY)){if(!elem.getBoundingClientRect||elem===document.body)return getWindowScrollingElement();if(gotSelf||includeSelf)return elem;gotSelf=!0}}}while(elem=elem.parentNode);return getWindowScrollingElement()}function extend(dst,src){if(dst&&src)for(var key in src)src.hasOwnProperty(key)&&(dst[key]=src[key]);return dst}function isRectEqual(rect1,rect2){return Math.round(rect1.top)===Math.round(rect2.top)&&Math.round(rect1.left)===Math.round(rect2.left)&&Math.round(rect1.height)===Math.round(rect2.height)&&Math.round(rect1.width)===Math.round(rect2.width)}function throttle(callback,ms){return function(){if(!_throttleTimeout){var args=arguments;1===args.length?callback.call(this,args[0]):callback.apply(this,args),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},ms)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(el,x,y){el.scrollLeft+=x,el.scrollTop+=y}function clone(el){var Polymer=window.Polymer,$=window.jQuery||window.Zepto;return Polymer&&Polymer.dom?Polymer.dom(el).cloneNode(!0):$?$(el).clone(!0)[0]:el.cloneNode(!0)}function setRect(el,rect){css(el,"position","absolute"),css(el,"top",rect.top),css(el,"left",rect.left),css(el,"width",rect.width),css(el,"height",rect.height)}function unsetRect(el){css(el,"position",""),css(el,"top",""),css(el,"left",""),css(el,"width",""),css(el,"height","")}__name(toggleClass,"toggleClass"),__name(css,"css"),__name(matrix,"matrix"),__name(find,"find"),__name(getWindowScrollingElement,"getWindowScrollingElement"),__name(getRect,"getRect"),__name(isScrolledPast,"isScrolledPast"),__name(getChild,"getChild"),__name(lastChild,"lastChild"),__name(index,"index"),__name(getRelativeScrollOffset,"getRelativeScrollOffset"),__name(indexOfObject,"indexOfObject"),__name(getParentAutoScrollElement,"getParentAutoScrollElement"),__name(extend,"extend"),__name(isRectEqual,"isRectEqual"),__name(throttle,"throttle"),__name(cancelThrottle,"cancelThrottle"),__name(scrollBy,"scrollBy"),__name(clone,"clone"),__name(setRect,"setRect"),__name(unsetRect,"unsetRect");var expando="Sortable"+(new Date).getTime();function AnimationStateManager(){var animationCallbackId,animationStates=[];return{captureAnimationState:__name(function(){(animationStates=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(child){if("none"!==css(child,"display")&&child!==Sortable.ghost){animationStates.push({target:child,rect:getRect(child)});var fromRect=_objectSpread2({},animationStates[animationStates.length-1].rect);if(child.thisAnimationDuration){var childMatrix=matrix(child,!0);childMatrix&&(fromRect.top-=childMatrix.f,fromRect.left-=childMatrix.e)}child.fromRect=fromRect}})},"captureAnimationState"),addAnimationState:__name(function(state){animationStates.push(state)},"addAnimationState"),removeAnimationState:__name(function(target){animationStates.splice(indexOfObject(animationStates,{target}),1)},"removeAnimationState"),animateAll:__name(function(callback){var _this=this;if(!this.options.animation)return clearTimeout(animationCallbackId),void("function"==typeof callback&&callback());var animating=!1,animationTime=0;animationStates.forEach(function(state){var time=0,target=state.target,fromRect=target.fromRect,toRect=getRect(target),prevFromRect=target.prevFromRect,prevToRect=target.prevToRect,animatingRect=state.rect,targetMatrix=matrix(target,!0);targetMatrix&&(toRect.top-=targetMatrix.f,toRect.left-=targetMatrix.e),target.toRect=toRect,target.thisAnimationDuration&&isRectEqual(prevFromRect,toRect)&&!isRectEqual(fromRect,toRect)&&(animatingRect.top-toRect.top)/(animatingRect.left-toRect.left)==(fromRect.top-toRect.top)/(fromRect.left-toRect.left)&&(time=calculateRealTime(animatingRect,prevFromRect,prevToRect,_this.options)),isRectEqual(toRect,fromRect)||(target.prevFromRect=fromRect,target.prevToRect=toRect,time||(time=_this.options.animation),_this.animate(target,animatingRect,toRect,time)),time&&(animating=!0,animationTime=Math.max(animationTime,time),clearTimeout(target.animationResetTimer),target.animationResetTimer=setTimeout(function(){target.animationTime=0,target.prevFromRect=null,target.fromRect=null,target.prevToRect=null,target.thisAnimationDuration=null},time),target.thisAnimationDuration=time)}),clearTimeout(animationCallbackId),animating?animationCallbackId=setTimeout(function(){"function"==typeof callback&&callback()},animationTime):"function"==typeof callback&&callback(),animationStates=[]},"animateAll"),animate:__name(function(target,currentRect,toRect,duration){if(duration){css(target,"transition",""),css(target,"transform","");var elMatrix=matrix(this.el),scaleX=elMatrix&&elMatrix.a,scaleY=elMatrix&&elMatrix.d,translateX=(currentRect.left-toRect.left)/(scaleX||1),translateY=(currentRect.top-toRect.top)/(scaleY||1);target.animatingX=!!translateX,target.animatingY=!!translateY,css(target,"transform","translate3d("+translateX+"px,"+translateY+"px,0)"),this.forRepaintDummy=repaint(target),css(target,"transition","transform "+duration+"ms"+(this.options.easing?" "+this.options.easing:"")),css(target,"transform","translate3d(0,0,0)"),"number"==typeof target.animated&&clearTimeout(target.animated),target.animated=setTimeout(function(){css(target,"transition",""),css(target,"transform",""),target.animated=!1,target.animatingX=!1,target.animatingY=!1},duration)}},"animate")}}function repaint(target){return target.offsetWidth}function calculateRealTime(animatingRect,fromRect,toRect,options){return Math.sqrt(Math.pow(fromRect.top-animatingRect.top,2)+Math.pow(fromRect.left-animatingRect.left,2))/Math.sqrt(Math.pow(fromRect.top-toRect.top,2)+Math.pow(fromRect.left-toRect.left,2))*options.animation}__name(AnimationStateManager,"AnimationStateManager"),__name(repaint,"repaint"),__name(calculateRealTime,"calculateRealTime");var plugins=[],defaults={initializeByDefault:!0},PluginManager={mount:__name(function(plugin){for(var option in defaults)defaults.hasOwnProperty(option)&&!(option in plugin)&&(plugin[option]=defaults[option]);plugins.forEach(function(p){if(p.pluginName===plugin.pluginName)throw"Sortable: Cannot mount plugin ".concat(plugin.pluginName," more than once")}),plugins.push(plugin)},"mount"),pluginEvent:__name(function(eventName,sortable,evt){var _this=this;this.eventCanceled=!1,evt.cancel=function(){_this.eventCanceled=!0};var eventNameGlobal=eventName+"Global";plugins.forEach(function(plugin){sortable[plugin.pluginName]&&(sortable[plugin.pluginName][eventNameGlobal]&&sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({sortable},evt)),sortable.options[plugin.pluginName]&&sortable[plugin.pluginName][eventName]&&sortable[plugin.pluginName][eventName](_objectSpread2({sortable},evt)))})},"pluginEvent"),initializePlugins:__name(function(sortable,el,defaults2,options){for(var option in plugins.forEach(function(plugin){var pluginName=plugin.pluginName;if(sortable.options[pluginName]||plugin.initializeByDefault){var initialized=new plugin(sortable,el,sortable.options);initialized.sortable=sortable,initialized.options=sortable.options,sortable[pluginName]=initialized,_extends(defaults2,initialized.defaults)}}),sortable.options)if(sortable.options.hasOwnProperty(option)){var modified=this.modifyOption(sortable,option,sortable.options[option]);typeof modified<"u"&&(sortable.options[option]=modified)}},"initializePlugins"),getEventProperties:__name(function(name,sortable){var eventProperties={};return plugins.forEach(function(plugin){"function"==typeof plugin.eventProperties&&_extends(eventProperties,plugin.eventProperties.call(sortable[plugin.pluginName],name))}),eventProperties},"getEventProperties"),modifyOption:__name(function(sortable,name,value){var modifiedValue;return plugins.forEach(function(plugin){sortable[plugin.pluginName]&&plugin.optionListeners&&"function"==typeof plugin.optionListeners[name]&&(modifiedValue=plugin.optionListeners[name].call(sortable[plugin.pluginName],value))}),modifiedValue},"modifyOption")};function dispatchEvent(_ref){var sortable=_ref.sortable,rootEl2=_ref.rootEl,name=_ref.name,targetEl=_ref.targetEl,cloneEl2=_ref.cloneEl,toEl=_ref.toEl,fromEl=_ref.fromEl,oldIndex2=_ref.oldIndex,newIndex2=_ref.newIndex,oldDraggableIndex2=_ref.oldDraggableIndex,newDraggableIndex2=_ref.newDraggableIndex,originalEvent=_ref.originalEvent,putSortable2=_ref.putSortable,extraEventProperties=_ref.extraEventProperties;if(sortable=sortable||rootEl2&&rootEl2[expando]){var evt,options=sortable.options,onName="on"+name.charAt(0).toUpperCase()+name.substr(1);!window.CustomEvent||IE11OrLess||Edge?(evt=document.createEvent("Event")).initEvent(name,!0,!0):evt=new CustomEvent(name,{bubbles:!0,cancelable:!0}),evt.to=toEl||rootEl2,evt.from=fromEl||rootEl2,evt.item=targetEl||rootEl2,evt.clone=cloneEl2,evt.oldIndex=oldIndex2,evt.newIndex=newIndex2,evt.oldDraggableIndex=oldDraggableIndex2,evt.newDraggableIndex=newDraggableIndex2,evt.originalEvent=originalEvent,evt.pullMode=putSortable2?putSortable2.lastPutMode:void 0;var allEventProperties=_objectSpread2(_objectSpread2({},extraEventProperties),PluginManager.getEventProperties(name,sortable));for(var option in allEventProperties)evt[option]=allEventProperties[option];rootEl2&&rootEl2.dispatchEvent(evt),options[onName]&&options[onName].call(sortable,evt)}}__name(dispatchEvent,"dispatchEvent");var _excluded=["evt"],pluginEvent=__name(function(eventName,sortable){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},originalEvent=_ref.evt,data=_objectWithoutProperties(_ref,_excluded);PluginManager.pluginEvent.bind(Sortable)(eventName,sortable,_objectSpread2({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:__name(function(){cloneHidden=!0},"cloneNowHidden"),cloneNowShown:__name(function(){cloneHidden=!1},"cloneNowShown"),dispatchSortableEvent:__name(function(name){_dispatchEvent({sortable,name,originalEvent})},"dispatchSortableEvent")},data))},"pluginEvent");function _dispatchEvent(info){dispatchEvent(_objectSpread2({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},info))}__name(_dispatchEvent,"_dispatchEvent");var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,targetMoveDistance,ghostRelativeParent,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],pastFirstInvertThresh=!1,isCircumstantialInvert=!1,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var el=document.createElement("x");return el.style.cssText="pointer-events:auto","auto"===el.style.pointerEvents}}(),_detectDirection=__name(function(el,options){var elCSS=css(el),elWidth=parseInt(elCSS.width)-parseInt(elCSS.paddingLeft)-parseInt(elCSS.paddingRight)-parseInt(elCSS.borderLeftWidth)-parseInt(elCSS.borderRightWidth),child1=getChild(el,0,options),child2=getChild(el,1,options),firstChildCSS=child1&&css(child1),secondChildCSS=child2&&css(child2),firstChildWidth=firstChildCSS&&parseInt(firstChildCSS.marginLeft)+parseInt(firstChildCSS.marginRight)+getRect(child1).width,secondChildWidth=secondChildCSS&&parseInt(secondChildCSS.marginLeft)+parseInt(secondChildCSS.marginRight)+getRect(child2).width;if("flex"===elCSS.display)return"column"===elCSS.flexDirection||"column-reverse"===elCSS.flexDirection?"vertical":"horizontal";if("grid"===elCSS.display)return elCSS.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(child1&&firstChildCSS.float&&"none"!==firstChildCSS.float){var touchingSideChild2="left"===firstChildCSS.float?"left":"right";return!child2||"both"!==secondChildCSS.clear&&secondChildCSS.clear!==touchingSideChild2?"horizontal":"vertical"}return child1&&("block"===firstChildCSS.display||"flex"===firstChildCSS.display||"table"===firstChildCSS.display||"grid"===firstChildCSS.display||firstChildWidth>=elWidth&&"none"===elCSS[CSSFloatProperty]||child2&&"none"===elCSS[CSSFloatProperty]&&firstChildWidth+secondChildWidth>elWidth)?"vertical":"horizontal"},"_detectDirection"),_dragElInRowColumn=__name(function(dragRect,targetRect,vertical){var dragElS1Opp=vertical?dragRect.left:dragRect.top,dragElS2Opp=vertical?dragRect.right:dragRect.bottom,dragElOppLength=vertical?dragRect.width:dragRect.height,targetS1Opp=vertical?targetRect.left:targetRect.top,targetS2Opp=vertical?targetRect.right:targetRect.bottom,targetOppLength=vertical?targetRect.width:targetRect.height;return dragElS1Opp===targetS1Opp||dragElS2Opp===targetS2Opp||dragElS1Opp+dragElOppLength/2===targetS1Opp+targetOppLength/2},"_dragElInRowColumn"),_detectNearestEmptySortable=__name(function(x,y){var ret;return sortables.some(function(sortable){var threshold=sortable[expando].options.emptyInsertThreshold;if(threshold&&!lastChild(sortable)){var rect=getRect(sortable),insideHorizontally=x>=rect.left-threshold&&x<=rect.right+threshold,insideVertically=y>=rect.top-threshold&&y<=rect.bottom+threshold;if(insideHorizontally&&insideVertically)return ret=sortable}}),ret},"_detectNearestEmptySortable"),_prepareGroup=__name(function(options){function toFn(value,pull){return function(to,from,dragEl2,evt){var sameGroup=to.options.group.name&&from.options.group.name&&to.options.group.name===from.options.group.name;if(null==value&&(pull||sameGroup))return!0;if(null==value||!1===value)return!1;if(pull&&"clone"===value)return value;if("function"==typeof value)return toFn(value(to,from,dragEl2,evt),pull)(to,from,dragEl2,evt);var otherGroup=(pull?to:from).options.group.name;return!0===value||"string"==typeof value&&value===otherGroup||value.join&&value.indexOf(otherGroup)>-1}}__name(toFn,"toFn");var group={},originalGroup=options.group;(!originalGroup||"object"!=_typeof(originalGroup))&&(originalGroup={name:originalGroup}),group.name=originalGroup.name,group.checkPull=toFn(originalGroup.pull,!0),group.checkPut=toFn(originalGroup.put),group.revertClone=originalGroup.revertClone,options.group=group},"_prepareGroup"),_hideGhostForTarget=__name(function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},"_hideGhostForTarget"),_unhideGhostForTarget=__name(function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")},"_unhideGhostForTarget");documentExists&&!ChromeForAndroid&&document.addEventListener("click",function(evt){if(ignoreNextClick)return evt.preventDefault(),evt.stopPropagation&&evt.stopPropagation(),evt.stopImmediatePropagation&&evt.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=__name(function(evt){if(dragEl){evt=evt.touches?evt.touches[0]:evt;var nearest=_detectNearestEmptySortable(evt.clientX,evt.clientY);if(nearest){var event2={};for(var i in evt)evt.hasOwnProperty(i)&&(event2[i]=evt[i]);event2.target=event2.rootEl=nearest,event2.preventDefault=void 0,event2.stopPropagation=void 0,nearest[expando]._onDragOver(event2)}}},"nearestEmptyInsertDetectEvent"),_checkOutsideTargetEl=__name(function(evt){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(evt.target)},"_checkOutsideTargetEl");function Sortable(el,options){if(!el||!el.nodeType||1!==el.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(el));this.el=el,this.options=options=_extends({},options),el[expando]=this;var defaults2={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(el.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:__name(function(){return _detectDirection(el,this.options)},"direction"),ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:__name(function(dataTransfer,dragEl2){dataTransfer.setData("Text",dragEl2.textContent)},"setData"),dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};for(var name in PluginManager.initializePlugins(this,el,defaults2),defaults2)!(name in options)&&(options[name]=defaults2[name]);for(var fn in _prepareGroup(options),this)"_"===fn.charAt(0)&&"function"==typeof this[fn]&&(this[fn]=this[fn].bind(this));this.nativeDraggable=!options.forceFallback&&supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),options.supportPointer?on(el,"pointerdown",this._onTapStart):(on(el,"mousedown",this._onTapStart),on(el,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(el,"dragover",this),on(el,"dragenter",this)),sortables.push(this.el),options.store&&options.store.get&&this.sort(options.store.get(this)||[]),_extends(this,AnimationStateManager())}function _globalDragOver(evt){evt.dataTransfer&&(evt.dataTransfer.dropEffect="move"),evt.cancelable&&evt.preventDefault()}function _onMove(fromEl,toEl,dragEl2,dragRect,targetEl,targetRect,originalEvent,willInsertAfter){var evt,retVal,sortable=fromEl[expando],onMoveFn=sortable.options.onMove;return!window.CustomEvent||IE11OrLess||Edge?(evt=document.createEvent("Event")).initEvent("move",!0,!0):evt=new CustomEvent("move",{bubbles:!0,cancelable:!0}),evt.to=toEl,evt.from=fromEl,evt.dragged=dragEl2,evt.draggedRect=dragRect,evt.related=targetEl||toEl,evt.relatedRect=targetRect||getRect(toEl),evt.willInsertAfter=willInsertAfter,evt.originalEvent=originalEvent,fromEl.dispatchEvent(evt),onMoveFn&&(retVal=onMoveFn.call(sortable,evt,originalEvent)),retVal}function _disableDraggable(el){el.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(evt,vertical,sortable){var rect=getRect(getChild(sortable.el,0,sortable.options,!0));return vertical?evt.clientX<rect.left-10||evt.clientY<rect.top&&evt.clientX<rect.right:evt.clientY<rect.top-10||evt.clientY<rect.bottom&&evt.clientX<rect.left}function _ghostIsLast(evt,vertical,sortable){var rect=getRect(lastChild(sortable.el,sortable.options.draggable));return vertical?evt.clientX>rect.right+10||evt.clientX<=rect.right&&evt.clientY>rect.bottom&&evt.clientX>=rect.left:evt.clientX>rect.right&&evt.clientY>rect.top||evt.clientX<=rect.right&&evt.clientY>rect.bottom+10}function _getSwapDirection(evt,target,targetRect,vertical,swapThreshold,invertedSwapThreshold,invertSwap,isLastTarget){var mouseOnAxis=vertical?evt.clientY:evt.clientX,targetLength=vertical?targetRect.height:targetRect.width,targetS1=vertical?targetRect.top:targetRect.left,targetS2=vertical?targetRect.bottom:targetRect.right,invert=!1;if(!invertSwap)if(isLastTarget&&targetMoveDistance<targetLength*swapThreshold){if(!pastFirstInvertThresh&&(1===lastDirection?mouseOnAxis>targetS1+targetLength*invertedSwapThreshold/2:mouseOnAxis<targetS2-targetLength*invertedSwapThreshold/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)invert=!0;else if(1===lastDirection?mouseOnAxis<targetS1+targetMoveDistance:mouseOnAxis>targetS2-targetMoveDistance)return-lastDirection}else if(mouseOnAxis>targetS1+targetLength*(1-swapThreshold)/2&&mouseOnAxis<targetS2-targetLength*(1-swapThreshold)/2)return _getInsertDirection(target);return(invert=invert||invertSwap)&&(mouseOnAxis<targetS1+targetLength*invertedSwapThreshold/2||mouseOnAxis>targetS2-targetLength*invertedSwapThreshold/2)?mouseOnAxis>targetS1+targetLength/2?1:-1:0}function _getInsertDirection(target){return index(dragEl)<index(target)?1:-1}function _generateId(el){for(var str=el.tagName+el.className+el.src+el.href+el.textContent,i=str.length,sum=0;i--;)sum+=str.charCodeAt(i);return sum.toString(36)}function _saveInputCheckedState(root){savedInputChecked.length=0;for(var inputs=root.getElementsByTagName("input"),idx=inputs.length;idx--;){var el=inputs[idx];el.checked&&savedInputChecked.push(el)}}function _nextTick(fn){return setTimeout(fn,0)}function _cancelNextTick(id){return clearTimeout(id)}__name(Sortable,"Sortable"),Sortable.prototype={constructor:Sortable,_isOutsideThisEl:__name(function(target){!this.el.contains(target)&&target!==this.el&&(lastTarget=null)},"_isOutsideThisEl"),_getDirection:__name(function(evt,target){return"function"==typeof this.options.direction?this.options.direction.call(this,evt,target,dragEl):this.options.direction},"_getDirection"),_onTapStart:__name(function(evt){if(evt.cancelable){var _this=this,el=this.el,options=this.options,preventOnFilter=options.preventOnFilter,type=evt.type,touch=evt.touches&&evt.touches[0]||evt.pointerType&&"touch"===evt.pointerType&&evt,target=(touch||evt).target,originalTarget=evt.target.shadowRoot&&(evt.path&&evt.path[0]||evt.composedPath&&evt.composedPath()[0])||target,filter2=options.filter;if(_saveInputCheckedState(el),!dragEl&&!(/mousedown|pointerdown/.test(type)&&0!==evt.button||options.disabled)&&!originalTarget.isContentEditable&&(this.nativeDraggable||!Safari||!target||"SELECT"!==target.tagName.toUpperCase())&&!((target=closest(target,options.draggable,el,!1))&&target.animated||lastDownEl===target)){if(oldIndex=index(target),oldDraggableIndex=index(target,options.draggable),"function"==typeof filter2){if(filter2.call(this,evt,target,this))return _dispatchEvent({sortable:_this,rootEl:originalTarget,name:"filter",targetEl:target,toEl:el,fromEl:el}),pluginEvent("filter",_this,{evt}),void(preventOnFilter&&evt.cancelable&&evt.preventDefault())}else if(filter2&&(filter2=filter2.split(",").some(function(criteria){if(criteria=closest(originalTarget,criteria.trim(),el,!1))return _dispatchEvent({sortable:_this,rootEl:criteria,name:"filter",targetEl:target,fromEl:el,toEl:el}),pluginEvent("filter",_this,{evt}),!0})))return void(preventOnFilter&&evt.cancelable&&evt.preventDefault());options.handle&&!closest(originalTarget,options.handle,el,!1)||this._prepareDragStart(evt,touch,target)}}},"_onTapStart"),_prepareDragStart:__name(function(evt,touch,target){var dragStartFn,_this=this,el=_this.el,options=_this.options,ownerDocument=el.ownerDocument;if(target&&!dragEl&&target.parentNode===el){var dragRect=getRect(target);if(rootEl=el,parentEl=(dragEl=target).parentNode,nextEl=dragEl.nextSibling,lastDownEl=target,activeGroup=options.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(touch||evt).clientX,clientY:(touch||evt).clientY},tapDistanceLeft=tapEvt.clientX-dragRect.left,tapDistanceTop=tapEvt.clientY-dragRect.top,this._lastX=(touch||evt).clientX,this._lastY=(touch||evt).clientY,dragEl.style["will-change"]="all",dragStartFn=__name(function(){pluginEvent("delayEnded",_this,{evt}),Sortable.eventCanceled?_this._onDrop():(_this._disableDelayedDragEvents(),!FireFox&&_this.nativeDraggable&&(dragEl.draggable=!0),_this._triggerDragStart(evt,touch),_dispatchEvent({sortable:_this,name:"choose",originalEvent:evt}),toggleClass(dragEl,options.chosenClass,!0))},"dragStartFn"),options.ignore.split(",").forEach(function(criteria){find(dragEl,criteria.trim(),_disableDraggable)}),on(ownerDocument,"dragover",nearestEmptyInsertDetectEvent),on(ownerDocument,"mousemove",nearestEmptyInsertDetectEvent),on(ownerDocument,"touchmove",nearestEmptyInsertDetectEvent),on(ownerDocument,"mouseup",_this._onDrop),on(ownerDocument,"touchend",_this._onDrop),on(ownerDocument,"touchcancel",_this._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt}),!options.delay||options.delayOnTouchOnly&&!touch||this.nativeDraggable&&(Edge||IE11OrLess))dragStartFn();else{if(Sortable.eventCanceled)return void this._onDrop();on(ownerDocument,"mouseup",_this._disableDelayedDrag),on(ownerDocument,"touchend",_this._disableDelayedDrag),on(ownerDocument,"touchcancel",_this._disableDelayedDrag),on(ownerDocument,"mousemove",_this._delayedDragTouchMoveHandler),on(ownerDocument,"touchmove",_this._delayedDragTouchMoveHandler),options.supportPointer&&on(ownerDocument,"pointermove",_this._delayedDragTouchMoveHandler),_this._dragStartTimer=setTimeout(dragStartFn,options.delay)}}},"_prepareDragStart"),_delayedDragTouchMoveHandler:__name(function(e){var touch=e.touches?e.touches[0]:e;Math.max(Math.abs(touch.clientX-this._lastX),Math.abs(touch.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},"_delayedDragTouchMoveHandler"),_disableDelayedDrag:__name(function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},"_disableDelayedDrag"),_disableDelayedDragEvents:__name(function(){var ownerDocument=this.el.ownerDocument;off(ownerDocument,"mouseup",this._disableDelayedDrag),off(ownerDocument,"touchend",this._disableDelayedDrag),off(ownerDocument,"touchcancel",this._disableDelayedDrag),off(ownerDocument,"mousemove",this._delayedDragTouchMoveHandler),off(ownerDocument,"touchmove",this._delayedDragTouchMoveHandler),off(ownerDocument,"pointermove",this._delayedDragTouchMoveHandler)},"_disableDelayedDragEvents"),_triggerDragStart:__name(function(evt,touch){touch=touch||"touch"==evt.pointerType&&evt,!this.nativeDraggable||touch?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):on(document,touch?"touchmove":"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},"_triggerDragStart"),_dragStarted:__name(function(fallback,evt){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl);var options=this.options;!fallback&&toggleClass(dragEl,options.dragClass,!1),toggleClass(dragEl,options.ghostClass,!0),Sortable.active=this,fallback&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:evt})}else this._nulling()},"_dragStarted"),_emulateDragOver:__name(function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var target=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),parent=target;target&&target.shadowRoot&&(target=target.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY))!==parent;)parent=target;if(dragEl.parentNode[expando]._isOutsideThisEl(target),parent)do{if(parent[expando]){if(parent[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target,rootEl:parent})&&!this.options.dragoverBubble)break}target=parent}while(parent=parent.parentNode);_unhideGhostForTarget()}},"_emulateDragOver"),_onTouchMove:__name(function(evt){if(tapEvt){var options=this.options,fallbackTolerance=options.fallbackTolerance,fallbackOffset=options.fallbackOffset,touch=evt.touches?evt.touches[0]:evt,ghostMatrix=ghostEl&&matrix(ghostEl,!0),scaleX=ghostEl&&ghostMatrix&&ghostMatrix.a,scaleY=ghostEl&&ghostMatrix&&ghostMatrix.d,relativeScrollOffset=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),dx=(touch.clientX-tapEvt.clientX+fallbackOffset.x)/(scaleX||1)+(relativeScrollOffset?relativeScrollOffset[0]-ghostRelativeParentInitialScroll[0]:0)/(scaleX||1),dy=(touch.clientY-tapEvt.clientY+fallbackOffset.y)/(scaleY||1)+(relativeScrollOffset?relativeScrollOffset[1]-ghostRelativeParentInitialScroll[1]:0)/(scaleY||1);if(!Sortable.active&&!awaitingDragStarted){if(fallbackTolerance&&Math.max(Math.abs(touch.clientX-this._lastX),Math.abs(touch.clientY-this._lastY))<fallbackTolerance)return;this._onDragStart(evt,!0)}if(ghostEl){ghostMatrix?(ghostMatrix.e+=dx-(lastDx||0),ghostMatrix.f+=dy-(lastDy||0)):ghostMatrix={a:1,b:0,c:0,d:1,e:dx,f:dy};var cssMatrix="matrix(".concat(ghostMatrix.a,",").concat(ghostMatrix.b,",").concat(ghostMatrix.c,",").concat(ghostMatrix.d,",").concat(ghostMatrix.e,",").concat(ghostMatrix.f,")");css(ghostEl,"webkitTransform",cssMatrix),css(ghostEl,"mozTransform",cssMatrix),css(ghostEl,"msTransform",cssMatrix),css(ghostEl,"transform",cssMatrix),lastDx=dx,lastDy=dy,touchEvt=touch}evt.cancelable&&evt.preventDefault()}},"_onTouchMove"),_appendGhost:__name(function(){if(!ghostEl){var container=this.options.fallbackOnBody?document.body:rootEl,rect=getRect(dragEl,!0,PositionGhostAbsolutely,!0,container),options=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=container;"static"===css(ghostRelativeParent,"position")&&"none"===css(ghostRelativeParent,"transform")&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),rect.top+=ghostRelativeParent.scrollTop,rect.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}toggleClass(ghostEl=dragEl.cloneNode(!0),options.ghostClass,!1),toggleClass(ghostEl,options.fallbackClass,!0),toggleClass(ghostEl,options.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",rect.top),css(ghostEl,"left",rect.left),css(ghostEl,"width",rect.width),css(ghostEl,"height",rect.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,container.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},"_appendGhost"),_onDragStart:__name(function(evt,fallback){var _this=this,dataTransfer=evt.dataTransfer,options=_this.options;pluginEvent("dragStart",this,{evt}),Sortable.eventCanceled?this._onDrop():(pluginEvent("setupClone",this),Sortable.eventCanceled||((cloneEl=clone(dragEl)).removeAttribute("id"),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),_this.cloneId=_nextTick(function(){pluginEvent("clone",_this),!Sortable.eventCanceled&&(_this.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),_this._hideClone(),_dispatchEvent({sortable:_this,name:"clone"}))}),!fallback&&toggleClass(dragEl,options.dragClass,!0),fallback?(ignoreNextClick=!0,_this._loopId=setInterval(_this._emulateDragOver,50)):(off(document,"mouseup",_this._onDrop),off(document,"touchend",_this._onDrop),off(document,"touchcancel",_this._onDrop),dataTransfer&&(dataTransfer.effectAllowed="move",options.setData&&options.setData.call(_this,dataTransfer,dragEl)),on(document,"drop",_this),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,_this._dragStartId=_nextTick(_this._dragStarted.bind(_this,fallback,evt)),on(document,"selectstart",_this),moved=!0,Safari&&css(document.body,"user-select","none"))},"_onDragStart"),_onDragOver:__name(function(evt){var dragRect,targetRect,revert,vertical,el=this.el,target=evt.target,options=this.options,group=options.group,activeSortable=Sortable.active,isOwner=activeGroup===group,canSort=options.sort,fromSortable=putSortable||activeSortable,_this=this,completedFired=!1;if(!_silent){if(__name(dragOverEvent,"dragOverEvent"),__name(capture,"capture"),__name(completed,"completed"),__name(changed,"changed"),void 0!==evt.preventDefault&&evt.cancelable&&evt.preventDefault(),target=closest(target,options.draggable,el,!0),dragOverEvent("dragOver"),Sortable.eventCanceled)return completedFired;if(dragEl.contains(evt.target)||target.animated&&target.animatingX&&target.animatingY||_this._ignoreWhileAnimating===target)return completed(!1);if(ignoreNextClick=!1,activeSortable&&!options.disabled&&(isOwner?canSort||(revert=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,activeSortable,dragEl,evt))&&group.checkPut(this,activeSortable,dragEl,evt))){if(vertical="vertical"===this._getDirection(evt,target),dragRect=getRect(dragEl),dragOverEvent("dragOverValid"),Sortable.eventCanceled)return completedFired;if(revert)return parentEl=rootEl,capture(),this._hideClone(),dragOverEvent("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),completed(!0);var elLastChild=lastChild(el,options.draggable);if(!elLastChild||_ghostIsLast(evt,vertical,this)&&!elLastChild.animated){if(elLastChild===dragEl)return completed(!1);if(elLastChild&&el===evt.target&&(target=elLastChild),target&&(targetRect=getRect(target)),!1!==_onMove(rootEl,el,dragEl,dragRect,target,targetRect,evt,!!target))return capture(),elLastChild&&elLastChild.nextSibling?el.insertBefore(dragEl,elLastChild.nextSibling):el.appendChild(dragEl),parentEl=el,changed(),completed(!0)}else if(elLastChild&&_ghostIsFirst(evt,vertical,this)){var firstChild=getChild(el,0,options,!0);if(firstChild===dragEl)return completed(!1);if(targetRect=getRect(target=firstChild),!1!==_onMove(rootEl,el,dragEl,dragRect,target,targetRect,evt,!1))return capture(),el.insertBefore(dragEl,firstChild),parentEl=el,changed(),completed(!0)}else if(target.parentNode===el){targetRect=getRect(target);var direction,targetBeforeFirstSwap,sibling,differentLevel=dragEl.parentNode!==el,differentRowCol=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||dragRect,target.animated&&target.toRect||targetRect,vertical),side1=vertical?"top":"left",scrolledPastTop=isScrolledPast(target,"top","top")||isScrolledPast(dragEl,"top","top"),scrollBefore=scrolledPastTop?scrolledPastTop.scrollTop:void 0;if(lastTarget!==target&&(targetBeforeFirstSwap=targetRect[side1],pastFirstInvertThresh=!1,isCircumstantialInvert=!differentRowCol&&options.invertSwap||differentLevel),0!==(direction=_getSwapDirection(evt,target,targetRect,vertical,differentRowCol?1:options.swapThreshold,null==options.invertedSwapThreshold?options.swapThreshold:options.invertedSwapThreshold,isCircumstantialInvert,lastTarget===target))){var dragIndex=index(dragEl);do{dragIndex-=direction,sibling=parentEl.children[dragIndex]}while(sibling&&("none"===css(sibling,"display")||sibling===ghostEl))}if(0===direction||sibling===target)return completed(!1);lastTarget=target,lastDirection=direction;var nextSibling=target.nextElementSibling,after=!1,moveVector=_onMove(rootEl,el,dragEl,dragRect,target,targetRect,evt,after=1===direction);if(!1!==moveVector)return(1===moveVector||-1===moveVector)&&(after=1===moveVector),_silent=!0,setTimeout(_unsilent,30),capture(),after&&!nextSibling?el.appendChild(dragEl):target.parentNode.insertBefore(dragEl,after?nextSibling:target),scrolledPastTop&&scrollBy(scrolledPastTop,0,scrollBefore-scrolledPastTop.scrollTop),parentEl=dragEl.parentNode,void 0!==targetBeforeFirstSwap&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(targetBeforeFirstSwap-getRect(target)[side1])),changed(),completed(!0)}if(el.contains(dragEl))return completed(!1)}return!1}function dragOverEvent(name,extra){pluginEvent(name,_this,_objectSpread2({evt,isOwner,axis:vertical?"vertical":"horizontal",revert,dragRect,targetRect,canSort,fromSortable,target,completed,onMove:__name(function(target2,after2){return _onMove(rootEl,el,dragEl,dragRect,target2,getRect(target2),evt,after2)},"onMove"),changed},extra))}function capture(){dragOverEvent("dragOverAnimationCapture"),_this.captureAnimationState(),_this!==fromSortable&&fromSortable.captureAnimationState()}function completed(insertion){return dragOverEvent("dragOverCompleted",{insertion}),insertion&&(isOwner?activeSortable._hideClone():activeSortable._showClone(_this),_this!==fromSortable&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:activeSortable.options.ghostClass,!1),toggleClass(dragEl,options.ghostClass,!0)),putSortable!==_this&&_this!==Sortable.active?putSortable=_this:_this===Sortable.active&&putSortable&&(putSortable=null),fromSortable===_this&&(_this._ignoreWhileAnimating=target),_this.animateAll(function(){dragOverEvent("dragOverAnimationComplete"),_this._ignoreWhileAnimating=null}),_this!==fromSortable&&(fromSortable.animateAll(),fromSortable._ignoreWhileAnimating=null)),(target===dragEl&&!dragEl.animated||target===el&&!target.animated)&&(lastTarget=null),!options.dragoverBubble&&!evt.rootEl&&target!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(evt.target),!insertion&&nearestEmptyInsertDetectEvent(evt)),!options.dragoverBubble&&evt.stopPropagation&&evt.stopPropagation(),completedFired=!0}function changed(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,options.draggable),_dispatchEvent({sortable:_this,name:"change",toEl:el,newIndex,newDraggableIndex,originalEvent:evt})}},"_onDragOver"),_ignoreWhileAnimating:null,_offMoveEvents:__name(function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},"_offMoveEvents"),_offUpEvents:__name(function(){var ownerDocument=this.el.ownerDocument;off(ownerDocument,"mouseup",this._onDrop),off(ownerDocument,"touchend",this._onDrop),off(ownerDocument,"pointerup",this._onDrop),off(ownerDocument,"touchcancel",this._onDrop),off(document,"selectstart",this)},"_offUpEvents"),_onDrop:__name(function(evt){var el=this.el,options=this.options;newIndex=index(dragEl),newDraggableIndex=index(dragEl,options.draggable),pluginEvent("drop",this,{evt}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,options.draggable),Sortable.eventCanceled||(awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(el,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),evt&&(moved&&(evt.cancelable&&evt.preventDefault(),!options.dropBubble&&evt.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&"clone"!==putSortable.lastPutMode)&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:evt}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:evt}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:evt}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:evt}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:evt})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:evt}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:evt})),Sortable.active&&((null==newIndex||-1===newIndex)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:evt}),this.save())))),this._nulling()},"_onDrop"),_nulling:__name(function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(el){el.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},"_nulling"),handleEvent:__name(function(evt){switch(evt.type){case"drop":case"dragend":this._onDrop(evt);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(evt),_globalDragOver(evt));break;case"selectstart":evt.preventDefault()}},"handleEvent"),toArray:__name(function(){for(var el,order=[],children=this.el.children,i=0,n=children.length,options=this.options;i<n;i++)closest(el=children[i],options.draggable,this.el,!1)&&order.push(el.getAttribute(options.dataIdAttr)||_generateId(el));return order},"toArray"),sort:__name(function(order,useAnimation){var items={},rootEl2=this.el;this.toArray().forEach(function(id,i){var el=rootEl2.children[i];closest(el,this.options.draggable,rootEl2,!1)&&(items[id]=el)},this),useAnimation&&this.captureAnimationState(),order.forEach(function(id){items[id]&&(rootEl2.removeChild(items[id]),rootEl2.appendChild(items[id]))}),useAnimation&&this.animateAll()},"sort"),save:__name(function(){var store=this.options.store;store&&store.set&&store.set(this)},"save"),closest:__name(function(el,selector){return closest(el,selector||this.options.draggable,this.el,!1)},"closest$1"),option:__name(function(name,value){var options=this.options;if(void 0===value)return options[name];var modifiedValue=PluginManager.modifyOption(this,name,value);options[name]=typeof modifiedValue<"u"?modifiedValue:value,"group"===name&&_prepareGroup(options)},"option"),destroy:__name(function(){pluginEvent("destroy",this);var el=this.el;el[expando]=null,off(el,"mousedown",this._onTapStart),off(el,"touchstart",this._onTapStart),off(el,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(el,"dragover",this),off(el,"dragenter",this)),Array.prototype.forEach.call(el.querySelectorAll("[draggable]"),function(el2){el2.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=el=null},"destroy"),_hideClone:__name(function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},"_hideClone"),_showClone:__name(function(putSortable2){if("clone"===putSortable2.lastPutMode){if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode!=rootEl||this.options.group.revertClone?nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl):rootEl.insertBefore(cloneEl,dragEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}else this._hideClone()},"_showClone")},__name(_globalDragOver,"_globalDragOver"),__name(_onMove,"_onMove"),__name(_disableDraggable,"_disableDraggable"),__name(_unsilent,"_unsilent"),__name(_ghostIsFirst,"_ghostIsFirst"),__name(_ghostIsLast,"_ghostIsLast"),__name(_getSwapDirection,"_getSwapDirection"),__name(_getInsertDirection,"_getInsertDirection"),__name(_generateId,"_generateId"),__name(_saveInputCheckedState,"_saveInputCheckedState"),__name(_nextTick,"_nextTick"),__name(_cancelNextTick,"_cancelNextTick"),documentExists&&on(document,"touchmove",function(evt){(Sortable.active||awaitingDragStarted)&&evt.cancelable&&evt.preventDefault()}),Sortable.utils={on,off,css,find,is:__name(function(el,selector){return!!closest(el,selector,el,!1)},"is"),extend,throttle,closest,toggleClass,clone,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild},Sortable.get=function(element){return element[expando]},Sortable.mount=function(){for(var _len=arguments.length,plugins2=new Array(_len),_key=0;_key<_len;_key++)plugins2[_key]=arguments[_key];plugins2[0].constructor===Array&&(plugins2=plugins2[0]),plugins2.forEach(function(plugin){if(!plugin.prototype||!plugin.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(plugin));plugin.utils&&(Sortable.utils=_objectSpread2(_objectSpread2({},Sortable.utils),plugin.utils)),PluginManager.mount(plugin)})},Sortable.create=function(el,options){return new Sortable(el,options)},Sortable.version="1.15.0";var scrollEl,scrollRootEl,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval,autoScrolls=[],scrolling=!1;function AutoScrollPlugin(){function AutoScroll(){for(var fn in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===fn.charAt(0)&&"function"==typeof this[fn]&&(this[fn]=this[fn].bind(this))}return __name(AutoScroll,"AutoScroll"),AutoScroll.prototype={dragStarted:__name(function(_ref){var originalEvent=_ref.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):originalEvent.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},"dragStarted"),dragOverCompleted:__name(function(_ref2){var originalEvent=_ref2.originalEvent;!this.options.dragOverBubble&&!originalEvent.rootEl&&this._handleAutoScroll(originalEvent)},"dragOverCompleted"),drop:__name(function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},"drop"),nulling:__name(function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},"nulling"),_handleFallbackAutoScroll:__name(function(evt){this._handleAutoScroll(evt,!0)},"_handleFallbackAutoScroll"),_handleAutoScroll:__name(function(evt,fallback){var _this=this,x=(evt.touches?evt.touches[0]:evt).clientX,y=(evt.touches?evt.touches[0]:evt).clientY,elem=document.elementFromPoint(x,y);if(touchEvt$1=evt,fallback||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(evt,this.options,elem,fallback);var ogElemScroller=getParentAutoScrollElement(elem,!0);scrolling&&(!pointerElemChangedInterval||x!==lastAutoScrollX||y!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var newElem=getParentAutoScrollElement(document.elementFromPoint(x,y),!0);newElem!==ogElemScroller&&(ogElemScroller=newElem,clearAutoScrolls()),autoScroll(evt,_this.options,newElem,fallback)},10),lastAutoScrollX=x,lastAutoScrollY=y)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(elem,!0)===getWindowScrollingElement())return void clearAutoScrolls();autoScroll(evt,this.options,getParentAutoScrollElement(elem,!1),!1)}},"_handleAutoScroll")},_extends(AutoScroll,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(autoScroll2){clearInterval(autoScroll2.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}__name(AutoScrollPlugin,"AutoScrollPlugin"),__name(clearAutoScrolls,"clearAutoScrolls"),__name(clearPointerElemChangedInterval,"clearPointerElemChangedInterval");var lastSwapEl,autoScroll=throttle(function(evt,options,rootEl2,isFallback){if(options.scroll){var scrollCustomFn,x=(evt.touches?evt.touches[0]:evt).clientX,y=(evt.touches?evt.touches[0]:evt).clientY,sens=options.scrollSensitivity,speed=options.scrollSpeed,winScroller=getWindowScrollingElement(),scrollThisInstance=!1;scrollRootEl!==rootEl2&&(scrollRootEl=rootEl2,clearAutoScrolls(),scrollEl=options.scroll,scrollCustomFn=options.scrollFn,!0===scrollEl&&(scrollEl=getParentAutoScrollElement(rootEl2,!0)));var layersOut=0,currentParent=scrollEl;do{var el=currentParent,rect=getRect(el),top=rect.top,bottom=rect.bottom,left=rect.left,right=rect.right,width=rect.width,height=rect.height,canScrollX=void 0,canScrollY=void 0,scrollWidth=el.scrollWidth,scrollHeight=el.scrollHeight,elCSS=css(el),scrollPosX=el.scrollLeft,scrollPosY=el.scrollTop;el===winScroller?(canScrollX=width<scrollWidth&&("auto"===elCSS.overflowX||"scroll"===elCSS.overflowX||"visible"===elCSS.overflowX),canScrollY=height<scrollHeight&&("auto"===elCSS.overflowY||"scroll"===elCSS.overflowY||"visible"===elCSS.overflowY)):(canScrollX=width<scrollWidth&&("auto"===elCSS.overflowX||"scroll"===elCSS.overflowX),canScrollY=height<scrollHeight&&("auto"===elCSS.overflowY||"scroll"===elCSS.overflowY));var vx=canScrollX&&(Math.abs(right-x)<=sens&&scrollPosX+width<scrollWidth)-(Math.abs(left-x)<=sens&&!!scrollPosX),vy=canScrollY&&(Math.abs(bottom-y)<=sens&&scrollPosY+height<scrollHeight)-(Math.abs(top-y)<=sens&&!!scrollPosY);if(!autoScrolls[layersOut])for(var i=0;i<=layersOut;i++)autoScrolls[i]||(autoScrolls[i]={});(autoScrolls[layersOut].vx!=vx||autoScrolls[layersOut].vy!=vy||autoScrolls[layersOut].el!==el)&&(autoScrolls[layersOut].el=el,autoScrolls[layersOut].vx=vx,autoScrolls[layersOut].vy=vy,clearInterval(autoScrolls[layersOut].pid),(0!=vx||0!=vy)&&(scrollThisInstance=!0,autoScrolls[layersOut].pid=setInterval(function(){isFallback&&0===this.layer&&Sortable.active._onTouchMove(touchEvt$1);var scrollOffsetY=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*speed:0,scrollOffsetX=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*speed:0;"function"==typeof scrollCustomFn&&"continue"!==scrollCustomFn.call(Sortable.dragged.parentNode[expando],scrollOffsetX,scrollOffsetY,evt,touchEvt$1,autoScrolls[this.layer].el)||scrollBy(autoScrolls[this.layer].el,scrollOffsetX,scrollOffsetY)}.bind({layer:layersOut}),24))),layersOut++}while(options.bubbleScroll&&currentParent!==winScroller&&(currentParent=getParentAutoScrollElement(currentParent,!1)));scrolling=scrollThisInstance}},30),drop=__name(function(_ref){var originalEvent=_ref.originalEvent,putSortable2=_ref.putSortable,dragEl2=_ref.dragEl,activeSortable=_ref.activeSortable,dispatchSortableEvent=_ref.dispatchSortableEvent,hideGhostForTarget=_ref.hideGhostForTarget,unhideGhostForTarget=_ref.unhideGhostForTarget;if(originalEvent){var toSortable=putSortable2||activeSortable;hideGhostForTarget();var touch=originalEvent.changedTouches&&originalEvent.changedTouches.length?originalEvent.changedTouches[0]:originalEvent,target=document.elementFromPoint(touch.clientX,touch.clientY);unhideGhostForTarget(),toSortable&&!toSortable.el.contains(target)&&(dispatchSortableEvent("spill"),this.onSpill({dragEl:dragEl2,putSortable:putSortable2}))}},"drop");function Revert(){}function Remove(){}function swapNodes(n1,n2){var i1,i2,p1=n1.parentNode,p2=n2.parentNode;!p1||!p2||p1.isEqualNode(n2)||p2.isEqualNode(n1)||(i1=index(n1),i2=index(n2),p1.isEqualNode(p2)&&i1<i2&&i2++,p1.insertBefore(n2,p1.children[i1]),p2.insertBefore(n1,p2.children[i2]))}__name(Revert,"Revert"),Revert.prototype={startIndex:null,dragStart:__name(function(_ref2){var oldDraggableIndex2=_ref2.oldDraggableIndex;this.startIndex=oldDraggableIndex2},"dragStart"),onSpill:__name(function(_ref3){var dragEl2=_ref3.dragEl,putSortable2=_ref3.putSortable;this.sortable.captureAnimationState(),putSortable2&&putSortable2.captureAnimationState();var nextSibling=getChild(this.sortable.el,this.startIndex,this.options);nextSibling?this.sortable.el.insertBefore(dragEl2,nextSibling):this.sortable.el.appendChild(dragEl2),this.sortable.animateAll(),putSortable2&&putSortable2.animateAll()},"onSpill"),drop},_extends(Revert,{pluginName:"revertOnSpill"}),__name(Remove,"Remove"),Remove.prototype={onSpill:__name(function(_ref4){var dragEl2=_ref4.dragEl,parentSortable=_ref4.putSortable||this.sortable;parentSortable.captureAnimationState(),dragEl2.parentNode&&dragEl2.parentNode.removeChild(dragEl2),parentSortable.animateAll()},"onSpill"),drop},_extends(Remove,{pluginName:"removeOnSpill"}),__name(function SwapPlugin(){function Swap(){this.defaults={swapClass:"sortable-swap-highlight"}}return __name(Swap,"Swap"),Swap.prototype={dragStart:__name(function(_ref){var dragEl2=_ref.dragEl;lastSwapEl=dragEl2},"dragStart"),dragOverValid:__name(function(_ref2){var completed=_ref2.completed,target=_ref2.target,onMove=_ref2.onMove,activeSortable=_ref2.activeSortable,changed=_ref2.changed,cancel=_ref2.cancel;if(activeSortable.options.swap){var el=this.sortable.el,options=this.options;if(target&&target!==el){var prevSwapEl=lastSwapEl;!1!==onMove(target)?(toggleClass(target,options.swapClass,!0),lastSwapEl=target):lastSwapEl=null,prevSwapEl&&prevSwapEl!==lastSwapEl&&toggleClass(prevSwapEl,options.swapClass,!1)}changed(),completed(!0),cancel()}},"dragOverValid"),drop:__name(function(_ref3){var activeSortable=_ref3.activeSortable,putSortable2=_ref3.putSortable,dragEl2=_ref3.dragEl,toSortable=putSortable2||this.sortable,options=this.options;lastSwapEl&&toggleClass(lastSwapEl,options.swapClass,!1),lastSwapEl&&(options.swap||putSortable2&&putSortable2.options.swap)&&dragEl2!==lastSwapEl&&(toSortable.captureAnimationState(),toSortable!==activeSortable&&activeSortable.captureAnimationState(),swapNodes(dragEl2,lastSwapEl),toSortable.animateAll(),toSortable!==activeSortable&&activeSortable.animateAll())},"drop"),nulling:__name(function(){lastSwapEl=null},"nulling")},_extends(Swap,{pluginName:"swap",eventProperties:__name(function(){return{swapItem:lastSwapEl}},"eventProperties")})},"SwapPlugin"),__name(swapNodes,"swapNodes");var lastMultiDragSelect,multiDragSortable,dragEl$1,clonesFromRect,clonesHidden,multiDragElements=null,multiDragClones=null,initialFolding=!1,folding=!1,dragStarted=!1;function insertMultiDragElements(clonesInserted,rootEl2){multiDragElements.forEach(function(multiDragElement,i){var target=rootEl2.children[multiDragElement.sortableIndex+(clonesInserted?Number(i):0)];target?rootEl2.insertBefore(multiDragElement,target):rootEl2.appendChild(multiDragElement)})}function insertMultiDragClones(elementsInserted,rootEl2){multiDragClones.forEach(function(clone2,i){var target=rootEl2.children[clone2.sortableIndex+(elementsInserted?Number(i):0)];target?rootEl2.insertBefore(clone2,target):rootEl2.appendChild(clone2)})}function removeMultiDragElements(){multiDragElements.forEach(function(multiDragElement){multiDragElement!==dragEl$1&&multiDragElement.parentNode&&multiDragElement.parentNode.removeChild(multiDragElement)})}__name(function MultiDragPlugin(){function MultiDrag(sortable){for(var fn in this)"_"===fn.charAt(0)&&"function"==typeof this[fn]&&(this[fn]=this[fn].bind(this));sortable.options.avoidImplicitDeselect||(sortable.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag))),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:__name(function(dataTransfer,dragEl2){var data="";multiDragElements.length&&multiDragSortable===sortable?multiDragElements.forEach(function(multiDragElement,i){data+=(i?", ":"")+multiDragElement.textContent}):data=dragEl2.textContent,dataTransfer.setData("Text",data)},"setData")}}return __name(MultiDrag,"MultiDrag"),MultiDrag.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:__name(function(_ref){var dragged=_ref.dragEl;dragEl$1=dragged},"delayStartGlobal"),delayEnded:__name(function(){this.isMultiDrag=~multiDragElements.indexOf(dragEl$1)},"delayEnded"),setupClone:__name(function(_ref2){var sortable=_ref2.sortable,cancel=_ref2.cancel;if(this.isMultiDrag){for(var i=0;i<multiDragElements.length;i++)multiDragClones.push(clone(multiDragElements[i])),multiDragClones[i].sortableIndex=multiDragElements[i].sortableIndex,multiDragClones[i].draggable=!1,multiDragClones[i].style["will-change"]="",toggleClass(multiDragClones[i],this.options.selectedClass,!1),multiDragElements[i]===dragEl$1&&toggleClass(multiDragClones[i],this.options.chosenClass,!1);sortable._hideClone(),cancel()}},"setupClone"),clone:__name(function(_ref3){var sortable=_ref3.sortable,rootEl2=_ref3.rootEl,dispatchSortableEvent=_ref3.dispatchSortableEvent,cancel=_ref3.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||multiDragElements.length&&multiDragSortable===sortable&&(insertMultiDragClones(!0,rootEl2),dispatchSortableEvent("clone"),cancel()))},"clone"),showClone:__name(function(_ref4){var cloneNowShown=_ref4.cloneNowShown,rootEl2=_ref4.rootEl,cancel=_ref4.cancel;this.isMultiDrag&&(insertMultiDragClones(!1,rootEl2),multiDragClones.forEach(function(clone2){css(clone2,"display","")}),cloneNowShown(),clonesHidden=!1,cancel())},"showClone"),hideClone:__name(function(_ref5){var _this=this,cloneNowHidden=(_ref5.sortable,_ref5.cloneNowHidden),cancel=_ref5.cancel;this.isMultiDrag&&(multiDragClones.forEach(function(clone2){css(clone2,"display","none"),_this.options.removeCloneOnHide&&clone2.parentNode&&clone2.parentNode.removeChild(clone2)}),cloneNowHidden(),clonesHidden=!0,cancel())},"hideClone"),dragStartGlobal:__name(function(_ref6){_ref6.sortable;!this.isMultiDrag&&multiDragSortable&&multiDragSortable.multiDrag._deselectMultiDrag(),multiDragElements.forEach(function(multiDragElement){multiDragElement.sortableIndex=index(multiDragElement)}),multiDragElements=multiDragElements.sort(function(a,b){return a.sortableIndex-b.sortableIndex}),dragStarted=!0},"dragStartGlobal"),dragStarted:__name(function(_ref7){var _this2=this,sortable=_ref7.sortable;if(this.isMultiDrag){if(this.options.sort&&(sortable.captureAnimationState(),this.options.animation)){multiDragElements.forEach(function(multiDragElement){multiDragElement!==dragEl$1&&css(multiDragElement,"position","absolute")});var dragRect=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(multiDragElement){multiDragElement!==dragEl$1&&setRect(multiDragElement,dragRect)}),folding=!0,initialFolding=!0}sortable.animateAll(function(){folding=!1,initialFolding=!1,_this2.options.animation&&multiDragElements.forEach(function(multiDragElement){unsetRect(multiDragElement)}),_this2.options.sort&&removeMultiDragElements()})}},"dragStarted"),dragOver:__name(function(_ref8){var target=_ref8.target,completed=_ref8.completed,cancel=_ref8.cancel;folding&&~multiDragElements.indexOf(target)&&(completed(!1),cancel())},"dragOver"),revert:__name(function(_ref9){var fromSortable=_ref9.fromSortable,rootEl2=_ref9.rootEl,sortable=_ref9.sortable,dragRect=_ref9.dragRect;multiDragElements.length>1&&(multiDragElements.forEach(function(multiDragElement){sortable.addAnimationState({target:multiDragElement,rect:folding?getRect(multiDragElement):dragRect}),unsetRect(multiDragElement),multiDragElement.fromRect=dragRect,fromSortable.removeAnimationState(multiDragElement)}),folding=!1,insertMultiDragElements(!this.options.removeCloneOnHide,rootEl2))},"revert"),dragOverCompleted:__name(function(_ref10){var sortable=_ref10.sortable,isOwner=_ref10.isOwner,insertion=_ref10.insertion,activeSortable=_ref10.activeSortable,parentEl2=_ref10.parentEl,putSortable2=_ref10.putSortable,options=this.options;if(insertion){if(isOwner&&activeSortable._hideClone(),initialFolding=!1,options.animation&&multiDragElements.length>1&&(folding||!isOwner&&!activeSortable.options.sort&&!putSortable2)){var dragRectAbsolute=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(multiDragElement){multiDragElement!==dragEl$1&&(setRect(multiDragElement,dragRectAbsolute),parentEl2.appendChild(multiDragElement))}),folding=!0}if(!isOwner)if(folding||removeMultiDragElements(),multiDragElements.length>1){var clonesHiddenBefore=clonesHidden;activeSortable._showClone(sortable),activeSortable.options.animation&&!clonesHidden&&clonesHiddenBefore&&multiDragClones.forEach(function(clone2){activeSortable.addAnimationState({target:clone2,rect:clonesFromRect}),clone2.fromRect=clonesFromRect,clone2.thisAnimationDuration=null})}else activeSortable._showClone(sortable)}},"dragOverCompleted"),dragOverAnimationCapture:__name(function(_ref11){var dragRect=_ref11.dragRect,isOwner=_ref11.isOwner,activeSortable=_ref11.activeSortable;if(multiDragElements.forEach(function(multiDragElement){multiDragElement.thisAnimationDuration=null}),activeSortable.options.animation&&!isOwner&&activeSortable.multiDrag.isMultiDrag){clonesFromRect=_extends({},dragRect);var dragMatrix=matrix(dragEl$1,!0);clonesFromRect.top-=dragMatrix.f,clonesFromRect.left-=dragMatrix.e}},"dragOverAnimationCapture"),dragOverAnimationComplete:__name(function(){folding&&(folding=!1,removeMultiDragElements())},"dragOverAnimationComplete"),drop:__name(function(_ref12){var evt=_ref12.originalEvent,rootEl2=_ref12.rootEl,parentEl2=_ref12.parentEl,sortable=_ref12.sortable,dispatchSortableEvent=_ref12.dispatchSortableEvent,oldIndex2=_ref12.oldIndex,putSortable2=_ref12.putSortable,toSortable=putSortable2||this.sortable;if(evt){var options=this.options,children=parentEl2.children;if(!dragStarted)if(options.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),toggleClass(dragEl$1,options.selectedClass,!~multiDragElements.indexOf(dragEl$1)),~multiDragElements.indexOf(dragEl$1))multiDragElements.splice(multiDragElements.indexOf(dragEl$1),1),lastMultiDragSelect=null,dispatchEvent({sortable,rootEl:rootEl2,name:"deselect",targetEl:dragEl$1,originalEvent:evt});else{if(multiDragElements.push(dragEl$1),dispatchEvent({sortable,rootEl:rootEl2,name:"select",targetEl:dragEl$1,originalEvent:evt}),evt.shiftKey&&lastMultiDragSelect&&sortable.el.contains(lastMultiDragSelect)){var n,i,lastIndex=index(lastMultiDragSelect),currentIndex=index(dragEl$1);if(~lastIndex&&~currentIndex&&lastIndex!==currentIndex)for(currentIndex>lastIndex?(i=lastIndex,n=currentIndex):(i=currentIndex,n=lastIndex+1);i<n;i++)~multiDragElements.indexOf(children[i])||(toggleClass(children[i],options.selectedClass,!0),multiDragElements.push(children[i]),dispatchEvent({sortable,rootEl:rootEl2,name:"select",targetEl:children[i],originalEvent:evt}))}else lastMultiDragSelect=dragEl$1;multiDragSortable=toSortable}if(dragStarted&&this.isMultiDrag){if(folding=!1,(parentEl2[expando].options.sort||parentEl2!==rootEl2)&&multiDragElements.length>1){var dragRect=getRect(dragEl$1),multiDragIndex=index(dragEl$1,":not(."+this.options.selectedClass+")");if(!initialFolding&&options.animation&&(dragEl$1.thisAnimationDuration=null),toSortable.captureAnimationState(),!initialFolding&&(options.animation&&(dragEl$1.fromRect=dragRect,multiDragElements.forEach(function(multiDragElement){if(multiDragElement.thisAnimationDuration=null,multiDragElement!==dragEl$1){var rect=folding?getRect(multiDragElement):dragRect;multiDragElement.fromRect=rect,toSortable.addAnimationState({target:multiDragElement,rect})}})),removeMultiDragElements(),multiDragElements.forEach(function(multiDragElement){children[multiDragIndex]?parentEl2.insertBefore(multiDragElement,children[multiDragIndex]):parentEl2.appendChild(multiDragElement),multiDragIndex++}),oldIndex2===index(dragEl$1))){var update=!1;multiDragElements.forEach(function(multiDragElement){multiDragElement.sortableIndex===index(multiDragElement)||(update=!0)}),update&&dispatchSortableEvent("update")}multiDragElements.forEach(function(multiDragElement){unsetRect(multiDragElement)}),toSortable.animateAll()}multiDragSortable=toSortable}(rootEl2===parentEl2||putSortable2&&"clone"!==putSortable2.lastPutMode)&&multiDragClones.forEach(function(clone2){clone2.parentNode&&clone2.parentNode.removeChild(clone2)})}},"drop"),nullingGlobal:__name(function(){this.isMultiDrag=dragStarted=!1,multiDragClones.length=0},"nullingGlobal"),destroyGlobal:__name(function(){this._deselectMultiDrag(),off(document,"pointerup",this._deselectMultiDrag),off(document,"mouseup",this._deselectMultiDrag),off(document,"touchend",this._deselectMultiDrag),off(document,"keydown",this._checkKeyDown),off(document,"keyup",this._checkKeyUp)},"destroyGlobal"),_deselectMultiDrag:__name(function(evt){if(!(typeof dragStarted<"u"&&dragStarted||multiDragSortable!==this.sortable||evt&&closest(evt.target,this.options.draggable,this.sortable.el,!1)||evt&&0!==evt.button))for(;multiDragElements.length;){var el=multiDragElements[0];toggleClass(el,this.options.selectedClass,!1),multiDragElements.shift(),dispatchEvent({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:el,originalEvent:evt})}},"_deselectMultiDrag"),_checkKeyDown:__name(function(evt){evt.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},"_checkKeyDown"),_checkKeyUp:__name(function(evt){evt.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)},"_checkKeyUp")},_extends(MultiDrag,{pluginName:"multiDrag",utils:{select:__name(function(el){var sortable=el.parentNode[expando];!sortable||!sortable.options.multiDrag||~multiDragElements.indexOf(el)||(multiDragSortable&&multiDragSortable!==sortable&&(multiDragSortable.multiDrag._deselectMultiDrag(),multiDragSortable=sortable),toggleClass(el,sortable.options.selectedClass,!0),multiDragElements.push(el))},"select"),deselect:__name(function(el){var sortable=el.parentNode[expando],index2=multiDragElements.indexOf(el);!sortable||!sortable.options.multiDrag||!~index2||(toggleClass(el,sortable.options.selectedClass,!1),multiDragElements.splice(index2,1))},"deselect")},eventProperties:__name(function(){var _this3=this,oldIndicies=[],newIndicies=[];return multiDragElements.forEach(function(multiDragElement){var newIndex2;oldIndicies.push({multiDragElement,index:multiDragElement.sortableIndex}),newIndex2=folding&&multiDragElement!==dragEl$1?-1:folding?index(multiDragElement,":not(."+_this3.options.selectedClass+")"):index(multiDragElement),newIndicies.push({multiDragElement,index:newIndex2})}),{items:_toConsumableArray(multiDragElements),clones:[].concat(multiDragClones),oldIndicies,newIndicies}},"eventProperties"),optionListeners:{multiDragKey:__name(function(key){return"ctrl"===(key=key.toLowerCase())?key="Control":key.length>1&&(key=key.charAt(0).toUpperCase()+key.substr(1)),key},"multiDragKey")}})},"MultiDragPlugin"),__name(insertMultiDragElements,"insertMultiDragElements"),__name(insertMultiDragClones,"insertMultiDragClones"),__name(removeMultiDragElements,"removeMultiDragElements"),Sortable.mount(new AutoScrollPlugin),Sortable.mount(Remove,Revert);const sortable_esm=Sortable,GLOBALS=new core.OlP("Global config for sortablejs");class SortablejsBinding{constructor(target){this.target=target}insert(index2,item){this.isFormArray?this.target.insert(index2,item):this.target.splice(index2,0,item)}get(index2){return this.isFormArray?this.target.at(index2):this.target[index2]}remove(index2){let item;return this.isFormArray?(item=this.target.at(index2),this.target.removeAt(index2)):item=this.target.splice(index2,1)[0],item}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}__name(SortablejsBinding,"SortablejsBinding");class SortablejsBindings{constructor(bindingTargets){this.bindings=bindingTargets.map(target=>new SortablejsBinding(target))}injectIntoEvery(index2,items){this.bindings.forEach((b,i)=>b.insert(index2,items[i]))}getFromEvery(index2){return this.bindings.map(b=>b.get(index2))}extractFromEvery(index2){return this.bindings.map(b=>b.remove(index2))}get provided(){return!!this.bindings.length}}__name(SortablejsBindings,"SortablejsBindings");class SortablejsService{}__name(SortablejsService,"SortablejsService"),SortablejsService.\u0275fac=__name(function(t){return new(t||SortablejsService)},"SortablejsService_Factory"),SortablejsService.\u0275prov=(0,core.Yz7)({factory:__name(function(){return new SortablejsService},"SortablejsService_Factory"),token:SortablejsService,providedIn:"root"});const getIndexesFromEvent=__name(event2=>event2.hasOwnProperty("newDraggableIndex")&&event2.hasOwnProperty("oldDraggableIndex")?{new:event2.newDraggableIndex,old:event2.oldDraggableIndex}:{new:event2.newIndex,old:event2.oldIndex},"getIndexesFromEvent");class SortablejsDirective{constructor(globalConfig,service,element,zone,renderer){this.globalConfig=globalConfig,this.service=service,this.element=element,this.zone=zone,this.renderer=renderer,this.sortablejsInit=new core.vpe}ngOnInit(){sortable_esm&&sortable_esm.create&&this.create()}ngOnChanges(changes){const optionsChange=changes.sortablejsOptions;if(optionsChange&&!optionsChange.isFirstChange()){const previousOptions=optionsChange.previousValue,currentOptions=optionsChange.currentValue;Object.keys(currentOptions).forEach(optionName=>{currentOptions[optionName]!==previousOptions[optionName]&&this.sortableInstance.option(optionName,this.options[optionName])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const container=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=sortable_esm.create(container,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof SortablejsBindings?this.sortablejs:new SortablejsBindings([this.sortablejs]):new SortablejsBindings([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(eventName,...params){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[eventName]&&this.optionsWithoutEvents[eventName](...params)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(item){return(this.sortablejsCloneFunction||(subitem=>subitem))(item)}get overridenOptions(){return{onAdd:event2=>{this.service.transfer=items=>{this.getBindings().injectIntoEvery(event2.newIndex,items),this.proxyEvent("onAdd",event2)},this.proxyEvent("onAddOriginal",event2)},onRemove:event2=>{const bindings=this.getBindings();bindings.provided&&(this.isCloning?(this.service.transfer(bindings.getFromEvery(event2.oldIndex).map(item=>this.clone(item))),this.renderer.removeChild(event2.item.parentNode,event2.item),this.renderer.insertBefore(event2.clone.parentNode,event2.item,event2.clone),this.renderer.removeChild(event2.clone.parentNode,event2.clone)):this.service.transfer(bindings.extractFromEvery(event2.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",event2)},onUpdate:event2=>{const bindings=this.getBindings(),indexes=getIndexesFromEvent(event2);bindings.injectIntoEvery(indexes.new,bindings.extractFromEvery(indexes.old)),this.proxyEvent("onUpdate",event2)}}}}__name(SortablejsDirective,"SortablejsDirective"),SortablejsDirective.\u0275fac=__name(function(t){return new(t||SortablejsDirective)(core.Y36(GLOBALS,8),core.Y36(SortablejsService),core.Y36(core.SBq),core.Y36(core.R0b),core.Y36(core.Qsj))},"SortablejsDirective_Factory"),SortablejsDirective.\u0275dir=core.lG2({type:SortablejsDirective,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[core.TTD]}),SortablejsDirective.ctorParameters=()=>[{type:void 0,decorators:[{type:core.FiY},{type:core.tBr,args:[GLOBALS]}]},{type:SortablejsService},{type:core.SBq},{type:core.R0b},{type:core.Qsj}],SortablejsDirective.propDecorators={sortablejs:[{type:core.IIB}],sortablejsContainer:[{type:core.IIB}],sortablejsOptions:[{type:core.IIB}],sortablejsCloneFunction:[{type:core.IIB}],sortablejsInit:[{type:core.r_U}]},__name(function SortableEvent(){},"SortableEvent");class SortablejsModule{static forRoot(globalOptions){return{ngModule:SortablejsModule,providers:[{provide:GLOBALS,useValue:globalOptions}]}}}__name(SortablejsModule,"SortablejsModule"),SortablejsModule.\u0275fac=__name(function(t){return new(t||SortablejsModule)},"SortablejsModule_Factory"),SortablejsModule.\u0275mod=core.oAB({type:SortablejsModule}),SortablejsModule.\u0275inj=core.cJS({})},37873:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[74655,4655]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=37873,module.exports=webpackAsyncContext},73835:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/search-page/configuration-search-page.component":[38521,8521]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=73835,module.exports=webpackAsyncContext},79835:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[63344,3344]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=79835,module.exports=webpackAsyncContext},41562:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[44102,4102]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=41562,module.exports=webpackAsyncContext},66849:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[39340,9340]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=66849,module.exports=webpackAsyncContext},22592:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-filters/search-filters.component":[98275,8275]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=22592,module.exports=webpackAsyncContext},7403:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-results/search-results.component":[35839,5839]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=7403,module.exports=webpackAsyncContext},51542:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-settings/search-settings.component":[71120,1120]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=51542,module.exports=webpackAsyncContext},32874:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[91799,1799]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=32874,module.exports=webpackAsyncContext},8377:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/edit/submission-edit.component":[12011,2011]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=8377,module.exports=webpackAsyncContext},49252:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/import-external/submission-import-external.component":[88580,8580]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=49252,module.exports=webpackAsyncContext},88402:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/sections/upload/file/section-upload-file.component":[92313,2313]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=88402,module.exports=webpackAsyncContext},39881:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/submission/submit/submission-submit.component":[91359,604]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=39881,module.exports=webpackAsyncContext},47184:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C2:()=>FlatTreeControl,Hs:()=>CdkTreeNode,Ud:()=>CdkTreeNodeToggle,XJ:()=>CdkTreeNodePadding,_0:()=>CdkTree,nZ:()=>CdkTreeModule,rO:()=>CdkTreeNodeDef});var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43033),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96846),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86209),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63481),_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62294);class BaseTreeControl{constructor(){this.expansionModel=new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__.Ov(!0)}toggle(dataNode){this.expansionModel.toggle(this._trackByValue(dataNode))}expand(dataNode){this.expansionModel.select(this._trackByValue(dataNode))}collapse(dataNode){this.expansionModel.deselect(this._trackByValue(dataNode))}isExpanded(dataNode){return this.expansionModel.isSelected(this._trackByValue(dataNode))}toggleDescendants(dataNode){this.expansionModel.isSelected(this._trackByValue(dataNode))?this.collapseDescendants(dataNode):this.expandDescendants(dataNode)}collapseAll(){this.expansionModel.clear()}expandDescendants(dataNode){let toBeProcessed=[dataNode];toBeProcessed.push(...this.getDescendants(dataNode)),this.expansionModel.select(...toBeProcessed.map(value=>this._trackByValue(value)))}collapseDescendants(dataNode){let toBeProcessed=[dataNode];toBeProcessed.push(...this.getDescendants(dataNode)),this.expansionModel.deselect(...toBeProcessed.map(value=>this._trackByValue(value)))}_trackByValue(value){return this.trackBy?this.trackBy(value):value}}__name(BaseTreeControl,"BaseTreeControl");class FlatTreeControl extends BaseTreeControl{constructor(getLevel,isExpandable,options){super(),this.getLevel=getLevel,this.isExpandable=isExpandable,this.options=options,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(dataNode){const results=[];for(let i=this.dataNodes.indexOf(dataNode)+1;i<this.dataNodes.length&&this.getLevel(dataNode)<this.getLevel(this.dataNodes[i]);i++)results.push(this.dataNodes[i]);return results}expandAll(){this.expansionModel.select(...this.dataNodes.map(node=>this._trackByValue(node)))}}__name(FlatTreeControl,"FlatTreeControl");__name(class NestedTreeControl extends(null){constructor(getChildren,options){super(),this.getChildren=getChildren,this.options=options,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const allNodes=this.dataNodes.reduce((accumulator,dataNode)=>[...accumulator,...this.getDescendants(dataNode),dataNode],[]);this.expansionModel.select(...allNodes.map(node=>this._trackByValue(node)))}getDescendants(dataNode){const descendants=[];return this._getDescendants(descendants,dataNode),descendants.splice(1)}_getDescendants(descendants,dataNode){descendants.push(dataNode);const childrenNodes=this.getChildren(dataNode);Array.isArray(childrenNodes)?childrenNodes.forEach(child=>this._getDescendants(descendants,child)):isObservable(childrenNodes)&&childrenNodes.pipe(take(1),filter(Boolean)).subscribe(children=>{for(const child of children)this._getDescendants(descendants,child)})}},"NestedTreeControl");const CDK_TREE_NODE_OUTLET_NODE=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("CDK_TREE_NODE_OUTLET_NODE");class CdkTreeNodeOutlet{constructor(viewContainer,_node){this.viewContainer=viewContainer,this._node=_node}}__name(CdkTreeNodeOutlet,"CdkTreeNodeOutlet"),CdkTreeNodeOutlet.\u0275fac=__name(function(t){return new(t||CdkTreeNodeOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.s_b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CDK_TREE_NODE_OUTLET_NODE,8))},"CdkTreeNodeOutlet_Factory"),CdkTreeNodeOutlet.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeOutlet,selectors:[["","cdkTreeNodeOutlet",""]]});class CdkTreeNodeOutletContext{constructor(data){this.$implicit=data}}__name(CdkTreeNodeOutletContext,"CdkTreeNodeOutletContext");class CdkTreeNodeDef{constructor(template){this.template=template}}__name(CdkTreeNodeDef,"CdkTreeNodeDef"),CdkTreeNodeDef.\u0275fac=__name(function(t){return new(t||CdkTreeNodeDef)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Rgc))},"CdkTreeNodeDef_Factory"),CdkTreeNodeDef.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeDef,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),__name(function getTreeNoValidDataSourceError(){return Error("A valid data source must be provided.")},"getTreeNoValidDataSourceError"),__name(function getTreeMultipleDefaultNodeDefsError(){return Error("There can only be one default row without a when predicate function.")},"getTreeMultipleDefaultNodeDefsError"),__name(function getTreeMissingMatchingNodeDefError(){return Error("Could not find a matching node definition for the provided node data.")},"getTreeMissingMatchingNodeDefError"),__name(function getTreeControlMissingError(){return Error("Could not find a tree control for the tree.")},"getTreeControlMissingError"),__name(function getTreeControlFunctionsMissingError(){return Error("Could not find functions for nested/flat tree in tree control.")},"getTreeControlFunctionsMissingError");class CdkTree{get dataSource(){return this._dataSource}set dataSource(dataSource){this._dataSource!==dataSource&&this._switchDataSource(dataSource)}constructor(_differs,_changeDetectorRef){this._differs=_differs,this._changeDetectorRef=_changeDetectorRef,this._onDestroy=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this._levels=new Map,this.viewChange=new rxjs__WEBPACK_IMPORTED_MODULE_2__.BehaviorSubject({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy),this.treeControl}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const defaultNodeDefs=this._nodeDefs.filter(def=>!def.when);defaultNodeDefs.length,this._defaultNodeDef=defaultNodeDefs[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(dataSource){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),dataSource||this._nodeOutlet.viewContainer.clear(),this._dataSource=dataSource,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let dataStream;(0,_angular_cdk_collections__WEBPACK_IMPORTED_MODULE_0__.Z9)(this._dataSource)?dataStream=this._dataSource.connect(this):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.isObservable)(this._dataSource)?dataStream=this._dataSource:Array.isArray(this._dataSource)&&(dataStream=(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(this._dataSource)),dataStream&&(this._dataSubscription=dataStream.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._onDestroy)).subscribe(data=>this.renderNodeChanges(data)))}renderNodeChanges(data,dataDiffer=this._dataDiffer,viewContainer=this._nodeOutlet.viewContainer,parentData){const changes=dataDiffer.diff(data);changes&&(changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex)this.insertNode(data[currentIndex],currentIndex,viewContainer,parentData);else if(null==currentIndex)viewContainer.remove(adjustedPreviousIndex),this._levels.delete(item.item);else{const view=viewContainer.get(adjustedPreviousIndex);viewContainer.move(view,currentIndex)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(data,i){if(1===this._nodeDefs.length)return this._nodeDefs.first;return this._nodeDefs.find(def=>def.when&&def.when(i,data))||this._defaultNodeDef}insertNode(nodeData,index,viewContainer,parentData){const node=this._getNodeDef(nodeData,index),context=new CdkTreeNodeOutletContext(nodeData);this.treeControl.getLevel?context.level=this.treeControl.getLevel(nodeData):typeof parentData<"u"&&this._levels.has(parentData)?context.level=this._levels.get(parentData)+1:context.level=0,this._levels.set(nodeData,context.level),(viewContainer||this._nodeOutlet.viewContainer).createEmbeddedView(node.template,context,index),CdkTreeNode.mostRecentTreeNode&&(CdkTreeNode.mostRecentTreeNode.data=nodeData)}}__name(CdkTree,"CdkTree"),CdkTree.\u0275fac=__name(function(t){return new(t||CdkTree)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ZZ4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.sBO))},"CdkTree_Factory"),CdkTree.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:CdkTree,selectors:[["cdk-tree"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Suo(dirIndex,CdkTreeNodeDef,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx._nodeDefs=_t)}},"CdkTree_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gf(CdkTreeNodeOutlet,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx._nodeOutlet=_t.first)}},"CdkTree_Query"),hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0,0)},"CdkTree_Template"),dependencies:[CdkTreeNodeOutlet],encapsulation:2});class CdkTreeNode{get role(){return"treeitem"}set role(_role){this._elementRef.nativeElement.setAttribute("role",_role)}get data(){return this._data}set data(value){value!==this._data&&(this._data=value,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(_elementRef,_tree){this._elementRef=_elementRef,this._tree=_tree,this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this._dataChanges=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,CdkTreeNode.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=getParentNodeAriaLevel(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){CdkTreeNode.mostRecentTreeNode===this&&(CdkTreeNode.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){!this._tree.treeControl.isExpandable&&this._tree.treeControl.getChildren,this.role="treeitem"}}function getParentNodeAriaLevel(nodeElement){let parent=nodeElement.parentElement;for(;parent&&!isNodeElement(parent);)parent=parent.parentElement;return parent?parent.classList.contains("cdk-nested-tree-node")?(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(parent.getAttribute("aria-level")):0:-1}function isNodeElement(element){const classList=element.classList;return!(!classList?.contains("cdk-nested-tree-node")&&!classList?.contains("cdk-tree"))}__name(CdkTreeNode,"CdkTreeNode"),CdkTreeNode.mostRecentTreeNode=null,CdkTreeNode.\u0275fac=__name(function(t){return new(t||CdkTreeNode)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree))},"CdkTreeNode_Factory"),CdkTreeNode.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNode,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.uIk("aria-expanded",ctx.isExpanded)},"CdkTreeNode_HostBindings"),inputs:{role:"role"},exportAs:["cdkTreeNode"]}),__name(getParentNodeAriaLevel,"getParentNodeAriaLevel"),__name(isNodeElement,"isNodeElement");class CdkNestedTreeNode extends CdkTreeNode{constructor(elementRef,tree,_differs){super(elementRef,tree),this._differs=_differs}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree.treeControl.getChildren;const childrenNodes=this._tree.treeControl.getChildren(this.data);Array.isArray(childrenNodes)?this.updateChildrenNodes(childrenNodes):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.isObservable)(childrenNodes)&&childrenNodes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(result=>this.updateChildrenNodes(result)),this.nodeOutlet.changes.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(children){const outlet=this._getNodeOutlet();if(children&&(this._children=children),outlet&&this._children){const viewContainer=outlet.viewContainer;this._tree.renderNodeChanges(this._children,this._dataDiffer,viewContainer,this._data)}else this._dataDiffer.diff([])}_clear(){const outlet=this._getNodeOutlet();outlet&&(outlet.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const outlets=this.nodeOutlet;return outlets&&outlets.find(outlet=>!outlet._node||outlet._node===this)}}__name(CdkNestedTreeNode,"CdkNestedTreeNode"),CdkNestedTreeNode.\u0275fac=__name(function(t){return new(t||CdkNestedTreeNode)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ZZ4))},"CdkNestedTreeNode_Factory"),CdkNestedTreeNode.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkNestedTreeNode,selectors:[["cdk-nested-tree-node"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Suo(dirIndex,CdkTreeNodeOutlet,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.CRH())&&(ctx.nodeOutlet=_t)}},"CdkNestedTreeNode_ContentQueries"),hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__._Bn([{provide:CdkTreeNode,useExisting:CdkNestedTreeNode},{provide:CDK_TREE_NODE_OUTLET_NODE,useExisting:CdkNestedTreeNode}]),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj]});const cssUnitPattern=/([A-Za-z%]+)$/;class CdkTreeNodePadding{get level(){return this._level}set level(value){this._setLevelInput(value)}get indent(){return this._indent}set indent(indent){this._setIndentInput(indent)}constructor(_treeNode,_tree,_element,_dir){this._treeNode=_treeNode,this._tree=_tree,this._element=_element,this._dir=_dir,this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject,this.indentUnits="px",this._indent=40,this._setPadding(),_dir&&_dir.change.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Rs)(this._destroyed)).subscribe(()=>this._setPadding(!0)),_treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const nodeLevel=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,level=null==this._level?nodeLevel:this._level;return"number"==typeof level?`${level*this._indent}${this.indentUnits}`:null}_setPadding(forceChange=!1){const padding=this._paddingIndent();if(padding!==this._currentPadding||forceChange){const element=this._element.nativeElement,paddingProp=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",resetProp="paddingLeft"===paddingProp?"paddingRight":"paddingLeft";element.style[paddingProp]=padding||"",element.style[resetProp]="",this._currentPadding=padding}}_setLevelInput(value){this._level=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(value,null),this._setPadding()}_setIndentInput(indent){let value=indent,units="px";if("string"==typeof indent){const parts=indent.split(cssUnitPattern);value=parts[0],units=parts[1]||units}this.indentUnits=units,this._indent=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.su)(value),this._setPadding()}}__name(CdkTreeNodePadding,"CdkTreeNodePadding"),CdkTreeNodePadding.\u0275fac=__name(function(t){return new(t||CdkTreeNodePadding)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTreeNode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SBq),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_5__.Is,8))},"CdkTreeNodePadding_Factory"),CdkTreeNodePadding.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodePadding,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}});class CdkTreeNodeToggle{get recursive(){return this._recursive}set recursive(value){this._recursive=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_4__.Ig)(value)}constructor(_tree,_treeNode){this._tree=_tree,this._treeNode=_treeNode,this._recursive=!1}_toggle(event2){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),event2.stopPropagation()}}__name(CdkTreeNodeToggle,"CdkTreeNodeToggle"),CdkTreeNodeToggle.\u0275fac=__name(function(t){return new(t||CdkTreeNodeToggle)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTree),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(CdkTreeNode))},"CdkTreeNodeToggle_Factory"),CdkTreeNodeToggle.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lG2({type:CdkTreeNodeToggle,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",__name(function($event){return ctx._toggle($event)},"CdkTreeNodeToggle_click_HostBindingHandler"))},"CdkTreeNodeToggle_HostBindings"),inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}});class CdkTreeModule{}__name(CdkTreeModule,"CdkTreeModule"),CdkTreeModule.\u0275fac=__name(function(t){return new(t||CdkTreeModule)},"CdkTreeModule_Factory"),CdkTreeModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:CdkTreeModule}),CdkTreeModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({})},92454:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gy:()=>DynamicNGBootstrapCheckboxComponent,P2:()=>DynamicNGBootstrapCheckboxGroupComponent,QB:()=>DynamicNGBootstrapSelectComponent,Sb:()=>DynamicNGBootstrapTextAreaComponent,TE:()=>DynamicNGBootstrapRadioGroupComponent,XX:()=>DynamicNGBootstrapTimePickerComponent,Zu:()=>DynamicNGBootstrapInputComponent,qz:()=>DynamicNGBootstrapCalendarComponent,zj:()=>DynamicFormsNGBootstrapUIModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86209),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23506),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49417),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32189),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65159),ngx_mask__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19003);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DynamicNGBootstrapCheckboxGroupComponent_label_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",3)(1,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r2.onBlur($event))},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_blur_1_listener"))("change",__name(function($event){const checkboxModel_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3).$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r4.onCheckboxChange($event,checkboxModel_r1))},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_change_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r5.onFocus($event))},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const checkboxModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("hidden",checkboxModel_r1.hidden)("ngClass",ctx_r0.getClass("element","control",checkboxModel_r1)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",checkboxModel_r1.checked)("formControlName",checkboxModel_r1.id)("id",ctx_r0.getCheckboxId(checkboxModel_r1))("name",checkboxModel_r1.name)("required",checkboxModel_r1.required)("tabindex",checkboxModel_r1.tabIndex)("value",checkboxModel_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx_r0.getClass("element","label",checkboxModel_r1))("innerHTML",checkboxModel_r1.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapDatePickerComponent_img_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"img",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("src",ctx_r1.model.toggleIcon,_angular_core__WEBPACK_IMPORTED_MODULE_0__.LSH)}}function DynamicNGBootstrapDatePickerComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}function DynamicNGBootstrapInputComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.prefix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_input_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r6.onBlur($event))},"DynamicNGBootstrapInputComponent_input_2_Template_input_blur_0_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r8.onChange($event))},"DynamicNGBootstrapInputComponent_input_2_Template_input_change_0_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r9.onFocus($event))},"DynamicNGBootstrapInputComponent_input_2_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r1.model.autoComplete)("autofocus",ctx_r1.model.autoFocus)("dynamicList",ctx_r1.model.listId)("formControlName",ctx_r1.model.id)("id",ctx_r1.id)("maxlength",ctx_r1.model.maxLength)("minlength",ctx_r1.model.minLength)("name",ctx_r1.model.name)("ngClass",ctx_r1.getClass("element","control"))("pattern",ctx_r1.model.pattern)("placeholder",ctx_r1.model.placeholder)("readonly",ctx_r1.model.readOnly)("required",ctx_r1.model.required)("spellcheck",ctx_r1.model.spellCheck)("tabindex",ctx_r1.model.tabIndex)("type",ctx_r1.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r1.model.accept)("max",ctx_r1.model.max)("min",ctx_r1.model.min)("multiple",ctx_r1.model.multiple)("step",ctx_r1.model.step)}}function DynamicNGBootstrapInputComponent_ng_template_3_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r10.onBlur($event))},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_blur_0_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11);const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r12.onChange($event))},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_change_0_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11);const ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r13.onFocus($event))},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r3.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r3.model.autoComplete)("autofocus",ctx_r3.model.autoFocus)("dynamicList",ctx_r3.model.listId)("formControlName",ctx_r3.model.id)("id",ctx_r3.id)("maxlength",ctx_r3.model.maxLength)("minlength",ctx_r3.model.minLength)("name",ctx_r3.model.name)("ngClass",ctx_r3.getClass("element","control"))("pattern",ctx_r3.model.pattern)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("required",ctx_r3.model.required)("spellcheck",ctx_r3.model.spellCheck)("tabindex",ctx_r3.model.tabIndex)("mask",ctx_r3.model.mask)("specialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.specialCharacters)("patterns",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.patterns)("prefix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.prefix)("suffix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.suffix)("thousandSeparator",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.thousandSeparator)("decimalMarker",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.hiddenInput)("showMaskTyped",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.shownMaskExpression)("showTemplate",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showTemplate)("clearIfNotMatch",ctx_r3.model.maskConfig.clearIfNotMatch)("validation",ctx_r3.model.maskConfig.validation)("separatorLimit",ctx_r3.model.maskConfig.separatorLimit)("allowNegativeNumbers",ctx_r3.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",ctx_r3.model.maskConfig.leadZeroDateTime)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r3.model.accept)("max",ctx_r3.model.max)("min",ctx_r3.model.min)("multiple",ctx_r3.model.multiple)("step",ctx_r3.model.step)}}function DynamicNGBootstrapInputComponent_div_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r4.model.suffix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_datalist_6_option_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"option",13),2&rf){const option_r15=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("value",option_r15)}}function DynamicNGBootstrapInputComponent_datalist_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"datalist",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,1,1,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx_r5.model.listId),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(2,2,ctx_r5.model.list$))}}function DynamicNGBootstrapRadioGroupComponent_legend_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"legend",4),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.legend,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapRadioGroupComponent_label_3_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",5)(1,"input",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4);const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r3.onBlur($event))},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_blur_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r5.onFocus($event))},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const option_r2=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(5,_c0,ctx_r1.getClass("element","option"),ctx_r1.getClass("grid","option"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r2.disabled)("name",ctx_r1.model.name)("value",option_r2.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",option_r2.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapSelectComponent_option_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"option",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const option_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r1.disabled)("ngValue",option_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(option_r1.label)}}__name(DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template"),__name(DynamicNGBootstrapDatePickerComponent_img_5_Template,"DynamicNGBootstrapDatePickerComponent_img_5_Template"),__name(DynamicNGBootstrapDatePickerComponent_span_6_Template,"DynamicNGBootstrapDatePickerComponent_span_6_Template"),__name(DynamicNGBootstrapInputComponent_div_1_Template,"DynamicNGBootstrapInputComponent_div_1_Template"),__name(DynamicNGBootstrapInputComponent_input_2_Template,"DynamicNGBootstrapInputComponent_input_2_Template"),__name(DynamicNGBootstrapInputComponent_ng_template_3_Template,"DynamicNGBootstrapInputComponent_ng_template_3_Template"),__name(DynamicNGBootstrapInputComponent_div_5_Template,"DynamicNGBootstrapInputComponent_div_5_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,"DynamicNGBootstrapInputComponent_datalist_6_option_1_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_Template,"DynamicNGBootstrapInputComponent_datalist_6_Template"),__name(DynamicNGBootstrapRadioGroupComponent_legend_2_Template,"DynamicNGBootstrapRadioGroupComponent_legend_2_Template"),__name(DynamicNGBootstrapRadioGroupComponent_label_3_Template,"DynamicNGBootstrapRadioGroupComponent_label_3_Template"),__name(DynamicNGBootstrapSelectComponent_option_2_Template,"DynamicNGBootstrapSelectComponent_option_2_Template");const _c1=["componentViewContainer"];function DynamicNGBootstrapFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"label",7),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx_r0.id)("innerHTML",ctx_r0.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(3,_c0,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormControlContainerComponent_small_6_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"small",8),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r3.hint,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"small",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const message_r7=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(message_r7)}}function DynamicNGBootstrapFormControlContainerComponent_div_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,2,1,"small",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(2,_c0,ctx_r4.getClass("element","errors"),ctx_r4.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx_r4.errorMessages)}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}__name(DynamicNGBootstrapFormControlContainerComponent_label_1_Template,"DynamicNGBootstrapFormControlContainerComponent_label_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_small_6_Template,"DynamicNGBootstrapFormControlContainerComponent_small_6_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template");const _c2=__name(function(a0,a1,a2){return[a0,a1,a2]},"_c2");function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8);const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r7.onBlur($event))},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8);const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r9.onChange($event))},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r10.onFocus($event))},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8);const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r11.onCustomEvent($event,null,!0))},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("context",groupModel_r1)("group",ctx_r4.array.at(idx_r2))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r4.getClass("element","children"),ctx_r4.getClass("grid","children")))}}function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}function DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r2.onBlur($event))},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r4.onChange($event))},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r5.onFocus($event))},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r6.onCustomEvent($event,null,!0))},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("asBootstrapFormGroup",!0)("group",ctx_r0.control)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","children"),ctx_r0.getClass("grid","children")))}}function DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r2.onBlur($event))},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r4.onChange($event))},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r5.onFocus($event))},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent))},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const controlModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("group",ctx_r0.group)("hidden",controlModel_r1.hidden)("layout",ctx_r0.layout)("model",controlModel_r1)("templates",ctx_r0.templates)}}__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_Template"),__name(DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template");class DynamicNGBootstrapCalendarComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCalendarComponent,"DynamicNGBootstrapCalendarComponent"),DynamicNGBootstrapCalendarComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCalendarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapCalendarComponent_Factory"),DynamicNGBootstrapCalendarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCalendarComponent,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbCalendar=_t.first)}},"DynamicNGBootstrapCalendarComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:13,consts:[[3,"formGroup"],[3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate","select"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-datepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("select",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCalendarComponent_Template_ngb_datepicker_select_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.weekdays))("startDate",ctx.model.focusedDate))},"DynamicNGBootstrapCalendarComponent_Template"),dependencies:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapCheckboxComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCheckboxComponent,"DynamicNGBootstrapCheckboxComponent"),DynamicNGBootstrapCheckboxComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxComponent_Factory"),DynamicNGBootstrapCheckboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxComponent,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"label",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_blur_2_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_change_2_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_focus_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",ctx.model.checked)("formControlName",ctx.model.id)("id",ctx.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(16,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"DynamicNGBootstrapCheckboxComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapCheckboxGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}getCheckboxId(model){return this.layoutService.getElementId(model)}onCheckboxChange($event,model){this.onChange($event),model.value=$event.target.checked}}__name(DynamicNGBootstrapCheckboxGroupComponent,"DynamicNGBootstrapCheckboxGroupComponent"),DynamicNGBootstrapCheckboxGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxGroupComponent_Factory"),DynamicNGBootstrapCheckboxGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxGroupComponent,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"checked","formControlName","id","name","required","tabindex","value","blur","change","focus"],[3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,3,11,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapCheckboxGroupComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.W9,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u],encapsulation:2,changeDetection:0});class DynamicNGBootstrapDatePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapDatePickerComponent,"DynamicNGBootstrapDatePickerComponent"),DynamicNGBootstrapDatePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapDatePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapDatePickerComponent_Factory"),DynamicNGBootstrapDatePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapDatePickerComponent,selectors:[["dynamic-ng-bootstrap-datepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DynamicNGBootstrapDatePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:20,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","showWeekNumbers","startDate","weekdays","blur","dateSelect","closed","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["style","cursor: pointer;",3,"src",4,"ngIf"],[4,"ngIf"],[2,"cursor","pointer",3,"src"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onCustomEvent($event,"dateSelect")},"DynamicNGBootstrapDatePickerComponent_Template_input_dateSelect_1_listener"))("closed",__name(function($event){return ctx.onCustomEvent($event,"closed")},"DynamicNGBootstrapDatePickerComponent_Template_input_closed_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(_r0.toggle())},"DynamicNGBootstrapDatePickerComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapDatePickerComponent_img_5_Template,1,1,"img",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapDatePickerComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate)("weekdays",ctx.model.getAdditional("weekdays",ctx.config.weekdays)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DynamicNGBootstrapDatePickerComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5],encapsulation:2});class DynamicNGBootstrapInputComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapInputComponent,"DynamicNGBootstrapInputComponent"),DynamicNGBootstrapInputComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapInputComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapInputComponent_Factory"),DynamicNGBootstrapInputComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapInputComponent,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:8,consts:[[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["maskedInput",""],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus"],[1,"form-control",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type","blur","change","focus"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_div_1_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapInputComponent_input_2_Template,1,23,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapInputComponent_ng_template_3_Template,1,41,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_0__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapInputComponent_div_5_Template,2,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapInputComponent_datalist_6_Template,3,4,"datalist",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(4);_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("input-group",ctx.model.prefix||ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.prefix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf","file"===ctx.model.inputType)("ngIfElse",_r2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.hasList)}},"DynamicNGBootstrapInputComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fQg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.c5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.hx,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapRadioGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRadioGroupComponent,"DynamicNGBootstrapRadioGroupComponent"),DynamicNGBootstrapRadioGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRadioGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapRadioGroupComponent_Factory"),DynamicNGBootstrapRadioGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRadioGroupComponent,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"formControlName","id","ngClass","tabindex","change"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"disabled","name","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRadioGroupComponent_Template_div_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapRadioGroupComponent_legend_2_Template,1,1,"legend",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapRadioGroupComponent_label_3_Template,3,8,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control"))("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.legend),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(4,7,ctx.model.options$)))},"DynamicNGBootstrapRadioGroupComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.py,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.aB,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2,changeDetection:0});class DynamicNGBootstrapRatingComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRatingComponent,"DynamicNGBootstrapRatingComponent"),DynamicNGBootstrapRatingComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRatingComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M0))},"DynamicNGBootstrapRatingComponent_Factory"),DynamicNGBootstrapRatingComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRatingComponent,selectors:[["dynamic-ng-bootstrap-rating"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbRating=_t.first)}},"DynamicNGBootstrapRatingComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:6,consts:[[3,"formGroup"],[3,"formControlName","id","max","ngClass","resettable","hover","leave","rateChange"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-rating",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("hover",__name(function($event){return ctx.onCustomEvent($event,"hover")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_hover_1_listener"))("leave",__name(function($event){return ctx.onCustomEvent($event,"leave")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_leave_1_listener"))("rateChange",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_rateChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("max",ctx.model.max)("ngClass",ctx.getClass("element","control"))("resettable",ctx.model.getAdditional("resettable",ctx.config.resettable)))},"DynamicNGBootstrapRatingComponent_Template"),dependencies:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapSelectComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSelectComponent,"DynamicNGBootstrapSelectComponent"),DynamicNGBootstrapSelectComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSelectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSelectComponent_Factory"),DynamicNGBootstrapSelectComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSelectComponent,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"compareWith","formControlName","id","name","ngClass","required","tabindex","blur","change","focus"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"select",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSelectComponent_Template_select_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSelectComponent_Template_select_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSelectComponent_Template_select_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapSelectComponent_option_2_Template,2,3,"option",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("compareWith",ctx.model.compareWithFn)("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,11,ctx.model.options$)))},"DynamicNGBootstrapSelectComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapSwitchComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSwitchComponent,"DynamicNGBootstrapSwitchComponent"),DynamicNGBootstrapSwitchComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSwitchComponent_Factory"),DynamicNGBootstrapSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSwitchComponent,selectors:[["dynamic-ng-bootstrap-switch"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:12,consts:[[1,"custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"custom-control-input",3,"formControlName","id","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"custom-control-label",3,"for","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx.id)("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD))},"DynamicNGBootstrapSwitchComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapTextAreaComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTextAreaComponent,"DynamicNGBootstrapTextAreaComponent"),DynamicNGBootstrapTextAreaComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTextAreaComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapTextAreaComponent_Factory"),DynamicNGBootstrapTextAreaComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTextAreaComponent,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap","blur","change","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"textarea",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("cols",ctx.model.cols)("formControlName",ctx.model.id)("id",ctx.id)("maxlength",ctx.model.maxLength)("minlength",ctx.model.minLength)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("placeholder",ctx.model.placeholder)("readonly",ctx.model.readOnly)("required",ctx.model.required)("rows",ctx.model.rows)("spellcheck",ctx.model.spellCheck)("tabindex",ctx.model.tabIndex)("wrap",ctx.model.wrap))},"DynamicNGBootstrapTextAreaComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7],encapsulation:2});class DynamicNGBootstrapTimePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTimePickerComponent,"DynamicNGBootstrapTimePickerComponent"),DynamicNGBootstrapTimePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTimePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Kk))},"DynamicNGBootstrapTimePickerComponent_Factory"),DynamicNGBootstrapTimePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTimePickerComponent,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbTimePicker=_t.first)}},"DynamicNGBootstrapTimePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"ngb-timepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx.id)("formControlName",ctx.model.id)("hourStep",ctx.model.getAdditional("hourStep",ctx.config.hourStep))("meridian",ctx.model.meridian)("minuteStep",ctx.model.getAdditional("minuteStep",ctx.config.minuteStep))("ngClass",ctx.getClass("element","control"))("seconds",ctx.model.showSeconds)("secondStep",ctx.model.getAdditional("secondStep",ctx.config.secondStep))("size",ctx.model.getAdditional("size",ctx.config.size))("spinners",ctx.model.getAdditional("spinners",ctx.config.spinners)))},"DynamicNGBootstrapTimePickerComponent_Template"),dependencies:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.wT7{constructor(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService){super(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService),this.changeDetectorRef=changeDetectorRef,this.componentFactoryResolver=componentFactoryResolver,this.layoutService=layoutService,this.validationService=validationService,this.componentService=componentService,this.relationService=relationService,this.asBootstrapFormGroup=!0,this.context=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}get componentType(){return this.componentService.getCustomComponentType(this.model)||ngBootstrapUIFormControlMapFn(this.model)}}function ngBootstrapUIFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.i9b:return DynamicNGBootstrapFormArrayComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fSU:return DynamicNGBootstrapCheckboxComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.aTt:return DynamicNGBootstrapCheckboxGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.VId:return model.inline?DynamicNGBootstrapCalendarComponent:DynamicNGBootstrapDatePickerComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Qam:return DynamicNGBootstrapFormGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.X9S:return DynamicNGBootstrapInputComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.e6P:return DynamicNGBootstrapRadioGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.bwN:return DynamicNGBootstrapRatingComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Lq6:return DynamicNGBootstrapSelectComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.YUR:return DynamicNGBootstrapSwitchComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Pdh:return DynamicNGBootstrapTextAreaComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.BKB:return DynamicNGBootstrapTimePickerComponent;default:return null}}__name(DynamicNGBootstrapFormControlContainerComponent,"DynamicNGBootstrapFormControlContainerComponent"),DynamicNGBootstrapFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.uTg))},"DynamicNGBootstrapFormControlContainerComponent_Factory"),DynamicNGBootstrapFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormControlContainerComponent,selectors:[["dynamic-ng-bootstrap-form-control"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.contentTemplateList=_t)}},"DynamicNGBootstrapFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_c1,7,_angular_core__WEBPACK_IMPORTED_MODULE_0__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DynamicNGBootstrapFormControlContainerComponent_Query"),hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx.klass)},"DynamicNGBootstrapFormControlContainerComponent_HostBindings"),inputs:{asBootstrapFormGroup:"asBootstrapFormGroup",context:"context",group:"group",hostClass:"hostClass",inputTemplateList:["templates","inputTemplateList"],layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],ngContentSelectors:["*"],decls:10,vars:16,consts:[[3,"formGroup","ngClass"],[3,"for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted",3,"innerHTML","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"for","innerHTML","ngClass"],[1,"text-muted",3,"innerHTML","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_label_1_Template,1,6,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(4,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapFormControlContainerComponent_small_6_Template,1,2,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(7,DynamicNGBootstrapFormControlContainerComponent_div_7_Template,2,5,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(8,DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hsn(9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.kEZ(12,_c2,"ng-dynamic-forms-"+ctx.model.type.toLowerCase(),ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.hasHint),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model))},"DynamicNGBootstrapFormControlContainerComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0}),__name(ngBootstrapUIFormControlMapFn,"ngBootstrapUIFormControlMapFn");class DynamicNGBootstrapFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormArrayComponent,"DynamicNGBootstrapFormArrayComponent"),DynamicNGBootstrapFormArrayComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormArrayComponent_Factory"),DynamicNGBootstrapFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormArrayComponent,selectors:[["dynamic-ng-bootstrap-form-array"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormArrayComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],[3,"formArrayName","id","ngClass"],["role","group",3,"formGroupName","ngClass",4,"ngFor","ngForOf"],["role","group",3,"formGroupName","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_Template,4,10,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formArrayName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.groups))},"DynamicNGBootstrapFormArrayComponent_Template"),dependencies:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.CE,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP],encapsulation:2});class DynamicNGBootstrapFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.GE_{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormGroupComponent,"DynamicNGBootstrapFormGroupComponent"),DynamicNGBootstrapFormGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormGroupComponent_Factory"),DynamicNGBootstrapFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormGroupComponent,selectors:[["dynamic-ng-bootstrap-form-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormGroupComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapFormGroupComponent_Template"),dependencies:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2});class DynamicNGBootstrapFormComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.changeDetectorRef=changeDetectorRef,this.componentService=componentService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.ngbEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormComponent,"DynamicNGBootstrapFormComponent"),DynamicNGBootstrapFormComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA))},"DynamicNGBootstrapFormComponent_Factory"),DynamicNGBootstrapFormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormComponent,selectors:[["dynamic-ng-bootstrap-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.templates=_t)}},"DynamicNGBootstrapFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormComponent_Query"),inputs:{group:"group",model:"model",layout:"layout"},outputs:{blur:"blur",change:"change",focus:"focus",ngbEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:1,vars:2,consts:[[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,1,5,"dynamic-ng-bootstrap-form-control",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model)("ngForTrackBy",ctx.trackByFn)},"DynamicNGBootstrapFormComponent_Template"),dependencies:[DynamicNGBootstrapFormControlContainerComponent,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0});class DynamicFormsNGBootstrapUIModule{}__name(DynamicFormsNGBootstrapUIModule,"DynamicFormsNGBootstrapUIModule"),DynamicFormsNGBootstrapUIModule.\u0275fac=__name(function(t){return new(t||DynamicFormsNGBootstrapUIModule)},"DynamicFormsNGBootstrapUIModule_Factory"),DynamicFormsNGBootstrapUIModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:DynamicFormsNGBootstrapUIModule}),DynamicFormsNGBootstrapUIModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_4__.ez,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UX,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.xZ,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mO,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.UL,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.yI,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g],_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g]})}};