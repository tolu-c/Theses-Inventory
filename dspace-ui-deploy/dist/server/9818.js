var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=9818,exports.ids=[9818],exports.modules={25485:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>SearchLabelComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96846),_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59501),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39185),_utils_route_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92461),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69169),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40370),_search_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40738),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(65159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4330);const _c0=__name(function(a0){return{default:a0}},"_c0");class SearchLabelComponent{constructor(searchService,paginationService,searchConfigurationService,router){this.searchService=searchService,this.paginationService=paginationService,this.searchConfigurationService=searchConfigurationService,this.router=router}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters=this.getRemoveParams(),this.filterName=this.getFilterName()}getRemoveParams(){return this.appliedFilters.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.UI)(filters=>{const field=Object.keys(filters).find(f=>f===this.key),newValues=(0,_empty_util__WEBPACK_IMPORTED_MODULE_4__.Uh)(filters[field])?filters[field].filter(v=>v!==this.value):null,page=this.paginationService.getPageParam(this.searchConfigurationService.paginationID);return{[field]:(0,_empty_util__WEBPACK_IMPORTED_MODULE_4__.UE)(newValues)?newValues:null,[page]:1}}))}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_5__.T)(this.router):this.searchService.getSearchLink()}normalizeFilterValue(value){return value=value.replace(/,authority*$/g,""),(0,_search_utils__WEBPACK_IMPORTED_MODULE_6__.RD)(value)}getFilterName(){return this.key.startsWith("f.")?this.key.substring(2):this.key}}__name(SearchLabelComponent,"SearchLabelComponent"),SearchLabelComponent.\u0275fac=__name(function(t){return new(t||SearchLabelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_1__.N),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.U),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_8__.F0))},"SearchLabelComponent_Factory"),SearchLabelComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:SearchLabelComponent,selectors:[["ds-search-label"]],inputs:{key:"key",value:"value",inPlaceSearch:"inPlaceSearch",appliedFilters:"appliedFilters"},decls:7,vars:13,consts:[["queryParamsHandling","merge",1,"badge","badge-primary","mr-1","mb-1",3,"routerLink","queryParams"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"a",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(6," \xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("routerLink",ctx.searchLink)("queryParams",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(1,4,ctx.removeParameters)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(3,6,"search.filters.applied."+ctx.key),": ",_angular_core__WEBPACK_IMPORTED_MODULE_7__.xi3(4,8,"search.filters."+ctx.filterName+"."+ctx.value,_angular_core__WEBPACK_IMPORTED_MODULE_7__.VKq(11,_c0,ctx.normalizeFilterValue(ctx.value)))," "))},"SearchLabelComponent_Template"),dependencies:[_angular_router__WEBPACK_IMPORTED_MODULE_8__.rH,_angular_common__WEBPACK_IMPORTED_MODULE_9__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},70249:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>SearchLabelsComponent});var _my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14892),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(40370),__webpack_require__(96846)),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16088),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65159),_search_label_search_label_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25485),_utils_object_keys_pipe__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4589);function SearchLabelsComponent_ng_container_1_ds_search_label_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"ds-search-label",3),2&rf){const value_r3=ctx.$implicit,key_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw().$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("inPlaceSearch",ctx_r2.inPlaceSearch)("key",key_r1)("value",value_r3)("appliedFilters",ctx_r2.appliedFilters)}}function SearchLabelsComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SearchLabelsComponent_ng_container_1_ds_search_label_1_Template,1,4,"ds-search-label",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BQk()),2&rf){const key_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,ctx_r0.appliedFilters)[key_r1])}}__name(SearchLabelsComponent_ng_container_1_ds_search_label_1_Template,"SearchLabelsComponent_ng_container_1_ds_search_label_1_Template"),__name(SearchLabelsComponent_ng_container_1_Template,"SearchLabelsComponent_ng_container_1_Template");class SearchLabelsComponent{constructor(router,searchConfigService){this.router=router,this.searchConfigService=searchConfigService,this.appliedFilters=this.searchConfigService.getCurrentFrontendFilters().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.UI)(params=>{const labels={};return Object.keys(params).forEach(key=>{labels[key]=[...params[key].map(value=>value)]}),labels}))}}__name(SearchLabelsComponent,"SearchLabelsComponent"),SearchLabelsComponent.\u0275fac=__name(function(t){return new(t||SearchLabelsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_6__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE))},"SearchLabelsComponent_Factory"),SearchLabelsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:SearchLabelsComponent,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},decls:4,vars:5,consts:[[1,"labels"],[4,"ngFor","ngForOf"],[3,"inPlaceSearch","key","value","appliedFilters",4,"ngFor","ngForOf"],[3,"inPlaceSearch","key","value","appliedFilters"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(1,SearchLabelsComponent_ng_container_1_Template,3,3,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"dsObjectKeys"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(3,3,ctx.appliedFilters))))},"SearchLabelsComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.sg,_search_label_search_label_component__WEBPACK_IMPORTED_MODULE_2__.M,_angular_common__WEBPACK_IMPORTED_MODULE_7__.Ov,_utils_object_keys_pipe__WEBPACK_IMPORTED_MODULE_3__.w],styles:["[_nghost-%COMP%]{line-height:1}"]})},54773:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ThemedSearchResultsComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86209);__webpack_require__(83460),__webpack_require__(80454),__webpack_require__(81112),__webpack_require__(12448),__webpack_require__(87878),__webpack_require__(66919);function ThemedSearchResultsComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchResultsComponent_ng_template_0_Template,"ThemedSearchResultsComponent_ng_template_0_Template");class ThemedSearchResultsComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe}getComponentName(){return"SearchResultsComponent"}importThemedComponent(themeName){return __webpack_require__(7403)(`./${themeName}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return __webpack_require__.e(9164).then(__webpack_require__.bind(__webpack_require__,39164))}}__name(ThemedSearchResultsComponent,"ThemedSearchResultsComponent"),ThemedSearchResultsComponent.\u0275fac=function(){let \u0275ThemedSearchResultsComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchResultsComponent_BaseFactory||(\u0275ThemedSearchResultsComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_7__.n5z(ThemedSearchResultsComponent)))(t||ThemedSearchResultsComponent)},"ThemedSearchResultsComponent_Factory")}(),ThemedSearchResultsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:ThemedSearchResultsComponent,selectors:[["ds-themed-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(0,ThemedSearchResultsComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_7__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA())},"ThemedSearchResultsComponent_Template"),encapsulation:2})},15888:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ThemedSearchSidebarComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86209),_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56787);__webpack_require__(12448),__webpack_require__(81112);function ThemedSearchSidebarComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchSidebarComponent_ng_template_0_Template,"ThemedSearchSidebarComponent_ng_template_0_Template");class ThemedSearchSidebarComponent extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{constructor(){super(...arguments),this.showViewModes=!0,this.toggleSidebar=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.changeConfiguration=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.changeViewMode=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(themeName){return __webpack_require__(32874)(`./${themeName}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return __webpack_require__.e(8159).then(__webpack_require__.bind(__webpack_require__,48159))}}__name(ThemedSearchSidebarComponent,"ThemedSearchSidebarComponent"),ThemedSearchSidebarComponent.\u0275fac=function(){let \u0275ThemedSearchSidebarComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchSidebarComponent_BaseFactory||(\u0275ThemedSearchSidebarComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.n5z(ThemedSearchSidebarComponent)))(t||ThemedSearchSidebarComponent)},"ThemedSearchSidebarComponent_Factory")}(),ThemedSearchSidebarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:ThemedSearchSidebarComponent,selectors:[["ds-themed-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.qOj],ngContentSelectors:["*"],decls:5,vars:0,consts:[["vcr",""],["content",""]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,ThemedSearchSidebarComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA())},"ThemedSearchSidebarComponent_Template"),encapsulation:2})},9818:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchComponent:()=>SearchComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(86209),_angular_router__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(16088),rxjs__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(93489),rxjs_operators__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(96846),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46895),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),_animations_push__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99911),_host_window_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16816),_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81469),_empty_util__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(59501),_core_services_route_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22287),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14892),_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(81112),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(40370),__webpack_require__(39185)),_utils_route_utils__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(92461),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(66919),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(53829),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(58090),src_environments_environment__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(83460),__webpack_require__(91602)),_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(50306),_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(67328),_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(50093),_angular_common__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(65159),_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6381),_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(58414),_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(82796),_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70249),_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(54773),_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(15888),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(4330);function SearchComponent_div_0_3_ng_template_0_Template(rf,ctx){}function SearchComponent_div_0_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_0_3_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",6)(1,"div",7)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,SearchComponent_div_0_3_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r7)}}function SearchComponent_div_2_1_ng_template_0_Template(rf,ctx){}function SearchComponent_div_2_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_2_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_div_2_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r3)}}function SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template(rf,ctx){}function SearchComponent_ds_page_with_sidebar_4_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_ds_page_with_sidebar_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-page-with-sidebar",10),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ds_page_with_sidebar_4_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(9),_r3=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("id","search-page")("sidebarContent",_r5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r3)}}function SearchComponent_ng_template_6_div_1_1_ng_template_0_Template(rf,ctx){}function SearchComponent_ng_template_6_div_1_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_6_div_1_1_ng_template_0_Template,0,0,"ng-template")}function SearchComponent_ng_template_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ng_template_6_div_1_1_Template,1,0,null,9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Hsn(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf){_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.MAs(11);_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngTemplateOutlet",_r7)}}function SearchComponent_ng_template_6_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,SearchComponent_ng_template_6_div_1_Template,3,1,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(3,"div",12)(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(5,"ds-view-mode-switch",14),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(6,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("click",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r18.openSidebar())},"SearchComponent_ng_template_6_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(7,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(10,"ds-themed-search-results",17),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("contentChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r20.onContentChange($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_contentChange_10_listener"))("deselectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r21.deselectObject.emit($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_deselectObject_10_listener"))("selectObject",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r19);const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r22.selectObject.emit($event))},"SearchComponent_ng_template_6_Template_ds_themed_search_results_selectObject_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,14,ctx_r4.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("viewModeList",ctx_r4.viewModeList)("inPlaceSearch",ctx_r4.inPlaceSearch),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(9,16,"search.sidebar.open")," "),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(11,18,ctx_r4.resultsRD$))("searchConfig",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(12,20,ctx_r4.searchOptions$))("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(13,22,ctx_r4.currentConfiguration$))("disableHeader",!ctx_r4.searchEnabled)("linkType",ctx_r4.linkType)("context",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(14,24,ctx_r4.currentContext$))("selectable",ctx_r4.selectable)("selectionConfig",ctx_r4.selectionConfig)("showCsvExport",ctx_r4.showCsvExport)("showThumbnails",ctx_r4.showThumbnails)}}function SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-themed-search-sidebar",20),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r26);const ctx_r25=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r25.changeContext($event.context))},"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r26);const ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r27.changeViewMode())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("configurationList",ctx_r23.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,12,ctx_r23.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,14,ctx_r23.currentScope$))("filters",ctx_r23.filtersRD$.asObservable())("refreshFilters",ctx_r23.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,16,ctx_r23.resultsRD$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,18,ctx_r23.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,20,ctx_r23.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(6,22,ctx_r23.currentSortOptions$))("inPlaceSearch",ctx_r23.inPlaceSearch)("viewModeList",ctx_r23.viewModeList)("showViewModes",ctx_r23.showViewModes)}}function SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template(rf,ctx){if(1&rf){const _r29=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-themed-search-sidebar",21),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("toggleSidebar",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r28=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r28.closeSidebar())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_toggleSidebar_0_listener"))("changeConfiguration",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r30=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r30.changeContext($event.context))},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeConfiguration_0_listener"))("changeViewMode",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r29);const ctx_r31=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.KtG(ctx_r31.changeViewMode())},"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template_ds_themed_search_sidebar_changeViewMode_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_5_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("configurationList",ctx_r24.configurationList)("configuration",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,11,ctx_r24.currentConfiguration$))("currentScope",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,13,ctx_r24.currentScope$))("filters",ctx_r24.filtersRD$.asObservable())("refreshFilters",ctx_r24.refreshFilters)("resultCount",null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,15,ctx_r24.resultsRD$))?null:tmp_5_0.payload.totalElements)("searchOptions",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,17,ctx_r24.searchOptions$))("sortOptionsList",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,19,ctx_r24.sortOptionsList$))("currentSortOption",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(6,21,ctx_r24.currentSortOptions$))("viewModeList",ctx_r24.viewModeList)("showViewModes",ctx_r24.showViewModes)}}function SearchComponent_ng_template_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template,7,24,"ds-themed-search-sidebar",18),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template,7,23,"ds-themed-search-sidebar",19),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async")),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,2,ctx_r6.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,4,ctx_r6.isXsOrSm$))}}function SearchComponent_ng_template_10_ds_themed_search_form_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-themed-search-form",26),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"translate")),2&rf){const ctx_r32=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);let tmp_0_0,tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("query",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,6,ctx_r32.searchOptions$))?null:tmp_0_0.query)("scope",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,8,ctx_r32.searchOptions$))?null:tmp_1_0.scope)("currentUrl",ctx_r32.searchLink)("showScopeSelector",ctx_r32.showScopeSelector)("inPlaceSearch",ctx_r32.inPlaceSearch)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,10,ctx_r32.searchFormPlaceholder))}}function SearchComponent_ng_template_10_ds_search_labels_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-search-labels",27),2&rf){const ctx_r33=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("inPlaceSearch",ctx_r33.inPlaceSearch)}}function SearchComponent_ng_template_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_ng_template_10_ds_themed_search_form_0_Template,4,12,"ds-themed-search-form",22),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(1,"div",23)(2,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,SearchComponent_ng_template_10_ds_search_labels_3_Template,1,1,"ds-search-labels",25),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()),2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx_r8.searchEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx_r8.searchEnabled)}}__name(SearchComponent_div_0_3_ng_template_0_Template,"SearchComponent_div_0_3_ng_template_0_Template"),__name(SearchComponent_div_0_3_Template,"SearchComponent_div_0_3_Template"),__name(SearchComponent_div_0_Template,"SearchComponent_div_0_Template"),__name(SearchComponent_div_2_1_ng_template_0_Template,"SearchComponent_div_2_1_ng_template_0_Template"),__name(SearchComponent_div_2_1_Template,"SearchComponent_div_2_1_Template"),__name(SearchComponent_div_2_Template,"SearchComponent_div_2_Template"),__name(SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template,"SearchComponent_ds_page_with_sidebar_4_1_ng_template_0_Template"),__name(SearchComponent_ds_page_with_sidebar_4_1_Template,"SearchComponent_ds_page_with_sidebar_4_1_Template"),__name(SearchComponent_ds_page_with_sidebar_4_Template,"SearchComponent_ds_page_with_sidebar_4_Template"),__name(SearchComponent_ng_template_6_div_1_1_ng_template_0_Template,"SearchComponent_ng_template_6_div_1_1_ng_template_0_Template"),__name(SearchComponent_ng_template_6_div_1_1_Template,"SearchComponent_ng_template_6_div_1_1_Template"),__name(SearchComponent_ng_template_6_div_1_Template,"SearchComponent_ng_template_6_div_1_Template"),__name(SearchComponent_ng_template_6_Template,"SearchComponent_ng_template_6_Template"),__name(SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template,"SearchComponent_ng_template_8_ds_themed_search_sidebar_0_Template"),__name(SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template,"SearchComponent_ng_template_8_ds_themed_search_sidebar_2_Template"),__name(SearchComponent_ng_template_8_Template,"SearchComponent_ng_template_8_Template"),__name(SearchComponent_ng_template_10_ds_themed_search_form_0_Template,"SearchComponent_ng_template_10_ds_themed_search_form_0_Template"),__name(SearchComponent_ng_template_10_ds_search_labels_3_Template,"SearchComponent_ng_template_10_ds_search_labels_3_Template"),__name(SearchComponent_ng_template_10_Template,"SearchComponent_ng_template_10_Template");const _c0=[[["","additionalSearchOptions",""]]];class SearchComponent{constructor(service,sidebarService,windowService,searchConfigService,routeService,router){this.service=service,this.sidebarService=sidebarService,this.windowService=windowService,this.searchConfigService=searchConfigService,this.routeService=routeService,this.router=router,this.configurationList=[],this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_9__._.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(""),this.currentContext$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.currentScope$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(""),this.currentSortOptions$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.filtersRD$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.resultsRD$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.searchOptions$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(null),this.sortOptionsList$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject([]),this.initialized$=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(!1),this.refreshFilters=new rxjs__WEBPACK_IMPORTED_MODULE_20__.BehaviorSubject(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_21__.Oo,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_22__.yu,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__.Ww],this.subs=[],this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){this.useUniquePageId&&(this.paginationId=lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const configuration$=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),searchSortOptions$=configuration$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.wt)(configuration=>this.searchConfigService.getConfigurationSearchConfig(configuration)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.UI)(searchConfig=>this.searchConfigService.getConfigurationSortOptions(searchConfig)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),sortOption$=searchSortOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.wt)(searchSortOptions=>{const defaultSort=searchSortOptions[0];return this.searchConfigService.getCurrentSort(this.paginationId,defaultSort)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)()),searchOptions$=this.getSearchOptions().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.xb)());this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.combineLatest)([configuration$,searchSortOptions$,searchOptions$,sortOption$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.hX)(([configuration,searchSortOptions,searchOptions,sortOption])=>searchOptions.pagination.id===this.paginationId),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.bh)(100)).subscribe(([configuration,searchSortOptions,searchOptions,sortOption])=>{const combinedOptions=Object.assign({},searchOptions,{configuration:searchOptions.configuration||configuration,sort:sortOption||searchOptions.sort});""===combinedOptions.query&&(combinedOptions.query=this.query);const newSearchOptions=new _models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_6__.t(combinedOptions);JSON.stringify(newSearchOptions)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(configuration),this.currentSortOptions$.next(newSearchOptions.sort),this.currentScope$.next(newSearchOptions.scope),this.sortOptionsList$.next(searchSortOptions),this.searchOptions$.next(newSearchOptions),this.initialized$.next(!0),this.retrieveSearchResults(newSearchOptions),this.retrieveFilters(searchOptions))})),this.subscribeToRoutingEvents()}changeContext(context){this.currentContext$.next(context)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange($event){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(searchOptions){this.filtersRD$.next(null),this.searchConfigService.getConfig(searchOptions.scope,searchOptions.configuration).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.hC)()).subscribe(filtersRD=>{this.filtersRD$.next(filtersRD)})}retrieveSearchResults(searchOptions){this.resultsRD$.next(null),this.lastSearchOptions=searchOptions;let followLinks=[(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("thumbnail",{isOptional:!0}),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("item",{isOptional:!0},(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("thumbnail",{isOptional:!0})),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("accessStatus",{isOptional:!0,shouldEmbed:src_environments_environment__WEBPACK_IMPORTED_MODULE_12__.N.item.showAccessStatuses})];"supervision"===this.configuration&&followLinks.push((0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_26__.l)("supervisionOrders",{isOptional:!0})),this.service.search(searchOptions,void 0,this.useCachedVersionIfAvailable,!0,...followLinks).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.hC)()).subscribe(results=>{results.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(searchOptions,results.payload),results.payload?.page?.length>0&&this.resultFound.emit(results.payload)),this.resultsRD$.next(results)})}subscribeToRoutingEvents(){this.subs.push(this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.hX)(event=>event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_27__.OD),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.UI)(event=>this.getDsoUUIDFromUrl(event.url)),(0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.tz)()).subscribe(uuid=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,uuid)}))}getDsoUUIDFromUrl(url){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_24__.UE)(url)&&this.allowedObjectPaths.some(path=>url.startsWith(`/${path}`))){const uuid=url.substring(url.lastIndexOf("/")+1);if(uuid.match(this.uuidRegex))return uuid}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,_utils_route_utils__WEBPACK_IMPORTED_MODULE_28__.T)(this.router):this.service.getSearchLink()}}__name(SearchComponent,"SearchComponent"),SearchComponent.\u0275fac=__name(function(t){return new(t||SearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_8__.o),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_3__.P),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_host_window_service__WEBPACK_IMPORTED_MODULE_2__.I),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_5__.SEARCH_CONFIG_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_4__.MZ),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_27__.F0))},"SearchComponent_Factory"),SearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.Xpm({type:SearchComponent,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},ngContentSelectors:["[additionalSearchOptions]"],decls:12,vars:9,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sidebarContent",4,"ngIf"],["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder",4,"ngIf"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-sm-9"],[3,"inPlaceSearch",4,"ngIf"],["id","search-form",3,"query","scope","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[3,"inPlaceSearch"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(0,SearchComponent_div_0_Template,4,1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,SearchComponent_div_2_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(4,SearchComponent_ds_page_with_sidebar_4_Template,2,3,"ds-page-with-sidebar",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(6,SearchComponent_ng_template_6_Template,15,26,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(8,SearchComponent_ng_template_8_Template,4,6,"ng-template",null,4,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(10,SearchComponent_ng_template_10_Template,4,2,"ng-template",null,5,_angular_core__WEBPACK_IMPORTED_MODULE_19__.W1O)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,3,ctx.isXsOrSm$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(3,5,ctx.initialized$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",ctx.showSidebar&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(5,7,ctx.initialized$)))},"SearchComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_29__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_29__.tP,_search_form_themed_search_form_component__WEBPACK_IMPORTED_MODULE_13__.p,_sidebar_page_with_sidebar_component__WEBPACK_IMPORTED_MODULE_14__.R,_view_mode_switch_view_mode_switch_component__WEBPACK_IMPORTED_MODULE_15__.$,_search_labels_search_labels_component__WEBPACK_IMPORTED_MODULE_16__.B,_search_results_themed_search_results_component__WEBPACK_IMPORTED_MODULE_17__.g,_search_sidebar_themed_search_sidebar_component__WEBPACK_IMPORTED_MODULE_18__.H,_angular_common__WEBPACK_IMPORTED_MODULE_29__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_30__.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[_animations_push__WEBPACK_IMPORTED_MODULE_1__.z]},changeDetection:0})},40738:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MD:()=>getFacetValueForType,RD:()=>stripOperatorFromFilterValue,XC:()=>addOperatorToFilterValue});var _empty_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59501);function getFacetValueForType(facetValue,searchFilterConfig){const regex=new RegExp(`[?|&]${escapeRegExp(encodeURIComponent(searchFilterConfig.paramName))}=(${escapeRegExp(encodeURIComponent(facetValue.value))}[^&]*)`,"g");if((0,_empty_util__WEBPACK_IMPORTED_MODULE_0__.UE)(facetValue._links)){const values=regex.exec(facetValue._links.search.href);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_0__.UE)(values))return decodeURIComponent(values[1])}return facetValue.authorityKey?addOperatorToFilterValue(facetValue.authorityKey,"authority"):addOperatorToFilterValue(facetValue.value,"equals")}function escapeRegExp(input){return input.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function stripOperatorFromFilterValue(value){return value.match(new RegExp(".+,(equals|query|authority)$"))?value.substring(0,value.lastIndexOf(",")):value}function addOperatorToFilterValue(value,operator){return value.match(new RegExp("^.+,(equals|query|authority)$"))?value:`${value},${operator}`}__name(getFacetValueForType,"getFacetValueForType"),__name(escapeRegExp,"escapeRegExp"),__name(stripOperatorFromFilterValue,"stripOperatorFromFilterValue"),__name(addOperatorToFilterValue,"addOperatorToFilterValue")},7403:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-results/search-results.component":[35839,5839]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=7403,module.exports=webpackAsyncContext},32874:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[91799,1799]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=32874,module.exports=webpackAsyncContext}};